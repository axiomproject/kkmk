var Qme=Object.defineProperty;var TB=e=>{throw TypeError(e)};var Jme=(e,t,n)=>t in e?Qme(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Mt=(e,t,n)=>Jme(e,typeof t!="symbol"?t+"":t,n),XP=(e,t,n)=>t.has(e)||TB("Cannot "+n);var ht=(e,t,n)=>(XP(e,t,"read from private field"),n?n.call(e):t.get(e)),dr=(e,t,n)=>t.has(e)?TB("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Dn=(e,t,n,r)=>(XP(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),no=(e,t,n)=>(XP(e,t,"access private method"),n);var F2=(e,t,n,r)=>({set _(a){Dn(e,t,a,n)},get _(){return ht(e,t,r)}});function CQ(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(r,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();var Pg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function sr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Mkt(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var a=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,a.get?a:{enumerable:!0,get:function(){return e[r]}})}),n}var EQ={exports:{}},xk={},NQ={exports:{}},Zn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pw=Symbol.for("react.element"),ege=Symbol.for("react.portal"),tge=Symbol.for("react.fragment"),nge=Symbol.for("react.strict_mode"),rge=Symbol.for("react.profiler"),age=Symbol.for("react.provider"),ige=Symbol.for("react.context"),oge=Symbol.for("react.forward_ref"),sge=Symbol.for("react.suspense"),lge=Symbol.for("react.memo"),cge=Symbol.for("react.lazy"),PB=Symbol.iterator;function uge(e){return e===null||typeof e!="object"?null:(e=PB&&e[PB]||e["@@iterator"],typeof e=="function"?e:null)}var kQ={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},jQ=Object.assign,TQ={};function z0(e,t,n){this.props=e,this.context=t,this.refs=TQ,this.updater=n||kQ}z0.prototype.isReactComponent={};z0.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};z0.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function PQ(){}PQ.prototype=z0.prototype;function UR(e,t,n){this.props=e,this.context=t,this.refs=TQ,this.updater=n||kQ}var WR=UR.prototype=new PQ;WR.constructor=UR;jQ(WR,z0.prototype);WR.isPureReactComponent=!0;var AB=Array.isArray,AQ=Object.prototype.hasOwnProperty,VR={current:null},DQ={key:!0,ref:!0,__self:!0,__source:!0};function OQ(e,t,n){var r,a={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)AQ.call(t,r)&&!DQ.hasOwnProperty(r)&&(a[r]=t[r]);var s=arguments.length-2;if(s===1)a.children=n;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];a.children=l}if(e&&e.defaultProps)for(r in s=e.defaultProps,s)a[r]===void 0&&(a[r]=s[r]);return{$$typeof:Pw,type:e,key:i,ref:o,props:a,_owner:VR.current}}function dge(e,t){return{$$typeof:Pw,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function HR(e){return typeof e=="object"&&e!==null&&e.$$typeof===Pw}function fge(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var DB=/\/+/g;function ZP(e,t){return typeof e=="object"&&e!==null&&e.key!=null?fge(""+e.key):t.toString(36)}function NS(e,t,n,r,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Pw:case ege:o=!0}}if(o)return o=e,a=a(o),e=r===""?"."+ZP(o,0):r,AB(a)?(n="",e!=null&&(n=e.replace(DB,"$&/")+"/"),NS(a,t,n,"",function(u){return u})):a!=null&&(HR(a)&&(a=dge(a,n+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(DB,"$&/")+"/")+e)),t.push(a)),1;if(o=0,r=r===""?".":r+":",AB(e))for(var s=0;s<e.length;s++){i=e[s];var l=r+ZP(i,s);o+=NS(i,t,n,l,a)}else if(l=uge(e),typeof l=="function")for(e=l.call(e),s=0;!(i=e.next()).done;)i=i.value,l=r+ZP(i,s++),o+=NS(i,t,n,l,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function L2(e,t,n){if(e==null)return e;var r=[],a=0;return NS(e,r,"","",function(i){return t.call(n,i,a++)}),r}function hge(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var zo={current:null},kS={transition:null},pge={ReactCurrentDispatcher:zo,ReactCurrentBatchConfig:kS,ReactCurrentOwner:VR};function MQ(){throw Error("act(...) is not supported in production builds of React.")}Zn.Children={map:L2,forEach:function(e,t,n){L2(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return L2(e,function(){t++}),t},toArray:function(e){return L2(e,function(t){return t})||[]},only:function(e){if(!HR(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Zn.Component=z0;Zn.Fragment=tge;Zn.Profiler=rge;Zn.PureComponent=UR;Zn.StrictMode=nge;Zn.Suspense=sge;Zn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pge;Zn.act=MQ;Zn.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=jQ({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=VR.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)AQ.call(t,l)&&!DQ.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&s!==void 0?s[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:Pw,type:e.type,key:a,ref:i,props:r,_owner:o}};Zn.createContext=function(e){return e={$$typeof:ige,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:age,_context:e},e.Consumer=e};Zn.createElement=OQ;Zn.createFactory=function(e){var t=OQ.bind(null,e);return t.type=e,t};Zn.createRef=function(){return{current:null}};Zn.forwardRef=function(e){return{$$typeof:oge,render:e}};Zn.isValidElement=HR;Zn.lazy=function(e){return{$$typeof:cge,_payload:{_status:-1,_result:e},_init:hge}};Zn.memo=function(e,t){return{$$typeof:lge,type:e,compare:t===void 0?null:t}};Zn.startTransition=function(e){var t=kS.transition;kS.transition={};try{e()}finally{kS.transition=t}};Zn.unstable_act=MQ;Zn.useCallback=function(e,t){return zo.current.useCallback(e,t)};Zn.useContext=function(e){return zo.current.useContext(e)};Zn.useDebugValue=function(){};Zn.useDeferredValue=function(e){return zo.current.useDeferredValue(e)};Zn.useEffect=function(e,t){return zo.current.useEffect(e,t)};Zn.useId=function(){return zo.current.useId()};Zn.useImperativeHandle=function(e,t,n){return zo.current.useImperativeHandle(e,t,n)};Zn.useInsertionEffect=function(e,t){return zo.current.useInsertionEffect(e,t)};Zn.useLayoutEffect=function(e,t){return zo.current.useLayoutEffect(e,t)};Zn.useMemo=function(e,t){return zo.current.useMemo(e,t)};Zn.useReducer=function(e,t,n){return zo.current.useReducer(e,t,n)};Zn.useRef=function(e){return zo.current.useRef(e)};Zn.useState=function(e){return zo.current.useState(e)};Zn.useSyncExternalStore=function(e,t,n){return zo.current.useSyncExternalStore(e,t,n)};Zn.useTransition=function(){return zo.current.useTransition()};Zn.version="18.3.1";NQ.exports=Zn;var E=NQ.exports;const le=sr(E),pC=CQ({__proto__:null,default:le},[E]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mge=E,gge=Symbol.for("react.element"),vge=Symbol.for("react.fragment"),yge=Object.prototype.hasOwnProperty,xge=mge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,bge={key:!0,ref:!0,__self:!0,__source:!0};function IQ(e,t,n){var r,a={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)yge.call(t,r)&&!bge.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)a[r]===void 0&&(a[r]=t[r]);return{$$typeof:gge,type:e,key:i,ref:o,props:a,_owner:xge.current}}xk.Fragment=vge;xk.jsx=IQ;xk.jsxs=IQ;EQ.exports=xk;var c=EQ.exports,iO={},RQ={exports:{}},Ws={},FQ={exports:{}},LQ={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(I,O){var H=I.length;I.push(O);e:for(;0<H;){var ne=H-1>>>1,z=I[ne];if(0<a(z,O))I[ne]=O,I[H]=z,H=ne;else break e}}function n(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var O=I[0],H=I.pop();if(H!==O){I[0]=H;e:for(var ne=0,z=I.length,J=z>>>1;ne<J;){var ee=2*(ne+1)-1,G=I[ee],Z=ee+1,se=I[Z];if(0>a(G,H))Z<z&&0>a(se,G)?(I[ne]=se,I[Z]=H,ne=Z):(I[ne]=G,I[ee]=H,ne=ee);else if(Z<z&&0>a(se,H))I[ne]=se,I[Z]=H,ne=Z;else break e}}return O}function a(I,O){var H=I.sortIndex-O.sortIndex;return H!==0?H:I.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var l=[],u=[],d=1,f=null,h=3,p=!1,m=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(I){for(var O=n(u);O!==null;){if(O.callback===null)r(u);else if(O.startTime<=I)r(u),O.sortIndex=O.expirationTime,t(l,O);else break;O=n(u)}}function _(I){if(g=!1,w(I),!m)if(n(l)!==null)m=!0,V(S);else{var O=n(u);O!==null&&q(_,O.startTime-I)}}function S(I,O){m=!1,g&&(g=!1,x(P),P=-1),p=!0;var H=h;try{for(w(O),f=n(l);f!==null&&(!(f.expirationTime>O)||I&&!D());){var ne=f.callback;if(typeof ne=="function"){f.callback=null,h=f.priorityLevel;var z=ne(f.expirationTime<=O);O=e.unstable_now(),typeof z=="function"?f.callback=z:f===n(l)&&r(l),w(O)}else r(l);f=n(l)}if(f!==null)var J=!0;else{var ee=n(u);ee!==null&&q(_,ee.startTime-O),J=!1}return J}finally{f=null,h=H,p=!1}}var k=!1,N=null,P=-1,T=5,j=-1;function D(){return!(e.unstable_now()-j<T)}function M(){if(N!==null){var I=e.unstable_now();j=I;var O=!0;try{O=N(!0,I)}finally{O?R():(k=!1,N=null)}}else k=!1}var R;if(typeof b=="function")R=function(){b(M)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,B=W.port2;W.port1.onmessage=M,R=function(){B.postMessage(null)}}else R=function(){y(M,0)};function V(I){N=I,k||(k=!0,R())}function q(I,O){P=y(function(){I(e.unstable_now())},O)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){m||p||(m=!0,V(S))},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(I){switch(h){case 1:case 2:case 3:var O=3;break;default:O=h}var H=h;h=O;try{return I()}finally{h=H}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,O){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var H=h;h=I;try{return O()}finally{h=H}},e.unstable_scheduleCallback=function(I,O,H){var ne=e.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?ne+H:ne):H=ne,I){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=H+z,I={id:d++,callback:O,priorityLevel:I,startTime:H,expirationTime:z,sortIndex:-1},H>ne?(I.sortIndex=H,t(u,I),n(l)===null&&I===n(u)&&(g?(x(P),P=-1):g=!0,q(_,H-ne))):(I.sortIndex=z,t(l,I),m||p||(m=!0,V(S))),I},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(I){var O=h;return function(){var H=h;h=O;try{return I.apply(this,arguments)}finally{h=H}}}})(LQ);FQ.exports=LQ;var wge=FQ.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _ge=E,Ls=wge;function Pt(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var $Q=new Set,O1={};function Nm(e,t){Lv(e,t),Lv(e+"Capture",t)}function Lv(e,t){for(O1[e]=t,e=0;e<t.length;e++)$Q.add(t[e])}var wd=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),oO=Object.prototype.hasOwnProperty,Sge=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,OB={},MB={};function Cge(e){return oO.call(MB,e)?!0:oO.call(OB,e)?!1:Sge.test(e)?MB[e]=!0:(OB[e]=!0,!1)}function Ege(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Nge(e,t,n,r){if(t===null||typeof t>"u"||Ege(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Uo(e,t,n,r,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var eo={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){eo[e]=new Uo(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];eo[t]=new Uo(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){eo[e]=new Uo(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){eo[e]=new Uo(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){eo[e]=new Uo(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){eo[e]=new Uo(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){eo[e]=new Uo(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){eo[e]=new Uo(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){eo[e]=new Uo(e,5,!1,e.toLowerCase(),null,!1,!1)});var qR=/[\-:]([a-z])/g;function GR(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(qR,GR);eo[t]=new Uo(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(qR,GR);eo[t]=new Uo(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(qR,GR);eo[t]=new Uo(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){eo[e]=new Uo(e,1,!1,e.toLowerCase(),null,!1,!1)});eo.xlinkHref=new Uo("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){eo[e]=new Uo(e,1,!1,e.toLowerCase(),null,!0,!0)});function YR(e,t,n,r){var a=eo.hasOwnProperty(t)?eo[t]:null;(a!==null?a.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Nge(t,n,a,r)&&(n=null),r||a===null?Cge(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=n===null?a.type===3?!1:"":n:(t=a.attributeName,r=a.attributeNamespace,n===null?e.removeAttribute(t):(a=a.type,n=a===3||a===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var $d=_ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$2=Symbol.for("react.element"),Ag=Symbol.for("react.portal"),Dg=Symbol.for("react.fragment"),KR=Symbol.for("react.strict_mode"),sO=Symbol.for("react.profiler"),BQ=Symbol.for("react.provider"),zQ=Symbol.for("react.context"),XR=Symbol.for("react.forward_ref"),lO=Symbol.for("react.suspense"),cO=Symbol.for("react.suspense_list"),ZR=Symbol.for("react.memo"),gf=Symbol.for("react.lazy"),UQ=Symbol.for("react.offscreen"),IB=Symbol.iterator;function ky(e){return e===null||typeof e!="object"?null:(e=IB&&e[IB]||e["@@iterator"],typeof e=="function"?e:null)}var Ea=Object.assign,QP;function gx(e){if(QP===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);QP=t&&t[1]||""}return`
`+QP+e}var JP=!1;function eA(e,t){if(!e||JP)return"";JP=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),i=r.stack.split(`
`),o=a.length-1,s=i.length-1;1<=o&&0<=s&&a[o]!==i[s];)s--;for(;1<=o&&0<=s;o--,s--)if(a[o]!==i[s]){if(o!==1||s!==1)do if(o--,s--,0>s||a[o]!==i[s]){var l=`
`+a[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=s);break}}}finally{JP=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?gx(e):""}function kge(e){switch(e.tag){case 5:return gx(e.type);case 16:return gx("Lazy");case 13:return gx("Suspense");case 19:return gx("SuspenseList");case 0:case 2:case 15:return e=eA(e.type,!1),e;case 11:return e=eA(e.type.render,!1),e;case 1:return e=eA(e.type,!0),e;default:return""}}function uO(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Dg:return"Fragment";case Ag:return"Portal";case sO:return"Profiler";case KR:return"StrictMode";case lO:return"Suspense";case cO:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case zQ:return(e.displayName||"Context")+".Consumer";case BQ:return(e._context.displayName||"Context")+".Provider";case XR:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ZR:return t=e.displayName||null,t!==null?t:uO(e.type)||"Memo";case gf:t=e._payload,e=e._init;try{return uO(e(t))}catch{}}return null}function jge(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return uO(t);case 8:return t===KR?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function sh(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function WQ(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Tge(e){var t=WQ(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function B2(e){e._valueTracker||(e._valueTracker=Tge(e))}function VQ(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=WQ(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function mC(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function dO(e,t){var n=t.checked;return Ea({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function RB(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=sh(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function HQ(e,t){t=t.checked,t!=null&&YR(e,"checked",t,!1)}function fO(e,t){HQ(e,t);var n=sh(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?hO(e,t.type,n):t.hasOwnProperty("defaultValue")&&hO(e,t.type,sh(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function FB(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function hO(e,t,n){(t!=="number"||mC(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var vx=Array.isArray;function av(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+sh(n),t=null,a=0;a<e.length;a++){if(e[a].value===n){e[a].selected=!0,r&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function pO(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Pt(91));return Ea({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function LB(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Pt(92));if(vx(n)){if(1<n.length)throw Error(Pt(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:sh(n)}}function qQ(e,t){var n=sh(t.value),r=sh(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function $B(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function GQ(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function mO(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?GQ(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var z2,YQ=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,a){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(z2=z2||document.createElement("div"),z2.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=z2.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function M1(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Lx={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Pge=["Webkit","ms","Moz","O"];Object.keys(Lx).forEach(function(e){Pge.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Lx[t]=Lx[e]})});function KQ(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Lx.hasOwnProperty(e)&&Lx[e]?(""+t).trim():t+"px"}function XQ(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,a=KQ(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}var Age=Ea({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gO(e,t){if(t){if(Age[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Pt(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Pt(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Pt(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Pt(62))}}function vO(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yO=null;function QR(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var xO=null,iv=null,ov=null;function BB(e){if(e=Ow(e)){if(typeof xO!="function")throw Error(Pt(280));var t=e.stateNode;t&&(t=Ck(t),xO(e.stateNode,e.type,t))}}function ZQ(e){iv?ov?ov.push(e):ov=[e]:iv=e}function QQ(){if(iv){var e=iv,t=ov;if(ov=iv=null,BB(e),t)for(e=0;e<t.length;e++)BB(t[e])}}function JQ(e,t){return e(t)}function eJ(){}var tA=!1;function tJ(e,t,n){if(tA)return e(t,n);tA=!0;try{return JQ(e,t,n)}finally{tA=!1,(iv!==null||ov!==null)&&(eJ(),QQ())}}function I1(e,t){var n=e.stateNode;if(n===null)return null;var r=Ck(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Pt(231,t,typeof n));return n}var bO=!1;if(wd)try{var jy={};Object.defineProperty(jy,"passive",{get:function(){bO=!0}}),window.addEventListener("test",jy,jy),window.removeEventListener("test",jy,jy)}catch{bO=!1}function Dge(e,t,n,r,a,i,o,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var $x=!1,gC=null,vC=!1,wO=null,Oge={onError:function(e){$x=!0,gC=e}};function Mge(e,t,n,r,a,i,o,s,l){$x=!1,gC=null,Dge.apply(Oge,arguments)}function Ige(e,t,n,r,a,i,o,s,l){if(Mge.apply(this,arguments),$x){if($x){var u=gC;$x=!1,gC=null}else throw Error(Pt(198));vC||(vC=!0,wO=u)}}function km(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function nJ(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function zB(e){if(km(e)!==e)throw Error(Pt(188))}function Rge(e){var t=e.alternate;if(!t){if(t=km(e),t===null)throw Error(Pt(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(a===null)break;var i=a.alternate;if(i===null){if(r=a.return,r!==null){n=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return zB(a),e;if(i===r)return zB(a),t;i=i.sibling}throw Error(Pt(188))}if(n.return!==r.return)n=a,r=i;else{for(var o=!1,s=a.child;s;){if(s===n){o=!0,n=a,r=i;break}if(s===r){o=!0,r=a,n=i;break}s=s.sibling}if(!o){for(s=i.child;s;){if(s===n){o=!0,n=i,r=a;break}if(s===r){o=!0,r=i,n=a;break}s=s.sibling}if(!o)throw Error(Pt(189))}}if(n.alternate!==r)throw Error(Pt(190))}if(n.tag!==3)throw Error(Pt(188));return n.stateNode.current===n?e:t}function rJ(e){return e=Rge(e),e!==null?aJ(e):null}function aJ(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=aJ(e);if(t!==null)return t;e=e.sibling}return null}var iJ=Ls.unstable_scheduleCallback,UB=Ls.unstable_cancelCallback,Fge=Ls.unstable_shouldYield,Lge=Ls.unstable_requestPaint,Ua=Ls.unstable_now,$ge=Ls.unstable_getCurrentPriorityLevel,JR=Ls.unstable_ImmediatePriority,oJ=Ls.unstable_UserBlockingPriority,yC=Ls.unstable_NormalPriority,Bge=Ls.unstable_LowPriority,sJ=Ls.unstable_IdlePriority,bk=null,uu=null;function zge(e){if(uu&&typeof uu.onCommitFiberRoot=="function")try{uu.onCommitFiberRoot(bk,e,void 0,(e.current.flags&128)===128)}catch{}}var fc=Math.clz32?Math.clz32:Vge,Uge=Math.log,Wge=Math.LN2;function Vge(e){return e>>>=0,e===0?32:31-(Uge(e)/Wge|0)|0}var U2=64,W2=4194304;function yx(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function xC(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,a=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var s=o&~a;s!==0?r=yx(s):(i&=o,i!==0&&(r=yx(i)))}else o=n&~a,o!==0?r=yx(o):i!==0&&(r=yx(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&a)&&(a=r&-r,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-fc(t),a=1<<n,r|=e[n],t&=~a;return r}function Hge(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qge(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-fc(i),s=1<<o,l=a[o];l===-1?(!(s&n)||s&r)&&(a[o]=Hge(s,t)):l<=t&&(e.expiredLanes|=s),i&=~s}}function _O(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function lJ(){var e=U2;return U2<<=1,!(U2&4194240)&&(U2=64),e}function nA(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Aw(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-fc(t),e[t]=n}function Gge(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-fc(n),i=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~i}}function eF(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-fc(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var Tr=0;function cJ(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var uJ,tF,dJ,fJ,hJ,SO=!1,V2=[],Vf=null,Hf=null,qf=null,R1=new Map,F1=new Map,wf=[],Yge="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function WB(e,t){switch(e){case"focusin":case"focusout":Vf=null;break;case"dragenter":case"dragleave":Hf=null;break;case"mouseover":case"mouseout":qf=null;break;case"pointerover":case"pointerout":R1.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":F1.delete(t.pointerId)}}function Ty(e,t,n,r,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[a]},t!==null&&(t=Ow(t),t!==null&&tF(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function Kge(e,t,n,r,a){switch(t){case"focusin":return Vf=Ty(Vf,e,t,n,r,a),!0;case"dragenter":return Hf=Ty(Hf,e,t,n,r,a),!0;case"mouseover":return qf=Ty(qf,e,t,n,r,a),!0;case"pointerover":var i=a.pointerId;return R1.set(i,Ty(R1.get(i)||null,e,t,n,r,a)),!0;case"gotpointercapture":return i=a.pointerId,F1.set(i,Ty(F1.get(i)||null,e,t,n,r,a)),!0}return!1}function pJ(e){var t=wp(e.target);if(t!==null){var n=km(t);if(n!==null){if(t=n.tag,t===13){if(t=nJ(n),t!==null){e.blockedOn=t,hJ(e.priority,function(){dJ(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function jS(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=CO(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);yO=r,n.target.dispatchEvent(r),yO=null}else return t=Ow(n),t!==null&&tF(t),e.blockedOn=n,!1;t.shift()}return!0}function VB(e,t,n){jS(e)&&n.delete(t)}function Xge(){SO=!1,Vf!==null&&jS(Vf)&&(Vf=null),Hf!==null&&jS(Hf)&&(Hf=null),qf!==null&&jS(qf)&&(qf=null),R1.forEach(VB),F1.forEach(VB)}function Py(e,t){e.blockedOn===t&&(e.blockedOn=null,SO||(SO=!0,Ls.unstable_scheduleCallback(Ls.unstable_NormalPriority,Xge)))}function L1(e){function t(a){return Py(a,e)}if(0<V2.length){Py(V2[0],e);for(var n=1;n<V2.length;n++){var r=V2[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Vf!==null&&Py(Vf,e),Hf!==null&&Py(Hf,e),qf!==null&&Py(qf,e),R1.forEach(t),F1.forEach(t),n=0;n<wf.length;n++)r=wf[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<wf.length&&(n=wf[0],n.blockedOn===null);)pJ(n),n.blockedOn===null&&wf.shift()}var sv=$d.ReactCurrentBatchConfig,bC=!0;function Zge(e,t,n,r){var a=Tr,i=sv.transition;sv.transition=null;try{Tr=1,nF(e,t,n,r)}finally{Tr=a,sv.transition=i}}function Qge(e,t,n,r){var a=Tr,i=sv.transition;sv.transition=null;try{Tr=4,nF(e,t,n,r)}finally{Tr=a,sv.transition=i}}function nF(e,t,n,r){if(bC){var a=CO(e,t,n,r);if(a===null)fA(e,t,r,wC,n),WB(e,r);else if(Kge(a,e,t,n,r))r.stopPropagation();else if(WB(e,r),t&4&&-1<Yge.indexOf(e)){for(;a!==null;){var i=Ow(a);if(i!==null&&uJ(i),i=CO(e,t,n,r),i===null&&fA(e,t,r,wC,n),i===a)break;a=i}a!==null&&r.stopPropagation()}else fA(e,t,r,null,n)}}var wC=null;function CO(e,t,n,r){if(wC=null,e=QR(r),e=wp(e),e!==null)if(t=km(e),t===null)e=null;else if(n=t.tag,n===13){if(e=nJ(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return wC=e,null}function mJ(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($ge()){case JR:return 1;case oJ:return 4;case yC:case Bge:return 16;case sJ:return 536870912;default:return 16}default:return 16}}var jf=null,rF=null,TS=null;function gJ(){if(TS)return TS;var e,t=rF,n=t.length,r,a="value"in jf?jf.value:jf.textContent,i=a.length;for(e=0;e<n&&t[e]===a[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===a[i-r];r++);return TS=a.slice(e,1<r?1-r:void 0)}function PS(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function H2(){return!0}function HB(){return!1}function Vs(e){function t(n,r,a,i,o){this._reactName=n,this._targetInst=a,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(n=e[s],this[s]=n?n(i):i[s]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?H2:HB,this.isPropagationStopped=HB,this}return Ea(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=H2)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=H2)},persist:function(){},isPersistent:H2}),t}var U0={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},aF=Vs(U0),Dw=Ea({},U0,{view:0,detail:0}),Jge=Vs(Dw),rA,aA,Ay,wk=Ea({},Dw,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:iF,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ay&&(Ay&&e.type==="mousemove"?(rA=e.screenX-Ay.screenX,aA=e.screenY-Ay.screenY):aA=rA=0,Ay=e),rA)},movementY:function(e){return"movementY"in e?e.movementY:aA}}),qB=Vs(wk),eve=Ea({},wk,{dataTransfer:0}),tve=Vs(eve),nve=Ea({},Dw,{relatedTarget:0}),iA=Vs(nve),rve=Ea({},U0,{animationName:0,elapsedTime:0,pseudoElement:0}),ave=Vs(rve),ive=Ea({},U0,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ove=Vs(ive),sve=Ea({},U0,{data:0}),GB=Vs(sve),lve={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cve={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uve={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dve(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=uve[e])?!!t[e]:!1}function iF(){return dve}var fve=Ea({},Dw,{key:function(e){if(e.key){var t=lve[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=PS(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?cve[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:iF,charCode:function(e){return e.type==="keypress"?PS(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?PS(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),hve=Vs(fve),pve=Ea({},wk,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),YB=Vs(pve),mve=Ea({},Dw,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:iF}),gve=Vs(mve),vve=Ea({},U0,{propertyName:0,elapsedTime:0,pseudoElement:0}),yve=Vs(vve),xve=Ea({},wk,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),bve=Vs(xve),wve=[9,13,27,32],oF=wd&&"CompositionEvent"in window,Bx=null;wd&&"documentMode"in document&&(Bx=document.documentMode);var _ve=wd&&"TextEvent"in window&&!Bx,vJ=wd&&(!oF||Bx&&8<Bx&&11>=Bx),KB=" ",XB=!1;function yJ(e,t){switch(e){case"keyup":return wve.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xJ(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Og=!1;function Sve(e,t){switch(e){case"compositionend":return xJ(t);case"keypress":return t.which!==32?null:(XB=!0,KB);case"textInput":return e=t.data,e===KB&&XB?null:e;default:return null}}function Cve(e,t){if(Og)return e==="compositionend"||!oF&&yJ(e,t)?(e=gJ(),TS=rF=jf=null,Og=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return vJ&&t.locale!=="ko"?null:t.data;default:return null}}var Eve={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ZB(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Eve[e.type]:t==="textarea"}function bJ(e,t,n,r){ZQ(r),t=_C(t,"onChange"),0<t.length&&(n=new aF("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var zx=null,$1=null;function Nve(e){AJ(e,0)}function _k(e){var t=Rg(e);if(VQ(t))return e}function kve(e,t){if(e==="change")return t}var wJ=!1;if(wd){var oA;if(wd){var sA="oninput"in document;if(!sA){var QB=document.createElement("div");QB.setAttribute("oninput","return;"),sA=typeof QB.oninput=="function"}oA=sA}else oA=!1;wJ=oA&&(!document.documentMode||9<document.documentMode)}function JB(){zx&&(zx.detachEvent("onpropertychange",_J),$1=zx=null)}function _J(e){if(e.propertyName==="value"&&_k($1)){var t=[];bJ(t,$1,e,QR(e)),tJ(Nve,t)}}function jve(e,t,n){e==="focusin"?(JB(),zx=t,$1=n,zx.attachEvent("onpropertychange",_J)):e==="focusout"&&JB()}function Tve(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return _k($1)}function Pve(e,t){if(e==="click")return _k(t)}function Ave(e,t){if(e==="input"||e==="change")return _k(t)}function Dve(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var xc=typeof Object.is=="function"?Object.is:Dve;function B1(e,t){if(xc(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!oO.call(t,a)||!xc(e[a],t[a]))return!1}return!0}function e7(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function t7(e,t){var n=e7(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=e7(n)}}function SJ(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?SJ(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function CJ(){for(var e=window,t=mC();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=mC(e.document)}return t}function sF(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Ove(e){var t=CJ(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&SJ(n.ownerDocument.documentElement,n)){if(r!==null&&sF(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=n.textContent.length,i=Math.min(r.start,a);r=r.end===void 0?i:Math.min(r.end,a),!e.extend&&i>r&&(a=r,r=i,i=a),a=t7(n,i);var o=t7(n,r);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Mve=wd&&"documentMode"in document&&11>=document.documentMode,Mg=null,EO=null,Ux=null,NO=!1;function n7(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;NO||Mg==null||Mg!==mC(r)||(r=Mg,"selectionStart"in r&&sF(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ux&&B1(Ux,r)||(Ux=r,r=_C(EO,"onSelect"),0<r.length&&(t=new aF("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Mg)))}function q2(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ig={animationend:q2("Animation","AnimationEnd"),animationiteration:q2("Animation","AnimationIteration"),animationstart:q2("Animation","AnimationStart"),transitionend:q2("Transition","TransitionEnd")},lA={},EJ={};wd&&(EJ=document.createElement("div").style,"AnimationEvent"in window||(delete Ig.animationend.animation,delete Ig.animationiteration.animation,delete Ig.animationstart.animation),"TransitionEvent"in window||delete Ig.transitionend.transition);function Sk(e){if(lA[e])return lA[e];if(!Ig[e])return e;var t=Ig[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in EJ)return lA[e]=t[n];return e}var NJ=Sk("animationend"),kJ=Sk("animationiteration"),jJ=Sk("animationstart"),TJ=Sk("transitionend"),PJ=new Map,r7="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ch(e,t){PJ.set(e,t),Nm(t,[e])}for(var cA=0;cA<r7.length;cA++){var uA=r7[cA],Ive=uA.toLowerCase(),Rve=uA[0].toUpperCase()+uA.slice(1);Ch(Ive,"on"+Rve)}Ch(NJ,"onAnimationEnd");Ch(kJ,"onAnimationIteration");Ch(jJ,"onAnimationStart");Ch("dblclick","onDoubleClick");Ch("focusin","onFocus");Ch("focusout","onBlur");Ch(TJ,"onTransitionEnd");Lv("onMouseEnter",["mouseout","mouseover"]);Lv("onMouseLeave",["mouseout","mouseover"]);Lv("onPointerEnter",["pointerout","pointerover"]);Lv("onPointerLeave",["pointerout","pointerover"]);Nm("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Nm("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Nm("onBeforeInput",["compositionend","keypress","textInput","paste"]);Nm("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Nm("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Nm("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xx="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fve=new Set("cancel close invalid load scroll toggle".split(" ").concat(xx));function a7(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Ige(r,t,void 0,e),e.currentTarget=null}function AJ(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==i&&a.isPropagationStopped())break e;a7(a,s,u),i=l}else for(o=0;o<r.length;o++){if(s=r[o],l=s.instance,u=s.currentTarget,s=s.listener,l!==i&&a.isPropagationStopped())break e;a7(a,s,u),i=l}}}if(vC)throw e=wO,vC=!1,wO=null,e}function Jr(e,t){var n=t[AO];n===void 0&&(n=t[AO]=new Set);var r=e+"__bubble";n.has(r)||(DJ(t,e,2,!1),n.add(r))}function dA(e,t,n){var r=0;t&&(r|=4),DJ(n,e,r,t)}var G2="_reactListening"+Math.random().toString(36).slice(2);function z1(e){if(!e[G2]){e[G2]=!0,$Q.forEach(function(n){n!=="selectionchange"&&(Fve.has(n)||dA(n,!1,e),dA(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[G2]||(t[G2]=!0,dA("selectionchange",!1,t))}}function DJ(e,t,n,r){switch(mJ(t)){case 1:var a=Zge;break;case 4:a=Qge;break;default:a=nF}n=a.bind(null,t,n,e),a=void 0,!bO||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),r?a!==void 0?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):a!==void 0?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function fA(e,t,n,r,a){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var s=r.stateNode.containerInfo;if(s===a||s.nodeType===8&&s.parentNode===a)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===a||l.nodeType===8&&l.parentNode===a))return;o=o.return}for(;s!==null;){if(o=wp(s),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}s=s.parentNode}}r=r.return}tJ(function(){var u=i,d=QR(n),f=[];e:{var h=PJ.get(e);if(h!==void 0){var p=aF,m=e;switch(e){case"keypress":if(PS(n)===0)break e;case"keydown":case"keyup":p=hve;break;case"focusin":m="focus",p=iA;break;case"focusout":m="blur",p=iA;break;case"beforeblur":case"afterblur":p=iA;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=qB;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=tve;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=gve;break;case NJ:case kJ:case jJ:p=ave;break;case TJ:p=yve;break;case"scroll":p=Jge;break;case"wheel":p=bve;break;case"copy":case"cut":case"paste":p=ove;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=YB}var g=(t&4)!==0,y=!g&&e==="scroll",x=g?h!==null?h+"Capture":null:h;g=[];for(var b=u,w;b!==null;){w=b;var _=w.stateNode;if(w.tag===5&&_!==null&&(w=_,x!==null&&(_=I1(b,x),_!=null&&g.push(U1(b,_,w)))),y)break;b=b.return}0<g.length&&(h=new p(h,m,null,n,d),f.push({event:h,listeners:g}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&n!==yO&&(m=n.relatedTarget||n.fromElement)&&(wp(m)||m[_d]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(m=n.relatedTarget||n.toElement,p=u,m=m?wp(m):null,m!==null&&(y=km(m),m!==y||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=u),p!==m)){if(g=qB,_="onMouseLeave",x="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(g=YB,_="onPointerLeave",x="onPointerEnter",b="pointer"),y=p==null?h:Rg(p),w=m==null?h:Rg(m),h=new g(_,b+"leave",p,n,d),h.target=y,h.relatedTarget=w,_=null,wp(d)===u&&(g=new g(x,b+"enter",m,n,d),g.target=w,g.relatedTarget=y,_=g),y=_,p&&m)t:{for(g=p,x=m,b=0,w=g;w;w=ng(w))b++;for(w=0,_=x;_;_=ng(_))w++;for(;0<b-w;)g=ng(g),b--;for(;0<w-b;)x=ng(x),w--;for(;b--;){if(g===x||x!==null&&g===x.alternate)break t;g=ng(g),x=ng(x)}g=null}else g=null;p!==null&&i7(f,h,p,g,!1),m!==null&&y!==null&&i7(f,y,m,g,!0)}}e:{if(h=u?Rg(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var S=kve;else if(ZB(h))if(wJ)S=Ave;else{S=Tve;var k=jve}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=Pve);if(S&&(S=S(e,u))){bJ(f,S,n,d);break e}k&&k(e,h,u),e==="focusout"&&(k=h._wrapperState)&&k.controlled&&h.type==="number"&&hO(h,"number",h.value)}switch(k=u?Rg(u):window,e){case"focusin":(ZB(k)||k.contentEditable==="true")&&(Mg=k,EO=u,Ux=null);break;case"focusout":Ux=EO=Mg=null;break;case"mousedown":NO=!0;break;case"contextmenu":case"mouseup":case"dragend":NO=!1,n7(f,n,d);break;case"selectionchange":if(Mve)break;case"keydown":case"keyup":n7(f,n,d)}var N;if(oF)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Og?yJ(e,n)&&(P="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(vJ&&n.locale!=="ko"&&(Og||P!=="onCompositionStart"?P==="onCompositionEnd"&&Og&&(N=gJ()):(jf=d,rF="value"in jf?jf.value:jf.textContent,Og=!0)),k=_C(u,P),0<k.length&&(P=new GB(P,e,null,n,d),f.push({event:P,listeners:k}),N?P.data=N:(N=xJ(n),N!==null&&(P.data=N)))),(N=_ve?Sve(e,n):Cve(e,n))&&(u=_C(u,"onBeforeInput"),0<u.length&&(d=new GB("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=N))}AJ(f,t)})}function U1(e,t,n){return{instance:e,listener:t,currentTarget:n}}function _C(e,t){for(var n=t+"Capture",r=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=I1(e,n),i!=null&&r.unshift(U1(e,i,a)),i=I1(e,t),i!=null&&r.push(U1(e,i,a))),e=e.return}return r}function ng(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function i7(e,t,n,r,a){for(var i=t._reactName,o=[];n!==null&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&u!==null&&(s=u,a?(l=I1(n,i),l!=null&&o.unshift(U1(n,l,s))):a||(l=I1(n,i),l!=null&&o.push(U1(n,l,s)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Lve=/\r\n?/g,$ve=/\u0000|\uFFFD/g;function o7(e){return(typeof e=="string"?e:""+e).replace(Lve,`
`).replace($ve,"")}function Y2(e,t,n){if(t=o7(t),o7(e)!==t&&n)throw Error(Pt(425))}function SC(){}var kO=null,jO=null;function TO(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var PO=typeof setTimeout=="function"?setTimeout:void 0,Bve=typeof clearTimeout=="function"?clearTimeout:void 0,s7=typeof Promise=="function"?Promise:void 0,zve=typeof queueMicrotask=="function"?queueMicrotask:typeof s7<"u"?function(e){return s7.resolve(null).then(e).catch(Uve)}:PO;function Uve(e){setTimeout(function(){throw e})}function hA(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(r===0){e.removeChild(a),L1(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=a}while(n);L1(t)}function Gf(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function l7(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var W0=Math.random().toString(36).slice(2),Qc="__reactFiber$"+W0,W1="__reactProps$"+W0,_d="__reactContainer$"+W0,AO="__reactEvents$"+W0,Wve="__reactListeners$"+W0,Vve="__reactHandles$"+W0;function wp(e){var t=e[Qc];if(t)return t;for(var n=e.parentNode;n;){if(t=n[_d]||n[Qc]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=l7(e);e!==null;){if(n=e[Qc])return n;e=l7(e)}return t}e=n,n=e.parentNode}return null}function Ow(e){return e=e[Qc]||e[_d],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Rg(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Pt(33))}function Ck(e){return e[W1]||null}var DO=[],Fg=-1;function Eh(e){return{current:e}}function ra(e){0>Fg||(e.current=DO[Fg],DO[Fg]=null,Fg--)}function Yr(e,t){Fg++,DO[Fg]=e.current,e.current=t}var lh={},No=Eh(lh),es=Eh(!1),im=lh;function $v(e,t){var n=e.type.contextTypes;if(!n)return lh;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in n)a[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function ts(e){return e=e.childContextTypes,e!=null}function CC(){ra(es),ra(No)}function c7(e,t,n){if(No.current!==lh)throw Error(Pt(168));Yr(No,t),Yr(es,n)}function OJ(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var a in r)if(!(a in t))throw Error(Pt(108,jge(e)||"Unknown",a));return Ea({},n,r)}function EC(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||lh,im=No.current,Yr(No,e),Yr(es,es.current),!0}function u7(e,t,n){var r=e.stateNode;if(!r)throw Error(Pt(169));n?(e=OJ(e,t,im),r.__reactInternalMemoizedMergedChildContext=e,ra(es),ra(No),Yr(No,e)):ra(es),Yr(es,n)}var Ju=null,Ek=!1,pA=!1;function MJ(e){Ju===null?Ju=[e]:Ju.push(e)}function Hve(e){Ek=!0,MJ(e)}function Nh(){if(!pA&&Ju!==null){pA=!0;var e=0,t=Tr;try{var n=Ju;for(Tr=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Ju=null,Ek=!1}catch(a){throw Ju!==null&&(Ju=Ju.slice(e+1)),iJ(JR,Nh),a}finally{Tr=t,pA=!1}}return null}var Lg=[],$g=0,NC=null,kC=0,hl=[],pl=0,om=null,ad=1,id="";function tp(e,t){Lg[$g++]=kC,Lg[$g++]=NC,NC=e,kC=t}function IJ(e,t,n){hl[pl++]=ad,hl[pl++]=id,hl[pl++]=om,om=e;var r=ad;e=id;var a=32-fc(r)-1;r&=~(1<<a),n+=1;var i=32-fc(t)+a;if(30<i){var o=a-a%5;i=(r&(1<<o)-1).toString(32),r>>=o,a-=o,ad=1<<32-fc(t)+a|n<<a|r,id=i+e}else ad=1<<i|n<<a|r,id=e}function lF(e){e.return!==null&&(tp(e,1),IJ(e,1,0))}function cF(e){for(;e===NC;)NC=Lg[--$g],Lg[$g]=null,kC=Lg[--$g],Lg[$g]=null;for(;e===om;)om=hl[--pl],hl[pl]=null,id=hl[--pl],hl[pl]=null,ad=hl[--pl],hl[pl]=null}var Ms=null,Ps=null,pa=!1,ac=null;function RJ(e,t){var n=xl(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function d7(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ms=e,Ps=Gf(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ms=e,Ps=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=om!==null?{id:ad,overflow:id}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=xl(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ms=e,Ps=null,!0):!1;default:return!1}}function OO(e){return(e.mode&1)!==0&&(e.flags&128)===0}function MO(e){if(pa){var t=Ps;if(t){var n=t;if(!d7(e,t)){if(OO(e))throw Error(Pt(418));t=Gf(n.nextSibling);var r=Ms;t&&d7(e,t)?RJ(r,n):(e.flags=e.flags&-4097|2,pa=!1,Ms=e)}}else{if(OO(e))throw Error(Pt(418));e.flags=e.flags&-4097|2,pa=!1,Ms=e}}}function f7(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ms=e}function K2(e){if(e!==Ms)return!1;if(!pa)return f7(e),pa=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!TO(e.type,e.memoizedProps)),t&&(t=Ps)){if(OO(e))throw FJ(),Error(Pt(418));for(;t;)RJ(e,t),t=Gf(t.nextSibling)}if(f7(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Pt(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ps=Gf(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ps=null}}else Ps=Ms?Gf(e.stateNode.nextSibling):null;return!0}function FJ(){for(var e=Ps;e;)e=Gf(e.nextSibling)}function Bv(){Ps=Ms=null,pa=!1}function uF(e){ac===null?ac=[e]:ac.push(e)}var qve=$d.ReactCurrentBatchConfig;function Dy(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Pt(309));var r=n.stateNode}if(!r)throw Error(Pt(147,e));var a=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var s=a.refs;o===null?delete s[i]:s[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(Pt(284));if(!n._owner)throw Error(Pt(290,e))}return e}function X2(e,t){throw e=Object.prototype.toString.call(t),Error(Pt(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function h7(e){var t=e._init;return t(e._payload)}function LJ(e){function t(x,b){if(e){var w=x.deletions;w===null?(x.deletions=[b],x.flags|=16):w.push(b)}}function n(x,b){if(!e)return null;for(;b!==null;)t(x,b),b=b.sibling;return null}function r(x,b){for(x=new Map;b!==null;)b.key!==null?x.set(b.key,b):x.set(b.index,b),b=b.sibling;return x}function a(x,b){return x=Zf(x,b),x.index=0,x.sibling=null,x}function i(x,b,w){return x.index=w,e?(w=x.alternate,w!==null?(w=w.index,w<b?(x.flags|=2,b):w):(x.flags|=2,b)):(x.flags|=1048576,b)}function o(x){return e&&x.alternate===null&&(x.flags|=2),x}function s(x,b,w,_){return b===null||b.tag!==6?(b=wA(w,x.mode,_),b.return=x,b):(b=a(b,w),b.return=x,b)}function l(x,b,w,_){var S=w.type;return S===Dg?d(x,b,w.props.children,_,w.key):b!==null&&(b.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===gf&&h7(S)===b.type)?(_=a(b,w.props),_.ref=Dy(x,b,w),_.return=x,_):(_=FS(w.type,w.key,w.props,null,x.mode,_),_.ref=Dy(x,b,w),_.return=x,_)}function u(x,b,w,_){return b===null||b.tag!==4||b.stateNode.containerInfo!==w.containerInfo||b.stateNode.implementation!==w.implementation?(b=_A(w,x.mode,_),b.return=x,b):(b=a(b,w.children||[]),b.return=x,b)}function d(x,b,w,_,S){return b===null||b.tag!==7?(b=Wp(w,x.mode,_,S),b.return=x,b):(b=a(b,w),b.return=x,b)}function f(x,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return b=wA(""+b,x.mode,w),b.return=x,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case $2:return w=FS(b.type,b.key,b.props,null,x.mode,w),w.ref=Dy(x,null,b),w.return=x,w;case Ag:return b=_A(b,x.mode,w),b.return=x,b;case gf:var _=b._init;return f(x,_(b._payload),w)}if(vx(b)||ky(b))return b=Wp(b,x.mode,w,null),b.return=x,b;X2(x,b)}return null}function h(x,b,w,_){var S=b!==null?b.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return S!==null?null:s(x,b,""+w,_);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case $2:return w.key===S?l(x,b,w,_):null;case Ag:return w.key===S?u(x,b,w,_):null;case gf:return S=w._init,h(x,b,S(w._payload),_)}if(vx(w)||ky(w))return S!==null?null:d(x,b,w,_,null);X2(x,w)}return null}function p(x,b,w,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return x=x.get(w)||null,s(b,x,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case $2:return x=x.get(_.key===null?w:_.key)||null,l(b,x,_,S);case Ag:return x=x.get(_.key===null?w:_.key)||null,u(b,x,_,S);case gf:var k=_._init;return p(x,b,w,k(_._payload),S)}if(vx(_)||ky(_))return x=x.get(w)||null,d(b,x,_,S,null);X2(b,_)}return null}function m(x,b,w,_){for(var S=null,k=null,N=b,P=b=0,T=null;N!==null&&P<w.length;P++){N.index>P?(T=N,N=null):T=N.sibling;var j=h(x,N,w[P],_);if(j===null){N===null&&(N=T);break}e&&N&&j.alternate===null&&t(x,N),b=i(j,b,P),k===null?S=j:k.sibling=j,k=j,N=T}if(P===w.length)return n(x,N),pa&&tp(x,P),S;if(N===null){for(;P<w.length;P++)N=f(x,w[P],_),N!==null&&(b=i(N,b,P),k===null?S=N:k.sibling=N,k=N);return pa&&tp(x,P),S}for(N=r(x,N);P<w.length;P++)T=p(N,x,P,w[P],_),T!==null&&(e&&T.alternate!==null&&N.delete(T.key===null?P:T.key),b=i(T,b,P),k===null?S=T:k.sibling=T,k=T);return e&&N.forEach(function(D){return t(x,D)}),pa&&tp(x,P),S}function g(x,b,w,_){var S=ky(w);if(typeof S!="function")throw Error(Pt(150));if(w=S.call(w),w==null)throw Error(Pt(151));for(var k=S=null,N=b,P=b=0,T=null,j=w.next();N!==null&&!j.done;P++,j=w.next()){N.index>P?(T=N,N=null):T=N.sibling;var D=h(x,N,j.value,_);if(D===null){N===null&&(N=T);break}e&&N&&D.alternate===null&&t(x,N),b=i(D,b,P),k===null?S=D:k.sibling=D,k=D,N=T}if(j.done)return n(x,N),pa&&tp(x,P),S;if(N===null){for(;!j.done;P++,j=w.next())j=f(x,j.value,_),j!==null&&(b=i(j,b,P),k===null?S=j:k.sibling=j,k=j);return pa&&tp(x,P),S}for(N=r(x,N);!j.done;P++,j=w.next())j=p(N,x,P,j.value,_),j!==null&&(e&&j.alternate!==null&&N.delete(j.key===null?P:j.key),b=i(j,b,P),k===null?S=j:k.sibling=j,k=j);return e&&N.forEach(function(M){return t(x,M)}),pa&&tp(x,P),S}function y(x,b,w,_){if(typeof w=="object"&&w!==null&&w.type===Dg&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case $2:e:{for(var S=w.key,k=b;k!==null;){if(k.key===S){if(S=w.type,S===Dg){if(k.tag===7){n(x,k.sibling),b=a(k,w.props.children),b.return=x,x=b;break e}}else if(k.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===gf&&h7(S)===k.type){n(x,k.sibling),b=a(k,w.props),b.ref=Dy(x,k,w),b.return=x,x=b;break e}n(x,k);break}else t(x,k);k=k.sibling}w.type===Dg?(b=Wp(w.props.children,x.mode,_,w.key),b.return=x,x=b):(_=FS(w.type,w.key,w.props,null,x.mode,_),_.ref=Dy(x,b,w),_.return=x,x=_)}return o(x);case Ag:e:{for(k=w.key;b!==null;){if(b.key===k)if(b.tag===4&&b.stateNode.containerInfo===w.containerInfo&&b.stateNode.implementation===w.implementation){n(x,b.sibling),b=a(b,w.children||[]),b.return=x,x=b;break e}else{n(x,b);break}else t(x,b);b=b.sibling}b=_A(w,x.mode,_),b.return=x,x=b}return o(x);case gf:return k=w._init,y(x,b,k(w._payload),_)}if(vx(w))return m(x,b,w,_);if(ky(w))return g(x,b,w,_);X2(x,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,b!==null&&b.tag===6?(n(x,b.sibling),b=a(b,w),b.return=x,x=b):(n(x,b),b=wA(w,x.mode,_),b.return=x,x=b),o(x)):n(x,b)}return y}var zv=LJ(!0),$J=LJ(!1),jC=Eh(null),TC=null,Bg=null,dF=null;function fF(){dF=Bg=TC=null}function hF(e){var t=jC.current;ra(jC),e._currentValue=t}function IO(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function lv(e,t){TC=e,dF=Bg=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Xo=!0),e.firstContext=null)}function Nl(e){var t=e._currentValue;if(dF!==e)if(e={context:e,memoizedValue:t,next:null},Bg===null){if(TC===null)throw Error(Pt(308));Bg=e,TC.dependencies={lanes:0,firstContext:e}}else Bg=Bg.next=e;return t}var _p=null;function pF(e){_p===null?_p=[e]:_p.push(e)}function BJ(e,t,n,r){var a=t.interleaved;return a===null?(n.next=n,pF(t)):(n.next=a.next,a.next=n),t.interleaved=n,Sd(e,r)}function Sd(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var vf=!1;function mF(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zJ(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function fd(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Yf(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,lr&2){var a=r.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),r.pending=t,Sd(e,n)}return a=r.interleaved,a===null?(t.next=t,pF(r)):(t.next=a.next,a.next=t),r.interleaved=t,Sd(e,n)}function AS(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,eF(e,n)}}function p7(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var a=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?a=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?a=i=t:i=i.next=t}else a=i=t;n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function PC(e,t,n,r){var a=e.updateQueue;vf=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,s=a.shared.pending;if(s!==null){a.shared.pending=null;var l=s,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var d=e.alternate;d!==null&&(d=d.updateQueue,s=d.lastBaseUpdate,s!==o&&(s===null?d.firstBaseUpdate=u:s.next=u,d.lastBaseUpdate=l))}if(i!==null){var f=a.baseState;o=0,d=u=l=null,s=i;do{var h=s.lane,p=s.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var m=e,g=s;switch(h=t,p=n,g.tag){case 1:if(m=g.payload,typeof m=="function"){f=m.call(p,f,h);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,h=typeof m=="function"?m.call(p,f,h):m,h==null)break e;f=Ea({},f,h);break e;case 2:vf=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[s]:h.push(s))}else p={eventTime:p,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},d===null?(u=d=p,l=f):d=d.next=p,o|=h;if(s=s.next,s===null){if(s=a.shared.pending,s===null)break;h=s,s=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(d===null&&(l=f),a.baseState=l,a.firstBaseUpdate=u,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);lm|=o,e.lanes=o,e.memoizedState=f}}function m7(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(a!==null){if(r.callback=null,r=n,typeof a!="function")throw Error(Pt(191,a));a.call(r)}}}var Mw={},du=Eh(Mw),V1=Eh(Mw),H1=Eh(Mw);function Sp(e){if(e===Mw)throw Error(Pt(174));return e}function gF(e,t){switch(Yr(H1,t),Yr(V1,e),Yr(du,Mw),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:mO(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=mO(t,e)}ra(du),Yr(du,t)}function Uv(){ra(du),ra(V1),ra(H1)}function UJ(e){Sp(H1.current);var t=Sp(du.current),n=mO(t,e.type);t!==n&&(Yr(V1,e),Yr(du,n))}function vF(e){V1.current===e&&(ra(du),ra(V1))}var xa=Eh(0);function AC(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var mA=[];function yF(){for(var e=0;e<mA.length;e++)mA[e]._workInProgressVersionPrimary=null;mA.length=0}var DS=$d.ReactCurrentDispatcher,gA=$d.ReactCurrentBatchConfig,sm=0,Ca=null,ci=null,_i=null,DC=!1,Wx=!1,q1=0,Gve=0;function ro(){throw Error(Pt(321))}function xF(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!xc(e[n],t[n]))return!1;return!0}function bF(e,t,n,r,a,i){if(sm=i,Ca=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,DS.current=e===null||e.memoizedState===null?Zve:Qve,e=n(r,a),Wx){i=0;do{if(Wx=!1,q1=0,25<=i)throw Error(Pt(301));i+=1,_i=ci=null,t.updateQueue=null,DS.current=Jve,e=n(r,a)}while(Wx)}if(DS.current=OC,t=ci!==null&&ci.next!==null,sm=0,_i=ci=Ca=null,DC=!1,t)throw Error(Pt(300));return e}function wF(){var e=q1!==0;return q1=0,e}function Bc(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _i===null?Ca.memoizedState=_i=e:_i=_i.next=e,_i}function kl(){if(ci===null){var e=Ca.alternate;e=e!==null?e.memoizedState:null}else e=ci.next;var t=_i===null?Ca.memoizedState:_i.next;if(t!==null)_i=t,ci=e;else{if(e===null)throw Error(Pt(310));ci=e,e={memoizedState:ci.memoizedState,baseState:ci.baseState,baseQueue:ci.baseQueue,queue:ci.queue,next:null},_i===null?Ca.memoizedState=_i=e:_i=_i.next=e}return _i}function G1(e,t){return typeof t=="function"?t(e):t}function vA(e){var t=kl(),n=t.queue;if(n===null)throw Error(Pt(311));n.lastRenderedReducer=e;var r=ci,a=r.baseQueue,i=n.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}r.baseQueue=a=i,n.pending=null}if(a!==null){i=a.next,r=r.baseState;var s=o=null,l=null,u=i;do{var d=u.lane;if((sm&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=f,o=r):l=l.next=f,Ca.lanes|=d,lm|=d}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=s,xc(r,t.memoizedState)||(Xo=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){a=e;do i=a.lane,Ca.lanes|=i,lm|=i,a=a.next;while(a!==e)}else a===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function yA(e){var t=kl(),n=t.queue;if(n===null)throw Error(Pt(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,i=t.memoizedState;if(a!==null){n.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);xc(i,t.memoizedState)||(Xo=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function WJ(){}function VJ(e,t){var n=Ca,r=kl(),a=t(),i=!xc(r.memoizedState,a);if(i&&(r.memoizedState=a,Xo=!0),r=r.queue,_F(GJ.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||_i!==null&&_i.memoizedState.tag&1){if(n.flags|=2048,Y1(9,qJ.bind(null,n,r,a,t),void 0,null),Ti===null)throw Error(Pt(349));sm&30||HJ(n,t,a)}return a}function HJ(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ca.updateQueue,t===null?(t={lastEffect:null,stores:null},Ca.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function qJ(e,t,n,r){t.value=n,t.getSnapshot=r,YJ(t)&&KJ(e)}function GJ(e,t,n){return n(function(){YJ(t)&&KJ(e)})}function YJ(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!xc(e,n)}catch{return!0}}function KJ(e){var t=Sd(e,1);t!==null&&hc(t,e,1,-1)}function g7(e){var t=Bc();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:G1,lastRenderedState:e},t.queue=e,e=e.dispatch=Xve.bind(null,Ca,e),[t.memoizedState,e]}function Y1(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ca.updateQueue,t===null?(t={lastEffect:null,stores:null},Ca.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function XJ(){return kl().memoizedState}function OS(e,t,n,r){var a=Bc();Ca.flags|=e,a.memoizedState=Y1(1|t,n,void 0,r===void 0?null:r)}function Nk(e,t,n,r){var a=kl();r=r===void 0?null:r;var i=void 0;if(ci!==null){var o=ci.memoizedState;if(i=o.destroy,r!==null&&xF(r,o.deps)){a.memoizedState=Y1(t,n,i,r);return}}Ca.flags|=e,a.memoizedState=Y1(1|t,n,i,r)}function v7(e,t){return OS(8390656,8,e,t)}function _F(e,t){return Nk(2048,8,e,t)}function ZJ(e,t){return Nk(4,2,e,t)}function QJ(e,t){return Nk(4,4,e,t)}function JJ(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function eee(e,t,n){return n=n!=null?n.concat([e]):null,Nk(4,4,JJ.bind(null,t,e),n)}function SF(){}function tee(e,t){var n=kl();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&xF(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function nee(e,t){var n=kl();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&xF(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function ree(e,t,n){return sm&21?(xc(n,t)||(n=lJ(),Ca.lanes|=n,lm|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Xo=!0),e.memoizedState=n)}function Yve(e,t){var n=Tr;Tr=n!==0&&4>n?n:4,e(!0);var r=gA.transition;gA.transition={};try{e(!1),t()}finally{Tr=n,gA.transition=r}}function aee(){return kl().memoizedState}function Kve(e,t,n){var r=Xf(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},iee(e))oee(t,n);else if(n=BJ(e,t,n,r),n!==null){var a=$o();hc(n,e,r,a),see(n,t,r)}}function Xve(e,t,n){var r=Xf(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(iee(e))oee(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,s=i(o,n);if(a.hasEagerState=!0,a.eagerState=s,xc(s,o)){var l=t.interleaved;l===null?(a.next=a,pF(t)):(a.next=l.next,l.next=a),t.interleaved=a;return}}catch{}finally{}n=BJ(e,t,a,r),n!==null&&(a=$o(),hc(n,e,r,a),see(n,t,r))}}function iee(e){var t=e.alternate;return e===Ca||t!==null&&t===Ca}function oee(e,t){Wx=DC=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function see(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,eF(e,n)}}var OC={readContext:Nl,useCallback:ro,useContext:ro,useEffect:ro,useImperativeHandle:ro,useInsertionEffect:ro,useLayoutEffect:ro,useMemo:ro,useReducer:ro,useRef:ro,useState:ro,useDebugValue:ro,useDeferredValue:ro,useTransition:ro,useMutableSource:ro,useSyncExternalStore:ro,useId:ro,unstable_isNewReconciler:!1},Zve={readContext:Nl,useCallback:function(e,t){return Bc().memoizedState=[e,t===void 0?null:t],e},useContext:Nl,useEffect:v7,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,OS(4194308,4,JJ.bind(null,t,e),n)},useLayoutEffect:function(e,t){return OS(4194308,4,e,t)},useInsertionEffect:function(e,t){return OS(4,2,e,t)},useMemo:function(e,t){var n=Bc();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Bc();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Kve.bind(null,Ca,e),[r.memoizedState,e]},useRef:function(e){var t=Bc();return e={current:e},t.memoizedState=e},useState:g7,useDebugValue:SF,useDeferredValue:function(e){return Bc().memoizedState=e},useTransition:function(){var e=g7(!1),t=e[0];return e=Yve.bind(null,e[1]),Bc().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ca,a=Bc();if(pa){if(n===void 0)throw Error(Pt(407));n=n()}else{if(n=t(),Ti===null)throw Error(Pt(349));sm&30||HJ(r,t,n)}a.memoizedState=n;var i={value:n,getSnapshot:t};return a.queue=i,v7(GJ.bind(null,r,i,e),[e]),r.flags|=2048,Y1(9,qJ.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Bc(),t=Ti.identifierPrefix;if(pa){var n=id,r=ad;n=(r&~(1<<32-fc(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=q1++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Gve++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Qve={readContext:Nl,useCallback:tee,useContext:Nl,useEffect:_F,useImperativeHandle:eee,useInsertionEffect:ZJ,useLayoutEffect:QJ,useMemo:nee,useReducer:vA,useRef:XJ,useState:function(){return vA(G1)},useDebugValue:SF,useDeferredValue:function(e){var t=kl();return ree(t,ci.memoizedState,e)},useTransition:function(){var e=vA(G1)[0],t=kl().memoizedState;return[e,t]},useMutableSource:WJ,useSyncExternalStore:VJ,useId:aee,unstable_isNewReconciler:!1},Jve={readContext:Nl,useCallback:tee,useContext:Nl,useEffect:_F,useImperativeHandle:eee,useInsertionEffect:ZJ,useLayoutEffect:QJ,useMemo:nee,useReducer:yA,useRef:XJ,useState:function(){return yA(G1)},useDebugValue:SF,useDeferredValue:function(e){var t=kl();return ci===null?t.memoizedState=e:ree(t,ci.memoizedState,e)},useTransition:function(){var e=yA(G1)[0],t=kl().memoizedState;return[e,t]},useMutableSource:WJ,useSyncExternalStore:VJ,useId:aee,unstable_isNewReconciler:!1};function Zl(e,t){if(e&&e.defaultProps){t=Ea({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function RO(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ea({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var kk={isMounted:function(e){return(e=e._reactInternals)?km(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=$o(),a=Xf(e),i=fd(r,a);i.payload=t,n!=null&&(i.callback=n),t=Yf(e,i,a),t!==null&&(hc(t,e,a,r),AS(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=$o(),a=Xf(e),i=fd(r,a);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Yf(e,i,a),t!==null&&(hc(t,e,a,r),AS(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=$o(),r=Xf(e),a=fd(n,r);a.tag=2,t!=null&&(a.callback=t),t=Yf(e,a,r),t!==null&&(hc(t,e,r,n),AS(t,e,r))}};function y7(e,t,n,r,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!B1(n,r)||!B1(a,i):!0}function lee(e,t,n){var r=!1,a=lh,i=t.contextType;return typeof i=="object"&&i!==null?i=Nl(i):(a=ts(t)?im:No.current,r=t.contextTypes,i=(r=r!=null)?$v(e,a):lh),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=kk,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function x7(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&kk.enqueueReplaceState(t,t.state,null)}function FO(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},mF(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=Nl(i):(i=ts(t)?im:No.current,a.context=$v(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(RO(e,t,i,n),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&kk.enqueueReplaceState(a,a.state,null),PC(e,n,a,r),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Wv(e,t){try{var n="",r=t;do n+=kge(r),r=r.return;while(r);var a=n}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function xA(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function LO(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var e0e=typeof WeakMap=="function"?WeakMap:Map;function cee(e,t,n){n=fd(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){IC||(IC=!0,YO=r),LO(e,t)},n}function uee(e,t,n){n=fd(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){LO(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){LO(e,t),typeof r!="function"&&(Kf===null?Kf=new Set([this]):Kf.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function b7(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new e0e;var a=new Set;r.set(t,a)}else a=r.get(t),a===void 0&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=p0e.bind(null,e,t,n),t.then(e,e))}function w7(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function _7(e,t,n,r,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=fd(-1,1),t.tag=2,Yf(n,t,1))),n.lanes|=1),e)}var t0e=$d.ReactCurrentOwner,Xo=!1;function Oo(e,t,n,r){t.child=e===null?$J(t,null,n,r):zv(t,e.child,n,r)}function S7(e,t,n,r,a){n=n.render;var i=t.ref;return lv(t,a),r=bF(e,t,n,r,i,a),n=wF(),e!==null&&!Xo?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Cd(e,t,a)):(pa&&n&&lF(t),t.flags|=1,Oo(e,t,r,a),t.child)}function C7(e,t,n,r,a){if(e===null){var i=n.type;return typeof i=="function"&&!AF(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,dee(e,t,i,r,a)):(e=FS(n.type,null,r,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:B1,n(o,r)&&e.ref===t.ref)return Cd(e,t,a)}return t.flags|=1,e=Zf(i,r),e.ref=t.ref,e.return=t,t.child=e}function dee(e,t,n,r,a){if(e!==null){var i=e.memoizedProps;if(B1(i,r)&&e.ref===t.ref)if(Xo=!1,t.pendingProps=r=i,(e.lanes&a)!==0)e.flags&131072&&(Xo=!0);else return t.lanes=e.lanes,Cd(e,t,a)}return $O(e,t,n,r,a)}function fee(e,t,n){var r=t.pendingProps,a=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Yr(Ug,bs),bs|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Yr(Ug,bs),bs|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Yr(Ug,bs),bs|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,Yr(Ug,bs),bs|=r;return Oo(e,t,a,n),t.child}function hee(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function $O(e,t,n,r,a){var i=ts(n)?im:No.current;return i=$v(t,i),lv(t,a),n=bF(e,t,n,r,i,a),r=wF(),e!==null&&!Xo?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Cd(e,t,a)):(pa&&r&&lF(t),t.flags|=1,Oo(e,t,n,a),t.child)}function E7(e,t,n,r,a){if(ts(n)){var i=!0;EC(t)}else i=!1;if(lv(t,a),t.stateNode===null)MS(e,t),lee(t,n,r),FO(t,n,r,a),r=!0;else if(e===null){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Nl(u):(u=ts(n)?im:No.current,u=$v(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==r||l!==u)&&x7(t,o,r,u),vf=!1;var h=t.memoizedState;o.state=h,PC(t,r,o,a),l=t.memoizedState,s!==r||h!==l||es.current||vf?(typeof d=="function"&&(RO(t,n,d,r),l=t.memoizedState),(s=vf||y7(t,n,s,r,h,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=s):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,zJ(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:Zl(t.type,s),o.props=u,f=t.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Nl(l):(l=ts(n)?im:No.current,l=$v(t,l));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==f||h!==l)&&x7(t,o,r,l),vf=!1,h=t.memoizedState,o.state=h,PC(t,r,o,a);var m=t.memoizedState;s!==f||h!==m||es.current||vf?(typeof p=="function"&&(RO(t,n,p,r),m=t.memoizedState),(u=vf||y7(t,n,u,r,h,m,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=m),o.props=r,o.state=m,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return BO(e,t,n,r,i,a)}function BO(e,t,n,r,a,i){hee(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return a&&u7(t,n,!1),Cd(e,t,i);r=t.stateNode,t0e.current=t;var s=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=zv(t,e.child,null,i),t.child=zv(t,null,s,i)):Oo(e,t,s,i),t.memoizedState=r.state,a&&u7(t,n,!0),t.child}function pee(e){var t=e.stateNode;t.pendingContext?c7(e,t.pendingContext,t.pendingContext!==t.context):t.context&&c7(e,t.context,!1),gF(e,t.containerInfo)}function N7(e,t,n,r,a){return Bv(),uF(a),t.flags|=256,Oo(e,t,n,r),t.child}var zO={dehydrated:null,treeContext:null,retryLane:0};function UO(e){return{baseLanes:e,cachePool:null,transitions:null}}function mee(e,t,n){var r=t.pendingProps,a=xa.current,i=!1,o=(t.flags&128)!==0,s;if((s=o)||(s=e!==null&&e.memoizedState===null?!1:(a&2)!==0),s?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Yr(xa,a&1),e===null)return MO(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Pk(o,r,0,null),e=Wp(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=UO(n),t.memoizedState=zO,e):CF(t,o));if(a=e.memoizedState,a!==null&&(s=a.dehydrated,s!==null))return n0e(e,t,o,r,s,a,n);if(i){i=r.fallback,o=t.mode,a=e.child,s=a.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==a?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Zf(a,l),r.subtreeFlags=a.subtreeFlags&14680064),s!==null?i=Zf(s,i):(i=Wp(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?UO(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=zO,r}return i=e.child,e=i.sibling,r=Zf(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function CF(e,t){return t=Pk({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Z2(e,t,n,r){return r!==null&&uF(r),zv(t,e.child,null,n),e=CF(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function n0e(e,t,n,r,a,i,o){if(n)return t.flags&256?(t.flags&=-257,r=xA(Error(Pt(422))),Z2(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,a=t.mode,r=Pk({mode:"visible",children:r.children},a,0,null),i=Wp(i,a,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&zv(t,e.child,null,o),t.child.memoizedState=UO(o),t.memoizedState=zO,i);if(!(t.mode&1))return Z2(e,t,o,null);if(a.data==="$!"){if(r=a.nextSibling&&a.nextSibling.dataset,r)var s=r.dgst;return r=s,i=Error(Pt(419)),r=xA(i,r,void 0),Z2(e,t,o,r)}if(s=(o&e.childLanes)!==0,Xo||s){if(r=Ti,r!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(r.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,Sd(e,a),hc(r,e,a,-1))}return PF(),r=xA(Error(Pt(421))),Z2(e,t,o,r)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=m0e.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,Ps=Gf(a.nextSibling),Ms=t,pa=!0,ac=null,e!==null&&(hl[pl++]=ad,hl[pl++]=id,hl[pl++]=om,ad=e.id,id=e.overflow,om=t),t=CF(t,r.children),t.flags|=4096,t)}function k7(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),IO(e.return,t,n)}function bA(e,t,n,r,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=a)}function gee(e,t,n){var r=t.pendingProps,a=r.revealOrder,i=r.tail;if(Oo(e,t,r.children,n),r=xa.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&k7(e,n,t);else if(e.tag===19)k7(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Yr(xa,r),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;n!==null;)e=n.alternate,e!==null&&AC(e)===null&&(a=n),n=n.sibling;n=a,n===null?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),bA(t,!1,a,n,i);break;case"backwards":for(n=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&AC(e)===null){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}bA(t,!0,n,null,i);break;case"together":bA(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function MS(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Cd(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),lm|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Pt(153));if(t.child!==null){for(e=t.child,n=Zf(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Zf(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function r0e(e,t,n){switch(t.tag){case 3:pee(t),Bv();break;case 5:UJ(t);break;case 1:ts(t.type)&&EC(t);break;case 4:gF(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;Yr(jC,r._currentValue),r._currentValue=a;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Yr(xa,xa.current&1),t.flags|=128,null):n&t.child.childLanes?mee(e,t,n):(Yr(xa,xa.current&1),e=Cd(e,t,n),e!==null?e.sibling:null);Yr(xa,xa.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return gee(e,t,n);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Yr(xa,xa.current),r)break;return null;case 22:case 23:return t.lanes=0,fee(e,t,n)}return Cd(e,t,n)}var vee,WO,yee,xee;vee=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};WO=function(){};yee=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Sp(du.current);var i=null;switch(n){case"input":a=dO(e,a),r=dO(e,r),i=[];break;case"select":a=Ea({},a,{value:void 0}),r=Ea({},r,{value:void 0}),i=[];break;case"textarea":a=pO(e,a),r=pO(e,r),i=[];break;default:typeof a.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=SC)}gO(n,r);var o;n=null;for(u in a)if(!r.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var s=a[u];for(o in s)s.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(O1.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(s=a!=null?a[u]:void 0,r.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(o in s)!s.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&s[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(O1.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Jr("scroll",e),i||s===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};xee=function(e,t,n,r){n!==r&&(t.flags|=4)};function Oy(e,t){if(!pa)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ao(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags&14680064,r|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function a0e(e,t,n){var r=t.pendingProps;switch(cF(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ao(t),null;case 1:return ts(t.type)&&CC(),ao(t),null;case 3:return r=t.stateNode,Uv(),ra(es),ra(No),yF(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(K2(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ac!==null&&(ZO(ac),ac=null))),WO(e,t),ao(t),null;case 5:vF(t);var a=Sp(H1.current);if(n=t.type,e!==null&&t.stateNode!=null)yee(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Pt(166));return ao(t),null}if(e=Sp(du.current),K2(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Qc]=t,r[W1]=i,e=(t.mode&1)!==0,n){case"dialog":Jr("cancel",r),Jr("close",r);break;case"iframe":case"object":case"embed":Jr("load",r);break;case"video":case"audio":for(a=0;a<xx.length;a++)Jr(xx[a],r);break;case"source":Jr("error",r);break;case"img":case"image":case"link":Jr("error",r),Jr("load",r);break;case"details":Jr("toggle",r);break;case"input":RB(r,i),Jr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Jr("invalid",r);break;case"textarea":LB(r,i),Jr("invalid",r)}gO(n,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var s=i[o];o==="children"?typeof s=="string"?r.textContent!==s&&(i.suppressHydrationWarning!==!0&&Y2(r.textContent,s,e),a=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(i.suppressHydrationWarning!==!0&&Y2(r.textContent,s,e),a=["children",""+s]):O1.hasOwnProperty(o)&&s!=null&&o==="onScroll"&&Jr("scroll",r)}switch(n){case"input":B2(r),FB(r,i,!0);break;case"textarea":B2(r),$B(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=SC)}r=a,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=GQ(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Qc]=t,e[W1]=r,vee(e,t,!1,!1),t.stateNode=e;e:{switch(o=vO(n,r),n){case"dialog":Jr("cancel",e),Jr("close",e),a=r;break;case"iframe":case"object":case"embed":Jr("load",e),a=r;break;case"video":case"audio":for(a=0;a<xx.length;a++)Jr(xx[a],e);a=r;break;case"source":Jr("error",e),a=r;break;case"img":case"image":case"link":Jr("error",e),Jr("load",e),a=r;break;case"details":Jr("toggle",e),a=r;break;case"input":RB(e,r),a=dO(e,r),Jr("invalid",e);break;case"option":a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=Ea({},r,{value:void 0}),Jr("invalid",e);break;case"textarea":LB(e,r),a=pO(e,r),Jr("invalid",e);break;default:a=r}gO(n,a),s=a;for(i in s)if(s.hasOwnProperty(i)){var l=s[i];i==="style"?XQ(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&YQ(e,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&M1(e,l):typeof l=="number"&&M1(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(O1.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Jr("scroll",e):l!=null&&YR(e,i,l,o))}switch(n){case"input":B2(e),FB(e,r,!1);break;case"textarea":B2(e),$B(e);break;case"option":r.value!=null&&e.setAttribute("value",""+sh(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?av(e,!!r.multiple,i,!1):r.defaultValue!=null&&av(e,!!r.multiple,r.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=SC)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ao(t),null;case 6:if(e&&t.stateNode!=null)xee(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Pt(166));if(n=Sp(H1.current),Sp(du.current),K2(t)){if(r=t.stateNode,n=t.memoizedProps,r[Qc]=t,(i=r.nodeValue!==n)&&(e=Ms,e!==null))switch(e.tag){case 3:Y2(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Y2(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Qc]=t,t.stateNode=r}return ao(t),null;case 13:if(ra(xa),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(pa&&Ps!==null&&t.mode&1&&!(t.flags&128))FJ(),Bv(),t.flags|=98560,i=!1;else if(i=K2(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(Pt(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Pt(317));i[Qc]=t}else Bv(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ao(t),i=!1}else ac!==null&&(ZO(ac),ac=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||xa.current&1?ui===0&&(ui=3):PF())),t.updateQueue!==null&&(t.flags|=4),ao(t),null);case 4:return Uv(),WO(e,t),e===null&&z1(t.stateNode.containerInfo),ao(t),null;case 10:return hF(t.type._context),ao(t),null;case 17:return ts(t.type)&&CC(),ao(t),null;case 19:if(ra(xa),i=t.memoizedState,i===null)return ao(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)Oy(i,!1);else{if(ui!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=AC(e),o!==null){for(t.flags|=128,Oy(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Yr(xa,xa.current&1|2),t.child}e=e.sibling}i.tail!==null&&Ua()>Vv&&(t.flags|=128,r=!0,Oy(i,!1),t.lanes=4194304)}else{if(!r)if(e=AC(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Oy(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!pa)return ao(t),null}else 2*Ua()-i.renderingStartTime>Vv&&n!==1073741824&&(t.flags|=128,r=!0,Oy(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ua(),t.sibling=null,n=xa.current,Yr(xa,r?n&1|2:n&1),t):(ao(t),null);case 22:case 23:return TF(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?bs&1073741824&&(ao(t),t.subtreeFlags&6&&(t.flags|=8192)):ao(t),null;case 24:return null;case 25:return null}throw Error(Pt(156,t.tag))}function i0e(e,t){switch(cF(t),t.tag){case 1:return ts(t.type)&&CC(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Uv(),ra(es),ra(No),yF(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return vF(t),null;case 13:if(ra(xa),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Pt(340));Bv()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ra(xa),null;case 4:return Uv(),null;case 10:return hF(t.type._context),null;case 22:case 23:return TF(),null;case 24:return null;default:return null}}var Q2=!1,ho=!1,o0e=typeof WeakSet=="function"?WeakSet:Set,en=null;function zg(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ma(e,t,r)}else n.current=null}function VO(e,t,n){try{n()}catch(r){Ma(e,t,r)}}var j7=!1;function s0e(e,t){if(kO=bC,e=CJ(),sF(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var a=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,s=-1,l=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==n||a!==0&&f.nodeType!==3||(s=o+a),f!==i||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===n&&++u===a&&(s=o),h===i&&++d===r&&(l=o),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(jO={focusedElem:e,selectionRange:n},bC=!1,en=t;en!==null;)if(t=en,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,en=e;else for(;en!==null;){t=en;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var g=m.memoizedProps,y=m.memoizedState,x=t.stateNode,b=x.getSnapshotBeforeUpdate(t.elementType===t.type?g:Zl(t.type,g),y);x.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Pt(163))}}catch(_){Ma(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,en=e;break}en=t.return}return m=j7,j7=!1,m}function Vx(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&VO(t,n,i)}a=a.next}while(a!==r)}}function jk(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function HO(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function bee(e){var t=e.alternate;t!==null&&(e.alternate=null,bee(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Qc],delete t[W1],delete t[AO],delete t[Wve],delete t[Vve])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function wee(e){return e.tag===5||e.tag===3||e.tag===4}function T7(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||wee(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function qO(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=SC));else if(r!==4&&(e=e.child,e!==null))for(qO(e,t,n),e=e.sibling;e!==null;)qO(e,t,n),e=e.sibling}function GO(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(GO(e,t,n),e=e.sibling;e!==null;)GO(e,t,n),e=e.sibling}var zi=null,tc=!1;function tf(e,t,n){for(n=n.child;n!==null;)_ee(e,t,n),n=n.sibling}function _ee(e,t,n){if(uu&&typeof uu.onCommitFiberUnmount=="function")try{uu.onCommitFiberUnmount(bk,n)}catch{}switch(n.tag){case 5:ho||zg(n,t);case 6:var r=zi,a=tc;zi=null,tf(e,t,n),zi=r,tc=a,zi!==null&&(tc?(e=zi,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):zi.removeChild(n.stateNode));break;case 18:zi!==null&&(tc?(e=zi,n=n.stateNode,e.nodeType===8?hA(e.parentNode,n):e.nodeType===1&&hA(e,n),L1(e)):hA(zi,n.stateNode));break;case 4:r=zi,a=tc,zi=n.stateNode.containerInfo,tc=!0,tf(e,t,n),zi=r,tc=a;break;case 0:case 11:case 14:case 15:if(!ho&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){a=r=r.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&VO(n,t,o),a=a.next}while(a!==r)}tf(e,t,n);break;case 1:if(!ho&&(zg(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Ma(n,t,s)}tf(e,t,n);break;case 21:tf(e,t,n);break;case 22:n.mode&1?(ho=(r=ho)||n.memoizedState!==null,tf(e,t,n),ho=r):tf(e,t,n);break;default:tf(e,t,n)}}function P7(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new o0e),t.forEach(function(r){var a=g0e.bind(null,e,r);n.has(r)||(n.add(r),r.then(a,a))})}}function Vl(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var a=n[r];try{var i=e,o=t,s=o;e:for(;s!==null;){switch(s.tag){case 5:zi=s.stateNode,tc=!1;break e;case 3:zi=s.stateNode.containerInfo,tc=!0;break e;case 4:zi=s.stateNode.containerInfo,tc=!0;break e}s=s.return}if(zi===null)throw Error(Pt(160));_ee(i,o,a),zi=null,tc=!1;var l=a.alternate;l!==null&&(l.return=null),a.return=null}catch(u){Ma(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)See(t,e),t=t.sibling}function See(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Vl(t,e),Pc(e),r&4){try{Vx(3,e,e.return),jk(3,e)}catch(g){Ma(e,e.return,g)}try{Vx(5,e,e.return)}catch(g){Ma(e,e.return,g)}}break;case 1:Vl(t,e),Pc(e),r&512&&n!==null&&zg(n,n.return);break;case 5:if(Vl(t,e),Pc(e),r&512&&n!==null&&zg(n,n.return),e.flags&32){var a=e.stateNode;try{M1(a,"")}catch(g){Ma(e,e.return,g)}}if(r&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,s=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{s==="input"&&i.type==="radio"&&i.name!=null&&HQ(a,i),vO(s,o);var u=vO(s,i);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?XQ(a,f):d==="dangerouslySetInnerHTML"?YQ(a,f):d==="children"?M1(a,f):YR(a,d,f,u)}switch(s){case"input":fO(a,i);break;case"textarea":qQ(a,i);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?av(a,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?av(a,!!i.multiple,i.defaultValue,!0):av(a,!!i.multiple,i.multiple?[]:"",!1))}a[W1]=i}catch(g){Ma(e,e.return,g)}}break;case 6:if(Vl(t,e),Pc(e),r&4){if(e.stateNode===null)throw Error(Pt(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(g){Ma(e,e.return,g)}}break;case 3:if(Vl(t,e),Pc(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{L1(t.containerInfo)}catch(g){Ma(e,e.return,g)}break;case 4:Vl(t,e),Pc(e);break;case 13:Vl(t,e),Pc(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(kF=Ua())),r&4&&P7(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(ho=(u=ho)||d,Vl(t,e),ho=u):Vl(t,e),Pc(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(en=e,d=e.child;d!==null;){for(f=en=d;en!==null;){switch(h=en,p=h.child,h.tag){case 0:case 11:case 14:case 15:Vx(4,h,h.return);break;case 1:zg(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Ma(r,n,g)}}break;case 5:zg(h,h.return);break;case 22:if(h.memoizedState!==null){D7(f);continue}}p!==null?(p.return=h,en=p):D7(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,u?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(s=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=KQ("display",o))}catch(g){Ma(e,e.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){Ma(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Vl(t,e),Pc(e),r&4&&P7(e);break;case 21:break;default:Vl(t,e),Pc(e)}}function Pc(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(wee(n)){var r=n;break e}n=n.return}throw Error(Pt(160))}switch(r.tag){case 5:var a=r.stateNode;r.flags&32&&(M1(a,""),r.flags&=-33);var i=T7(e);GO(e,i,a);break;case 3:case 4:var o=r.stateNode.containerInfo,s=T7(e);qO(e,s,o);break;default:throw Error(Pt(161))}}catch(l){Ma(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function l0e(e,t,n){en=e,Cee(e)}function Cee(e,t,n){for(var r=(e.mode&1)!==0;en!==null;){var a=en,i=a.child;if(a.tag===22&&r){var o=a.memoizedState!==null||Q2;if(!o){var s=a.alternate,l=s!==null&&s.memoizedState!==null||ho;s=Q2;var u=ho;if(Q2=o,(ho=l)&&!u)for(en=a;en!==null;)o=en,l=o.child,o.tag===22&&o.memoizedState!==null?O7(a):l!==null?(l.return=o,en=l):O7(a);for(;i!==null;)en=i,Cee(i),i=i.sibling;en=a,Q2=s,ho=u}A7(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,en=i):A7(e)}}function A7(e){for(;en!==null;){var t=en;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ho||jk(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!ho)if(n===null)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:Zl(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&m7(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}m7(t,o,n)}break;case 5:var s=t.stateNode;if(n===null&&t.flags&4){n=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&L1(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Pt(163))}ho||t.flags&512&&HO(t)}catch(h){Ma(t,t.return,h)}}if(t===e){en=null;break}if(n=t.sibling,n!==null){n.return=t.return,en=n;break}en=t.return}}function D7(e){for(;en!==null;){var t=en;if(t===e){en=null;break}var n=t.sibling;if(n!==null){n.return=t.return,en=n;break}en=t.return}}function O7(e){for(;en!==null;){var t=en;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{jk(4,t)}catch(l){Ma(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var a=t.return;try{r.componentDidMount()}catch(l){Ma(t,a,l)}}var i=t.return;try{HO(t)}catch(l){Ma(t,i,l)}break;case 5:var o=t.return;try{HO(t)}catch(l){Ma(t,o,l)}}}catch(l){Ma(t,t.return,l)}if(t===e){en=null;break}var s=t.sibling;if(s!==null){s.return=t.return,en=s;break}en=t.return}}var c0e=Math.ceil,MC=$d.ReactCurrentDispatcher,EF=$d.ReactCurrentOwner,Sl=$d.ReactCurrentBatchConfig,lr=0,Ti=null,Ja=null,Qi=0,bs=0,Ug=Eh(0),ui=0,K1=null,lm=0,Tk=0,NF=0,Hx=null,qo=null,kF=0,Vv=1/0,Zu=null,IC=!1,YO=null,Kf=null,J2=!1,Tf=null,RC=0,qx=0,KO=null,IS=-1,RS=0;function $o(){return lr&6?Ua():IS!==-1?IS:IS=Ua()}function Xf(e){return e.mode&1?lr&2&&Qi!==0?Qi&-Qi:qve.transition!==null?(RS===0&&(RS=lJ()),RS):(e=Tr,e!==0||(e=window.event,e=e===void 0?16:mJ(e.type)),e):1}function hc(e,t,n,r){if(50<qx)throw qx=0,KO=null,Error(Pt(185));Aw(e,n,r),(!(lr&2)||e!==Ti)&&(e===Ti&&(!(lr&2)&&(Tk|=n),ui===4&&_f(e,Qi)),ns(e,r),n===1&&lr===0&&!(t.mode&1)&&(Vv=Ua()+500,Ek&&Nh()))}function ns(e,t){var n=e.callbackNode;qge(e,t);var r=xC(e,e===Ti?Qi:0);if(r===0)n!==null&&UB(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&UB(n),t===1)e.tag===0?Hve(M7.bind(null,e)):MJ(M7.bind(null,e)),zve(function(){!(lr&6)&&Nh()}),n=null;else{switch(cJ(r)){case 1:n=JR;break;case 4:n=oJ;break;case 16:n=yC;break;case 536870912:n=sJ;break;default:n=yC}n=Dee(n,Eee.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Eee(e,t){if(IS=-1,RS=0,lr&6)throw Error(Pt(327));var n=e.callbackNode;if(cv()&&e.callbackNode!==n)return null;var r=xC(e,e===Ti?Qi:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=FC(e,r);else{t=r;var a=lr;lr|=2;var i=kee();(Ti!==e||Qi!==t)&&(Zu=null,Vv=Ua()+500,Up(e,t));do try{f0e();break}catch(s){Nee(e,s)}while(!0);fF(),MC.current=i,lr=a,Ja!==null?t=0:(Ti=null,Qi=0,t=ui)}if(t!==0){if(t===2&&(a=_O(e),a!==0&&(r=a,t=XO(e,a))),t===1)throw n=K1,Up(e,0),_f(e,r),ns(e,Ua()),n;if(t===6)_f(e,r);else{if(a=e.current.alternate,!(r&30)&&!u0e(a)&&(t=FC(e,r),t===2&&(i=_O(e),i!==0&&(r=i,t=XO(e,i))),t===1))throw n=K1,Up(e,0),_f(e,r),ns(e,Ua()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(Pt(345));case 2:np(e,qo,Zu);break;case 3:if(_f(e,r),(r&130023424)===r&&(t=kF+500-Ua(),10<t)){if(xC(e,0)!==0)break;if(a=e.suspendedLanes,(a&r)!==r){$o(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=PO(np.bind(null,e,qo,Zu),t);break}np(e,qo,Zu);break;case 4:if(_f(e,r),(r&4194240)===r)break;for(t=e.eventTimes,a=-1;0<r;){var o=31-fc(r);i=1<<o,o=t[o],o>a&&(a=o),r&=~i}if(r=a,r=Ua()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*c0e(r/1960))-r,10<r){e.timeoutHandle=PO(np.bind(null,e,qo,Zu),r);break}np(e,qo,Zu);break;case 5:np(e,qo,Zu);break;default:throw Error(Pt(329))}}}return ns(e,Ua()),e.callbackNode===n?Eee.bind(null,e):null}function XO(e,t){var n=Hx;return e.current.memoizedState.isDehydrated&&(Up(e,t).flags|=256),e=FC(e,t),e!==2&&(t=qo,qo=n,t!==null&&ZO(t)),e}function ZO(e){qo===null?qo=e:qo.push.apply(qo,e)}function u0e(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var a=n[r],i=a.getSnapshot;a=a.value;try{if(!xc(i(),a))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function _f(e,t){for(t&=~NF,t&=~Tk,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-fc(t),r=1<<n;e[n]=-1,t&=~r}}function M7(e){if(lr&6)throw Error(Pt(327));cv();var t=xC(e,0);if(!(t&1))return ns(e,Ua()),null;var n=FC(e,t);if(e.tag!==0&&n===2){var r=_O(e);r!==0&&(t=r,n=XO(e,r))}if(n===1)throw n=K1,Up(e,0),_f(e,t),ns(e,Ua()),n;if(n===6)throw Error(Pt(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,np(e,qo,Zu),ns(e,Ua()),null}function jF(e,t){var n=lr;lr|=1;try{return e(t)}finally{lr=n,lr===0&&(Vv=Ua()+500,Ek&&Nh())}}function cm(e){Tf!==null&&Tf.tag===0&&!(lr&6)&&cv();var t=lr;lr|=1;var n=Sl.transition,r=Tr;try{if(Sl.transition=null,Tr=1,e)return e()}finally{Tr=r,Sl.transition=n,lr=t,!(lr&6)&&Nh()}}function TF(){bs=Ug.current,ra(Ug)}function Up(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Bve(n)),Ja!==null)for(n=Ja.return;n!==null;){var r=n;switch(cF(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&CC();break;case 3:Uv(),ra(es),ra(No),yF();break;case 5:vF(r);break;case 4:Uv();break;case 13:ra(xa);break;case 19:ra(xa);break;case 10:hF(r.type._context);break;case 22:case 23:TF()}n=n.return}if(Ti=e,Ja=e=Zf(e.current,null),Qi=bs=t,ui=0,K1=null,NF=Tk=lm=0,qo=Hx=null,_p!==null){for(t=0;t<_p.length;t++)if(n=_p[t],r=n.interleaved,r!==null){n.interleaved=null;var a=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=a,r.next=o}n.pending=r}_p=null}return e}function Nee(e,t){do{var n=Ja;try{if(fF(),DS.current=OC,DC){for(var r=Ca.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}DC=!1}if(sm=0,_i=ci=Ca=null,Wx=!1,q1=0,EF.current=null,n===null||n.return===null){ui=1,K1=t,Ja=null;break}e:{var i=e,o=n.return,s=n,l=t;if(t=Qi,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=s,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=w7(o);if(p!==null){p.flags&=-257,_7(p,o,s,i,t),p.mode&1&&b7(i,u,t),t=p,l=u;var m=t.updateQueue;if(m===null){var g=new Set;g.add(l),t.updateQueue=g}else m.add(l);break e}else{if(!(t&1)){b7(i,u,t),PF();break e}l=Error(Pt(426))}}else if(pa&&s.mode&1){var y=w7(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),_7(y,o,s,i,t),uF(Wv(l,s));break e}}i=l=Wv(l,s),ui!==4&&(ui=2),Hx===null?Hx=[i]:Hx.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var x=cee(i,l,t);p7(i,x);break e;case 1:s=l;var b=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof b.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Kf===null||!Kf.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var _=uee(i,s,t);p7(i,_);break e}}i=i.return}while(i!==null)}Tee(n)}catch(S){t=S,Ja===n&&n!==null&&(Ja=n=n.return);continue}break}while(!0)}function kee(){var e=MC.current;return MC.current=OC,e===null?OC:e}function PF(){(ui===0||ui===3||ui===2)&&(ui=4),Ti===null||!(lm&268435455)&&!(Tk&268435455)||_f(Ti,Qi)}function FC(e,t){var n=lr;lr|=2;var r=kee();(Ti!==e||Qi!==t)&&(Zu=null,Up(e,t));do try{d0e();break}catch(a){Nee(e,a)}while(!0);if(fF(),lr=n,MC.current=r,Ja!==null)throw Error(Pt(261));return Ti=null,Qi=0,ui}function d0e(){for(;Ja!==null;)jee(Ja)}function f0e(){for(;Ja!==null&&!Fge();)jee(Ja)}function jee(e){var t=Aee(e.alternate,e,bs);e.memoizedProps=e.pendingProps,t===null?Tee(e):Ja=t,EF.current=null}function Tee(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=i0e(n,t),n!==null){n.flags&=32767,Ja=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ui=6,Ja=null;return}}else if(n=a0e(n,t,bs),n!==null){Ja=n;return}if(t=t.sibling,t!==null){Ja=t;return}Ja=t=e}while(t!==null);ui===0&&(ui=5)}function np(e,t,n){var r=Tr,a=Sl.transition;try{Sl.transition=null,Tr=1,h0e(e,t,n,r)}finally{Sl.transition=a,Tr=r}return null}function h0e(e,t,n,r){do cv();while(Tf!==null);if(lr&6)throw Error(Pt(327));n=e.finishedWork;var a=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Pt(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(Gge(e,i),e===Ti&&(Ja=Ti=null,Qi=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||J2||(J2=!0,Dee(yC,function(){return cv(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Sl.transition,Sl.transition=null;var o=Tr;Tr=1;var s=lr;lr|=4,EF.current=null,s0e(e,n),See(n,e),Ove(jO),bC=!!kO,jO=kO=null,e.current=n,l0e(n),Lge(),lr=s,Tr=o,Sl.transition=i}else e.current=n;if(J2&&(J2=!1,Tf=e,RC=a),i=e.pendingLanes,i===0&&(Kf=null),zge(n.stateNode),ns(e,Ua()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(IC)throw IC=!1,e=YO,YO=null,e;return RC&1&&e.tag!==0&&cv(),i=e.pendingLanes,i&1?e===KO?qx++:(qx=0,KO=e):qx=0,Nh(),null}function cv(){if(Tf!==null){var e=cJ(RC),t=Sl.transition,n=Tr;try{if(Sl.transition=null,Tr=16>e?16:e,Tf===null)var r=!1;else{if(e=Tf,Tf=null,RC=0,lr&6)throw Error(Pt(331));var a=lr;for(lr|=4,en=e.current;en!==null;){var i=en,o=i.child;if(en.flags&16){var s=i.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(en=u;en!==null;){var d=en;switch(d.tag){case 0:case 11:case 15:Vx(8,d,i)}var f=d.child;if(f!==null)f.return=d,en=f;else for(;en!==null;){d=en;var h=d.sibling,p=d.return;if(bee(d),d===u){en=null;break}if(h!==null){h.return=p,en=h;break}en=p}}}var m=i.alternate;if(m!==null){var g=m.child;if(g!==null){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(g!==null)}}en=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,en=o;else e:for(;en!==null;){if(i=en,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Vx(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,en=x;break e}en=i.return}}var b=e.current;for(en=b;en!==null;){o=en;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,en=w;else e:for(o=b;en!==null;){if(s=en,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:jk(9,s)}}catch(S){Ma(s,s.return,S)}if(s===o){en=null;break e}var _=s.sibling;if(_!==null){_.return=s.return,en=_;break e}en=s.return}}if(lr=a,Nh(),uu&&typeof uu.onPostCommitFiberRoot=="function")try{uu.onPostCommitFiberRoot(bk,e)}catch{}r=!0}return r}finally{Tr=n,Sl.transition=t}}return!1}function I7(e,t,n){t=Wv(n,t),t=cee(e,t,1),e=Yf(e,t,1),t=$o(),e!==null&&(Aw(e,1,t),ns(e,t))}function Ma(e,t,n){if(e.tag===3)I7(e,e,n);else for(;t!==null;){if(t.tag===3){I7(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Kf===null||!Kf.has(r))){e=Wv(n,e),e=uee(t,e,1),t=Yf(t,e,1),e=$o(),t!==null&&(Aw(t,1,e),ns(t,e));break}}t=t.return}}function p0e(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=$o(),e.pingedLanes|=e.suspendedLanes&n,Ti===e&&(Qi&n)===n&&(ui===4||ui===3&&(Qi&130023424)===Qi&&500>Ua()-kF?Up(e,0):NF|=n),ns(e,t)}function Pee(e,t){t===0&&(e.mode&1?(t=W2,W2<<=1,!(W2&130023424)&&(W2=4194304)):t=1);var n=$o();e=Sd(e,t),e!==null&&(Aw(e,t,n),ns(e,n))}function m0e(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Pee(e,n)}function g0e(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Pt(314))}r!==null&&r.delete(t),Pee(e,n)}var Aee;Aee=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||es.current)Xo=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Xo=!1,r0e(e,t,n);Xo=!!(e.flags&131072)}else Xo=!1,pa&&t.flags&1048576&&IJ(t,kC,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;MS(e,t),e=t.pendingProps;var a=$v(t,No.current);lv(t,n),a=bF(null,t,r,e,a,n);var i=wF();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ts(r)?(i=!0,EC(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,mF(t),a.updater=kk,t.stateNode=a,a._reactInternals=t,FO(t,r,e,n),t=BO(null,t,r,!0,i,n)):(t.tag=0,pa&&i&&lF(t),Oo(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(MS(e,t),e=t.pendingProps,a=r._init,r=a(r._payload),t.type=r,a=t.tag=y0e(r),e=Zl(r,e),a){case 0:t=$O(null,t,r,e,n);break e;case 1:t=E7(null,t,r,e,n);break e;case 11:t=S7(null,t,r,e,n);break e;case 14:t=C7(null,t,r,Zl(r.type,e),n);break e}throw Error(Pt(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Zl(r,a),$O(e,t,r,a,n);case 1:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Zl(r,a),E7(e,t,r,a,n);case 3:e:{if(pee(t),e===null)throw Error(Pt(387));r=t.pendingProps,i=t.memoizedState,a=i.element,zJ(e,t),PC(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=Wv(Error(Pt(423)),t),t=N7(e,t,r,n,a);break e}else if(r!==a){a=Wv(Error(Pt(424)),t),t=N7(e,t,r,n,a);break e}else for(Ps=Gf(t.stateNode.containerInfo.firstChild),Ms=t,pa=!0,ac=null,n=$J(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Bv(),r===a){t=Cd(e,t,n);break e}Oo(e,t,r,n)}t=t.child}return t;case 5:return UJ(t),e===null&&MO(t),r=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,TO(r,a)?o=null:i!==null&&TO(r,i)&&(t.flags|=32),hee(e,t),Oo(e,t,o,n),t.child;case 6:return e===null&&MO(t),null;case 13:return mee(e,t,n);case 4:return gF(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=zv(t,null,r,n):Oo(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Zl(r,a),S7(e,t,r,a,n);case 7:return Oo(e,t,t.pendingProps,n),t.child;case 8:return Oo(e,t,t.pendingProps.children,n),t.child;case 12:return Oo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,Yr(jC,r._currentValue),r._currentValue=o,i!==null)if(xc(i.value,o)){if(i.children===a.children&&!es.current){t=Cd(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var s=i.dependencies;if(s!==null){o=i.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=fd(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),IO(i.return,n,t),s.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(Pt(341));o.lanes|=n,s=o.alternate,s!==null&&(s.lanes|=n),IO(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Oo(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,lv(t,n),a=Nl(a),r=r(a),t.flags|=1,Oo(e,t,r,n),t.child;case 14:return r=t.type,a=Zl(r,t.pendingProps),a=Zl(r.type,a),C7(e,t,r,a,n);case 15:return dee(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Zl(r,a),MS(e,t),t.tag=1,ts(r)?(e=!0,EC(t)):e=!1,lv(t,n),lee(t,r,a),FO(t,r,a,n),BO(null,t,r,!0,e,n);case 19:return gee(e,t,n);case 22:return fee(e,t,n)}throw Error(Pt(156,t.tag))};function Dee(e,t){return iJ(e,t)}function v0e(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xl(e,t,n,r){return new v0e(e,t,n,r)}function AF(e){return e=e.prototype,!(!e||!e.isReactComponent)}function y0e(e){if(typeof e=="function")return AF(e)?1:0;if(e!=null){if(e=e.$$typeof,e===XR)return 11;if(e===ZR)return 14}return 2}function Zf(e,t){var n=e.alternate;return n===null?(n=xl(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function FS(e,t,n,r,a,i){var o=2;if(r=e,typeof e=="function")AF(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Dg:return Wp(n.children,a,i,t);case KR:o=8,a|=8;break;case sO:return e=xl(12,n,t,a|2),e.elementType=sO,e.lanes=i,e;case lO:return e=xl(13,n,t,a),e.elementType=lO,e.lanes=i,e;case cO:return e=xl(19,n,t,a),e.elementType=cO,e.lanes=i,e;case UQ:return Pk(n,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case BQ:o=10;break e;case zQ:o=9;break e;case XR:o=11;break e;case ZR:o=14;break e;case gf:o=16,r=null;break e}throw Error(Pt(130,e==null?e:typeof e,""))}return t=xl(o,n,t,a),t.elementType=e,t.type=r,t.lanes=i,t}function Wp(e,t,n,r){return e=xl(7,e,r,t),e.lanes=n,e}function Pk(e,t,n,r){return e=xl(22,e,r,t),e.elementType=UQ,e.lanes=n,e.stateNode={isHidden:!1},e}function wA(e,t,n){return e=xl(6,e,null,t),e.lanes=n,e}function _A(e,t,n){return t=xl(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function x0e(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=nA(0),this.expirationTimes=nA(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=nA(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function DF(e,t,n,r,a,i,o,s,l){return e=new x0e(e,t,n,s,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=xl(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},mF(i),e}function b0e(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ag,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Oee(e){if(!e)return lh;e=e._reactInternals;e:{if(km(e)!==e||e.tag!==1)throw Error(Pt(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ts(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Pt(171))}if(e.tag===1){var n=e.type;if(ts(n))return OJ(e,n,t)}return t}function Mee(e,t,n,r,a,i,o,s,l){return e=DF(n,r,!0,e,a,i,o,s,l),e.context=Oee(null),n=e.current,r=$o(),a=Xf(n),i=fd(r,a),i.callback=t??null,Yf(n,i,a),e.current.lanes=a,Aw(e,a,r),ns(e,r),e}function Ak(e,t,n,r){var a=t.current,i=$o(),o=Xf(a);return n=Oee(n),t.context===null?t.context=n:t.pendingContext=n,t=fd(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Yf(a,t,o),e!==null&&(hc(e,a,o,i),AS(e,a,o)),o}function LC(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function R7(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function OF(e,t){R7(e,t),(e=e.alternate)&&R7(e,t)}function w0e(){return null}var Iee=typeof reportError=="function"?reportError:function(e){console.error(e)};function MF(e){this._internalRoot=e}Dk.prototype.render=MF.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Pt(409));Ak(e,t,null,null)};Dk.prototype.unmount=MF.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;cm(function(){Ak(null,e,null,null)}),t[_d]=null}};function Dk(e){this._internalRoot=e}Dk.prototype.unstable_scheduleHydration=function(e){if(e){var t=fJ();e={blockedOn:null,target:e,priority:t};for(var n=0;n<wf.length&&t!==0&&t<wf[n].priority;n++);wf.splice(n,0,e),n===0&&pJ(e)}};function IF(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ok(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function F7(){}function _0e(e,t,n,r,a){if(a){if(typeof r=="function"){var i=r;r=function(){var u=LC(o);i.call(u)}}var o=Mee(t,r,e,0,null,!1,!1,"",F7);return e._reactRootContainer=o,e[_d]=o.current,z1(e.nodeType===8?e.parentNode:e),cm(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof r=="function"){var s=r;r=function(){var u=LC(l);s.call(u)}}var l=DF(e,0,!1,null,null,!1,!1,"",F7);return e._reactRootContainer=l,e[_d]=l.current,z1(e.nodeType===8?e.parentNode:e),cm(function(){Ak(t,l,n,r)}),l}function Mk(e,t,n,r,a){var i=n._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var s=a;a=function(){var l=LC(o);s.call(l)}}Ak(t,o,e,a)}else o=_0e(n,t,e,a,r);return LC(o)}uJ=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=yx(t.pendingLanes);n!==0&&(eF(t,n|1),ns(t,Ua()),!(lr&6)&&(Vv=Ua()+500,Nh()))}break;case 13:cm(function(){var r=Sd(e,1);if(r!==null){var a=$o();hc(r,e,1,a)}}),OF(e,1)}};tF=function(e){if(e.tag===13){var t=Sd(e,134217728);if(t!==null){var n=$o();hc(t,e,134217728,n)}OF(e,134217728)}};dJ=function(e){if(e.tag===13){var t=Xf(e),n=Sd(e,t);if(n!==null){var r=$o();hc(n,e,t,r)}OF(e,t)}};fJ=function(){return Tr};hJ=function(e,t){var n=Tr;try{return Tr=e,t()}finally{Tr=n}};xO=function(e,t,n){switch(t){case"input":if(fO(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=Ck(r);if(!a)throw Error(Pt(90));VQ(r),fO(r,a)}}}break;case"textarea":qQ(e,n);break;case"select":t=n.value,t!=null&&av(e,!!n.multiple,t,!1)}};JQ=jF;eJ=cm;var S0e={usingClientEntryPoint:!1,Events:[Ow,Rg,Ck,ZQ,QQ,jF]},My={findFiberByHostInstance:wp,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},C0e={bundleType:My.bundleType,version:My.version,rendererPackageName:My.rendererPackageName,rendererConfig:My.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$d.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=rJ(e),e===null?null:e.stateNode},findFiberByHostInstance:My.findFiberByHostInstance||w0e,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var e_=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!e_.isDisabled&&e_.supportsFiber)try{bk=e_.inject(C0e),uu=e_}catch{}}Ws.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=S0e;Ws.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!IF(t))throw Error(Pt(200));return b0e(e,t,null,n)};Ws.createRoot=function(e,t){if(!IF(e))throw Error(Pt(299));var n=!1,r="",a=Iee;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=DF(e,1,!1,null,null,n,!1,r,a),e[_d]=t.current,z1(e.nodeType===8?e.parentNode:e),new MF(t)};Ws.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Pt(188)):(e=Object.keys(e).join(","),Error(Pt(268,e)));return e=rJ(t),e=e===null?null:e.stateNode,e};Ws.flushSync=function(e){return cm(e)};Ws.hydrate=function(e,t,n){if(!Ok(t))throw Error(Pt(200));return Mk(null,e,t,!0,n)};Ws.hydrateRoot=function(e,t,n){if(!IF(e))throw Error(Pt(405));var r=n!=null&&n.hydratedSources||null,a=!1,i="",o=Iee;if(n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Mee(t,null,e,1,n??null,a,!1,i,o),e[_d]=t.current,z1(e),r)for(e=0;e<r.length;e++)n=r[e],a=n._getVersion,a=a(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new Dk(t)};Ws.render=function(e,t,n){if(!Ok(t))throw Error(Pt(200));return Mk(null,e,t,!1,n)};Ws.unmountComponentAtNode=function(e){if(!Ok(e))throw Error(Pt(40));return e._reactRootContainer?(cm(function(){Mk(null,null,e,!1,function(){e._reactRootContainer=null,e[_d]=null})}),!0):!1};Ws.unstable_batchedUpdates=jF;Ws.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ok(n))throw Error(Pt(200));if(e==null||e._reactInternals===void 0)throw Error(Pt(38));return Mk(e,t,n,!1,r)};Ws.version="18.3.1-next-f1338f8080-20240426";function Ree(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ree)}catch(e){console.error(e)}}Ree(),RQ.exports=Ws;var jm=RQ.exports;const Cp=sr(jm),E0e=CQ({__proto__:null,default:Cp},[jm]);var L7=jm;iO.createRoot=L7.createRoot,iO.hydrateRoot=L7.hydrateRoot;var Ik=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Rk=typeof window>"u"||"Deno"in globalThis;function Ql(){}function N0e(e,t){return typeof e=="function"?e(t):e}function k0e(e){return typeof e=="number"&&e>=0&&e!==1/0}function j0e(e,t){return Math.max(e+(t||0)-Date.now(),0)}function QO(e,t){return typeof e=="function"?e(t):e}function T0e(e,t){return typeof e=="function"?e(t):e}function $7(e,t){const{type:n="all",exact:r,fetchStatus:a,predicate:i,queryKey:o,stale:s}=e;if(o){if(r){if(t.queryHash!==RF(o,t.options))return!1}else if(!Z1(t.queryKey,o))return!1}if(n!=="all"){const l=t.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof s=="boolean"&&t.isStale()!==s||a&&a!==t.state.fetchStatus||i&&!i(t))}function B7(e,t){const{exact:n,status:r,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(X1(t.options.mutationKey)!==X1(i))return!1}else if(!Z1(t.options.mutationKey,i))return!1}return!(r&&t.state.status!==r||a&&!a(t))}function RF(e,t){return((t==null?void 0:t.queryKeyHashFn)||X1)(e)}function X1(e){return JSON.stringify(e,(t,n)=>JO(n)?Object.keys(n).sort().reduce((r,a)=>(r[a]=n[a],r),{}):n)}function Z1(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>Z1(e[n],t[n])):!1}function Fee(e,t){if(e===t)return e;const n=z7(e)&&z7(t);if(n||JO(e)&&JO(t)){const r=n?e:Object.keys(e),a=r.length,i=n?t:Object.keys(t),o=i.length,s=n?[]:{},l=new Set(r);let u=0;for(let d=0;d<o;d++){const f=n?d:i[d];(!n&&l.has(f)||n)&&e[f]===void 0&&t[f]===void 0?(s[f]=void 0,u++):(s[f]=Fee(e[f],t[f]),s[f]===e[f]&&e[f]!==void 0&&u++)}return a===o&&u===a?e:s}return t}function z7(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function JO(e){if(!U7(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!U7(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function U7(e){return Object.prototype.toString.call(e)==="[object Object]"}function P0e(e){return new Promise(t=>{setTimeout(t,e)})}function A0e(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?Fee(e,t):t}function D0e(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function O0e(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var FF=Symbol();function Lee(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===FF?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Rp,Sf,Pv,gQ,M0e=(gQ=class extends Ik{constructor(){super();dr(this,Rp);dr(this,Sf);dr(this,Pv);Dn(this,Pv,t=>{if(!Rk&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){ht(this,Sf)||this.setEventListener(ht(this,Pv))}onUnsubscribe(){var t;this.hasListeners()||((t=ht(this,Sf))==null||t.call(this),Dn(this,Sf,void 0))}setEventListener(t){var n;Dn(this,Pv,t),(n=ht(this,Sf))==null||n.call(this),Dn(this,Sf,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){ht(this,Rp)!==t&&(Dn(this,Rp,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof ht(this,Rp)=="boolean"?ht(this,Rp):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Rp=new WeakMap,Sf=new WeakMap,Pv=new WeakMap,gQ),$ee=new M0e,Av,Cf,Dv,vQ,I0e=(vQ=class extends Ik{constructor(){super();dr(this,Av,!0);dr(this,Cf);dr(this,Dv);Dn(this,Dv,t=>{if(!Rk&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){ht(this,Cf)||this.setEventListener(ht(this,Dv))}onUnsubscribe(){var t;this.hasListeners()||((t=ht(this,Cf))==null||t.call(this),Dn(this,Cf,void 0))}setEventListener(t){var n;Dn(this,Dv,t),(n=ht(this,Cf))==null||n.call(this),Dn(this,Cf,t(this.setOnline.bind(this)))}setOnline(t){ht(this,Av)!==t&&(Dn(this,Av,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return ht(this,Av)}},Av=new WeakMap,Cf=new WeakMap,Dv=new WeakMap,vQ),$C=new I0e;function R0e(){let e,t;const n=new Promise((a,i)=>{e=a,t=i});n.status="pending",n.catch(()=>{});function r(a){Object.assign(n,a),delete n.resolve,delete n.reject}return n.resolve=a=>{r({status:"fulfilled",value:a}),e(a)},n.reject=a=>{r({status:"rejected",reason:a}),t(a)},n}function F0e(e){return Math.min(1e3*2**e,3e4)}function Bee(e){return(e??"online")==="online"?$C.isOnline():!0}var zee=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function SA(e){return e instanceof zee}function Uee(e){let t=!1,n=0,r=!1,a;const i=R0e(),o=g=>{var y;r||(h(new zee(g)),(y=e.abort)==null||y.call(e))},s=()=>{t=!0},l=()=>{t=!1},u=()=>$ee.isFocused()&&(e.networkMode==="always"||$C.isOnline())&&e.canRun(),d=()=>Bee(e.networkMode)&&e.canRun(),f=g=>{var y;r||(r=!0,(y=e.onSuccess)==null||y.call(e,g),a==null||a(),i.resolve(g))},h=g=>{var y;r||(r=!0,(y=e.onError)==null||y.call(e,g),a==null||a(),i.reject(g))},p=()=>new Promise(g=>{var y;a=x=>{(r||u())&&g(x)},(y=e.onPause)==null||y.call(e)}).then(()=>{var g;a=void 0,r||(g=e.onContinue)==null||g.call(e)}),m=()=>{if(r)return;let g;const y=n===0?e.initialPromise:void 0;try{g=y??e.fn()}catch(x){g=Promise.reject(x)}Promise.resolve(g).then(f).catch(x=>{var k;if(r)return;const b=e.retry??(Rk?0:3),w=e.retryDelay??F0e,_=typeof w=="function"?w(n,x):w,S=b===!0||typeof b=="number"&&n<b||typeof b=="function"&&b(n,x);if(t||!S){h(x);return}n++,(k=e.onFail)==null||k.call(e,n,x),P0e(_).then(()=>u()?void 0:p()).then(()=>{t?h(x):m()})})};return{promise:i,cancel:o,continue:()=>(a==null||a(),i),cancelRetry:s,continueRetry:l,canStart:d,start:()=>(d()?m():p().then(m),i)}}var L0e=e=>setTimeout(e,0);function $0e(){let e=[],t=0,n=s=>{s()},r=s=>{s()},a=L0e;const i=s=>{t?e.push(s):a(()=>{n(s)})},o=()=>{const s=e;e=[],s.length&&a(()=>{r(()=>{s.forEach(l=>{n(l)})})})};return{batch:s=>{let l;t++;try{l=s()}finally{t--,t||o()}return l},batchCalls:s=>(...l)=>{i(()=>{s(...l)})},schedule:i,setNotifyFunction:s=>{n=s},setBatchNotifyFunction:s=>{r=s},setScheduler:s=>{a=s}}}var Fo=$0e(),Fp,yQ,Wee=(yQ=class{constructor(){dr(this,Fp)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),k0e(this.gcTime)&&Dn(this,Fp,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Rk?1/0:5*60*1e3))}clearGcTimeout(){ht(this,Fp)&&(clearTimeout(ht(this,Fp)),Dn(this,Fp,void 0))}},Fp=new WeakMap,yQ),Ov,Lp,ll,$p,oo,jw,Bp,Jl,Gu,xQ,B0e=(xQ=class extends Wee{constructor(t){super();dr(this,Jl);dr(this,Ov);dr(this,Lp);dr(this,ll);dr(this,$p);dr(this,oo);dr(this,jw);dr(this,Bp);Dn(this,Bp,!1),Dn(this,jw,t.defaultOptions),this.setOptions(t.options),this.observers=[],Dn(this,$p,t.client),Dn(this,ll,ht(this,$p).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Dn(this,Ov,U0e(this.options)),this.state=t.state??ht(this,Ov),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=ht(this,oo))==null?void 0:t.promise}setOptions(t){this.options={...ht(this,jw),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ht(this,ll).remove(this)}setData(t,n){const r=A0e(this.state.data,t,this.options);return no(this,Jl,Gu).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){no(this,Jl,Gu).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,a;const n=(r=ht(this,oo))==null?void 0:r.promise;return(a=ht(this,oo))==null||a.cancel(t),n?n.then(Ql).catch(Ql):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ht(this,Ov))}isActive(){return this.observers.some(t=>T0e(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===FF||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>QO(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!j0e(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=ht(this,oo))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=ht(this,oo))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),ht(this,ll).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(ht(this,oo)&&(ht(this,Bp)?ht(this,oo).cancel({revert:!0}):ht(this,oo).cancelRetry()),this.scheduleGc()),ht(this,ll).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||no(this,Jl,Gu).call(this,{type:"invalidate"})}fetch(t,n){var u,d,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(ht(this,oo))return ht(this,oo).continueRetry(),ht(this,oo).promise}if(t&&this.setOptions(t),!this.options.queryFn){const h=this.observers.find(p=>p.options.queryFn);h&&this.setOptions(h.options)}const r=new AbortController,a=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(Dn(this,Bp,!0),r.signal)})},i=()=>{const h=Lee(this.options,n),m=(()=>{const g={client:ht(this,$p),queryKey:this.queryKey,meta:this.meta};return a(g),g})();return Dn(this,Bp,!1),this.options.persister?this.options.persister(h,m,this):h(m)},s=(()=>{const h={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:ht(this,$p),state:this.state,fetchFn:i};return a(h),h})();(u=this.options.behavior)==null||u.onFetch(s,this),Dn(this,Lp,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=s.fetchOptions)==null?void 0:d.meta))&&no(this,Jl,Gu).call(this,{type:"fetch",meta:(f=s.fetchOptions)==null?void 0:f.meta});const l=h=>{var p,m,g,y;SA(h)&&h.silent||no(this,Jl,Gu).call(this,{type:"error",error:h}),SA(h)||((m=(p=ht(this,ll).config).onError)==null||m.call(p,h,this),(y=(g=ht(this,ll).config).onSettled)==null||y.call(g,this.state.data,h,this)),this.scheduleGc()};return Dn(this,oo,Uee({initialPromise:n==null?void 0:n.initialPromise,fn:s.fetchFn,abort:r.abort.bind(r),onSuccess:h=>{var p,m,g,y;if(h===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(x){l(x);return}(m=(p=ht(this,ll).config).onSuccess)==null||m.call(p,h,this),(y=(g=ht(this,ll).config).onSettled)==null||y.call(g,h,this.state.error,this),this.scheduleGc()},onError:l,onFail:(h,p)=>{no(this,Jl,Gu).call(this,{type:"failed",failureCount:h,error:p})},onPause:()=>{no(this,Jl,Gu).call(this,{type:"pause"})},onContinue:()=>{no(this,Jl,Gu).call(this,{type:"continue"})},retry:s.options.retry,retryDelay:s.options.retryDelay,networkMode:s.options.networkMode,canRun:()=>!0})),ht(this,oo).start()}},Ov=new WeakMap,Lp=new WeakMap,ll=new WeakMap,$p=new WeakMap,oo=new WeakMap,jw=new WeakMap,Bp=new WeakMap,Jl=new WeakSet,Gu=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...z0e(r.data,this.options),fetchMeta:t.meta??null};case"success":return Dn(this,Lp,void 0),{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=t.error;return SA(a)&&a.revert&&ht(this,Lp)?{...ht(this,Lp),fetchStatus:"idle"}:{...r,error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),Fo.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),ht(this,ll).notify({query:this,type:"updated",action:t})})},xQ);function z0e(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Bee(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function U0e(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Hc,bQ,W0e=(bQ=class extends Ik{constructor(t={}){super();dr(this,Hc);this.config=t,Dn(this,Hc,new Map)}build(t,n,r){const a=n.queryKey,i=n.queryHash??RF(a,n);let o=this.get(i);return o||(o=new B0e({client:t,queryKey:a,queryHash:i,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(a)}),this.add(o)),o}add(t){ht(this,Hc).has(t.queryHash)||(ht(this,Hc).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=ht(this,Hc).get(t.queryHash);n&&(t.destroy(),n===t&&ht(this,Hc).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Fo.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return ht(this,Hc).get(t)}getAll(){return[...ht(this,Hc).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>$7(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>$7(t,r)):n}notify(t){Fo.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Fo.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Fo.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Hc=new WeakMap,bQ),qc,Do,zp,Gc,ff,wQ,V0e=(wQ=class extends Wee{constructor(t){super();dr(this,Gc);dr(this,qc);dr(this,Do);dr(this,zp);this.mutationId=t.mutationId,Dn(this,Do,t.mutationCache),Dn(this,qc,[]),this.state=t.state||H0e(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){ht(this,qc).includes(t)||(ht(this,qc).push(t),this.clearGcTimeout(),ht(this,Do).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Dn(this,qc,ht(this,qc).filter(n=>n!==t)),this.scheduleGc(),ht(this,Do).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){ht(this,qc).length||(this.state.status==="pending"?this.scheduleGc():ht(this,Do).remove(this))}continue(){var t;return((t=ht(this,zp))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,o,s,l,u,d,f,h,p,m,g,y,x,b,w,_,S,k,N,P;const n=()=>{no(this,Gc,ff).call(this,{type:"continue"})};Dn(this,zp,Uee({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(T,j)=>{no(this,Gc,ff).call(this,{type:"failed",failureCount:T,error:j})},onPause:()=>{no(this,Gc,ff).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ht(this,Do).canRun(this)}));const r=this.state.status==="pending",a=!ht(this,zp).canStart();try{if(r)n();else{no(this,Gc,ff).call(this,{type:"pending",variables:t,isPaused:a}),await((o=(i=ht(this,Do).config).onMutate)==null?void 0:o.call(i,t,this));const j=await((l=(s=this.options).onMutate)==null?void 0:l.call(s,t));j!==this.state.context&&no(this,Gc,ff).call(this,{type:"pending",context:j,variables:t,isPaused:a})}const T=await ht(this,zp).start();return await((d=(u=ht(this,Do).config).onSuccess)==null?void 0:d.call(u,T,t,this.state.context,this)),await((h=(f=this.options).onSuccess)==null?void 0:h.call(f,T,t,this.state.context)),await((m=(p=ht(this,Do).config).onSettled)==null?void 0:m.call(p,T,null,this.state.variables,this.state.context,this)),await((y=(g=this.options).onSettled)==null?void 0:y.call(g,T,null,t,this.state.context)),no(this,Gc,ff).call(this,{type:"success",data:T}),T}catch(T){try{throw await((b=(x=ht(this,Do).config).onError)==null?void 0:b.call(x,T,t,this.state.context,this)),await((_=(w=this.options).onError)==null?void 0:_.call(w,T,t,this.state.context)),await((k=(S=ht(this,Do).config).onSettled)==null?void 0:k.call(S,void 0,T,this.state.variables,this.state.context,this)),await((P=(N=this.options).onSettled)==null?void 0:P.call(N,void 0,T,t,this.state.context)),T}finally{no(this,Gc,ff).call(this,{type:"error",error:T})}}finally{ht(this,Do).runNext(this)}}},qc=new WeakMap,Do=new WeakMap,zp=new WeakMap,Gc=new WeakSet,ff=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Fo.batch(()=>{ht(this,qc).forEach(r=>{r.onMutationUpdate(t)}),ht(this,Do).notify({mutation:this,type:"updated",action:t})})},wQ);function H0e(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var nd,ec,Tw,_Q,q0e=(_Q=class extends Ik{constructor(t={}){super();dr(this,nd);dr(this,ec);dr(this,Tw);this.config=t,Dn(this,nd,new Set),Dn(this,ec,new Map),Dn(this,Tw,0)}build(t,n,r){const a=new V0e({mutationCache:this,mutationId:++F2(this,Tw)._,options:t.defaultMutationOptions(n),state:r});return this.add(a),a}add(t){ht(this,nd).add(t);const n=t_(t);if(typeof n=="string"){const r=ht(this,ec).get(n);r?r.push(t):ht(this,ec).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(ht(this,nd).delete(t)){const n=t_(t);if(typeof n=="string"){const r=ht(this,ec).get(n);if(r)if(r.length>1){const a=r.indexOf(t);a!==-1&&r.splice(a,1)}else r[0]===t&&ht(this,ec).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=t_(t);if(typeof n=="string"){const r=ht(this,ec).get(n),a=r==null?void 0:r.find(i=>i.state.status==="pending");return!a||a===t}else return!0}runNext(t){var r;const n=t_(t);if(typeof n=="string"){const a=(r=ht(this,ec).get(n))==null?void 0:r.find(i=>i!==t&&i.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Fo.batch(()=>{ht(this,nd).forEach(t=>{this.notify({type:"removed",mutation:t})}),ht(this,nd).clear(),ht(this,ec).clear()})}getAll(){return Array.from(ht(this,nd))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>B7(n,r))}findAll(t={}){return this.getAll().filter(n=>B7(t,n))}notify(t){Fo.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Fo.batch(()=>Promise.all(t.map(n=>n.continue().catch(Ql))))}},nd=new WeakMap,ec=new WeakMap,Tw=new WeakMap,_Q);function t_(e){var t;return(t=e.options.scope)==null?void 0:t.id}function W7(e){return{onFetch:(t,n)=>{var d,f,h,p,m;const r=t.options,a=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,i=((p=t.state.data)==null?void 0:p.pages)||[],o=((m=t.state.data)==null?void 0:m.pageParams)||[];let s={pages:[],pageParams:[]},l=0;const u=async()=>{let g=!1;const y=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?g=!0:t.signal.addEventListener("abort",()=>{g=!0}),t.signal)})},x=Lee(t.options,t.fetchOptions),b=async(w,_,S)=>{if(g)return Promise.reject();if(_==null&&w.pages.length)return Promise.resolve(w);const N=(()=>{const D={client:t.client,queryKey:t.queryKey,pageParam:_,direction:S?"backward":"forward",meta:t.options.meta};return y(D),D})(),P=await x(N),{maxPages:T}=t.options,j=S?O0e:D0e;return{pages:j(w.pages,P,T),pageParams:j(w.pageParams,_,T)}};if(a&&i.length){const w=a==="backward",_=w?G0e:V7,S={pages:i,pageParams:o},k=_(r,S);s=await b(S,k,w)}else{const w=e??i.length;do{const _=l===0?o[0]??r.initialPageParam:V7(r,s);if(l>0&&_==null)break;s=await b(s,_),l++}while(l<w)}return s};t.options.persister?t.fetchFn=()=>{var g,y;return(y=(g=t.options).persister)==null?void 0:y.call(g,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function V7(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function G0e(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var Pa,Ef,Nf,Mv,Iv,kf,Rv,Fv,SQ,Y0e=(SQ=class{constructor(e={}){dr(this,Pa);dr(this,Ef);dr(this,Nf);dr(this,Mv);dr(this,Iv);dr(this,kf);dr(this,Rv);dr(this,Fv);Dn(this,Pa,e.queryCache||new W0e),Dn(this,Ef,e.mutationCache||new q0e),Dn(this,Nf,e.defaultOptions||{}),Dn(this,Mv,new Map),Dn(this,Iv,new Map),Dn(this,kf,0)}mount(){F2(this,kf)._++,ht(this,kf)===1&&(Dn(this,Rv,$ee.subscribe(async e=>{e&&(await this.resumePausedMutations(),ht(this,Pa).onFocus())})),Dn(this,Fv,$C.subscribe(async e=>{e&&(await this.resumePausedMutations(),ht(this,Pa).onOnline())})))}unmount(){var e,t;F2(this,kf)._--,ht(this,kf)===0&&((e=ht(this,Rv))==null||e.call(this),Dn(this,Rv,void 0),(t=ht(this,Fv))==null||t.call(this),Dn(this,Fv,void 0))}isFetching(e){return ht(this,Pa).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return ht(this,Ef).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=ht(this,Pa).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=ht(this,Pa).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(QO(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return ht(this,Pa).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),a=ht(this,Pa).get(r.queryHash),i=a==null?void 0:a.state.data,o=N0e(t,i);if(o!==void 0)return ht(this,Pa).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return Fo.batch(()=>ht(this,Pa).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=ht(this,Pa).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=ht(this,Pa);Fo.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=ht(this,Pa);return Fo.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=Fo.batch(()=>ht(this,Pa).findAll(e).map(a=>a.cancel(n)));return Promise.all(r).then(Ql).catch(Ql)}invalidateQueries(e,t={}){return Fo.batch(()=>(ht(this,Pa).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=Fo.batch(()=>ht(this,Pa).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,n);return n.throwOnError||(i=i.catch(Ql)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Ql)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=ht(this,Pa).build(this,t);return n.isStaleByTime(QO(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Ql).catch(Ql)}fetchInfiniteQuery(e){return e.behavior=W7(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Ql).catch(Ql)}ensureInfiniteQueryData(e){return e.behavior=W7(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return $C.isOnline()?ht(this,Ef).resumePausedMutations():Promise.resolve()}getQueryCache(){return ht(this,Pa)}getMutationCache(){return ht(this,Ef)}getDefaultOptions(){return ht(this,Nf)}setDefaultOptions(e){Dn(this,Nf,e)}setQueryDefaults(e,t){ht(this,Mv).set(X1(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...ht(this,Mv).values()],n={};return t.forEach(r=>{Z1(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){ht(this,Iv).set(X1(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...ht(this,Iv).values()],n={};return t.forEach(r=>{Z1(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...ht(this,Nf).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=RF(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===FF&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...ht(this,Nf).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){ht(this,Pa).clear(),ht(this,Ef).clear()}},Pa=new WeakMap,Ef=new WeakMap,Nf=new WeakMap,Mv=new WeakMap,Iv=new WeakMap,kf=new WeakMap,Rv=new WeakMap,Fv=new WeakMap,SQ),K0e=E.createContext(void 0),X0e=({client:e,children:t})=>(E.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),c.jsx(K0e.Provider,{value:e,children:t}));const LF=E.createContext(void 0),Z0e=({children:e})=>{const[t,n]=E.useState(()=>{const l=localStorage.getItem("user");return l?JSON.parse(l):null}),[r,a]=E.useState(()=>!!localStorage.getItem("token")),i=(l,u)=>{localStorage.setItem("user",JSON.stringify(l)),localStorage.setItem("token",u),n(l),a(!0)},o=()=>{localStorage.removeItem("user"),localStorage.removeItem("token"),n(null),a(!1)},s=l=>{n(u=>{if(!u)return null;const d={...u,...l};return localStorage.setItem("user",JSON.stringify(d)),d})};return E.useEffect(()=>{const l=localStorage.getItem("token"),u=localStorage.getItem("user");l&&u&&(n(JSON.parse(u)),a(!0))},[]),c.jsx(LF.Provider,{value:{user:t,login:i,logout:o,isAuthenticated:r,updateUser:s},children:e})},Fk=()=>{const e=le.useContext(LF);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e};/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ha(){return ha=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ha.apply(this,arguments)}var Za;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Za||(Za={}));const H7="popstate";function Q0e(e){e===void 0&&(e={});function t(r,a){let{pathname:i,search:o,hash:s}=r.location;return Q1("",{pathname:i,search:o,hash:s},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(r,a){return typeof a=="string"?a:um(a)}return eye(t,n,null,e)}function Un(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Hv(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function J0e(){return Math.random().toString(36).substr(2,8)}function q7(e,t){return{usr:e.state,key:e.key,idx:t}}function Q1(e,t,n,r){return n===void 0&&(n=null),ha({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?kh(t):t,{state:n,key:t&&t.key||r||J0e()})}function um(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function kh(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function eye(e,t,n,r){r===void 0&&(r={});let{window:a=document.defaultView,v5Compat:i=!1}=r,o=a.history,s=Za.Pop,l=null,u=d();u==null&&(u=0,o.replaceState(ha({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){s=Za.Pop;let y=d(),x=y==null?null:y-u;u=y,l&&l({action:s,location:g.location,delta:x})}function h(y,x){s=Za.Push;let b=Q1(g.location,y,x);u=d()+1;let w=q7(b,u),_=g.createHref(b);try{o.pushState(w,"",_)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;a.location.assign(_)}i&&l&&l({action:s,location:g.location,delta:1})}function p(y,x){s=Za.Replace;let b=Q1(g.location,y,x);u=d();let w=q7(b,u),_=g.createHref(b);o.replaceState(w,"",_),i&&l&&l({action:s,location:g.location,delta:0})}function m(y){let x=a.location.origin!=="null"?a.location.origin:a.location.href,b=typeof y=="string"?y:um(y);return b=b.replace(/ $/,"%20"),Un(x,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,x)}let g={get action(){return s},get location(){return e(a,o)},listen(y){if(l)throw new Error("A history only accepts one active listener");return a.addEventListener(H7,f),l=y,()=>{a.removeEventListener(H7,f),l=null}},createHref(y){return t(a,y)},createURL:m,encodeLocation(y){let x=m(y);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:h,replace:p,go(y){return o.go(y)}};return g}var Nr;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Nr||(Nr={}));const tye=new Set(["lazy","caseSensitive","path","id","index","children"]);function nye(e){return e.index===!0}function BC(e,t,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),e.map((a,i)=>{let o=[...n,String(i)],s=typeof a.id=="string"?a.id:o.join("-");if(Un(a.index!==!0||!a.children,"Cannot specify children on an index route"),Un(!r[s],'Found a route id collision on id "'+s+`".  Route id's must be globally unique within Data Router usages`),nye(a)){let l=ha({},a,t(a),{id:s});return r[s]=l,l}else{let l=ha({},a,t(a),{id:s,children:void 0});return r[s]=l,a.children&&(l.children=BC(a.children,t,o,r)),l}})}function mp(e,t,n){return n===void 0&&(n="/"),LS(e,t,n,!1)}function LS(e,t,n,r){let a=typeof t=="string"?kh(t):t,i=Ed(a.pathname||"/",n);if(i==null)return null;let o=Vee(e);aye(o);let s=null;for(let l=0;s==null&&l<o.length;++l){let u=mye(i);s=hye(o[l],u,r)}return s}function rye(e,t){let{route:n,pathname:r,params:a}=e;return{id:n.id,pathname:r,params:a,data:t[n.id],handle:n.handle}}function Vee(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let a=(i,o,s)=>{let l={relativePath:s===void 0?i.path||"":s,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(Un(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=hd([r,l.relativePath]),d=n.concat(l);i.children&&i.children.length>0&&(Un(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Vee(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:dye(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var s;if(i.path===""||!((s=i.path)!=null&&s.includes("?")))a(i,o);else for(let l of Hee(i.path))a(i,o,l)}),t}function Hee(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,a=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return a?[i,""]:[i];let o=Hee(r.join("/")),s=[];return s.push(...o.map(l=>l===""?i:[i,l].join("/"))),a&&s.push(...o),s.map(l=>e.startsWith("/")&&l===""?"/":l)}function aye(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:fye(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const iye=/^:[\w-]+$/,oye=3,sye=2,lye=1,cye=10,uye=-2,G7=e=>e==="*";function dye(e,t){let n=e.split("/"),r=n.length;return n.some(G7)&&(r+=uye),t&&(r+=sye),n.filter(a=>!G7(a)).reduce((a,i)=>a+(iye.test(i)?oye:i===""?lye:cye),r)}function fye(e,t){return e.length===t.length&&e.slice(0,-1).every((r,a)=>r===t[a])?e[e.length-1]-t[t.length-1]:0}function hye(e,t,n){n===void 0&&(n=!1);let{routesMeta:r}=e,a={},i="/",o=[];for(let s=0;s<r.length;++s){let l=r[s],u=s===r.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=zC({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),h=l.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=zC({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!f)return null;Object.assign(a,f.params),o.push({params:a,pathname:hd([i,f.pathname]),pathnameBase:yye(hd([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=hd([i,f.pathnameBase]))}return o}function zC(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=pye(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),s=a.slice(1);return{params:r.reduce((u,d,f)=>{let{paramName:h,isOptional:p}=d;if(h==="*"){let g=s[f]||"";o=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const m=s[f];return p&&!m?u[h]=void 0:u[h]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function pye(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Hv(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,s,l)=>(r.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}function mye(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Hv(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Ed(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function gye(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:a=""}=typeof e=="string"?kh(e):e;return{pathname:n?n.startsWith("/")?n:vye(n,t):t,search:xye(r),hash:bye(a)}}function vye(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function CA(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function qee(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Lk(e,t){let n=qee(e);return t?n.map((r,a)=>a===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function $k(e,t,n,r){r===void 0&&(r=!1);let a;typeof e=="string"?a=kh(e):(a=ha({},e),Un(!a.pathname||!a.pathname.includes("?"),CA("?","pathname","search",a)),Un(!a.pathname||!a.pathname.includes("#"),CA("#","pathname","hash",a)),Un(!a.search||!a.search.includes("#"),CA("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,s;if(o==null)s=n;else{let f=t.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;a.pathname=h.join("/")}s=f>=0?t[f]:"/"}let l=gye(a,s),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const hd=e=>e.join("/").replace(/\/\/+/g,"/"),yye=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),xye=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,bye=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;class UC{constructor(t,n,r,a){a===void 0&&(a=!1),this.status=t,this.statusText=n||"",this.internal=a,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function J1(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Gee=["post","put","patch","delete"],wye=new Set(Gee),_ye=["get",...Gee],Sye=new Set(_ye),Cye=new Set([301,302,303,307,308]),Eye=new Set([307,308]),EA={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Nye={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Iy={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},$F=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,kye=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),Yee="remix-router-transitions";function jye(e){const t=e.window?e.window:typeof window<"u"?window:void 0,n=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u",r=!n;Un(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let a;if(e.mapRouteProperties)a=e.mapRouteProperties;else if(e.detectErrorBoundary){let ke=e.detectErrorBoundary;a=De=>({hasErrorBoundary:ke(De)})}else a=kye;let i={},o=BC(e.routes,a,void 0,i),s,l=e.basename||"/",u=e.dataStrategy||Dye,d=e.patchRoutesOnNavigation,f=ha({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},e.future),h=null,p=new Set,m=null,g=null,y=null,x=e.hydrationData!=null,b=mp(o,e.history.location,l),w=!1,_=null;if(b==null&&!d){let ke=Ho(404,{pathname:e.history.location.pathname}),{matches:De,route:Xe}=a9(o);b=De,_={[Xe.id]:ke}}b&&!e.hydrationData&&wt(b,o,e.history.location.pathname).active&&(b=null);let S;if(b)if(b.some(ke=>ke.route.lazy))S=!1;else if(!b.some(ke=>ke.route.loader))S=!0;else if(f.v7_partialHydration){let ke=e.hydrationData?e.hydrationData.loaderData:null,De=e.hydrationData?e.hydrationData.errors:null;if(De){let Xe=b.findIndex(it=>De[it.route.id]!==void 0);S=b.slice(0,Xe+1).every(it=>!t3(it.route,ke,De))}else S=b.every(Xe=>!t3(Xe.route,ke,De))}else S=e.hydrationData!=null;else if(S=!1,b=[],f.v7_partialHydration){let ke=wt(null,o,e.history.location.pathname);ke.active&&ke.matches&&(w=!0,b=ke.matches)}let k,N={historyAction:e.history.action,location:e.history.location,matches:b,initialized:S,navigation:EA,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||_,fetchers:new Map,blockers:new Map},P=Za.Pop,T=!1,j,D=!1,M=new Map,R=null,W=!1,B=!1,V=[],q=new Set,I=new Map,O=0,H=-1,ne=new Map,z=new Set,J=new Map,ee=new Map,G=new Set,Z=new Map,se=new Map,ae;function Y(){if(h=e.history.listen(ke=>{let{action:De,location:Xe,delta:it}=ke;if(ae){ae(),ae=void 0;return}Hv(se.size===0||it!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let et=rr({currentLocation:N.location,nextLocation:Xe,historyAction:De});if(et&&it!=null){let ie=new Promise(ge=>{ae=ge});e.history.go(it*-1),ln(et,{state:"blocked",location:Xe,proceed(){ln(et,{state:"proceeding",proceed:void 0,reset:void 0,location:Xe}),ie.then(()=>e.history.go(it))},reset(){let ge=new Map(N.blockers);ge.set(et,Iy),F({blockers:ge})}});return}return me(De,Xe)}),n){qye(t,M);let ke=()=>Gye(t,M);t.addEventListener("pagehide",ke),R=()=>t.removeEventListener("pagehide",ke)}return N.initialized||me(Za.Pop,N.location,{initialHydration:!0}),k}function X(){h&&h(),R&&R(),p.clear(),j&&j.abort(),N.fetchers.forEach((ke,De)=>Ge(De)),N.blockers.forEach((ke,De)=>Lt(De))}function K(ke){return p.add(ke),()=>p.delete(ke)}function F(ke,De){De===void 0&&(De={}),N=ha({},N,ke);let Xe=[],it=[];f.v7_fetcherPersist&&N.fetchers.forEach((et,ie)=>{et.state==="idle"&&(G.has(ie)?it.push(ie):Xe.push(ie))}),G.forEach(et=>{!N.fetchers.has(et)&&!I.has(et)&&it.push(et)}),[...p].forEach(et=>et(N,{deletedFetchers:it,viewTransitionOpts:De.viewTransitionOpts,flushSync:De.flushSync===!0})),f.v7_fetcherPersist?(Xe.forEach(et=>N.fetchers.delete(et)),it.forEach(et=>Ge(et))):it.forEach(et=>G.delete(et))}function re(ke,De,Xe){var it,et;let{flushSync:ie}=Xe===void 0?{}:Xe,ge=N.actionData!=null&&N.navigation.formMethod!=null&&nc(N.navigation.formMethod)&&N.navigation.state==="loading"&&((it=ke.state)==null?void 0:it._isRedirect)!==!0,ce;De.actionData?Object.keys(De.actionData).length>0?ce=De.actionData:ce=null:ge?ce=N.actionData:ce=null;let fe=De.loaderData?n9(N.loaderData,De.loaderData,De.matches||[],De.errors):N.loaderData,pe=N.blockers;pe.size>0&&(pe=new Map(pe),pe.forEach((Ve,Ue)=>pe.set(Ue,Iy)));let ve=T===!0||N.navigation.formMethod!=null&&nc(N.navigation.formMethod)&&((et=ke.state)==null?void 0:et._isRedirect)!==!0;s&&(o=s,s=void 0),W||P===Za.Pop||(P===Za.Push?e.history.push(ke,ke.state):P===Za.Replace&&e.history.replace(ke,ke.state));let Oe;if(P===Za.Pop){let Ve=M.get(N.location.pathname);Ve&&Ve.has(ke.pathname)?Oe={currentLocation:N.location,nextLocation:ke}:M.has(ke.pathname)&&(Oe={currentLocation:ke,nextLocation:N.location})}else if(D){let Ve=M.get(N.location.pathname);Ve?Ve.add(ke.pathname):(Ve=new Set([ke.pathname]),M.set(N.location.pathname,Ve)),Oe={currentLocation:N.location,nextLocation:ke}}F(ha({},De,{actionData:ce,loaderData:fe,historyAction:P,location:ke,initialized:!0,navigation:EA,revalidation:"idle",restoreScrollPosition:At(ke,De.matches||N.matches),preventScrollReset:ve,blockers:pe}),{viewTransitionOpts:Oe,flushSync:ie===!0}),P=Za.Pop,T=!1,D=!1,W=!1,B=!1,V=[]}async function Q(ke,De){if(typeof ke=="number"){e.history.go(ke);return}let Xe=e3(N.location,N.matches,l,f.v7_prependBasename,ke,f.v7_relativeSplatPath,De==null?void 0:De.fromRouteId,De==null?void 0:De.relative),{path:it,submission:et,error:ie}=Y7(f.v7_normalizeFormMethod,!1,Xe,De),ge=N.location,ce=Q1(N.location,it,De&&De.state);ce=ha({},ce,e.history.encodeLocation(ce));let fe=De&&De.replace!=null?De.replace:void 0,pe=Za.Push;fe===!0?pe=Za.Replace:fe===!1||et!=null&&nc(et.formMethod)&&et.formAction===N.location.pathname+N.location.search&&(pe=Za.Replace);let ve=De&&"preventScrollReset"in De?De.preventScrollReset===!0:void 0,Oe=(De&&De.flushSync)===!0,Ve=rr({currentLocation:ge,nextLocation:ce,historyAction:pe});if(Ve){ln(Ve,{state:"blocked",location:ce,proceed(){ln(Ve,{state:"proceeding",proceed:void 0,reset:void 0,location:ce}),Q(ke,De)},reset(){let Ue=new Map(N.blockers);Ue.set(Ve,Iy),F({blockers:Ue})}});return}return await me(pe,ce,{submission:et,pendingError:ie,preventScrollReset:ve,replace:De&&De.replace,enableViewTransition:De&&De.viewTransition,flushSync:Oe})}function oe(){if(Zt(),F({revalidation:"loading"}),N.navigation.state!=="submitting"){if(N.navigation.state==="idle"){me(N.historyAction,N.location,{startUninterruptedRevalidation:!0});return}me(P||N.historyAction,N.navigation.location,{overrideNavigation:N.navigation,enableViewTransition:D===!0})}}async function me(ke,De,Xe){j&&j.abort(),j=null,P=ke,W=(Xe&&Xe.startUninterruptedRevalidation)===!0,je(N.location,N.matches),T=(Xe&&Xe.preventScrollReset)===!0,D=(Xe&&Xe.enableViewTransition)===!0;let it=s||o,et=Xe&&Xe.overrideNavigation,ie=Xe!=null&&Xe.initialHydration&&N.matches&&N.matches.length>0&&!w?N.matches:mp(it,De,l),ge=(Xe&&Xe.flushSync)===!0;if(ie&&N.initialized&&!B&&Lye(N.location,De)&&!(Xe&&Xe.submission&&nc(Xe.submission.formMethod))){re(De,{matches:ie},{flushSync:ge});return}let ce=wt(ie,it,De.pathname);if(ce.active&&ce.matches&&(ie=ce.matches),!ie){let{error:$e,notFoundMatches:Be,route:ut}=Fr(De.pathname);re(De,{matches:Be,loaderData:{},errors:{[ut.id]:$e}},{flushSync:ge});return}j=new AbortController;let fe=rg(e.history,De,j.signal,Xe&&Xe.submission),pe;if(Xe&&Xe.pendingError)pe=[gp(ie).route.id,{type:Nr.error,error:Xe.pendingError}];else if(Xe&&Xe.submission&&nc(Xe.submission.formMethod)){let $e=await be(fe,De,Xe.submission,ie,ce.active,{replace:Xe.replace,flushSync:ge});if($e.shortCircuited)return;if($e.pendingActionResult){let[Be,ut]=$e.pendingActionResult;if(ws(ut)&&J1(ut.error)&&ut.error.status===404){j=null,re(De,{matches:$e.matches,loaderData:{},errors:{[Be]:ut.error}});return}}ie=$e.matches||ie,pe=$e.pendingActionResult,et=NA(De,Xe.submission),ge=!1,ce.active=!1,fe=rg(e.history,fe.url,fe.signal)}let{shortCircuited:ve,matches:Oe,loaderData:Ve,errors:Ue}=await ye(fe,De,ie,ce.active,et,Xe&&Xe.submission,Xe&&Xe.fetcherSubmission,Xe&&Xe.replace,Xe&&Xe.initialHydration===!0,ge,pe);ve||(j=null,re(De,ha({matches:Oe||ie},r9(pe),{loaderData:Ve,errors:Ue})))}async function be(ke,De,Xe,it,et,ie){ie===void 0&&(ie={}),Zt();let ge=Vye(De,Xe);if(F({navigation:ge},{flushSync:ie.flushSync===!0}),et){let pe=await cn(it,De.pathname,ke.signal);if(pe.type==="aborted")return{shortCircuited:!0};if(pe.type==="error"){let ve=gp(pe.partialMatches).route.id;return{matches:pe.partialMatches,pendingActionResult:[ve,{type:Nr.error,error:pe.error}]}}else if(pe.matches)it=pe.matches;else{let{notFoundMatches:ve,error:Oe,route:Ve}=Fr(De.pathname);return{matches:ve,pendingActionResult:[Ve.id,{type:Nr.error,error:Oe}]}}}let ce,fe=bx(it,De);if(!fe.route.action&&!fe.route.lazy)ce={type:Nr.error,error:Ho(405,{method:ke.method,pathname:De.pathname,routeId:fe.route.id})};else if(ce=(await dt("action",N,ke,[fe],it,null))[fe.route.id],ke.signal.aborted)return{shortCircuited:!0};if(Ep(ce)){let pe;return ie&&ie.replace!=null?pe=ie.replace:pe=J7(ce.response.headers.get("Location"),new URL(ke.url),l)===N.location.pathname+N.location.search,await He(ke,ce,!0,{submission:Xe,replace:pe}),{shortCircuited:!0}}if(Pf(ce))throw Ho(400,{type:"defer-action"});if(ws(ce)){let pe=gp(it,fe.route.id);return(ie&&ie.replace)!==!0&&(P=Za.Push),{matches:it,pendingActionResult:[pe.route.id,ce]}}return{matches:it,pendingActionResult:[fe.route.id,ce]}}async function ye(ke,De,Xe,it,et,ie,ge,ce,fe,pe,ve){let Oe=et||NA(De,ie),Ve=ie||ge||o9(Oe),Ue=!W&&(!f.v7_partialHydration||!fe);if(it){if(Ue){let wn=de(ve);F(ha({navigation:Oe},wn!==void 0?{actionData:wn}:{}),{flushSync:pe})}let Rt=await cn(Xe,De.pathname,ke.signal);if(Rt.type==="aborted")return{shortCircuited:!0};if(Rt.type==="error"){let wn=gp(Rt.partialMatches).route.id;return{matches:Rt.partialMatches,loaderData:{},errors:{[wn]:Rt.error}}}else if(Rt.matches)Xe=Rt.matches;else{let{error:wn,notFoundMatches:ca,route:ar}=Fr(De.pathname);return{matches:ca,loaderData:{},errors:{[ar.id]:wn}}}}let $e=s||o,[Be,ut]=X7(e.history,N,Xe,Ve,De,f.v7_partialHydration&&fe===!0,f.v7_skipActionErrorRevalidation,B,V,q,G,J,z,$e,l,ve);if(Qr(Rt=>!(Xe&&Xe.some(wn=>wn.route.id===Rt))||Be&&Be.some(wn=>wn.route.id===Rt)),H=++O,Be.length===0&&ut.length===0){let Rt=yt();return re(De,ha({matches:Xe,loaderData:{},errors:ve&&ws(ve[1])?{[ve[0]]:ve[1].error}:null},r9(ve),Rt?{fetchers:new Map(N.fetchers)}:{}),{flushSync:pe}),{shortCircuited:!0}}if(Ue){let Rt={};if(!it){Rt.navigation=Oe;let wn=de(ve);wn!==void 0&&(Rt.actionData=wn)}ut.length>0&&(Rt.fetchers=we(ut)),F(Rt,{flushSync:pe})}ut.forEach(Rt=>{Ke(Rt.key),Rt.controller&&I.set(Rt.key,Rt.controller)});let Et=()=>ut.forEach(Rt=>Ke(Rt.key));j&&j.signal.addEventListener("abort",Et);let{loaderResults:$t,fetcherResults:he}=await qt(N,Xe,Be,ut,ke);if(ke.signal.aborted)return{shortCircuited:!0};j&&j.signal.removeEventListener("abort",Et),ut.forEach(Rt=>I.delete(Rt.key));let Ee=n_($t);if(Ee)return await He(ke,Ee.result,!0,{replace:ce}),{shortCircuited:!0};if(Ee=n_(he),Ee)return z.add(Ee.key),await He(ke,Ee.result,!0,{replace:ce}),{shortCircuited:!0};let{loaderData:Ae,errors:Ze}=t9(N,Xe,$t,ve,ut,he,Z);Z.forEach((Rt,wn)=>{Rt.subscribe(ca=>{(ca||Rt.done)&&Z.delete(wn)})}),f.v7_partialHydration&&fe&&N.errors&&(Ze=ha({},N.errors,Ze));let qe=yt(),Ht=ft(H),gt=qe||Ht||ut.length>0;return ha({matches:Xe,loaderData:Ae,errors:Ze},gt?{fetchers:new Map(N.fetchers)}:{})}function de(ke){if(ke&&!ws(ke[1]))return{[ke[0]]:ke[1].data};if(N.actionData)return Object.keys(N.actionData).length===0?null:N.actionData}function we(ke){return ke.forEach(De=>{let Xe=N.fetchers.get(De.key),it=Ry(void 0,Xe?Xe.data:void 0);N.fetchers.set(De.key,it)}),new Map(N.fetchers)}function We(ke,De,Xe,it){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");Ke(ke);let et=(it&&it.flushSync)===!0,ie=s||o,ge=e3(N.location,N.matches,l,f.v7_prependBasename,Xe,f.v7_relativeSplatPath,De,it==null?void 0:it.relative),ce=mp(ie,ge,l),fe=wt(ce,ie,ge);if(fe.active&&fe.matches&&(ce=fe.matches),!ce){mn(ke,De,Ho(404,{pathname:ge}),{flushSync:et});return}let{path:pe,submission:ve,error:Oe}=Y7(f.v7_normalizeFormMethod,!0,ge,it);if(Oe){mn(ke,De,Oe,{flushSync:et});return}let Ve=bx(ce,pe),Ue=(it&&it.preventScrollReset)===!0;if(ve&&nc(ve.formMethod)){Me(ke,De,pe,Ve,ce,fe.active,et,Ue,ve);return}J.set(ke,{routeId:De,path:pe}),ze(ke,De,pe,Ve,ce,fe.active,et,Ue,ve)}async function Me(ke,De,Xe,it,et,ie,ge,ce,fe){Zt(),J.delete(ke);function pe(Yt){if(!Yt.route.action&&!Yt.route.lazy){let Ce=Ho(405,{method:fe.formMethod,pathname:Xe,routeId:De});return mn(ke,De,Ce,{flushSync:ge}),!0}return!1}if(!ie&&pe(it))return;let ve=N.fetchers.get(ke);Wt(ke,Hye(fe,ve),{flushSync:ge});let Oe=new AbortController,Ve=rg(e.history,Xe,Oe.signal,fe);if(ie){let Yt=await cn(et,new URL(Ve.url).pathname,Ve.signal,ke);if(Yt.type==="aborted")return;if(Yt.type==="error"){mn(ke,De,Yt.error,{flushSync:ge});return}else if(Yt.matches){if(et=Yt.matches,it=bx(et,Xe),pe(it))return}else{mn(ke,De,Ho(404,{pathname:Xe}),{flushSync:ge});return}}I.set(ke,Oe);let Ue=O,Be=(await dt("action",N,Ve,[it],et,ke))[it.route.id];if(Ve.signal.aborted){I.get(ke)===Oe&&I.delete(ke);return}if(f.v7_fetcherPersist&&G.has(ke)){if(Ep(Be)||ws(Be)){Wt(ke,hf(void 0));return}}else{if(Ep(Be))if(I.delete(ke),H>Ue){Wt(ke,hf(void 0));return}else return z.add(ke),Wt(ke,Ry(fe)),He(Ve,Be,!1,{fetcherSubmission:fe,preventScrollReset:ce});if(ws(Be)){mn(ke,De,Be.error);return}}if(Pf(Be))throw Ho(400,{type:"defer-action"});let ut=N.navigation.location||N.location,Et=rg(e.history,ut,Oe.signal),$t=s||o,he=N.navigation.state!=="idle"?mp($t,N.navigation.location,l):N.matches;Un(he,"Didn't find any matches after fetcher action");let Ee=++O;ne.set(ke,Ee);let Ae=Ry(fe,Be.data);N.fetchers.set(ke,Ae);let[Ze,qe]=X7(e.history,N,he,fe,ut,!1,f.v7_skipActionErrorRevalidation,B,V,q,G,J,z,$t,l,[it.route.id,Be]);qe.filter(Yt=>Yt.key!==ke).forEach(Yt=>{let Ce=Yt.key,St=N.fetchers.get(Ce),Bt=Ry(void 0,St?St.data:void 0);N.fetchers.set(Ce,Bt),Ke(Ce),Yt.controller&&I.set(Ce,Yt.controller)}),F({fetchers:new Map(N.fetchers)});let Ht=()=>qe.forEach(Yt=>Ke(Yt.key));Oe.signal.addEventListener("abort",Ht);let{loaderResults:gt,fetcherResults:Rt}=await qt(N,he,Ze,qe,Et);if(Oe.signal.aborted)return;Oe.signal.removeEventListener("abort",Ht),ne.delete(ke),I.delete(ke),qe.forEach(Yt=>I.delete(Yt.key));let wn=n_(gt);if(wn)return He(Et,wn.result,!1,{preventScrollReset:ce});if(wn=n_(Rt),wn)return z.add(wn.key),He(Et,wn.result,!1,{preventScrollReset:ce});let{loaderData:ca,errors:ar}=t9(N,he,gt,void 0,qe,Rt,Z);if(N.fetchers.has(ke)){let Yt=hf(Be.data);N.fetchers.set(ke,Yt)}ft(Ee),N.navigation.state==="loading"&&Ee>H?(Un(P,"Expected pending action"),j&&j.abort(),re(N.navigation.location,{matches:he,loaderData:ca,errors:ar,fetchers:new Map(N.fetchers)})):(F({errors:ar,loaderData:n9(N.loaderData,ca,he,ar),fetchers:new Map(N.fetchers)}),B=!1)}async function ze(ke,De,Xe,it,et,ie,ge,ce,fe){let pe=N.fetchers.get(ke);Wt(ke,Ry(fe,pe?pe.data:void 0),{flushSync:ge});let ve=new AbortController,Oe=rg(e.history,Xe,ve.signal);if(ie){let Be=await cn(et,new URL(Oe.url).pathname,Oe.signal,ke);if(Be.type==="aborted")return;if(Be.type==="error"){mn(ke,De,Be.error,{flushSync:ge});return}else if(Be.matches)et=Be.matches,it=bx(et,Xe);else{mn(ke,De,Ho(404,{pathname:Xe}),{flushSync:ge});return}}I.set(ke,ve);let Ve=O,$e=(await dt("loader",N,Oe,[it],et,ke))[it.route.id];if(Pf($e)&&($e=await BF($e,Oe.signal,!0)||$e),I.get(ke)===ve&&I.delete(ke),!Oe.signal.aborted){if(G.has(ke)){Wt(ke,hf(void 0));return}if(Ep($e))if(H>Ve){Wt(ke,hf(void 0));return}else{z.add(ke),await He(Oe,$e,!1,{preventScrollReset:ce});return}if(ws($e)){mn(ke,De,$e.error);return}Un(!Pf($e),"Unhandled fetcher deferred data"),Wt(ke,hf($e.data))}}async function He(ke,De,Xe,it){let{submission:et,fetcherSubmission:ie,preventScrollReset:ge,replace:ce}=it===void 0?{}:it;De.response.headers.has("X-Remix-Revalidate")&&(B=!0);let fe=De.response.headers.get("Location");Un(fe,"Expected a Location header on the redirect Response"),fe=J7(fe,new URL(ke.url),l);let pe=Q1(N.location,fe,{_isRedirect:!0});if(n){let Be=!1;if(De.response.headers.has("X-Remix-Reload-Document"))Be=!0;else if($F.test(fe)){const ut=e.history.createURL(fe);Be=ut.origin!==t.location.origin||Ed(ut.pathname,l)==null}if(Be){ce?t.location.replace(fe):t.location.assign(fe);return}}j=null;let ve=ce===!0||De.response.headers.has("X-Remix-Replace")?Za.Replace:Za.Push,{formMethod:Oe,formAction:Ve,formEncType:Ue}=N.navigation;!et&&!ie&&Oe&&Ve&&Ue&&(et=o9(N.navigation));let $e=et||ie;if(Eye.has(De.response.status)&&$e&&nc($e.formMethod))await me(ve,pe,{submission:ha({},$e,{formAction:fe}),preventScrollReset:ge||T,enableViewTransition:Xe?D:void 0});else{let Be=NA(pe,et);await me(ve,pe,{overrideNavigation:Be,fetcherSubmission:ie,preventScrollReset:ge||T,enableViewTransition:Xe?D:void 0})}}async function dt(ke,De,Xe,it,et,ie){let ge,ce={};try{ge=await Oye(u,ke,De,Xe,it,et,ie,i,a)}catch(fe){return it.forEach(pe=>{ce[pe.route.id]={type:Nr.error,error:fe}}),ce}for(let[fe,pe]of Object.entries(ge))if($ye(pe)){let ve=pe.result;ce[fe]={type:Nr.redirect,response:Rye(ve,Xe,fe,et,l,f.v7_relativeSplatPath)}}else ce[fe]=await Iye(pe);return ce}async function qt(ke,De,Xe,it,et){let ie=ke.matches,ge=dt("loader",ke,et,Xe,De,null),ce=Promise.all(it.map(async ve=>{if(ve.matches&&ve.match&&ve.controller){let Ve=(await dt("loader",ke,rg(e.history,ve.path,ve.controller.signal),[ve.match],ve.matches,ve.key))[ve.match.route.id];return{[ve.key]:Ve}}else return Promise.resolve({[ve.key]:{type:Nr.error,error:Ho(404,{pathname:ve.path})}})})),fe=await ge,pe=(await ce).reduce((ve,Oe)=>Object.assign(ve,Oe),{});return await Promise.all([Uye(De,fe,et.signal,ie,ke.loaderData),Wye(De,pe,it)]),{loaderResults:fe,fetcherResults:pe}}function Zt(){B=!0,V.push(...Qr()),J.forEach((ke,De)=>{I.has(De)&&q.add(De),Ke(De)})}function Wt(ke,De,Xe){Xe===void 0&&(Xe={}),N.fetchers.set(ke,De),F({fetchers:new Map(N.fetchers)},{flushSync:(Xe&&Xe.flushSync)===!0})}function mn(ke,De,Xe,it){it===void 0&&(it={});let et=gp(N.matches,De);Ge(ke),F({errors:{[et.route.id]:Xe},fetchers:new Map(N.fetchers)},{flushSync:(it&&it.flushSync)===!0})}function Re(ke){return ee.set(ke,(ee.get(ke)||0)+1),G.has(ke)&&G.delete(ke),N.fetchers.get(ke)||Nye}function Ge(ke){let De=N.fetchers.get(ke);I.has(ke)&&!(De&&De.state==="loading"&&ne.has(ke))&&Ke(ke),J.delete(ke),ne.delete(ke),z.delete(ke),f.v7_fetcherPersist&&G.delete(ke),q.delete(ke),N.fetchers.delete(ke)}function at(ke){let De=(ee.get(ke)||0)-1;De<=0?(ee.delete(ke),G.add(ke),f.v7_fetcherPersist||Ge(ke)):ee.set(ke,De),F({fetchers:new Map(N.fetchers)})}function Ke(ke){let De=I.get(ke);De&&(De.abort(),I.delete(ke))}function Qe(ke){for(let De of ke){let Xe=Re(De),it=hf(Xe.data);N.fetchers.set(De,it)}}function yt(){let ke=[],De=!1;for(let Xe of z){let it=N.fetchers.get(Xe);Un(it,"Expected fetcher: "+Xe),it.state==="loading"&&(z.delete(Xe),ke.push(Xe),De=!0)}return Qe(ke),De}function ft(ke){let De=[];for(let[Xe,it]of ne)if(it<ke){let et=N.fetchers.get(Xe);Un(et,"Expected fetcher: "+Xe),et.state==="loading"&&(Ke(Xe),ne.delete(Xe),De.push(Xe))}return Qe(De),De.length>0}function pt(ke,De){let Xe=N.blockers.get(ke)||Iy;return se.get(ke)!==De&&se.set(ke,De),Xe}function Lt(ke){N.blockers.delete(ke),se.delete(ke)}function ln(ke,De){let Xe=N.blockers.get(ke)||Iy;Un(Xe.state==="unblocked"&&De.state==="blocked"||Xe.state==="blocked"&&De.state==="blocked"||Xe.state==="blocked"&&De.state==="proceeding"||Xe.state==="blocked"&&De.state==="unblocked"||Xe.state==="proceeding"&&De.state==="unblocked","Invalid blocker state transition: "+Xe.state+" -> "+De.state);let it=new Map(N.blockers);it.set(ke,De),F({blockers:it})}function rr(ke){let{currentLocation:De,nextLocation:Xe,historyAction:it}=ke;if(se.size===0)return;se.size>1&&Hv(!1,"A router only supports one blocker at a time");let et=Array.from(se.entries()),[ie,ge]=et[et.length-1],ce=N.blockers.get(ie);if(!(ce&&ce.state==="proceeding")&&ge({currentLocation:De,nextLocation:Xe,historyAction:it}))return ie}function Fr(ke){let De=Ho(404,{pathname:ke}),Xe=s||o,{matches:it,route:et}=a9(Xe);return Qr(),{notFoundMatches:it,route:et,error:De}}function Qr(ke){let De=[];return Z.forEach((Xe,it)=>{(!ke||ke(it))&&(Xe.cancel(),De.push(it),Z.delete(it))}),De}function la(ke,De,Xe){if(m=ke,y=De,g=Xe||null,!x&&N.navigation===EA){x=!0;let it=At(N.location,N.matches);it!=null&&F({restoreScrollPosition:it})}return()=>{m=null,y=null,g=null}}function ai(ke,De){return g&&g(ke,De.map(it=>rye(it,N.loaderData)))||ke.key}function je(ke,De){if(m&&y){let Xe=ai(ke,De);m[Xe]=y()}}function At(ke,De){if(m){let Xe=ai(ke,De),it=m[Xe];if(typeof it=="number")return it}return null}function wt(ke,De,Xe){if(d)if(ke){if(Object.keys(ke[0].params).length>0)return{active:!0,matches:LS(De,Xe,l,!0)}}else return{active:!0,matches:LS(De,Xe,l,!0)||[]};return{active:!1,matches:null}}async function cn(ke,De,Xe,it){if(!d)return{type:"success",matches:ke};let et=ke;for(;;){let ie=s==null,ge=s||o,ce=i;try{await d({signal:Xe,path:De,matches:et,fetcherKey:it,patch:(ve,Oe)=>{Xe.aborted||Q7(ve,Oe,ge,ce,a)}})}catch(ve){return{type:"error",error:ve,partialMatches:et}}finally{ie&&!Xe.aborted&&(o=[...o])}if(Xe.aborted)return{type:"aborted"};let fe=mp(ge,De,l);if(fe)return{type:"success",matches:fe};let pe=LS(ge,De,l,!0);if(!pe||et.length===pe.length&&et.every((ve,Oe)=>ve.route.id===pe[Oe].route.id))return{type:"success",matches:null};et=pe}}function kt(ke){i={},s=BC(ke,a,void 0,i)}function Cn(ke,De){let Xe=s==null;Q7(ke,De,s||o,i,a),Xe&&(o=[...o],F({}))}return k={get basename(){return l},get future(){return f},get state(){return N},get routes(){return o},get window(){return t},initialize:Y,subscribe:K,enableScrollRestoration:la,navigate:Q,fetch:We,revalidate:oe,createHref:ke=>e.history.createHref(ke),encodeLocation:ke=>e.history.encodeLocation(ke),getFetcher:Re,deleteFetcher:at,dispose:X,getBlocker:pt,deleteBlocker:Lt,patchRoutes:Cn,_internalFetchControllers:I,_internalActiveDeferreds:Z,_internalSetRoutes:kt},k}function Tye(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function e3(e,t,n,r,a,i,o,s){let l,u;if(o){l=[];for(let f of t)if(l.push(f),f.route.id===o){u=f;break}}else l=t,u=t[t.length-1];let d=$k(a||".",Lk(l,i),Ed(e.pathname,n)||e.pathname,s==="path");if(a==null&&(d.search=e.search,d.hash=e.hash),(a==null||a===""||a===".")&&u){let f=zF(d.search);if(u.route.index&&!f)d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index";else if(!u.route.index&&f){let h=new URLSearchParams(d.search),p=h.getAll("index");h.delete("index"),p.filter(g=>g).forEach(g=>h.append("index",g));let m=h.toString();d.search=m?"?"+m:""}}return r&&n!=="/"&&(d.pathname=d.pathname==="/"?n:hd([n,d.pathname])),um(d)}function Y7(e,t,n,r){if(!r||!Tye(r))return{path:n};if(r.formMethod&&!zye(r.formMethod))return{path:n,error:Ho(405,{method:r.formMethod})};let a=()=>({path:n,error:Ho(400,{type:"invalid-body"})}),i=r.formMethod||"get",o=e?i.toUpperCase():i.toLowerCase(),s=Zee(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!nc(o))return a();let h=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((p,m)=>{let[g,y]=m;return""+p+g+"="+y+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:s,formEncType:r.formEncType,formData:void 0,json:void 0,text:h}}}else if(r.formEncType==="application/json"){if(!nc(o))return a();try{let h=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:s,formEncType:r.formEncType,formData:void 0,json:h,text:void 0}}}catch{return a()}}}Un(typeof FormData=="function","FormData is not available in this environment");let l,u;if(r.formData)l=n3(r.formData),u=r.formData;else if(r.body instanceof FormData)l=n3(r.body),u=r.body;else if(r.body instanceof URLSearchParams)l=r.body,u=e9(l);else if(r.body==null)l=new URLSearchParams,u=new FormData;else try{l=new URLSearchParams(r.body),u=e9(l)}catch{return a()}let d={formMethod:o,formAction:s,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(nc(d.formMethod))return{path:n,submission:d};let f=kh(n);return t&&f.search&&zF(f.search)&&l.append("index",""),f.search="?"+l,{path:um(f),submission:d}}function K7(e,t,n){n===void 0&&(n=!1);let r=e.findIndex(a=>a.route.id===t);return r>=0?e.slice(0,n?r+1:r):e}function X7(e,t,n,r,a,i,o,s,l,u,d,f,h,p,m,g){let y=g?ws(g[1])?g[1].error:g[1].data:void 0,x=e.createURL(t.location),b=e.createURL(a),w=n;i&&t.errors?w=K7(n,Object.keys(t.errors)[0],!0):g&&ws(g[1])&&(w=K7(n,g[0]));let _=g?g[1].statusCode:void 0,S=o&&_&&_>=400,k=w.filter((P,T)=>{let{route:j}=P;if(j.lazy)return!0;if(j.loader==null)return!1;if(i)return t3(j,t.loaderData,t.errors);if(Pye(t.loaderData,t.matches[T],P)||l.some(R=>R===P.route.id))return!0;let D=t.matches[T],M=P;return Z7(P,ha({currentUrl:x,currentParams:D.params,nextUrl:b,nextParams:M.params},r,{actionResult:y,actionStatus:_,defaultShouldRevalidate:S?!1:s||x.pathname+x.search===b.pathname+b.search||x.search!==b.search||Kee(D,M)}))}),N=[];return f.forEach((P,T)=>{if(i||!n.some(W=>W.route.id===P.routeId)||d.has(T))return;let j=mp(p,P.path,m);if(!j){N.push({key:T,routeId:P.routeId,path:P.path,matches:null,match:null,controller:null});return}let D=t.fetchers.get(T),M=bx(j,P.path),R=!1;h.has(T)?R=!1:u.has(T)?(u.delete(T),R=!0):D&&D.state!=="idle"&&D.data===void 0?R=s:R=Z7(M,ha({currentUrl:x,currentParams:t.matches[t.matches.length-1].params,nextUrl:b,nextParams:n[n.length-1].params},r,{actionResult:y,actionStatus:_,defaultShouldRevalidate:S?!1:s})),R&&N.push({key:T,routeId:P.routeId,path:P.path,matches:j,match:M,controller:new AbortController})}),[k,N]}function t3(e,t,n){if(e.lazy)return!0;if(!e.loader)return!1;let r=t!=null&&t[e.id]!==void 0,a=n!=null&&n[e.id]!==void 0;return!r&&a?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!r&&!a}function Pye(e,t,n){let r=!t||n.route.id!==t.route.id,a=e[n.route.id]===void 0;return r||a}function Kee(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function Z7(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}function Q7(e,t,n,r,a){var i;let o;if(e){let u=r[e];Un(u,"No route found to patch children into: routeId = "+e),u.children||(u.children=[]),o=u.children}else o=n;let s=t.filter(u=>!o.some(d=>Xee(u,d))),l=BC(s,a,[e||"_","patch",String(((i=o)==null?void 0:i.length)||"0")],r);o.push(...l)}function Xee(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((n,r)=>{var a;return(a=t.children)==null?void 0:a.some(i=>Xee(n,i))}):!1}async function Aye(e,t,n){if(!e.lazy)return;let r=await e.lazy();if(!e.lazy)return;let a=n[e.id];Un(a,"No route found in manifest");let i={};for(let o in r){let l=a[o]!==void 0&&o!=="hasErrorBoundary";Hv(!l,'Route "'+a.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!tye.has(o)&&(i[o]=r[o])}Object.assign(a,i),Object.assign(a,ha({},t(a),{lazy:void 0}))}async function Dye(e){let{matches:t}=e,n=t.filter(a=>a.shouldLoad);return(await Promise.all(n.map(a=>a.resolve()))).reduce((a,i,o)=>Object.assign(a,{[n[o].route.id]:i}),{})}async function Oye(e,t,n,r,a,i,o,s,l,u){let d=i.map(p=>p.route.lazy?Aye(p.route,l,s):void 0),f=i.map((p,m)=>{let g=d[m],y=a.some(b=>b.route.id===p.route.id);return ha({},p,{shouldLoad:y,resolve:async b=>(b&&r.method==="GET"&&(p.route.lazy||p.route.loader)&&(y=!0),y?Mye(t,r,p,g,b,u):Promise.resolve({type:Nr.data,result:void 0}))})}),h=await e({matches:f,request:r,params:i[0].params,fetcherKey:o,context:u});try{await Promise.all(d)}catch{}return h}async function Mye(e,t,n,r,a,i){let o,s,l=u=>{let d,f=new Promise((m,g)=>d=g);s=()=>d(),t.signal.addEventListener("abort",s);let h=m=>typeof u!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+e+'" [routeId: '+n.route.id+"]"))):u({request:t,params:n.params,context:i},...m!==void 0?[m]:[]),p=(async()=>{try{return{type:"data",result:await(a?a(g=>h(g)):h())}}catch(m){return{type:"error",result:m}}})();return Promise.race([p,f])};try{let u=n.route[e];if(r)if(u){let d,[f]=await Promise.all([l(u).catch(h=>{d=h}),r]);if(d!==void 0)throw d;o=f}else if(await r,u=n.route[e],u)o=await l(u);else if(e==="action"){let d=new URL(t.url),f=d.pathname+d.search;throw Ho(405,{method:t.method,pathname:f,routeId:n.route.id})}else return{type:Nr.data,result:void 0};else if(u)o=await l(u);else{let d=new URL(t.url),f=d.pathname+d.search;throw Ho(404,{pathname:f})}Un(o.result!==void 0,"You defined "+(e==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+e+"` ")+"function. Please return a value or `null`.")}catch(u){return{type:Nr.error,result:u}}finally{s&&t.signal.removeEventListener("abort",s)}return o}async function Iye(e){let{result:t,type:n}=e;if(Qee(t)){let f;try{let h=t.headers.get("Content-Type");h&&/\bapplication\/json\b/.test(h)?t.body==null?f=null:f=await t.json():f=await t.text()}catch(h){return{type:Nr.error,error:h}}return n===Nr.error?{type:Nr.error,error:new UC(t.status,t.statusText,f),statusCode:t.status,headers:t.headers}:{type:Nr.data,data:f,statusCode:t.status,headers:t.headers}}if(n===Nr.error){if(i9(t)){var r,a;if(t.data instanceof Error){var i,o;return{type:Nr.error,error:t.data,statusCode:(i=t.init)==null?void 0:i.status,headers:(o=t.init)!=null&&o.headers?new Headers(t.init.headers):void 0}}return{type:Nr.error,error:new UC(((r=t.init)==null?void 0:r.status)||500,void 0,t.data),statusCode:J1(t)?t.status:void 0,headers:(a=t.init)!=null&&a.headers?new Headers(t.init.headers):void 0}}return{type:Nr.error,error:t,statusCode:J1(t)?t.status:void 0}}if(Bye(t)){var s,l;return{type:Nr.deferred,deferredData:t,statusCode:(s=t.init)==null?void 0:s.status,headers:((l=t.init)==null?void 0:l.headers)&&new Headers(t.init.headers)}}if(i9(t)){var u,d;return{type:Nr.data,data:t.data,statusCode:(u=t.init)==null?void 0:u.status,headers:(d=t.init)!=null&&d.headers?new Headers(t.init.headers):void 0}}return{type:Nr.data,data:t}}function Rye(e,t,n,r,a,i){let o=e.headers.get("Location");if(Un(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!$F.test(o)){let s=r.slice(0,r.findIndex(l=>l.route.id===n)+1);o=e3(new URL(t.url),s,a,!0,o,i),e.headers.set("Location",o)}return e}function J7(e,t,n){if($F.test(e)){let r=e,a=r.startsWith("//")?new URL(t.protocol+r):new URL(r),i=Ed(a.pathname,n)!=null;if(a.origin===t.origin&&i)return a.pathname+a.search+a.hash}return e}function rg(e,t,n,r){let a=e.createURL(Zee(t)).toString(),i={signal:n};if(r&&nc(r.formMethod)){let{formMethod:o,formEncType:s}=r;i.method=o.toUpperCase(),s==="application/json"?(i.headers=new Headers({"Content-Type":s}),i.body=JSON.stringify(r.json)):s==="text/plain"?i.body=r.text:s==="application/x-www-form-urlencoded"&&r.formData?i.body=n3(r.formData):i.body=r.formData}return new Request(a,i)}function n3(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,typeof r=="string"?r:r.name);return t}function e9(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function Fye(e,t,n,r,a){let i={},o=null,s,l=!1,u={},d=n&&ws(n[1])?n[1].error:void 0;return e.forEach(f=>{if(!(f.route.id in t))return;let h=f.route.id,p=t[h];if(Un(!Ep(p),"Cannot handle redirect results in processLoaderData"),ws(p)){let m=p.error;d!==void 0&&(m=d,d=void 0),o=o||{};{let g=gp(e,h);o[g.route.id]==null&&(o[g.route.id]=m)}i[h]=void 0,l||(l=!0,s=J1(p.error)?p.error.status:500),p.headers&&(u[h]=p.headers)}else Pf(p)?(r.set(h,p.deferredData),i[h]=p.deferredData.data,p.statusCode!=null&&p.statusCode!==200&&!l&&(s=p.statusCode),p.headers&&(u[h]=p.headers)):(i[h]=p.data,p.statusCode&&p.statusCode!==200&&!l&&(s=p.statusCode),p.headers&&(u[h]=p.headers))}),d!==void 0&&n&&(o={[n[0]]:d},i[n[0]]=void 0),{loaderData:i,errors:o,statusCode:s||200,loaderHeaders:u}}function t9(e,t,n,r,a,i,o){let{loaderData:s,errors:l}=Fye(t,n,r,o);return a.forEach(u=>{let{key:d,match:f,controller:h}=u,p=i[d];if(Un(p,"Did not find corresponding fetcher result"),!(h&&h.signal.aborted))if(ws(p)){let m=gp(e.matches,f==null?void 0:f.route.id);l&&l[m.route.id]||(l=ha({},l,{[m.route.id]:p.error})),e.fetchers.delete(d)}else if(Ep(p))Un(!1,"Unhandled fetcher revalidation redirect");else if(Pf(p))Un(!1,"Unhandled fetcher deferred data");else{let m=hf(p.data);e.fetchers.set(d,m)}}),{loaderData:s,errors:l}}function n9(e,t,n,r){let a=ha({},t);for(let i of n){let o=i.route.id;if(t.hasOwnProperty(o)?t[o]!==void 0&&(a[o]=t[o]):e[o]!==void 0&&i.route.loader&&(a[o]=e[o]),r&&r.hasOwnProperty(o))break}return a}function r9(e){return e?ws(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function gp(e,t){return(t?e.slice(0,e.findIndex(r=>r.route.id===t)+1):[...e]).reverse().find(r=>r.route.hasErrorBoundary===!0)||e[0]}function a9(e){let t=e.length===1?e[0]:e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Ho(e,t){let{pathname:n,routeId:r,method:a,type:i,message:o}=t===void 0?{}:t,s="Unknown Server Error",l="Unknown @remix-run/router error";return e===400?(s="Bad Request",a&&n&&r?l="You made a "+a+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":i==="defer-action"?l="defer() is not supported in actions":i==="invalid-body"&&(l="Unable to encode submission body")):e===403?(s="Forbidden",l='Route "'+r+'" does not match URL "'+n+'"'):e===404?(s="Not Found",l='No route matches URL "'+n+'"'):e===405&&(s="Method Not Allowed",a&&n&&r?l="You made a "+a.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":a&&(l='Invalid request method "'+a.toUpperCase()+'"')),new UC(e||500,s,new Error(l),!0)}function n_(e){let t=Object.entries(e);for(let n=t.length-1;n>=0;n--){let[r,a]=t[n];if(Ep(a))return{key:r,result:a}}}function Zee(e){let t=typeof e=="string"?kh(e):e;return um(ha({},t,{hash:""}))}function Lye(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function $ye(e){return Qee(e.result)&&Cye.has(e.result.status)}function Pf(e){return e.type===Nr.deferred}function ws(e){return e.type===Nr.error}function Ep(e){return(e&&e.type)===Nr.redirect}function i9(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function Bye(e){let t=e;return t&&typeof t=="object"&&typeof t.data=="object"&&typeof t.subscribe=="function"&&typeof t.cancel=="function"&&typeof t.resolveData=="function"}function Qee(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function zye(e){return Sye.has(e.toLowerCase())}function nc(e){return wye.has(e.toLowerCase())}async function Uye(e,t,n,r,a){let i=Object.entries(t);for(let o=0;o<i.length;o++){let[s,l]=i[o],u=e.find(h=>(h==null?void 0:h.route.id)===s);if(!u)continue;let d=r.find(h=>h.route.id===u.route.id),f=d!=null&&!Kee(d,u)&&(a&&a[u.route.id])!==void 0;Pf(l)&&f&&await BF(l,n,!1).then(h=>{h&&(t[s]=h)})}}async function Wye(e,t,n){for(let r=0;r<n.length;r++){let{key:a,routeId:i,controller:o}=n[r],s=t[a];e.find(u=>(u==null?void 0:u.route.id)===i)&&Pf(s)&&(Un(o,"Expected an AbortController for revalidating fetcher deferred result"),await BF(s,o.signal,!0).then(u=>{u&&(t[a]=u)}))}}async function BF(e,t,n){if(n===void 0&&(n=!1),!await e.deferredData.resolveData(t)){if(n)try{return{type:Nr.data,data:e.deferredData.unwrappedData}}catch(a){return{type:Nr.error,error:a}}return{type:Nr.data,data:e.deferredData.data}}}function zF(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function bx(e,t){let n=typeof t=="string"?kh(t).search:t.search;if(e[e.length-1].route.index&&zF(n||""))return e[e.length-1];let r=qee(e);return r[r.length-1]}function o9(e){let{formMethod:t,formAction:n,formEncType:r,text:a,formData:i,json:o}=e;if(!(!t||!n||!r)){if(a!=null)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:a};if(i!=null)return{formMethod:t,formAction:n,formEncType:r,formData:i,json:void 0,text:void 0};if(o!==void 0)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function NA(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Vye(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function Ry(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function Hye(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function hf(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function qye(e,t){try{let n=e.sessionStorage.getItem(Yee);if(n){let r=JSON.parse(n);for(let[a,i]of Object.entries(r||{}))i&&Array.isArray(i)&&t.set(a,new Set(i||[]))}}catch{}}function Gye(e,t){if(t.size>0){let n={};for(let[r,a]of t)n[r]=[...a];try{e.sessionStorage.setItem(Yee,JSON.stringify(n))}catch(r){Hv(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function WC(){return WC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},WC.apply(this,arguments)}const Iw=E.createContext(null),UF=E.createContext(null),Bd=E.createContext(null),WF=E.createContext(null),Du=E.createContext({outlet:null,matches:[],isDataRoute:!1}),Jee=E.createContext(null);function Yye(e,t){let{relative:n}=t===void 0?{}:t;V0()||Un(!1);let{basename:r,navigator:a}=E.useContext(Bd),{hash:i,pathname:o,search:s}=Bk(e,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:hd([r,o])),a.createHref({pathname:l,search:s,hash:i})}function V0(){return E.useContext(WF)!=null}function Dl(){return V0()||Un(!1),E.useContext(WF).location}function ete(e){E.useContext(Bd).static||E.useLayoutEffect(e)}function Zr(){let{isDataRoute:e}=E.useContext(Du);return e?lxe():Kye()}function Kye(){V0()||Un(!1);let e=E.useContext(Iw),{basename:t,future:n,navigator:r}=E.useContext(Bd),{matches:a}=E.useContext(Du),{pathname:i}=Dl(),o=JSON.stringify(Lk(a,n.v7_relativeSplatPath)),s=E.useRef(!1);return ete(()=>{s.current=!0}),E.useCallback(function(u,d){if(d===void 0&&(d={}),!s.current)return;if(typeof u=="number"){r.go(u);return}let f=$k(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:hd([t,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[t,r,o,i,e])}const Xye=E.createContext(null);function Zye(e){let t=E.useContext(Du).outlet;return t&&E.createElement(Xye.Provider,{value:e},t)}function Rw(){let{matches:e}=E.useContext(Du),t=e[e.length-1];return t?t.params:{}}function Bk(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=E.useContext(Bd),{matches:a}=E.useContext(Du),{pathname:i}=Dl(),o=JSON.stringify(Lk(a,r.v7_relativeSplatPath));return E.useMemo(()=>$k(e,JSON.parse(o),i,n==="path"),[e,o,i,n])}function Qye(e,t,n,r){V0()||Un(!1);let{navigator:a}=E.useContext(Bd),{matches:i}=E.useContext(Du),o=i[i.length-1],s=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=Dl(),d;d=u;let f=d.pathname||"/",h=f;if(l!=="/"){let g=l.replace(/^\//,"").split("/");h="/"+f.replace(/^\//,"").split("/").slice(g.length).join("/")}let p=mp(e,{pathname:h});return rxe(p&&p.map(g=>Object.assign({},g,{params:Object.assign({},s,g.params),pathname:hd([l,a.encodeLocation?a.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?l:hd([l,a.encodeLocation?a.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),i,n,r)}function Jye(){let e=sxe(),t=J1(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},t),n?E.createElement("pre",{style:a},n):null,null)}const exe=E.createElement(Jye,null);class txe extends E.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?E.createElement(Du.Provider,{value:this.props.routeContext},E.createElement(Jee.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function nxe(e){let{routeContext:t,match:n,children:r}=e,a=E.useContext(Iw);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),E.createElement(Du.Provider,{value:t},r)}function rxe(e,t,n,r){var a;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,s=(a=n)==null?void 0:a.errors;if(s!=null){let d=o.findIndex(f=>f.route.id&&(s==null?void 0:s[f.route.id])!==void 0);d>=0||Un(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:p}=n,m=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||m){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let p,m=!1,g=null,y=null;n&&(p=s&&f.route.id?s[f.route.id]:void 0,g=f.route.errorElement||exe,l&&(u<0&&h===0?(cxe("route-fallback"),m=!0,y=null):u===h&&(m=!0,y=f.route.hydrateFallbackElement||null)));let x=t.concat(o.slice(0,h+1)),b=()=>{let w;return p?w=g:m?w=y:f.route.Component?w=E.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=d,E.createElement(nxe,{match:f,routeContext:{outlet:d,matches:x,isDataRoute:n!=null},children:w})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?E.createElement(txe,{location:n.location,revalidation:n.revalidation,component:g,error:p,children:b(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):b()},null)}var tte=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(tte||{}),nte=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(nte||{});function axe(e){let t=E.useContext(Iw);return t||Un(!1),t}function ixe(e){let t=E.useContext(UF);return t||Un(!1),t}function oxe(e){let t=E.useContext(Du);return t||Un(!1),t}function rte(e){let t=oxe(),n=t.matches[t.matches.length-1];return n.route.id||Un(!1),n.route.id}function sxe(){var e;let t=E.useContext(Jee),n=ixe(nte.UseRouteError),r=rte();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function lxe(){let{router:e}=axe(tte.UseNavigateStable),t=rte(),n=E.useRef(!1);return ete(()=>{n.current=!0}),E.useCallback(function(a,i){i===void 0&&(i={}),n.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,WC({fromRouteId:t},i)))},[e,t])}const s9={};function cxe(e,t,n){s9[e]||(s9[e]=!0)}function uxe(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function r3(e){let{to:t,replace:n,state:r,relative:a}=e;V0()||Un(!1);let{future:i,static:o}=E.useContext(Bd),{matches:s}=E.useContext(Du),{pathname:l}=Dl(),u=Zr(),d=$k(t,Lk(s,i.v7_relativeSplatPath),l,a==="path"),f=JSON.stringify(d);return E.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:a}),[u,f,a,n,r]),null}function ate(e){return Zye(e.context)}function dxe(e){let{basename:t="/",children:n=null,location:r,navigationType:a=Za.Pop,navigator:i,static:o=!1,future:s}=e;V0()&&Un(!1);let l=t.replace(/^\/*/,"/"),u=E.useMemo(()=>({basename:l,navigator:i,static:o,future:WC({v7_relativeSplatPath:!1},s)}),[l,s,i,o]);typeof r=="string"&&(r=kh(r));let{pathname:d="/",search:f="",hash:h="",state:p=null,key:m="default"}=r,g=E.useMemo(()=>{let y=Ed(d,l);return y==null?null:{location:{pathname:y,search:f,hash:h,state:p,key:m},navigationType:a}},[l,d,f,h,p,m,a]);return g==null?null:E.createElement(Bd.Provider,{value:u},E.createElement(WF.Provider,{children:n,value:g}))}new Promise(()=>{});function fxe(e){let t={hasErrorBoundary:e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&Object.assign(t,{element:E.createElement(e.Component),Component:void 0}),e.HydrateFallback&&Object.assign(t,{hydrateFallbackElement:E.createElement(e.HydrateFallback),HydrateFallback:void 0}),e.ErrorBoundary&&Object.assign(t,{errorElement:E.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),t}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qv(){return qv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qv.apply(this,arguments)}function ite(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,i;for(i=0;i<r.length;i++)a=r[i],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function hxe(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function pxe(e,t){return e.button===0&&(!t||t==="_self")&&!hxe(e)}function a3(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(a=>[n,a]):[[n,r]])},[]))}function mxe(e,t){let n=a3(e);return t&&t.forEach((r,a)=>{n.has(a)||t.getAll(a).forEach(i=>{n.append(a,i)})}),n}const gxe=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],vxe=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],yxe="6";try{window.__reactRouterVersion=yxe}catch{}function xxe(e,t){return jye({basename:void 0,future:qv({},void 0,{v7_prependBasename:!0}),history:Q0e({window:void 0}),hydrationData:bxe(),routes:e,mapRouteProperties:fxe,dataStrategy:void 0,patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function bxe(){var e;let t=(e=window)==null?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=qv({},t,{errors:wxe(t.errors)})),t}function wxe(e){if(!e)return null;let t=Object.entries(e),n={};for(let[r,a]of t)if(a&&a.__type==="RouteErrorResponse")n[r]=new UC(a.status,a.statusText,a.data,a.internal===!0);else if(a&&a.__type==="Error"){if(a.__subType){let i=window[a.__subType];if(typeof i=="function")try{let o=new i(a.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let i=new Error(a.message);i.stack="",n[r]=i}}else n[r]=a;return n}const ote=E.createContext({isTransitioning:!1}),_xe=E.createContext(new Map),Sxe="startTransition",l9=pC[Sxe],Cxe="flushSync",c9=E0e[Cxe];function Exe(e){l9?l9(e):e()}function Fy(e){c9?c9(e):e()}class Nxe{constructor(){this.status="pending",this.promise=new Promise((t,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",t(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}}function kxe(e){let{fallbackElement:t,router:n,future:r}=e,[a,i]=E.useState(n.state),[o,s]=E.useState(),[l,u]=E.useState({isTransitioning:!1}),[d,f]=E.useState(),[h,p]=E.useState(),[m,g]=E.useState(),y=E.useRef(new Map),{v7_startTransition:x}=r||{},b=E.useCallback(P=>{x?Exe(P):P()},[x]),w=E.useCallback((P,T)=>{let{deletedFetchers:j,flushSync:D,viewTransitionOpts:M}=T;P.fetchers.forEach((W,B)=>{W.data!==void 0&&y.current.set(B,W.data)}),j.forEach(W=>y.current.delete(W));let R=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!M||R){D?Fy(()=>i(P)):b(()=>i(P));return}if(D){Fy(()=>{h&&(d&&d.resolve(),h.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:M.currentLocation,nextLocation:M.nextLocation})});let W=n.window.document.startViewTransition(()=>{Fy(()=>i(P))});W.finished.finally(()=>{Fy(()=>{f(void 0),p(void 0),s(void 0),u({isTransitioning:!1})})}),Fy(()=>p(W));return}h?(d&&d.resolve(),h.skipTransition(),g({state:P,currentLocation:M.currentLocation,nextLocation:M.nextLocation})):(s(P),u({isTransitioning:!0,flushSync:!1,currentLocation:M.currentLocation,nextLocation:M.nextLocation}))},[n.window,h,d,y,b]);E.useLayoutEffect(()=>n.subscribe(w),[n,w]),E.useEffect(()=>{l.isTransitioning&&!l.flushSync&&f(new Nxe)},[l]),E.useEffect(()=>{if(d&&o&&n.window){let P=o,T=d.promise,j=n.window.document.startViewTransition(async()=>{b(()=>i(P)),await T});j.finished.finally(()=>{f(void 0),p(void 0),s(void 0),u({isTransitioning:!1})}),p(j)}},[b,o,d,n.window]),E.useEffect(()=>{d&&o&&a.location.key===o.location.key&&d.resolve()},[d,h,a.location,o]),E.useEffect(()=>{!l.isTransitioning&&m&&(s(m.state),u({isTransitioning:!0,flushSync:!1,currentLocation:m.currentLocation,nextLocation:m.nextLocation}),g(void 0))},[l.isTransitioning,m]),E.useEffect(()=>{},[]);let _=E.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:P=>n.navigate(P),push:(P,T,j)=>n.navigate(P,{state:T,preventScrollReset:j==null?void 0:j.preventScrollReset}),replace:(P,T,j)=>n.navigate(P,{replace:!0,state:T,preventScrollReset:j==null?void 0:j.preventScrollReset})}),[n]),S=n.basename||"/",k=E.useMemo(()=>({router:n,navigator:_,static:!1,basename:S}),[n,_,S]),N=E.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return E.useEffect(()=>uxe(r,n.future),[r,n.future]),E.createElement(E.Fragment,null,E.createElement(Iw.Provider,{value:k},E.createElement(UF.Provider,{value:a},E.createElement(_xe.Provider,{value:y.current},E.createElement(ote.Provider,{value:l},E.createElement(dxe,{basename:S,location:a.location,navigationType:a.historyAction,navigator:_,future:N},a.initialized||n.future.v7_partialHydration?E.createElement(jxe,{routes:n.routes,future:n.future,state:a}):t))))),null)}const jxe=E.memo(Txe);function Txe(e){let{routes:t,future:n,state:r}=e;return Qye(t,void 0,r,n)}const Pxe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Axe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$s=E.forwardRef(function(t,n){let{onClick:r,relative:a,reloadDocument:i,replace:o,state:s,target:l,to:u,preventScrollReset:d,viewTransition:f}=t,h=ite(t,gxe),{basename:p}=E.useContext(Bd),m,g=!1;if(typeof u=="string"&&Axe.test(u)&&(m=u,Pxe))try{let w=new URL(window.location.href),_=u.startsWith("//")?new URL(w.protocol+u):new URL(u),S=Ed(_.pathname,p);_.origin===w.origin&&S!=null?u=S+_.search+_.hash:g=!0}catch{}let y=Yye(u,{relative:a}),x=Oxe(u,{replace:o,state:s,target:l,preventScrollReset:d,relative:a,viewTransition:f});function b(w){r&&r(w),w.defaultPrevented||x(w)}return E.createElement("a",qv({},h,{href:m||y,onClick:g||i?r:b,ref:n,target:l}))}),r_=E.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:a=!1,className:i="",end:o=!1,style:s,to:l,viewTransition:u,children:d}=t,f=ite(t,vxe),h=Bk(l,{relative:f.relative}),p=Dl(),m=E.useContext(UF),{navigator:g,basename:y}=E.useContext(Bd),x=m!=null&&Ixe(h)&&u===!0,b=g.encodeLocation?g.encodeLocation(h).pathname:h.pathname,w=p.pathname,_=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;a||(w=w.toLowerCase(),_=_?_.toLowerCase():null,b=b.toLowerCase()),_&&y&&(_=Ed(_,y)||_);const S=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let k=w===b||!o&&w.startsWith(b)&&w.charAt(S)==="/",N=_!=null&&(_===b||!o&&_.startsWith(b)&&_.charAt(b.length)==="/"),P={isActive:k,isPending:N,isTransitioning:x},T=k?r:void 0,j;typeof i=="function"?j=i(P):j=[i,k?"active":null,N?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let D=typeof s=="function"?s(P):s;return E.createElement($s,qv({},f,{"aria-current":T,className:j,ref:n,style:D,to:l,viewTransition:u}),typeof d=="function"?d(P):d)});var i3;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(i3||(i3={}));var u9;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(u9||(u9={}));function Dxe(e){let t=E.useContext(Iw);return t||Un(!1),t}function Oxe(e,t){let{target:n,replace:r,state:a,preventScrollReset:i,relative:o,viewTransition:s}=t===void 0?{}:t,l=Zr(),u=Dl(),d=Bk(e,{relative:o});return E.useCallback(f=>{if(pxe(f,n)){f.preventDefault();let h=r!==void 0?r:um(u)===um(d);l(e,{replace:h,state:a,preventScrollReset:i,relative:o,viewTransition:s})}},[u,l,d,r,a,n,e,i,o,s])}function Mxe(e){let t=E.useRef(a3(e)),n=E.useRef(!1),r=Dl(),a=E.useMemo(()=>mxe(r.search,n.current?null:t.current),[r.search]),i=Zr(),o=E.useCallback((s,l)=>{const u=a3(typeof s=="function"?s(a):s);n.current=!0,i("?"+u,l)},[i,a]);return[a,o]}function Ixe(e,t){t===void 0&&(t={});let n=E.useContext(ote);n==null&&Un(!1);let{basename:r}=Dxe(i3.useViewTransitionState),a=Bk(e,{relative:t.relative});if(!n.isTransitioning)return!1;let i=Ed(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Ed(n.nextLocation.pathname,r)||n.nextLocation.pathname;return zC(a.pathname,o)!=null||zC(a.pathname,i)!=null}var ste={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},d9=le.createContext&&le.createContext(ste),Qf=function(){return Qf=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Qf.apply(this,arguments)},Rxe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};function lte(e){return e&&e.map(function(t,n){return le.createElement(t.tag,Qf({key:n},t.attr),lte(t.child))})}function gn(e){return function(t){return le.createElement(Fxe,Qf({attr:Qf({},e.attr)},t),lte(e.child))}}function Fxe(e){var t=function(n){var r=e.attr,a=e.size,i=e.title,o=Rxe(e,["attr","size","title"]),s=a||n.size||"1em",l;return n.className&&(l=n.className),e.className&&(l=(l?l+" ":"")+e.className),le.createElement("svg",Qf({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:Qf(Qf({color:e.color||n.color},n.style),e.style),height:s,width:s,xmlns:"http://www.w3.org/2000/svg"}),i&&le.createElement("title",null,i),e.children)};return d9!==void 0?le.createElement(d9.Consumer,null,function(n){return t(n)}):t(ste)}function cte(e){return gn({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 16a2 2 0 0 0 2-2H6a2 2 0 0 0 2 2zm.995-14.901a1 1 0 1 0-1.99 0A5.002 5.002 0 0 0 3 6c0 1.098-.5 6-2 7h14c-1.5-1-2-5.902-2-7 0-2.42-1.72-4.44-4.005-4.901z"}}]})(e)}function ute(e){return gn({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 16a2 2 0 0 0 2-2H6a2 2 0 0 0 2 2zM8 1.918l-.797.161A4.002 4.002 0 0 0 4 6c0 .628-.134 2.197-.459 3.742-.16.767-.376 1.566-.663 2.258h10.244c-.287-.692-.502-1.49-.663-2.258C12.134 8.197 12 6.628 12 6a4.002 4.002 0 0 0-3.203-3.92L8 1.917zM14.22 12c.223.447.481.801.78 1H1c.299-.199.557-.553.78-1C2.68 10.2 3 6.88 3 6c0-2.42 1.72-4.44 4.005-4.901a1 1 0 1 1 1.99 0A5.002 5.002 0 0 1 13 6c0 .88.32 4.2 1.22 6z"}}]})(e)}const f9=e=>e,Lxe=()=>{let e=f9;return{configure(t){e=t},generate(t){return e(t)},reset(){e=f9}}},dte=Lxe();function Nd(e,...t){const n=new URL(`https://mui.com/production-error/?code=${e}`);return t.forEach(r=>n.searchParams.append("args[]",r)),`Minified MUI error #${e}; visit ${n} for the full message.`}function bt(e){if(typeof e!="string")throw new Error(Nd(7));return e.charAt(0).toUpperCase()+e.slice(1)}function h9(...e){return e.reduce((t,n)=>n==null?t:function(...a){t.apply(this,a),n.apply(this,a)},()=>{})}var fte={exports:{}},$xe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Bxe=$xe,zxe=Bxe;function hte(){}function pte(){}pte.resetWarningCache=hte;var Uxe=function(){function e(r,a,i,o,s,l){if(l!==zxe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:pte,resetWarningCache:hte};return n.PropTypes=n,n};fte.exports=Uxe();var Wxe=fte.exports;const Vt=sr(Wxe);function mte(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=mte(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Tt(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=mte(e))&&(r&&(r+=" "),r+=t);return r}function On(e,t,n=void 0){const r={};for(const a in e){const i=e[a];let o="",s=!0;for(let l=0;l<i.length;l+=1){const u=i[l];u&&(o+=(s===!0?"":" ")+t(u),s=!1,n&&n[u]&&(o+=" "+n[u]))}r[a]=o}return r}var gte={exports:{}},Ur={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VF=Symbol.for("react.transitional.element"),HF=Symbol.for("react.portal"),zk=Symbol.for("react.fragment"),Uk=Symbol.for("react.strict_mode"),Wk=Symbol.for("react.profiler"),Vk=Symbol.for("react.consumer"),Hk=Symbol.for("react.context"),qk=Symbol.for("react.forward_ref"),Gk=Symbol.for("react.suspense"),Yk=Symbol.for("react.suspense_list"),Kk=Symbol.for("react.memo"),Xk=Symbol.for("react.lazy"),Vxe=Symbol.for("react.view_transition"),Hxe=Symbol.for("react.client.reference");function Ol(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case VF:switch(e=e.type,e){case zk:case Wk:case Uk:case Gk:case Yk:case Vxe:return e;default:switch(e=e&&e.$$typeof,e){case Hk:case qk:case Xk:case Kk:return e;case Vk:return e;default:return t}}case HF:return t}}}Ur.ContextConsumer=Vk;Ur.ContextProvider=Hk;Ur.Element=VF;Ur.ForwardRef=qk;Ur.Fragment=zk;Ur.Lazy=Xk;Ur.Memo=Kk;Ur.Portal=HF;Ur.Profiler=Wk;Ur.StrictMode=Uk;Ur.Suspense=Gk;Ur.SuspenseList=Yk;Ur.isContextConsumer=function(e){return Ol(e)===Vk};Ur.isContextProvider=function(e){return Ol(e)===Hk};Ur.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===VF};Ur.isForwardRef=function(e){return Ol(e)===qk};Ur.isFragment=function(e){return Ol(e)===zk};Ur.isLazy=function(e){return Ol(e)===Xk};Ur.isMemo=function(e){return Ol(e)===Kk};Ur.isPortal=function(e){return Ol(e)===HF};Ur.isProfiler=function(e){return Ol(e)===Wk};Ur.isStrictMode=function(e){return Ol(e)===Uk};Ur.isSuspense=function(e){return Ol(e)===Gk};Ur.isSuspenseList=function(e){return Ol(e)===Yk};Ur.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===zk||e===Wk||e===Uk||e===Gk||e===Yk||typeof e=="object"&&e!==null&&(e.$$typeof===Xk||e.$$typeof===Kk||e.$$typeof===Hk||e.$$typeof===Vk||e.$$typeof===qk||e.$$typeof===Hxe||e.getModuleId!==void 0)};Ur.typeOf=Ol;gte.exports=Ur;var vte=gte.exports;function Jc(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function yte(e){if(E.isValidElement(e)||vte.isValidElementType(e)||!Jc(e))return e;const t={};return Object.keys(e).forEach(n=>{t[n]=yte(e[n])}),t}function _o(e,t,n={clone:!0}){const r=n.clone?{...e}:e;return Jc(e)&&Jc(t)&&Object.keys(t).forEach(a=>{E.isValidElement(t[a])||vte.isValidElementType(t[a])?r[a]=t[a]:Jc(t[a])&&Object.prototype.hasOwnProperty.call(e,a)&&Jc(e[a])?r[a]=_o(e[a],t[a],n):n.clone?r[a]=Jc(t[a])?yte(t[a]):t[a]:r[a]=t[a]}),r}function Gx(e,t){return t?_o(e,t,{clone:!1}):e}function p9(e,t){if(!e.containerQueries)return t;const n=Object.keys(t).filter(r=>r.startsWith("@container")).sort((r,a)=>{var o,s;const i=/min-width:\s*([0-9.]+)/;return+(((o=r.match(i))==null?void 0:o[1])||0)-+(((s=a.match(i))==null?void 0:s[1])||0)});return n.length?n.reduce((r,a)=>{const i=t[a];return delete r[a],r[a]=i,r},{...t}):t}function qxe(e,t){return t==="@"||t.startsWith("@")&&(e.some(n=>t.startsWith(`@${n}`))||!!t.match(/^@\d/))}function Gxe(e,t){const n=t.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,r,a]=n,i=Number.isNaN(+r)?r||0:+r;return e.containerQueries(a).up(i)}function Yxe(e){const t=(i,o)=>i.replace("@media",o?`@container ${o}`:"@container");function n(i,o){i.up=(...s)=>t(e.breakpoints.up(...s),o),i.down=(...s)=>t(e.breakpoints.down(...s),o),i.between=(...s)=>t(e.breakpoints.between(...s),o),i.only=(...s)=>t(e.breakpoints.only(...s),o),i.not=(...s)=>{const l=t(e.breakpoints.not(...s),o);return l.includes("not all and")?l.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):l}}const r={},a=i=>(n(r,i),r);return n(a),{...e,containerQueries:a}}const Zk={xs:0,sm:600,md:900,lg:1200,xl:1536},m9={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${Zk[e]}px)`},Kxe={containerQueries:e=>({up:t=>{let n=typeof t=="number"?t:Zk[t]||t;return typeof n=="number"&&(n=`${n}px`),e?`@container ${e} (min-width:${n})`:`@container (min-width:${n})`}})};function kd(e,t,n){const r=e.theme||{};if(Array.isArray(t)){const i=r.breakpoints||m9;return t.reduce((o,s,l)=>(o[i.up(i.keys[l])]=n(t[l]),o),{})}if(typeof t=="object"){const i=r.breakpoints||m9;return Object.keys(t).reduce((o,s)=>{if(qxe(i.keys,s)){const l=Gxe(r.containerQueries?r:Kxe,s);l&&(o[l]=n(t[s],s))}else if(Object.keys(i.values||Zk).includes(s)){const l=i.up(s);o[l]=n(t[s],s)}else{const l=s;o[l]=t[l]}return o},{})}return n(t)}function Xxe(e={}){var n;return((n=e.keys)==null?void 0:n.reduce((r,a)=>{const i=e.up(a);return r[i]={},r},{}))||{}}function g9(e,t){return e.reduce((n,r)=>{const a=n[r];return(!a||Object.keys(a).length===0)&&delete n[r],n},t)}function Qk(e,t,n=!0){if(!t||typeof t!="string")return null;if(e&&e.vars&&n){const r=`vars.${t}`.split(".").reduce((a,i)=>a&&a[i]?a[i]:null,e);if(r!=null)return r}return t.split(".").reduce((r,a)=>r&&r[a]!=null?r[a]:null,e)}function VC(e,t,n,r=n){let a;return typeof e=="function"?a=e(n):Array.isArray(e)?a=e[n]||r:a=Qk(e,n)||r,t&&(a=t(a,r,e)),a}function Ya(e){const{prop:t,cssProperty:n=e.prop,themeKey:r,transform:a}=e,i=o=>{if(o[t]==null)return null;const s=o[t],l=o.theme,u=Qk(l,r)||{};return kd(o,s,f=>{let h=VC(u,a,f);return f===h&&typeof f=="string"&&(h=VC(u,a,`${t}${f==="default"?"":bt(f)}`,f)),n===!1?h:{[n]:h}})};return i.propTypes={},i.filterProps=[t],i}function Zxe(e){const t={};return n=>(t[n]===void 0&&(t[n]=e(n)),t[n])}const Qxe={m:"margin",p:"padding"},Jxe={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},v9={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},e1e=Zxe(e=>{if(e.length>2)if(v9[e])e=v9[e];else return[e];const[t,n]=e.split(""),r=Qxe[t],a=Jxe[n]||"";return Array.isArray(a)?a.map(i=>r+i):[r+a]}),qF=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],GF=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...qF,...GF];function Fw(e,t,n,r){const a=Qk(e,t,!0)??n;return typeof a=="number"||typeof a=="string"?i=>typeof i=="string"?i:typeof a=="string"?a.startsWith("var(")&&i===0?0:a.startsWith("var(")&&i===1?a:`calc(${i} * ${a})`:a*i:Array.isArray(a)?i=>{if(typeof i=="string")return i;const o=Math.abs(i),s=a[o];return i>=0?s:typeof s=="number"?-s:typeof s=="string"&&s.startsWith("var(")?`calc(-1 * ${s})`:`-${s}`}:typeof a=="function"?a:()=>{}}function YF(e){return Fw(e,"spacing",8)}function Lw(e,t){return typeof t=="string"||t==null?t:e(t)}function t1e(e,t){return n=>e.reduce((r,a)=>(r[a]=Lw(t,n),r),{})}function n1e(e,t,n,r){if(!t.includes(n))return null;const a=e1e(n),i=t1e(a,r),o=e[n];return kd(e,o,i)}function xte(e,t){const n=YF(e.theme);return Object.keys(e).map(r=>n1e(e,t,r,n)).reduce(Gx,{})}function ja(e){return xte(e,qF)}ja.propTypes={};ja.filterProps=qF;function Ta(e){return xte(e,GF)}Ta.propTypes={};Ta.filterProps=GF;function Jk(...e){const t=e.reduce((r,a)=>(a.filterProps.forEach(i=>{r[i]=a}),r),{}),n=r=>Object.keys(r).reduce((a,i)=>t[i]?Gx(a,t[i](r)):a,{});return n.propTypes={},n.filterProps=e.reduce((r,a)=>r.concat(a.filterProps),[]),n}function ml(e){return typeof e!="number"?e:`${e}px solid`}function Ml(e,t){return Ya({prop:e,themeKey:"borders",transform:t})}const r1e=Ml("border",ml),a1e=Ml("borderTop",ml),i1e=Ml("borderRight",ml),o1e=Ml("borderBottom",ml),s1e=Ml("borderLeft",ml),l1e=Ml("borderColor"),c1e=Ml("borderTopColor"),u1e=Ml("borderRightColor"),d1e=Ml("borderBottomColor"),f1e=Ml("borderLeftColor"),h1e=Ml("outline",ml),p1e=Ml("outlineColor"),ej=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const t=Fw(e.theme,"shape.borderRadius",4),n=r=>({borderRadius:Lw(t,r)});return kd(e,e.borderRadius,n)}return null};ej.propTypes={};ej.filterProps=["borderRadius"];Jk(r1e,a1e,i1e,o1e,s1e,l1e,c1e,u1e,d1e,f1e,ej,h1e,p1e);const tj=e=>{if(e.gap!==void 0&&e.gap!==null){const t=Fw(e.theme,"spacing",8),n=r=>({gap:Lw(t,r)});return kd(e,e.gap,n)}return null};tj.propTypes={};tj.filterProps=["gap"];const nj=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const t=Fw(e.theme,"spacing",8),n=r=>({columnGap:Lw(t,r)});return kd(e,e.columnGap,n)}return null};nj.propTypes={};nj.filterProps=["columnGap"];const rj=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const t=Fw(e.theme,"spacing",8),n=r=>({rowGap:Lw(t,r)});return kd(e,e.rowGap,n)}return null};rj.propTypes={};rj.filterProps=["rowGap"];const m1e=Ya({prop:"gridColumn"}),g1e=Ya({prop:"gridRow"}),v1e=Ya({prop:"gridAutoFlow"}),y1e=Ya({prop:"gridAutoColumns"}),x1e=Ya({prop:"gridAutoRows"}),b1e=Ya({prop:"gridTemplateColumns"}),w1e=Ya({prop:"gridTemplateRows"}),_1e=Ya({prop:"gridTemplateAreas"}),S1e=Ya({prop:"gridArea"});Jk(tj,nj,rj,m1e,g1e,v1e,y1e,x1e,b1e,w1e,_1e,S1e);function uv(e,t){return t==="grey"?t:e}const C1e=Ya({prop:"color",themeKey:"palette",transform:uv}),E1e=Ya({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:uv}),N1e=Ya({prop:"backgroundColor",themeKey:"palette",transform:uv});Jk(C1e,E1e,N1e);function ks(e){return e<=1&&e!==0?`${e*100}%`:e}const k1e=Ya({prop:"width",transform:ks}),KF=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const t=n=>{var a,i,o,s,l;const r=((o=(i=(a=e.theme)==null?void 0:a.breakpoints)==null?void 0:i.values)==null?void 0:o[n])||Zk[n];return r?((l=(s=e.theme)==null?void 0:s.breakpoints)==null?void 0:l.unit)!=="px"?{maxWidth:`${r}${e.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:ks(n)}};return kd(e,e.maxWidth,t)}return null};KF.filterProps=["maxWidth"];const j1e=Ya({prop:"minWidth",transform:ks}),T1e=Ya({prop:"height",transform:ks}),P1e=Ya({prop:"maxHeight",transform:ks}),A1e=Ya({prop:"minHeight",transform:ks});Ya({prop:"size",cssProperty:"width",transform:ks});Ya({prop:"size",cssProperty:"height",transform:ks});const D1e=Ya({prop:"boxSizing"});Jk(k1e,KF,j1e,T1e,P1e,A1e,D1e);const $w={border:{themeKey:"borders",transform:ml},borderTop:{themeKey:"borders",transform:ml},borderRight:{themeKey:"borders",transform:ml},borderBottom:{themeKey:"borders",transform:ml},borderLeft:{themeKey:"borders",transform:ml},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:ml},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:ej},color:{themeKey:"palette",transform:uv},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:uv},backgroundColor:{themeKey:"palette",transform:uv},p:{style:Ta},pt:{style:Ta},pr:{style:Ta},pb:{style:Ta},pl:{style:Ta},px:{style:Ta},py:{style:Ta},padding:{style:Ta},paddingTop:{style:Ta},paddingRight:{style:Ta},paddingBottom:{style:Ta},paddingLeft:{style:Ta},paddingX:{style:Ta},paddingY:{style:Ta},paddingInline:{style:Ta},paddingInlineStart:{style:Ta},paddingInlineEnd:{style:Ta},paddingBlock:{style:Ta},paddingBlockStart:{style:Ta},paddingBlockEnd:{style:Ta},m:{style:ja},mt:{style:ja},mr:{style:ja},mb:{style:ja},ml:{style:ja},mx:{style:ja},my:{style:ja},margin:{style:ja},marginTop:{style:ja},marginRight:{style:ja},marginBottom:{style:ja},marginLeft:{style:ja},marginX:{style:ja},marginY:{style:ja},marginInline:{style:ja},marginInlineStart:{style:ja},marginInlineEnd:{style:ja},marginBlock:{style:ja},marginBlockStart:{style:ja},marginBlockEnd:{style:ja},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:tj},rowGap:{style:rj},columnGap:{style:nj},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:ks},maxWidth:{style:KF},minWidth:{transform:ks},height:{transform:ks},maxHeight:{transform:ks},minHeight:{transform:ks},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function O1e(...e){const t=e.reduce((r,a)=>r.concat(Object.keys(a)),[]),n=new Set(t);return e.every(r=>n.size===Object.keys(r).length)}function M1e(e,t){return typeof e=="function"?e(t):e}function I1e(){function e(n,r,a,i){const o={[n]:r,theme:a},s=i[n];if(!s)return{[n]:r};const{cssProperty:l=n,themeKey:u,transform:d,style:f}=s;if(r==null)return null;if(u==="typography"&&r==="inherit")return{[n]:r};const h=Qk(a,u)||{};return f?f(o):kd(o,r,m=>{let g=VC(h,d,m);return m===g&&typeof m=="string"&&(g=VC(h,d,`${n}${m==="default"?"":bt(m)}`,m)),l===!1?g:{[l]:g}})}function t(n){const{sx:r,theme:a={},nested:i}=n||{};if(!r)return null;const o=a.unstable_sxConfig??$w;function s(l){let u=l;if(typeof l=="function")u=l(a);else if(typeof l!="object")return l;if(!u)return null;const d=Xxe(a.breakpoints),f=Object.keys(d);let h=d;return Object.keys(u).forEach(p=>{const m=M1e(u[p],a);if(m!=null)if(typeof m=="object")if(o[p])h=Gx(h,e(p,m,a,o));else{const g=kd({theme:a},m,y=>({[p]:y}));O1e(g,m)?h[p]=t({sx:m,theme:a,nested:!0}):h=Gx(h,g)}else h=Gx(h,e(p,m,a,o))}),!i&&a.modularCssLayers?{"@layer sx":p9(a,g9(f,h))}:p9(a,g9(f,h))}return Array.isArray(r)?r.map(s):s(r)}return t}const dm=I1e();dm.filterProps=["sx"];const R1e=e=>{var r;const t={systemProps:{},otherProps:{}},n=((r=e==null?void 0:e.theme)==null?void 0:r.unstable_sxConfig)??$w;return Object.keys(e).forEach(a=>{n[a]?t.systemProps[a]=e[a]:t.otherProps[a]=e[a]}),t};function bte(e){const{sx:t,...n}=e,{systemProps:r,otherProps:a}=R1e(n);let i;return Array.isArray(t)?i=[r,...t]:typeof t=="function"?i=(...o)=>{const s=t(...o);return Jc(s)?{...r,...s}:r}:i={...r,...t},{...a,sx:i}}function eb(){return eb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},eb.apply(null,arguments)}function F1e(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function L1e(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var $1e=function(){function e(n){var r=this;this._insertTag=function(a){var i;r.tags.length===0?r.insertionPoint?i=r.insertionPoint.nextSibling:r.prepend?i=r.container.firstChild:i=r.before:i=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(a,i),r.tags.push(a)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(L1e(this));var a=this.tags[this.tags.length-1];if(this.isSpeedy){var i=F1e(a);try{i.insertRule(r,i.cssRules.length)}catch{}}else a.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){var a;return(a=r.parentNode)==null?void 0:a.removeChild(r)}),this.tags=[],this.ctr=0},e}(),io="-ms-",HC="-moz-",mr="-webkit-",wte="comm",XF="rule",ZF="decl",B1e="@import",_te="@keyframes",z1e="@layer",U1e=Math.abs,aj=String.fromCharCode,W1e=Object.assign;function V1e(e,t){return qi(e,0)^45?(((t<<2^qi(e,0))<<2^qi(e,1))<<2^qi(e,2))<<2^qi(e,3):0}function Ste(e){return e.trim()}function H1e(e,t){return(e=t.exec(e))?e[0]:e}function gr(e,t,n){return e.replace(t,n)}function o3(e,t){return e.indexOf(t)}function qi(e,t){return e.charCodeAt(t)|0}function tb(e,t,n){return e.slice(t,n)}function Yc(e){return e.length}function QF(e){return e.length}function a_(e,t){return t.push(e),e}function q1e(e,t){return e.map(t).join("")}var ij=1,Gv=1,Cte=0,cs=0,Qa=0,H0="";function oj(e,t,n,r,a,i,o){return{value:e,root:t,parent:n,type:r,props:a,children:i,line:ij,column:Gv,length:o,return:""}}function Ly(e,t){return W1e(oj("",null,null,"",null,null,0),e,{length:-e.length},t)}function G1e(){return Qa}function Y1e(){return Qa=cs>0?qi(H0,--cs):0,Gv--,Qa===10&&(Gv=1,ij--),Qa}function Is(){return Qa=cs<Cte?qi(H0,cs++):0,Gv++,Qa===10&&(Gv=1,ij++),Qa}function fu(){return qi(H0,cs)}function $S(){return cs}function Bw(e,t){return tb(H0,e,t)}function nb(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Ete(e){return ij=Gv=1,Cte=Yc(H0=e),cs=0,[]}function Nte(e){return H0="",e}function BS(e){return Ste(Bw(cs-1,s3(e===91?e+2:e===40?e+1:e)))}function K1e(e){for(;(Qa=fu())&&Qa<33;)Is();return nb(e)>2||nb(Qa)>3?"":" "}function X1e(e,t){for(;--t&&Is()&&!(Qa<48||Qa>102||Qa>57&&Qa<65||Qa>70&&Qa<97););return Bw(e,$S()+(t<6&&fu()==32&&Is()==32))}function s3(e){for(;Is();)switch(Qa){case e:return cs;case 34:case 39:e!==34&&e!==39&&s3(Qa);break;case 40:e===41&&s3(e);break;case 92:Is();break}return cs}function Z1e(e,t){for(;Is()&&e+Qa!==57;)if(e+Qa===84&&fu()===47)break;return"/*"+Bw(t,cs-1)+"*"+aj(e===47?e:Is())}function Q1e(e){for(;!nb(fu());)Is();return Bw(e,cs)}function J1e(e){return Nte(zS("",null,null,null,[""],e=Ete(e),0,[0],e))}function zS(e,t,n,r,a,i,o,s,l){for(var u=0,d=0,f=o,h=0,p=0,m=0,g=1,y=1,x=1,b=0,w="",_=a,S=i,k=r,N=w;y;)switch(m=b,b=Is()){case 40:if(m!=108&&qi(N,f-1)==58){o3(N+=gr(BS(b),"&","&\f"),"&\f")!=-1&&(x=-1);break}case 34:case 39:case 91:N+=BS(b);break;case 9:case 10:case 13:case 32:N+=K1e(m);break;case 92:N+=X1e($S()-1,7);continue;case 47:switch(fu()){case 42:case 47:a_(ebe(Z1e(Is(),$S()),t,n),l);break;default:N+="/"}break;case 123*g:s[u++]=Yc(N)*x;case 125*g:case 59:case 0:switch(b){case 0:case 125:y=0;case 59+d:x==-1&&(N=gr(N,/\f/g,"")),p>0&&Yc(N)-f&&a_(p>32?x9(N+";",r,n,f-1):x9(gr(N," ","")+";",r,n,f-2),l);break;case 59:N+=";";default:if(a_(k=y9(N,t,n,u,d,a,s,w,_=[],S=[],f),i),b===123)if(d===0)zS(N,t,k,k,_,i,f,s,S);else switch(h===99&&qi(N,3)===110?100:h){case 100:case 108:case 109:case 115:zS(e,k,k,r&&a_(y9(e,k,k,0,0,a,s,w,a,_=[],f),S),a,S,f,s,r?_:S);break;default:zS(N,k,k,k,[""],S,0,s,S)}}u=d=p=0,g=x=1,w=N="",f=o;break;case 58:f=1+Yc(N),p=m;default:if(g<1){if(b==123)--g;else if(b==125&&g++==0&&Y1e()==125)continue}switch(N+=aj(b),b*g){case 38:x=d>0?1:(N+="\f",-1);break;case 44:s[u++]=(Yc(N)-1)*x,x=1;break;case 64:fu()===45&&(N+=BS(Is())),h=fu(),d=f=Yc(w=N+=Q1e($S())),b++;break;case 45:m===45&&Yc(N)==2&&(g=0)}}return i}function y9(e,t,n,r,a,i,o,s,l,u,d){for(var f=a-1,h=a===0?i:[""],p=QF(h),m=0,g=0,y=0;m<r;++m)for(var x=0,b=tb(e,f+1,f=U1e(g=o[m])),w=e;x<p;++x)(w=Ste(g>0?h[x]+" "+b:gr(b,/&\f/g,h[x])))&&(l[y++]=w);return oj(e,t,n,a===0?XF:s,l,u,d)}function ebe(e,t,n){return oj(e,t,n,wte,aj(G1e()),tb(e,2,-2),0)}function x9(e,t,n,r){return oj(e,t,n,ZF,tb(e,0,r),tb(e,r+1,-1),r)}function dv(e,t){for(var n="",r=QF(e),a=0;a<r;a++)n+=t(e[a],a,e,t)||"";return n}function tbe(e,t,n,r){switch(e.type){case z1e:if(e.children.length)break;case B1e:case ZF:return e.return=e.return||e.value;case wte:return"";case _te:return e.return=e.value+"{"+dv(e.children,r)+"}";case XF:e.value=e.props.join(",")}return Yc(n=dv(e.children,r))?e.return=e.value+"{"+n+"}":""}function nbe(e){var t=QF(e);return function(n,r,a,i){for(var o="",s=0;s<t;s++)o+=e[s](n,r,a,i)||"";return o}}function rbe(e){return function(t){t.root||(t=t.return)&&e(t)}}function kte(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var abe=function(t,n,r){for(var a=0,i=0;a=i,i=fu(),a===38&&i===12&&(n[r]=1),!nb(i);)Is();return Bw(t,cs)},ibe=function(t,n){var r=-1,a=44;do switch(nb(a)){case 0:a===38&&fu()===12&&(n[r]=1),t[r]+=abe(cs-1,n,r);break;case 2:t[r]+=BS(a);break;case 4:if(a===44){t[++r]=fu()===58?"&\f":"",n[r]=t[r].length;break}default:t[r]+=aj(a)}while(a=Is());return t},obe=function(t,n){return Nte(ibe(Ete(t),n))},b9=new WeakMap,sbe=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,r=t.parent,a=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!b9.get(r))&&!a){b9.set(t,!0);for(var i=[],o=obe(n,i),s=r.props,l=0,u=0;l<o.length;l++)for(var d=0;d<s.length;d++,u++)t.props[u]=i[l]?o[l].replace(/&\f/g,s[d]):s[d]+" "+o[l]}}},lbe=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function jte(e,t){switch(V1e(e,t)){case 5103:return mr+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return mr+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return mr+e+HC+e+io+e+e;case 6828:case 4268:return mr+e+io+e+e;case 6165:return mr+e+io+"flex-"+e+e;case 5187:return mr+e+gr(e,/(\w+).+(:[^]+)/,mr+"box-$1$2"+io+"flex-$1$2")+e;case 5443:return mr+e+io+"flex-item-"+gr(e,/flex-|-self/,"")+e;case 4675:return mr+e+io+"flex-line-pack"+gr(e,/align-content|flex-|-self/,"")+e;case 5548:return mr+e+io+gr(e,"shrink","negative")+e;case 5292:return mr+e+io+gr(e,"basis","preferred-size")+e;case 6060:return mr+"box-"+gr(e,"-grow","")+mr+e+io+gr(e,"grow","positive")+e;case 4554:return mr+gr(e,/([^-])(transform)/g,"$1"+mr+"$2")+e;case 6187:return gr(gr(gr(e,/(zoom-|grab)/,mr+"$1"),/(image-set)/,mr+"$1"),e,"")+e;case 5495:case 3959:return gr(e,/(image-set\([^]*)/,mr+"$1$`$1");case 4968:return gr(gr(e,/(.+:)(flex-)?(.*)/,mr+"box-pack:$3"+io+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+mr+e+e;case 4095:case 3583:case 4068:case 2532:return gr(e,/(.+)-inline(.+)/,mr+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Yc(e)-1-t>6)switch(qi(e,t+1)){case 109:if(qi(e,t+4)!==45)break;case 102:return gr(e,/(.+:)(.+)-([^]+)/,"$1"+mr+"$2-$3$1"+HC+(qi(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~o3(e,"stretch")?jte(gr(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(qi(e,t+1)!==115)break;case 6444:switch(qi(e,Yc(e)-3-(~o3(e,"!important")&&10))){case 107:return gr(e,":",":"+mr)+e;case 101:return gr(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+mr+(qi(e,14)===45?"inline-":"")+"box$3$1"+mr+"$2$3$1"+io+"$2box$3")+e}break;case 5936:switch(qi(e,t+11)){case 114:return mr+e+io+gr(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return mr+e+io+gr(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return mr+e+io+gr(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return mr+e+io+e+e}return e}var cbe=function(t,n,r,a){if(t.length>-1&&!t.return)switch(t.type){case ZF:t.return=jte(t.value,t.length);break;case _te:return dv([Ly(t,{value:gr(t.value,"@","@"+mr)})],a);case XF:if(t.length)return q1e(t.props,function(i){switch(H1e(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return dv([Ly(t,{props:[gr(i,/:(read-\w+)/,":"+HC+"$1")]})],a);case"::placeholder":return dv([Ly(t,{props:[gr(i,/:(plac\w+)/,":"+mr+"input-$1")]}),Ly(t,{props:[gr(i,/:(plac\w+)/,":"+HC+"$1")]}),Ly(t,{props:[gr(i,/:(plac\w+)/,io+"input-$1")]})],a)}return""})}},ube=[cbe],dbe=function(t){var n=t.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(g){var y=g.getAttribute("data-emotion");y.indexOf(" ")!==-1&&(document.head.appendChild(g),g.setAttribute("data-s",""))})}var a=t.stylisPlugins||ube,i={},o,s=[];o=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(g){for(var y=g.getAttribute("data-emotion").split(" "),x=1;x<y.length;x++)i[y[x]]=!0;s.push(g)});var l,u=[sbe,lbe];{var d,f=[tbe,rbe(function(g){d.insert(g)})],h=nbe(u.concat(a,f)),p=function(y){return dv(J1e(y),h)};l=function(y,x,b,w){d=b,p(y?y+"{"+x.styles+"}":x.styles),w&&(m.inserted[x.name]=!0)}}var m={key:n,sheet:new $1e({key:n,container:o,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:i,registered:{},insert:l};return m.sheet.hydrate(s),m},Tte={exports:{}},Ar={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Di=typeof Symbol=="function"&&Symbol.for,JF=Di?Symbol.for("react.element"):60103,eL=Di?Symbol.for("react.portal"):60106,sj=Di?Symbol.for("react.fragment"):60107,lj=Di?Symbol.for("react.strict_mode"):60108,cj=Di?Symbol.for("react.profiler"):60114,uj=Di?Symbol.for("react.provider"):60109,dj=Di?Symbol.for("react.context"):60110,tL=Di?Symbol.for("react.async_mode"):60111,fj=Di?Symbol.for("react.concurrent_mode"):60111,hj=Di?Symbol.for("react.forward_ref"):60112,pj=Di?Symbol.for("react.suspense"):60113,fbe=Di?Symbol.for("react.suspense_list"):60120,mj=Di?Symbol.for("react.memo"):60115,gj=Di?Symbol.for("react.lazy"):60116,hbe=Di?Symbol.for("react.block"):60121,pbe=Di?Symbol.for("react.fundamental"):60117,mbe=Di?Symbol.for("react.responder"):60118,gbe=Di?Symbol.for("react.scope"):60119;function Hs(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case JF:switch(e=e.type,e){case tL:case fj:case sj:case cj:case lj:case pj:return e;default:switch(e=e&&e.$$typeof,e){case dj:case hj:case gj:case mj:case uj:return e;default:return t}}case eL:return t}}}function Pte(e){return Hs(e)===fj}Ar.AsyncMode=tL;Ar.ConcurrentMode=fj;Ar.ContextConsumer=dj;Ar.ContextProvider=uj;Ar.Element=JF;Ar.ForwardRef=hj;Ar.Fragment=sj;Ar.Lazy=gj;Ar.Memo=mj;Ar.Portal=eL;Ar.Profiler=cj;Ar.StrictMode=lj;Ar.Suspense=pj;Ar.isAsyncMode=function(e){return Pte(e)||Hs(e)===tL};Ar.isConcurrentMode=Pte;Ar.isContextConsumer=function(e){return Hs(e)===dj};Ar.isContextProvider=function(e){return Hs(e)===uj};Ar.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===JF};Ar.isForwardRef=function(e){return Hs(e)===hj};Ar.isFragment=function(e){return Hs(e)===sj};Ar.isLazy=function(e){return Hs(e)===gj};Ar.isMemo=function(e){return Hs(e)===mj};Ar.isPortal=function(e){return Hs(e)===eL};Ar.isProfiler=function(e){return Hs(e)===cj};Ar.isStrictMode=function(e){return Hs(e)===lj};Ar.isSuspense=function(e){return Hs(e)===pj};Ar.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===sj||e===fj||e===cj||e===lj||e===pj||e===fbe||typeof e=="object"&&e!==null&&(e.$$typeof===gj||e.$$typeof===mj||e.$$typeof===uj||e.$$typeof===dj||e.$$typeof===hj||e.$$typeof===pbe||e.$$typeof===mbe||e.$$typeof===gbe||e.$$typeof===hbe)};Ar.typeOf=Hs;Tte.exports=Ar;var vbe=Tte.exports,Ate=vbe,ybe={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},xbe={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Dte={};Dte[Ate.ForwardRef]=ybe;Dte[Ate.Memo]=xbe;var bbe=!0;function Ote(e,t,n){var r="";return n.split(" ").forEach(function(a){e[a]!==void 0?t.push(e[a]+";"):a&&(r+=a+" ")}),r}var nL=function(t,n,r){var a=t.key+"-"+n.name;(r===!1||bbe===!1)&&t.registered[a]===void 0&&(t.registered[a]=n.styles)},rL=function(t,n,r){nL(t,n,r);var a=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var i=n;do t.insert(n===i?"."+a:"",i,t.sheet,!0),i=i.next;while(i!==void 0)}};function wbe(e){for(var t=0,n,r=0,a=e.length;a>=4;++r,a-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(a){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var _be={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Sbe=/[A-Z]|^ms/g,Cbe=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Mte=function(t){return t.charCodeAt(1)===45},w9=function(t){return t!=null&&typeof t!="boolean"},kA=kte(function(e){return Mte(e)?e:e.replace(Sbe,"-$&").toLowerCase()}),_9=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(Cbe,function(r,a,i){return Kc={name:a,styles:i,next:Kc},a})}return _be[t]!==1&&!Mte(t)&&typeof n=="number"&&n!==0?n+"px":n};function rb(e,t,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var a=n;if(a.anim===1)return Kc={name:a.name,styles:a.styles,next:Kc},a.name;var i=n;if(i.styles!==void 0){var o=i.next;if(o!==void 0)for(;o!==void 0;)Kc={name:o.name,styles:o.styles,next:Kc},o=o.next;var s=i.styles+";";return s}return Ebe(e,t,n)}case"function":{if(e!==void 0){var l=Kc,u=n(e);return Kc=l,rb(e,t,u)}break}}var d=n;if(t==null)return d;var f=t[d];return f!==void 0?f:d}function Ebe(e,t,n){var r="";if(Array.isArray(n))for(var a=0;a<n.length;a++)r+=rb(e,t,n[a])+";";else for(var i in n){var o=n[i];if(typeof o!="object"){var s=o;t!=null&&t[s]!==void 0?r+=i+"{"+t[s]+"}":w9(s)&&(r+=kA(i)+":"+_9(i,s)+";")}else if(Array.isArray(o)&&typeof o[0]=="string"&&(t==null||t[o[0]]===void 0))for(var l=0;l<o.length;l++)w9(o[l])&&(r+=kA(i)+":"+_9(i,o[l])+";");else{var u=rb(e,t,o);switch(i){case"animation":case"animationName":{r+=kA(i)+":"+u+";";break}default:r+=i+"{"+u+"}"}}}return r}var S9=/label:\s*([^\s;{]+)\s*(;|$)/g,Kc;function zw(e,t,n){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var r=!0,a="";Kc=void 0;var i=e[0];if(i==null||i.raw===void 0)r=!1,a+=rb(n,t,i);else{var o=i;a+=o[0]}for(var s=1;s<e.length;s++)if(a+=rb(n,t,e[s]),r){var l=i;a+=l[s]}S9.lastIndex=0;for(var u="",d;(d=S9.exec(a))!==null;)u+="-"+d[1];var f=wbe(a)+u;return{name:f,styles:a,next:Kc}}var Nbe=function(t){return t()},Ite=pC.useInsertionEffect?pC.useInsertionEffect:!1,Rte=Ite||Nbe,C9=Ite||E.useLayoutEffect,Fte=E.createContext(typeof HTMLElement<"u"?dbe({key:"css"}):null);Fte.Provider;var aL=function(t){return E.forwardRef(function(n,r){var a=E.useContext(Fte);return t(n,a,r)})},vj=E.createContext({}),iL={}.hasOwnProperty,l3="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",kbe=function(t,n){var r={};for(var a in n)iL.call(n,a)&&(r[a]=n[a]);return r[l3]=t,r},jbe=function(t){var n=t.cache,r=t.serialized,a=t.isStringTag;return nL(n,r,a),Rte(function(){return rL(n,r,a)}),null},Tbe=aL(function(e,t,n){var r=e.css;typeof r=="string"&&t.registered[r]!==void 0&&(r=t.registered[r]);var a=e[l3],i=[r],o="";typeof e.className=="string"?o=Ote(t.registered,i,e.className):e.className!=null&&(o=e.className+" ");var s=zw(i,void 0,E.useContext(vj));o+=t.key+"-"+s.name;var l={};for(var u in e)iL.call(e,u)&&u!=="css"&&u!==l3&&(l[u]=e[u]);return l.className=o,n&&(l.ref=n),E.createElement(E.Fragment,null,E.createElement(jbe,{cache:t,serialized:s,isStringTag:typeof a=="string"}),E.createElement(a,l))}),Pbe=Tbe,E9=function(t,n){var r=arguments;if(n==null||!iL.call(n,"css"))return E.createElement.apply(void 0,r);var a=r.length,i=new Array(a);i[0]=Pbe,i[1]=kbe(t,n);for(var o=2;o<a;o++)i[o]=r[o];return E.createElement.apply(null,i)};(function(e){var t;t||(t=e.JSX||(e.JSX={}))})(E9||(E9={}));var Abe=aL(function(e,t){var n=e.styles,r=zw([n],void 0,E.useContext(vj)),a=E.useRef();return C9(function(){var i=t.key+"-global",o=new t.sheet.constructor({key:i,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),s=!1,l=document.querySelector('style[data-emotion="'+i+" "+r.name+'"]');return t.sheet.tags.length&&(o.before=t.sheet.tags[0]),l!==null&&(s=!0,l.setAttribute("data-emotion",i),o.hydrate([l])),a.current=[o,s],function(){o.flush()}},[t]),C9(function(){var i=a.current,o=i[0],s=i[1];if(s){i[1]=!1;return}if(r.next!==void 0&&rL(t,r.next,!0),o.tags.length){var l=o.tags[o.tags.length-1].nextElementSibling;o.before=l,o.flush()}t.insert("",r,o,!1)},[t,r.name]),null});function oL(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return zw(t)}function Uw(){var e=oL.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var Dbe=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Obe=kte(function(e){return Dbe.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91}),Mbe=Obe,Ibe=function(t){return t!=="theme"},N9=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?Mbe:Ibe},k9=function(t,n,r){var a;if(n){var i=n.shouldForwardProp;a=t.__emotion_forwardProp&&i?function(o){return t.__emotion_forwardProp(o)&&i(o)}:i}return typeof a!="function"&&r&&(a=t.__emotion_forwardProp),a},Rbe=function(t){var n=t.cache,r=t.serialized,a=t.isStringTag;return nL(n,r,a),Rte(function(){return rL(n,r,a)}),null},Fbe=function e(t,n){var r=t.__emotion_real===t,a=r&&t.__emotion_base||t,i,o;n!==void 0&&(i=n.label,o=n.target);var s=k9(t,n,r),l=s||N9(a),u=!l("as");return function(){var d=arguments,f=r&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(i!==void 0&&f.push("label:"+i+";"),d[0]==null||d[0].raw===void 0)f.push.apply(f,d);else{var h=d[0];f.push(h[0]);for(var p=d.length,m=1;m<p;m++)f.push(d[m],h[m])}var g=aL(function(y,x,b){var w=u&&y.as||a,_="",S=[],k=y;if(y.theme==null){k={};for(var N in y)k[N]=y[N];k.theme=E.useContext(vj)}typeof y.className=="string"?_=Ote(x.registered,S,y.className):y.className!=null&&(_=y.className+" ");var P=zw(f.concat(S),x.registered,k);_+=x.key+"-"+P.name,o!==void 0&&(_+=" "+o);var T=u&&s===void 0?N9(w):l,j={};for(var D in y)u&&D==="as"||T(D)&&(j[D]=y[D]);return j.className=_,b&&(j.ref=b),E.createElement(E.Fragment,null,E.createElement(Rbe,{cache:x,serialized:P,isStringTag:typeof w=="string"}),E.createElement(w,j))});return g.displayName=i!==void 0?i:"Styled("+(typeof a=="string"?a:a.displayName||a.name||"Component")+")",g.defaultProps=t.defaultProps,g.__emotion_real=g,g.__emotion_base=a,g.__emotion_styles=f,g.__emotion_forwardProp=s,Object.defineProperty(g,"toString",{value:function(){return"."+o}}),g.withComponent=function(y,x){var b=e(y,eb({},n,x,{shouldForwardProp:k9(g,x,!0)}));return b.apply(void 0,f)},g}},Lbe=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],c3=Fbe.bind(null);Lbe.forEach(function(e){c3[e]=c3(e)});function $be(e){return e==null||Object.keys(e).length===0}function Bbe(e){const{styles:t,defaultTheme:n={}}=e,r=typeof t=="function"?a=>t($be(a)?n:a):t;return c.jsx(Abe,{styles:r})}function Lte(e,t){return c3(e,t)}function zbe(e,t){Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))}const j9=[];function Jf(e){return j9[0]=e,zw(j9)}const Ube=e=>{const t=Object.keys(e).map(n=>({key:n,val:e[n]}))||[];return t.sort((n,r)=>n.val-r.val),t.reduce((n,r)=>({...n,[r.key]:r.val}),{})};function Wbe(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5,...a}=e,i=Ube(t),o=Object.keys(i);function s(h){return`@media (min-width:${typeof t[h]=="number"?t[h]:h}${n})`}function l(h){return`@media (max-width:${(typeof t[h]=="number"?t[h]:h)-r/100}${n})`}function u(h,p){const m=o.indexOf(p);return`@media (min-width:${typeof t[h]=="number"?t[h]:h}${n}) and (max-width:${(m!==-1&&typeof t[o[m]]=="number"?t[o[m]]:p)-r/100}${n})`}function d(h){return o.indexOf(h)+1<o.length?u(h,o[o.indexOf(h)+1]):s(h)}function f(h){const p=o.indexOf(h);return p===0?s(o[1]):p===o.length-1?l(o[p]):u(h,o[o.indexOf(h)+1]).replace("@media","@media not all and")}return{keys:o,values:i,up:s,down:l,between:u,only:d,not:f,unit:n,...a}}const Vbe={borderRadius:4};function $te(e=8,t=YF({spacing:e})){if(e.mui)return e;const n=(...r)=>(r.length===0?[1]:r).map(i=>{const o=t(i);return typeof o=="number"?`${o}px`:o}).join(" ");return n.mui=!0,n}function Hbe(e,t){var r;const n=this;if(n.vars){if(!((r=n.colorSchemes)!=null&&r[e])||typeof n.getColorSchemeSelector!="function")return{};let a=n.getColorSchemeSelector(e);return a==="&"?t:((a.includes("data-")||a.includes("."))&&(a=`*:where(${a.replace(/\s*&$/,"")}) &`),{[a]:t})}return n.palette.mode===e?t:{}}function sL(e={},...t){const{breakpoints:n={},palette:r={},spacing:a,shape:i={},...o}=e,s=Wbe(n),l=$te(a);let u=_o({breakpoints:s,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:l,shape:{...Vbe,...i}},o);return u=Yxe(u),u.applyStyles=Hbe,u=t.reduce((d,f)=>_o(d,f),u),u.unstable_sxConfig={...$w,...o==null?void 0:o.unstable_sxConfig},u.unstable_sx=function(f){return dm({sx:f,theme:this})},u}function qbe(e){return Object.keys(e).length===0}function Gbe(e=null){const t=E.useContext(vj);return!t||qbe(t)?e:t}const Ybe=sL();function lL(e=Ybe){return Gbe(e)}function jA(e){const t=Jf(e);return e!==t&&t.styles?(t.styles.match(/^@layer\s+[^{]*$/)||(t.styles=`@layer global{${t.styles}}`),t):e}function Kbe({styles:e,themeId:t,defaultTheme:n={}}){const r=lL(n),a=t&&r[t]||r;let i=typeof e=="function"?e(a):e;return a.modularCssLayers&&(Array.isArray(i)?i=i.map(o=>jA(typeof o=="function"?o(a):o)):i=jA(i)),c.jsx(Bbe,{styles:i})}function Xbe(e={}){const{themeId:t,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:a}=e,i=Lte("div",{shouldForwardProp:s=>s!=="theme"&&s!=="sx"&&s!=="as"})(dm);return E.forwardRef(function(l,u){const d=lL(n),{className:f,component:h="div",...p}=bte(l);return c.jsx(i,{as:h,ref:u,className:Tt(f,a?a(r):r),theme:t&&d[t]||d,...p})})}const Zbe={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Mn(e,t,n="Mui"){const r=Zbe[t];return r?`${n}-${r}`:`${dte.generate(e)}-${t}`}function jn(e,t,n="Mui"){const r={};return t.forEach(a=>{r[a]=Mn(e,a,n)}),r}function Bte(e){const{variants:t,...n}=e,r={variants:t,style:Jf(n),isProcessed:!0};return r.style===n||t&&t.forEach(a=>{typeof a.style!="function"&&(a.style=Jf(a.style))}),r}const Qbe=sL();function TA(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}function Np(e,t){return t&&e&&typeof e=="object"&&e.styles&&!e.styles.startsWith("@layer")&&(e.styles=`@layer ${t}{${String(e.styles)}}`),e}function Jbe(e){return e?(t,n)=>n[e]:null}function ewe(e,t,n){e.theme=rwe(e.theme)?n:e.theme[t]||e.theme}function US(e,t,n){const r=typeof t=="function"?t(e):t;if(Array.isArray(r))return r.flatMap(a=>US(e,a,n));if(Array.isArray(r==null?void 0:r.variants)){let a;if(r.isProcessed)a=n?Np(r.style,n):r.style;else{const{variants:i,...o}=r;a=n?Np(Jf(o),n):o}return zte(e,r.variants,[a],n)}return r!=null&&r.isProcessed?n?Np(Jf(r.style),n):r.style:n?Np(Jf(r),n):r}function zte(e,t,n=[],r=void 0){var i;let a;e:for(let o=0;o<t.length;o+=1){const s=t[o];if(typeof s.props=="function"){if(a??(a={...e,...e.ownerState,ownerState:e.ownerState}),!s.props(a))continue}else for(const l in s.props)if(e[l]!==s.props[l]&&((i=e.ownerState)==null?void 0:i[l])!==s.props[l])continue e;typeof s.style=="function"?(a??(a={...e,...e.ownerState,ownerState:e.ownerState}),n.push(r?Np(Jf(s.style(a)),r):s.style(a))):n.push(r?Np(Jf(s.style),r):s.style)}return n}function twe(e={}){const{themeId:t,defaultTheme:n=Qbe,rootShouldForwardProp:r=TA,slotShouldForwardProp:a=TA}=e;function i(s){ewe(s,t,n)}return(s,l={})=>{zbe(s,k=>k.filter(N=>N!==dm));const{name:u,slot:d,skipVariantsResolver:f,skipSx:h,overridesResolver:p=Jbe(iwe(d)),...m}=l,g=u&&u.startsWith("Mui")||d?"components":"custom",y=f!==void 0?f:d&&d!=="Root"&&d!=="root"||!1,x=h||!1;let b=TA;d==="Root"||d==="root"?b=r:d?b=a:awe(s)&&(b=void 0);const w=Lte(s,{shouldForwardProp:b,label:nwe(),...m}),_=k=>{if(k.__emotion_real===k)return k;if(typeof k=="function")return function(P){return US(P,k,P.theme.modularCssLayers?g:void 0)};if(Jc(k)){const N=Bte(k);return function(T){return N.variants?US(T,N,T.theme.modularCssLayers?g:void 0):T.theme.modularCssLayers?Np(N.style,g):N.style}}return k},S=(...k)=>{const N=[],P=k.map(_),T=[];if(N.push(i),u&&p&&T.push(function(R){var q,I;const B=(I=(q=R.theme.components)==null?void 0:q[u])==null?void 0:I.styleOverrides;if(!B)return null;const V={};for(const O in B)V[O]=US(R,B[O],R.theme.modularCssLayers?"theme":void 0);return p(R,V)}),u&&!y&&T.push(function(R){var V,q;const W=R.theme,B=(q=(V=W==null?void 0:W.components)==null?void 0:V[u])==null?void 0:q.variants;return B?zte(R,B,[],R.theme.modularCssLayers?"theme":void 0):null}),x||T.push(dm),Array.isArray(P[0])){const M=P.shift(),R=new Array(N.length).fill(""),W=new Array(T.length).fill("");let B;B=[...R,...M,...W],B.raw=[...R,...M.raw,...W],N.unshift(B)}const j=[...N,...P,...T],D=w(...j);return s.muiName&&(D.muiName=s.muiName),D};return w.withConfig&&(S.withConfig=w.withConfig),S}}function nwe(e,t){return void 0}function rwe(e){for(const t in e)return!1;return!0}function awe(e){return typeof e=="string"&&e.charCodeAt(0)>96}function iwe(e){return e&&e.charAt(0).toLowerCase()+e.slice(1)}function qC(e,t,n=!1){const r={...t};for(const a in e)if(Object.prototype.hasOwnProperty.call(e,a)){const i=a;if(i==="components"||i==="slots")r[i]={...e[i],...r[i]};else if(i==="componentsProps"||i==="slotProps"){const o=e[i],s=t[i];if(!s)r[i]=o||{};else if(!o)r[i]=s;else{r[i]={...s};for(const l in o)if(Object.prototype.hasOwnProperty.call(o,l)){const u=l;r[i][u]=qC(o[u],s[u],n)}}}else i==="className"&&n&&t.className?r.className=Tt(e==null?void 0:e.className,t==null?void 0:t.className):i==="style"&&n&&t.style?r.style={...e==null?void 0:e.style,...t==null?void 0:t.style}:r[i]===void 0&&(r[i]=e[i])}return r}const jd=typeof window<"u"?E.useLayoutEffect:E.useEffect;function owe(e,t=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(t,Math.min(e,n))}function cL(e,t=0,n=1){return owe(e,t,n)}function swe(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,a)=>a<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function ch(e){if(e.type)return e;if(e.charAt(0)==="#")return ch(swe(e));const t=e.indexOf("("),n=e.substring(0,t);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(Nd(9,e));let r=e.substring(t+1,e.length-1),a;if(n==="color"){if(r=r.split(" "),a=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(a))throw new Error(Nd(10,a))}else r=r.split(",");return r=r.map(i=>parseFloat(i)),{type:n,values:r,colorSpace:a}}const lwe=e=>{const t=ch(e);return t.values.slice(0,3).map((n,r)=>t.type.includes("hsl")&&r!==0?`${n}%`:n).join(" ")},wx=(e,t)=>{try{return lwe(e)}catch{return e}};function yj(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return t.includes("rgb")?r=r.map((a,i)=>i<3?parseInt(a,10):a):t.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),t.includes("color")?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${t}(${r})`}function Ute(e){e=ch(e);const{values:t}=e,n=t[0],r=t[1]/100,a=t[2]/100,i=r*Math.min(a,1-a),o=(u,d=(u+n/30)%12)=>a-i*Math.max(Math.min(d-3,9-d,1),-1);let s="rgb";const l=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return e.type==="hsla"&&(s+="a",l.push(t[3])),yj({type:s,values:l})}function u3(e){e=ch(e);let t=e.type==="hsl"||e.type==="hsla"?ch(Ute(e)).values:e.values;return t=t.map(n=>(e.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function cwe(e,t){const n=u3(e),r=u3(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function Da(e,t){return e=ch(e),t=cL(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,yj(e)}function i_(e,t,n){try{return Da(e,t)}catch{return e}}function ab(e,t){if(e=ch(e),t=cL(t),e.type.includes("hsl"))e.values[2]*=1-t;else if(e.type.includes("rgb")||e.type.includes("color"))for(let n=0;n<3;n+=1)e.values[n]*=1-t;return yj(e)}function Lr(e,t,n){try{return ab(e,t)}catch{return e}}function ib(e,t){if(e=ch(e),t=cL(t),e.type.includes("hsl"))e.values[2]+=(100-e.values[2])*t;else if(e.type.includes("rgb"))for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(e.type.includes("color"))for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return yj(e)}function $r(e,t,n){try{return ib(e,t)}catch{return e}}function d3(e,t=.15){return u3(e)>.5?ab(e,t):ib(e,t)}function o_(e,t,n){try{return d3(e,t)}catch{return e}}const uwe=E.createContext(),uL=()=>E.useContext(uwe)??!1,dwe=E.createContext(void 0);function fwe(e){const{theme:t,name:n,props:r}=e;if(!t||!t.components||!t.components[n])return r;const a=t.components[n];return a.defaultProps?qC(a.defaultProps,r,t.components.mergeClassNameAndStyle):!a.styleOverrides&&!a.variants?qC(a,r,t.components.mergeClassNameAndStyle):r}function hwe({props:e,name:t}){const n=E.useContext(dwe);return fwe({props:e,name:t,theme:{components:n}})}let T9=0;function pwe(e){const[t,n]=E.useState(e),r=e||t;return E.useEffect(()=>{t==null&&(T9+=1,n(`mui-${T9}`))},[t]),r}const mwe={...pC},P9=mwe.useId;function q0(e){if(P9!==void 0){const t=P9();return e??t}return pwe(e)}const A9={theme:void 0};function gwe(e){let t,n;return function(a){let i=t;return(i===void 0||a.theme!==n)&&(A9.theme=a.theme,i=Bte(e(A9)),t=i,n=a.theme),i}}function vwe(e=""){function t(...r){if(!r.length)return"";const a=r[0];return typeof a=="string"&&!a.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${e?`${e}-`:""}${a}${t(...r.slice(1))})`:`, ${a}`}return(r,...a)=>`var(--${e?`${e}-`:""}${r}${t(...a)})`}const D9=(e,t,n,r=[])=>{let a=e;t.forEach((i,o)=>{o===t.length-1?Array.isArray(a)?a[Number(i)]=n:a&&typeof a=="object"&&(a[i]=n):a&&typeof a=="object"&&(a[i]||(a[i]=r.includes(i)?[]:{}),a=a[i])})},ywe=(e,t,n)=>{function r(a,i=[],o=[]){Object.entries(a).forEach(([s,l])=>{(!n||n&&!n([...i,s]))&&l!=null&&(typeof l=="object"&&Object.keys(l).length>0?r(l,[...i,s],Array.isArray(l)?[...o,s]:o):t([...i,s],l,o))})}r(e)},xwe=(e,t)=>typeof t=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>e.includes(r))||e[e.length-1].toLowerCase().includes("opacity")?t:`${t}px`:t;function PA(e,t){const{prefix:n,shouldSkipGeneratingVar:r}=t||{},a={},i={},o={};return ywe(e,(s,l,u)=>{if((typeof l=="string"||typeof l=="number")&&(!r||!r(s,l))){const d=`--${n?`${n}-`:""}${s.join("-")}`,f=xwe(s,l);Object.assign(a,{[d]:f}),D9(i,s,`var(${d})`,u),D9(o,s,`var(${d}, ${f})`,u)}},s=>s[0]==="vars"),{css:a,vars:i,varsWithDefaults:o}}function bwe(e,t={}){const{getSelector:n=y,disableCssColorScheme:r,colorSchemeSelector:a}=t,{colorSchemes:i={},components:o,defaultColorScheme:s="light",...l}=e,{vars:u,css:d,varsWithDefaults:f}=PA(l,t);let h=f;const p={},{[s]:m,...g}=i;if(Object.entries(g||{}).forEach(([w,_])=>{const{vars:S,css:k,varsWithDefaults:N}=PA(_,t);h=_o(h,N),p[w]={css:k,vars:S}}),m){const{css:w,vars:_,varsWithDefaults:S}=PA(m,t);h=_o(h,S),p[s]={css:w,vars:_}}function y(w,_){var k,N;let S=a;if(a==="class"&&(S=".%s"),a==="data"&&(S="[data-%s]"),a!=null&&a.startsWith("data-")&&!a.includes("%s")&&(S=`[${a}="%s"]`),w){if(S==="media")return e.defaultColorScheme===w?":root":{[`@media (prefers-color-scheme: ${((N=(k=i[w])==null?void 0:k.palette)==null?void 0:N.mode)||w})`]:{":root":_}};if(S)return e.defaultColorScheme===w?`:root, ${S.replace("%s",String(w))}`:S.replace("%s",String(w))}return":root"}return{vars:h,generateThemeVars:()=>{let w={...u};return Object.entries(p).forEach(([,{vars:_}])=>{w=_o(w,_)}),w},generateStyleSheets:()=>{var P,T;const w=[],_=e.defaultColorScheme||"light";function S(j,D){Object.keys(D).length&&w.push(typeof j=="string"?{[j]:{...D}}:j)}S(n(void 0,{...d}),d);const{[_]:k,...N}=p;if(k){const{css:j}=k,D=(T=(P=i[_])==null?void 0:P.palette)==null?void 0:T.mode,M=!r&&D?{colorScheme:D,...j}:{...j};S(n(_,{...M}),M)}return Object.entries(N).forEach(([j,{css:D}])=>{var W,B;const M=(B=(W=i[j])==null?void 0:W.palette)==null?void 0:B.mode,R=!r&&M?{colorScheme:M,...D}:{...D};S(n(j,{...R}),R)}),w}}}function wwe(e){return function(n){return e==="media"?`@media (prefers-color-scheme: ${n})`:e?e.startsWith("data-")&&!e.includes("%s")?`[${e}="${n}"] &`:e==="class"?`.${n} &`:e==="data"?`[data-${n}] &`:`${e.replace("%s",n)} &`:"&"}}function WS(e,t){var n,r,a;return E.isValidElement(e)&&t.indexOf(e.type.muiName??((a=(r=(n=e.type)==null?void 0:n._payload)==null?void 0:r.value)==null?void 0:a.muiName))!==-1}const ob={black:"#000",white:"#fff"},_we={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},ag={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},ig={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},$y={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},og={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},sg={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},lg={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"};function Wte(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:ob.white,default:ob.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const Swe=Wte();function Vte(){return{text:{primary:ob.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:ob.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const O9=Vte();function M9(e,t,n,r){const a=r.light||r,i=r.dark||r*1.5;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:t==="light"?e.light=ib(e.main,a):t==="dark"&&(e.dark=ab(e.main,i)))}function Cwe(e="light"){return e==="dark"?{main:og[200],light:og[50],dark:og[400]}:{main:og[700],light:og[400],dark:og[800]}}function Ewe(e="light"){return e==="dark"?{main:ag[200],light:ag[50],dark:ag[400]}:{main:ag[500],light:ag[300],dark:ag[700]}}function Nwe(e="light"){return e==="dark"?{main:ig[500],light:ig[300],dark:ig[700]}:{main:ig[700],light:ig[400],dark:ig[800]}}function kwe(e="light"){return e==="dark"?{main:sg[400],light:sg[300],dark:sg[700]}:{main:sg[700],light:sg[500],dark:sg[900]}}function jwe(e="light"){return e==="dark"?{main:lg[400],light:lg[300],dark:lg[700]}:{main:lg[800],light:lg[500],dark:lg[900]}}function Twe(e="light"){return e==="dark"?{main:$y[400],light:$y[300],dark:$y[700]}:{main:"#ed6c02",light:$y[500],dark:$y[900]}}function dL(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:r=.2,...a}=e,i=e.primary||Cwe(t),o=e.secondary||Ewe(t),s=e.error||Nwe(t),l=e.info||kwe(t),u=e.success||jwe(t),d=e.warning||Twe(t);function f(g){return cwe(g,O9.text.primary)>=n?O9.text.primary:Swe.text.primary}const h=({color:g,name:y,mainShade:x=500,lightShade:b=300,darkShade:w=700})=>{if(g={...g},!g.main&&g[x]&&(g.main=g[x]),!g.hasOwnProperty("main"))throw new Error(Nd(11,y?` (${y})`:"",x));if(typeof g.main!="string")throw new Error(Nd(12,y?` (${y})`:"",JSON.stringify(g.main)));return M9(g,"light",b,r),M9(g,"dark",w,r),g.contrastText||(g.contrastText=f(g.main)),g};let p;return t==="light"?p=Wte():t==="dark"&&(p=Vte()),_o({common:{...ob},mode:t,primary:h({color:i,name:"primary"}),secondary:h({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:h({color:s,name:"error"}),warning:h({color:d,name:"warning"}),info:h({color:l,name:"info"}),success:h({color:u,name:"success"}),grey:_we,contrastThreshold:n,getContrastText:f,augmentColor:h,tonalOffset:r,...p},a)}function Pwe(e){const t={};return Object.entries(e).forEach(r=>{const[a,i]=r;typeof i=="object"&&(t[a]=`${i.fontStyle?`${i.fontStyle} `:""}${i.fontVariant?`${i.fontVariant} `:""}${i.fontWeight?`${i.fontWeight} `:""}${i.fontStretch?`${i.fontStretch} `:""}${i.fontSize||""}${i.lineHeight?`/${i.lineHeight} `:""}${i.fontFamily||""}`)}),t}function Awe(e,t){return{toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}},...t}}function Dwe(e){return Math.round(e*1e5)/1e5}const I9={textTransform:"uppercase"},R9='"Roboto", "Helvetica", "Arial", sans-serif';function Owe(e,t){const{fontFamily:n=R9,fontSize:r=14,fontWeightLight:a=300,fontWeightRegular:i=400,fontWeightMedium:o=500,fontWeightBold:s=700,htmlFontSize:l=16,allVariants:u,pxToRem:d,...f}=typeof t=="function"?t(e):t,h=r/14,p=d||(y=>`${y/l*h}rem`),m=(y,x,b,w,_)=>({fontFamily:n,fontWeight:y,fontSize:p(x),lineHeight:b,...n===R9?{letterSpacing:`${Dwe(w/x)}em`}:{},..._,...u}),g={h1:m(a,96,1.167,-1.5),h2:m(a,60,1.2,-.5),h3:m(i,48,1.167,0),h4:m(i,34,1.235,.25),h5:m(i,24,1.334,0),h6:m(o,20,1.6,.15),subtitle1:m(i,16,1.75,.15),subtitle2:m(o,14,1.57,.1),body1:m(i,16,1.5,.15),body2:m(i,14,1.43,.15),button:m(o,14,1.75,.4,I9),caption:m(i,12,1.66,.4),overline:m(i,12,2.66,1,I9),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return _o({htmlFontSize:l,pxToRem:p,fontFamily:n,fontSize:r,fontWeightLight:a,fontWeightRegular:i,fontWeightMedium:o,fontWeightBold:s,...g},f,{clone:!1})}const Mwe=.2,Iwe=.14,Rwe=.12;function ua(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${Mwe})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${Iwe})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${Rwe})`].join(",")}const Fwe=["none",ua(0,2,1,-1,0,1,1,0,0,1,3,0),ua(0,3,1,-2,0,2,2,0,0,1,5,0),ua(0,3,3,-2,0,3,4,0,0,1,8,0),ua(0,2,4,-1,0,4,5,0,0,1,10,0),ua(0,3,5,-1,0,5,8,0,0,1,14,0),ua(0,3,5,-1,0,6,10,0,0,1,18,0),ua(0,4,5,-2,0,7,10,1,0,2,16,1),ua(0,5,5,-3,0,8,10,1,0,3,14,2),ua(0,5,6,-3,0,9,12,1,0,3,16,2),ua(0,6,6,-3,0,10,14,1,0,4,18,3),ua(0,6,7,-4,0,11,15,1,0,4,20,3),ua(0,7,8,-4,0,12,17,2,0,5,22,4),ua(0,7,8,-4,0,13,19,2,0,5,24,4),ua(0,7,9,-4,0,14,21,2,0,5,26,4),ua(0,8,9,-5,0,15,22,2,0,6,28,5),ua(0,8,10,-5,0,16,24,2,0,6,30,5),ua(0,8,11,-5,0,17,26,2,0,6,32,5),ua(0,9,11,-5,0,18,28,2,0,7,34,6),ua(0,9,12,-6,0,19,29,2,0,7,36,6),ua(0,10,13,-6,0,20,31,3,0,8,38,7),ua(0,10,13,-6,0,21,33,3,0,8,40,7),ua(0,10,14,-6,0,22,35,3,0,8,42,7),ua(0,11,14,-7,0,23,36,3,0,9,44,8),ua(0,11,15,-7,0,24,38,3,0,9,46,8)],Lwe={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Hte={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function F9(e){return`${Math.round(e)}ms`}function $we(e){if(!e)return 0;const t=e/36;return Math.min(Math.round((4+15*t**.25+t/5)*10),3e3)}function Bwe(e){const t={...Lwe,...e.easing},n={...Hte,...e.duration};return{getAutoHeightDuration:$we,create:(a=["all"],i={})=>{const{duration:o=n.standard,easing:s=t.easeInOut,delay:l=0,...u}=i;return(Array.isArray(a)?a:[a]).map(d=>`${d} ${typeof o=="string"?o:F9(o)} ${s} ${typeof l=="string"?l:F9(l)}`).join(",")},...e,easing:t,duration:n}}const zwe={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function Uwe(e){return Jc(e)||typeof e>"u"||typeof e=="string"||typeof e=="boolean"||typeof e=="number"||Array.isArray(e)}function qte(e={}){const t={...e};function n(r){const a=Object.entries(r);for(let i=0;i<a.length;i++){const[o,s]=a[i];!Uwe(s)||o.startsWith("unstable_")?delete r[o]:Jc(s)&&(r[o]={...s},n(r[o]))}}return n(t),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(t,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function f3(e={},...t){const{breakpoints:n,mixins:r={},spacing:a,palette:i={},transitions:o={},typography:s={},shape:l,...u}=e;if(e.vars&&e.generateThemeVars===void 0)throw new Error(Nd(20));const d=dL(i),f=sL(e);let h=_o(f,{mixins:Awe(f.breakpoints,r),palette:d,shadows:Fwe.slice(),typography:Owe(d,s),transitions:Bwe(o),zIndex:{...zwe}});return h=_o(h,u),h=t.reduce((p,m)=>_o(p,m),h),h.unstable_sxConfig={...$w,...u==null?void 0:u.unstable_sxConfig},h.unstable_sx=function(m){return dm({sx:m,theme:this})},h.toRuntimeSource=qte,h}function h3(e){let t;return e<1?t=5.11916*e**2:t=4.5*Math.log(e+1)+2,Math.round(t*10)/1e3}const Wwe=[...Array(25)].map((e,t)=>{if(t===0)return"none";const n=h3(t);return`linear-gradient(rgba(255 255 255 / ${n}), rgba(255 255 255 / ${n}))`});function Gte(e){return{inputPlaceholder:e==="dark"?.5:.42,inputUnderline:e==="dark"?.7:.42,switchTrackDisabled:e==="dark"?.2:.12,switchTrack:e==="dark"?.3:.38}}function Yte(e){return e==="dark"?Wwe:[]}function Vwe(e){const{palette:t={mode:"light"},opacity:n,overlays:r,...a}=e,i=dL(t);return{palette:i,opacity:{...Gte(i.mode),...n},overlays:r||Yte(i.mode),...a}}function Hwe(e){var t;return!!e[0].match(/(cssVarPrefix|colorSchemeSelector|modularCssLayers|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!e[0].match(/sxConfig$/)||e[0]==="palette"&&!!((t=e[1])!=null&&t.match(/(mode|contrastThreshold|tonalOffset)/))}const qwe=e=>[...[...Array(25)].map((t,n)=>`--${e?`${e}-`:""}overlays-${n}`),`--${e?`${e}-`:""}palette-AppBar-darkBg`,`--${e?`${e}-`:""}palette-AppBar-darkColor`],Gwe=e=>(t,n)=>{const r=e.rootSelector||":root",a=e.colorSchemeSelector;let i=a;if(a==="class"&&(i=".%s"),a==="data"&&(i="[data-%s]"),a!=null&&a.startsWith("data-")&&!a.includes("%s")&&(i=`[${a}="%s"]`),e.defaultColorScheme===t){if(t==="dark"){const o={};return qwe(e.cssVarPrefix).forEach(s=>{o[s]=n[s],delete n[s]}),i==="media"?{[r]:n,"@media (prefers-color-scheme: dark)":{[r]:o}}:i?{[i.replace("%s",t)]:o,[`${r}, ${i.replace("%s",t)}`]:n}:{[r]:{...n,...o}}}if(i&&i!=="media")return`${r}, ${i.replace("%s",String(t))}`}else if(t){if(i==="media")return{[`@media (prefers-color-scheme: ${String(t)})`]:{[r]:n}};if(i)return i.replace("%s",String(t))}return r};function Ywe(e,t){t.forEach(n=>{e[n]||(e[n]={})})}function st(e,t,n){!e[t]&&n&&(e[t]=n)}function _x(e){return typeof e!="string"||!e.startsWith("hsl")?e:Ute(e)}function Uu(e,t){`${t}Channel`in e||(e[`${t}Channel`]=wx(_x(e[t])))}function Kwe(e){return typeof e=="number"?`${e}px`:typeof e=="string"||typeof e=="function"||Array.isArray(e)?e:"8px"}const Ac=e=>{try{return e()}catch{}},Xwe=(e="mui")=>vwe(e);function AA(e,t,n,r){if(!t)return;t=t===!0?{}:t;const a=r==="dark"?"dark":"light";if(!n){e[r]=Vwe({...t,palette:{mode:a,...t==null?void 0:t.palette}});return}const{palette:i,...o}=f3({...n,palette:{mode:a,...t==null?void 0:t.palette}});return e[r]={...t,palette:i,opacity:{...Gte(a),...t==null?void 0:t.opacity},overlays:(t==null?void 0:t.overlays)||Yte(a)},o}function Zwe(e={},...t){const{colorSchemes:n={light:!0},defaultColorScheme:r,disableCssColorScheme:a=!1,cssVarPrefix:i="mui",shouldSkipGeneratingVar:o=Hwe,colorSchemeSelector:s=n.light&&n.dark?"media":void 0,rootSelector:l=":root",...u}=e,d=Object.keys(n)[0],f=r||(n.light&&d!=="light"?"light":d),h=Xwe(i),{[f]:p,light:m,dark:g,...y}=n,x={...y};let b=p;if((f==="dark"&&!("dark"in n)||f==="light"&&!("light"in n))&&(b=!0),!b)throw new Error(Nd(21,f));const w=AA(x,b,u,f);m&&!x.light&&AA(x,m,void 0,"light"),g&&!x.dark&&AA(x,g,void 0,"dark");let _={defaultColorScheme:f,...w,cssVarPrefix:i,colorSchemeSelector:s,rootSelector:l,getCssVar:h,colorSchemes:x,font:{...Pwe(w.typography),...w.font},spacing:Kwe(u.spacing)};Object.keys(_.colorSchemes).forEach(T=>{const j=_.colorSchemes[T].palette,D=M=>{const R=M.split("-"),W=R[1],B=R[2];return h(M,j[W][B])};if(j.mode==="light"&&(st(j.common,"background","#fff"),st(j.common,"onBackground","#000")),j.mode==="dark"&&(st(j.common,"background","#000"),st(j.common,"onBackground","#fff")),Ywe(j,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),j.mode==="light"){st(j.Alert,"errorColor",Lr(j.error.light,.6)),st(j.Alert,"infoColor",Lr(j.info.light,.6)),st(j.Alert,"successColor",Lr(j.success.light,.6)),st(j.Alert,"warningColor",Lr(j.warning.light,.6)),st(j.Alert,"errorFilledBg",D("palette-error-main")),st(j.Alert,"infoFilledBg",D("palette-info-main")),st(j.Alert,"successFilledBg",D("palette-success-main")),st(j.Alert,"warningFilledBg",D("palette-warning-main")),st(j.Alert,"errorFilledColor",Ac(()=>j.getContrastText(j.error.main))),st(j.Alert,"infoFilledColor",Ac(()=>j.getContrastText(j.info.main))),st(j.Alert,"successFilledColor",Ac(()=>j.getContrastText(j.success.main))),st(j.Alert,"warningFilledColor",Ac(()=>j.getContrastText(j.warning.main))),st(j.Alert,"errorStandardBg",$r(j.error.light,.9)),st(j.Alert,"infoStandardBg",$r(j.info.light,.9)),st(j.Alert,"successStandardBg",$r(j.success.light,.9)),st(j.Alert,"warningStandardBg",$r(j.warning.light,.9)),st(j.Alert,"errorIconColor",D("palette-error-main")),st(j.Alert,"infoIconColor",D("palette-info-main")),st(j.Alert,"successIconColor",D("palette-success-main")),st(j.Alert,"warningIconColor",D("palette-warning-main")),st(j.AppBar,"defaultBg",D("palette-grey-100")),st(j.Avatar,"defaultBg",D("palette-grey-400")),st(j.Button,"inheritContainedBg",D("palette-grey-300")),st(j.Button,"inheritContainedHoverBg",D("palette-grey-A100")),st(j.Chip,"defaultBorder",D("palette-grey-400")),st(j.Chip,"defaultAvatarColor",D("palette-grey-700")),st(j.Chip,"defaultIconColor",D("palette-grey-700")),st(j.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),st(j.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),st(j.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),st(j.LinearProgress,"primaryBg",$r(j.primary.main,.62)),st(j.LinearProgress,"secondaryBg",$r(j.secondary.main,.62)),st(j.LinearProgress,"errorBg",$r(j.error.main,.62)),st(j.LinearProgress,"infoBg",$r(j.info.main,.62)),st(j.LinearProgress,"successBg",$r(j.success.main,.62)),st(j.LinearProgress,"warningBg",$r(j.warning.main,.62)),st(j.Skeleton,"bg",`rgba(${D("palette-text-primaryChannel")} / 0.11)`),st(j.Slider,"primaryTrack",$r(j.primary.main,.62)),st(j.Slider,"secondaryTrack",$r(j.secondary.main,.62)),st(j.Slider,"errorTrack",$r(j.error.main,.62)),st(j.Slider,"infoTrack",$r(j.info.main,.62)),st(j.Slider,"successTrack",$r(j.success.main,.62)),st(j.Slider,"warningTrack",$r(j.warning.main,.62));const M=o_(j.background.default,.8);st(j.SnackbarContent,"bg",M),st(j.SnackbarContent,"color",Ac(()=>j.getContrastText(M))),st(j.SpeedDialAction,"fabHoverBg",o_(j.background.paper,.15)),st(j.StepConnector,"border",D("palette-grey-400")),st(j.StepContent,"border",D("palette-grey-400")),st(j.Switch,"defaultColor",D("palette-common-white")),st(j.Switch,"defaultDisabledColor",D("palette-grey-100")),st(j.Switch,"primaryDisabledColor",$r(j.primary.main,.62)),st(j.Switch,"secondaryDisabledColor",$r(j.secondary.main,.62)),st(j.Switch,"errorDisabledColor",$r(j.error.main,.62)),st(j.Switch,"infoDisabledColor",$r(j.info.main,.62)),st(j.Switch,"successDisabledColor",$r(j.success.main,.62)),st(j.Switch,"warningDisabledColor",$r(j.warning.main,.62)),st(j.TableCell,"border",$r(i_(j.divider,1),.88)),st(j.Tooltip,"bg",i_(j.grey[700],.92))}if(j.mode==="dark"){st(j.Alert,"errorColor",$r(j.error.light,.6)),st(j.Alert,"infoColor",$r(j.info.light,.6)),st(j.Alert,"successColor",$r(j.success.light,.6)),st(j.Alert,"warningColor",$r(j.warning.light,.6)),st(j.Alert,"errorFilledBg",D("palette-error-dark")),st(j.Alert,"infoFilledBg",D("palette-info-dark")),st(j.Alert,"successFilledBg",D("palette-success-dark")),st(j.Alert,"warningFilledBg",D("palette-warning-dark")),st(j.Alert,"errorFilledColor",Ac(()=>j.getContrastText(j.error.dark))),st(j.Alert,"infoFilledColor",Ac(()=>j.getContrastText(j.info.dark))),st(j.Alert,"successFilledColor",Ac(()=>j.getContrastText(j.success.dark))),st(j.Alert,"warningFilledColor",Ac(()=>j.getContrastText(j.warning.dark))),st(j.Alert,"errorStandardBg",Lr(j.error.light,.9)),st(j.Alert,"infoStandardBg",Lr(j.info.light,.9)),st(j.Alert,"successStandardBg",Lr(j.success.light,.9)),st(j.Alert,"warningStandardBg",Lr(j.warning.light,.9)),st(j.Alert,"errorIconColor",D("palette-error-main")),st(j.Alert,"infoIconColor",D("palette-info-main")),st(j.Alert,"successIconColor",D("palette-success-main")),st(j.Alert,"warningIconColor",D("palette-warning-main")),st(j.AppBar,"defaultBg",D("palette-grey-900")),st(j.AppBar,"darkBg",D("palette-background-paper")),st(j.AppBar,"darkColor",D("palette-text-primary")),st(j.Avatar,"defaultBg",D("palette-grey-600")),st(j.Button,"inheritContainedBg",D("palette-grey-800")),st(j.Button,"inheritContainedHoverBg",D("palette-grey-700")),st(j.Chip,"defaultBorder",D("palette-grey-700")),st(j.Chip,"defaultAvatarColor",D("palette-grey-300")),st(j.Chip,"defaultIconColor",D("palette-grey-300")),st(j.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),st(j.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),st(j.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),st(j.LinearProgress,"primaryBg",Lr(j.primary.main,.5)),st(j.LinearProgress,"secondaryBg",Lr(j.secondary.main,.5)),st(j.LinearProgress,"errorBg",Lr(j.error.main,.5)),st(j.LinearProgress,"infoBg",Lr(j.info.main,.5)),st(j.LinearProgress,"successBg",Lr(j.success.main,.5)),st(j.LinearProgress,"warningBg",Lr(j.warning.main,.5)),st(j.Skeleton,"bg",`rgba(${D("palette-text-primaryChannel")} / 0.13)`),st(j.Slider,"primaryTrack",Lr(j.primary.main,.5)),st(j.Slider,"secondaryTrack",Lr(j.secondary.main,.5)),st(j.Slider,"errorTrack",Lr(j.error.main,.5)),st(j.Slider,"infoTrack",Lr(j.info.main,.5)),st(j.Slider,"successTrack",Lr(j.success.main,.5)),st(j.Slider,"warningTrack",Lr(j.warning.main,.5));const M=o_(j.background.default,.98);st(j.SnackbarContent,"bg",M),st(j.SnackbarContent,"color",Ac(()=>j.getContrastText(M))),st(j.SpeedDialAction,"fabHoverBg",o_(j.background.paper,.15)),st(j.StepConnector,"border",D("palette-grey-600")),st(j.StepContent,"border",D("palette-grey-600")),st(j.Switch,"defaultColor",D("palette-grey-300")),st(j.Switch,"defaultDisabledColor",D("palette-grey-600")),st(j.Switch,"primaryDisabledColor",Lr(j.primary.main,.55)),st(j.Switch,"secondaryDisabledColor",Lr(j.secondary.main,.55)),st(j.Switch,"errorDisabledColor",Lr(j.error.main,.55)),st(j.Switch,"infoDisabledColor",Lr(j.info.main,.55)),st(j.Switch,"successDisabledColor",Lr(j.success.main,.55)),st(j.Switch,"warningDisabledColor",Lr(j.warning.main,.55)),st(j.TableCell,"border",Lr(i_(j.divider,1),.68)),st(j.Tooltip,"bg",i_(j.grey[700],.92))}Uu(j.background,"default"),Uu(j.background,"paper"),Uu(j.common,"background"),Uu(j.common,"onBackground"),Uu(j,"divider"),Object.keys(j).forEach(M=>{const R=j[M];M!=="tonalOffset"&&R&&typeof R=="object"&&(R.main&&st(j[M],"mainChannel",wx(_x(R.main))),R.light&&st(j[M],"lightChannel",wx(_x(R.light))),R.dark&&st(j[M],"darkChannel",wx(_x(R.dark))),R.contrastText&&st(j[M],"contrastTextChannel",wx(_x(R.contrastText))),M==="text"&&(Uu(j[M],"primary"),Uu(j[M],"secondary")),M==="action"&&(R.active&&Uu(j[M],"active"),R.selected&&Uu(j[M],"selected")))})}),_=t.reduce((T,j)=>_o(T,j),_);const S={prefix:i,disableCssColorScheme:a,shouldSkipGeneratingVar:o,getSelector:Gwe(_)},{vars:k,generateThemeVars:N,generateStyleSheets:P}=bwe(_,S);return _.vars=k,Object.entries(_.colorSchemes[_.defaultColorScheme]).forEach(([T,j])=>{_[T]=j}),_.generateThemeVars=N,_.generateStyleSheets=P,_.generateSpacing=function(){return $te(u.spacing,YF(this))},_.getColorSchemeSelector=wwe(s),_.spacing=_.generateSpacing(),_.shouldSkipGeneratingVar=o,_.unstable_sxConfig={...$w,...u==null?void 0:u.unstable_sxConfig},_.unstable_sx=function(j){return dm({sx:j,theme:this})},_.toRuntimeSource=qte,_}function L9(e,t,n){e.colorSchemes&&n&&(e.colorSchemes[t]={...n!==!0&&n,palette:dL({...n===!0?{}:n.palette,mode:t})})}function Kte(e={},...t){const{palette:n,cssVariables:r=!1,colorSchemes:a=n?void 0:{light:!0},defaultColorScheme:i=n==null?void 0:n.mode,...o}=e,s=i||"light",l=a==null?void 0:a[s],u={...a,...n?{[s]:{...typeof l!="boolean"&&l,palette:n}}:void 0};if(r===!1){if(!("colorSchemes"in e))return f3(e,...t);let d=n;"palette"in e||u[s]&&(u[s]!==!0?d=u[s].palette:s==="dark"&&(d={mode:"dark"}));const f=f3({...e,palette:d},...t);return f.defaultColorScheme=s,f.colorSchemes=u,f.palette.mode==="light"&&(f.colorSchemes.light={...u.light!==!0&&u.light,palette:f.palette},L9(f,"dark",u.dark)),f.palette.mode==="dark"&&(f.colorSchemes.dark={...u.dark!==!0&&u.dark,palette:f.palette},L9(f,"light",u.light)),f}return!n&&!("light"in u)&&s==="light"&&(u.light=!0),Zwe({...o,colorSchemes:u,defaultColorScheme:s,...typeof r!="boolean"&&r},...t)}const fL=Kte(),xj="$$material";function Tm(){const e=lL(fL);return e[xj]||e}function Qwe(e){return c.jsx(Kbe,{...e,defaultTheme:fL,themeId:xj})}function Xte(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const wc=e=>Xte(e)&&e!=="classes",Ot=twe({themeId:xj,defaultTheme:fL,rootShouldForwardProp:wc});function Jwe(e){return function(n){return c.jsx(Qwe,{styles:typeof e=="function"?r=>e({theme:r,...n}):e})}}function e2e(){return bte}const Jn=gwe;function Fn(e){return hwe(e)}function t2e(e){return Mn("MuiSvgIcon",e)}jn("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const n2e=e=>{const{color:t,fontSize:n,classes:r}=e,a={root:["root",t!=="inherit"&&`color${bt(t)}`,`fontSize${bt(n)}`]};return On(a,t2e,r)},r2e=Ot("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="inherit"&&t[`color${bt(n.color)}`],t[`fontSize${bt(n.fontSize)}`]]}})(Jn(({theme:e})=>{var t,n,r,a,i,o,s,l,u,d,f,h,p,m;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(a=(t=e.transitions)==null?void 0:t.create)==null?void 0:a.call(t,"fill",{duration:(r=(n=(e.vars??e).transitions)==null?void 0:n.duration)==null?void 0:r.shorter}),variants:[{props:g=>!g.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((o=(i=e.typography)==null?void 0:i.pxToRem)==null?void 0:o.call(i,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((l=(s=e.typography)==null?void 0:s.pxToRem)==null?void 0:l.call(s,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((d=(u=e.typography)==null?void 0:u.pxToRem)==null?void 0:d.call(u,35))||"2.1875rem"}},...Object.entries((e.vars??e).palette).filter(([,g])=>g&&g.main).map(([g])=>{var y,x;return{props:{color:g},style:{color:(x=(y=(e.vars??e).palette)==null?void 0:y[g])==null?void 0:x.main}}}),{props:{color:"action"},style:{color:(h=(f=(e.vars??e).palette)==null?void 0:f.action)==null?void 0:h.active}},{props:{color:"disabled"},style:{color:(m=(p=(e.vars??e).palette)==null?void 0:p.action)==null?void 0:m.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),p3=E.forwardRef(function(t,n){const r=Fn({props:t,name:"MuiSvgIcon"}),{children:a,className:i,color:o="inherit",component:s="svg",fontSize:l="medium",htmlColor:u,inheritViewBox:d=!1,titleAccess:f,viewBox:h="0 0 24 24",...p}=r,m=E.isValidElement(a)&&a.type==="svg",g={...r,color:o,component:s,fontSize:l,instanceFontSize:t.fontSize,inheritViewBox:d,viewBox:h,hasSvgAsChild:m},y={};d||(y.viewBox=h);const x=n2e(g);return c.jsxs(r2e,{as:s,className:Tt(x.root,i),focusable:"false",color:u,"aria-hidden":f?void 0:!0,role:f?"img":void 0,ref:n,...y,...p,...m&&a.props,ownerState:g,children:[m?a.props.children:a,f?c.jsx("title",{children:f}):null]})});p3.muiName="SvgIcon";function xr(e,t){function n(r,a){return c.jsx(p3,{"data-testid":void 0,ref:a,...r,children:e})}return n.muiName=p3.muiName,E.memo(E.forwardRef(n))}function Zte(e,t=166){let n;function r(...a){const i=()=>{e.apply(this,a)};clearTimeout(n),n=setTimeout(i,t)}return r.clear=()=>{clearTimeout(n)},r}function So(e){return e&&e.ownerDocument||document}function Td(e){return So(e).defaultView||window}function $9(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function m3(e){const{controlled:t,default:n,name:r,state:a="value"}=e,{current:i}=E.useRef(t!==void 0),[o,s]=E.useState(n),l=i?t:o,u=E.useCallback(d=>{i||s(d)},[]);return[l,u]}function Cl(e){const t=E.useRef(e);return jd(()=>{t.current=e}),E.useRef((...n)=>(0,t.current)(...n)).current}function Ga(...e){const t=E.useRef(void 0),n=E.useCallback(r=>{const a=e.map(i=>{if(i==null)return null;if(typeof i=="function"){const o=i,s=o(r);return typeof s=="function"?s:()=>{o(null)}}return i.current=r,()=>{i.current=null}});return()=>{a.forEach(i=>i==null?void 0:i())}},e);return E.useMemo(()=>e.every(r=>r==null)?null:r=>{t.current&&(t.current(),t.current=void 0),r!=null&&(t.current=n(r))},e)}function a2e(e,t){const n=e.charCodeAt(2);return e[0]==="o"&&e[1]==="n"&&n>=65&&n<=90&&typeof t=="function"}function i2e(e,t){if(!e)return t;function n(o,s){const l={};return Object.keys(s).forEach(u=>{a2e(u,s[u])&&typeof o[u]=="function"&&(l[u]=(...d)=>{o[u](...d),s[u](...d)})}),l}if(typeof e=="function"||typeof t=="function")return o=>{const s=typeof t=="function"?t(o):t,l=typeof e=="function"?e({...o,...s}):e,u=Tt(o==null?void 0:o.className,s==null?void 0:s.className,l==null?void 0:l.className),d=n(l,s);return{...s,...l,...d,...!!u&&{className:u},...(s==null?void 0:s.style)&&(l==null?void 0:l.style)&&{style:{...s.style,...l.style}},...(s==null?void 0:s.sx)&&(l==null?void 0:l.sx)&&{sx:[...Array.isArray(s.sx)?s.sx:[s.sx],...Array.isArray(l.sx)?l.sx:[l.sx]]}}};const r=t,a=n(e,r),i=Tt(r==null?void 0:r.className,e==null?void 0:e.className);return{...t,...e,...a,...!!i&&{className:i},...(r==null?void 0:r.style)&&(e==null?void 0:e.style)&&{style:{...r.style,...e.style}},...(r==null?void 0:r.sx)&&(e==null?void 0:e.sx)&&{sx:[...Array.isArray(r.sx)?r.sx:[r.sx],...Array.isArray(e.sx)?e.sx:[e.sx]]}}}const Qte=xr(c.jsx("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6z"})),Jte=xr(c.jsx("path",{d:"M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"})),bj="/assets/kmlogo.pNHm5l_Ipng",Nt={HOME:"/",LOGIN:"/Login",REGISTER:"/Register",HELP:"/Help",STORY:"/Story",PARTNER:"/Partner",TEAM:"/Team",EVENTS:"/Events",EVENT_DETAILS:"/event/:eventId",LIFE:"/Life",GRADUATES:"/Graduates",COMMUNITY:"/Community",CONTACT:"/Contact",VOLUNTEER_PROFILE:"/Profile",VOLUNTEER_SETTINGS:"/Settings",VERIFY_EMAIL:"/verify-email/:token",FORGOT_PASSWORD:"/ForgotPassword",RESET_PASSWORD:"/reset-password/:token",FORUM:"/Forum",MAP:"/Map",STUDENTPROFILE:"/StudentProfile",STUDENT_DETAILS:"/StudentProfile/:studentId",MY_SCHOLAR:"/MyScholar",STAFF:{DASHBOARD:"/staff/dashboard",PROFILE:"/staff/profile",VOLUNTEERS:"/staff/volunteers",EVENTS:"/staff/events"},ADMIN:{DASHBOARD:"/Dashboard",MAP:"/Maps",USERS:"/Users",EVENTS:"/Event",STAFF:"/Staff",ANALYTICS:"/Analytics",SETTINGS:"/Admin-Settings",INVENTORY:"/Inventory",BANK:"/Bank",CONTACTS:"/Contacts",SPONSOR:"/Sponsor",FORUMPOLL:"/ForumPoll",EVENTFEEDBACK:"/EventFeedback",CMS:"/Content",SCHOLARS:{MANAGEMENT:"/Scholars/Management",PROFILE:"/Scholars/Profile",DONATIONS:"/ScholarDonations",REPORTS:"/ScholarReports",LOCATION:"/ScholarLocation"}}},Vp="/assets/defaultProfile.DsiWXfvDpng",ene="/assets/donate-icon.CNWrbJu1png";function GC(e){try{return e.matches(":focus-visible")}catch{}return!1}const B9={};function tne(e,t){const n=E.useRef(B9);return n.current===B9&&(n.current=e(t)),n}class YC{constructor(){Mt(this,"mountEffect",()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())});this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}static create(){return new YC}static use(){const t=tne(YC.create).current,[n,r]=E.useState(!1);return t.shouldMount=n,t.setShouldMount=r,E.useEffect(t.mountEffect,[n]),t}mount(){return this.mounted||(this.mounted=s2e(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}start(...t){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.start(...t)})}stop(...t){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.stop(...t)})}pulsate(...t){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.pulsate(...t)})}}function o2e(){return YC.use()}function s2e(){let e,t;const n=new Promise((r,a)=>{e=r,t=a});return n.resolve=e,n.reject=t,n}function hL(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function KC(e,t){return KC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},KC(e,t)}function nne(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,KC(e,t)}const z9={disabled:!1},XC=le.createContext(null);var l2e=function(t){return t.scrollTop},Sx="unmounted",rp="exited",yf="entering",vp="entered",g3="exiting",Il=function(e){nne(t,e);function t(r,a){var i;i=e.call(this,r,a)||this;var o=a,s=o&&!o.isMounting?r.enter:r.appear,l;return i.appearStatus=null,r.in?s?(l=rp,i.appearStatus=yf):l=vp:r.unmountOnExit||r.mountOnEnter?l=Sx:l=rp,i.state={status:l},i.nextCallback=null,i}t.getDerivedStateFromProps=function(a,i){var o=a.in;return o&&i.status===Sx?{status:rp}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(a){var i=null;if(a!==this.props){var o=this.state.status;this.props.in?o!==yf&&o!==vp&&(i=yf):(o===yf||o===vp)&&(i=g3)}this.updateStatus(!1,i)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var a=this.props.timeout,i,o,s;return i=o=s=a,a!=null&&typeof a!="number"&&(i=a.exit,o=a.enter,s=a.appear!==void 0?a.appear:o),{exit:i,enter:o,appear:s}},n.updateStatus=function(a,i){if(a===void 0&&(a=!1),i!==null)if(this.cancelNextCallback(),i===yf){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:Cp.findDOMNode(this);o&&l2e(o)}this.performEnter(a)}else this.performExit();else this.props.unmountOnExit&&this.state.status===rp&&this.setState({status:Sx})},n.performEnter=function(a){var i=this,o=this.props.enter,s=this.context?this.context.isMounting:a,l=this.props.nodeRef?[s]:[Cp.findDOMNode(this),s],u=l[0],d=l[1],f=this.getTimeouts(),h=s?f.appear:f.enter;if(!a&&!o||z9.disabled){this.safeSetState({status:vp},function(){i.props.onEntered(u)});return}this.props.onEnter(u,d),this.safeSetState({status:yf},function(){i.props.onEntering(u,d),i.onTransitionEnd(h,function(){i.safeSetState({status:vp},function(){i.props.onEntered(u,d)})})})},n.performExit=function(){var a=this,i=this.props.exit,o=this.getTimeouts(),s=this.props.nodeRef?void 0:Cp.findDOMNode(this);if(!i||z9.disabled){this.safeSetState({status:rp},function(){a.props.onExited(s)});return}this.props.onExit(s),this.safeSetState({status:g3},function(){a.props.onExiting(s),a.onTransitionEnd(o.exit,function(){a.safeSetState({status:rp},function(){a.props.onExited(s)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(a,i){i=this.setNextCallback(i),this.setState(a,i)},n.setNextCallback=function(a){var i=this,o=!0;return this.nextCallback=function(s){o&&(o=!1,i.nextCallback=null,a(s))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(a,i){this.setNextCallback(i);var o=this.props.nodeRef?this.props.nodeRef.current:Cp.findDOMNode(this),s=a==null&&!this.props.addEndListener;if(!o||s){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],u=l[0],d=l[1];this.props.addEndListener(u,d)}a!=null&&setTimeout(this.nextCallback,a)},n.render=function(){var a=this.state.status;if(a===Sx)return null;var i=this.props,o=i.children;i.in,i.mountOnEnter,i.unmountOnExit,i.appear,i.enter,i.exit,i.timeout,i.addEndListener,i.onEnter,i.onEntering,i.onEntered,i.onExit,i.onExiting,i.onExited,i.nodeRef;var s=hL(i,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return le.createElement(XC.Provider,{value:null},typeof o=="function"?o(a,s):le.cloneElement(le.Children.only(o),s))},t}(le.Component);Il.contextType=XC;Il.propTypes={};function cg(){}Il.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:cg,onEntering:cg,onEntered:cg,onExit:cg,onExiting:cg,onExited:cg};Il.UNMOUNTED=Sx;Il.EXITED=rp;Il.ENTERING=yf;Il.ENTERED=vp;Il.EXITING=g3;function Jt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pL(e,t){var n=function(i){return t&&E.isValidElement(i)?t(i):i},r=Object.create(null);return e&&E.Children.map(e,function(a){return a}).forEach(function(a){r[a.key]=n(a)}),r}function c2e(e,t){e=e||{},t=t||{};function n(d){return d in t?t[d]:e[d]}var r=Object.create(null),a=[];for(var i in e)i in t?a.length&&(r[i]=a,a=[]):a.push(i);var o,s={};for(var l in t){if(r[l])for(o=0;o<r[l].length;o++){var u=r[l][o];s[r[l][o]]=n(u)}s[l]=n(l)}for(o=0;o<a.length;o++)s[a[o]]=n(a[o]);return s}function kp(e,t,n){return n[t]!=null?n[t]:e.props[t]}function u2e(e,t){return pL(e.children,function(n){return E.cloneElement(n,{onExited:t.bind(null,n),in:!0,appear:kp(n,"appear",e),enter:kp(n,"enter",e),exit:kp(n,"exit",e)})})}function d2e(e,t,n){var r=pL(e.children),a=c2e(t,r);return Object.keys(a).forEach(function(i){var o=a[i];if(E.isValidElement(o)){var s=i in t,l=i in r,u=t[i],d=E.isValidElement(u)&&!u.props.in;l&&(!s||d)?a[i]=E.cloneElement(o,{onExited:n.bind(null,o),in:!0,exit:kp(o,"exit",e),enter:kp(o,"enter",e)}):!l&&s&&!d?a[i]=E.cloneElement(o,{in:!1}):l&&s&&E.isValidElement(u)&&(a[i]=E.cloneElement(o,{onExited:n.bind(null,o),in:u.props.in,exit:kp(o,"exit",e),enter:kp(o,"enter",e)}))}}),a}var f2e=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},h2e={component:"div",childFactory:function(t){return t}},mL=function(e){nne(t,e);function t(r,a){var i;i=e.call(this,r,a)||this;var o=i.handleExited.bind(Jt(i));return i.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},i}var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(a,i){var o=i.children,s=i.handleExited,l=i.firstRender;return{children:l?u2e(a,s):d2e(a,o,s),firstRender:!1}},n.handleExited=function(a,i){var o=pL(this.props.children);a.key in o||(a.props.onExited&&a.props.onExited(i),this.mounted&&this.setState(function(s){var l=eb({},s.children);return delete l[a.key],{children:l}}))},n.render=function(){var a=this.props,i=a.component,o=a.childFactory,s=hL(a,["component","childFactory"]),l=this.state.contextValue,u=f2e(this.state.children).map(o);return delete s.appear,delete s.enter,delete s.exit,i===null?le.createElement(XC.Provider,{value:l},u):le.createElement(XC.Provider,{value:l},le.createElement(i,s,u))},t}(le.Component);mL.propTypes={};mL.defaultProps=h2e;const p2e=[];function m2e(e){E.useEffect(e,p2e)}class wj{constructor(){Mt(this,"currentId",null);Mt(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});Mt(this,"disposeEffect",()=>this.clear)}static create(){return new wj}start(t,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},t)}}function Af(){const e=tne(wj.create).current;return m2e(e.disposeEffect),e}function g2e(e){const{className:t,classes:n,pulsate:r=!1,rippleX:a,rippleY:i,rippleSize:o,in:s,onExited:l,timeout:u}=e,[d,f]=E.useState(!1),h=Tt(t,n.ripple,n.rippleVisible,r&&n.ripplePulsate),p={width:o,height:o,top:-(o/2)+i,left:-(o/2)+a},m=Tt(n.child,d&&n.childLeaving,r&&n.childPulsate);return!s&&!d&&f(!0),E.useEffect(()=>{if(!s&&l!=null){const g=setTimeout(l,u);return()=>{clearTimeout(g)}}},[l,s,u]),c.jsx("span",{className:h,style:p,children:c.jsx("span",{className:m})})}const dl=jn("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),v3=550,v2e=80,y2e=Uw`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,x2e=Uw`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,b2e=Uw`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,w2e=Ot("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),_2e=Ot(g2e,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${dl.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${y2e};
    animation-duration: ${v3}ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
  }

  &.${dl.ripplePulsate} {
    animation-duration: ${({theme:e})=>e.transitions.duration.shorter}ms;
  }

  & .${dl.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${dl.childLeaving} {
    opacity: 0;
    animation-name: ${x2e};
    animation-duration: ${v3}ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
  }

  & .${dl.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${b2e};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,S2e=E.forwardRef(function(t,n){const r=Fn({props:t,name:"MuiTouchRipple"}),{center:a=!1,classes:i={},className:o,...s}=r,[l,u]=E.useState([]),d=E.useRef(0),f=E.useRef(null);E.useEffect(()=>{f.current&&(f.current(),f.current=null)},[l]);const h=E.useRef(!1),p=Af(),m=E.useRef(null),g=E.useRef(null),y=E.useCallback(_=>{const{pulsate:S,rippleX:k,rippleY:N,rippleSize:P,cb:T}=_;u(j=>[...j,c.jsx(_2e,{classes:{ripple:Tt(i.ripple,dl.ripple),rippleVisible:Tt(i.rippleVisible,dl.rippleVisible),ripplePulsate:Tt(i.ripplePulsate,dl.ripplePulsate),child:Tt(i.child,dl.child),childLeaving:Tt(i.childLeaving,dl.childLeaving),childPulsate:Tt(i.childPulsate,dl.childPulsate)},timeout:v3,pulsate:S,rippleX:k,rippleY:N,rippleSize:P},d.current)]),d.current+=1,f.current=T},[i]),x=E.useCallback((_={},S={},k=()=>{})=>{const{pulsate:N=!1,center:P=a||S.pulsate,fakeElement:T=!1}=S;if((_==null?void 0:_.type)==="mousedown"&&h.current){h.current=!1;return}(_==null?void 0:_.type)==="touchstart"&&(h.current=!0);const j=T?null:g.current,D=j?j.getBoundingClientRect():{width:0,height:0,left:0,top:0};let M,R,W;if(P||_===void 0||_.clientX===0&&_.clientY===0||!_.clientX&&!_.touches)M=Math.round(D.width/2),R=Math.round(D.height/2);else{const{clientX:B,clientY:V}=_.touches&&_.touches.length>0?_.touches[0]:_;M=Math.round(B-D.left),R=Math.round(V-D.top)}if(P)W=Math.sqrt((2*D.width**2+D.height**2)/3),W%2===0&&(W+=1);else{const B=Math.max(Math.abs((j?j.clientWidth:0)-M),M)*2+2,V=Math.max(Math.abs((j?j.clientHeight:0)-R),R)*2+2;W=Math.sqrt(B**2+V**2)}_!=null&&_.touches?m.current===null&&(m.current=()=>{y({pulsate:N,rippleX:M,rippleY:R,rippleSize:W,cb:k})},p.start(v2e,()=>{m.current&&(m.current(),m.current=null)})):y({pulsate:N,rippleX:M,rippleY:R,rippleSize:W,cb:k})},[a,y,p]),b=E.useCallback(()=>{x({},{pulsate:!0})},[x]),w=E.useCallback((_,S)=>{if(p.clear(),(_==null?void 0:_.type)==="touchend"&&m.current){m.current(),m.current=null,p.start(0,()=>{w(_,S)});return}m.current=null,u(k=>k.length>0?k.slice(1):k),f.current=S},[p]);return E.useImperativeHandle(n,()=>({pulsate:b,start:x,stop:w}),[b,x,w]),c.jsx(w2e,{className:Tt(dl.root,i.root,o),ref:g,...s,children:c.jsx(mL,{component:null,exit:!0,children:l})})});function C2e(e){return Mn("MuiButtonBase",e)}const E2e=jn("MuiButtonBase",["root","disabled","focusVisible"]),N2e=e=>{const{disabled:t,focusVisible:n,focusVisibleClassName:r,classes:a}=e,o=On({root:["root",t&&"disabled",n&&"focusVisible"]},C2e,a);return n&&r&&(o.root+=` ${r}`),o},k2e=Ot("button",{name:"MuiButtonBase",slot:"Root"})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${E2e.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),ZC=E.forwardRef(function(t,n){const r=Fn({props:t,name:"MuiButtonBase"}),{action:a,centerRipple:i=!1,children:o,className:s,component:l="button",disabled:u=!1,disableRipple:d=!1,disableTouchRipple:f=!1,focusRipple:h=!1,focusVisibleClassName:p,LinkComponent:m="a",onBlur:g,onClick:y,onContextMenu:x,onDragLeave:b,onFocus:w,onFocusVisible:_,onKeyDown:S,onKeyUp:k,onMouseDown:N,onMouseLeave:P,onMouseUp:T,onTouchEnd:j,onTouchMove:D,onTouchStart:M,tabIndex:R=0,TouchRippleProps:W,touchRippleRef:B,type:V,...q}=r,I=E.useRef(null),O=o2e(),H=Ga(O.ref,B),[ne,z]=E.useState(!1);u&&ne&&z(!1),E.useImperativeHandle(a,()=>({focusVisible:()=>{z(!0),I.current.focus()}}),[]);const J=O.shouldMount&&!d&&!u;E.useEffect(()=>{ne&&h&&!d&&O.pulsate()},[d,h,ne,O]);const ee=Wu(O,"start",N,f),G=Wu(O,"stop",x,f),Z=Wu(O,"stop",b,f),se=Wu(O,"stop",T,f),ae=Wu(O,"stop",Me=>{ne&&Me.preventDefault(),P&&P(Me)},f),Y=Wu(O,"start",M,f),X=Wu(O,"stop",j,f),K=Wu(O,"stop",D,f),F=Wu(O,"stop",Me=>{GC(Me.target)||z(!1),g&&g(Me)},!1),re=Cl(Me=>{I.current||(I.current=Me.currentTarget),GC(Me.target)&&(z(!0),_&&_(Me)),w&&w(Me)}),Q=()=>{const Me=I.current;return l&&l!=="button"&&!(Me.tagName==="A"&&Me.href)},oe=Cl(Me=>{h&&!Me.repeat&&ne&&Me.key===" "&&O.stop(Me,()=>{O.start(Me)}),Me.target===Me.currentTarget&&Q()&&Me.key===" "&&Me.preventDefault(),S&&S(Me),Me.target===Me.currentTarget&&Q()&&Me.key==="Enter"&&!u&&(Me.preventDefault(),y&&y(Me))}),me=Cl(Me=>{h&&Me.key===" "&&ne&&!Me.defaultPrevented&&O.stop(Me,()=>{O.pulsate(Me)}),k&&k(Me),y&&Me.target===Me.currentTarget&&Q()&&Me.key===" "&&!Me.defaultPrevented&&y(Me)});let be=l;be==="button"&&(q.href||q.to)&&(be=m);const ye={};be==="button"?(ye.type=V===void 0?"button":V,ye.disabled=u):(!q.href&&!q.to&&(ye.role="button"),u&&(ye["aria-disabled"]=u));const de=Ga(n,I),we={...r,centerRipple:i,component:l,disabled:u,disableRipple:d,disableTouchRipple:f,focusRipple:h,tabIndex:R,focusVisible:ne},We=N2e(we);return c.jsxs(k2e,{as:be,className:Tt(We.root,s),ownerState:we,onBlur:F,onClick:y,onContextMenu:G,onFocus:re,onKeyDown:oe,onKeyUp:me,onMouseDown:ee,onMouseLeave:ae,onMouseUp:se,onDragLeave:Z,onTouchEnd:X,onTouchMove:K,onTouchStart:Y,ref:de,tabIndex:u?-1:R,type:V,...ye,...q,children:[o,J?c.jsx(S2e,{ref:H,center:i,...W}):null]})});function Wu(e,t,n,r=!1){return Cl(a=>(n&&n(a),r||e[t](a),!0))}function j2e(e){return typeof e.main=="string"}function T2e(e,t=[]){if(!j2e(e))return!1;for(const n of t)if(!e.hasOwnProperty(n)||typeof e[n]!="string")return!1;return!0}function Zi(e=[]){return([,t])=>t&&T2e(t,e)}function P2e(e){return Mn("MuiCircularProgress",e)}jn("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const nf=44,y3=Uw`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,x3=Uw`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,A2e=typeof y3!="string"?oL`
        animation: ${y3} 1.4s linear infinite;
      `:null,D2e=typeof x3!="string"?oL`
        animation: ${x3} 1.4s ease-in-out infinite;
      `:null,O2e=e=>{const{classes:t,variant:n,color:r,disableShrink:a}=e,i={root:["root",n,`color${bt(r)}`],svg:["svg"],circle:["circle",`circle${bt(n)}`,a&&"circleDisableShrink"]};return On(i,P2e,t)},M2e=Ot("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`color${bt(n.color)}`]]}})(Jn(({theme:e})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:e.transitions.create("transform")}},{props:{variant:"indeterminate"},style:A2e||{animation:`${y3} 1.4s linear infinite`}},...Object.entries(e.palette).filter(Zi()).map(([t])=>({props:{color:t},style:{color:(e.vars||e).palette[t].main}}))]}))),I2e=Ot("svg",{name:"MuiCircularProgress",slot:"Svg"})({display:"block"}),R2e=Ot("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.circle,t[`circle${bt(n.variant)}`],n.disableShrink&&t.circleDisableShrink]}})(Jn(({theme:e})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:e.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:t})=>t.variant==="indeterminate"&&!t.disableShrink,style:D2e||{animation:`${x3} 1.4s ease-in-out infinite`}}]}))),gL=E.forwardRef(function(t,n){const r=Fn({props:t,name:"MuiCircularProgress"}),{className:a,color:i="primary",disableShrink:o=!1,size:s=40,style:l,thickness:u=3.6,value:d=0,variant:f="indeterminate",...h}=r,p={...r,color:i,disableShrink:o,size:s,thickness:u,value:d,variant:f},m=O2e(p),g={},y={},x={};if(f==="determinate"){const b=2*Math.PI*((nf-u)/2);g.strokeDasharray=b.toFixed(3),x["aria-valuenow"]=Math.round(d),g.strokeDashoffset=`${((100-d)/100*b).toFixed(3)}px`,y.transform="rotate(-90deg)"}return c.jsx(M2e,{className:Tt(m.root,a),style:{width:s,height:s,...y,...l},ownerState:p,ref:n,role:"progressbar",...x,...h,children:c.jsx(I2e,{className:m.svg,ownerState:p,viewBox:`${nf/2} ${nf/2} ${nf} ${nf}`,children:c.jsx(R2e,{className:m.circle,style:g,ownerState:p,cx:nf,cy:nf,r:(nf-u)/2,fill:"none",strokeWidth:u})})})});function F2e(e){return Mn("MuiButton",e)}const Vh=jn("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]),L2e=E.createContext({}),$2e=E.createContext(void 0),B2e=e=>{const{color:t,disableElevation:n,fullWidth:r,size:a,variant:i,loading:o,loadingPosition:s,classes:l}=e,u={root:["root",o&&"loading",i,`${i}${bt(t)}`,`size${bt(a)}`,`${i}Size${bt(a)}`,`color${bt(t)}`,n&&"disableElevation",r&&"fullWidth",o&&`loadingPosition${bt(s)}`],startIcon:["icon","startIcon",`iconSize${bt(a)}`],endIcon:["icon","endIcon",`iconSize${bt(a)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},d=On(u,F2e,l);return{...l,...d}},rne=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],z2e=Ot(ZC,{shouldForwardProp:e=>wc(e)||e==="classes",name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`${n.variant}${bt(n.color)}`],t[`size${bt(n.size)}`],t[`${n.variant}Size${bt(n.size)}`],n.color==="inherit"&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth,n.loading&&t.loading]}})(Jn(({theme:e})=>{const t=e.palette.mode==="light"?e.palette.grey[300]:e.palette.grey[800],n=e.palette.mode==="light"?e.palette.grey.A100:e.palette.grey[700];return{...e.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create(["background-color","box-shadow","border-color","color"],{duration:e.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${Vh.disabled}`]:{color:(e.vars||e).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(e.vars||e).shadows[2],"&:hover":{boxShadow:(e.vars||e).shadows[4],"@media (hover: none)":{boxShadow:(e.vars||e).shadows[2]}},"&:active":{boxShadow:(e.vars||e).shadows[8]},[`&.${Vh.focusVisible}`]:{boxShadow:(e.vars||e).shadows[6]},[`&.${Vh.disabled}`]:{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${Vh.disabled}`]:{border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(e.palette).filter(Zi()).map(([r])=>({props:{color:r},style:{"--variant-textColor":(e.vars||e).palette[r].main,"--variant-outlinedColor":(e.vars||e).palette[r].main,"--variant-outlinedBorder":e.vars?`rgba(${e.vars.palette[r].mainChannel} / 0.5)`:Da(e.palette[r].main,.5),"--variant-containedColor":(e.vars||e).palette[r].contrastText,"--variant-containedBg":(e.vars||e).palette[r].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(e.vars||e).palette[r].dark,"--variant-textBg":e.vars?`rgba(${e.vars.palette[r].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Da(e.palette[r].main,e.palette.action.hoverOpacity),"--variant-outlinedBorder":(e.vars||e).palette[r].main,"--variant-outlinedBg":e.vars?`rgba(${e.vars.palette[r].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Da(e.palette[r].main,e.palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":e.vars?e.vars.palette.Button.inheritContainedBg:t,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":e.vars?e.vars.palette.Button.inheritContainedHoverBg:n,"--variant-textBg":e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:Da(e.palette.text.primary,e.palette.action.hoverOpacity),"--variant-outlinedBg":e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:Da(e.palette.text.primary,e.palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:e.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:e.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:e.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Vh.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Vh.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:e.transitions.create(["background-color","box-shadow","border-color"],{duration:e.transitions.duration.short}),[`&.${Vh.loading}`]:{color:"transparent"}}}]}})),U2e=Ot("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.startIcon,n.loading&&t.startIconLoadingStart,t[`iconSize${bt(n.size)}`]]}})(({theme:e})=>({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...rne]})),W2e=Ot("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.endIcon,n.loading&&t.endIconLoadingEnd,t[`iconSize${bt(n.size)}`]]}})(({theme:e})=>({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...rne]})),V2e=Ot("span",{name:"MuiButton",slot:"LoadingIndicator"})(({theme:e})=>({display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(e.vars||e).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]})),U9=Ot("span",{name:"MuiButton",slot:"LoadingIconPlaceholder"})({display:"inline-block",width:"1em",height:"1em"}),pf=E.forwardRef(function(t,n){const r=E.useContext(L2e),a=E.useContext($2e),i=qC(r,t),o=Fn({props:i,name:"MuiButton"}),{children:s,color:l="primary",component:u="button",className:d,disabled:f=!1,disableElevation:h=!1,disableFocusRipple:p=!1,endIcon:m,focusVisibleClassName:g,fullWidth:y=!1,id:x,loading:b=null,loadingIndicator:w,loadingPosition:_="center",size:S="medium",startIcon:k,type:N,variant:P="text",...T}=o,j=q0(x),D=w??c.jsx(gL,{"aria-labelledby":j,color:"inherit",size:16}),M={...o,color:l,component:u,disabled:f,disableElevation:h,disableFocusRipple:p,fullWidth:y,loading:b,loadingIndicator:D,loadingPosition:_,size:S,type:N,variant:P},R=B2e(M),W=(k||b&&_==="start")&&c.jsx(U2e,{className:R.startIcon,ownerState:M,children:k||c.jsx(U9,{className:R.loadingIconPlaceholder,ownerState:M})}),B=(m||b&&_==="end")&&c.jsx(W2e,{className:R.endIcon,ownerState:M,children:m||c.jsx(U9,{className:R.loadingIconPlaceholder,ownerState:M})}),V=a||"",q=typeof b=="boolean"?c.jsx("span",{className:R.loadingWrapper,style:{display:"contents"},children:b&&c.jsx(V2e,{className:R.loadingIndicator,ownerState:M,children:D})}):null;return c.jsxs(z2e,{ownerState:M,className:Tt(r.className,R.root,d,V),component:u,disabled:f||b,focusRipple:!p,focusVisibleClassName:Tt(R.focusVisible,g),ref:n,type:N,id:b?j:x,...T,classes:R,children:[W,_!=="end"&&q,s,_==="end"&&q,B]})});function ane(e,t){return function(){return e.apply(t,arguments)}}const{toString:H2e}=Object.prototype,{getPrototypeOf:vL}=Object,{iterator:_j,toStringTag:ine}=Symbol,Sj=(e=>t=>{const n=H2e.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),_c=e=>(e=e.toLowerCase(),t=>Sj(t)===e),Cj=e=>t=>typeof t===e,{isArray:G0}=Array,sb=Cj("undefined");function q2e(e){return e!==null&&!sb(e)&&e.constructor!==null&&!sb(e.constructor)&&rs(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const one=_c("ArrayBuffer");function G2e(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&one(e.buffer),t}const Y2e=Cj("string"),rs=Cj("function"),sne=Cj("number"),Ej=e=>e!==null&&typeof e=="object",K2e=e=>e===!0||e===!1,VS=e=>{if(Sj(e)!=="object")return!1;const t=vL(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(ine in e)&&!(_j in e)},X2e=_c("Date"),Z2e=_c("File"),Q2e=_c("Blob"),J2e=_c("FileList"),e_e=e=>Ej(e)&&rs(e.pipe),t_e=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||rs(e.append)&&((t=Sj(e))==="formdata"||t==="object"&&rs(e.toString)&&e.toString()==="[object FormData]"))},n_e=_c("URLSearchParams"),[r_e,a_e,i_e,o_e]=["ReadableStream","Request","Response","Headers"].map(_c),s_e=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ww(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,a;if(typeof e!="object"&&(e=[e]),G0(e))for(r=0,a=e.length;r<a;r++)t.call(null,e[r],r,e);else{const i=n?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let s;for(r=0;r<o;r++)s=i[r],t.call(null,e[s],s,e)}}function lne(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,a;for(;r-- >0;)if(a=n[r],t===a.toLowerCase())return a;return null}const jp=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,cne=e=>!sb(e)&&e!==jp;function b3(){const{caseless:e}=cne(this)&&this||{},t={},n=(r,a)=>{const i=e&&lne(t,a)||a;VS(t[i])&&VS(r)?t[i]=b3(t[i],r):VS(r)?t[i]=b3({},r):G0(r)?t[i]=r.slice():t[i]=r};for(let r=0,a=arguments.length;r<a;r++)arguments[r]&&Ww(arguments[r],n);return t}const l_e=(e,t,n,{allOwnKeys:r}={})=>(Ww(t,(a,i)=>{n&&rs(a)?e[i]=ane(a,n):e[i]=a},{allOwnKeys:r}),e),c_e=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),u_e=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},d_e=(e,t,n,r)=>{let a,i,o;const s={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),i=a.length;i-- >0;)o=a[i],(!r||r(o,e,t))&&!s[o]&&(t[o]=e[o],s[o]=!0);e=n!==!1&&vL(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},f_e=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},h_e=e=>{if(!e)return null;if(G0(e))return e;let t=e.length;if(!sne(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},p_e=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&vL(Uint8Array)),m_e=(e,t)=>{const r=(e&&e[_j]).call(e);let a;for(;(a=r.next())&&!a.done;){const i=a.value;t.call(e,i[0],i[1])}},g_e=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},v_e=_c("HTMLFormElement"),y_e=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,a){return r.toUpperCase()+a}),W9=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),x_e=_c("RegExp"),une=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Ww(n,(a,i)=>{let o;(o=t(a,i,e))!==!1&&(r[i]=o||a)}),Object.defineProperties(e,r)},b_e=e=>{une(e,(t,n)=>{if(rs(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(rs(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},w_e=(e,t)=>{const n={},r=a=>{a.forEach(i=>{n[i]=!0})};return G0(e)?r(e):r(String(e).split(t)),n},__e=()=>{},S_e=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function C_e(e){return!!(e&&rs(e.append)&&e[ine]==="FormData"&&e[_j])}const E_e=e=>{const t=new Array(10),n=(r,a)=>{if(Ej(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[a]=r;const i=G0(r)?[]:{};return Ww(r,(o,s)=>{const l=n(o,a+1);!sb(l)&&(i[s]=l)}),t[a]=void 0,i}}return r};return n(e,0)},N_e=_c("AsyncFunction"),k_e=e=>e&&(Ej(e)||rs(e))&&rs(e.then)&&rs(e.catch),dne=((e,t)=>e?setImmediate:t?((n,r)=>(jp.addEventListener("message",({source:a,data:i})=>{a===jp&&i===n&&r.length&&r.shift()()},!1),a=>{r.push(a),jp.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",rs(jp.postMessage)),j_e=typeof queueMicrotask<"u"?queueMicrotask.bind(jp):typeof process<"u"&&process.nextTick||dne,T_e=e=>e!=null&&rs(e[_j]),rt={isArray:G0,isArrayBuffer:one,isBuffer:q2e,isFormData:t_e,isArrayBufferView:G2e,isString:Y2e,isNumber:sne,isBoolean:K2e,isObject:Ej,isPlainObject:VS,isReadableStream:r_e,isRequest:a_e,isResponse:i_e,isHeaders:o_e,isUndefined:sb,isDate:X2e,isFile:Z2e,isBlob:Q2e,isRegExp:x_e,isFunction:rs,isStream:e_e,isURLSearchParams:n_e,isTypedArray:p_e,isFileList:J2e,forEach:Ww,merge:b3,extend:l_e,trim:s_e,stripBOM:c_e,inherits:u_e,toFlatObject:d_e,kindOf:Sj,kindOfTest:_c,endsWith:f_e,toArray:h_e,forEachEntry:m_e,matchAll:g_e,isHTMLForm:v_e,hasOwnProperty:W9,hasOwnProp:W9,reduceDescriptors:une,freezeMethods:b_e,toObjectSet:w_e,toCamelCase:y_e,noop:__e,toFiniteNumber:S_e,findKey:lne,global:jp,isContextDefined:cne,isSpecCompliantForm:C_e,toJSONObject:E_e,isAsyncFn:N_e,isThenable:k_e,setImmediate:dne,asap:j_e,isIterable:T_e};function Rn(e,t,n,r,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),a&&(this.response=a,this.status=a.status?a.status:null)}rt.inherits(Rn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:rt.toJSONObject(this.config),code:this.code,status:this.status}}});const fne=Rn.prototype,hne={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{hne[e]={value:e}});Object.defineProperties(Rn,hne);Object.defineProperty(fne,"isAxiosError",{value:!0});Rn.from=(e,t,n,r,a,i)=>{const o=Object.create(fne);return rt.toFlatObject(e,o,function(l){return l!==Error.prototype},s=>s!=="isAxiosError"),Rn.call(o,e.message,t,n,r,a),o.cause=e,o.name=e.name,i&&Object.assign(o,i),o};const P_e=null;function w3(e){return rt.isPlainObject(e)||rt.isArray(e)}function pne(e){return rt.endsWith(e,"[]")?e.slice(0,-2):e}function V9(e,t,n){return e?e.concat(t).map(function(a,i){return a=pne(a),!n&&i?"["+a+"]":a}).join(n?".":""):t}function A_e(e){return rt.isArray(e)&&!e.some(w3)}const D_e=rt.toFlatObject(rt,{},null,function(t){return/^is[A-Z]/.test(t)});function Nj(e,t,n){if(!rt.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=rt.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,y){return!rt.isUndefined(y[g])});const r=n.metaTokens,a=n.visitor||d,i=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&rt.isSpecCompliantForm(t);if(!rt.isFunction(a))throw new TypeError("visitor must be a function");function u(m){if(m===null)return"";if(rt.isDate(m))return m.toISOString();if(rt.isBoolean(m))return m.toString();if(!l&&rt.isBlob(m))throw new Rn("Blob is not supported. Use a Buffer instead.");return rt.isArrayBuffer(m)||rt.isTypedArray(m)?l&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function d(m,g,y){let x=m;if(m&&!y&&typeof m=="object"){if(rt.endsWith(g,"{}"))g=r?g:g.slice(0,-2),m=JSON.stringify(m);else if(rt.isArray(m)&&A_e(m)||(rt.isFileList(m)||rt.endsWith(g,"[]"))&&(x=rt.toArray(m)))return g=pne(g),x.forEach(function(w,_){!(rt.isUndefined(w)||w===null)&&t.append(o===!0?V9([g],_,i):o===null?g:g+"[]",u(w))}),!1}return w3(m)?!0:(t.append(V9(y,g,i),u(m)),!1)}const f=[],h=Object.assign(D_e,{defaultVisitor:d,convertValue:u,isVisitable:w3});function p(m,g){if(!rt.isUndefined(m)){if(f.indexOf(m)!==-1)throw Error("Circular reference detected in "+g.join("."));f.push(m),rt.forEach(m,function(x,b){(!(rt.isUndefined(x)||x===null)&&a.call(t,x,rt.isString(b)?b.trim():b,g,h))===!0&&p(x,g?g.concat(b):[b])}),f.pop()}}if(!rt.isObject(e))throw new TypeError("data must be an object");return p(e),t}function H9(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function yL(e,t){this._pairs=[],e&&Nj(e,this,t)}const mne=yL.prototype;mne.append=function(t,n){this._pairs.push([t,n])};mne.toString=function(t){const n=t?function(r){return t.call(this,r,H9)}:H9;return this._pairs.map(function(a){return n(a[0])+"="+n(a[1])},"").join("&")};function O_e(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function gne(e,t,n){if(!t)return e;const r=n&&n.encode||O_e;rt.isFunction(n)&&(n={serialize:n});const a=n&&n.serialize;let i;if(a?i=a(t,n):i=rt.isURLSearchParams(t)?t.toString():new yL(t,n).toString(r),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class q9{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){rt.forEach(this.handlers,function(r){r!==null&&t(r)})}}const vne={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},M_e=typeof URLSearchParams<"u"?URLSearchParams:yL,I_e=typeof FormData<"u"?FormData:null,R_e=typeof Blob<"u"?Blob:null,F_e={isBrowser:!0,classes:{URLSearchParams:M_e,FormData:I_e,Blob:R_e},protocols:["http","https","file","blob","url","data"]},xL=typeof window<"u"&&typeof document<"u",_3=typeof navigator=="object"&&navigator||void 0,L_e=xL&&(!_3||["ReactNative","NativeScript","NS"].indexOf(_3.product)<0),$_e=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",B_e=xL&&window.location.href||"http://localhost",z_e=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:xL,hasStandardBrowserEnv:L_e,hasStandardBrowserWebWorkerEnv:$_e,navigator:_3,origin:B_e},Symbol.toStringTag,{value:"Module"})),mo={...z_e,...F_e};function U_e(e,t){return Nj(e,new mo.classes.URLSearchParams,Object.assign({visitor:function(n,r,a,i){return mo.isNode&&rt.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},t))}function W_e(e){return rt.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function V_e(e){const t={},n=Object.keys(e);let r;const a=n.length;let i;for(r=0;r<a;r++)i=n[r],t[i]=e[i];return t}function yne(e){function t(n,r,a,i){let o=n[i++];if(o==="__proto__")return!0;const s=Number.isFinite(+o),l=i>=n.length;return o=!o&&rt.isArray(a)?a.length:o,l?(rt.hasOwnProp(a,o)?a[o]=[a[o],r]:a[o]=r,!s):((!a[o]||!rt.isObject(a[o]))&&(a[o]=[]),t(n,r,a[o],i)&&rt.isArray(a[o])&&(a[o]=V_e(a[o])),!s)}if(rt.isFormData(e)&&rt.isFunction(e.entries)){const n={};return rt.forEachEntry(e,(r,a)=>{t(W_e(r),a,n,0)}),n}return null}function H_e(e,t,n){if(rt.isString(e))try{return(t||JSON.parse)(e),rt.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const Vw={transitional:vne,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",a=r.indexOf("application/json")>-1,i=rt.isObject(t);if(i&&rt.isHTMLForm(t)&&(t=new FormData(t)),rt.isFormData(t))return a?JSON.stringify(yne(t)):t;if(rt.isArrayBuffer(t)||rt.isBuffer(t)||rt.isStream(t)||rt.isFile(t)||rt.isBlob(t)||rt.isReadableStream(t))return t;if(rt.isArrayBufferView(t))return t.buffer;if(rt.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let s;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return U_e(t,this.formSerializer).toString();if((s=rt.isFileList(t))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Nj(s?{"files[]":t}:t,l&&new l,this.formSerializer)}}return i||a?(n.setContentType("application/json",!1),H_e(t)):t}],transformResponse:[function(t){const n=this.transitional||Vw.transitional,r=n&&n.forcedJSONParsing,a=this.responseType==="json";if(rt.isResponse(t)||rt.isReadableStream(t))return t;if(t&&rt.isString(t)&&(r&&!this.responseType||a)){const o=!(n&&n.silentJSONParsing)&&a;try{return JSON.parse(t)}catch(s){if(o)throw s.name==="SyntaxError"?Rn.from(s,Rn.ERR_BAD_RESPONSE,this,null,this.response):s}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:mo.classes.FormData,Blob:mo.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};rt.forEach(["delete","get","head","post","put","patch"],e=>{Vw.headers[e]={}});const q_e=rt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),G_e=e=>{const t={};let n,r,a;return e&&e.split(`
`).forEach(function(o){a=o.indexOf(":"),n=o.substring(0,a).trim().toLowerCase(),r=o.substring(a+1).trim(),!(!n||t[n]&&q_e[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},G9=Symbol("internals");function By(e){return e&&String(e).trim().toLowerCase()}function HS(e){return e===!1||e==null?e:rt.isArray(e)?e.map(HS):String(e)}function Y_e(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const K_e=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function DA(e,t,n,r,a){if(rt.isFunction(r))return r.call(this,t,n);if(a&&(t=n),!!rt.isString(t)){if(rt.isString(r))return t.indexOf(r)!==-1;if(rt.isRegExp(r))return r.test(t)}}function X_e(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function Z_e(e,t){const n=rt.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(a,i,o){return this[r].call(this,t,a,i,o)},configurable:!0})})}let as=class{constructor(t){t&&this.set(t)}set(t,n,r){const a=this;function i(s,l,u){const d=By(l);if(!d)throw new Error("header name must be a non-empty string");const f=rt.findKey(a,d);(!f||a[f]===void 0||u===!0||u===void 0&&a[f]!==!1)&&(a[f||l]=HS(s))}const o=(s,l)=>rt.forEach(s,(u,d)=>i(u,d,l));if(rt.isPlainObject(t)||t instanceof this.constructor)o(t,n);else if(rt.isString(t)&&(t=t.trim())&&!K_e(t))o(G_e(t),n);else if(rt.isObject(t)&&rt.isIterable(t)){let s={},l,u;for(const d of t){if(!rt.isArray(d))throw TypeError("Object iterator must return a key-value pair");s[u=d[0]]=(l=s[u])?rt.isArray(l)?[...l,d[1]]:[l,d[1]]:d[1]}o(s,n)}else t!=null&&i(n,t,r);return this}get(t,n){if(t=By(t),t){const r=rt.findKey(this,t);if(r){const a=this[r];if(!n)return a;if(n===!0)return Y_e(a);if(rt.isFunction(n))return n.call(this,a,r);if(rt.isRegExp(n))return n.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=By(t),t){const r=rt.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||DA(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let a=!1;function i(o){if(o=By(o),o){const s=rt.findKey(r,o);s&&(!n||DA(r,r[s],s,n))&&(delete r[s],a=!0)}}return rt.isArray(t)?t.forEach(i):i(t),a}clear(t){const n=Object.keys(this);let r=n.length,a=!1;for(;r--;){const i=n[r];(!t||DA(this,this[i],i,t,!0))&&(delete this[i],a=!0)}return a}normalize(t){const n=this,r={};return rt.forEach(this,(a,i)=>{const o=rt.findKey(r,i);if(o){n[o]=HS(a),delete n[i];return}const s=t?X_e(i):String(i).trim();s!==i&&delete n[i],n[s]=HS(a),r[s]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return rt.forEach(this,(r,a)=>{r!=null&&r!==!1&&(n[a]=t&&rt.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(a=>r.set(a)),r}static accessor(t){const r=(this[G9]=this[G9]={accessors:{}}).accessors,a=this.prototype;function i(o){const s=By(o);r[s]||(Z_e(a,o),r[s]=!0)}return rt.isArray(t)?t.forEach(i):i(t),this}};as.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);rt.reduceDescriptors(as.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});rt.freezeMethods(as);function OA(e,t){const n=this||Vw,r=t||n,a=as.from(r.headers);let i=r.data;return rt.forEach(e,function(s){i=s.call(n,i,a.normalize(),t?t.status:void 0)}),a.normalize(),i}function xne(e){return!!(e&&e.__CANCEL__)}function Y0(e,t,n){Rn.call(this,e??"canceled",Rn.ERR_CANCELED,t,n),this.name="CanceledError"}rt.inherits(Y0,Rn,{__CANCEL__:!0});function bne(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new Rn("Request failed with status code "+n.status,[Rn.ERR_BAD_REQUEST,Rn.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Q_e(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function J_e(e,t){e=e||10;const n=new Array(e),r=new Array(e);let a=0,i=0,o;return t=t!==void 0?t:1e3,function(l){const u=Date.now(),d=r[i];o||(o=u),n[a]=l,r[a]=u;let f=i,h=0;for(;f!==a;)h+=n[f++],f=f%e;if(a=(a+1)%e,a===i&&(i=(i+1)%e),u-o<t)return;const p=d&&u-d;return p?Math.round(h*1e3/p):void 0}}function eSe(e,t){let n=0,r=1e3/t,a,i;const o=(u,d=Date.now())=>{n=d,a=null,i&&(clearTimeout(i),i=null),e.apply(null,u)};return[(...u)=>{const d=Date.now(),f=d-n;f>=r?o(u,d):(a=u,i||(i=setTimeout(()=>{i=null,o(a)},r-f)))},()=>a&&o(a)]}const QC=(e,t,n=3)=>{let r=0;const a=J_e(50,250);return eSe(i=>{const o=i.loaded,s=i.lengthComputable?i.total:void 0,l=o-r,u=a(l),d=o<=s;r=o;const f={loaded:o,total:s,progress:s?o/s:void 0,bytes:l,rate:u||void 0,estimated:u&&s&&d?(s-o)/u:void 0,event:i,lengthComputable:s!=null,[t?"download":"upload"]:!0};e(f)},n)},Y9=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},K9=e=>(...t)=>rt.asap(()=>e(...t)),tSe=mo.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,mo.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(mo.origin),mo.navigator&&/(msie|trident)/i.test(mo.navigator.userAgent)):()=>!0,nSe=mo.hasStandardBrowserEnv?{write(e,t,n,r,a,i){const o=[e+"="+encodeURIComponent(t)];rt.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),rt.isString(r)&&o.push("path="+r),rt.isString(a)&&o.push("domain="+a),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function rSe(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function aSe(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function wne(e,t,n){let r=!rSe(t);return e&&(r||n==!1)?aSe(e,t):t}const X9=e=>e instanceof as?{...e}:e;function fm(e,t){t=t||{};const n={};function r(u,d,f,h){return rt.isPlainObject(u)&&rt.isPlainObject(d)?rt.merge.call({caseless:h},u,d):rt.isPlainObject(d)?rt.merge({},d):rt.isArray(d)?d.slice():d}function a(u,d,f,h){if(rt.isUndefined(d)){if(!rt.isUndefined(u))return r(void 0,u,f,h)}else return r(u,d,f,h)}function i(u,d){if(!rt.isUndefined(d))return r(void 0,d)}function o(u,d){if(rt.isUndefined(d)){if(!rt.isUndefined(u))return r(void 0,u)}else return r(void 0,d)}function s(u,d,f){if(f in t)return r(u,d);if(f in e)return r(void 0,u)}const l={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:s,headers:(u,d,f)=>a(X9(u),X9(d),f,!0)};return rt.forEach(Object.keys(Object.assign({},e,t)),function(d){const f=l[d]||a,h=f(e[d],t[d],d);rt.isUndefined(h)&&f!==s||(n[d]=h)}),n}const _ne=e=>{const t=fm({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:a,xsrfCookieName:i,headers:o,auth:s}=t;t.headers=o=as.from(o),t.url=gne(wne(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),s&&o.set("Authorization","Basic "+btoa((s.username||"")+":"+(s.password?unescape(encodeURIComponent(s.password)):"")));let l;if(rt.isFormData(n)){if(mo.hasStandardBrowserEnv||mo.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[u,...d]=l?l.split(";").map(f=>f.trim()).filter(Boolean):[];o.setContentType([u||"multipart/form-data",...d].join("; "))}}if(mo.hasStandardBrowserEnv&&(r&&rt.isFunction(r)&&(r=r(t)),r||r!==!1&&tSe(t.url))){const u=a&&i&&nSe.read(i);u&&o.set(a,u)}return t},iSe=typeof XMLHttpRequest<"u",oSe=iSe&&function(e){return new Promise(function(n,r){const a=_ne(e);let i=a.data;const o=as.from(a.headers).normalize();let{responseType:s,onUploadProgress:l,onDownloadProgress:u}=a,d,f,h,p,m;function g(){p&&p(),m&&m(),a.cancelToken&&a.cancelToken.unsubscribe(d),a.signal&&a.signal.removeEventListener("abort",d)}let y=new XMLHttpRequest;y.open(a.method.toUpperCase(),a.url,!0),y.timeout=a.timeout;function x(){if(!y)return;const w=as.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),S={data:!s||s==="text"||s==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:w,config:e,request:y};bne(function(N){n(N),g()},function(N){r(N),g()},S),y=null}"onloadend"in y?y.onloadend=x:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(x)},y.onabort=function(){y&&(r(new Rn("Request aborted",Rn.ECONNABORTED,e,y)),y=null)},y.onerror=function(){r(new Rn("Network Error",Rn.ERR_NETWORK,e,y)),y=null},y.ontimeout=function(){let _=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const S=a.transitional||vne;a.timeoutErrorMessage&&(_=a.timeoutErrorMessage),r(new Rn(_,S.clarifyTimeoutError?Rn.ETIMEDOUT:Rn.ECONNABORTED,e,y)),y=null},i===void 0&&o.setContentType(null),"setRequestHeader"in y&&rt.forEach(o.toJSON(),function(_,S){y.setRequestHeader(S,_)}),rt.isUndefined(a.withCredentials)||(y.withCredentials=!!a.withCredentials),s&&s!=="json"&&(y.responseType=a.responseType),u&&([h,m]=QC(u,!0),y.addEventListener("progress",h)),l&&y.upload&&([f,p]=QC(l),y.upload.addEventListener("progress",f),y.upload.addEventListener("loadend",p)),(a.cancelToken||a.signal)&&(d=w=>{y&&(r(!w||w.type?new Y0(null,e,y):w),y.abort(),y=null)},a.cancelToken&&a.cancelToken.subscribe(d),a.signal&&(a.signal.aborted?d():a.signal.addEventListener("abort",d)));const b=Q_e(a.url);if(b&&mo.protocols.indexOf(b)===-1){r(new Rn("Unsupported protocol "+b+":",Rn.ERR_BAD_REQUEST,e));return}y.send(i||null)})},sSe=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,a;const i=function(u){if(!a){a=!0,s();const d=u instanceof Error?u:this.reason;r.abort(d instanceof Rn?d:new Y0(d instanceof Error?d.message:d))}};let o=t&&setTimeout(()=>{o=null,i(new Rn(`timeout ${t} of ms exceeded`,Rn.ETIMEDOUT))},t);const s=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),e=null)};e.forEach(u=>u.addEventListener("abort",i));const{signal:l}=r;return l.unsubscribe=()=>rt.asap(s),l}},lSe=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,a;for(;r<n;)a=r+t,yield e.slice(r,a),r=a},cSe=async function*(e,t){for await(const n of uSe(e))yield*lSe(n,t)},uSe=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},Z9=(e,t,n,r)=>{const a=cSe(e,t);let i=0,o,s=l=>{o||(o=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:u,value:d}=await a.next();if(u){s(),l.close();return}let f=d.byteLength;if(n){let h=i+=f;n(h)}l.enqueue(new Uint8Array(d))}catch(u){throw s(u),u}},cancel(l){return s(l),a.return()}},{highWaterMark:2})},kj=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Sne=kj&&typeof ReadableStream=="function",dSe=kj&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),Cne=(e,...t)=>{try{return!!e(...t)}catch{return!1}},fSe=Sne&&Cne(()=>{let e=!1;const t=new Request(mo.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),Q9=64*1024,S3=Sne&&Cne(()=>rt.isReadableStream(new Response("").body)),JC={stream:S3&&(e=>e.body)};kj&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!JC[t]&&(JC[t]=rt.isFunction(e[t])?n=>n[t]():(n,r)=>{throw new Rn(`Response type '${t}' is not supported`,Rn.ERR_NOT_SUPPORT,r)})})})(new Response);const hSe=async e=>{if(e==null)return 0;if(rt.isBlob(e))return e.size;if(rt.isSpecCompliantForm(e))return(await new Request(mo.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(rt.isArrayBufferView(e)||rt.isArrayBuffer(e))return e.byteLength;if(rt.isURLSearchParams(e)&&(e=e+""),rt.isString(e))return(await dSe(e)).byteLength},pSe=async(e,t)=>{const n=rt.toFiniteNumber(e.getContentLength());return n??hSe(t)},mSe=kj&&(async e=>{let{url:t,method:n,data:r,signal:a,cancelToken:i,timeout:o,onDownloadProgress:s,onUploadProgress:l,responseType:u,headers:d,withCredentials:f="same-origin",fetchOptions:h}=_ne(e);u=u?(u+"").toLowerCase():"text";let p=sSe([a,i&&i.toAbortSignal()],o),m;const g=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let y;try{if(l&&fSe&&n!=="get"&&n!=="head"&&(y=await pSe(d,r))!==0){let S=new Request(t,{method:"POST",body:r,duplex:"half"}),k;if(rt.isFormData(r)&&(k=S.headers.get("content-type"))&&d.setContentType(k),S.body){const[N,P]=Y9(y,QC(K9(l)));r=Z9(S.body,Q9,N,P)}}rt.isString(f)||(f=f?"include":"omit");const x="credentials"in Request.prototype;m=new Request(t,{...h,signal:p,method:n.toUpperCase(),headers:d.normalize().toJSON(),body:r,duplex:"half",credentials:x?f:void 0});let b=await fetch(m,h);const w=S3&&(u==="stream"||u==="response");if(S3&&(s||w&&g)){const S={};["status","statusText","headers"].forEach(T=>{S[T]=b[T]});const k=rt.toFiniteNumber(b.headers.get("content-length")),[N,P]=s&&Y9(k,QC(K9(s),!0))||[];b=new Response(Z9(b.body,Q9,N,()=>{P&&P(),g&&g()}),S)}u=u||"text";let _=await JC[rt.findKey(JC,u)||"text"](b,e);return!w&&g&&g(),await new Promise((S,k)=>{bne(S,k,{data:_,headers:as.from(b.headers),status:b.status,statusText:b.statusText,config:e,request:m})})}catch(x){throw g&&g(),x&&x.name==="TypeError"&&/Load failed|fetch/i.test(x.message)?Object.assign(new Rn("Network Error",Rn.ERR_NETWORK,e,m),{cause:x.cause||x}):Rn.from(x,x&&x.code,e,m)}}),C3={http:P_e,xhr:oSe,fetch:mSe};rt.forEach(C3,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const J9=e=>`- ${e}`,gSe=e=>rt.isFunction(e)||e===null||e===!1,Ene={getAdapter:e=>{e=rt.isArray(e)?e:[e];const{length:t}=e;let n,r;const a={};for(let i=0;i<t;i++){n=e[i];let o;if(r=n,!gSe(n)&&(r=C3[(o=String(n)).toLowerCase()],r===void 0))throw new Rn(`Unknown adapter '${o}'`);if(r)break;a[o||"#"+i]=r}if(!r){const i=Object.entries(a).map(([s,l])=>`adapter ${s} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=t?i.length>1?`since :
`+i.map(J9).join(`
`):" "+J9(i[0]):"as no adapter specified";throw new Rn("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:C3};function MA(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Y0(null,e)}function ez(e){return MA(e),e.headers=as.from(e.headers),e.data=OA.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Ene.getAdapter(e.adapter||Vw.adapter)(e).then(function(r){return MA(e),r.data=OA.call(e,e.transformResponse,r),r.headers=as.from(r.headers),r},function(r){return xne(r)||(MA(e),r&&r.response&&(r.response.data=OA.call(e,e.transformResponse,r.response),r.response.headers=as.from(r.response.headers))),Promise.reject(r)})}const Nne="1.10.0",jj={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{jj[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const tz={};jj.transitional=function(t,n,r){function a(i,o){return"[Axios v"+Nne+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return(i,o,s)=>{if(t===!1)throw new Rn(a(o," has been removed"+(n?" in "+n:"")),Rn.ERR_DEPRECATED);return n&&!tz[o]&&(tz[o]=!0,console.warn(a(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(i,o,s):!0}};jj.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function vSe(e,t,n){if(typeof e!="object")throw new Rn("options must be an object",Rn.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let a=r.length;for(;a-- >0;){const i=r[a],o=t[i];if(o){const s=e[i],l=s===void 0||o(s,i,e);if(l!==!0)throw new Rn("option "+i+" must be "+l,Rn.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Rn("Unknown option "+i,Rn.ERR_BAD_OPTION)}}const qS={assertOptions:vSe,validators:jj},Dc=qS.validators;let Hp=class{constructor(t){this.defaults=t||{},this.interceptors={request:new q9,response:new q9}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const i=a.stack?a.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=fm(this.defaults,n);const{transitional:r,paramsSerializer:a,headers:i}=n;r!==void 0&&qS.assertOptions(r,{silentJSONParsing:Dc.transitional(Dc.boolean),forcedJSONParsing:Dc.transitional(Dc.boolean),clarifyTimeoutError:Dc.transitional(Dc.boolean)},!1),a!=null&&(rt.isFunction(a)?n.paramsSerializer={serialize:a}:qS.assertOptions(a,{encode:Dc.function,serialize:Dc.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),qS.assertOptions(n,{baseUrl:Dc.spelling("baseURL"),withXsrfToken:Dc.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=i&&rt.merge(i.common,i[n.method]);i&&rt.forEach(["delete","get","head","post","put","patch","common"],m=>{delete i[m]}),n.headers=as.concat(o,i);const s=[];let l=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(n)===!1||(l=l&&g.synchronous,s.unshift(g.fulfilled,g.rejected))});const u=[];this.interceptors.response.forEach(function(g){u.push(g.fulfilled,g.rejected)});let d,f=0,h;if(!l){const m=[ez.bind(this),void 0];for(m.unshift.apply(m,s),m.push.apply(m,u),h=m.length,d=Promise.resolve(n);f<h;)d=d.then(m[f++],m[f++]);return d}h=s.length;let p=n;for(f=0;f<h;){const m=s[f++],g=s[f++];try{p=m(p)}catch(y){g.call(this,y);break}}try{d=ez.call(this,p)}catch(m){return Promise.reject(m)}for(f=0,h=u.length;f<h;)d=d.then(u[f++],u[f++]);return d}getUri(t){t=fm(this.defaults,t);const n=wne(t.baseURL,t.url,t.allowAbsoluteUrls);return gne(n,t.params,t.paramsSerializer)}};rt.forEach(["delete","get","head","options"],function(t){Hp.prototype[t]=function(n,r){return this.request(fm(r||{},{method:t,url:n,data:(r||{}).data}))}});rt.forEach(["post","put","patch"],function(t){function n(r){return function(i,o,s){return this.request(fm(s||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}Hp.prototype[t]=n(),Hp.prototype[t+"Form"]=n(!0)});let ySe=class kne{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(a=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](a);r._listeners=null}),this.promise.then=a=>{let i;const o=new Promise(s=>{r.subscribe(s),i=s}).then(a);return o.cancel=function(){r.unsubscribe(i)},o},t(function(i,o,s){r.reason||(r.reason=new Y0(i,o,s),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new kne(function(a){t=a}),cancel:t}}};function xSe(e){return function(n){return e.apply(null,n)}}function bSe(e){return rt.isObject(e)&&e.isAxiosError===!0}const E3={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(E3).forEach(([e,t])=>{E3[t]=e});function jne(e){const t=new Hp(e),n=ane(Hp.prototype.request,t);return rt.extend(n,Hp.prototype,t,{allOwnKeys:!0}),rt.extend(n,t,null,{allOwnKeys:!0}),n.create=function(a){return jne(fm(e,a))},n}const Nn=jne(Vw);Nn.Axios=Hp;Nn.CanceledError=Y0;Nn.CancelToken=ySe;Nn.isCancel=xne;Nn.VERSION=Nne;Nn.toFormData=Nj;Nn.AxiosError=Rn;Nn.Cancel=Nn.CanceledError;Nn.all=function(t){return Promise.all(t)};Nn.spread=xSe;Nn.isAxiosError=bSe;Nn.mergeConfig=fm;Nn.AxiosHeaders=as;Nn.formToJSON=e=>yne(rt.isHTMLForm(e)?new FormData(e):e);Nn.getAdapter=Ene.getAdapter;Nn.HttpStatusCode=E3;Nn.default=Nn;const{Axios:Fkt,AxiosError:Lkt,CanceledError:$kt,isCancel:Bkt,CancelToken:zkt,VERSION:Ukt,all:Wkt,Cancel:Vkt,isAxiosError:Hkt,spread:qkt,toFormData:Gkt,AxiosHeaders:Ykt,HttpStatusCode:Kkt,formToJSON:Xkt,getAdapter:Zkt,mergeConfig:Qkt}=Nn;function Tne(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=Tne(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function Df(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=Tne(e))&&(r&&(r+=" "),r+=t);return r}const Yx=e=>typeof e=="number"&&!isNaN(e),hm=e=>typeof e=="string",Zo=e=>typeof e=="function",GS=e=>hm(e)||Zo(e)?e:null,IA=e=>E.isValidElement(e)||hm(e)||Zo(e)||Yx(e);function wSe(e,t,n){n===void 0&&(n=300);const{scrollHeight:r,style:a}=e;requestAnimationFrame(()=>{a.minHeight="initial",a.height=r+"px",a.transition=`all ${n}ms`,requestAnimationFrame(()=>{a.height="0",a.padding="0",a.margin="0",setTimeout(t,n)})})}function Tj(e){let{enter:t,exit:n,appendPosition:r=!1,collapse:a=!0,collapseDuration:i=300}=e;return function(o){let{children:s,position:l,preventExitTransition:u,done:d,nodeRef:f,isIn:h}=o;const p=r?`${t}--${l}`:t,m=r?`${n}--${l}`:n,g=E.useRef(0);return E.useLayoutEffect(()=>{const y=f.current,x=p.split(" "),b=w=>{w.target===f.current&&(y.dispatchEvent(new Event("d")),y.removeEventListener("animationend",b),y.removeEventListener("animationcancel",b),g.current===0&&w.type!=="animationcancel"&&y.classList.remove(...x))};y.classList.add(...x),y.addEventListener("animationend",b),y.addEventListener("animationcancel",b)},[]),E.useEffect(()=>{const y=f.current,x=()=>{y.removeEventListener("animationend",x),a?wSe(y,d,i):d()};h||(u?x():(g.current=1,y.className+=` ${m}`,y.addEventListener("animationend",x)))},[h]),le.createElement(le.Fragment,null,s)}}function nz(e,t){return e!=null?{content:e.content,containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,status:t}:{}}const fl={list:new Map,emitQueue:new Map,on(e,t){return this.list.has(e)||this.list.set(e,[]),this.list.get(e).push(t),this},off(e,t){if(t){const n=this.list.get(e).filter(r=>r!==t);return this.list.set(e,n),this}return this.list.delete(e),this},cancelEmit(e){const t=this.emitQueue.get(e);return t&&(t.forEach(clearTimeout),this.emitQueue.delete(e)),this},emit(e){this.list.has(e)&&this.list.get(e).forEach(t=>{const n=setTimeout(()=>{t(...[].slice.call(arguments,1))},0);this.emitQueue.has(e)||this.emitQueue.set(e,[]),this.emitQueue.get(e).push(n)})}},s_=e=>{let{theme:t,type:n,...r}=e;return le.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...r})},RA={info:function(e){return le.createElement(s_,{...e},le.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return le.createElement(s_,{...e},le.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return le.createElement(s_,{...e},le.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return le.createElement(s_,{...e},le.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return le.createElement("div",{className:"Toastify__spinner"})}};function _Se(e){const[,t]=E.useReducer(p=>p+1,0),[n,r]=E.useState([]),a=E.useRef(null),i=E.useRef(new Map).current,o=p=>n.indexOf(p)!==-1,s=E.useRef({toastKey:1,displayedToast:0,count:0,queue:[],props:e,containerId:null,isToastActive:o,getToast:p=>i.get(p)}).current;function l(p){let{containerId:m}=p;const{limit:g}=s.props;!g||m&&s.containerId!==m||(s.count-=s.queue.length,s.queue=[])}function u(p){r(m=>p==null?[]:m.filter(g=>g!==p))}function d(){const{toastContent:p,toastProps:m,staleId:g}=s.queue.shift();h(p,m,g)}function f(p,m){let{delay:g,staleId:y,...x}=m;if(!IA(p)||function(M){return!a.current||s.props.enableMultiContainer&&M.containerId!==s.props.containerId||i.has(M.toastId)&&M.updateId==null}(x))return;const{toastId:b,updateId:w,data:_}=x,{props:S}=s,k=()=>u(b),N=w==null;N&&s.count++;const P={...S,style:S.toastStyle,key:s.toastKey++,...Object.fromEntries(Object.entries(x).filter(M=>{let[R,W]=M;return W!=null})),toastId:b,updateId:w,data:_,closeToast:k,isIn:!1,className:GS(x.className||S.toastClassName),bodyClassName:GS(x.bodyClassName||S.bodyClassName),progressClassName:GS(x.progressClassName||S.progressClassName),autoClose:!x.isLoading&&(T=x.autoClose,j=S.autoClose,T===!1||Yx(T)&&T>0?T:j),deleteToast(){const M=nz(i.get(b),"removed");i.delete(b),fl.emit(4,M);const R=s.queue.length;if(s.count=b==null?s.count-s.displayedToast:s.count-1,s.count<0&&(s.count=0),R>0){const W=b==null?s.props.limit:1;if(R===1||W===1)s.displayedToast++,d();else{const B=W>R?R:W;s.displayedToast=B;for(let V=0;V<B;V++)d()}}else t()}};var T,j;P.iconOut=function(M){let{theme:R,type:W,isLoading:B,icon:V}=M,q=null;const I={theme:R,type:W};return V===!1||(Zo(V)?q=V(I):E.isValidElement(V)?q=E.cloneElement(V,I):hm(V)||Yx(V)?q=V:B?q=RA.spinner():(O=>O in RA)(W)&&(q=RA[W](I))),q}(P),Zo(x.onOpen)&&(P.onOpen=x.onOpen),Zo(x.onClose)&&(P.onClose=x.onClose),P.closeButton=S.closeButton,x.closeButton===!1||IA(x.closeButton)?P.closeButton=x.closeButton:x.closeButton===!0&&(P.closeButton=!IA(S.closeButton)||S.closeButton);let D=p;E.isValidElement(p)&&!hm(p.type)?D=E.cloneElement(p,{closeToast:k,toastProps:P,data:_}):Zo(p)&&(D=p({closeToast:k,toastProps:P,data:_})),S.limit&&S.limit>0&&s.count>S.limit&&N?s.queue.push({toastContent:D,toastProps:P,staleId:y}):Yx(g)?setTimeout(()=>{h(D,P,y)},g):h(D,P,y)}function h(p,m,g){const{toastId:y}=m;g&&i.delete(g);const x={content:p,props:m};i.set(y,x),r(b=>[...b,y].filter(w=>w!==g)),fl.emit(4,nz(x,x.props.updateId==null?"added":"updated"))}return E.useEffect(()=>(s.containerId=e.containerId,fl.cancelEmit(3).on(0,f).on(1,p=>a.current&&u(p)).on(5,l).emit(2,s),()=>{i.clear(),fl.emit(3,s)}),[]),E.useEffect(()=>{s.props=e,s.isToastActive=o,s.displayedToast=n.length}),{getToastToRender:function(p){const m=new Map,g=Array.from(i.values());return e.newestOnTop&&g.reverse(),g.forEach(y=>{const{position:x}=y.props;m.has(x)||m.set(x,[]),m.get(x).push(y)}),Array.from(m,y=>p(y[0],y[1]))},containerRef:a,isToastActive:o}}function rz(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.clientX}function az(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientY:e.clientY}function SSe(e){const[t,n]=E.useState(!1),[r,a]=E.useState(!1),i=E.useRef(null),o=E.useRef({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,s=E.useRef(e),{autoClose:l,pauseOnHover:u,closeToast:d,onClick:f,closeOnClick:h}=e;function p(_){if(e.draggable){_.nativeEvent.type==="touchstart"&&_.nativeEvent.preventDefault(),o.didMove=!1,document.addEventListener("mousemove",x),document.addEventListener("mouseup",b),document.addEventListener("touchmove",x),document.addEventListener("touchend",b);const S=i.current;o.canCloseOnClick=!0,o.canDrag=!0,o.boundingRect=S.getBoundingClientRect(),S.style.transition="",o.x=rz(_.nativeEvent),o.y=az(_.nativeEvent),e.draggableDirection==="x"?(o.start=o.x,o.removalDistance=S.offsetWidth*(e.draggablePercent/100)):(o.start=o.y,o.removalDistance=S.offsetHeight*(e.draggablePercent===80?1.5*e.draggablePercent:e.draggablePercent/100))}}function m(_){if(o.boundingRect){const{top:S,bottom:k,left:N,right:P}=o.boundingRect;_.nativeEvent.type!=="touchend"&&e.pauseOnHover&&o.x>=N&&o.x<=P&&o.y>=S&&o.y<=k?y():g()}}function g(){n(!0)}function y(){n(!1)}function x(_){const S=i.current;o.canDrag&&S&&(o.didMove=!0,t&&y(),o.x=rz(_),o.y=az(_),o.delta=e.draggableDirection==="x"?o.x-o.start:o.y-o.start,o.start!==o.x&&(o.canCloseOnClick=!1),S.style.transform=`translate${e.draggableDirection}(${o.delta}px)`,S.style.opacity=""+(1-Math.abs(o.delta/o.removalDistance)))}function b(){document.removeEventListener("mousemove",x),document.removeEventListener("mouseup",b),document.removeEventListener("touchmove",x),document.removeEventListener("touchend",b);const _=i.current;if(o.canDrag&&o.didMove&&_){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance)return a(!0),void e.closeToast();_.style.transition="transform 0.2s, opacity 0.2s",_.style.transform=`translate${e.draggableDirection}(0)`,_.style.opacity="1"}}E.useEffect(()=>{s.current=e}),E.useEffect(()=>(i.current&&i.current.addEventListener("d",g,{once:!0}),Zo(e.onOpen)&&e.onOpen(E.isValidElement(e.children)&&e.children.props),()=>{const _=s.current;Zo(_.onClose)&&_.onClose(E.isValidElement(_.children)&&_.children.props)}),[]),E.useEffect(()=>(e.pauseOnFocusLoss&&(document.hasFocus()||y(),window.addEventListener("focus",g),window.addEventListener("blur",y)),()=>{e.pauseOnFocusLoss&&(window.removeEventListener("focus",g),window.removeEventListener("blur",y))}),[e.pauseOnFocusLoss]);const w={onMouseDown:p,onTouchStart:p,onMouseUp:m,onTouchEnd:m};return l&&u&&(w.onMouseEnter=y,w.onMouseLeave=g),h&&(w.onClick=_=>{f&&f(_),o.canCloseOnClick&&d()}),{playToast:g,pauseToast:y,isRunning:t,preventExitTransition:r,toastRef:i,eventHandlers:w}}function Pne(e){let{closeToast:t,theme:n,ariaLabel:r="close"}=e;return le.createElement("button",{className:`Toastify__close-button Toastify__close-button--${n}`,type:"button",onClick:a=>{a.stopPropagation(),t(a)},"aria-label":r},le.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},le.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function CSe(e){let{delay:t,isRunning:n,closeToast:r,type:a="default",hide:i,className:o,style:s,controlledProgress:l,progress:u,rtl:d,isIn:f,theme:h}=e;const p=i||l&&u===0,m={...s,animationDuration:`${t}ms`,animationPlayState:n?"running":"paused",opacity:p?0:1};l&&(m.transform=`scaleX(${u})`);const g=Df("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${h}`,`Toastify__progress-bar--${a}`,{"Toastify__progress-bar--rtl":d}),y=Zo(o)?o({rtl:d,type:a,defaultClassName:g}):Df(g,o);return le.createElement("div",{role:"progressbar","aria-hidden":p?"true":"false","aria-label":"notification timer",className:y,style:m,[l&&u>=1?"onTransitionEnd":"onAnimationEnd"]:l&&u<1?null:()=>{f&&r()}})}const ESe=e=>{const{isRunning:t,preventExitTransition:n,toastRef:r,eventHandlers:a}=SSe(e),{closeButton:i,children:o,autoClose:s,onClick:l,type:u,hideProgressBar:d,closeToast:f,transition:h,position:p,className:m,style:g,bodyClassName:y,bodyStyle:x,progressClassName:b,progressStyle:w,updateId:_,role:S,progress:k,rtl:N,toastId:P,deleteToast:T,isIn:j,isLoading:D,iconOut:M,closeOnClick:R,theme:W}=e,B=Df("Toastify__toast",`Toastify__toast-theme--${W}`,`Toastify__toast--${u}`,{"Toastify__toast--rtl":N},{"Toastify__toast--close-on-click":R}),V=Zo(m)?m({rtl:N,position:p,type:u,defaultClassName:B}):Df(B,m),q=!!k||!s,I={closeToast:f,type:u,theme:W};let O=null;return i===!1||(O=Zo(i)?i(I):E.isValidElement(i)?E.cloneElement(i,I):Pne(I)),le.createElement(h,{isIn:j,done:T,position:p,preventExitTransition:n,nodeRef:r},le.createElement("div",{id:P,onClick:l,className:V,...a,style:g,ref:r},le.createElement("div",{...j&&{role:S},className:Zo(y)?y({type:u}):Df("Toastify__toast-body",y),style:x},M!=null&&le.createElement("div",{className:Df("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!D})},M),le.createElement("div",null,o)),O,le.createElement(CSe,{..._&&!q?{key:`pb-${_}`}:{},rtl:N,theme:W,delay:s,isRunning:t,isIn:j,closeToast:f,hide:d,type:u,style:w,className:b,controlledProgress:q,progress:k||0})))},Pj=function(e,t){return t===void 0&&(t=!1),{enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}},NSe=Tj(Pj("bounce",!0));Tj(Pj("slide",!0));Tj(Pj("zoom"));Tj(Pj("flip"));const iz=E.forwardRef((e,t)=>{const{getToastToRender:n,containerRef:r,isToastActive:a}=_Se(e),{className:i,style:o,rtl:s,containerId:l}=e;function u(d){const f=Df("Toastify__toast-container",`Toastify__toast-container--${d}`,{"Toastify__toast-container--rtl":s});return Zo(i)?i({position:d,rtl:s,defaultClassName:f}):Df(f,GS(i))}return E.useEffect(()=>{t&&(t.current=r.current)},[]),le.createElement("div",{ref:r,className:"Toastify",id:l},n((d,f)=>{const h=f.length?{...o}:{...o,pointerEvents:"none"};return le.createElement("div",{className:u(d),style:h,key:`container-${d}`},f.map((p,m)=>{let{content:g,props:y}=p;return le.createElement(ESe,{...y,isIn:a(y.toastId),style:{...y.style,"--nth":m+1,"--len":f.length},key:`toast-${y.key}`},g)}))}))});iz.displayName="ToastContainer",iz.defaultProps={position:"top-right",transition:NSe,autoClose:5e3,closeButton:Pne,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};let FA,ap=new Map,Cx=[],kSe=1;function Ane(){return""+kSe++}function jSe(e){return e&&(hm(e.toastId)||Yx(e.toastId))?e.toastId:Ane()}function Kx(e,t){return ap.size>0?fl.emit(0,e,t):Cx.push({content:e,options:t}),t.toastId}function eE(e,t){return{...t,type:t&&t.type||e,toastId:jSe(t)}}function l_(e){return(t,n)=>Kx(t,eE(e,n))}function sn(e,t){return Kx(e,eE("default",t))}sn.loading=(e,t)=>Kx(e,eE("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t})),sn.promise=function(e,t,n){let r,{pending:a,error:i,success:o}=t;a&&(r=hm(a)?sn.loading(a,n):sn.loading(a.render,{...n,...a}));const s={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(d,f,h)=>{if(f==null)return void sn.dismiss(r);const p={type:d,...s,...n,data:h},m=hm(f)?{render:f}:f;return r?sn.update(r,{...p,...m}):sn(m.render,{...p,...m}),h},u=Zo(e)?e():e;return u.then(d=>l("success",o,d)).catch(d=>l("error",i,d)),u},sn.success=l_("success"),sn.info=l_("info"),sn.error=l_("error"),sn.warning=l_("warning"),sn.warn=sn.warning,sn.dark=(e,t)=>Kx(e,eE("default",{theme:"dark",...t})),sn.dismiss=e=>{ap.size>0?fl.emit(1,e):Cx=Cx.filter(t=>e!=null&&t.options.toastId!==e)},sn.clearWaitingQueue=function(e){return e===void 0&&(e={}),fl.emit(5,e)},sn.isActive=e=>{let t=!1;return ap.forEach(n=>{n.isToastActive&&n.isToastActive(e)&&(t=!0)}),t},sn.update=function(e,t){t===void 0&&(t={}),setTimeout(()=>{const n=function(r,a){let{containerId:i}=a;const o=ap.get(i||FA);return o&&o.getToast(r)}(e,t);if(n){const{props:r,content:a}=n,i={delay:100,...r,...t,toastId:t.toastId||e,updateId:Ane()};i.toastId!==e&&(i.staleId=e);const o=i.render||a;delete i.render,Kx(o,i)}},0)},sn.done=e=>{sn.update(e,{progress:1})},sn.onChange=e=>(fl.on(4,e),()=>{fl.off(4,e)}),sn.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},sn.TYPE={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},fl.on(2,e=>{FA=e.containerId||e,ap.set(FA,e),Cx.forEach(t=>{fl.emit(0,t.content,t.options)}),Cx=[]}).on(3,e=>{ap.delete(e.containerId||e),ap.size===0&&fl.off(0).off(1).off(5)});const Sg="https://kmfi.netlify.app/",TSe=e=>e?e.startsWith("http")||e.startsWith("data:")?e:e.startsWith("/uploads/")?`${Sg}${e}`:e:Vp,PSe=({onNavigate:e})=>{const[t,n]=le.useState(null),[r,a]=E.useState(!1),[i,o]=E.useState(!1),[s,l]=E.useState([]),[u,d]=E.useState(0),[f,h]=E.useState(!1),p=E.useRef(null),m=E.useRef(null),g=async()=>{const T=s.filter(j=>!j.read);if(T.length!==0)try{await Promise.all(T.map(j=>fetch(`${Sg}/api/notifications/${j.id}/read`,{method:"POST"}))),l(s.map(j=>({...j,read:!0}))),d(0)}catch(j){console.error("Error marking notifications as read:",j)}},y=async()=>{if(s.filter(j=>!j.read).length!==0)try{const j=localStorage.getItem("user"),D=j?JSON.parse(j):null;if(!D)return;await fetch(`${Sg}/api/notifications/user/${D.id}/read-all`,{method:"POST"}),l(M=>M.map(R=>({...R,read:!0}))),d(0)}catch(j){console.error("Error marking notifications as read:",j)}},x=()=>{h(!f),a(!1),o(!1)},b=T=>{e(T),h(!1)},w=()=>{window.confirm(`KMFI Scholar Program Eligibility Check

Scholars must be residents of Payatas, Quezon City to be eligible.

Are you a resident of Payatas area?

Press OK for Yes, Cancel for No`)?(e("Register"),localStorage.setItem("preselectedRole","scholar"),h(!1)):(alert(`We're sorry, but KMFI's scholar program is currently only available to residents of Payatas, Quezon City.

Thank you for your interest. You may still explore other ways to get involved with our organization.`),e("/"))};E.useEffect(()=>{const T=async j=>{p.current&&!p.current.contains(j.target)&&a(!1),m.current&&!m.current.contains(j.target)&&i&&(await y(),o(!1)),f&&!j.target.closest(".nav-container")&&h(!1)};return document.addEventListener("mousedown",T),()=>{document.removeEventListener("mousedown",T)}},[i,s,f]),le.useEffect(()=>{const T=localStorage.getItem("user");T&&n(JSON.parse(T));const j=M=>{t&&n(R=>({...R,profilePhoto:M.detail.profilePhoto}))},D=M=>{t&&n(R=>({...R,name:M.detail.name,email:M.detail.email}))};return window.addEventListener("profilePhotoUpdated",j),window.addEventListener("userInfoUpdated",D),()=>{window.removeEventListener("profilePhotoUpdated",j),window.removeEventListener("userInfoUpdated",D)}},[t==null?void 0:t.id]),E.useEffect(()=>{const T=async()=>{const D=localStorage.getItem("user"),M=D?JSON.parse(D):null;if(M)try{const R=await fetch(`${Sg}/api/notifications/user/${M.id}`);if(R.ok){const W=await R.json();l(W),d(W.filter(B=>!B.read).length)}}catch(R){console.error("Error fetching notifications:",R)}};T();const j=setInterval(T,3e4);return()=>clearInterval(j)},[]);const _=()=>{window.dispatchEvent(new Event("userLoggedOut")),localStorage.removeItem("user"),localStorage.removeItem("token"),n(null),e("/")},S=async T=>{try{await fetch(`${Sg}/api/notifications/${T.id}/read`,{method:"POST"}),l(j=>j.map(D=>D.id===T.id?{...D,read:!0}:D)),d(j=>Math.max(0,j-1)),T.type==="post_like"||T.type==="comment_like"||T.type==="new_comment"?e(`Forum?postId=${T.related_id}`):(T.type.includes("post")||T.type.includes("comment"))&&e(`Forum?postId=${T.related_id}`),o(!1)}catch(j){console.error("Error marking notification as read:",j)}},k=async(T,j)=>{try{console.log("Notification data:",T),console.log("Event ID from notification:",T.related_id);const D=T.type==="event_reminder"?T.related_id:parseInt(T.related_id);console.log("Processing event response:",{notificationId:T.id,userId:t==null?void 0:t.id,eventId:D,confirmed:j}),(await Nn.post(`${Sg}/api/notifications/event-response`,{notificationId:T.id,userId:t==null?void 0:t.id,eventId:D.toString(),confirmed:j})).data.success&&(l(R=>R.map(W=>W.id===T.id?{...W,read:!0}:W)),d(R=>Math.max(0,R-1)),sn.success(j?"You have confirmed your participation":"You have been removed from the event"),o(!1))}catch(D){console.error("Error handling event response:",D),sn.error("Failed to process your response")}},N=T=>{T.preventDefault(),e(`${Nt.HELP}?tab=donate`),setTimeout(()=>{const j=document.querySelector(".donation-form-container");j&&j.scrollIntoView({behavior:"smooth"})},500)},P=(T,j)=>{j.stopPropagation(),l(D=>D.map(M=>M.id===T?{...M,expanded:!M.expanded}:M))};return c.jsxs("header",{className:"header-container",children:[c.jsx("div",{className:"logo-container",children:c.jsx("img",{src:bj,alt:"KM Logo",className:"logo-image",onClick:()=>e("/"),style:{cursor:"pointer"}})}),c.jsx("nav",{className:`nav-container ${f?"open":""}`,children:c.jsxs("ul",{className:"nav-list",children:[t?c.jsx("div",{className:"mobile-auth-buttons single-button",children:c.jsx("div",{className:"donate-button donate",children:c.jsx($s,{to:`${Nt.HELP}?tab=donate`,className:"donate-button donate",onClick:()=>h(!1),children:"Donate"})})}):c.jsxs("div",{className:"mobile-auth-buttons two-buttons",children:[c.jsx("div",{className:"apply-scholar-button",onClick:()=>{w()},children:"Apply as Scholar"}),c.jsx("div",{className:"signup-button sign-up",onClick:()=>{b("Login"),h(!1)},children:"Sign Up"}),c.jsx("div",{className:"donate-button donate",children:c.jsx($s,{to:`${Nt.HELP}?tab=donate`,className:"donate-button donate",onClick:()=>h(!1),children:"Donate"})})]}),c.jsxs("li",{className:"nav-item dropdown",children:[c.jsxs("div",{className:"nav-link-about",children:["About Us ",c.jsx("span",{className:"dropdown-arrow",children:""})]}),c.jsxs("ul",{className:"dropdown-menu",children:[c.jsx("li",{children:c.jsx("a",{className:"dropdown-link",onClick:()=>b("Story"),children:"Our Story"})}),c.jsx("li",{children:c.jsx("a",{className:"dropdown-link",onClick:()=>b("Partner"),children:"Partners and Sponsors"})}),c.jsx("li",{children:c.jsx("a",{className:"dropdown-link",onClick:()=>b("Team"),children:"Meet the Team"})}),c.jsx("li",{children:c.jsx("a",{className:"dropdown-link",onClick:()=>b("Events"),children:"Events"})}),c.jsx("li",{children:c.jsx("a",{className:"dropdown-link",onClick:()=>b("Map"),children:"Map"})})]})]}),c.jsx("li",{className:"nav-item",children:c.jsx("a",{className:"nav-link",onClick:()=>b("Life"),children:"Life with KM"})}),c.jsxs("li",{className:"nav-item dropdown",children:[c.jsxs("div",{className:"nav-link-testimonials",children:["Testimonials ",c.jsx("span",{className:"dropdown-arrow",children:""})]}),c.jsxs("ul",{className:"dropdown-menu",children:[c.jsx("li",{children:c.jsx("a",{className:"dropdown-link",onClick:()=>b("Graduates"),children:"Our Graduates"})}),c.jsx("li",{children:c.jsx("a",{className:"dropdown-link",onClick:()=>b("Community"),children:"Our Community"})})]})]}),c.jsxs("li",{className:"nav-item dropdown",children:[c.jsxs("div",{className:"nav-link-help",children:["How can you help? ",c.jsx("span",{className:"dropdown-arrow",children:""})]}),c.jsxs("ul",{className:"dropdown-menu",children:[c.jsx("li",{children:c.jsx("a",{className:"dropdown-link",onClick:()=>b("Help"),children:"Help"})}),c.jsx("li",{children:c.jsx("a",{className:"dropdown-link",onClick:()=>b(Nt.STUDENTPROFILE),children:"Sponsor A Student"})})]})]}),c.jsx("li",{className:"nav-item",children:c.jsx("a",{className:"nav-link",onClick:()=>e("Contact"),children:"Contact Us"})})]})}),c.jsx("div",{className:"actions-container",children:t?c.jsxs("div",{className:"user-actions",children:[c.jsx("div",{className:"donate-button donate desktop-only",children:c.jsx("a",{href:"#",className:"donate-button donate",onClick:N,children:"Donate"})}),c.jsxs("div",{className:"notification-container",ref:m,children:[c.jsxs("div",{className:"notification-icon",onClick:async()=>{i&&await y(),o(!i)},children:[u>0&&c.jsx("span",{className:"notification-badge",children:u}),i?c.jsx(cte,{size:20}):c.jsx(ute,{size:20})]}),c.jsxs("div",{className:`notifications-dropdown ${i?"active":""}`,children:[c.jsxs("div",{className:"notifications-header",children:[c.jsx("h3",{children:"Notifications"}),s.length>0&&c.jsx(pf,{size:"small",onClick:g,sx:{fontSize:"12px",fontFamily:"Poppins",color:"#f99407","&:hover":{backgroundColor:"rgba(249, 148, 7, 0.1)"}},children:"Mark all as read"})]}),c.jsx("div",{className:"notifications-list",children:s.length===0?c.jsx("div",{className:"no-notifications",children:"No notifications"}):s.map(T=>c.jsxs("div",{className:`notification-item ${T.read?"":"unread"}`,onClick:T.type==="post_like"||T.type==="comment_like"||T.type==="new_comment"||T.type.includes("post")||T.type.includes("comment")?()=>S(T):void 0,style:{cursor:T.type==="post_like"||T.type==="comment_like"||T.type==="new_comment"||T.type.includes("post")||T.type.includes("comment")?"pointer":"default"},children:[c.jsx("img",{src:T.type==="distribution"?ene:TSe(T.actor_avatar),alt:T.type==="distribution"?"Package":"User avatar",className:"notification-avatar",onError:j=>{j.target.src=Vp}}),c.jsxs("div",{className:"notification-content",children:[c.jsxs("div",{className:"notification-text-container",children:[c.jsx("p",{className:`notification-text ${T.expanded?"expanded":""}`,children:T.content}),c.jsx("button",{className:"expand-button",onClick:j=>P(T.id,j),title:T.expanded?"Show less":"Show more",children:T.expanded?c.jsx(Jte,{fontSize:"small"}):c.jsx(Qte,{fontSize:"small"})})]}),T.type==="event_reminder"&&!T.read&&c.jsxs("div",{className:"notification-actions",children:[c.jsx("div",{className:"event-confirm-action",onClick:j=>{j.stopPropagation(),k(T,!0)},children:"Yes, I'll attend"}),c.jsx("div",{className:"event-decline-action",onClick:j=>{j.stopPropagation(),k(T,!1)},children:"No, remove me"})]}),c.jsx("span",{className:"notification-time",children:ASe(new Date(T.created_at))})]})]},T.id))})]})]}),c.jsxs("div",{className:"profile-dropdown-container",ref:p,children:[c.jsx("div",{className:"profile-trigger",onClick:()=>a(!r),children:c.jsx("img",{src:t.profilePhoto||Vp,alt:"Profile",className:"profile-avatar"})}),c.jsxs("div",{className:`profile-dropdown-menu ${r?"active":""}`,children:[c.jsxs("div",{className:"profile-header",children:[c.jsx("img",{src:t.profilePhoto||Vp,alt:"Profile",className:"dropdown-avatar"}),c.jsxs("div",{className:"profile-info",children:[c.jsx("span",{className:"profile-name",children:t.name}),c.jsx("span",{className:"profile-email",children:t.email})]})]}),c.jsx("div",{className:"dropdown-item",onClick:()=>{e("Profile"),a(!1)},children:"My Profile"}),c.jsx("div",{className:"dropdown-item",onClick:()=>{e("Forum"),a(!1)},children:"Forum"}),c.jsx("div",{className:"dropdown-item",onClick:()=>{e("Settings"),a(!1)},children:"Settings"}),c.jsx("div",{className:"dropdown-item",onClick:()=>{_(),a(!1)},children:"Logout"})]})]})]}):c.jsxs("div",{className:"desktop-auth-buttons",children:[c.jsx("div",{className:"apply-scholar-button",onClick:w,children:"Apply as Scholar"}),c.jsx("div",{className:"signup-button sign-up",onClick:()=>e("Login"),children:"Sign Up"}),c.jsx("div",{className:"donate-button donate",children:c.jsx("a",{href:"#",className:"donate-button donate",onClick:N,children:"Donate"})})]})}),c.jsxs("button",{className:`hamburger ${f?"active":""}`,onClick:x,children:[c.jsx("div",{}),c.jsx("div",{}),c.jsx("div",{})]})]})},ASe=e=>{const t=Math.floor((new Date().getTime()-e.getTime())/1e3);if(t<60)return"just now";const n=Math.floor(t/60);if(n<60)return`${n}m ago`;const r=Math.floor(n/60);return r<24?`${r}h ago`:e.toLocaleDateString()},Sc=()=>{const e=E.useContext(LF);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},YS="/assets/default-avatar.DVIMpxAijpg",DSe=()=>{const{user:e,logout:t}=Sc(),n=Zr(),[r,a]=E.useState(!1),i=E.useRef(null),o=(e==null?void 0:e.role)==="staff",s=YS,[l,u]=E.useState(!1),d=g=>g?g.startsWith("data:")||g.startsWith("http")?g:`https://kmfi.netlify.app/${g}`:"",f=()=>e!=null&&e.profilePhoto?d(e.profilePhoto):s;E.useEffect(()=>{const g=y=>{i.current&&!i.current.contains(y.target)&&a(!1),l&&!y.target.closest(".nav-container")&&u(!1)};return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[l]);const h=()=>{u(!l),a(!1)},p=g=>{n(g),u(!1)},m=()=>{t(),n("/login")};return c.jsxs("header",{className:"header-container",children:[c.jsx("div",{className:"logo-container",children:c.jsx("img",{src:bj,alt:"KM Logo",className:"logo-image",onClick:()=>n("/"),style:{cursor:"pointer"}})}),c.jsx("nav",{className:`nav-container ${l?"open":""}`,children:c.jsxs("ul",{className:"nav-list",children:[c.jsxs("li",{className:"nav-item dropdown",children:[c.jsxs("div",{className:"nav-link-about",children:["About Us ",c.jsx("span",{className:"dropdown-arrow",children:""})]}),c.jsxs("ul",{className:"dropdown-menu",children:[c.jsx("li",{children:c.jsx("a",{className:"dropdown-link",onClick:()=>p("Story"),children:"Our Story"})}),c.jsx("li",{children:c.jsx("a",{className:"dropdown-link",onClick:()=>p("Partner"),children:"Partners and Sponsors"})}),c.jsx("li",{children:c.jsx("a",{className:"dropdown-link",onClick:()=>p("Team"),children:"Meet the Team"})}),c.jsx("li",{children:c.jsx("a",{className:"dropdown-link",onClick:()=>p("Events"),children:"Events"})}),c.jsx("li",{children:c.jsx("a",{className:"dropdown-link",onClick:()=>p("Map"),children:"Map"})})]})]}),c.jsx("li",{className:"nav-item",children:c.jsx("a",{className:"nav-link",onClick:()=>p("Life"),children:"Life with KM"})}),c.jsxs("li",{className:"nav-item dropdown",children:[c.jsxs("div",{className:"nav-link-testimonials",children:["Testimonials ",c.jsx("span",{className:"dropdown-arrow",children:""})]}),c.jsxs("ul",{className:"dropdown-menu",children:[c.jsx("li",{children:c.jsx("a",{className:"dropdown-link",onClick:()=>p("Graduates"),children:"Our Graduates"})}),c.jsx("li",{children:c.jsx("a",{className:"dropdown-link",onClick:()=>p("Community"),children:"Our Community"})})]})]}),c.jsxs("li",{className:"nav-item dropdown",children:[c.jsxs("div",{className:"nav-link-help",children:["How can you help? ",c.jsx("span",{className:"dropdown-arrow",children:""})]}),c.jsxs("ul",{className:"dropdown-menu",children:[c.jsx("li",{children:c.jsx("a",{className:"dropdown-link",onClick:()=>p("Help"),children:"Help"})}),c.jsx("li",{children:c.jsx("a",{className:"dropdown-link",onClick:()=>p(Nt.STUDENTPROFILE),children:"Sponsor A Student"})})]})]}),c.jsx("li",{className:"nav-item",children:c.jsx("a",{className:"nav-link",onClick:()=>n("Contact"),children:"Contact Us"})})]})}),c.jsx("div",{className:"actions-container",children:c.jsxs("div",{className:"profile-dropdown-container",ref:i,children:[c.jsxs("div",{className:"profile-trigger",onClick:()=>a(!r),children:[c.jsx("img",{src:f(),alt:(e==null?void 0:e.name)||"User",className:"admin-avatar",onError:g=>{const y=g.target;y.onerror=null,y.src=s}}),c.jsx("span",{className:"admin-name",children:e==null?void 0:e.name}),c.jsx("span",{className:"material-icons",children:"keyboard_arrow_down"})]}),c.jsxs("div",{className:`profile-dropdown-menu ${r?"active":""}`,children:[c.jsx("div",{className:"profile-header",children:c.jsxs("div",{className:"profile-info",children:[c.jsx("span",{className:"profile-name",children:e==null?void 0:e.name}),c.jsx("span",{className:"profile-roles",children:e==null?void 0:e.role})]})}),c.jsx($s,{to:o?Nt.STAFF.DASHBOARD:Nt.ADMIN.DASHBOARD,className:"dropdown-item",children:o?"Staff Dashboard":"Admin Dashboard"}),c.jsx("div",{className:"dropdown-item",onClick:()=>{n("Forum"),a(!1)},children:"Forum"}),c.jsx($s,{to:Nt.ADMIN.SETTINGS,className:"dropdown-item",children:"Settings"}),c.jsx("div",{className:"dropdown-item",onClick:m,children:"Logout"})]})]})}),c.jsxs("button",{className:`hamburger ${l?"active":""}`,onClick:h,"aria-label":"Toggle menu",children:[c.jsx("div",{}),c.jsx("div",{}),c.jsx("div",{})]})]})},OSe="/assets/footerImage.BXRfGFaipng";function MSe(e){return gn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z"}}]})(e)}function ISe(e){return gn({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M542.22 32.05c-54.8 3.11-163.72 14.43-230.96 55.59-4.64 2.84-7.27 7.89-7.27 13.17v363.87c0 11.55 12.63 18.85 23.28 13.49 69.18-34.82 169.23-44.32 218.7-46.92 16.89-.89 30.02-14.43 30.02-30.66V62.75c.01-17.71-15.35-31.74-33.77-30.7zM264.73 87.64C197.5 46.48 88.58 35.17 33.78 32.05 15.36 31.01 0 45.04 0 62.75V400.6c0 16.24 13.13 29.78 30.02 30.66 49.49 2.6 149.59 12.11 218.77 46.95 10.62 5.35 23.21-1.94 23.21-13.46V100.63c0-5.29-2.62-10.14-7.27-12.99z"}}]})(e)}function RSe(e){return gn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M352 96c0-53.02-42.98-96-96-96s-96 42.98-96 96 42.98 96 96 96 96-42.98 96-96zM233.59 241.1c-59.33-36.32-155.43-46.3-203.79-49.05C13.55 191.13 0 203.51 0 219.14v222.8c0 14.33 11.59 26.28 26.49 27.05 43.66 2.29 131.99 10.68 193.04 41.43 9.37 4.72 20.48-1.71 20.48-11.87V252.56c-.01-4.67-2.32-8.95-6.42-11.46zm248.61-49.05c-48.35 2.74-144.46 12.73-203.78 49.05-4.1 2.51-6.41 6.96-6.41 11.63v245.79c0 10.19 11.14 16.63 20.54 11.9 61.04-30.72 149.32-39.11 192.97-41.4 14.9-.78 26.49-12.73 26.49-27.06V219.14c-.01-15.63-13.56-28.01-29.81-27.09z"}}]})(e)}function pc(e){return gn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"}}]})(e)}function Dne(e){return gn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M436 160H12c-6.6 0-12-5.4-12-12v-36c0-26.5 21.5-48 48-48h48V12c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v52h128V12c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v52h48c26.5 0 48 21.5 48 48v36c0 6.6-5.4 12-12 12zM12 192h424c6.6 0 12 5.4 12 12v260c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V204c0-6.6 5.4-12 12-12zm316 140c0-6.6-5.4-12-12-12h-60v-60c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v60h-60c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h60v60c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12v-60h60c6.6 0 12-5.4 12-12v-40z"}}]})(e)}function oz(e){return gn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M332.8 320h38.4c6.4 0 12.8-6.4 12.8-12.8V172.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v134.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V76.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v230.4c0 6.4 6.4 12.8 12.8 12.8zm-288 0h38.4c6.4 0 12.8-6.4 12.8-12.8v-70.4c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v70.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V108.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v198.4c0 6.4 6.4 12.8 12.8 12.8zM496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"}}]})(e)}function FSe(e){return gn({attr:{viewBox:"0 0 544 512"},child:[{tag:"path",attr:{d:"M527.79 288H290.5l158.03 158.03c6.04 6.04 15.98 6.53 22.19.68 38.7-36.46 65.32-85.61 73.13-140.86 1.34-9.46-6.51-17.85-16.06-17.85zm-15.83-64.8C503.72 103.74 408.26 8.28 288.8.04 279.68-.59 272 7.1 272 16.24V240h223.77c9.14 0 16.82-7.68 16.19-16.8zM224 288V50.71c0-9.55-8.39-17.4-17.84-16.06C86.99 51.49-4.1 155.6.14 280.37 4.5 408.51 114.83 513.59 243.03 511.98c50.4-.63 96.97-16.87 135.26-44.03 7.9-5.6 8.42-17.23 1.57-24.08L224 288z"}}]})(e)}function LSe(e){return gn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"}}]})(e)}function KS(e){return gn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"}}]})(e)}function zc(e){return gn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"}}]})(e)}function rf(e){return gn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M240.971 130.524l194.343 194.343c9.373 9.373 9.373 24.569 0 33.941l-22.667 22.667c-9.357 9.357-24.522 9.375-33.901.04L224 227.495 69.255 381.516c-9.379 9.335-24.544 9.317-33.901-.04l-22.667-22.667c-9.373-9.373-9.373-24.569 0-33.941L207.03 130.525c9.372-9.373 24.568-9.373 33.941-.001z"}}]})(e)}function One(e){return gn({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M120 72c0-39.765 32.235-72 72-72s72 32.235 72 72c0 39.764-32.235 72-72 72s-72-32.236-72-72zm254.627 1.373c-12.496-12.497-32.758-12.497-45.254 0L242.745 160H141.254L54.627 73.373c-12.496-12.497-32.758-12.497-45.254 0-12.497 12.497-12.497 32.758 0 45.255L104 213.254V480c0 17.673 14.327 32 32 32h16c17.673 0 32-14.327 32-32V368h16v112c0 17.673 14.327 32 32 32h16c17.673 0 32-14.327 32-32V213.254l94.627-94.627c12.497-12.497 12.497-32.757 0-45.254z"}}]})(e)}function lb(e){return gn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"}}]})(e)}function Mne(e){return gn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"}}]})(e)}function sz(e){return gn({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"}}]})(e)}function $Se(e){return gn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"}}]})(e)}function bL(e){return gn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.976 0H24.028C2.71 0-8.047 25.866 7.058 40.971L192 225.941V432c0 7.831 3.821 15.17 10.237 19.662l80 55.98C298.02 518.69 320 507.493 320 487.98V225.941l184.947-184.97C520.021 25.896 509.338 0 487.976 0z"}}]})(e)}function Ine(e){return gn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M32 448c0 17.7 14.3 32 32 32h160V320H32v128zm256 32h160c17.7 0 32-14.3 32-32V320H288v160zm192-320h-42.1c6.2-12.1 10.1-25.5 10.1-40 0-48.5-39.5-88-88-88-41.6 0-68.5 21.3-103 68.3-34.5-47-61.4-68.3-103-68.3-48.5 0-88 39.5-88 88 0 14.5 3.8 27.9 10.1 40H32c-17.7 0-32 14.3-32 32v80c0 8.8 7.2 16 16 16h480c8.8 0 16-7.2 16-16v-80c0-17.7-14.3-32-32-32zm-326.1 0c-22.1 0-40-17.9-40-40s17.9-40 40-40c19.9 0 34.6 3.3 86.1 80h-86.1zm206.1 0h-86.1c51.4-76.5 65.7-80 86.1-80 22.1 0 40 17.9 40 40s-17.9 40-40 40z"}}]})(e)}function wL(e){return gn({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M622.34 153.2L343.4 67.5c-15.2-4.67-31.6-4.67-46.79 0L17.66 153.2c-23.54 7.23-23.54 38.36 0 45.59l48.63 14.94c-10.67 13.19-17.23 29.28-17.88 46.9C38.78 266.15 32 276.11 32 288c0 10.78 5.68 19.85 13.86 25.65L20.33 428.53C18.11 438.52 25.71 448 35.94 448h56.11c10.24 0 17.84-9.48 15.62-19.47L82.14 313.65C90.32 307.85 96 298.78 96 288c0-11.57-6.47-21.25-15.66-26.87.76-15.02 8.44-28.3 20.69-36.72L296.6 284.5c9.06 2.78 26.44 6.25 46.79 0l278.95-85.7c23.55-7.24 23.55-38.36 0-45.6zM352.79 315.09c-28.53 8.76-52.84 3.92-65.59 0l-145.02-44.55L128 384c0 35.35 85.96 64 192 64s192-28.65 192-64l-14.18-113.47-145.03 44.56z"}}]})(e)}function tE(e){return gn({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M275.3 250.5c7 7.4 18.4 7.4 25.5 0l108.9-114.2c31.6-33.2 29.8-88.2-5.6-118.8-30.8-26.7-76.7-21.9-104.9 7.7L288 36.9l-11.1-11.6C248.7-4.4 202.8-9.2 172 17.5c-35.3 30.6-37.2 85.6-5.6 118.8l108.9 114.2zm290 77.6c-11.8-10.7-30.2-10-42.6 0L430.3 402c-11.3 9.1-25.4 14-40 14H272c-8.8 0-16-7.2-16-16s7.2-16 16-16h78.3c15.9 0 30.7-10.9 33.3-26.6 3.3-20-12.1-37.4-31.6-37.4H192c-27 0-53.1 9.3-74.1 26.3L71.4 384H16c-8.8 0-16 7.2-16 16v96c0 8.8 7.2 16 16 16h356.8c14.5 0 28.6-4.9 40-14L564 377c15.2-12.1 16.4-35.3 1.3-48.9z"}}]})(e)}function BSe(e){return gn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M192 208c0-17.67-14.33-32-32-32h-16c-35.35 0-64 28.65-64 64v48c0 35.35 28.65 64 64 64h16c17.67 0 32-14.33 32-32V208zm176 144c35.35 0 64-28.65 64-64v-48c0-35.35-28.65-64-64-64h-16c-17.67 0-32 14.33-32 32v112c0 17.67 14.33 32 32 32h16zM256 0C113.18 0 4.58 118.83 0 256v16c0 8.84 7.16 16 16 16h16c8.84 0 16-7.16 16-16v-16c0-114.69 93.31-208 208-208s208 93.31 208 208h-.12c.08 2.43.12 165.72.12 165.72 0 23.35-18.93 42.28-42.28 42.28H320c0-26.51-21.49-48-48-48h-32c-26.51 0-48 21.49-48 48s21.49 48 48 48h181.72c49.86 0 90.28-40.42 90.28-90.28V256C507.42 118.83 398.82 0 256 0z"}}]})(e)}function Rne(e){return gn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"}}]})(e)}function qp(e){return gn({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"}}]})(e)}function zSe(e){return gn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497.39 361.8l-112-48a24 24 0 0 0-28 6.9l-49.6 60.6A370.66 370.66 0 0 1 130.6 204.11l60.6-49.6a23.94 23.94 0 0 0 6.9-28l-48-112A24.16 24.16 0 0 0 122.6.61l-104 24A24 24 0 0 0 0 48c0 256.5 207.9 464 464 464a24 24 0 0 0 23.4-18.6l24-104a24.29 24.29 0 0 0-14.01-27.6z"}}]})(e)}function USe(e){return gn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"}}]})(e)}function lz(e){return gn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zM160 368c0 8.84-7.16 16-16 16h-32c-8.84 0-16-7.16-16-16V240c0-8.84 7.16-16 16-16h32c8.84 0 16 7.16 16 16v128zm96 0c0 8.84-7.16 16-16 16h-32c-8.84 0-16-7.16-16-16V144c0-8.84 7.16-16 16-16h32c8.84 0 16 7.16 16 16v224zm96 0c0 8.84-7.16 16-16 16h-32c-8.84 0-16-7.16-16-16v-64c0-8.84 7.16-16 16-16h32c8.84 0 16 7.16 16 16v64z"}}]})(e)}function Fne(e){return gn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M448 192V77.25c0-8.49-3.37-16.62-9.37-22.63L393.37 9.37c-6-6-14.14-9.37-22.63-9.37H96C78.33 0 64 14.33 64 32v160c-35.35 0-64 28.65-64 64v112c0 8.84 7.16 16 16 16h48v96c0 17.67 14.33 32 32 32h320c17.67 0 32-14.33 32-32v-96h48c8.84 0 16-7.16 16-16V256c0-35.35-28.65-64-64-64zm-64 256H128v-96h256v96zm0-224H128V64h192v48c0 8.84 7.16 16 16 16h48v96zm48 72c-13.25 0-24-10.75-24-24 0-13.26 10.75-24 24-24s24 10.74 24 24c0 13.25-10.75 24-24 24z"}}]})(e)}function WSe(e){return gn({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M0 224v272c0 8.84 7.16 16 16 16h80V192H32c-17.67 0-32 14.33-32 32zm360-48h-24v-40c0-4.42-3.58-8-8-8h-16c-4.42 0-8 3.58-8 8v64c0 4.42 3.58 8 8 8h48c4.42 0 8-3.58 8-8v-16c0-4.42-3.58-8-8-8zm137.75-63.96l-160-106.67a32.02 32.02 0 0 0-35.5 0l-160 106.67A32.002 32.002 0 0 0 128 138.66V512h128V368c0-8.84 7.16-16 16-16h96c8.84 0 16 7.16 16 16v144h128V138.67c0-10.7-5.35-20.7-14.25-26.63zM320 256c-44.18 0-80-35.82-80-80s35.82-80 80-80 80 35.82 80 80-35.82 80-80 80zm288-64h-64v320h80c8.84 0 16-7.16 16-16V224c0-17.67-14.33-32-32-32z"}}]})(e)}function VSe(e){return gn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"}}]})(e)}function HSe(e){return gn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M503.691 189.836L327.687 37.851C312.281 24.546 288 35.347 288 56.015v80.053C127.371 137.907 0 170.1 0 322.326c0 61.441 39.581 122.309 83.333 154.132 13.653 9.931 33.111-2.533 28.077-18.631C66.066 312.814 132.917 274.316 288 272.085V360c0 20.7 24.3 31.453 39.687 18.164l176.004-152c11.071-9.562 11.086-26.753 0-36.328z"}}]})(e)}function N3(e){return gn({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"}}]})(e)}function Of(e){return gn({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"}}]})(e)}function cz(e){return gn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z"}}]})(e)}function LA(e){return gn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"}}]})(e)}function qSe(e){return gn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 128v16a8 8 0 0 1-8 8h-24v12c0 6.627-5.373 12-12 12H60c-6.627 0-12-5.373-12-12v-12H24a8 8 0 0 1-8-8v-16a8 8 0 0 1 4.941-7.392l232-88a7.996 7.996 0 0 1 6.118 0l232 88A8 8 0 0 1 496 128zm-24 304H40c-13.255 0-24 10.745-24 24v16a8 8 0 0 0 8 8h464a8 8 0 0 0 8-8v-16c0-13.255-10.745-24-24-24zM96 192v192H60c-6.627 0-12 5.373-12 12v20h416v-20c0-6.627-5.373-12-12-12h-36V192h-64v192h-64V192h-64v192h-64V192H96z"}}]})(e)}function GSe(e){return gn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M296 384h-80c-13.3 0-24-10.7-24-24V192h-87.7c-17.8 0-26.7-21.5-14.1-34.1L242.3 5.7c7.5-7.5 19.8-7.5 27.3 0l152.2 152.2c12.6 12.6 3.7 34.1-14.1 34.1H320v168c0 13.3-10.7 24-24 24zm216-8v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h136v8c0 30.9 25.1 56 56 56h80c30.9 0 56-25.1 56-56v-8h136c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"}}]})(e)}function Lne(e){return gn({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"}}]})(e)}function YSe(e){return gn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M319.4 320.6L224 416l-95.4-95.4C57.1 323.7 0 382.2 0 454.4v9.6c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-9.6c0-72.2-57.1-130.7-128.6-133.8zM13.6 79.8l6.4 1.5v58.4c-7 4.2-12 11.5-12 20.3 0 8.4 4.6 15.4 11.1 19.7L3.5 242c-1.7 6.9 2.1 14 7.6 14h41.8c5.5 0 9.3-7.1 7.6-14l-15.6-62.3C51.4 175.4 56 168.4 56 160c0-8.8-5-16.1-12-20.3V87.1l66 15.9c-8.6 17.2-14 36.4-14 57 0 70.7 57.3 128 128 128s128-57.3 128-128c0-20.6-5.3-39.8-14-57l96.3-23.2c18.2-4.4 18.2-27.1 0-31.5l-190.4-46c-13-3.1-26.7-3.1-39.7 0L13.6 48.2c-18.1 4.4-18.1 27.2 0 31.6z"}}]})(e)}function KSe(e){return gn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"}}]})(e)}function cb(e){return gn({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"}}]})(e)}const XSe=()=>{const e=Zr(),t=()=>{e(Nt.CONTACT),setTimeout(()=>{window.scrollTo({top:0,behavior:"smooth"})},100)},n=()=>{e(`${Nt.HELP}?tab=donate`),setTimeout(()=>{const a=document.querySelector(".donation-form-container");a&&a.scrollIntoView({behavior:"smooth"})},500)},r=[{icon:c.jsx(tE,{size:24}),label:"Non Profits",path:Nt.HELP},{icon:c.jsx(Rne,{size:24}),label:"About Us",path:Nt.HELP},{icon:c.jsx(BSe,{size:24}),label:"Support",path:Nt.HELP},{icon:c.jsx(HSe,{size:24}),label:"Social",path:Nt.HELP}];return c.jsxs("footer",{children:[c.jsxs("div",{className:"footerimage",children:[c.jsx("img",{src:OSe,alt:"Banner",className:"footer-image"}),c.jsxs("div",{className:"footertext",children:[c.jsx("h2",{className:"footerbanner",children:"Much in Little"}),c.jsx("h3",{className:"h3-footerbanner",children:"Every donation, no matter the size, helps change lives. Join us in making a difference, one step at a time."}),c.jsx("button",{className:"h3-donatebutton",onClick:n,children:"Donate Now"})]})]}),c.jsxs("div",{className:"footer-div",children:[c.jsx("div",{className:"footer-divider",children:c.jsxs("div",{className:"help",children:[c.jsx("h1",{className:"footercreds",children:"Need Help?"}),c.jsx("h5",{className:"h5-footercreds",children:"If you have further questions or need any assistance, please get in touch with our team and we will gladly assist you."}),c.jsx("div",{className:"contact-us-btn",onClick:t,children:"Contact Us"})]})}),c.jsxs("div",{className:"footer-container",children:[c.jsxs("div",{className:"footer-column",children:[c.jsx("h4",{children:"Non Profits"}),c.jsxs("ul",{children:[c.jsx("li",{children:"lorem ipsum"}),c.jsx("li",{children:"lorem ipsum"}),c.jsx("li",{children:"lorem ipsum"}),c.jsx("li",{children:"lorem ipsum"})]})]}),c.jsxs("div",{className:"footer-column",children:[c.jsx("h4",{children:"About Us"}),c.jsxs("ul",{children:[c.jsx("li",{children:"Our Story"}),c.jsx("li",{children:"Partners and Sponsors"}),c.jsx("li",{children:"Meet the Team"}),c.jsx("li",{children:"Events"})]})]}),c.jsxs("div",{className:"footer-column",children:[c.jsx("h4",{children:"Support"}),c.jsxs("ul",{children:[c.jsx("li",{children:"lorem ipsum"}),c.jsx("li",{children:"lorem ipsum"}),c.jsx("li",{children:"lorem ipsum"}),c.jsx("li",{children:"lorem ipsum"})]})]}),c.jsxs("div",{className:"footer-column",children:[c.jsx("h4",{children:"Social Media"}),c.jsxs("ul",{children:[c.jsx("li",{children:"Facebook"}),c.jsx("li",{children:"Instagram"}),c.jsx("li",{children:"Youtube"})]})]}),c.jsx("div",{className:"footer-links-grid",children:r.map(a=>c.jsxs($s,{to:a.path,className:"footer-link-item",children:[a.icon,c.jsx("span",{className:"footer-link-label",children:a.label})]},a.label))})]})]})]})},ZSe=()=>{const e=Zr(),{user:t}=Sc(),n=(t==null?void 0:t.role)==="admin"||(t==null?void 0:t.role)==="staff",r=a=>{e(a)};return c.jsxs("div",{className:"layout-container",style:{isolation:"isolate"},children:[n?c.jsx(DSe,{}):c.jsx(PSe,{onNavigate:r}),c.jsx("main",{className:"main-content",children:c.jsx(ate,{})}),c.jsx(XSe,{})]})},QSe="https://kkmkpayatas.onrender.com/api",Le=Nn.create({baseURL:QSe,withCredentials:!0,headers:{"Content-Type":"application/json",Accept:"application/json"}});Le.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));Le.interceptors.response.use(e=>e,e=>{var t;return((t=e.response)==null?void 0:t.status)===401&&(localStorage.removeItem("token"),window.location.href="/login"),Promise.reject(e)});const $ne=e=>e.scrollTop;function Yv(e,t){const{timeout:n,easing:r,style:a={}}=e;return{duration:a.transitionDuration??(typeof n=="number"?n:n[t.mode]||0),easing:a.transitionTimingFunction??(typeof r=="object"?r[t.mode]:r),delay:a.transitionDelay}}function JSe(e){return Mn("MuiCollapse",e)}jn("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const eCe=e=>{const{orientation:t,classes:n}=e,r={root:["root",`${t}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${t}`],wrapperInner:["wrapperInner",`${t}`]};return On(r,JSe,n)},tCe=Ot("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.orientation],n.state==="entered"&&t.entered,n.state==="exited"&&!n.in&&n.collapsedSize==="0px"&&t.hidden]}})(Jn(({theme:e})=>({height:0,overflow:"hidden",transition:e.transitions.create("height"),variants:[{props:{orientation:"horizontal"},style:{height:"auto",width:0,transition:e.transitions.create("width")}},{props:{state:"entered"},style:{height:"auto",overflow:"visible"}},{props:{state:"entered",orientation:"horizontal"},style:{width:"auto"}},{props:({ownerState:t})=>t.state==="exited"&&!t.in&&t.collapsedSize==="0px",style:{visibility:"hidden"}}]}))),nCe=Ot("div",{name:"MuiCollapse",slot:"Wrapper"})({display:"flex",width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),rCe=Ot("div",{name:"MuiCollapse",slot:"WrapperInner"})({width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),k3=E.forwardRef(function(t,n){const r=Fn({props:t,name:"MuiCollapse"}),{addEndListener:a,children:i,className:o,collapsedSize:s="0px",component:l,easing:u,in:d,onEnter:f,onEntered:h,onEntering:p,onExit:m,onExited:g,onExiting:y,orientation:x="vertical",style:b,timeout:w=Hte.standard,TransitionComponent:_=Il,...S}=r,k={...r,orientation:x,collapsedSize:s},N=eCe(k),P=Tm(),T=Af(),j=E.useRef(null),D=E.useRef(),M=typeof s=="number"?`${s}px`:s,R=x==="horizontal",W=R?"width":"height",B=E.useRef(null),V=Ga(n,B),q=Z=>se=>{if(Z){const ae=B.current;se===void 0?Z(ae):Z(ae,se)}},I=()=>j.current?j.current[R?"clientWidth":"clientHeight"]:0,O=q((Z,se)=>{j.current&&R&&(j.current.style.position="absolute"),Z.style[W]=M,f&&f(Z,se)}),H=q((Z,se)=>{const ae=I();j.current&&R&&(j.current.style.position="");const{duration:Y,easing:X}=Yv({style:b,timeout:w,easing:u},{mode:"enter"});if(w==="auto"){const K=P.transitions.getAutoHeightDuration(ae);Z.style.transitionDuration=`${K}ms`,D.current=K}else Z.style.transitionDuration=typeof Y=="string"?Y:`${Y}ms`;Z.style[W]=`${ae}px`,Z.style.transitionTimingFunction=X,p&&p(Z,se)}),ne=q((Z,se)=>{Z.style[W]="auto",h&&h(Z,se)}),z=q(Z=>{Z.style[W]=`${I()}px`,m&&m(Z)}),J=q(g),ee=q(Z=>{const se=I(),{duration:ae,easing:Y}=Yv({style:b,timeout:w,easing:u},{mode:"exit"});if(w==="auto"){const X=P.transitions.getAutoHeightDuration(se);Z.style.transitionDuration=`${X}ms`,D.current=X}else Z.style.transitionDuration=typeof ae=="string"?ae:`${ae}ms`;Z.style[W]=M,Z.style.transitionTimingFunction=Y,y&&y(Z)}),G=Z=>{w==="auto"&&T.start(D.current||0,Z),a&&a(B.current,Z)};return c.jsx(_,{in:d,onEnter:O,onEntered:ne,onEntering:H,onExit:z,onExited:J,onExiting:ee,addEndListener:G,nodeRef:B,timeout:w==="auto"?null:w,...S,children:(Z,{ownerState:se,...ae})=>c.jsx(tCe,{as:l,className:Tt(N.root,o,{entered:N.entered,exited:!d&&M==="0px"&&N.hidden}[Z]),style:{[R?"minWidth":"minHeight"]:M,...b},ref:V,ownerState:{...k,state:Z},...ae,children:c.jsx(nCe,{ownerState:{...k,state:Z},className:N.wrapper,ref:j,children:c.jsx(rCe,{ownerState:{...k,state:Z},className:N.wrapperInner,children:i})})})})});k3&&(k3.muiSupportAuto=!0);function aCe(e){return Mn("MuiPaper",e)}jn("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const iCe=e=>{const{square:t,elevation:n,variant:r,classes:a}=e,i={root:["root",r,!t&&"rounded",r==="elevation"&&`elevation${n}`]};return On(i,aCe,a)},oCe=Ot("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],!n.square&&t.rounded,n.variant==="elevation"&&t[`elevation${n.elevation}`]]}})(Jn(({theme:e})=>({backgroundColor:(e.vars||e).palette.background.paper,color:(e.vars||e).palette.text.primary,transition:e.transitions.create("box-shadow"),variants:[{props:({ownerState:t})=>!t.square,style:{borderRadius:e.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(e.vars||e).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),K0=E.forwardRef(function(t,n){var p;const r=Fn({props:t,name:"MuiPaper"}),a=Tm(),{className:i,component:o="div",elevation:s=1,square:l=!1,variant:u="elevation",...d}=r,f={...r,component:o,elevation:s,square:l,variant:u},h=iCe(f);return c.jsx(oCe,{as:o,ownerState:f,className:Tt(h.root,i),ref:n,...d,style:{...u==="elevation"&&{"--Paper-shadow":(a.vars||a).shadows[s],...a.vars&&{"--Paper-overlay":(p=a.vars.overlays)==null?void 0:p[s]},...!a.vars&&a.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${Da("#fff",h3(s))}, ${Da("#fff",h3(s))})`}},...d.style}})});function sCe(e){return typeof e=="string"}function Bne(e,t,n){return e===void 0||sCe(e)?t:{...t,ownerState:{...t.ownerState,...n}}}function zne(e,t,n){return typeof e=="function"?e(t,n):e}function nE(e,t=[]){if(e===void 0)return{};const n={};return Object.keys(e).filter(r=>r.match(/^on[A-Z]/)&&typeof e[r]=="function"&&!t.includes(r)).forEach(r=>{n[r]=e[r]}),n}function uz(e){if(e===void 0)return{};const t={};return Object.keys(e).filter(n=>!(n.match(/^on[A-Z]/)&&typeof e[n]=="function")).forEach(n=>{t[n]=e[n]}),t}function Une(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:r,externalForwardedProps:a,className:i}=e;if(!t){const p=Tt(n==null?void 0:n.className,i,a==null?void 0:a.className,r==null?void 0:r.className),m={...n==null?void 0:n.style,...a==null?void 0:a.style,...r==null?void 0:r.style},g={...n,...a,...r};return p.length>0&&(g.className=p),Object.keys(m).length>0&&(g.style=m),{props:g,internalRef:void 0}}const o=nE({...a,...r}),s=uz(r),l=uz(a),u=t(o),d=Tt(u==null?void 0:u.className,n==null?void 0:n.className,i,a==null?void 0:a.className,r==null?void 0:r.className),f={...u==null?void 0:u.style,...n==null?void 0:n.style,...a==null?void 0:a.style,...r==null?void 0:r.style},h={...u,...n,...l,...s};return d.length>0&&(h.className=d),Object.keys(f).length>0&&(h.style=f),{props:h,internalRef:u.ref}}function kn(e,t){const{className:n,elementType:r,ownerState:a,externalForwardedProps:i,internalForwardedProps:o,shouldForwardComponentProp:s=!1,...l}=t,{component:u,slots:d={[e]:void 0},slotProps:f={[e]:void 0},...h}=i,p=d[e]||r,m=zne(f[e],a),{props:{component:g,...y},internalRef:x}=Une({className:n,...l,externalForwardedProps:e==="root"?h:void 0,externalSlotProps:m}),b=Ga(x,m==null?void 0:m.ref,t.ref),w=e==="root"?g||u:g,_=Bne(p,{...e==="root"&&!u&&!d[e]&&o,...e!=="root"&&!d[e]&&o,...y,...w&&!s&&{as:w},...w&&s&&{component:w},ref:b},a);return[p,_]}function lCe(e){return Mn("MuiAlert",e)}const dz=jn("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]);function cCe(e){return Mn("MuiIconButton",e)}const fz=jn("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),uCe=e=>{const{classes:t,disabled:n,color:r,edge:a,size:i,loading:o}=e,s={root:["root",o&&"loading",n&&"disabled",r!=="default"&&`color${bt(r)}`,a&&`edge${bt(a)}`,`size${bt(i)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return On(s,cCe,t)},dCe=Ot(ZC,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.loading&&t.loading,n.color!=="default"&&t[`color${bt(n.color)}`],n.edge&&t[`edge${bt(n.edge)}`],t[`size${bt(n.size)}`]]}})(Jn(({theme:e})=>({textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(e.vars||e).palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),variants:[{props:t=>!t.disableRipple,style:{"--IconButton-hoverBg":e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:Da(e.palette.action.active,e.palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),Jn(({theme:e})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(e.palette).filter(Zi()).map(([t])=>({props:{color:t},style:{color:(e.vars||e).palette[t].main}})),...Object.entries(e.palette).filter(Zi()).map(([t])=>({props:{color:t},style:{"--IconButton-hoverBg":e.vars?`rgba(${(e.vars||e).palette[t].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Da((e.vars||e).palette[t].main,e.palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:e.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:e.typography.pxToRem(28)}}],[`&.${fz.disabled}`]:{backgroundColor:"transparent",color:(e.vars||e).palette.action.disabled},[`&.${fz.loading}`]:{color:"transparent"}}))),fCe=Ot("span",{name:"MuiIconButton",slot:"LoadingIndicator"})(({theme:e})=>({display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(e.vars||e).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]})),fv=E.forwardRef(function(t,n){const r=Fn({props:t,name:"MuiIconButton"}),{edge:a=!1,children:i,className:o,color:s="default",disabled:l=!1,disableFocusRipple:u=!1,size:d="medium",id:f,loading:h=null,loadingIndicator:p,...m}=r,g=q0(f),y=p??c.jsx(gL,{"aria-labelledby":g,color:"inherit",size:16}),x={...r,edge:a,color:s,disabled:l,disableFocusRipple:u,loading:h,loadingIndicator:y,size:d},b=uCe(x);return c.jsxs(dCe,{id:h?g:f,className:Tt(b.root,o),centerRipple:!0,focusRipple:!u,disabled:l||h,ref:n,...m,ownerState:x,children:[typeof h=="boolean"&&c.jsx("span",{className:b.loadingWrapper,style:{display:"contents"},children:c.jsx(fCe,{className:b.loadingIndicator,ownerState:x,children:h&&y})}),i]})}),hCe=xr(c.jsx("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"})),pCe=xr(c.jsx("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"})),mCe=xr(c.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"})),gCe=xr(c.jsx("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"})),vCe=xr(c.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),yCe=e=>{const{variant:t,color:n,severity:r,classes:a}=e,i={root:["root",`color${bt(n||r)}`,`${t}${bt(n||r)}`,`${t}`],icon:["icon"],message:["message"],action:["action"]};return On(i,lCe,a)},xCe=Ot(K0,{name:"MuiAlert",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`${n.variant}${bt(n.color||n.severity)}`]]}})(Jn(({theme:e})=>{const t=e.palette.mode==="light"?ab:ib,n=e.palette.mode==="light"?ib:ab;return{...e.typography.body2,backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(e.palette).filter(Zi(["light"])).map(([r])=>({props:{colorSeverity:r,variant:"standard"},style:{color:e.vars?e.vars.palette.Alert[`${r}Color`]:t(e.palette[r].light,.6),backgroundColor:e.vars?e.vars.palette.Alert[`${r}StandardBg`]:n(e.palette[r].light,.9),[`& .${dz.icon}`]:e.vars?{color:e.vars.palette.Alert[`${r}IconColor`]}:{color:e.palette[r].main}}})),...Object.entries(e.palette).filter(Zi(["light"])).map(([r])=>({props:{colorSeverity:r,variant:"outlined"},style:{color:e.vars?e.vars.palette.Alert[`${r}Color`]:t(e.palette[r].light,.6),border:`1px solid ${(e.vars||e).palette[r].light}`,[`& .${dz.icon}`]:e.vars?{color:e.vars.palette.Alert[`${r}IconColor`]}:{color:e.palette[r].main}}})),...Object.entries(e.palette).filter(Zi(["dark"])).map(([r])=>({props:{colorSeverity:r,variant:"filled"},style:{fontWeight:e.typography.fontWeightMedium,...e.vars?{color:e.vars.palette.Alert[`${r}FilledColor`],backgroundColor:e.vars.palette.Alert[`${r}FilledBg`]}:{backgroundColor:e.palette.mode==="dark"?e.palette[r].dark:e.palette[r].main,color:e.palette.getContrastText(e.palette[r].main)}}}))]}})),bCe=Ot("div",{name:"MuiAlert",slot:"Icon"})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),wCe=Ot("div",{name:"MuiAlert",slot:"Message"})({padding:"8px 0",minWidth:0,overflow:"auto"}),_Ce=Ot("div",{name:"MuiAlert",slot:"Action"})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),hz={success:c.jsx(hCe,{fontSize:"inherit"}),warning:c.jsx(pCe,{fontSize:"inherit"}),error:c.jsx(mCe,{fontSize:"inherit"}),info:c.jsx(gCe,{fontSize:"inherit"})},pz=E.forwardRef(function(t,n){const r=Fn({props:t,name:"MuiAlert"}),{action:a,children:i,className:o,closeText:s="Close",color:l,components:u={},componentsProps:d={},icon:f,iconMapping:h=hz,onClose:p,role:m="alert",severity:g="success",slotProps:y={},slots:x={},variant:b="standard",...w}=r,_={...r,color:l,severity:g,variant:b,colorSeverity:l||g},S=yCe(_),k={slots:{closeButton:u.CloseButton,closeIcon:u.CloseIcon,...x},slotProps:{...d,...y}},[N,P]=kn("root",{ref:n,shouldForwardComponentProp:!0,className:Tt(S.root,o),elementType:xCe,externalForwardedProps:{...k,...w},ownerState:_,additionalProps:{role:m,elevation:0}}),[T,j]=kn("icon",{className:S.icon,elementType:bCe,externalForwardedProps:k,ownerState:_}),[D,M]=kn("message",{className:S.message,elementType:wCe,externalForwardedProps:k,ownerState:_}),[R,W]=kn("action",{className:S.action,elementType:_Ce,externalForwardedProps:k,ownerState:_}),[B,V]=kn("closeButton",{elementType:fv,externalForwardedProps:k,ownerState:_}),[q,I]=kn("closeIcon",{elementType:vCe,externalForwardedProps:k,ownerState:_});return c.jsxs(N,{...P,children:[f!==!1?c.jsx(T,{...j,children:f||h[g]||hz[g]}):null,c.jsx(D,{...M,children:i}),a!=null?c.jsx(R,{...W,children:a}):null,a==null&&p?c.jsx(R,{...W,children:c.jsx(B,{size:"small","aria-label":s,title:s,color:"inherit",onClick:p,...V,children:c.jsx(q,{fontSize:"small",...I})})}):null]})});function SCe(e){return Mn("MuiTypography",e)}const mz=jn("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]),CCe={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},ECe=e2e(),NCe=e=>{const{align:t,gutterBottom:n,noWrap:r,paragraph:a,variant:i,classes:o}=e,s={root:["root",i,e.align!=="inherit"&&`align${bt(t)}`,n&&"gutterBottom",r&&"noWrap",a&&"paragraph"]};return On(s,SCe,o)},kCe=Ot("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.variant&&t[n.variant],n.align!=="inherit"&&t[`align${bt(n.align)}`],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})(Jn(({theme:e})=>{var t;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(e.typography).filter(([n,r])=>n!=="inherit"&&r&&typeof r=="object").map(([n,r])=>({props:{variant:n},style:r})),...Object.entries(e.palette).filter(Zi()).map(([n])=>({props:{color:n},style:{color:(e.vars||e).palette[n].main}})),...Object.entries(((t=e.palette)==null?void 0:t.text)||{}).filter(([,n])=>typeof n=="string").map(([n])=>({props:{color:`text${bt(n)}`},style:{color:(e.vars||e).palette.text[n]}})),{props:({ownerState:n})=>n.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:n})=>n.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:n})=>n.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:n})=>n.paragraph,style:{marginBottom:16}}]}})),gz={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},fa=E.forwardRef(function(t,n){const{color:r,...a}=Fn({props:t,name:"MuiTypography"}),i=!CCe[r],o=ECe({...a,...i&&{color:r}}),{align:s="inherit",className:l,component:u,gutterBottom:d=!1,noWrap:f=!1,paragraph:h=!1,variant:p="body1",variantMapping:m=gz,...g}=o,y={...o,align:s,color:r,className:l,component:u,gutterBottom:d,noWrap:f,paragraph:h,variant:p,variantMapping:m},x=u||(h?"p":m[p]||gz[p])||"span",b=NCe(y);return c.jsx(kCe,{as:x,ref:n,className:Tt(b.root,l),...g,ownerState:y,style:{...s!=="inherit"&&{"--Typography-textAlign":s},...g.style}})}),Wne=e=>{const t=E.useRef({});return E.useEffect(()=>{t.current=e}),t.current};var is="top",jl="bottom",Tl="right",os="left",_L="auto",Hw=[is,jl,Tl,os],Kv="start",ub="end",jCe="clippingParents",Vne="viewport",zy="popper",TCe="reference",vz=Hw.reduce(function(e,t){return e.concat([t+"-"+Kv,t+"-"+ub])},[]),Hne=[].concat(Hw,[_L]).reduce(function(e,t){return e.concat([t,t+"-"+Kv,t+"-"+ub])},[]),PCe="beforeRead",ACe="read",DCe="afterRead",OCe="beforeMain",MCe="main",ICe="afterMain",RCe="beforeWrite",FCe="write",LCe="afterWrite",$Ce=[PCe,ACe,DCe,OCe,MCe,ICe,RCe,FCe,LCe];function ku(e){return e?(e.nodeName||"").toLowerCase():null}function Bs(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function pm(e){var t=Bs(e).Element;return e instanceof t||e instanceof Element}function El(e){var t=Bs(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function SL(e){if(typeof ShadowRoot>"u")return!1;var t=Bs(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function BCe(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var r=t.styles[n]||{},a=t.attributes[n]||{},i=t.elements[n];!El(i)||!ku(i)||(Object.assign(i.style,r),Object.keys(a).forEach(function(o){var s=a[o];s===!1?i.removeAttribute(o):i.setAttribute(o,s===!0?"":s)}))})}function zCe(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(r){var a=t.elements[r],i=t.attributes[r]||{},o=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:n[r]),s=o.reduce(function(l,u){return l[u]="",l},{});!El(a)||!ku(a)||(Object.assign(a.style,s),Object.keys(i).forEach(function(l){a.removeAttribute(l)}))})}}const UCe={name:"applyStyles",enabled:!0,phase:"write",fn:BCe,effect:zCe,requires:["computeStyles"]};function hu(e){return e.split("-")[0]}var Gp=Math.max,rE=Math.min,Xv=Math.round;function j3(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function qne(){return!/^((?!chrome|android).)*safari/i.test(j3())}function Zv(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var r=e.getBoundingClientRect(),a=1,i=1;t&&El(e)&&(a=e.offsetWidth>0&&Xv(r.width)/e.offsetWidth||1,i=e.offsetHeight>0&&Xv(r.height)/e.offsetHeight||1);var o=pm(e)?Bs(e):window,s=o.visualViewport,l=!qne()&&n,u=(r.left+(l&&s?s.offsetLeft:0))/a,d=(r.top+(l&&s?s.offsetTop:0))/i,f=r.width/a,h=r.height/i;return{width:f,height:h,top:d,right:u+f,bottom:d+h,left:u,x:u,y:d}}function CL(e){var t=Zv(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function Gne(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&SL(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Pd(e){return Bs(e).getComputedStyle(e)}function WCe(e){return["table","td","th"].indexOf(ku(e))>=0}function jh(e){return((pm(e)?e.ownerDocument:e.document)||window.document).documentElement}function Aj(e){return ku(e)==="html"?e:e.assignedSlot||e.parentNode||(SL(e)?e.host:null)||jh(e)}function yz(e){return!El(e)||Pd(e).position==="fixed"?null:e.offsetParent}function VCe(e){var t=/firefox/i.test(j3()),n=/Trident/i.test(j3());if(n&&El(e)){var r=Pd(e);if(r.position==="fixed")return null}var a=Aj(e);for(SL(a)&&(a=a.host);El(a)&&["html","body"].indexOf(ku(a))<0;){var i=Pd(a);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||t&&i.willChange==="filter"||t&&i.filter&&i.filter!=="none")return a;a=a.parentNode}return null}function qw(e){for(var t=Bs(e),n=yz(e);n&&WCe(n)&&Pd(n).position==="static";)n=yz(n);return n&&(ku(n)==="html"||ku(n)==="body"&&Pd(n).position==="static")?t:n||VCe(e)||t}function EL(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Xx(e,t,n){return Gp(e,rE(t,n))}function HCe(e,t,n){var r=Xx(e,t,n);return r>n?n:r}function Yne(){return{top:0,right:0,bottom:0,left:0}}function Kne(e){return Object.assign({},Yne(),e)}function Xne(e,t){return t.reduce(function(n,r){return n[r]=e,n},{})}var qCe=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,Kne(typeof t!="number"?t:Xne(t,Hw))};function GCe(e){var t,n=e.state,r=e.name,a=e.options,i=n.elements.arrow,o=n.modifiersData.popperOffsets,s=hu(n.placement),l=EL(s),u=[os,Tl].indexOf(s)>=0,d=u?"height":"width";if(!(!i||!o)){var f=qCe(a.padding,n),h=CL(i),p=l==="y"?is:os,m=l==="y"?jl:Tl,g=n.rects.reference[d]+n.rects.reference[l]-o[l]-n.rects.popper[d],y=o[l]-n.rects.reference[l],x=qw(i),b=x?l==="y"?x.clientHeight||0:x.clientWidth||0:0,w=g/2-y/2,_=f[p],S=b-h[d]-f[m],k=b/2-h[d]/2+w,N=Xx(_,k,S),P=l;n.modifiersData[r]=(t={},t[P]=N,t.centerOffset=N-k,t)}}function YCe(e){var t=e.state,n=e.options,r=n.element,a=r===void 0?"[data-popper-arrow]":r;a!=null&&(typeof a=="string"&&(a=t.elements.popper.querySelector(a),!a)||Gne(t.elements.popper,a)&&(t.elements.arrow=a))}const KCe={name:"arrow",enabled:!0,phase:"main",fn:GCe,effect:YCe,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Qv(e){return e.split("-")[1]}var XCe={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ZCe(e,t){var n=e.x,r=e.y,a=t.devicePixelRatio||1;return{x:Xv(n*a)/a||0,y:Xv(r*a)/a||0}}function xz(e){var t,n=e.popper,r=e.popperRect,a=e.placement,i=e.variation,o=e.offsets,s=e.position,l=e.gpuAcceleration,u=e.adaptive,d=e.roundOffsets,f=e.isFixed,h=o.x,p=h===void 0?0:h,m=o.y,g=m===void 0?0:m,y=typeof d=="function"?d({x:p,y:g}):{x:p,y:g};p=y.x,g=y.y;var x=o.hasOwnProperty("x"),b=o.hasOwnProperty("y"),w=os,_=is,S=window;if(u){var k=qw(n),N="clientHeight",P="clientWidth";if(k===Bs(n)&&(k=jh(n),Pd(k).position!=="static"&&s==="absolute"&&(N="scrollHeight",P="scrollWidth")),k=k,a===is||(a===os||a===Tl)&&i===ub){_=jl;var T=f&&k===S&&S.visualViewport?S.visualViewport.height:k[N];g-=T-r.height,g*=l?1:-1}if(a===os||(a===is||a===jl)&&i===ub){w=Tl;var j=f&&k===S&&S.visualViewport?S.visualViewport.width:k[P];p-=j-r.width,p*=l?1:-1}}var D=Object.assign({position:s},u&&XCe),M=d===!0?ZCe({x:p,y:g},Bs(n)):{x:p,y:g};if(p=M.x,g=M.y,l){var R;return Object.assign({},D,(R={},R[_]=b?"0":"",R[w]=x?"0":"",R.transform=(S.devicePixelRatio||1)<=1?"translate("+p+"px, "+g+"px)":"translate3d("+p+"px, "+g+"px, 0)",R))}return Object.assign({},D,(t={},t[_]=b?g+"px":"",t[w]=x?p+"px":"",t.transform="",t))}function QCe(e){var t=e.state,n=e.options,r=n.gpuAcceleration,a=r===void 0?!0:r,i=n.adaptive,o=i===void 0?!0:i,s=n.roundOffsets,l=s===void 0?!0:s,u={placement:hu(t.placement),variation:Qv(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:a,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,xz(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,xz(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const JCe={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:QCe,data:{}};var c_={passive:!0};function eEe(e){var t=e.state,n=e.instance,r=e.options,a=r.scroll,i=a===void 0?!0:a,o=r.resize,s=o===void 0?!0:o,l=Bs(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&u.forEach(function(d){d.addEventListener("scroll",n.update,c_)}),s&&l.addEventListener("resize",n.update,c_),function(){i&&u.forEach(function(d){d.removeEventListener("scroll",n.update,c_)}),s&&l.removeEventListener("resize",n.update,c_)}}const tEe={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:eEe,data:{}};var nEe={left:"right",right:"left",bottom:"top",top:"bottom"};function XS(e){return e.replace(/left|right|bottom|top/g,function(t){return nEe[t]})}var rEe={start:"end",end:"start"};function bz(e){return e.replace(/start|end/g,function(t){return rEe[t]})}function NL(e){var t=Bs(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function kL(e){return Zv(jh(e)).left+NL(e).scrollLeft}function aEe(e,t){var n=Bs(e),r=jh(e),a=n.visualViewport,i=r.clientWidth,o=r.clientHeight,s=0,l=0;if(a){i=a.width,o=a.height;var u=qne();(u||!u&&t==="fixed")&&(s=a.offsetLeft,l=a.offsetTop)}return{width:i,height:o,x:s+kL(e),y:l}}function iEe(e){var t,n=jh(e),r=NL(e),a=(t=e.ownerDocument)==null?void 0:t.body,i=Gp(n.scrollWidth,n.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),o=Gp(n.scrollHeight,n.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),s=-r.scrollLeft+kL(e),l=-r.scrollTop;return Pd(a||n).direction==="rtl"&&(s+=Gp(n.clientWidth,a?a.clientWidth:0)-i),{width:i,height:o,x:s,y:l}}function jL(e){var t=Pd(e),n=t.overflow,r=t.overflowX,a=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+a+r)}function Zne(e){return["html","body","#document"].indexOf(ku(e))>=0?e.ownerDocument.body:El(e)&&jL(e)?e:Zne(Aj(e))}function Zx(e,t){var n;t===void 0&&(t=[]);var r=Zne(e),a=r===((n=e.ownerDocument)==null?void 0:n.body),i=Bs(r),o=a?[i].concat(i.visualViewport||[],jL(r)?r:[]):r,s=t.concat(o);return a?s:s.concat(Zx(Aj(o)))}function T3(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function oEe(e,t){var n=Zv(e,!1,t==="fixed");return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function wz(e,t,n){return t===Vne?T3(aEe(e,n)):pm(t)?oEe(t,n):T3(iEe(jh(e)))}function sEe(e){var t=Zx(Aj(e)),n=["absolute","fixed"].indexOf(Pd(e).position)>=0,r=n&&El(e)?qw(e):e;return pm(r)?t.filter(function(a){return pm(a)&&Gne(a,r)&&ku(a)!=="body"}):[]}function lEe(e,t,n,r){var a=t==="clippingParents"?sEe(e):[].concat(t),i=[].concat(a,[n]),o=i[0],s=i.reduce(function(l,u){var d=wz(e,u,r);return l.top=Gp(d.top,l.top),l.right=rE(d.right,l.right),l.bottom=rE(d.bottom,l.bottom),l.left=Gp(d.left,l.left),l},wz(e,o,r));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function Qne(e){var t=e.reference,n=e.element,r=e.placement,a=r?hu(r):null,i=r?Qv(r):null,o=t.x+t.width/2-n.width/2,s=t.y+t.height/2-n.height/2,l;switch(a){case is:l={x:o,y:t.y-n.height};break;case jl:l={x:o,y:t.y+t.height};break;case Tl:l={x:t.x+t.width,y:s};break;case os:l={x:t.x-n.width,y:s};break;default:l={x:t.x,y:t.y}}var u=a?EL(a):null;if(u!=null){var d=u==="y"?"height":"width";switch(i){case Kv:l[u]=l[u]-(t[d]/2-n[d]/2);break;case ub:l[u]=l[u]+(t[d]/2-n[d]/2);break}}return l}function db(e,t){t===void 0&&(t={});var n=t,r=n.placement,a=r===void 0?e.placement:r,i=n.strategy,o=i===void 0?e.strategy:i,s=n.boundary,l=s===void 0?jCe:s,u=n.rootBoundary,d=u===void 0?Vne:u,f=n.elementContext,h=f===void 0?zy:f,p=n.altBoundary,m=p===void 0?!1:p,g=n.padding,y=g===void 0?0:g,x=Kne(typeof y!="number"?y:Xne(y,Hw)),b=h===zy?TCe:zy,w=e.rects.popper,_=e.elements[m?b:h],S=lEe(pm(_)?_:_.contextElement||jh(e.elements.popper),l,d,o),k=Zv(e.elements.reference),N=Qne({reference:k,element:w,placement:a}),P=T3(Object.assign({},w,N)),T=h===zy?P:k,j={top:S.top-T.top+x.top,bottom:T.bottom-S.bottom+x.bottom,left:S.left-T.left+x.left,right:T.right-S.right+x.right},D=e.modifiersData.offset;if(h===zy&&D){var M=D[a];Object.keys(j).forEach(function(R){var W=[Tl,jl].indexOf(R)>=0?1:-1,B=[is,jl].indexOf(R)>=0?"y":"x";j[R]+=M[B]*W})}return j}function cEe(e,t){t===void 0&&(t={});var n=t,r=n.placement,a=n.boundary,i=n.rootBoundary,o=n.padding,s=n.flipVariations,l=n.allowedAutoPlacements,u=l===void 0?Hne:l,d=Qv(r),f=d?s?vz:vz.filter(function(m){return Qv(m)===d}):Hw,h=f.filter(function(m){return u.indexOf(m)>=0});h.length===0&&(h=f);var p=h.reduce(function(m,g){return m[g]=db(e,{placement:g,boundary:a,rootBoundary:i,padding:o})[hu(g)],m},{});return Object.keys(p).sort(function(m,g){return p[m]-p[g]})}function uEe(e){if(hu(e)===_L)return[];var t=XS(e);return[bz(e),t,bz(t)]}function dEe(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var a=n.mainAxis,i=a===void 0?!0:a,o=n.altAxis,s=o===void 0?!0:o,l=n.fallbackPlacements,u=n.padding,d=n.boundary,f=n.rootBoundary,h=n.altBoundary,p=n.flipVariations,m=p===void 0?!0:p,g=n.allowedAutoPlacements,y=t.options.placement,x=hu(y),b=x===y,w=l||(b||!m?[XS(y)]:uEe(y)),_=[y].concat(w).reduce(function(ee,G){return ee.concat(hu(G)===_L?cEe(t,{placement:G,boundary:d,rootBoundary:f,padding:u,flipVariations:m,allowedAutoPlacements:g}):G)},[]),S=t.rects.reference,k=t.rects.popper,N=new Map,P=!0,T=_[0],j=0;j<_.length;j++){var D=_[j],M=hu(D),R=Qv(D)===Kv,W=[is,jl].indexOf(M)>=0,B=W?"width":"height",V=db(t,{placement:D,boundary:d,rootBoundary:f,altBoundary:h,padding:u}),q=W?R?Tl:os:R?jl:is;S[B]>k[B]&&(q=XS(q));var I=XS(q),O=[];if(i&&O.push(V[M]<=0),s&&O.push(V[q]<=0,V[I]<=0),O.every(function(ee){return ee})){T=D,P=!1;break}N.set(D,O)}if(P)for(var H=m?3:1,ne=function(G){var Z=_.find(function(se){var ae=N.get(se);if(ae)return ae.slice(0,G).every(function(Y){return Y})});if(Z)return T=Z,"break"},z=H;z>0;z--){var J=ne(z);if(J==="break")break}t.placement!==T&&(t.modifiersData[r]._skip=!0,t.placement=T,t.reset=!0)}}const fEe={name:"flip",enabled:!0,phase:"main",fn:dEe,requiresIfExists:["offset"],data:{_skip:!1}};function _z(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function Sz(e){return[is,Tl,jl,os].some(function(t){return e[t]>=0})}function hEe(e){var t=e.state,n=e.name,r=t.rects.reference,a=t.rects.popper,i=t.modifiersData.preventOverflow,o=db(t,{elementContext:"reference"}),s=db(t,{altBoundary:!0}),l=_z(o,r),u=_z(s,a,i),d=Sz(l),f=Sz(u);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:d,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":f})}const pEe={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:hEe};function mEe(e,t,n){var r=hu(e),a=[os,is].indexOf(r)>=0?-1:1,i=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,o=i[0],s=i[1];return o=o||0,s=(s||0)*a,[os,Tl].indexOf(r)>=0?{x:s,y:o}:{x:o,y:s}}function gEe(e){var t=e.state,n=e.options,r=e.name,a=n.offset,i=a===void 0?[0,0]:a,o=Hne.reduce(function(d,f){return d[f]=mEe(f,t.rects,i),d},{}),s=o[t.placement],l=s.x,u=s.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=u),t.modifiersData[r]=o}const vEe={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:gEe};function yEe(e){var t=e.state,n=e.name;t.modifiersData[n]=Qne({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})}const xEe={name:"popperOffsets",enabled:!0,phase:"read",fn:yEe,data:{}};function bEe(e){return e==="x"?"y":"x"}function wEe(e){var t=e.state,n=e.options,r=e.name,a=n.mainAxis,i=a===void 0?!0:a,o=n.altAxis,s=o===void 0?!1:o,l=n.boundary,u=n.rootBoundary,d=n.altBoundary,f=n.padding,h=n.tether,p=h===void 0?!0:h,m=n.tetherOffset,g=m===void 0?0:m,y=db(t,{boundary:l,rootBoundary:u,padding:f,altBoundary:d}),x=hu(t.placement),b=Qv(t.placement),w=!b,_=EL(x),S=bEe(_),k=t.modifiersData.popperOffsets,N=t.rects.reference,P=t.rects.popper,T=typeof g=="function"?g(Object.assign({},t.rects,{placement:t.placement})):g,j=typeof T=="number"?{mainAxis:T,altAxis:T}:Object.assign({mainAxis:0,altAxis:0},T),D=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,M={x:0,y:0};if(k){if(i){var R,W=_==="y"?is:os,B=_==="y"?jl:Tl,V=_==="y"?"height":"width",q=k[_],I=q+y[W],O=q-y[B],H=p?-P[V]/2:0,ne=b===Kv?N[V]:P[V],z=b===Kv?-P[V]:-N[V],J=t.elements.arrow,ee=p&&J?CL(J):{width:0,height:0},G=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:Yne(),Z=G[W],se=G[B],ae=Xx(0,N[V],ee[V]),Y=w?N[V]/2-H-ae-Z-j.mainAxis:ne-ae-Z-j.mainAxis,X=w?-N[V]/2+H+ae+se+j.mainAxis:z+ae+se+j.mainAxis,K=t.elements.arrow&&qw(t.elements.arrow),F=K?_==="y"?K.clientTop||0:K.clientLeft||0:0,re=(R=D==null?void 0:D[_])!=null?R:0,Q=q+Y-re-F,oe=q+X-re,me=Xx(p?rE(I,Q):I,q,p?Gp(O,oe):O);k[_]=me,M[_]=me-q}if(s){var be,ye=_==="x"?is:os,de=_==="x"?jl:Tl,we=k[S],We=S==="y"?"height":"width",Me=we+y[ye],ze=we-y[de],He=[is,os].indexOf(x)!==-1,dt=(be=D==null?void 0:D[S])!=null?be:0,qt=He?Me:we-N[We]-P[We]-dt+j.altAxis,Zt=He?we+N[We]+P[We]-dt-j.altAxis:ze,Wt=p&&He?HCe(qt,we,Zt):Xx(p?qt:Me,we,p?Zt:ze);k[S]=Wt,M[S]=Wt-we}t.modifiersData[r]=M}}const _Ee={name:"preventOverflow",enabled:!0,phase:"main",fn:wEe,requiresIfExists:["offset"]};function SEe(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function CEe(e){return e===Bs(e)||!El(e)?NL(e):SEe(e)}function EEe(e){var t=e.getBoundingClientRect(),n=Xv(t.width)/e.offsetWidth||1,r=Xv(t.height)/e.offsetHeight||1;return n!==1||r!==1}function NEe(e,t,n){n===void 0&&(n=!1);var r=El(t),a=El(t)&&EEe(t),i=jh(t),o=Zv(e,a,n),s={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((ku(t)!=="body"||jL(i))&&(s=CEe(t)),El(t)?(l=Zv(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):i&&(l.x=kL(i))),{x:o.left+s.scrollLeft-l.x,y:o.top+s.scrollTop-l.y,width:o.width,height:o.height}}function kEe(e){var t=new Map,n=new Set,r=[];e.forEach(function(i){t.set(i.name,i)});function a(i){n.add(i.name);var o=[].concat(i.requires||[],i.requiresIfExists||[]);o.forEach(function(s){if(!n.has(s)){var l=t.get(s);l&&a(l)}}),r.push(i)}return e.forEach(function(i){n.has(i.name)||a(i)}),r}function jEe(e){var t=kEe(e);return $Ce.reduce(function(n,r){return n.concat(t.filter(function(a){return a.phase===r}))},[])}function TEe(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function PEe(e){var t=e.reduce(function(n,r){var a=n[r.name];return n[r.name]=a?Object.assign({},a,r,{options:Object.assign({},a.options,r.options),data:Object.assign({},a.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}var Cz={placement:"bottom",modifiers:[],strategy:"absolute"};function Ez(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function AEe(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,a=t.defaultOptions,i=a===void 0?Cz:a;return function(s,l,u){u===void 0&&(u=i);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},Cz,i),modifiersData:{},elements:{reference:s,popper:l},attributes:{},styles:{}},f=[],h=!1,p={state:d,setOptions:function(x){var b=typeof x=="function"?x(d.options):x;g(),d.options=Object.assign({},i,d.options,b),d.scrollParents={reference:pm(s)?Zx(s):s.contextElement?Zx(s.contextElement):[],popper:Zx(l)};var w=jEe(PEe([].concat(r,d.options.modifiers)));return d.orderedModifiers=w.filter(function(_){return _.enabled}),m(),p.update()},forceUpdate:function(){if(!h){var x=d.elements,b=x.reference,w=x.popper;if(Ez(b,w)){d.rects={reference:NEe(b,qw(w),d.options.strategy==="fixed"),popper:CL(w)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(j){return d.modifiersData[j.name]=Object.assign({},j.data)});for(var _=0;_<d.orderedModifiers.length;_++){if(d.reset===!0){d.reset=!1,_=-1;continue}var S=d.orderedModifiers[_],k=S.fn,N=S.options,P=N===void 0?{}:N,T=S.name;typeof k=="function"&&(d=k({state:d,options:P,name:T,instance:p})||d)}}}},update:TEe(function(){return new Promise(function(y){p.forceUpdate(),y(d)})}),destroy:function(){g(),h=!0}};if(!Ez(s,l))return p;p.setOptions(u).then(function(y){!h&&u.onFirstUpdate&&u.onFirstUpdate(y)});function m(){d.orderedModifiers.forEach(function(y){var x=y.name,b=y.options,w=b===void 0?{}:b,_=y.effect;if(typeof _=="function"){var S=_({state:d,name:x,instance:p,options:w}),k=function(){};f.push(S||k)}})}function g(){f.forEach(function(y){return y()}),f=[]}return p}}var DEe=[tEe,xEe,JCe,UCe,vEe,fEe,_Ee,KCe,pEe],Jne=AEe({defaultModifiers:DEe});function ere(e){var f;const{elementType:t,externalSlotProps:n,ownerState:r,skipResolvingSlotProps:a=!1,...i}=e,o=a?{}:zne(n,r),{props:s,internalRef:l}=Une({...i,externalSlotProps:o}),u=Ga(l,o==null?void 0:o.ref,(f=e.additionalProps)==null?void 0:f.ref);return Bne(t,{...s,ref:u},r)}function Pm(e){var t;return parseInt(E.version,10)>=19?((t=e==null?void 0:e.props)==null?void 0:t.ref)||null:(e==null?void 0:e.ref)||null}function OEe(e){return typeof e=="function"?e():e}const tre=E.forwardRef(function(t,n){const{children:r,container:a,disablePortal:i=!1}=t,[o,s]=E.useState(null),l=Ga(E.isValidElement(r)?Pm(r):null,n);if(jd(()=>{i||s(OEe(a)||document.body)},[a,i]),jd(()=>{if(o&&!i)return $9(n,o),()=>{$9(n,null)}},[n,o,i]),i){if(E.isValidElement(r)){const u={ref:l};return E.cloneElement(r,u)}return r}return o&&jm.createPortal(r,o)});function MEe(e){return Mn("MuiPopper",e)}jn("MuiPopper",["root"]);function IEe(e,t){if(t==="ltr")return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}function P3(e){return typeof e=="function"?e():e}function REe(e){return e.nodeType!==void 0}const FEe=e=>{const{classes:t}=e;return On({root:["root"]},MEe,t)},LEe={},$Ee=E.forwardRef(function(t,n){const{anchorEl:r,children:a,direction:i,disablePortal:o,modifiers:s,open:l,placement:u,popperOptions:d,popperRef:f,slotProps:h={},slots:p={},TransitionProps:m,ownerState:g,...y}=t,x=E.useRef(null),b=Ga(x,n),w=E.useRef(null),_=Ga(w,f),S=E.useRef(_);jd(()=>{S.current=_},[_]),E.useImperativeHandle(f,()=>w.current,[]);const k=IEe(u,i),[N,P]=E.useState(k),[T,j]=E.useState(P3(r));E.useEffect(()=>{w.current&&w.current.forceUpdate()}),E.useEffect(()=>{r&&j(P3(r))},[r]),jd(()=>{if(!T||!l)return;const B=I=>{P(I.placement)};let V=[{name:"preventOverflow",options:{altBoundary:o}},{name:"flip",options:{altBoundary:o}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:I})=>{B(I)}}];s!=null&&(V=V.concat(s)),d&&d.modifiers!=null&&(V=V.concat(d.modifiers));const q=Jne(T,x.current,{placement:k,...d,modifiers:V});return S.current(q),()=>{q.destroy(),S.current(null)}},[T,o,s,l,d,k]);const D={placement:N};m!==null&&(D.TransitionProps=m);const M=FEe(t),R=p.root??"div",W=ere({elementType:R,externalSlotProps:h.root,externalForwardedProps:y,additionalProps:{role:"tooltip",ref:b},ownerState:t,className:M.root});return c.jsx(R,{...W,children:typeof a=="function"?a(D):a})}),BEe=E.forwardRef(function(t,n){const{anchorEl:r,children:a,container:i,direction:o="ltr",disablePortal:s=!1,keepMounted:l=!1,modifiers:u,open:d,placement:f="bottom",popperOptions:h=LEe,popperRef:p,style:m,transition:g=!1,slotProps:y={},slots:x={},...b}=t,[w,_]=E.useState(!0),S=()=>{_(!1)},k=()=>{_(!0)};if(!l&&!d&&(!g||w))return null;let N;if(i)N=i;else if(r){const j=P3(r);N=j&&REe(j)?So(j).body:So(null).body}const P=!d&&l&&(!g||w)?"none":void 0,T=g?{in:d,onEnter:S,onExited:k}:void 0;return c.jsx(tre,{disablePortal:s,container:N,children:c.jsx($Ee,{anchorEl:r,direction:o,disablePortal:s,modifiers:u,ref:n,open:g?!w:d,placement:f,popperOptions:h,popperRef:p,slotProps:y,slots:x,...b,style:{position:"fixed",top:0,left:0,display:P,...m},TransitionProps:T,children:a})})}),zEe=Ot(BEe,{name:"MuiPopper",slot:"Root"})({}),nre=E.forwardRef(function(t,n){const r=uL(),a=Fn({props:t,name:"MuiPopper"}),{anchorEl:i,component:o,components:s,componentsProps:l,container:u,disablePortal:d,keepMounted:f,modifiers:h,open:p,placement:m,popperOptions:g,popperRef:y,transition:x,slots:b,slotProps:w,..._}=a,S=(b==null?void 0:b.root)??(s==null?void 0:s.Root),k={anchorEl:i,container:u,disablePortal:d,keepMounted:f,modifiers:h,open:p,placement:m,popperOptions:g,popperRef:y,transition:x,..._};return c.jsx(zEe,{as:o,direction:r?"rtl":"ltr",slots:{root:S},slotProps:w??l,...k,ref:n})}),UEe=xr(c.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}));function WEe(e){return Mn("MuiChip",e)}const Yn=jn("MuiChip",["root","sizeSmall","sizeMedium","colorDefault","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),VEe=e=>{const{classes:t,disabled:n,size:r,color:a,iconColor:i,onDelete:o,clickable:s,variant:l}=e,u={root:["root",l,n&&"disabled",`size${bt(r)}`,`color${bt(a)}`,s&&"clickable",s&&`clickableColor${bt(a)}`,o&&"deletable",o&&`deletableColor${bt(a)}`,`${l}${bt(a)}`],label:["label",`label${bt(r)}`],avatar:["avatar",`avatar${bt(r)}`,`avatarColor${bt(a)}`],icon:["icon",`icon${bt(r)}`,`iconColor${bt(i)}`],deleteIcon:["deleteIcon",`deleteIcon${bt(r)}`,`deleteIconColor${bt(a)}`,`deleteIcon${bt(l)}Color${bt(a)}`]};return On(u,WEe,t)},HEe=Ot("div",{name:"MuiChip",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{color:r,iconColor:a,clickable:i,onDelete:o,size:s,variant:l}=n;return[{[`& .${Yn.avatar}`]:t.avatar},{[`& .${Yn.avatar}`]:t[`avatar${bt(s)}`]},{[`& .${Yn.avatar}`]:t[`avatarColor${bt(r)}`]},{[`& .${Yn.icon}`]:t.icon},{[`& .${Yn.icon}`]:t[`icon${bt(s)}`]},{[`& .${Yn.icon}`]:t[`iconColor${bt(a)}`]},{[`& .${Yn.deleteIcon}`]:t.deleteIcon},{[`& .${Yn.deleteIcon}`]:t[`deleteIcon${bt(s)}`]},{[`& .${Yn.deleteIcon}`]:t[`deleteIconColor${bt(r)}`]},{[`& .${Yn.deleteIcon}`]:t[`deleteIcon${bt(l)}Color${bt(r)}`]},t.root,t[`size${bt(s)}`],t[`color${bt(r)}`],i&&t.clickable,i&&r!=="default"&&t[`clickableColor${bt(r)})`],o&&t.deletable,o&&r!=="default"&&t[`deletableColor${bt(r)}`],t[l],t[`${l}${bt(r)}`]]}})(Jn(({theme:e})=>{const t=e.palette.mode==="light"?e.palette.grey[700]:e.palette.grey[300];return{maxWidth:"100%",fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,lineHeight:1.5,color:(e.vars||e).palette.text.primary,backgroundColor:(e.vars||e).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:e.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${Yn.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${Yn.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:e.vars?e.vars.palette.Chip.defaultAvatarColor:t,fontSize:e.typography.pxToRem(12)},[`& .${Yn.avatarColorPrimary}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.dark},[`& .${Yn.avatarColorSecondary}`]:{color:(e.vars||e).palette.secondary.contrastText,backgroundColor:(e.vars||e).palette.secondary.dark},[`& .${Yn.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:e.typography.pxToRem(10)},[`& .${Yn.icon}`]:{marginLeft:5,marginRight:-6},[`& .${Yn.deleteIcon}`]:{WebkitTapHighlightColor:"transparent",color:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / 0.26)`:Da(e.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / 0.4)`:Da(e.palette.text.primary,.4)}},variants:[{props:{size:"small"},style:{height:24,[`& .${Yn.icon}`]:{fontSize:18,marginLeft:4,marginRight:-4},[`& .${Yn.deleteIcon}`]:{fontSize:16,marginRight:4,marginLeft:-4}}},...Object.entries(e.palette).filter(Zi(["contrastText"])).map(([n])=>({props:{color:n},style:{backgroundColor:(e.vars||e).palette[n].main,color:(e.vars||e).palette[n].contrastText,[`& .${Yn.deleteIcon}`]:{color:e.vars?`rgba(${e.vars.palette[n].contrastTextChannel} / 0.7)`:Da(e.palette[n].contrastText,.7),"&:hover, &:active":{color:(e.vars||e).palette[n].contrastText}}}})),{props:n=>n.iconColor===n.color,style:{[`& .${Yn.icon}`]:{color:e.vars?e.vars.palette.Chip.defaultIconColor:t}}},{props:n=>n.iconColor===n.color&&n.color!=="default",style:{[`& .${Yn.icon}`]:{color:"inherit"}}},{props:{onDelete:!0},style:{[`&.${Yn.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:Da(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}}},...Object.entries(e.palette).filter(Zi(["dark"])).map(([n])=>({props:{color:n,onDelete:!0},style:{[`&.${Yn.focusVisible}`]:{background:(e.vars||e).palette[n].dark}}})),{props:{clickable:!0},style:{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:Da(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity)},[`&.${Yn.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:Da(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)},"&:active":{boxShadow:(e.vars||e).shadows[1]}}},...Object.entries(e.palette).filter(Zi(["dark"])).map(([n])=>({props:{color:n,clickable:!0},style:{[`&:hover, &.${Yn.focusVisible}`]:{backgroundColor:(e.vars||e).palette[n].dark}}})),{props:{variant:"outlined"},style:{backgroundColor:"transparent",border:e.vars?`1px solid ${e.vars.palette.Chip.defaultBorder}`:`1px solid ${e.palette.mode==="light"?e.palette.grey[400]:e.palette.grey[700]}`,[`&.${Yn.clickable}:hover`]:{backgroundColor:(e.vars||e).palette.action.hover},[`&.${Yn.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`& .${Yn.avatar}`]:{marginLeft:4},[`& .${Yn.avatarSmall}`]:{marginLeft:2},[`& .${Yn.icon}`]:{marginLeft:4},[`& .${Yn.iconSmall}`]:{marginLeft:2},[`& .${Yn.deleteIcon}`]:{marginRight:5},[`& .${Yn.deleteIconSmall}`]:{marginRight:3}}},...Object.entries(e.palette).filter(Zi()).map(([n])=>({props:{variant:"outlined",color:n},style:{color:(e.vars||e).palette[n].main,border:`1px solid ${e.vars?`rgba(${e.vars.palette[n].mainChannel} / 0.7)`:Da(e.palette[n].main,.7)}`,[`&.${Yn.clickable}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette[n].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Da(e.palette[n].main,e.palette.action.hoverOpacity)},[`&.${Yn.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette[n].mainChannel} / ${e.vars.palette.action.focusOpacity})`:Da(e.palette[n].main,e.palette.action.focusOpacity)},[`& .${Yn.deleteIcon}`]:{color:e.vars?`rgba(${e.vars.palette[n].mainChannel} / 0.7)`:Da(e.palette[n].main,.7),"&:hover, &:active":{color:(e.vars||e).palette[n].main}}}}))]}})),qEe=Ot("span",{name:"MuiChip",slot:"Label",overridesResolver:(e,t)=>{const{ownerState:n}=e,{size:r}=n;return[t.label,t[`label${bt(r)}`]]}})({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap",variants:[{props:{variant:"outlined"},style:{paddingLeft:11,paddingRight:11}},{props:{size:"small"},style:{paddingLeft:8,paddingRight:8}},{props:{size:"small",variant:"outlined"},style:{paddingLeft:7,paddingRight:7}}]});function Nz(e){return e.key==="Backspace"||e.key==="Delete"}const $A=E.forwardRef(function(t,n){const r=Fn({props:t,name:"MuiChip"}),{avatar:a,className:i,clickable:o,color:s="default",component:l,deleteIcon:u,disabled:d=!1,icon:f,label:h,onClick:p,onDelete:m,onKeyDown:g,onKeyUp:y,size:x="medium",variant:b="filled",tabIndex:w,skipFocusWhenDisabled:_=!1,slots:S={},slotProps:k={},...N}=r,P=E.useRef(null),T=Ga(P,n),j=Z=>{Z.stopPropagation(),m&&m(Z)},D=Z=>{Z.currentTarget===Z.target&&Nz(Z)&&Z.preventDefault(),g&&g(Z)},M=Z=>{Z.currentTarget===Z.target&&m&&Nz(Z)&&m(Z),y&&y(Z)},R=o!==!1&&p?!0:o,W=R||m?ZC:l||"div",B={...r,component:W,disabled:d,size:x,color:s,iconColor:E.isValidElement(f)&&f.props.color||s,onDelete:!!m,clickable:R,variant:b},V=VEe(B),q=W===ZC?{component:l||"div",focusVisibleClassName:V.focusVisible,...m&&{disableRipple:!0}}:{};let I=null;m&&(I=u&&E.isValidElement(u)?E.cloneElement(u,{className:Tt(u.props.className,V.deleteIcon),onClick:j}):c.jsx(UEe,{className:V.deleteIcon,onClick:j}));let O=null;a&&E.isValidElement(a)&&(O=E.cloneElement(a,{className:Tt(V.avatar,a.props.className)}));let H=null;f&&E.isValidElement(f)&&(H=E.cloneElement(f,{className:Tt(V.icon,f.props.className)}));const ne={slots:S,slotProps:k},[z,J]=kn("root",{elementType:HEe,externalForwardedProps:{...ne,...N},ownerState:B,shouldForwardComponentProp:!0,ref:T,className:Tt(V.root,i),additionalProps:{disabled:R&&d?!0:void 0,tabIndex:_&&d?-1:w,...q},getSlotProps:Z=>({...Z,onClick:se=>{var ae;(ae=Z.onClick)==null||ae.call(Z,se),p==null||p(se)},onKeyDown:se=>{var ae;(ae=Z.onKeyDown)==null||ae.call(Z,se),D==null||D(se)},onKeyUp:se=>{var ae;(ae=Z.onKeyUp)==null||ae.call(Z,se),M==null||M(se)}})}),[ee,G]=kn("label",{elementType:qEe,externalForwardedProps:ne,ownerState:B,className:V.label});return c.jsxs(z,{as:W,...J,children:[O||H,c.jsx(ee,{...G,children:h}),I]})});function u_(e){return parseInt(e,10)||0}const GEe={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function YEe(e){for(const t in e)return!1;return!0}function kz(e){return YEe(e)||e.outerHeightStyle===0&&!e.overflowing}const KEe=E.forwardRef(function(t,n){const{onChange:r,maxRows:a,minRows:i=1,style:o,value:s,...l}=t,{current:u}=E.useRef(s!=null),d=E.useRef(null),f=Ga(n,d),h=E.useRef(null),p=E.useRef(null),m=E.useCallback(()=>{const w=d.current,_=p.current;if(!w||!_)return;const k=Td(w).getComputedStyle(w);if(k.width==="0px")return{outerHeightStyle:0,overflowing:!1};_.style.width=k.width,_.value=w.value||t.placeholder||"x",_.value.slice(-1)===`
`&&(_.value+=" ");const N=k.boxSizing,P=u_(k.paddingBottom)+u_(k.paddingTop),T=u_(k.borderBottomWidth)+u_(k.borderTopWidth),j=_.scrollHeight;_.value="x";const D=_.scrollHeight;let M=j;i&&(M=Math.max(Number(i)*D,M)),a&&(M=Math.min(Number(a)*D,M)),M=Math.max(M,D);const R=M+(N==="border-box"?P+T:0),W=Math.abs(M-j)<=1;return{outerHeightStyle:R,overflowing:W}},[a,i,t.placeholder]),g=Cl(()=>{const w=d.current,_=m();if(!w||!_||kz(_))return!1;const S=_.outerHeightStyle;return h.current!=null&&h.current!==S}),y=E.useCallback(()=>{const w=d.current,_=m();if(!w||!_||kz(_))return;const S=_.outerHeightStyle;h.current!==S&&(h.current=S,w.style.height=`${S}px`),w.style.overflow=_.overflowing?"hidden":""},[m]),x=E.useRef(-1);jd(()=>{const w=Zte(y),_=d==null?void 0:d.current;if(!_)return;const S=Td(_);S.addEventListener("resize",w);let k;return typeof ResizeObserver<"u"&&(k=new ResizeObserver(()=>{g()&&(k.unobserve(_),cancelAnimationFrame(x.current),y(),x.current=requestAnimationFrame(()=>{k.observe(_)}))}),k.observe(_)),()=>{w.clear(),cancelAnimationFrame(x.current),S.removeEventListener("resize",w),k&&k.disconnect()}},[m,y,g]),jd(()=>{y()});const b=w=>{u||y();const _=w.target,S=_.value.length,k=_.value.endsWith(`
`),N=_.selectionStart===S;k&&N&&_.setSelectionRange(S,S),r&&r(w)};return c.jsxs(E.Fragment,{children:[c.jsx("textarea",{value:s,onChange:b,ref:f,rows:i,style:o,...l}),c.jsx("textarea",{"aria-hidden":!0,className:t.className,readOnly:!0,ref:p,tabIndex:-1,style:{...GEe.shadow,...o,paddingTop:0,paddingBottom:0}})]})});function fb(e){return typeof e=="string"}function X0({props:e,states:t,muiFormControl:n}){return t.reduce((r,a)=>(r[a]=e[a],n&&typeof e[a]>"u"&&(r[a]=n[a]),r),{})}const Dj=E.createContext(void 0);function Am(){return E.useContext(Dj)}function jz(e){return e!=null&&!(Array.isArray(e)&&e.length===0)}function aE(e,t=!1){return e&&(jz(e.value)&&e.value!==""||t&&jz(e.defaultValue)&&e.defaultValue!=="")}function XEe(e){return e.startAdornment}function ZEe(e){return Mn("MuiInputBase",e)}const Jv=jn("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var Tz;const Oj=(e,t)=>{const{ownerState:n}=e;return[t.root,n.formControl&&t.formControl,n.startAdornment&&t.adornedStart,n.endAdornment&&t.adornedEnd,n.error&&t.error,n.size==="small"&&t.sizeSmall,n.multiline&&t.multiline,n.color&&t[`color${bt(n.color)}`],n.fullWidth&&t.fullWidth,n.hiddenLabel&&t.hiddenLabel]},Mj=(e,t)=>{const{ownerState:n}=e;return[t.input,n.size==="small"&&t.inputSizeSmall,n.multiline&&t.inputMultiline,n.type==="search"&&t.inputTypeSearch,n.startAdornment&&t.inputAdornedStart,n.endAdornment&&t.inputAdornedEnd,n.hiddenLabel&&t.inputHiddenLabel]},QEe=e=>{const{classes:t,color:n,disabled:r,error:a,endAdornment:i,focused:o,formControl:s,fullWidth:l,hiddenLabel:u,multiline:d,readOnly:f,size:h,startAdornment:p,type:m}=e,g={root:["root",`color${bt(n)}`,r&&"disabled",a&&"error",l&&"fullWidth",o&&"focused",s&&"formControl",h&&h!=="medium"&&`size${bt(h)}`,d&&"multiline",p&&"adornedStart",i&&"adornedEnd",u&&"hiddenLabel",f&&"readOnly"],input:["input",r&&"disabled",m==="search"&&"inputTypeSearch",d&&"inputMultiline",h==="small"&&"inputSizeSmall",u&&"inputHiddenLabel",p&&"inputAdornedStart",i&&"inputAdornedEnd",f&&"readOnly"]};return On(g,ZEe,t)},Ij=Ot("div",{name:"MuiInputBase",slot:"Root",overridesResolver:Oj})(Jn(({theme:e})=>({...e.typography.body1,color:(e.vars||e).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${Jv.disabled}`]:{color:(e.vars||e).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:t})=>t.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:t,size:n})=>t.multiline&&n==="small",style:{paddingTop:1}},{props:({ownerState:t})=>t.fullWidth,style:{width:"100%"}}]}))),Rj=Ot("input",{name:"MuiInputBase",slot:"Input",overridesResolver:Mj})(Jn(({theme:e})=>{const t=e.palette.mode==="light",n={color:"currentColor",...e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:t?.42:.5},transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})},r={opacity:"0 !important"},a=e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:t?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&::-ms-input-placeholder":n,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${Jv.formControl} &`]:{"&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&::-ms-input-placeholder":r,"&:focus::-webkit-input-placeholder":a,"&:focus::-moz-placeholder":a,"&:focus::-ms-input-placeholder":a},[`&.${Jv.disabled}`]:{opacity:1,WebkitTextFillColor:(e.vars||e).palette.text.disabled},variants:[{props:({ownerState:i})=>!i.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:i})=>i.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),Pz=Jwe({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),TL=E.forwardRef(function(t,n){const r=Fn({props:t,name:"MuiInputBase"}),{"aria-describedby":a,autoComplete:i,autoFocus:o,className:s,color:l,components:u={},componentsProps:d={},defaultValue:f,disabled:h,disableInjectingGlobalStyles:p,endAdornment:m,error:g,fullWidth:y=!1,id:x,inputComponent:b="input",inputProps:w={},inputRef:_,margin:S,maxRows:k,minRows:N,multiline:P=!1,name:T,onBlur:j,onChange:D,onClick:M,onFocus:R,onKeyDown:W,onKeyUp:B,placeholder:V,readOnly:q,renderSuffix:I,rows:O,size:H,slotProps:ne={},slots:z={},startAdornment:J,type:ee="text",value:G,...Z}=r,se=w.value!=null?w.value:G,{current:ae}=E.useRef(se!=null),Y=E.useRef(),X=E.useCallback(Ge=>{},[]),K=Ga(Y,_,w.ref,X),[F,re]=E.useState(!1),Q=Am(),oe=X0({props:r,muiFormControl:Q,states:["color","disabled","error","hiddenLabel","size","required","filled"]});oe.focused=Q?Q.focused:F,E.useEffect(()=>{!Q&&h&&F&&(re(!1),j&&j())},[Q,h,F,j]);const me=Q&&Q.onFilled,be=Q&&Q.onEmpty,ye=E.useCallback(Ge=>{aE(Ge)?me&&me():be&&be()},[me,be]);jd(()=>{ae&&ye({value:se})},[se,ye,ae]);const de=Ge=>{R&&R(Ge),w.onFocus&&w.onFocus(Ge),Q&&Q.onFocus?Q.onFocus(Ge):re(!0)},we=Ge=>{j&&j(Ge),w.onBlur&&w.onBlur(Ge),Q&&Q.onBlur?Q.onBlur(Ge):re(!1)},We=(Ge,...at)=>{if(!ae){const Ke=Ge.target||Y.current;if(Ke==null)throw new Error(Nd(1));ye({value:Ke.value})}w.onChange&&w.onChange(Ge,...at),D&&D(Ge,...at)};E.useEffect(()=>{ye(Y.current)},[]);const Me=Ge=>{Y.current&&Ge.currentTarget===Ge.target&&Y.current.focus(),M&&M(Ge)};let ze=b,He=w;P&&ze==="input"&&(O?He={type:void 0,minRows:O,maxRows:O,...He}:He={type:void 0,maxRows:k,minRows:N,...He},ze=KEe);const dt=Ge=>{ye(Ge.animationName==="mui-auto-fill-cancel"?Y.current:{value:"x"})};E.useEffect(()=>{Q&&Q.setAdornedStart(!!J)},[Q,J]);const qt={...r,color:oe.color||"primary",disabled:oe.disabled,endAdornment:m,error:oe.error,focused:oe.focused,formControl:Q,fullWidth:y,hiddenLabel:oe.hiddenLabel,multiline:P,size:oe.size,startAdornment:J,type:ee},Zt=QEe(qt),Wt=z.root||u.Root||Ij,mn=ne.root||d.root||{},Re=z.input||u.Input||Rj;return He={...He,...ne.input??d.input},c.jsxs(E.Fragment,{children:[!p&&typeof Pz=="function"&&(Tz||(Tz=c.jsx(Pz,{}))),c.jsxs(Wt,{...mn,ref:n,onClick:Me,...Z,...!fb(Wt)&&{ownerState:{...qt,...mn.ownerState}},className:Tt(Zt.root,mn.className,s,q&&"MuiInputBase-readOnly"),children:[J,c.jsx(Dj.Provider,{value:null,children:c.jsx(Re,{"aria-invalid":oe.error,"aria-describedby":a,autoComplete:i,autoFocus:o,defaultValue:f,disabled:oe.disabled,id:x,onAnimationStart:dt,name:T,placeholder:V,readOnly:q,required:oe.required,rows:O,value:se,onKeyDown:W,onKeyUp:B,type:ee,...He,...!fb(Re)&&{as:ze,ownerState:{...qt,...He.ownerState}},ref:K,className:Tt(Zt.input,He.className,q&&"MuiInputBase-readOnly"),onBlur:we,onChange:We,onFocus:de})}),m,I?I({...oe,startAdornment:J}):null]})]})});function JEe(e){return Mn("MuiInput",e)}const Uy={...Jv,...jn("MuiInput",["root","underline","input"])};function eNe(e){return Mn("MuiOutlinedInput",e)}const Oc={...Jv,...jn("MuiOutlinedInput",["root","notchedOutline","input"])};function tNe(e){return Mn("MuiFilledInput",e)}const Hh={...Jv,...jn("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},nNe=xr(c.jsx("path",{d:"M7 10l5 5 5-5z"})),rNe=xr(c.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}));function aNe(e){return Mn("MuiAvatar",e)}jn("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const iNe=e=>{const{classes:t,variant:n,colorDefault:r}=e;return On({root:["root",n,r&&"colorDefault"],img:["img"],fallback:["fallback"]},aNe,t)},oNe=Ot("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],n.colorDefault&&t.colorDefault]}})(Jn(({theme:e})=>({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(e.vars||e).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:{color:(e.vars||e).palette.background.default,...e.vars?{backgroundColor:e.vars.palette.Avatar.defaultBg}:{backgroundColor:e.palette.grey[400],...e.applyStyles("dark",{backgroundColor:e.palette.grey[600]})}}}]}))),sNe=Ot("img",{name:"MuiAvatar",slot:"Img"})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),lNe=Ot(rNe,{name:"MuiAvatar",slot:"Fallback"})({width:"75%",height:"75%"});function cNe({crossOrigin:e,referrerPolicy:t,src:n,srcSet:r}){const[a,i]=E.useState(!1);return E.useEffect(()=>{if(!n&&!r)return;i(!1);let o=!0;const s=new Image;return s.onload=()=>{o&&i("loaded")},s.onerror=()=>{o&&i("error")},s.crossOrigin=e,s.referrerPolicy=t,s.src=n,r&&(s.srcset=r),()=>{o=!1}},[e,t,n,r]),a}const Az=E.forwardRef(function(t,n){const r=Fn({props:t,name:"MuiAvatar"}),{alt:a,children:i,className:o,component:s="div",slots:l={},slotProps:u={},imgProps:d,sizes:f,src:h,srcSet:p,variant:m="circular",...g}=r;let y=null;const x={...r,component:s,variant:m},b=cNe({...d,...typeof u.img=="function"?u.img(x):u.img,src:h,srcSet:p}),w=h||p,_=w&&b!=="error";x.colorDefault=!_,delete x.ownerState;const S=iNe(x),[k,N]=kn("root",{ref:n,className:Tt(S.root,o),elementType:oNe,externalForwardedProps:{slots:l,slotProps:u,component:s,...g},ownerState:x}),[P,T]=kn("img",{className:S.img,elementType:sNe,externalForwardedProps:{slots:l,slotProps:{img:{...d,...u.img}}},additionalProps:{alt:a,src:h,srcSet:p,sizes:f},ownerState:x}),[j,D]=kn("fallback",{className:S.fallback,elementType:lNe,externalForwardedProps:{slots:l,slotProps:u},shouldForwardComponentProp:!0,ownerState:x});return _?y=c.jsx(P,{...T}):i||i===0?y=i:w&&a?y=a[0]:y=c.jsx(j,{...D}),c.jsx(k,{...N,children:y})}),uNe={entering:{opacity:1},entered:{opacity:1}},A3=E.forwardRef(function(t,n){const r=Tm(),a={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:i,appear:o=!0,children:s,easing:l,in:u,onEnter:d,onEntered:f,onEntering:h,onExit:p,onExited:m,onExiting:g,style:y,timeout:x=a,TransitionComponent:b=Il,...w}=t,_=E.useRef(null),S=Ga(_,Pm(s),n),k=W=>B=>{if(W){const V=_.current;B===void 0?W(V):W(V,B)}},N=k(h),P=k((W,B)=>{$ne(W);const V=Yv({style:y,timeout:x,easing:l},{mode:"enter"});W.style.webkitTransition=r.transitions.create("opacity",V),W.style.transition=r.transitions.create("opacity",V),d&&d(W,B)}),T=k(f),j=k(g),D=k(W=>{const B=Yv({style:y,timeout:x,easing:l},{mode:"exit"});W.style.webkitTransition=r.transitions.create("opacity",B),W.style.transition=r.transitions.create("opacity",B),p&&p(W)}),M=k(m),R=W=>{i&&i(_.current,W)};return c.jsx(b,{appear:o,in:u,nodeRef:_,onEnter:P,onEntered:T,onEntering:N,onExit:D,onExited:M,onExiting:j,addEndListener:R,timeout:x,...w,children:(W,{ownerState:B,...V})=>E.cloneElement(s,{style:{opacity:0,visibility:W==="exited"&&!u?"hidden":void 0,...uNe[W],...y,...s.props.style},ref:S,...V})})});function dNe(e){return Mn("MuiBackdrop",e)}jn("MuiBackdrop",["root","invisible"]);const fNe=e=>{const{classes:t,invisible:n}=e;return On({root:["root",n&&"invisible"]},dNe,t)},hNe=Ot("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.invisible&&t.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),rre=E.forwardRef(function(t,n){const r=Fn({props:t,name:"MuiBackdrop"}),{children:a,className:i,component:o="div",invisible:s=!1,open:l,components:u={},componentsProps:d={},slotProps:f={},slots:h={},TransitionComponent:p,transitionDuration:m,...g}=r,y={...r,component:o,invisible:s},x=fNe(y),b={transition:p,root:u.Root,...h},w={...d,...f},_={component:o,slots:b,slotProps:w},[S,k]=kn("root",{elementType:hNe,externalForwardedProps:_,className:Tt(x.root,i),ownerState:y}),[N,P]=kn("transition",{elementType:A3,externalForwardedProps:_,ownerState:y});return c.jsx(N,{in:l,timeout:m,...g,...P,children:c.jsx(S,{"aria-hidden":!0,...k,classes:x,ref:n,children:a})})});function pNe(e){const{badgeContent:t,invisible:n=!1,max:r=99,showZero:a=!1}=e,i=Wne({badgeContent:t,max:r});let o=n;n===!1&&t===0&&!a&&(o=!0);const{badgeContent:s,max:l=r}=o?i:e,u=s&&Number(s)>l?`${l}+`:s;return{badgeContent:s,invisible:o,max:l,displayValue:u}}function mNe(e){return Mn("MuiBadge",e)}const af=jn("MuiBadge",["root","badge","dot","standard","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","invisible","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"]),BA=10,zA=4,gNe=e=>{const{color:t,anchorOrigin:n,invisible:r,overlap:a,variant:i,classes:o={}}=e,s={root:["root"],badge:["badge",i,r&&"invisible",`anchorOrigin${bt(n.vertical)}${bt(n.horizontal)}`,`anchorOrigin${bt(n.vertical)}${bt(n.horizontal)}${bt(a)}`,`overlap${bt(a)}`,t!=="default"&&`color${bt(t)}`]};return On(s,mNe,o)},vNe=Ot("span",{name:"MuiBadge",slot:"Root"})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),yNe=Ot("span",{name:"MuiBadge",slot:"Badge",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.badge,t[n.variant],t[`anchorOrigin${bt(n.anchorOrigin.vertical)}${bt(n.anchorOrigin.horizontal)}${bt(n.overlap)}`],n.color!=="default"&&t[`color${bt(n.color)}`],n.invisible&&t.invisible]}})(Jn(({theme:e})=>({display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.pxToRem(12),minWidth:BA*2,lineHeight:1,padding:"0 6px",height:BA*2,borderRadius:BA,zIndex:1,transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.enteringScreen}),variants:[...Object.entries(e.palette).filter(Zi(["contrastText"])).map(([t])=>({props:{color:t},style:{backgroundColor:(e.vars||e).palette[t].main,color:(e.vars||e).palette[t].contrastText}})),{props:{variant:"dot"},style:{borderRadius:zA,height:zA*2,minWidth:zA*2,padding:0}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="rectangular",style:{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${af.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="rectangular",style:{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${af.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="rectangular",style:{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${af.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="rectangular",style:{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${af.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="circular",style:{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${af.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="circular",style:{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${af.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="circular",style:{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${af.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="circular",style:{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${af.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:{invisible:!0},style:{transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.leavingScreen})}}]})));function Dz(e){return{vertical:(e==null?void 0:e.vertical)??"top",horizontal:(e==null?void 0:e.horizontal)??"right"}}const xNe=E.forwardRef(function(t,n){const r=Fn({props:t,name:"MuiBadge"}),{anchorOrigin:a,className:i,classes:o,component:s,components:l={},componentsProps:u={},children:d,overlap:f="rectangular",color:h="default",invisible:p=!1,max:m=99,badgeContent:g,slots:y,slotProps:x,showZero:b=!1,variant:w="standard",..._}=r,{badgeContent:S,invisible:k,max:N,displayValue:P}=pNe({max:m,invisible:p,badgeContent:g,showZero:b}),T=Wne({anchorOrigin:Dz(a),color:h,overlap:f,variant:w,badgeContent:g}),j=k||S==null&&w!=="dot",{color:D=h,overlap:M=f,anchorOrigin:R,variant:W=w}=j?T:r,B=Dz(R),V=W!=="dot"?P:void 0,q={...r,badgeContent:S,invisible:j,max:N,displayValue:V,showZero:b,anchorOrigin:B,color:D,overlap:M,variant:W},I=gNe(q),O={slots:{root:(y==null?void 0:y.root)??l.Root,badge:(y==null?void 0:y.badge)??l.Badge},slotProps:{root:(x==null?void 0:x.root)??u.root,badge:(x==null?void 0:x.badge)??u.badge}},[H,ne]=kn("root",{elementType:vNe,externalForwardedProps:{...O,..._},ownerState:q,className:Tt(I.root,i),ref:n,additionalProps:{as:s}}),[z,J]=kn("badge",{elementType:yNe,externalForwardedProps:O,ownerState:q,className:I.badge});return c.jsxs(H,{...ne,children:[d,c.jsx(z,{...J,children:V})]})}),bNe=jn("MuiBox",["root"]),wNe=Kte(),Oz=Xbe({themeId:xj,defaultTheme:wNe,defaultClassName:bNe.root,generateClassName:dte.generate});function _Ne(e){return Mn("MuiCard",e)}jn("MuiCard",["root"]);const SNe=e=>{const{classes:t}=e;return On({root:["root"]},_Ne,t)},CNe=Ot(K0,{name:"MuiCard",slot:"Root"})({overflow:"hidden"}),are=E.forwardRef(function(t,n){const r=Fn({props:t,name:"MuiCard"}),{className:a,raised:i=!1,...o}=r,s={...r,raised:i},l=SNe(s);return c.jsx(CNe,{className:Tt(l.root,a),elevation:i?8:void 0,ref:n,ownerState:s,...o})});function ENe(e){return Mn("MuiCardContent",e)}jn("MuiCardContent",["root"]);const NNe=e=>{const{classes:t}=e;return On({root:["root"]},ENe,t)},kNe=Ot("div",{name:"MuiCardContent",slot:"Root"})({padding:16,"&:last-child":{paddingBottom:24}}),ire=E.forwardRef(function(t,n){const r=Fn({props:t,name:"MuiCardContent"}),{className:a,component:i="div",...o}=r,s={...r,component:i},l=NNe(s);return c.jsx(kNe,{as:i,className:Tt(l.root,a),ownerState:s,ref:n,...o})});function Mz(e){return e.substring(2).toLowerCase()}function jNe(e,t){return t.documentElement.clientWidth<e.clientX||t.documentElement.clientHeight<e.clientY}function TNe(e){const{children:t,disableReactTree:n=!1,mouseEvent:r="onClick",onClickAway:a,touchEvent:i="onTouchEnd"}=e,o=E.useRef(!1),s=E.useRef(null),l=E.useRef(!1),u=E.useRef(!1);E.useEffect(()=>(setTimeout(()=>{l.current=!0},0),()=>{l.current=!1}),[]);const d=Ga(Pm(t),s),f=Cl(m=>{const g=u.current;u.current=!1;const y=So(s.current);if(!l.current||!s.current||"clientX"in m&&jNe(m,y))return;if(o.current){o.current=!1;return}let x;m.composedPath?x=m.composedPath().includes(s.current):x=!y.documentElement.contains(m.target)||s.current.contains(m.target),!x&&(n||!g)&&a(m)}),h=m=>g=>{u.current=!0;const y=t.props[m];y&&y(g)},p={ref:d};return i!==!1&&(p[i]=h(i)),E.useEffect(()=>{if(i!==!1){const m=Mz(i),g=So(s.current),y=()=>{o.current=!0};return g.addEventListener(m,f),g.addEventListener("touchmove",y),()=>{g.removeEventListener(m,f),g.removeEventListener("touchmove",y)}}},[f,i]),r!==!1&&(p[r]=h(r)),E.useEffect(()=>{if(r!==!1){const m=Mz(r),g=So(s.current);return g.addEventListener(m,f),()=>{g.removeEventListener(m,f)}}},[f,r]),E.cloneElement(t,p)}function ore(e=window){const t=e.document.documentElement.clientWidth;return e.innerWidth-t}function PNe(e){const t=So(e);return t.body===e?Td(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}function Qx(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function Iz(e){return parseInt(Td(e).getComputedStyle(e).paddingRight,10)||0}function ANe(e){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(e.tagName),r=e.tagName==="INPUT"&&e.getAttribute("type")==="hidden";return n||r}function Rz(e,t,n,r,a){const i=[t,n,...r];[].forEach.call(e.children,o=>{const s=!i.includes(o),l=!ANe(o);s&&l&&Qx(o,a)})}function UA(e,t){let n=-1;return e.some((r,a)=>t(r)?(n=a,!0):!1),n}function DNe(e,t){const n=[],r=e.container;if(!t.disableScrollLock){if(PNe(r)){const o=ore(Td(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${Iz(r)+o}px`;const s=So(r).querySelectorAll(".mui-fixed");[].forEach.call(s,l=>{n.push({value:l.style.paddingRight,property:"padding-right",el:l}),l.style.paddingRight=`${Iz(l)+o}px`})}let i;if(r.parentNode instanceof DocumentFragment)i=So(r).body;else{const o=r.parentElement,s=Td(r);i=(o==null?void 0:o.nodeName)==="HTML"&&s.getComputedStyle(o).overflowY==="scroll"?o:r}n.push({value:i.style.overflow,property:"overflow",el:i},{value:i.style.overflowX,property:"overflow-x",el:i},{value:i.style.overflowY,property:"overflow-y",el:i}),i.style.overflow="hidden"}return()=>{n.forEach(({value:i,el:o,property:s})=>{i?o.style.setProperty(s,i):o.style.removeProperty(s)})}}function ONe(e){const t=[];return[].forEach.call(e.children,n=>{n.getAttribute("aria-hidden")==="true"&&t.push(n)}),t}class MNe{constructor(){this.modals=[],this.containers=[]}add(t,n){let r=this.modals.indexOf(t);if(r!==-1)return r;r=this.modals.length,this.modals.push(t),t.modalRef&&Qx(t.modalRef,!1);const a=ONe(n);Rz(n,t.mount,t.modalRef,a,!0);const i=UA(this.containers,o=>o.container===n);return i!==-1?(this.containers[i].modals.push(t),r):(this.containers.push({modals:[t],container:n,restore:null,hiddenSiblings:a}),r)}mount(t,n){const r=UA(this.containers,i=>i.modals.includes(t)),a=this.containers[r];a.restore||(a.restore=DNe(a,n))}remove(t,n=!0){const r=this.modals.indexOf(t);if(r===-1)return r;const a=UA(this.containers,o=>o.modals.includes(t)),i=this.containers[a];if(i.modals.splice(i.modals.indexOf(t),1),this.modals.splice(r,1),i.modals.length===0)i.restore&&i.restore(),t.modalRef&&Qx(t.modalRef,n),Rz(i.container,t.mount,t.modalRef,i.hiddenSiblings,!1),this.containers.splice(a,1);else{const o=i.modals[i.modals.length-1];o.modalRef&&Qx(o.modalRef,!1)}return r}isTopModal(t){return this.modals.length>0&&this.modals[this.modals.length-1]===t}}const INe=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function RNe(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?e.contentEditable==="true"||(e.nodeName==="AUDIO"||e.nodeName==="VIDEO"||e.nodeName==="DETAILS")&&e.getAttribute("tabindex")===null?0:e.tabIndex:t}function FNe(e){if(e.tagName!=="INPUT"||e.type!=="radio"||!e.name)return!1;const t=r=>e.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=t(`[name="${e.name}"]:checked`);return n||(n=t(`[name="${e.name}"]`)),n!==e}function LNe(e){return!(e.disabled||e.tagName==="INPUT"&&e.type==="hidden"||FNe(e))}function $Ne(e){const t=[],n=[];return Array.from(e.querySelectorAll(INe)).forEach((r,a)=>{const i=RNe(r);i===-1||!LNe(r)||(i===0?t.push(r):n.push({documentOrder:a,tabIndex:i,node:r}))}),n.sort((r,a)=>r.tabIndex===a.tabIndex?r.documentOrder-a.documentOrder:r.tabIndex-a.tabIndex).map(r=>r.node).concat(t)}function BNe(){return!0}function zNe(e){const{children:t,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:a=!1,getTabbable:i=$Ne,isEnabled:o=BNe,open:s}=e,l=E.useRef(!1),u=E.useRef(null),d=E.useRef(null),f=E.useRef(null),h=E.useRef(null),p=E.useRef(!1),m=E.useRef(null),g=Ga(Pm(t),m),y=E.useRef(null);E.useEffect(()=>{!s||!m.current||(p.current=!n)},[n,s]),E.useEffect(()=>{if(!s||!m.current)return;const w=So(m.current);return m.current.contains(w.activeElement)||(m.current.hasAttribute("tabIndex")||m.current.setAttribute("tabIndex","-1"),p.current&&m.current.focus()),()=>{a||(f.current&&f.current.focus&&(l.current=!0,f.current.focus()),f.current=null)}},[s]),E.useEffect(()=>{if(!s||!m.current)return;const w=So(m.current),_=N=>{y.current=N,!(r||!o()||N.key!=="Tab")&&w.activeElement===m.current&&N.shiftKey&&(l.current=!0,d.current&&d.current.focus())},S=()=>{var T,j;const N=m.current;if(N===null)return;if(!w.hasFocus()||!o()||l.current){l.current=!1;return}if(N.contains(w.activeElement)||r&&w.activeElement!==u.current&&w.activeElement!==d.current)return;if(w.activeElement!==h.current)h.current=null;else if(h.current!==null)return;if(!p.current)return;let P=[];if((w.activeElement===u.current||w.activeElement===d.current)&&(P=i(m.current)),P.length>0){const D=!!((T=y.current)!=null&&T.shiftKey&&((j=y.current)==null?void 0:j.key)==="Tab"),M=P[0],R=P[P.length-1];typeof M!="string"&&typeof R!="string"&&(D?R.focus():M.focus())}else N.focus()};w.addEventListener("focusin",S),w.addEventListener("keydown",_,!0);const k=setInterval(()=>{w.activeElement&&w.activeElement.tagName==="BODY"&&S()},50);return()=>{clearInterval(k),w.removeEventListener("focusin",S),w.removeEventListener("keydown",_,!0)}},[n,r,a,o,s,i]);const x=w=>{f.current===null&&(f.current=w.relatedTarget),p.current=!0,h.current=w.target;const _=t.props.onFocus;_&&_(w)},b=w=>{f.current===null&&(f.current=w.relatedTarget),p.current=!0};return c.jsxs(E.Fragment,{children:[c.jsx("div",{tabIndex:s?0:-1,onFocus:b,ref:u,"data-testid":"sentinelStart"}),E.cloneElement(t,{ref:g,onFocus:x}),c.jsx("div",{tabIndex:s?0:-1,onFocus:b,ref:d,"data-testid":"sentinelEnd"})]})}function UNe(e){return typeof e=="function"?e():e}function WNe(e){return e?e.props.hasOwnProperty("in"):!1}const Fz=()=>{},d_=new MNe;function VNe(e){const{container:t,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,closeAfterTransition:a=!1,onTransitionEnter:i,onTransitionExited:o,children:s,onClose:l,open:u,rootRef:d}=e,f=E.useRef({}),h=E.useRef(null),p=E.useRef(null),m=Ga(p,d),[g,y]=E.useState(!u),x=WNe(s);let b=!0;(e["aria-hidden"]==="false"||e["aria-hidden"]===!1)&&(b=!1);const w=()=>So(h.current),_=()=>(f.current.modalRef=p.current,f.current.mount=h.current,f.current),S=()=>{d_.mount(_(),{disableScrollLock:r}),p.current&&(p.current.scrollTop=0)},k=Cl(()=>{const B=UNe(t)||w().body;d_.add(_(),B),p.current&&S()}),N=()=>d_.isTopModal(_()),P=Cl(B=>{h.current=B,B&&(u&&N()?S():p.current&&Qx(p.current,b))}),T=E.useCallback(()=>{d_.remove(_(),b)},[b]);E.useEffect(()=>()=>{T()},[T]),E.useEffect(()=>{u?k():(!x||!a)&&T()},[u,T,x,a,k]);const j=B=>V=>{var q;(q=B.onKeyDown)==null||q.call(B,V),!(V.key!=="Escape"||V.which===229||!N())&&(n||(V.stopPropagation(),l&&l(V,"escapeKeyDown")))},D=B=>V=>{var q;(q=B.onClick)==null||q.call(B,V),V.target===V.currentTarget&&l&&l(V,"backdropClick")};return{getRootProps:(B={})=>{const V=nE(e);delete V.onTransitionEnter,delete V.onTransitionExited;const q={...V,...B};return{role:"presentation",...q,onKeyDown:j(q),ref:m}},getBackdropProps:(B={})=>{const V=B;return{"aria-hidden":!0,...V,onClick:D(V),open:u}},getTransitionProps:()=>{const B=()=>{y(!1),i&&i()},V=()=>{y(!0),o&&o(),a&&T()};return{onEnter:h9(B,(s==null?void 0:s.props.onEnter)??Fz),onExited:h9(V,(s==null?void 0:s.props.onExited)??Fz)}},rootRef:m,portalRef:P,isTopModal:N,exited:g,hasTransition:x}}function HNe(e){return Mn("MuiModal",e)}jn("MuiModal",["root","hidden","backdrop"]);const qNe=e=>{const{open:t,exited:n,classes:r}=e;return On({root:["root",!t&&n&&"hidden"],backdrop:["backdrop"]},HNe,r)},GNe=Ot("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.open&&n.exited&&t.hidden]}})(Jn(({theme:e})=>({position:"fixed",zIndex:(e.vars||e).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:t})=>!t.open&&t.exited,style:{visibility:"hidden"}}]}))),YNe=Ot(rre,{name:"MuiModal",slot:"Backdrop"})({zIndex:-1}),PL=E.forwardRef(function(t,n){const r=Fn({name:"MuiModal",props:t}),{BackdropComponent:a=YNe,BackdropProps:i,classes:o,className:s,closeAfterTransition:l=!1,children:u,container:d,component:f,components:h={},componentsProps:p={},disableAutoFocus:m=!1,disableEnforceFocus:g=!1,disableEscapeKeyDown:y=!1,disablePortal:x=!1,disableRestoreFocus:b=!1,disableScrollLock:w=!1,hideBackdrop:_=!1,keepMounted:S=!1,onClose:k,onTransitionEnter:N,onTransitionExited:P,open:T,slotProps:j={},slots:D={},theme:M,...R}=r,W={...r,closeAfterTransition:l,disableAutoFocus:m,disableEnforceFocus:g,disableEscapeKeyDown:y,disablePortal:x,disableRestoreFocus:b,disableScrollLock:w,hideBackdrop:_,keepMounted:S},{getRootProps:B,getBackdropProps:V,getTransitionProps:q,portalRef:I,isTopModal:O,exited:H,hasTransition:ne}=VNe({...W,rootRef:n}),z={...W,exited:H},J=qNe(z),ee={};if(u.props.tabIndex===void 0&&(ee.tabIndex="-1"),ne){const{onEnter:X,onExited:K}=q();ee.onEnter=X,ee.onExited=K}const G={slots:{root:h.Root,backdrop:h.Backdrop,...D},slotProps:{...p,...j}},[Z,se]=kn("root",{ref:n,elementType:GNe,externalForwardedProps:{...G,...R,component:f},getSlotProps:B,ownerState:z,className:Tt(s,J==null?void 0:J.root,!z.open&&z.exited&&(J==null?void 0:J.hidden))}),[ae,Y]=kn("backdrop",{ref:i==null?void 0:i.ref,elementType:a,externalForwardedProps:G,shouldForwardComponentProp:!0,additionalProps:i,getSlotProps:X=>V({...X,onClick:K=>{X!=null&&X.onClick&&X.onClick(K)}}),className:Tt(i==null?void 0:i.className,J==null?void 0:J.backdrop),ownerState:z});return!S&&!T&&(!ne||H)?null:c.jsx(tre,{ref:I,container:d,disablePortal:x,children:c.jsxs(Z,{...se,children:[!_&&a?c.jsx(ae,{...Y}):null,c.jsx(zNe,{disableEnforceFocus:g,disableAutoFocus:m,disableRestoreFocus:b,isEnabled:O,open:T,children:E.cloneElement(u,ee)})]})})});function KNe(e){return Mn("MuiDialog",e)}const WA=jn("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),sre=E.createContext({}),XNe=Ot(rre,{name:"MuiDialog",slot:"Backdrop",overrides:(e,t)=>t.backdrop})({zIndex:-1}),ZNe=e=>{const{classes:t,scroll:n,maxWidth:r,fullWidth:a,fullScreen:i}=e,o={root:["root"],container:["container",`scroll${bt(n)}`],paper:["paper",`paperScroll${bt(n)}`,`paperWidth${bt(String(r))}`,a&&"paperFullWidth",i&&"paperFullScreen"]};return On(o,KNe,t)},QNe=Ot(PL,{name:"MuiDialog",slot:"Root"})({"@media print":{position:"absolute !important"}}),JNe=Ot("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.container,t[`scroll${bt(n.scroll)}`]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),eke=Ot(K0,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.paper,t[`scrollPaper${bt(n.scroll)}`],t[`paperWidth${bt(String(n.maxWidth))}`],n.fullWidth&&t.paperFullWidth,n.fullScreen&&t.paperFullScreen]}})(Jn(({theme:e})=>({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:({ownerState:t})=>!t.maxWidth,style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:e.breakpoints.unit==="px"?Math.max(e.breakpoints.values.xs,444):`max(${e.breakpoints.values.xs}${e.breakpoints.unit}, 444px)`,[`&.${WA.paperScrollBody}`]:{[e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(e.breakpoints.values).filter(t=>t!=="xs").map(t=>({props:{maxWidth:t},style:{maxWidth:`${e.breakpoints.values[t]}${e.breakpoints.unit}`,[`&.${WA.paperScrollBody}`]:{[e.breakpoints.down(e.breakpoints.values[t]+32*2)]:{maxWidth:"calc(100% - 64px)"}}}})),{props:({ownerState:t})=>t.fullWidth,style:{width:"calc(100% - 64px)"}},{props:({ownerState:t})=>t.fullScreen,style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${WA.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}}]}))),tke=E.forwardRef(function(t,n){const r=Fn({props:t,name:"MuiDialog"}),a=Tm(),i={enter:a.transitions.duration.enteringScreen,exit:a.transitions.duration.leavingScreen},{"aria-describedby":o,"aria-labelledby":s,"aria-modal":l=!0,BackdropComponent:u,BackdropProps:d,children:f,className:h,disableEscapeKeyDown:p=!1,fullScreen:m=!1,fullWidth:g=!1,maxWidth:y="sm",onClick:x,onClose:b,open:w,PaperComponent:_=K0,PaperProps:S={},scroll:k="paper",slots:N={},slotProps:P={},TransitionComponent:T=A3,transitionDuration:j=i,TransitionProps:D,...M}=r,R={...r,disableEscapeKeyDown:p,fullScreen:m,fullWidth:g,maxWidth:y,scroll:k},W=ZNe(R),B=E.useRef(),V=re=>{B.current=re.target===re.currentTarget},q=re=>{x&&x(re),B.current&&(B.current=null,b&&b(re,"backdropClick"))},I=q0(s),O=E.useMemo(()=>({titleId:I}),[I]),H={transition:T,...N},ne={transition:D,paper:S,backdrop:d,...P},z={slots:H,slotProps:ne},[J,ee]=kn("root",{elementType:QNe,shouldForwardComponentProp:!0,externalForwardedProps:z,ownerState:R,className:Tt(W.root,h),ref:n}),[G,Z]=kn("backdrop",{elementType:XNe,shouldForwardComponentProp:!0,externalForwardedProps:z,ownerState:R}),[se,ae]=kn("paper",{elementType:eke,shouldForwardComponentProp:!0,externalForwardedProps:z,ownerState:R,className:Tt(W.paper,S.className)}),[Y,X]=kn("container",{elementType:JNe,externalForwardedProps:z,ownerState:R,className:W.container}),[K,F]=kn("transition",{elementType:A3,externalForwardedProps:z,ownerState:R,additionalProps:{appear:!0,in:w,timeout:j,role:"presentation"}});return c.jsx(J,{closeAfterTransition:!0,slots:{backdrop:G},slotProps:{backdrop:{transitionDuration:j,as:u,...Z}},disableEscapeKeyDown:p,onClose:b,open:w,onClick:q,...ee,...M,children:c.jsx(K,{...F,children:c.jsx(Y,{onMouseDown:V,...X,children:c.jsx(se,{as:_,elevation:24,role:"dialog","aria-describedby":o,"aria-labelledby":I,"aria-modal":l,...ae,children:c.jsx(sre.Provider,{value:O,children:f})})})})})});function nke(e){return Mn("MuiDialogActions",e)}jn("MuiDialogActions",["root","spacing"]);const rke=e=>{const{classes:t,disableSpacing:n}=e;return On({root:["root",!n&&"spacing"]},nke,t)},ake=Ot("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableSpacing&&t.spacing]}})({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto",variants:[{props:({ownerState:e})=>!e.disableSpacing,style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),ike=E.forwardRef(function(t,n){const r=Fn({props:t,name:"MuiDialogActions"}),{className:a,disableSpacing:i=!1,...o}=r,s={...r,disableSpacing:i},l=rke(s);return c.jsx(ake,{className:Tt(l.root,a),ownerState:s,ref:n,...o})});function oke(e){return Mn("MuiDialogContent",e)}jn("MuiDialogContent",["root","dividers"]);function ske(e){return Mn("MuiDialogTitle",e)}const lke=jn("MuiDialogTitle",["root"]),cke=e=>{const{classes:t,dividers:n}=e;return On({root:["root",n&&"dividers"]},oke,t)},uke=Ot("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dividers&&t.dividers]}})(Jn(({theme:e})=>({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px",variants:[{props:({ownerState:t})=>t.dividers,style:{padding:"16px 24px",borderTop:`1px solid ${(e.vars||e).palette.divider}`,borderBottom:`1px solid ${(e.vars||e).palette.divider}`}},{props:({ownerState:t})=>!t.dividers,style:{[`.${lke.root} + &`]:{paddingTop:0}}}]}))),dke=E.forwardRef(function(t,n){const r=Fn({props:t,name:"MuiDialogContent"}),{className:a,dividers:i=!1,...o}=r,s={...r,dividers:i},l=cke(s);return c.jsx(uke,{className:Tt(l.root,a),ownerState:s,ref:n,...o})}),fke=e=>{const{classes:t}=e;return On({root:["root"]},ske,t)},hke=Ot(fa,{name:"MuiDialogTitle",slot:"Root"})({padding:"16px 24px",flex:"0 0 auto"}),pke=E.forwardRef(function(t,n){const r=Fn({props:t,name:"MuiDialogTitle"}),{className:a,id:i,...o}=r,s=r,l=fke(s),{titleId:u=i}=E.useContext(sre);return c.jsx(hke,{component:"h2",className:Tt(l.root,a),ownerState:s,ref:n,variant:"h6",id:i??u,...o})}),mke=e=>{const{classes:t,disableUnderline:n,startAdornment:r,endAdornment:a,size:i,hiddenLabel:o,multiline:s}=e,l={root:["root",!n&&"underline",r&&"adornedStart",a&&"adornedEnd",i==="small"&&`size${bt(i)}`,o&&"hiddenLabel",s&&"multiline"],input:["input"]},u=On(l,tNe,t);return{...t,...u}},gke=Ot(Ij,{shouldForwardProp:e=>wc(e)||e==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...Oj(e,t),!n.disableUnderline&&t.underline]}})(Jn(({theme:e})=>{const t=e.palette.mode==="light",n=t?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",r=t?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",a=t?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",i=t?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:e.vars?e.vars.palette.FilledInput.bg:r,borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:e.vars?e.vars.palette.FilledInput.hoverBg:a,"@media (hover: none)":{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:r}},[`&.${Hh.focused}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:r},[`&.${Hh.disabled}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.disabledBg:i},variants:[{props:({ownerState:o})=>!o.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Hh.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Hh.error}`]:{"&::before, &::after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`:n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Hh.disabled}, .${Hh.error}):before`]:{borderBottom:`1px solid ${(e.vars||e).palette.text.primary}`},[`&.${Hh.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(e.palette).filter(Zi()).map(([o])=>{var s;return{props:{disableUnderline:!1,color:o},style:{"&::after":{borderBottom:`2px solid ${(s=(e.vars||e).palette[o])==null?void 0:s.main}`}}}}),{props:({ownerState:o})=>o.startAdornment,style:{paddingLeft:12}},{props:({ownerState:o})=>o.endAdornment,style:{paddingRight:12}},{props:({ownerState:o})=>o.multiline,style:{padding:"25px 12px 8px"}},{props:({ownerState:o,size:s})=>o.multiline&&s==="small",style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:o})=>o.multiline&&o.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:o})=>o.multiline&&o.hiddenLabel&&o.size==="small",style:{paddingTop:8,paddingBottom:9}}]}})),vke=Ot(Rj,{name:"MuiFilledInput",slot:"Input",overridesResolver:Mj})(Jn(({theme:e})=>({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...e.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:t})=>t.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:t})=>t.startAdornment,style:{paddingLeft:0}},{props:({ownerState:t})=>t.endAdornment,style:{paddingRight:0}},{props:({ownerState:t})=>t.hiddenLabel&&t.size==="small",style:{paddingTop:8,paddingBottom:9}},{props:({ownerState:t})=>t.multiline,style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}))),AL=E.forwardRef(function(t,n){const r=Fn({props:t,name:"MuiFilledInput"}),{disableUnderline:a=!1,components:i={},componentsProps:o,fullWidth:s=!1,hiddenLabel:l,inputComponent:u="input",multiline:d=!1,slotProps:f,slots:h={},type:p="text",...m}=r,g={...r,disableUnderline:a,fullWidth:s,inputComponent:u,multiline:d,type:p},y=mke(r),x={root:{ownerState:g},input:{ownerState:g}},b=f??o?_o(x,f??o):x,w=h.root??i.Root??gke,_=h.input??i.Input??vke;return c.jsx(TL,{slots:{root:w,input:_},slotProps:b,fullWidth:s,inputComponent:u,multiline:d,ref:n,type:p,...m,classes:y})});AL.muiName="Input";function yke(e){return Mn("MuiFormControl",e)}jn("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const xke=e=>{const{classes:t,margin:n,fullWidth:r}=e,a={root:["root",n!=="none"&&`margin${bt(n)}`,r&&"fullWidth"]};return On(a,yke,t)},bke=Ot("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`margin${bt(n.margin)}`],n.fullWidth&&t.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),wke=E.forwardRef(function(t,n){const r=Fn({props:t,name:"MuiFormControl"}),{children:a,className:i,color:o="primary",component:s="div",disabled:l=!1,error:u=!1,focused:d,fullWidth:f=!1,hiddenLabel:h=!1,margin:p="none",required:m=!1,size:g="medium",variant:y="outlined",...x}=r,b={...r,color:o,component:s,disabled:l,error:u,fullWidth:f,hiddenLabel:h,margin:p,required:m,size:g,variant:y},w=xke(b),[_,S]=E.useState(()=>{let B=!1;return a&&E.Children.forEach(a,V=>{if(!WS(V,["Input","Select"]))return;const q=WS(V,["Select"])?V.props.input:V;q&&XEe(q.props)&&(B=!0)}),B}),[k,N]=E.useState(()=>{let B=!1;return a&&E.Children.forEach(a,V=>{WS(V,["Input","Select"])&&(aE(V.props,!0)||aE(V.props.inputProps,!0))&&(B=!0)}),B}),[P,T]=E.useState(!1);l&&P&&T(!1);const j=d!==void 0&&!l?d:P;let D;E.useRef(!1);const M=E.useCallback(()=>{N(!0)},[]),R=E.useCallback(()=>{N(!1)},[]),W=E.useMemo(()=>({adornedStart:_,setAdornedStart:S,color:o,disabled:l,error:u,filled:k,focused:j,fullWidth:f,hiddenLabel:h,size:g,onBlur:()=>{T(!1)},onFocus:()=>{T(!0)},onEmpty:R,onFilled:M,registerEffect:D,required:m,variant:y}),[_,o,l,u,k,j,f,h,D,R,M,m,g,y]);return c.jsx(Dj.Provider,{value:W,children:c.jsx(bke,{as:s,ownerState:b,className:Tt(w.root,i),ref:n,...x,children:a})})});function _ke(e){return Mn("MuiFormHelperText",e)}const Lz=jn("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var $z;const Ske=e=>{const{classes:t,contained:n,size:r,disabled:a,error:i,filled:o,focused:s,required:l}=e,u={root:["root",a&&"disabled",i&&"error",r&&`size${bt(r)}`,n&&"contained",s&&"focused",o&&"filled",l&&"required"]};return On(u,_ke,t)},Cke=Ot("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.size&&t[`size${bt(n.size)}`],n.contained&&t.contained,n.filled&&t.filled]}})(Jn(({theme:e})=>({color:(e.vars||e).palette.text.secondary,...e.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${Lz.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${Lz.error}`]:{color:(e.vars||e).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:({ownerState:t})=>t.contained,style:{marginLeft:14,marginRight:14}}]}))),Eke=E.forwardRef(function(t,n){const r=Fn({props:t,name:"MuiFormHelperText"}),{children:a,className:i,component:o="p",disabled:s,error:l,filled:u,focused:d,margin:f,required:h,variant:p,...m}=r,g=Am(),y=X0({props:r,muiFormControl:g,states:["variant","size","disabled","error","filled","focused","required"]}),x={...r,component:o,contained:y.variant==="filled"||y.variant==="outlined",variant:y.variant,size:y.size,disabled:y.disabled,error:y.error,filled:y.filled,focused:y.focused,required:y.required};delete x.ownerState;const b=Ske(x);return c.jsx(Cke,{as:o,className:Tt(b.root,i),ref:n,...m,ownerState:x,children:a===" "?$z||($z=c.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):a})});function Nke(e){return Mn("MuiFormLabel",e)}const Jx=jn("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),kke=e=>{const{classes:t,color:n,focused:r,disabled:a,error:i,filled:o,required:s}=e,l={root:["root",`color${bt(n)}`,a&&"disabled",i&&"error",o&&"filled",r&&"focused",s&&"required"],asterisk:["asterisk",i&&"error"]};return On(l,Nke,t)},jke=Ot("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color==="secondary"&&t.colorSecondary,n.filled&&t.filled]}})(Jn(({theme:e})=>({color:(e.vars||e).palette.text.secondary,...e.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(e.palette).filter(Zi()).map(([t])=>({props:{color:t},style:{[`&.${Jx.focused}`]:{color:(e.vars||e).palette[t].main}}})),{props:{},style:{[`&.${Jx.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${Jx.error}`]:{color:(e.vars||e).palette.error.main}}}]}))),Tke=Ot("span",{name:"MuiFormLabel",slot:"Asterisk"})(Jn(({theme:e})=>({[`&.${Jx.error}`]:{color:(e.vars||e).palette.error.main}}))),Pke=E.forwardRef(function(t,n){const r=Fn({props:t,name:"MuiFormLabel"}),{children:a,className:i,color:o,component:s="label",disabled:l,error:u,filled:d,focused:f,required:h,...p}=r,m=Am(),g=X0({props:r,muiFormControl:m,states:["color","required","focused","disabled","error","filled"]}),y={...r,color:g.color||"primary",component:s,disabled:g.disabled,error:g.error,filled:g.filled,focused:g.focused,required:g.required},x=kke(y);return c.jsxs(jke,{as:s,ownerState:y,className:Tt(x.root,i),ref:n,...p,children:[a,g.required&&c.jsxs(Tke,{ownerState:y,"aria-hidden":!0,className:x.asterisk,children:["","*"]})]})});function D3(e){return`scale(${e}, ${e**2})`}const Ake={entering:{opacity:1,transform:D3(1)},entered:{opacity:1,transform:"none"}},VA=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),hb=E.forwardRef(function(t,n){const{addEndListener:r,appear:a=!0,children:i,easing:o,in:s,onEnter:l,onEntered:u,onEntering:d,onExit:f,onExited:h,onExiting:p,style:m,timeout:g="auto",TransitionComponent:y=Il,...x}=t,b=Af(),w=E.useRef(),_=Tm(),S=E.useRef(null),k=Ga(S,Pm(i),n),N=B=>V=>{if(B){const q=S.current;V===void 0?B(q):B(q,V)}},P=N(d),T=N((B,V)=>{$ne(B);const{duration:q,delay:I,easing:O}=Yv({style:m,timeout:g,easing:o},{mode:"enter"});let H;g==="auto"?(H=_.transitions.getAutoHeightDuration(B.clientHeight),w.current=H):H=q,B.style.transition=[_.transitions.create("opacity",{duration:H,delay:I}),_.transitions.create("transform",{duration:VA?H:H*.666,delay:I,easing:O})].join(","),l&&l(B,V)}),j=N(u),D=N(p),M=N(B=>{const{duration:V,delay:q,easing:I}=Yv({style:m,timeout:g,easing:o},{mode:"exit"});let O;g==="auto"?(O=_.transitions.getAutoHeightDuration(B.clientHeight),w.current=O):O=V,B.style.transition=[_.transitions.create("opacity",{duration:O,delay:q}),_.transitions.create("transform",{duration:VA?O:O*.666,delay:VA?q:q||O*.333,easing:I})].join(","),B.style.opacity=0,B.style.transform=D3(.75),f&&f(B)}),R=N(h),W=B=>{g==="auto"&&b.start(w.current||0,B),r&&r(S.current,B)};return c.jsx(y,{appear:a,in:s,nodeRef:S,onEnter:T,onEntered:j,onEntering:P,onExit:M,onExited:R,onExiting:D,addEndListener:W,timeout:g==="auto"?null:g,...x,children:(B,{ownerState:V,...q})=>E.cloneElement(i,{style:{opacity:0,transform:D3(.75),visibility:B==="exited"&&!s?"hidden":void 0,...Ake[B],...m,...i.props.style},ref:k,...q})})});hb&&(hb.muiSupportAuto=!0);const Dke=e=>{const{classes:t,disableUnderline:n}=e,a=On({root:["root",!n&&"underline"],input:["input"]},JEe,t);return{...t,...a}},Oke=Ot(Ij,{shouldForwardProp:e=>wc(e)||e==="classes",name:"MuiInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...Oj(e,t),!n.disableUnderline&&t.underline]}})(Jn(({theme:e})=>{let n=e.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return e.vars&&(n=`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`),{position:"relative",variants:[{props:({ownerState:r})=>r.formControl,style:{"label + &":{marginTop:16}}},{props:({ownerState:r})=>!r.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Uy.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Uy.error}`]:{"&::before, &::after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Uy.disabled}, .${Uy.error}):before`]:{borderBottom:`2px solid ${(e.vars||e).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${n}`}},[`&.${Uy.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(e.palette).filter(Zi()).map(([r])=>({props:{color:r,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(e.vars||e).palette[r].main}`}}}))]}})),Mke=Ot(Rj,{name:"MuiInput",slot:"Input",overridesResolver:Mj})({}),DL=E.forwardRef(function(t,n){const r=Fn({props:t,name:"MuiInput"}),{disableUnderline:a=!1,components:i={},componentsProps:o,fullWidth:s=!1,inputComponent:l="input",multiline:u=!1,slotProps:d,slots:f={},type:h="text",...p}=r,m=Dke(r),y={root:{ownerState:{disableUnderline:a}}},x=d??o?_o(d??o,y):y,b=f.root??i.Root??Oke,w=f.input??i.Input??Mke;return c.jsx(TL,{slots:{root:b,input:w},slotProps:x,fullWidth:s,inputComponent:l,multiline:u,ref:n,type:h,...p,classes:m})});DL.muiName="Input";function Ike(e){return Mn("MuiInputAdornment",e)}const Bz=jn("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var zz;const Rke=(e,t)=>{const{ownerState:n}=e;return[t.root,t[`position${bt(n.position)}`],n.disablePointerEvents===!0&&t.disablePointerEvents,t[n.variant]]},Fke=e=>{const{classes:t,disablePointerEvents:n,hiddenLabel:r,position:a,size:i,variant:o}=e,s={root:["root",n&&"disablePointerEvents",a&&`position${bt(a)}`,o,r&&"hiddenLabel",i&&`size${bt(i)}`]};return On(s,Ike,t)},Lke=Ot("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:Rke})(Jn(({theme:e})=>({display:"flex",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(e.vars||e).palette.action.active,variants:[{props:{variant:"filled"},style:{[`&.${Bz.positionStart}&:not(.${Bz.hiddenLabel})`]:{marginTop:16}}},{props:{position:"start"},style:{marginRight:8}},{props:{position:"end"},style:{marginLeft:8}},{props:{disablePointerEvents:!0},style:{pointerEvents:"none"}}]}))),$ke=E.forwardRef(function(t,n){const r=Fn({props:t,name:"MuiInputAdornment"}),{children:a,className:i,component:o="div",disablePointerEvents:s=!1,disableTypography:l=!1,position:u,variant:d,...f}=r,h=Am()||{};let p=d;d&&h.variant,h&&!p&&(p=h.variant);const m={...r,hiddenLabel:h.hiddenLabel,size:h.size,disablePointerEvents:s,position:u,variant:p},g=Fke(m);return c.jsx(Dj.Provider,{value:null,children:c.jsx(Lke,{as:o,ownerState:m,className:Tt(g.root,i),ref:n,...f,children:typeof a=="string"&&!l?c.jsx(fa,{color:"textSecondary",children:a}):c.jsxs(E.Fragment,{children:[u==="start"?zz||(zz=c.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):null,a]})})})});function Bke(e){return Mn("MuiInputLabel",e)}jn("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const zke=e=>{const{classes:t,formControl:n,size:r,shrink:a,disableAnimation:i,variant:o,required:s}=e,l={root:["root",n&&"formControl",!i&&"animated",a&&"shrink",r&&r!=="medium"&&`size${bt(r)}`,o],asterisk:[s&&"asterisk"]},u=On(l,Bke,t);return{...t,...u}},Uke=Ot(Pke,{shouldForwardProp:e=>wc(e)||e==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${Jx.asterisk}`]:t.asterisk},t.root,n.formControl&&t.formControl,n.size==="small"&&t.sizeSmall,n.shrink&&t.shrink,!n.disableAnimation&&t.animated,n.focused&&t.focused,t[n.variant]]}})(Jn(({theme:e})=>({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:({ownerState:t})=>t.formControl,style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:({ownerState:t})=>t.shrink,style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:({ownerState:t})=>!t.disableAnimation,style:{transition:e.transitions.create(["color","transform","max-width"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:({variant:t,ownerState:n})=>t==="filled"&&n.shrink,style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:({variant:t,ownerState:n,size:r})=>t==="filled"&&n.shrink&&r==="small",style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:({variant:t,ownerState:n})=>t==="outlined"&&n.shrink,style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}))),Wke=E.forwardRef(function(t,n){const r=Fn({name:"MuiInputLabel",props:t}),{disableAnimation:a=!1,margin:i,shrink:o,variant:s,className:l,...u}=r,d=Am();let f=o;typeof f>"u"&&d&&(f=d.filled||d.focused||d.adornedStart);const h=X0({props:r,muiFormControl:d,states:["size","variant","required","focused"]}),p={...r,disableAnimation:a,formControl:d,shrink:f,size:h.size,variant:h.variant,required:h.required,focused:h.focused},m=zke(p);return c.jsx(Uke,{"data-shrink":f,ref:n,className:Tt(m.root,l),...u,ownerState:p,classes:m})}),hv=E.createContext({});function Vke(e){return Mn("MuiList",e)}jn("MuiList",["root","padding","dense","subheader"]);const Hke=e=>{const{classes:t,disablePadding:n,dense:r,subheader:a}=e;return On({root:["root",!n&&"padding",r&&"dense",a&&"subheader"]},Vke,t)},qke=Ot("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disablePadding&&t.padding,n.dense&&t.dense,n.subheader&&t.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:e})=>!e.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:e})=>e.subheader,style:{paddingTop:0}}]}),lre=E.forwardRef(function(t,n){const r=Fn({props:t,name:"MuiList"}),{children:a,className:i,component:o="ul",dense:s=!1,disablePadding:l=!1,subheader:u,...d}=r,f=E.useMemo(()=>({dense:s}),[s]),h={...r,component:o,dense:s,disablePadding:l},p=Hke(h);return c.jsx(hv.Provider,{value:f,children:c.jsxs(qke,{as:o,className:Tt(p.root,i),ref:n,ownerState:h,...d,children:[u,a]})})});function Gke(e){return Mn("MuiListItem",e)}jn("MuiListItem",["root","container","dense","alignItemsFlexStart","divider","gutters","padding","secondaryAction"]);const Yke=jn("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]);function Kke(e){return Mn("MuiListItemSecondaryAction",e)}jn("MuiListItemSecondaryAction",["root","disableGutters"]);const Xke=e=>{const{disableGutters:t,classes:n}=e;return On({root:["root",t&&"disableGutters"]},Kke,n)},Zke=Ot("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.disableGutters&&t.disableGutters]}})({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)",variants:[{props:({ownerState:e})=>e.disableGutters,style:{right:0}}]}),cre=E.forwardRef(function(t,n){const r=Fn({props:t,name:"MuiListItemSecondaryAction"}),{className:a,...i}=r,o=E.useContext(hv),s={...r,disableGutters:o.disableGutters},l=Xke(s);return c.jsx(Zke,{className:Tt(l.root,a),ownerState:s,ref:n,...i})});cre.muiName="ListItemSecondaryAction";const Qke=(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,n.alignItems==="flex-start"&&t.alignItemsFlexStart,n.divider&&t.divider,!n.disableGutters&&t.gutters,!n.disablePadding&&t.padding,n.hasSecondaryAction&&t.secondaryAction]},Jke=e=>{const{alignItems:t,classes:n,dense:r,disableGutters:a,disablePadding:i,divider:o,hasSecondaryAction:s}=e;return On({root:["root",r&&"dense",!a&&"gutters",!i&&"padding",o&&"divider",t==="flex-start"&&"alignItemsFlexStart",s&&"secondaryAction"],container:["container"]},Gke,n)},eje=Ot("div",{name:"MuiListItem",slot:"Root",overridesResolver:Qke})(Jn(({theme:e})=>({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",variants:[{props:({ownerState:t})=>!t.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:t})=>!t.disablePadding&&t.dense,style:{paddingTop:4,paddingBottom:4}},{props:({ownerState:t})=>!t.disablePadding&&!t.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:t})=>!t.disablePadding&&!!t.secondaryAction,style:{paddingRight:48}},{props:({ownerState:t})=>!!t.secondaryAction,style:{[`& > .${Yke.root}`]:{paddingRight:48}}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:t})=>t.divider,style:{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:t})=>t.button,style:{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}}},{props:({ownerState:t})=>t.hasSecondaryAction,style:{paddingRight:48}}]}))),tje=Ot("li",{name:"MuiListItem",slot:"Container"})({position:"relative"}),nje=E.forwardRef(function(t,n){const r=Fn({props:t,name:"MuiListItem"}),{alignItems:a="center",children:i,className:o,component:s,components:l={},componentsProps:u={},ContainerComponent:d="li",ContainerProps:{className:f,...h}={},dense:p=!1,disableGutters:m=!1,disablePadding:g=!1,divider:y=!1,secondaryAction:x,slotProps:b={},slots:w={},..._}=r,S=E.useContext(hv),k=E.useMemo(()=>({dense:p||S.dense||!1,alignItems:a,disableGutters:m}),[a,S.dense,p,m]),N=E.useRef(null),P=E.Children.toArray(i),T=P.length&&WS(P[P.length-1],["ListItemSecondaryAction"]),j={...r,alignItems:a,dense:k.dense,disableGutters:m,disablePadding:g,divider:y,hasSecondaryAction:T},D=Jke(j),M=Ga(N,n),R=w.root||l.Root||eje,W=b.root||u.root||{},B={className:Tt(D.root,W.className,o),..._};let V=s||"li";return T?(V=!B.component&&!s?"div":V,d==="li"&&(V==="li"?V="div":B.component==="li"&&(B.component="div")),c.jsx(hv.Provider,{value:k,children:c.jsxs(tje,{as:d,className:Tt(D.container,f),ref:M,ownerState:j,...h,children:[c.jsx(R,{...W,...!fb(R)&&{as:V,ownerState:{...j,...W.ownerState}},...B,children:P}),P.pop()]})})):c.jsx(hv.Provider,{value:k,children:c.jsxs(R,{...W,as:V,ref:M,...!fb(R)&&{ownerState:{...j,...W.ownerState}},...B,children:[P,x&&c.jsx(cre,{children:x})]})})});function rje(e){return Mn("MuiListItemText",e)}const f_=jn("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),aje=e=>{const{classes:t,inset:n,primary:r,secondary:a,dense:i}=e;return On({root:["root",n&&"inset",i&&"dense",r&&a&&"multiline"],primary:["primary"],secondary:["secondary"]},rje,t)},ije=Ot("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${f_.primary}`]:t.primary},{[`& .${f_.secondary}`]:t.secondary},t.root,n.inset&&t.inset,n.primary&&n.secondary&&t.multiline,n.dense&&t.dense]}})({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4,[`.${mz.root}:where(& .${f_.primary})`]:{display:"block"},[`.${mz.root}:where(& .${f_.secondary})`]:{display:"block"},variants:[{props:({ownerState:e})=>e.primary&&e.secondary,style:{marginTop:6,marginBottom:6}},{props:({ownerState:e})=>e.inset,style:{paddingLeft:56}}]}),Uz=E.forwardRef(function(t,n){const r=Fn({props:t,name:"MuiListItemText"}),{children:a,className:i,disableTypography:o=!1,inset:s=!1,primary:l,primaryTypographyProps:u,secondary:d,secondaryTypographyProps:f,slots:h={},slotProps:p={},...m}=r,{dense:g}=E.useContext(hv);let y=l??a,x=d;const b={...r,disableTypography:o,inset:s,primary:!!y,secondary:!!x,dense:g},w=aje(b),_={slots:h,slotProps:{primary:u,secondary:f,...p}},[S,k]=kn("root",{className:Tt(w.root,i),elementType:ije,externalForwardedProps:{..._,...m},ownerState:b,ref:n}),[N,P]=kn("primary",{className:w.primary,elementType:fa,externalForwardedProps:_,ownerState:b}),[T,j]=kn("secondary",{className:w.secondary,elementType:fa,externalForwardedProps:_,ownerState:b});return y!=null&&y.type!==fa&&!o&&(y=c.jsx(N,{variant:g?"body2":"body1",component:P!=null&&P.variant?void 0:"span",...P,children:y})),x!=null&&x.type!==fa&&!o&&(x=c.jsx(T,{variant:"body2",color:"textSecondary",...j,children:x})),c.jsxs(S,{...k,children:[y,x]})});function HA(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function Wz(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function ure(e,t){if(t===void 0)return!0;let n=e.innerText;return n===void 0&&(n=e.textContent),n=n.trim().toLowerCase(),n.length===0?!1:t.repeating?n[0]===t.keys[0]:n.startsWith(t.keys.join(""))}function Wy(e,t,n,r,a,i){let o=!1,s=a(e,t,t?n:!1);for(;s;){if(s===e.firstChild){if(o)return!1;o=!0}const l=r?!1:s.disabled||s.getAttribute("aria-disabled")==="true";if(!s.hasAttribute("tabindex")||!ure(s,i)||l)s=a(e,s,n);else return s.focus(),!0}return!1}const oje=E.forwardRef(function(t,n){const{actions:r,autoFocus:a=!1,autoFocusItem:i=!1,children:o,className:s,disabledItemsFocusable:l=!1,disableListWrap:u=!1,onKeyDown:d,variant:f="selectedMenu",...h}=t,p=E.useRef(null),m=E.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});jd(()=>{a&&p.current.focus()},[a]),E.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(w,{direction:_})=>{const S=!p.current.style.width;if(w.clientHeight<p.current.clientHeight&&S){const k=`${ore(Td(w))}px`;p.current.style[_==="rtl"?"paddingLeft":"paddingRight"]=k,p.current.style.width=`calc(100% + ${k})`}return p.current}}),[]);const g=w=>{const _=p.current,S=w.key;if(w.ctrlKey||w.metaKey||w.altKey){d&&d(w);return}const N=So(_).activeElement;if(S==="ArrowDown")w.preventDefault(),Wy(_,N,u,l,HA);else if(S==="ArrowUp")w.preventDefault(),Wy(_,N,u,l,Wz);else if(S==="Home")w.preventDefault(),Wy(_,null,u,l,HA);else if(S==="End")w.preventDefault(),Wy(_,null,u,l,Wz);else if(S.length===1){const P=m.current,T=S.toLowerCase(),j=performance.now();P.keys.length>0&&(j-P.lastTime>500?(P.keys=[],P.repeating=!0,P.previousKeyMatched=!0):P.repeating&&T!==P.keys[0]&&(P.repeating=!1)),P.lastTime=j,P.keys.push(T);const D=N&&!P.repeating&&ure(N,P);P.previousKeyMatched&&(D||Wy(_,N,!1,l,HA,P))?w.preventDefault():P.previousKeyMatched=!1}d&&d(w)},y=Ga(p,n);let x=-1;E.Children.forEach(o,(w,_)=>{if(!E.isValidElement(w)){x===_&&(x+=1,x>=o.length&&(x=-1));return}w.props.disabled||(f==="selectedMenu"&&w.props.selected||x===-1)&&(x=_),x===_&&(w.props.disabled||w.props.muiSkipListHighlight||w.type.muiSkipListHighlight)&&(x+=1,x>=o.length&&(x=-1))});const b=E.Children.map(o,(w,_)=>{if(_===x){const S={};return i&&(S.autoFocus=!0),w.props.tabIndex===void 0&&f==="selectedMenu"&&(S.tabIndex=0),E.cloneElement(w,S)}return w});return c.jsx(lre,{role:"menu",ref:y,className:s,onKeyDown:g,tabIndex:a?0:-1,...h,children:b})});function sje(e){return Mn("MuiPopover",e)}jn("MuiPopover",["root","paper"]);function Vz(e,t){let n=0;return typeof t=="number"?n=t:t==="center"?n=e.height/2:t==="bottom"&&(n=e.height),n}function Hz(e,t){let n=0;return typeof t=="number"?n=t:t==="center"?n=e.width/2:t==="right"&&(n=e.width),n}function qz(e){return[e.horizontal,e.vertical].map(t=>typeof t=="number"?`${t}px`:t).join(" ")}function h_(e){return typeof e=="function"?e():e}const lje=e=>{const{classes:t}=e;return On({root:["root"],paper:["paper"]},sje,t)},cje=Ot(PL,{name:"MuiPopover",slot:"Root"})({}),dre=Ot(K0,{name:"MuiPopover",slot:"Paper"})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),uje=E.forwardRef(function(t,n){const r=Fn({props:t,name:"MuiPopover"}),{action:a,anchorEl:i,anchorOrigin:o={vertical:"top",horizontal:"left"},anchorPosition:s,anchorReference:l="anchorEl",children:u,className:d,container:f,elevation:h=8,marginThreshold:p=16,open:m,PaperProps:g={},slots:y={},slotProps:x={},transformOrigin:b={vertical:"top",horizontal:"left"},TransitionComponent:w,transitionDuration:_="auto",TransitionProps:S={},disableScrollLock:k=!1,...N}=r,P=E.useRef(),T={...r,anchorOrigin:o,anchorReference:l,elevation:h,marginThreshold:p,transformOrigin:b,TransitionComponent:w,transitionDuration:_,TransitionProps:S},j=lje(T),D=E.useCallback(()=>{if(l==="anchorPosition")return s;const X=h_(i),F=(X&&X.nodeType===1?X:So(P.current).body).getBoundingClientRect();return{top:F.top+Vz(F,o.vertical),left:F.left+Hz(F,o.horizontal)}},[i,o.horizontal,o.vertical,s,l]),M=E.useCallback(X=>({vertical:Vz(X,b.vertical),horizontal:Hz(X,b.horizontal)}),[b.horizontal,b.vertical]),R=E.useCallback(X=>{const K={width:X.offsetWidth,height:X.offsetHeight},F=M(K);if(l==="none")return{top:null,left:null,transformOrigin:qz(F)};const re=D();let Q=re.top-F.vertical,oe=re.left-F.horizontal;const me=Q+K.height,be=oe+K.width,ye=Td(h_(i)),de=ye.innerHeight-p,we=ye.innerWidth-p;if(p!==null&&Q<p){const We=Q-p;Q-=We,F.vertical+=We}else if(p!==null&&me>de){const We=me-de;Q-=We,F.vertical+=We}if(p!==null&&oe<p){const We=oe-p;oe-=We,F.horizontal+=We}else if(be>we){const We=be-we;oe-=We,F.horizontal+=We}return{top:`${Math.round(Q)}px`,left:`${Math.round(oe)}px`,transformOrigin:qz(F)}},[i,l,D,M,p]),[W,B]=E.useState(m),V=E.useCallback(()=>{const X=P.current;if(!X)return;const K=R(X);K.top!==null&&X.style.setProperty("top",K.top),K.left!==null&&(X.style.left=K.left),X.style.transformOrigin=K.transformOrigin,B(!0)},[R]);E.useEffect(()=>(k&&window.addEventListener("scroll",V),()=>window.removeEventListener("scroll",V)),[i,k,V]);const q=()=>{V()},I=()=>{B(!1)};E.useEffect(()=>{m&&V()}),E.useImperativeHandle(a,()=>m?{updatePosition:()=>{V()}}:null,[m,V]),E.useEffect(()=>{if(!m)return;const X=Zte(()=>{V()}),K=Td(h_(i));return K.addEventListener("resize",X),()=>{X.clear(),K.removeEventListener("resize",X)}},[i,m,V]);let O=_;const H={slots:{transition:w,...y},slotProps:{transition:S,paper:g,...x}},[ne,z]=kn("transition",{elementType:hb,externalForwardedProps:H,ownerState:T,getSlotProps:X=>({...X,onEntering:(K,F)=>{var re;(re=X.onEntering)==null||re.call(X,K,F),q()},onExited:K=>{var F;(F=X.onExited)==null||F.call(X,K),I()}}),additionalProps:{appear:!0,in:m}});_==="auto"&&!ne.muiSupportAuto&&(O=void 0);const J=f||(i?So(h_(i)).body:void 0),[ee,{slots:G,slotProps:Z,...se}]=kn("root",{ref:n,elementType:cje,externalForwardedProps:{...H,...N},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:y.backdrop},slotProps:{backdrop:i2e(typeof x.backdrop=="function"?x.backdrop(T):x.backdrop,{invisible:!0})},container:J,open:m},ownerState:T,className:Tt(j.root,d)}),[ae,Y]=kn("paper",{ref:P,className:j.paper,elementType:dre,externalForwardedProps:H,shouldForwardComponentProp:!0,additionalProps:{elevation:h,style:W?void 0:{opacity:0}},ownerState:T});return c.jsx(ee,{...se,...!fb(ee)&&{slots:G,slotProps:Z,disableScrollLock:k},children:c.jsx(ne,{...z,timeout:O,children:c.jsx(ae,{...Y,children:u})})})});function dje(e){return Mn("MuiMenu",e)}jn("MuiMenu",["root","paper","list"]);const fje={vertical:"top",horizontal:"right"},hje={vertical:"top",horizontal:"left"},pje=e=>{const{classes:t}=e;return On({root:["root"],paper:["paper"],list:["list"]},dje,t)},mje=Ot(uje,{shouldForwardProp:e=>wc(e)||e==="classes",name:"MuiMenu",slot:"Root"})({}),gje=Ot(dre,{name:"MuiMenu",slot:"Paper"})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),vje=Ot(oje,{name:"MuiMenu",slot:"List"})({outline:0}),yje=E.forwardRef(function(t,n){const r=Fn({props:t,name:"MuiMenu"}),{autoFocus:a=!0,children:i,className:o,disableAutoFocusItem:s=!1,MenuListProps:l={},onClose:u,open:d,PaperProps:f={},PopoverClasses:h,transitionDuration:p="auto",TransitionProps:{onEntering:m,...g}={},variant:y="selectedMenu",slots:x={},slotProps:b={},...w}=r,_=uL(),S={...r,autoFocus:a,disableAutoFocusItem:s,MenuListProps:l,onEntering:m,PaperProps:f,transitionDuration:p,TransitionProps:g,variant:y},k=pje(S),N=a&&!s&&d,P=E.useRef(null),T=(O,H)=>{P.current&&P.current.adjustStyleForScrollbar(O,{direction:_?"rtl":"ltr"}),m&&m(O,H)},j=O=>{O.key==="Tab"&&(O.preventDefault(),u&&u(O,"tabKeyDown"))};let D=-1;E.Children.map(i,(O,H)=>{E.isValidElement(O)&&(O.props.disabled||(y==="selectedMenu"&&O.props.selected||D===-1)&&(D=H))});const M={slots:x,slotProps:{list:l,transition:g,paper:f,...b}},R=ere({elementType:x.root,externalSlotProps:b.root,ownerState:S,className:[k.root,o]}),[W,B]=kn("paper",{className:k.paper,elementType:gje,externalForwardedProps:M,shouldForwardComponentProp:!0,ownerState:S}),[V,q]=kn("list",{className:Tt(k.list,l.className),elementType:vje,shouldForwardComponentProp:!0,externalForwardedProps:M,getSlotProps:O=>({...O,onKeyDown:H=>{var ne;j(H),(ne=O.onKeyDown)==null||ne.call(O,H)}}),ownerState:S}),I=typeof M.slotProps.transition=="function"?M.slotProps.transition(S):M.slotProps.transition;return c.jsx(mje,{onClose:u,anchorOrigin:{vertical:"bottom",horizontal:_?"right":"left"},transformOrigin:_?fje:hje,slots:{root:x.root,paper:W,backdrop:x.backdrop,...x.transition&&{transition:x.transition}},slotProps:{root:R,paper:B,backdrop:typeof b.backdrop=="function"?b.backdrop(S):b.backdrop,transition:{...I,onEntering:(...O)=>{var H;T(...O),(H=I==null?void 0:I.onEntering)==null||H.call(I,...O)}}},open:d,ref:n,transitionDuration:p,ownerState:S,...w,classes:h,children:c.jsx(V,{actions:P,autoFocus:a&&(D===-1||s),autoFocusItem:N,variant:y,...q,children:i})})});function xje(e){return Mn("MuiNativeSelect",e)}const OL=jn("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),bje=e=>{const{classes:t,variant:n,disabled:r,multiple:a,open:i,error:o}=e,s={select:["select",n,r&&"disabled",a&&"multiple",o&&"error"],icon:["icon",`icon${bt(n)}`,i&&"iconOpen",r&&"disabled"]};return On(s,xje,t)},fre=Ot("select",{name:"MuiNativeSelect"})(({theme:e})=>({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${OL.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(e.vars||e).palette.background.paper},variants:[{props:({ownerState:t})=>t.variant!=="filled"&&t.variant!=="outlined",style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(e.vars||e).shape.borderRadius,"&:focus":{borderRadius:(e.vars||e).shape.borderRadius},"&&&":{paddingRight:32}}}]})),wje=Ot(fre,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:wc,overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.select,t[n.variant],n.error&&t.error,{[`&.${OL.multiple}`]:t.multiple}]}})({}),hre=Ot("svg",{name:"MuiNativeSelect"})(({theme:e})=>({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(e.vars||e).palette.action.active,[`&.${OL.disabled}`]:{color:(e.vars||e).palette.action.disabled},variants:[{props:({ownerState:t})=>t.open,style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]})),_je=Ot(hre,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t[`icon${bt(n.variant)}`],n.open&&t.iconOpen]}})({}),Sje=E.forwardRef(function(t,n){const{className:r,disabled:a,error:i,IconComponent:o,inputRef:s,variant:l="standard",...u}=t,d={...t,disabled:a,variant:l,error:i},f=bje(d);return c.jsxs(E.Fragment,{children:[c.jsx(wje,{ownerState:d,className:Tt(f.select,r),disabled:a,ref:s||n,...u}),t.multiple?null:c.jsx(_je,{as:o,ownerState:d,className:f.icon})]})});var Gz;const Cje=Ot("fieldset",{name:"MuiNotchedOutlined",shouldForwardProp:wc})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),Eje=Ot("legend",{name:"MuiNotchedOutlined",shouldForwardProp:wc})(Jn(({theme:e})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:({ownerState:t})=>!t.withLabel,style:{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})}},{props:({ownerState:t})=>t.withLabel,style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:({ownerState:t})=>t.withLabel&&t.notched,style:{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})}}]})));function Nje(e){const{children:t,classes:n,className:r,label:a,notched:i,...o}=e,s=a!=null&&a!=="",l={...e,notched:i,withLabel:s};return c.jsx(Cje,{"aria-hidden":!0,className:r,ownerState:l,...o,children:c.jsx(Eje,{ownerState:l,children:s?c.jsx("span",{children:a}):Gz||(Gz=c.jsx("span",{className:"notranslate","aria-hidden":!0,children:""}))})})}const kje=e=>{const{classes:t}=e,r=On({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},eNe,t);return{...t,...r}},jje=Ot(Ij,{shouldForwardProp:e=>wc(e)||e==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:Oj})(Jn(({theme:e})=>{const t=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(e.vars||e).shape.borderRadius,[`&:hover .${Oc.notchedOutline}`]:{borderColor:(e.vars||e).palette.text.primary},"@media (hover: none)":{[`&:hover .${Oc.notchedOutline}`]:{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:t}},[`&.${Oc.focused} .${Oc.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(e.palette).filter(Zi()).map(([n])=>({props:{color:n},style:{[`&.${Oc.focused} .${Oc.notchedOutline}`]:{borderColor:(e.vars||e).palette[n].main}}})),{props:{},style:{[`&.${Oc.error} .${Oc.notchedOutline}`]:{borderColor:(e.vars||e).palette.error.main},[`&.${Oc.disabled} .${Oc.notchedOutline}`]:{borderColor:(e.vars||e).palette.action.disabled}}},{props:({ownerState:n})=>n.startAdornment,style:{paddingLeft:14}},{props:({ownerState:n})=>n.endAdornment,style:{paddingRight:14}},{props:({ownerState:n})=>n.multiline,style:{padding:"16.5px 14px"}},{props:({ownerState:n,size:r})=>n.multiline&&r==="small",style:{padding:"8.5px 14px"}}]}})),Tje=Ot(Nje,{name:"MuiOutlinedInput",slot:"NotchedOutline"})(Jn(({theme:e})=>{const t=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:t}})),Pje=Ot(Rj,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:Mj})(Jn(({theme:e})=>({padding:"16.5px 14px",...!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},...e.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:({ownerState:t})=>t.multiline,style:{padding:0}},{props:({ownerState:t})=>t.startAdornment,style:{paddingLeft:0}},{props:({ownerState:t})=>t.endAdornment,style:{paddingRight:0}}]}))),ML=E.forwardRef(function(t,n){const r=Fn({props:t,name:"MuiOutlinedInput"}),{components:a={},fullWidth:i=!1,inputComponent:o="input",label:s,multiline:l=!1,notched:u,slots:d={},slotProps:f={},type:h="text",...p}=r,m=kje(r),g=Am(),y=X0({props:r,muiFormControl:g,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),x={...r,color:y.color||"primary",disabled:y.disabled,error:y.error,focused:y.focused,formControl:g,fullWidth:i,hiddenLabel:y.hiddenLabel,multiline:l,size:y.size,type:h},b=d.root??a.Root??jje,w=d.input??a.Input??Pje,[_,S]=kn("notchedOutline",{elementType:Tje,className:m.notchedOutline,shouldForwardComponentProp:!0,ownerState:x,externalForwardedProps:{slots:d,slotProps:f},additionalProps:{label:s!=null&&s!==""&&y.required?c.jsxs(E.Fragment,{children:[s,"","*"]}):s}});return c.jsx(TL,{slots:{root:b,input:w},slotProps:f,renderSuffix:k=>c.jsx(_,{...S,notched:typeof u<"u"?u:!!(k.startAdornment||k.filled||k.focused)}),fullWidth:i,inputComponent:o,multiline:l,ref:n,type:h,...p,classes:{...m,notchedOutline:null}})});ML.muiName="Input";function pre(e){return Mn("MuiSelect",e)}const Vy=jn("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var Yz;const Aje=Ot(fre,{name:"MuiSelect",slot:"Select",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`&.${Vy.select}`]:t.select},{[`&.${Vy.select}`]:t[n.variant]},{[`&.${Vy.error}`]:t.error},{[`&.${Vy.multiple}`]:t.multiple}]}})({[`&.${Vy.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),Dje=Ot(hre,{name:"MuiSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t[`icon${bt(n.variant)}`],n.open&&t.iconOpen]}})({}),Oje=Ot("input",{shouldForwardProp:e=>Xte(e)&&e!=="classes",name:"MuiSelect",slot:"NativeInput"})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function Kz(e,t){return typeof t=="object"&&t!==null?e===t:String(e)===String(t)}function Mje(e){return e==null||typeof e=="string"&&!e.trim()}const Ije=e=>{const{classes:t,variant:n,disabled:r,multiple:a,open:i,error:o}=e,s={select:["select",n,r&&"disabled",a&&"multiple",o&&"error"],icon:["icon",`icon${bt(n)}`,i&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return On(s,pre,t)},Rje=E.forwardRef(function(t,n){var yt,ft;const{"aria-describedby":r,"aria-label":a,autoFocus:i,autoWidth:o,children:s,className:l,defaultOpen:u,defaultValue:d,disabled:f,displayEmpty:h,error:p=!1,IconComponent:m,inputRef:g,labelId:y,MenuProps:x={},multiple:b,name:w,onBlur:_,onChange:S,onClose:k,onFocus:N,onOpen:P,open:T,readOnly:j,renderValue:D,required:M,SelectDisplayProps:R={},tabIndex:W,type:B,value:V,variant:q="standard",...I}=t,[O,H]=m3({controlled:V,default:d,name:"Select"}),[ne,z]=m3({controlled:T,default:u,name:"Select"}),J=E.useRef(null),ee=E.useRef(null),[G,Z]=E.useState(null),{current:se}=E.useRef(T!=null),[ae,Y]=E.useState(),X=Ga(n,g),K=E.useCallback(pt=>{ee.current=pt,pt&&Z(pt)},[]),F=G==null?void 0:G.parentNode;E.useImperativeHandle(X,()=>({focus:()=>{ee.current.focus()},node:J.current,value:O}),[O]),E.useEffect(()=>{u&&ne&&G&&!se&&(Y(o?null:F.clientWidth),ee.current.focus())},[G,o]),E.useEffect(()=>{i&&ee.current.focus()},[i]),E.useEffect(()=>{if(!y)return;const pt=So(ee.current).getElementById(y);if(pt){const Lt=()=>{getSelection().isCollapsed&&ee.current.focus()};return pt.addEventListener("click",Lt),()=>{pt.removeEventListener("click",Lt)}}},[y]);const re=(pt,Lt)=>{pt?P&&P(Lt):k&&k(Lt),se||(Y(o?null:F.clientWidth),z(pt))},Q=pt=>{pt.button===0&&(pt.preventDefault(),ee.current.focus(),re(!0,pt))},oe=pt=>{re(!1,pt)},me=E.Children.toArray(s),be=pt=>{const Lt=me.find(ln=>ln.props.value===pt.target.value);Lt!==void 0&&(H(Lt.props.value),S&&S(pt,Lt))},ye=pt=>Lt=>{let ln;if(Lt.currentTarget.hasAttribute("tabindex")){if(b){ln=Array.isArray(O)?O.slice():[];const rr=O.indexOf(pt.props.value);rr===-1?ln.push(pt.props.value):ln.splice(rr,1)}else ln=pt.props.value;if(pt.props.onClick&&pt.props.onClick(Lt),O!==ln&&(H(ln),S)){const rr=Lt.nativeEvent||Lt,Fr=new rr.constructor(rr.type,rr);Object.defineProperty(Fr,"target",{writable:!0,value:{value:ln,name:w}}),S(Fr,pt)}b||re(!1,Lt)}},de=pt=>{j||[" ","ArrowUp","ArrowDown","Enter"].includes(pt.key)&&(pt.preventDefault(),re(!0,pt))},we=G!==null&&ne,We=pt=>{!we&&_&&(Object.defineProperty(pt,"target",{writable:!0,value:{value:O,name:w}}),_(pt))};delete I["aria-invalid"];let Me,ze;const He=[];let dt=!1;(aE({value:O})||h)&&(D?Me=D(O):dt=!0);const qt=me.map(pt=>{if(!E.isValidElement(pt))return null;let Lt;if(b){if(!Array.isArray(O))throw new Error(Nd(2));Lt=O.some(ln=>Kz(ln,pt.props.value)),Lt&&dt&&He.push(pt.props.children)}else Lt=Kz(O,pt.props.value),Lt&&dt&&(ze=pt.props.children);return E.cloneElement(pt,{"aria-selected":Lt?"true":"false",onClick:ye(pt),onKeyUp:ln=>{ln.key===" "&&ln.preventDefault(),pt.props.onKeyUp&&pt.props.onKeyUp(ln)},role:"option",selected:Lt,value:void 0,"data-value":pt.props.value})});dt&&(b?He.length===0?Me=null:Me=He.reduce((pt,Lt,ln)=>(pt.push(Lt),ln<He.length-1&&pt.push(", "),pt),[]):Me=ze);let Zt=ae;!o&&se&&G&&(Zt=F.clientWidth);let Wt;typeof W<"u"?Wt=W:Wt=f?null:0;const mn=R.id||(w?`mui-component-select-${w}`:void 0),Re={...t,variant:q,value:O,open:we,error:p},Ge=Ije(Re),at={...x.PaperProps,...(yt=x.slotProps)==null?void 0:yt.paper},Ke={...x.MenuListProps,...(ft=x.slotProps)==null?void 0:ft.list},Qe=q0();return c.jsxs(E.Fragment,{children:[c.jsx(Aje,{as:"div",ref:K,tabIndex:Wt,role:"combobox","aria-controls":we?Qe:void 0,"aria-disabled":f?"true":void 0,"aria-expanded":we?"true":"false","aria-haspopup":"listbox","aria-label":a,"aria-labelledby":[y,mn].filter(Boolean).join(" ")||void 0,"aria-describedby":r,"aria-required":M?"true":void 0,"aria-invalid":p?"true":void 0,onKeyDown:de,onMouseDown:f||j?null:Q,onBlur:We,onFocus:N,...R,ownerState:Re,className:Tt(R.className,Ge.select,l),id:mn,children:Mje(Me)?Yz||(Yz=c.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):Me}),c.jsx(Oje,{"aria-invalid":p,value:Array.isArray(O)?O.join(","):O,name:w,ref:J,"aria-hidden":!0,onChange:be,tabIndex:-1,disabled:f,className:Ge.nativeInput,autoFocus:i,required:M,...I,ownerState:Re}),c.jsx(Dje,{as:m,className:Ge.icon,ownerState:Re}),c.jsx(yje,{id:`menu-${w||""}`,anchorEl:F,open:we,onClose:oe,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},...x,slotProps:{...x.slotProps,list:{"aria-labelledby":y,role:"listbox","aria-multiselectable":b?"true":void 0,disableListWrap:!0,id:Qe,...Ke},paper:{...at,style:{minWidth:Zt,...at!=null?at.style:null}}},children:qt})]})}),Fje=e=>{const{classes:t}=e,r=On({root:["root"]},pre,t);return{...t,...r}},IL={name:"MuiSelect",slot:"Root",shouldForwardProp:e=>wc(e)&&e!=="variant"},Lje=Ot(DL,IL)(""),$je=Ot(ML,IL)(""),Bje=Ot(AL,IL)(""),mre=E.forwardRef(function(t,n){const r=Fn({name:"MuiSelect",props:t}),{autoWidth:a=!1,children:i,classes:o={},className:s,defaultOpen:l=!1,displayEmpty:u=!1,IconComponent:d=nNe,id:f,input:h,inputProps:p,label:m,labelId:g,MenuProps:y,multiple:x=!1,native:b=!1,onClose:w,onOpen:_,open:S,renderValue:k,SelectDisplayProps:N,variant:P="outlined",...T}=r,j=b?Sje:Rje,D=Am(),M=X0({props:r,muiFormControl:D,states:["variant","error"]}),R=M.variant||P,W={...r,variant:R,classes:o},B=Fje(W),{root:V,...q}=B,I=h||{standard:c.jsx(Lje,{ownerState:W}),outlined:c.jsx($je,{label:m,ownerState:W}),filled:c.jsx(Bje,{ownerState:W})}[R],O=Ga(n,Pm(I));return c.jsx(E.Fragment,{children:E.cloneElement(I,{inputComponent:j,inputProps:{children:i,error:M.error,IconComponent:d,variant:R,type:void 0,multiple:x,...b?{id:f}:{autoWidth:a,defaultOpen:l,displayEmpty:u,labelId:g,MenuProps:y,onClose:w,onOpen:_,open:S,renderValue:k,SelectDisplayProps:{id:f,...N}},...p,classes:p?_o(q,p.classes):q,...h?h.props.inputProps:{}},...(x&&b||u)&&R==="outlined"?{notched:!0}:{},ref:O,className:Tt(I.props.className,s,B.root),...!h&&{variant:R},...T})})});mre.muiName="Select";function zje(e={}){const{autoHideDuration:t=null,disableWindowBlurListener:n=!1,onClose:r,open:a,resumeHideDuration:i}=e,o=Af();E.useEffect(()=>{if(!a)return;function x(b){b.defaultPrevented||b.key==="Escape"&&(r==null||r(b,"escapeKeyDown"))}return document.addEventListener("keydown",x),()=>{document.removeEventListener("keydown",x)}},[a,r]);const s=Cl((x,b)=>{r==null||r(x,b)}),l=Cl(x=>{!r||x==null||o.start(x,()=>{s(null,"timeout")})});E.useEffect(()=>(a&&l(t),o.clear),[a,t,l,o]);const u=x=>{r==null||r(x,"clickaway")},d=o.clear,f=E.useCallback(()=>{t!=null&&l(i??t*.5)},[t,i,l]),h=x=>b=>{const w=x.onBlur;w==null||w(b),f()},p=x=>b=>{const w=x.onFocus;w==null||w(b),d()},m=x=>b=>{const w=x.onMouseEnter;w==null||w(b),d()},g=x=>b=>{const w=x.onMouseLeave;w==null||w(b),f()};return E.useEffect(()=>{if(!n&&a)return window.addEventListener("focus",f),window.addEventListener("blur",d),()=>{window.removeEventListener("focus",f),window.removeEventListener("blur",d)}},[n,a,f,d]),{getRootProps:(x={})=>{const b={...nE(e),...nE(x)};return{role:"presentation",...x,...b,onBlur:h(b),onFocus:p(b),onMouseEnter:m(b),onMouseLeave:g(b)}},onClickAway:u}}function Uje(e){return Mn("MuiSnackbarContent",e)}jn("MuiSnackbarContent",["root","message","action"]);const Wje=e=>{const{classes:t}=e;return On({root:["root"],action:["action"],message:["message"]},Uje,t)},Vje=Ot(K0,{name:"MuiSnackbarContent",slot:"Root"})(Jn(({theme:e})=>{const t=e.palette.mode==="light"?.8:.98;return{...e.typography.body2,color:e.vars?e.vars.palette.SnackbarContent.color:e.palette.getContrastText(d3(e.palette.background.default,t)),backgroundColor:e.vars?e.vars.palette.SnackbarContent.bg:d3(e.palette.background.default,t),display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",flexGrow:1,[e.breakpoints.up("sm")]:{flexGrow:"initial",minWidth:288}}})),Hje=Ot("div",{name:"MuiSnackbarContent",slot:"Message"})({padding:"8px 0"}),qje=Ot("div",{name:"MuiSnackbarContent",slot:"Action"})({display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}),Gje=E.forwardRef(function(t,n){const r=Fn({props:t,name:"MuiSnackbarContent"}),{action:a,className:i,message:o,role:s="alert",...l}=r,u=r,d=Wje(u);return c.jsxs(Vje,{role:s,elevation:6,className:Tt(d.root,i),ownerState:u,ref:n,...l,children:[c.jsx(Hje,{className:d.message,ownerState:u,children:o}),a?c.jsx(qje,{className:d.action,ownerState:u,children:a}):null]})});function Yje(e){return Mn("MuiSnackbar",e)}jn("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft"]);const Kje=e=>{const{classes:t,anchorOrigin:n}=e,r={root:["root",`anchorOrigin${bt(n.vertical)}${bt(n.horizontal)}`]};return On(r,Yje,t)},Xje=Ot("div",{name:"MuiSnackbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`anchorOrigin${bt(n.anchorOrigin.vertical)}${bt(n.anchorOrigin.horizontal)}`]]}})(Jn(({theme:e})=>({zIndex:(e.vars||e).zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center",variants:[{props:({ownerState:t})=>t.anchorOrigin.vertical==="top",style:{top:8,[e.breakpoints.up("sm")]:{top:24}}},{props:({ownerState:t})=>t.anchorOrigin.vertical!=="top",style:{bottom:8,[e.breakpoints.up("sm")]:{bottom:24}}},{props:({ownerState:t})=>t.anchorOrigin.horizontal==="left",style:{justifyContent:"flex-start",[e.breakpoints.up("sm")]:{left:24,right:"auto"}}},{props:({ownerState:t})=>t.anchorOrigin.horizontal==="right",style:{justifyContent:"flex-end",[e.breakpoints.up("sm")]:{right:24,left:"auto"}}},{props:({ownerState:t})=>t.anchorOrigin.horizontal==="center",style:{[e.breakpoints.up("sm")]:{left:"50%",right:"auto",transform:"translateX(-50%)"}}}]}))),Xz=E.forwardRef(function(t,n){const r=Fn({props:t,name:"MuiSnackbar"}),a=Tm(),i={enter:a.transitions.duration.enteringScreen,exit:a.transitions.duration.leavingScreen},{action:o,anchorOrigin:{vertical:s,horizontal:l}={vertical:"bottom",horizontal:"left"},autoHideDuration:u=null,children:d,className:f,ClickAwayListenerProps:h,ContentProps:p,disableWindowBlurListener:m=!1,message:g,onBlur:y,onClose:x,onFocus:b,onMouseEnter:w,onMouseLeave:_,open:S,resumeHideDuration:k,slots:N={},slotProps:P={},TransitionComponent:T,transitionDuration:j=i,TransitionProps:{onEnter:D,onExited:M,...R}={},...W}=r,B={...r,anchorOrigin:{vertical:s,horizontal:l},autoHideDuration:u,disableWindowBlurListener:m,TransitionComponent:T,transitionDuration:j},V=Kje(B),{getRootProps:q,onClickAway:I}=zje({...B}),[O,H]=E.useState(!0),ne=re=>{H(!0),M&&M(re)},z=(re,Q)=>{H(!1),D&&D(re,Q)},J={slots:{transition:T,...N},slotProps:{content:p,clickAwayListener:h,transition:R,...P}},[ee,G]=kn("root",{ref:n,className:[V.root,f],elementType:Xje,getSlotProps:q,externalForwardedProps:{...J,...W},ownerState:B}),[Z,{ownerState:se,...ae}]=kn("clickAwayListener",{elementType:TNe,externalForwardedProps:J,getSlotProps:re=>({onClickAway:(...Q)=>{var me;const oe=Q[0];(me=re.onClickAway)==null||me.call(re,...Q),!(oe!=null&&oe.defaultMuiPrevented)&&I(...Q)}}),ownerState:B}),[Y,X]=kn("content",{elementType:Gje,shouldForwardComponentProp:!0,externalForwardedProps:J,additionalProps:{message:g,action:o},ownerState:B}),[K,F]=kn("transition",{elementType:hb,externalForwardedProps:J,getSlotProps:re=>({onEnter:(...Q)=>{var oe;(oe=re.onEnter)==null||oe.call(re,...Q),z(...Q)},onExited:(...Q)=>{var oe;(oe=re.onExited)==null||oe.call(re,...Q),ne(...Q)}}),additionalProps:{appear:!0,in:S,timeout:j,direction:s==="top"?"down":"up"},ownerState:B});return!S&&O?null:c.jsx(Z,{...ae,...N.clickAwayListener&&{ownerState:se},children:c.jsx(ee,{...G,children:c.jsx(K,{...F,children:d||c.jsx(Y,{...X})})})})});function Zje(e){return Mn("MuiTooltip",e)}const Aa=jn("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]);function Qje(e){return Math.round(e*1e5)/1e5}const Jje=e=>{const{classes:t,disableInteractive:n,arrow:r,touch:a,placement:i}=e,o={popper:["popper",!n&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",a&&"touch",`tooltipPlacement${bt(i.split("-")[0])}`],arrow:["arrow"]};return On(o,Zje,t)},eTe=Ot(nre,{name:"MuiTooltip",slot:"Popper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.popper,!n.disableInteractive&&t.popperInteractive,n.arrow&&t.popperArrow,!n.open&&t.popperClose]}})(Jn(({theme:e})=>({zIndex:(e.vars||e).zIndex.tooltip,pointerEvents:"none",variants:[{props:({ownerState:t})=>!t.disableInteractive,style:{pointerEvents:"auto"}},{props:({open:t})=>!t,style:{pointerEvents:"none"}},{props:({ownerState:t})=>t.arrow,style:{[`&[data-popper-placement*="bottom"] .${Aa.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${Aa.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${Aa.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}},[`&[data-popper-placement*="left"] .${Aa.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}}}},{props:({ownerState:t})=>t.arrow&&!t.isRtl,style:{[`&[data-popper-placement*="right"] .${Aa.arrow}`]:{left:0,marginLeft:"-0.71em"}}},{props:({ownerState:t})=>t.arrow&&!!t.isRtl,style:{[`&[data-popper-placement*="right"] .${Aa.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:t})=>t.arrow&&!t.isRtl,style:{[`&[data-popper-placement*="left"] .${Aa.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:t})=>t.arrow&&!!t.isRtl,style:{[`&[data-popper-placement*="left"] .${Aa.arrow}`]:{left:0,marginLeft:"-0.71em"}}}]}))),tTe=Ot("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.tooltip,n.touch&&t.touch,n.arrow&&t.tooltipArrow,t[`tooltipPlacement${bt(n.placement.split("-")[0])}`]]}})(Jn(({theme:e})=>({backgroundColor:e.vars?e.vars.palette.Tooltip.bg:Da(e.palette.grey[700],.92),borderRadius:(e.vars||e).shape.borderRadius,color:(e.vars||e).palette.common.white,fontFamily:e.typography.fontFamily,padding:"4px 8px",fontSize:e.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:e.typography.fontWeightMedium,[`.${Aa.popper}[data-popper-placement*="left"] &`]:{transformOrigin:"right center"},[`.${Aa.popper}[data-popper-placement*="right"] &`]:{transformOrigin:"left center"},[`.${Aa.popper}[data-popper-placement*="top"] &`]:{transformOrigin:"center bottom",marginBottom:"14px"},[`.${Aa.popper}[data-popper-placement*="bottom"] &`]:{transformOrigin:"center top",marginTop:"14px"},variants:[{props:({ownerState:t})=>t.arrow,style:{position:"relative",margin:0}},{props:({ownerState:t})=>t.touch,style:{padding:"8px 16px",fontSize:e.typography.pxToRem(14),lineHeight:`${Qje(16/14)}em`,fontWeight:e.typography.fontWeightRegular}},{props:({ownerState:t})=>!t.isRtl,style:{[`.${Aa.popper}[data-popper-placement*="left"] &`]:{marginRight:"14px"},[`.${Aa.popper}[data-popper-placement*="right"] &`]:{marginLeft:"14px"}}},{props:({ownerState:t})=>!t.isRtl&&t.touch,style:{[`.${Aa.popper}[data-popper-placement*="left"] &`]:{marginRight:"24px"},[`.${Aa.popper}[data-popper-placement*="right"] &`]:{marginLeft:"24px"}}},{props:({ownerState:t})=>!!t.isRtl,style:{[`.${Aa.popper}[data-popper-placement*="left"] &`]:{marginLeft:"14px"},[`.${Aa.popper}[data-popper-placement*="right"] &`]:{marginRight:"14px"}}},{props:({ownerState:t})=>!!t.isRtl&&t.touch,style:{[`.${Aa.popper}[data-popper-placement*="left"] &`]:{marginLeft:"24px"},[`.${Aa.popper}[data-popper-placement*="right"] &`]:{marginRight:"24px"}}},{props:({ownerState:t})=>t.touch,style:{[`.${Aa.popper}[data-popper-placement*="top"] &`]:{marginBottom:"24px"}}},{props:({ownerState:t})=>t.touch,style:{[`.${Aa.popper}[data-popper-placement*="bottom"] &`]:{marginTop:"24px"}}}]}))),nTe=Ot("span",{name:"MuiTooltip",slot:"Arrow"})(Jn(({theme:e})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:e.vars?e.vars.palette.Tooltip.bg:Da(e.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}})));let p_=!1;const Zz=new wj;let Hy={x:0,y:0};function m_(e,t){return(n,...r)=>{t&&t(n,...r),e(n,...r)}}const rTe=E.forwardRef(function(t,n){const r=Fn({props:t,name:"MuiTooltip"}),{arrow:a=!1,children:i,classes:o,components:s={},componentsProps:l={},describeChild:u=!1,disableFocusListener:d=!1,disableHoverListener:f=!1,disableInteractive:h=!1,disableTouchListener:p=!1,enterDelay:m=100,enterNextDelay:g=0,enterTouchDelay:y=700,followCursor:x=!1,id:b,leaveDelay:w=0,leaveTouchDelay:_=1500,onClose:S,onOpen:k,open:N,placement:P="bottom",PopperComponent:T,PopperProps:j={},slotProps:D={},slots:M={},title:R,TransitionComponent:W,TransitionProps:B,...V}=r,q=E.isValidElement(i)?i:c.jsx("span",{children:i}),I=Tm(),O=uL(),[H,ne]=E.useState(),[z,J]=E.useState(null),ee=E.useRef(!1),G=h||x,Z=Af(),se=Af(),ae=Af(),Y=Af(),[X,K]=m3({controlled:N,default:!1,name:"Tooltip",state:"open"});let F=X;const re=q0(b),Q=E.useRef(),oe=Cl(()=>{Q.current!==void 0&&(document.body.style.WebkitUserSelect=Q.current,Q.current=void 0),Y.clear()});E.useEffect(()=>oe,[oe]);const me=wt=>{Zz.clear(),p_=!0,K(!0),k&&!F&&k(wt)},be=Cl(wt=>{Zz.start(800+w,()=>{p_=!1}),K(!1),S&&F&&S(wt),Z.start(I.transitions.duration.shortest,()=>{ee.current=!1})}),ye=wt=>{ee.current&&wt.type!=="touchstart"||(H&&H.removeAttribute("title"),se.clear(),ae.clear(),m||p_&&g?se.start(p_?g:m,()=>{me(wt)}):me(wt))},de=wt=>{se.clear(),ae.start(w,()=>{be(wt)})},[,we]=E.useState(!1),We=wt=>{GC(wt.target)||(we(!1),de(wt))},Me=wt=>{H||ne(wt.currentTarget),GC(wt.target)&&(we(!0),ye(wt))},ze=wt=>{ee.current=!0;const cn=q.props;cn.onTouchStart&&cn.onTouchStart(wt)},He=wt=>{ze(wt),ae.clear(),Z.clear(),oe(),Q.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",Y.start(y,()=>{document.body.style.WebkitUserSelect=Q.current,ye(wt)})},dt=wt=>{q.props.onTouchEnd&&q.props.onTouchEnd(wt),oe(),ae.start(_,()=>{be(wt)})};E.useEffect(()=>{if(!F)return;function wt(cn){cn.key==="Escape"&&be(cn)}return document.addEventListener("keydown",wt),()=>{document.removeEventListener("keydown",wt)}},[be,F]);const qt=Ga(Pm(q),ne,n);!R&&R!==0&&(F=!1);const Zt=E.useRef(),Wt=wt=>{const cn=q.props;cn.onMouseMove&&cn.onMouseMove(wt),Hy={x:wt.clientX,y:wt.clientY},Zt.current&&Zt.current.update()},mn={},Re=typeof R=="string";u?(mn.title=!F&&Re&&!f?R:null,mn["aria-describedby"]=F?re:null):(mn["aria-label"]=Re?R:null,mn["aria-labelledby"]=F&&!Re?re:null);const Ge={...mn,...V,...q.props,className:Tt(V.className,q.props.className),onTouchStart:ze,ref:qt,...x?{onMouseMove:Wt}:{}},at={};p||(Ge.onTouchStart=He,Ge.onTouchEnd=dt),f||(Ge.onMouseOver=m_(ye,Ge.onMouseOver),Ge.onMouseLeave=m_(de,Ge.onMouseLeave),G||(at.onMouseOver=ye,at.onMouseLeave=de)),d||(Ge.onFocus=m_(Me,Ge.onFocus),Ge.onBlur=m_(We,Ge.onBlur),G||(at.onFocus=Me,at.onBlur=We));const Ke={...r,isRtl:O,arrow:a,disableInteractive:G,placement:P,PopperComponentProp:T,touch:ee.current},Qe=typeof D.popper=="function"?D.popper(Ke):D.popper,yt=E.useMemo(()=>{var cn,kt;let wt=[{name:"arrow",enabled:!!z,options:{element:z,padding:4}}];return(cn=j.popperOptions)!=null&&cn.modifiers&&(wt=wt.concat(j.popperOptions.modifiers)),(kt=Qe==null?void 0:Qe.popperOptions)!=null&&kt.modifiers&&(wt=wt.concat(Qe.popperOptions.modifiers)),{...j.popperOptions,...Qe==null?void 0:Qe.popperOptions,modifiers:wt}},[z,j.popperOptions,Qe==null?void 0:Qe.popperOptions]),ft=Jje(Ke),pt=typeof D.transition=="function"?D.transition(Ke):D.transition,Lt={slots:{popper:s.Popper,transition:s.Transition??W,tooltip:s.Tooltip,arrow:s.Arrow,...M},slotProps:{arrow:D.arrow??l.arrow,popper:{...j,...Qe??l.popper},tooltip:D.tooltip??l.tooltip,transition:{...B,...pt??l.transition}}},[ln,rr]=kn("popper",{elementType:eTe,externalForwardedProps:Lt,ownerState:Ke,className:Tt(ft.popper,j==null?void 0:j.className)}),[Fr,Qr]=kn("transition",{elementType:hb,externalForwardedProps:Lt,ownerState:Ke}),[la,ai]=kn("tooltip",{elementType:tTe,className:ft.tooltip,externalForwardedProps:Lt,ownerState:Ke}),[je,At]=kn("arrow",{elementType:nTe,className:ft.arrow,externalForwardedProps:Lt,ownerState:Ke,ref:J});return c.jsxs(E.Fragment,{children:[E.cloneElement(q,Ge),c.jsx(ln,{as:T??nre,placement:P,anchorEl:x?{getBoundingClientRect:()=>({top:Hy.y,left:Hy.x,right:Hy.x,bottom:Hy.y,width:0,height:0})}:H,popperRef:Zt,open:H?F:!1,id:re,transition:!0,...at,...rr,popperOptions:yt,children:({TransitionProps:wt})=>c.jsx(Fr,{timeout:I.transitions.duration.shorter,...wt,...Qr,children:c.jsxs(la,{...ai,children:[R,a?c.jsx(je,{...At}):null]})})})]})});function aTe(e){return Mn("MuiTextField",e)}jn("MuiTextField",["root"]);const iTe={standard:DL,filled:AL,outlined:ML},oTe=e=>{const{classes:t}=e;return On({root:["root"]},aTe,t)},sTe=Ot(wke,{name:"MuiTextField",slot:"Root"})({}),Qz=E.forwardRef(function(t,n){const r=Fn({props:t,name:"MuiTextField"}),{autoComplete:a,autoFocus:i=!1,children:o,className:s,color:l="primary",defaultValue:u,disabled:d=!1,error:f=!1,FormHelperTextProps:h,fullWidth:p=!1,helperText:m,id:g,InputLabelProps:y,inputProps:x,InputProps:b,inputRef:w,label:_,maxRows:S,minRows:k,multiline:N=!1,name:P,onBlur:T,onChange:j,onFocus:D,placeholder:M,required:R=!1,rows:W,select:B=!1,SelectProps:V,slots:q={},slotProps:I={},type:O,value:H,variant:ne="outlined",...z}=r,J={...r,autoFocus:i,color:l,disabled:d,error:f,fullWidth:p,multiline:N,required:R,select:B,variant:ne},ee=oTe(J),G=q0(g),Z=m&&G?`${G}-helper-text`:void 0,se=_&&G?`${G}-label`:void 0,ae=iTe[ne],Y={slots:q,slotProps:{input:b,inputLabel:y,htmlInput:x,formHelperText:h,select:V,...I}},X={},K=Y.slotProps.inputLabel;ne==="outlined"&&(K&&typeof K.shrink<"u"&&(X.notched=K.shrink),X.label=_),B&&((!V||!V.native)&&(X.id=void 0),X["aria-describedby"]=void 0);const[F,re]=kn("root",{elementType:sTe,shouldForwardComponentProp:!0,externalForwardedProps:{...Y,...z},ownerState:J,className:Tt(ee.root,s),ref:n,additionalProps:{disabled:d,error:f,fullWidth:p,required:R,color:l,variant:ne}}),[Q,oe]=kn("input",{elementType:ae,externalForwardedProps:Y,additionalProps:X,ownerState:J}),[me,be]=kn("inputLabel",{elementType:Wke,externalForwardedProps:Y,ownerState:J}),[ye,de]=kn("htmlInput",{elementType:"input",externalForwardedProps:Y,ownerState:J}),[we,We]=kn("formHelperText",{elementType:Eke,externalForwardedProps:Y,ownerState:J}),[Me,ze]=kn("select",{elementType:mre,externalForwardedProps:Y,ownerState:J}),He=c.jsx(Q,{"aria-describedby":Z,autoComplete:a,autoFocus:i,defaultValue:u,fullWidth:p,multiline:N,name:P,rows:W,maxRows:S,minRows:k,type:O,value:H,id:G,inputRef:w,onBlur:T,onChange:j,onFocus:D,placeholder:M,inputProps:de,slots:{input:q.htmlInput?ye:void 0},...oe});return c.jsxs(F,{...re,children:[_!=null&&_!==""&&c.jsx(me,{htmlFor:G,id:se,...be,children:_}),B?c.jsx(Me,{"aria-describedby":Z,id:G,labelId:se,value:H,input:He,...ze,children:o}):He,m&&c.jsx(we,{id:Z,...We,children:m})]})}),lTe="/assets/happiness.CjJ-eGj9svg",cTe="/assets/gradstory.CIn6Z5wlsvg",uTe="/assets/highlightBg.C1mmOj3fsvg",Jz="data:image/svg+xml,%3csvg%20width='284'%20height='375'%20viewBox='0%200%20284%20375'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0%2034.2206L0%20340.571C0%20359.471%2015.3211%20374.792%2034.2207%20374.792H231.56C250.459%20374.792%20265.78%20359.471%20265.78%20340.571V53.9465C265.78%2035.047%20250.459%2019.7259%20231.56%2019.7259H175.894C160.15%2019.7259%20147.077%200%20131.333%200L34.1963%200C15.2967%200%200%2015.3211%200%2034.2206Z'%20fill='%2380231A'/%3e%3cpath%20d='M0%20131.179L59.3158%20107.225L114.069%20131.179V152.852L59.3158%20125.476L0%20152.852V131.179Z'%20fill='%239F342A'/%3e%3cpath%20d='M0%20167.681L59.3158%20143.727L114.069%20167.681V189.354L59.3158%20161.978L0%20189.354V167.681Z'%20fill='%239F342A'/%3e%3cpath%20d='M216.544%20107.928L170.52%20152.358L114.069%20152.358L102.662%20130.564L163.683%20135.436L208.425%2087.8331L216.544%20107.928Z'%20fill='%239F342A'/%3e%3cpath%20d='M216.544%20144.43L170.52%20188.86L114.069%20188.86L102.662%20167.066L163.683%20171.938L208.425%20124.335L216.544%20144.43Z'%20fill='%239F342A'/%3e%3cpath%20d='M264.64%2087.3429L247.775%20122.113L211.028%20110.077L207.606%2087.3429L240.69%20104.576L264.64%2060.4566L264.64%2087.3429Z'%20fill='%239F342A'/%3e%3cpath%20d='M264.64%20123.845L247.775%20158.615L211.028%20146.579L207.606%20123.845L240.69%20141.078L264.64%2096.9586L264.64%20123.845Z'%20fill='%239F342A'/%3e%3c/svg%3e",dTe="/assets/secondcard.DfuOeFugsvg",eU="/assets/thirdcard.BM8YxboKsvg",tU="data:image/svg+xml,%3csvg%20width='267'%20height='258'%20viewBox='0%200%20267%20258'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20x='0.374512'%20y='0.358398'%20width='265.78'%20height='256.655'%20rx='22.8138'%20fill='%23D4D4D4'/%3e%3c/svg%3e",nU="/assets/fifthcard.fWoCSIb0png",rU="/assets/sixthcard.PQ5sR1nNsvg",aU="/assets/seventhcard.C-mRqY2Wsvg",fTe="/assets/communityImage.BSpTnrsHsvg",iU=({currentAmount:e,amountNeeded:t})=>{const n=Math.min(e/t*100,100);return c.jsxs("div",{className:"scholar-progress-container",children:[c.jsx("div",{className:"scholar-progress-bar",children:c.jsx("div",{className:"scholar-progress-fill",style:{width:`${n}%`}})}),c.jsx("div",{className:"scholar-progress-text",children:c.jsxs("span",{children:["",Math.floor(e).toLocaleString()," raised"]})})]})},hTe=()=>{const[e,t]=E.useState([]),[n,r]=E.useState([]),a=Zr(),{user:i}=Fk(),o=d=>{console.log("Processing salary range:",d);const f=d.match(/P([\d,]+) - P([\d,]+)/);if(!f||f.length<3)return d.includes("and above")?(console.log("High earner detected, suggesting high-need students"),{min:2e4,max:15e4}):(console.log("Could not parse salary range, using default filter"),null);const h=parseInt(f[1].replace(/,/g,""),10),p=parseInt(f[2].replace(/,/g,""),10);console.log("Parsed salary range:",{minSalary:h,maxSalary:p});const m=Math.max(3e3,Math.floor(h*.15)),g=Math.min(15e4,Math.ceil(p*.7));return console.log("Calculated amount range:",{suggestedMin:m,suggestedMax:g}),{min:m,max:g}};E.useEffect(()=>{(async()=>{try{const h=(await Le.get("/scholars")).data.filter(p=>p.status==="active"||p.status===void 0&&p.is_active!==!1);if(t(h),i&&i.role==="sponsor"&&i.salaryRange){console.log("Sponsor found with salary range:",i.salaryRange);const p=o(i.salaryRange);if(p){const m=h.filter(g=>{const y=g.amount_needed>=p.min&&g.amount_needed<=p.max;return console.log(`Student ${g.first_name} (amount: ${g.amount_needed}) matches range: ${y}`),y});console.log("Filtered students count:",m.length),m.length>0?r(m):(console.log("No matches found, falling back to all active students"),r(h))}else console.log("No valid amount range could be determined"),r(h)}else console.log("Not a sponsor or no salary range, showing all students"),r(h)}catch(f){console.error("Error fetching students:",f),r([])}})()},[i]);const s=d=>{a(`/StudentProfile/${d}`)},l=n[0],u=n.slice(1,5);return c.jsxs("section",{className:"fundraiser-section",children:[c.jsxs("div",{className:"fundraiser-header",children:[c.jsx("h2",{className:"fundraiser-title",children:"Discover fundraisers inspired by what you care about"}),c.jsx("button",{className:"fundraiser-arrow-button",onClick:()=>a("/StudentProfile"),children:c.jsx("span",{className:"material-icons",children:"arrow_forward"})})]}),n.length>0&&l&&c.jsxs("div",{className:"fundraiser-container",children:[c.jsxs("div",{className:"fundraiser-main-card",onClick:()=>s(l.id),children:[c.jsx("img",{src:`https://kmfi.netlify.app/${l.image_url}`,alt:`${l.first_name} ${l.last_name}`,className:"fundraiser-main-image"}),c.jsxs("div",{className:"fundraiser-info",children:[c.jsx("h3",{className:"fundraiser-heading",children:`${l.first_name} ${l.last_name}: Journey to Success`}),c.jsx(iU,{currentAmount:l.current_amount,amountNeeded:l.amount_needed})]})]}),c.jsx("div",{className:"fundraiser-side-cards",children:u.map(d=>c.jsxs("div",{className:"fundraiser-side-card",onClick:()=>s(d.id),children:[c.jsx("img",{src:`https://kmfi.netlify.app/${d.image_url}`,alt:`${d.first_name} ${d.last_name}`,className:"fundraiser-side-image"}),c.jsxs("div",{className:"side-card-info",children:[c.jsx("h4",{className:"side-card-title",children:`${d.first_name} ${d.last_name}: Journey to Success`}),c.jsx(iU,{currentAmount:d.current_amount,amountNeeded:d.amount_needed})]})]},d.id))})]}),i&&i.role==="sponsor"&&c.jsx("div",{className:"sponsor-tailored-message",children:c.jsx("p",{children:"These fundraisers are tailored to your financial capacity based on your profile."})})]})},pTe=({title:e,description:t,image:n,link:r})=>c.jsxs("div",{className:"highlight-card",children:[c.jsx("img",{src:n,alt:e,className:"card-image"}),c.jsx("h3",{className:"card-title",children:e}),c.jsx("p",{className:"card-description",children:t}),c.jsx("a",{href:r,className:"card-link",children:"Read more"})]}),mTe=()=>{var i;const e=Zr(),t=o=>{o.preventDefault(),e(`${Nt.HELP}?tab=donate`),setTimeout(()=>{const s=document.querySelector(".donation-form-container");s&&s.scrollIntoView({behavior:"smooth"})},500)},[n,r]=E.useState({headerTitle:"Small Actions Change Lives Empowering Payatas Youth",headerDescription:"The Philippines premier social impact platform designed to elevate your charity effortlessly",statCards:[{title:"poverty rate",value:"16.3%",description:"A 2024 survey conducted by...",image:Jz}],features:[{title:"Give Happiness",description:"Giving happiness to others...",image:lTe}],highlights:[{title:"Graduates' Stories",description:"Read more about their journey.",image:cTe,link:"/grad"}],community:{title:"Community Impact",description:"Experience the ripple effect...",image:fTe},additionalCards:[{title:"Health",description:"lifeskills for 2,213 children in Philippines",image:eU},{title:"Join 5000+ People Donate",description:"",buttonText:"Join Community",image:tU},{title:"Education",description:"Sponsor food, education to childrens",image:nU}],actionCards:[{image:rU,buttonText:"Donate Now"},{image:aU}]});E.useEffect(()=>{(async()=>{var s;try{const l=await Le.get("/content/home");if((s=l.data)!=null&&s.content){const u=l.data.content;r(d=>{var f,h,p,m,g;return{...d,...u,statCards:((f=u.statCards)==null?void 0:f.map(y=>({...y,image:y.image?a(y.image):d.statCards[0].image})))||d.statCards,features:((h=u.features)==null?void 0:h.map(y=>({...y,image:y.image?a(y.image):d.features[0].image})))||d.features,highlights:((p=u.highlights)==null?void 0:p.map(y=>({...y,image:y.image?a(y.image):d.highlights[0].image})))||d.highlights,community:{...d.community,...u.community,image:(m=u.community)!=null&&m.image?a(u.community.image):d.community.image},testimonialCards:((g=u.testimonialCards)==null?void 0:g.map(y=>({...y,image:y.image?a(y.image):""})))||d.testimonialCards}})}}catch{}})()},[]);const a=o=>o?o.startsWith("data:")||o.startsWith("http")?o:o.startsWith("/uploads")?`https://kmfi.netlify.app/${o}`:o:"";return c.jsxs("div",{className:"page-container",children:[c.jsx("div",{className:"button-row",children:c.jsxs("div",{className:"main-button",children:[c.jsx(fa,{variant:"h3",children:n.headerTitle}),c.jsx(fa,{variant:"body1",children:n.headerDescription}),c.jsxs("div",{className:"donatebutton1",children:[c.jsx("a",{href:"#",className:"donatenow",onClick:t,children:"Donate Now"}),c.jsx("a",{className:"watchvideo",href:"https://www.youtube.com/watch?v=g-XD2d43LXo",children:" Watch Video"})]})]})}),c.jsxs("div",{className:"firstcards",children:[c.jsxs("div",{className:"firstsection-card",children:[c.jsx("img",{src:Jz,className:"firstcard"}),c.jsx("img",{src:dTe,className:"secondcard"}),c.jsxs("div",{className:"firstcard-text",children:[c.jsx("h1",{children:"16.3%"}),c.jsx("p",{children:"A 2024 survey conducted by the Social Weather Stations from September 14 to 23, 2024 estimated 16.3 Filipino families."}),c.jsx("div",{className:"fourthcard-button-container",children:c.jsxs("button",{className:"firstcard-button",children:["Donate Now",c.jsx("span",{className:"first-button-arrow",children:c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("line",{x1:"6",y1:"18",x2:"18",y2:"6"}),c.jsx("polyline",{points:"6,6 18,6 18,18"})]})})]})})]})]}),c.jsxs("div",{className:"thirdsection-card",children:[c.jsx("img",{src:eU,className:"thirdcard"}),c.jsxs("div",{className:"thirdcard-text",children:[c.jsx("h3",{children:"Health"}),c.jsx("p",{children:"lifeskills for 2,213 children in Philippines"})]})]}),c.jsxs("div",{className:"thirdsection-card",children:[c.jsx("img",{src:tU,className:"fourthcard"}),c.jsxs("div",{className:"fourthcard-text",children:[c.jsx("p",{children:"Join 5000+ People Donate"}),c.jsx("div",{className:"fourthcard-button-container",children:c.jsxs("button",{className:"fourthcard-button",children:["Join Community",c.jsx("span",{className:"button-arrow",children:c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("line",{x1:"6",y1:"18",x2:"18",y2:"6"}),c.jsx("polyline",{points:"6,6 18,6 18,18"})]})})]})})]})]}),c.jsxs("div",{className:"thirdsection-card",children:[c.jsx("img",{src:nU,className:"fifthcard"}),c.jsxs("div",{className:"thirdcard-text",children:[c.jsx("h3",{children:"Education"}),c.jsx("p",{children:"Sponsor food, education to childrens"})]})]}),c.jsxs("div",{className:"secondsection-card",children:[c.jsx("img",{src:rU,className:"sixthcard"}),c.jsx("div",{className:"sixth-button-container",children:c.jsxs("button",{className:"sixth-button",children:["Donate Now",c.jsx("span",{className:"sixth-button-arrow",children:c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("line",{x1:"6",y1:"18",x2:"18",y2:"6"}),c.jsx("polyline",{points:"6,6 18,6 18,18"})]})})]})}),c.jsx("img",{src:aU,className:"seventhcard"})]})]}),c.jsx(hTe,{}),c.jsxs("div",{className:"fund-container",children:[c.jsxs("div",{className:"fundraising-section",children:[c.jsxs("h2",{children:["Fundraising with ",c.jsx("span",{className:"highlight",children:"Kapatid kita, Mahal kita"})," only takes a few minutes"]}),c.jsx("div",{className:"cards-container",children:n.features.map((o,s)=>c.jsxs("div",{className:"cards",children:[c.jsx("img",{src:o.image,alt:o.title,className:"icon"}),c.jsx("h3",{children:o.title}),c.jsx("p",{children:o.description})]},s))})]}),c.jsx("div",{className:"page-container",children:c.jsx("section",{className:"featured-highlights",children:c.jsxs("div",{className:"mainfeatured",children:[c.jsx("h1",{className:"h1Featured",children:"Featured Highlights"}),c.jsxs("div",{className:"highlights-header",children:[c.jsx("div",{className:"img",children:c.jsx("img",{src:uTe,className:"highlightbg"})}),c.jsxs("div",{className:"highlightstext",children:[c.jsx("p",{children:"Discover how people spread causes in the digital era"}),c.jsx("p",{className:"explore",children:"Explore how social media influences charitable giving behaviors across generations."}),c.jsx("a",{href:"/report",className:"report-link",children:"Read our report"})]})]}),c.jsx("div",{className:"highlights-grid",children:n.highlights.map((o,s)=>c.jsx(pTe,{title:o.title,description:o.description,image:o.image,link:o.link},s))})]})})}),c.jsxs("div",{className:"page-container",children:[c.jsxs("div",{className:"community-container",children:[c.jsxs("div",{className:"community-text",children:[c.jsx("h2",{children:n.community.title}),c.jsx("p",{children:n.community.description}),c.jsx("div",{className:"donatebutton1",children:c.jsx("a",{href:"#",className:"donatenow",onClick:t,children:"Donate Now"})})]}),c.jsx("div",{className:"community-image",children:c.jsx("img",{src:n.community.image,className:"community-imagery"})})]}),c.jsx("div",{className:"community-grid",children:(i=n.testimonialCards)==null?void 0:i.map((o,s)=>c.jsx("div",{className:"flip-card",children:c.jsxs("div",{className:"flip-card-inner",children:[c.jsxs("div",{className:"flip-card-front",children:[c.jsx("img",{src:a(o.image),alt:o.name}),c.jsx("h1",{children:o.name}),c.jsx("p",{children:o.description})]}),c.jsx("div",{className:"flip-card-back",children:c.jsx("p",{children:o.backDescription})})]})},s))})]})]})]})},RL=E.createContext({});function FL(e){const t=E.useRef(null);return t.current===null&&(t.current=e()),t.current}const Fj=E.createContext(null),LL=E.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class gTe extends E.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function vTe({children:e,isPresent:t}){const n=E.useId(),r=E.useRef(null),a=E.useRef({width:0,height:0,top:0,left:0}),{nonce:i}=E.useContext(LL);return E.useInsertionEffect(()=>{const{width:o,height:s,top:l,left:u}=a.current;if(t||!r.current||!o||!s)return;r.current.dataset.motionPopId=n;const d=document.createElement("style");return i&&(d.nonce=i),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${s}px !important;
            top: ${l}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[t]),c.jsx(gTe,{isPresent:t,childRef:r,sizeRef:a,children:E.cloneElement(e,{ref:r})})}const yTe=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:a,presenceAffectsLayout:i,mode:o})=>{const s=FL(xTe),l=E.useId(),u=E.useCallback(f=>{s.set(f,!0);for(const h of s.values())if(!h)return;r&&r()},[s,r]),d=E.useMemo(()=>({id:l,initial:t,isPresent:n,custom:a,onExitComplete:u,register:f=>(s.set(f,!1),()=>s.delete(f))}),i?[Math.random(),u]:[n,u]);return E.useMemo(()=>{s.forEach((f,h)=>s.set(h,!1))},[n]),E.useEffect(()=>{!n&&!s.size&&r&&r()},[n]),o==="popLayout"&&(e=c.jsx(vTe,{isPresent:n,children:e})),c.jsx(Fj.Provider,{value:d,children:e})};function xTe(){return new Map}function gre(e=!0){const t=E.useContext(Fj);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:a}=t,i=E.useId();E.useEffect(()=>{e&&a(i)},[e]);const o=E.useCallback(()=>e&&r&&r(i),[i,r,e]);return!n&&r?[!1,o]:[!0]}const g_=e=>e.key||"";function oU(e){const t=[];return E.Children.forEach(e,n=>{E.isValidElement(n)&&t.push(n)}),t}const $L=typeof window<"u",vre=$L?E.useLayoutEffect:E.useEffect,pb=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:a=!0,mode:i="sync",propagate:o=!1})=>{const[s,l]=gre(o),u=E.useMemo(()=>oU(e),[e]),d=o&&!s?[]:u.map(g_),f=E.useRef(!0),h=E.useRef(u),p=FL(()=>new Map),[m,g]=E.useState(u),[y,x]=E.useState(u);vre(()=>{f.current=!1,h.current=u;for(let _=0;_<y.length;_++){const S=g_(y[_]);d.includes(S)?p.delete(S):p.get(S)!==!0&&p.set(S,!1)}},[y,d.length,d.join("-")]);const b=[];if(u!==m){let _=[...u];for(let S=0;S<y.length;S++){const k=y[S],N=g_(k);d.includes(N)||(_.splice(S,0,k),b.push(k))}i==="wait"&&b.length&&(_=b),x(oU(_)),g(u);return}const{forceRender:w}=E.useContext(RL);return c.jsx(c.Fragment,{children:y.map(_=>{const S=g_(_),k=o&&!s?!1:u===y||d.includes(S),N=()=>{if(p.has(S))p.set(S,!0);else return;let P=!0;p.forEach(T=>{T||(P=!1)}),P&&(w==null||w(),x(h.current),o&&(l==null||l()),r&&r())};return c.jsx(yTe,{isPresent:k,initial:!f.current||n?void 0:!1,custom:k?void 0:t,presenceAffectsLayout:a,mode:i,onExitComplete:k?void 0:N,children:_},S)})})},Rs=e=>e;let yre=Rs;function BL(e){let t;return()=>(t===void 0&&(t=e()),t)}const e0=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},pd=e=>e*1e3,md=e=>e/1e3,bTe={useManualTiming:!1};function wTe(e){let t=new Set,n=new Set,r=!1,a=!1;const i=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function s(u){i.has(u)&&(l.schedule(u),e()),u(o)}const l={schedule:(u,d=!1,f=!1)=>{const p=f&&r?t:n;return d&&i.add(u),p.has(u)||p.add(u),u},cancel:u=>{n.delete(u),i.delete(u)},process:u=>{if(o=u,r){a=!0;return}r=!0,[t,n]=[n,t],t.forEach(s),t.clear(),r=!1,a&&(a=!1,l.process(u))}};return l}const v_=["read","resolveKeyframes","update","preRender","render","postRender"],_Te=40;function xre(e,t){let n=!1,r=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=v_.reduce((x,b)=>(x[b]=wTe(i),x),{}),{read:s,resolveKeyframes:l,update:u,preRender:d,render:f,postRender:h}=o,p=()=>{const x=performance.now();n=!1,a.delta=r?1e3/60:Math.max(Math.min(x-a.timestamp,_Te),1),a.timestamp=x,a.isProcessing=!0,s.process(a),l.process(a),u.process(a),d.process(a),f.process(a),h.process(a),a.isProcessing=!1,n&&t&&(r=!1,e(p))},m=()=>{n=!0,r=!0,a.isProcessing||e(p)};return{schedule:v_.reduce((x,b)=>{const w=o[b];return x[b]=(_,S=!1,k=!1)=>(n||m(),w.schedule(_,S,k)),x},{}),cancel:x=>{for(let b=0;b<v_.length;b++)o[v_[b]].cancel(x)},state:a,steps:o}}const{schedule:oa,cancel:uh,state:Ui,steps:qA}=xre(typeof requestAnimationFrame<"u"?requestAnimationFrame:Rs,!0),bre=E.createContext({strict:!1}),sU={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},t0={};for(const e in sU)t0[e]={isEnabled:t=>sU[e].some(n=>!!t[n])};function STe(e){for(const t in e)t0[t]={...t0[t],...e[t]}}const CTe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function iE(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||CTe.has(e)}let wre=e=>!iE(e);function ETe(e){e&&(wre=t=>t.startsWith("on")?!iE(t):e(t))}try{ETe(require("@emotion/is-prop-valid").default)}catch{}function NTe(e,t,n){const r={};for(const a in e)a==="values"&&typeof e.values=="object"||(wre(a)||n===!0&&iE(a)||!t&&!iE(a)||e.draggable&&a.startsWith("onDrag"))&&(r[a]=e[a]);return r}function kTe(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...r)=>e(...r);return new Proxy(n,{get:(r,a)=>a==="create"?e:(t.has(a)||t.set(a,e(a)),t.get(a))})}const Lj=E.createContext({});function mb(e){return typeof e=="string"||Array.isArray(e)}function $j(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const zL=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],UL=["initial",...zL];function Bj(e){return $j(e.animate)||UL.some(t=>mb(e[t]))}function _re(e){return!!(Bj(e)||e.variants)}function jTe(e,t){if(Bj(e)){const{initial:n,animate:r}=e;return{initial:n===!1||mb(n)?n:void 0,animate:mb(r)?r:void 0}}return e.inherit!==!1?t:{}}function TTe(e){const{initial:t,animate:n}=jTe(e,E.useContext(Lj));return E.useMemo(()=>({initial:t,animate:n}),[lU(t),lU(n)])}function lU(e){return Array.isArray(e)?e.join(" "):e}const PTe=Symbol.for("motionComponentSymbol");function Wg(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function ATe(e,t,n){return E.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Wg(n)&&(n.current=r))},[t])}const WL=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),DTe="framerAppearId",Sre="data-"+WL(DTe),{schedule:VL}=xre(queueMicrotask,!1),Cre=E.createContext({});function OTe(e,t,n,r,a){var i,o;const{visualElement:s}=E.useContext(Lj),l=E.useContext(bre),u=E.useContext(Fj),d=E.useContext(LL).reducedMotion,f=E.useRef(null);r=r||l.renderer,!f.current&&r&&(f.current=r(e,{visualState:t,parent:s,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const h=f.current,p=E.useContext(Cre);h&&!h.projection&&a&&(h.type==="html"||h.type==="svg")&&MTe(f.current,n,a,p);const m=E.useRef(!1);E.useInsertionEffect(()=>{h&&m.current&&h.update(n,u)});const g=n[Sre],y=E.useRef(!!g&&!(!((i=window.MotionHandoffIsComplete)===null||i===void 0)&&i.call(window,g))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,g)));return vre(()=>{h&&(m.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),VL.render(h.render),y.current&&h.animationState&&h.animationState.animateChanges())}),E.useEffect(()=>{h&&(!y.current&&h.animationState&&h.animationState.animateChanges(),y.current&&(queueMicrotask(()=>{var x;(x=window.MotionHandoffMarkAsComplete)===null||x===void 0||x.call(window,g)}),y.current=!1))}),h}function MTe(e,t,n,r){const{layoutId:a,layout:i,drag:o,dragConstraints:s,layoutScroll:l,layoutRoot:u}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:Ere(e.parent)),e.projection.setOptions({layoutId:a,layout:i,alwaysMeasureLayout:!!o||s&&Wg(s),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:u})}function Ere(e){if(e)return e.options.allowProjection!==!1?e.projection:Ere(e.parent)}function ITe({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:a}){var i,o;e&&STe(e);function s(u,d){let f;const h={...E.useContext(LL),...u,layoutId:RTe(u)},{isStatic:p}=h,m=TTe(u),g=r(u,p);if(!p&&$L){FTe();const y=LTe(h);f=y.MeasureLayout,m.visualElement=OTe(a,g,h,t,y.ProjectionNode)}return c.jsxs(Lj.Provider,{value:m,children:[f&&m.visualElement?c.jsx(f,{visualElement:m.visualElement,...h}):null,n(a,u,ATe(g,m.visualElement,d),g,p,m.visualElement)]})}s.displayName=`motion.${typeof a=="string"?a:`create(${(o=(i=a.displayName)!==null&&i!==void 0?i:a.name)!==null&&o!==void 0?o:""})`}`;const l=E.forwardRef(s);return l[PTe]=a,l}function RTe({layoutId:e}){const t=E.useContext(RL).id;return t&&e!==void 0?t+"-"+e:e}function FTe(e,t){E.useContext(bre).strict}function LTe(e){const{drag:t,layout:n}=t0;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const $Te=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function HL(e){return typeof e!="string"||e.includes("-")?!1:!!($Te.indexOf(e)>-1||/[A-Z]/u.test(e))}function cU(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function qL(e,t,n,r){if(typeof t=="function"){const[a,i]=cU(r);t=t(n!==void 0?n:e.custom,a,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,i]=cU(r);t=t(n!==void 0?n:e.custom,a,i)}return t}const O3=e=>Array.isArray(e),BTe=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),zTe=e=>O3(e)?e[e.length-1]||0:e,xo=e=>!!(e&&e.getVelocity);function ZS(e){const t=xo(e)?e.get():e;return BTe(t)?t.toValue():t}function UTe({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:n},r,a,i){const o={latestValues:WTe(r,a,i,e),renderState:t()};return n&&(o.onMount=s=>n({props:r,current:s,...o}),o.onUpdate=s=>n(s)),o}const Nre=e=>(t,n)=>{const r=E.useContext(Lj),a=E.useContext(Fj),i=()=>UTe(e,t,r,a);return n?i():FL(i)};function WTe(e,t,n,r){const a={},i=r(e,{});for(const h in i)a[h]=ZS(i[h]);let{initial:o,animate:s}=e;const l=Bj(e),u=_re(e);t&&u&&!l&&e.inherit!==!1&&(o===void 0&&(o=t.initial),s===void 0&&(s=t.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const f=d?s:o;if(f&&typeof f!="boolean"&&!$j(f)){const h=Array.isArray(f)?f:[f];for(let p=0;p<h.length;p++){const m=qL(e,h[p]);if(m){const{transitionEnd:g,transition:y,...x}=m;for(const b in x){let w=x[b];if(Array.isArray(w)){const _=d?w.length-1:0;w=w[_]}w!==null&&(a[b]=w)}for(const b in g)a[b]=g[b]}}}return a}const Z0=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Dm=new Set(Z0),kre=e=>t=>typeof t=="string"&&t.startsWith(e),jre=kre("--"),VTe=kre("var(--"),GL=e=>VTe(e)?HTe.test(e.split("/*")[0].trim()):!1,HTe=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Tre=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Ad=(e,t,n)=>n>t?t:n<e?e:n,Q0={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},gb={...Q0,transform:e=>Ad(0,1,e)},y_={...Q0,default:1},Gw=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),mf=Gw("deg"),pu=Gw("%"),yn=Gw("px"),qTe=Gw("vh"),GTe=Gw("vw"),uU={...pu,parse:e=>pu.parse(e)/100,transform:e=>pu.transform(e*100)},YTe={borderWidth:yn,borderTopWidth:yn,borderRightWidth:yn,borderBottomWidth:yn,borderLeftWidth:yn,borderRadius:yn,radius:yn,borderTopLeftRadius:yn,borderTopRightRadius:yn,borderBottomRightRadius:yn,borderBottomLeftRadius:yn,width:yn,maxWidth:yn,height:yn,maxHeight:yn,top:yn,right:yn,bottom:yn,left:yn,padding:yn,paddingTop:yn,paddingRight:yn,paddingBottom:yn,paddingLeft:yn,margin:yn,marginTop:yn,marginRight:yn,marginBottom:yn,marginLeft:yn,backgroundPositionX:yn,backgroundPositionY:yn},KTe={rotate:mf,rotateX:mf,rotateY:mf,rotateZ:mf,scale:y_,scaleX:y_,scaleY:y_,scaleZ:y_,skew:mf,skewX:mf,skewY:mf,distance:yn,translateX:yn,translateY:yn,translateZ:yn,x:yn,y:yn,z:yn,perspective:yn,transformPerspective:yn,opacity:gb,originX:uU,originY:uU,originZ:yn},dU={...Q0,transform:Math.round},YL={...YTe,...KTe,zIndex:dU,size:yn,fillOpacity:gb,strokeOpacity:gb,numOctaves:dU},XTe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},ZTe=Z0.length;function QTe(e,t,n){let r="",a=!0;for(let i=0;i<ZTe;i++){const o=Z0[i],s=e[o];if(s===void 0)continue;let l=!0;if(typeof s=="number"?l=s===(o.startsWith("scale")?1:0):l=parseFloat(s)===0,!l||n){const u=Tre(s,YL[o]);if(!l){a=!1;const d=XTe[o]||o;r+=`${d}(${u}) `}n&&(t[o]=u)}}return r=r.trim(),n?r=n(t,a?"":r):a&&(r="none"),r}function KL(e,t,n){const{style:r,vars:a,transformOrigin:i}=e;let o=!1,s=!1;for(const l in t){const u=t[l];if(Dm.has(l)){o=!0;continue}else if(jre(l)){a[l]=u;continue}else{const d=Tre(u,YL[l]);l.startsWith("origin")?(s=!0,i[l]=d):r[l]=d}}if(t.transform||(o||n?r.transform=QTe(t,e.transform,n):r.transform&&(r.transform="none")),s){const{originX:l="50%",originY:u="50%",originZ:d=0}=i;r.transformOrigin=`${l} ${u} ${d}`}}const JTe={offset:"stroke-dashoffset",array:"stroke-dasharray"},ePe={offset:"strokeDashoffset",array:"strokeDasharray"};function tPe(e,t,n=1,r=0,a=!0){e.pathLength=1;const i=a?JTe:ePe;e[i.offset]=yn.transform(-r);const o=yn.transform(t),s=yn.transform(n);e[i.array]=`${o} ${s}`}function fU(e,t,n){return typeof e=="string"?e:yn.transform(t+n*e)}function nPe(e,t,n){const r=fU(t,e.x,e.width),a=fU(n,e.y,e.height);return`${r} ${a}`}function XL(e,{attrX:t,attrY:n,attrScale:r,originX:a,originY:i,pathLength:o,pathSpacing:s=1,pathOffset:l=0,...u},d,f){if(KL(e,u,f),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:p,dimensions:m}=e;h.transform&&(m&&(p.transform=h.transform),delete h.transform),m&&(a!==void 0||i!==void 0||p.transform)&&(p.transformOrigin=nPe(m,a!==void 0?a:.5,i!==void 0?i:.5)),t!==void 0&&(h.x=t),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),o!==void 0&&tPe(h,o,s,l,!1)}const ZL=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),Pre=()=>({...ZL(),attrs:{}}),QL=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Are(e,{style:t,vars:n},r,a){Object.assign(e.style,t,a&&a.getProjectionStyles(r));for(const i in n)e.style.setProperty(i,n[i])}const Dre=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Ore(e,t,n,r){Are(e,t,void 0,r);for(const a in t.attrs)e.setAttribute(Dre.has(a)?a:WL(a),t.attrs[a])}const oE={};function rPe(e){Object.assign(oE,e)}function Mre(e,{layout:t,layoutId:n}){return Dm.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!oE[e]||e==="opacity")}function JL(e,t,n){var r;const{style:a}=e,i={};for(const o in a)(xo(a[o])||t.style&&xo(t.style[o])||Mre(o,e)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(i[o]=a[o]);return i}function Ire(e,t,n){const r=JL(e,t,n);for(const a in e)if(xo(e[a])||xo(t[a])){const i=Z0.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;r[i]=e[a]}return r}function aPe(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const hU=["x","y","width","height","cx","cy","r"],iPe={useVisualState:Nre({scrapeMotionValuesFromProps:Ire,createRenderState:Pre,onUpdate:({props:e,prevProps:t,current:n,renderState:r,latestValues:a})=>{if(!n)return;let i=!!e.drag;if(!i){for(const s in a)if(Dm.has(s)){i=!0;break}}if(!i)return;let o=!t;if(t)for(let s=0;s<hU.length;s++){const l=hU[s];e[l]!==t[l]&&(o=!0)}o&&oa.read(()=>{aPe(n,r),oa.render(()=>{XL(r,a,QL(n.tagName),e.transformTemplate),Ore(n,r)})})}})},oPe={useVisualState:Nre({scrapeMotionValuesFromProps:JL,createRenderState:ZL})};function Rre(e,t,n){for(const r in t)!xo(t[r])&&!Mre(r,n)&&(e[r]=t[r])}function sPe({transformTemplate:e},t){return E.useMemo(()=>{const n=ZL();return KL(n,t,e),Object.assign({},n.vars,n.style)},[t])}function lPe(e,t){const n=e.style||{},r={};return Rre(r,n,e),Object.assign(r,sPe(e,t)),r}function cPe(e,t){const n={},r=lPe(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}function uPe(e,t,n,r){const a=E.useMemo(()=>{const i=Pre();return XL(i,t,QL(r),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};Rre(i,e.style,e),a.style={...i,...a.style}}return a}function dPe(e=!1){return(n,r,a,{latestValues:i},o)=>{const l=(HL(n)?uPe:cPe)(r,i,o,n),u=NTe(r,typeof n=="string",e),d=n!==E.Fragment?{...u,...l,ref:a}:{},{children:f}=r,h=E.useMemo(()=>xo(f)?f.get():f,[f]);return E.createElement(n,{...d,children:h})}}function fPe(e,t){return function(r,{forwardMotionProps:a}={forwardMotionProps:!1}){const o={...HL(r)?iPe:oPe,preloadedFeatures:e,useRender:dPe(a),createVisualElement:t,Component:r};return ITe(o)}}function Fre(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function zj(e,t,n){const r=e.getProps();return qL(r,t,n!==void 0?n:r.custom,e)}const hPe=BL(()=>window.ScrollTimeline!==void 0);class pPe{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,n){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=n}attachTimeline(t,n){const r=this.animations.map(a=>{if(hPe()&&a.attachTimeline)return a.attachTimeline(t);if(typeof n=="function")return n(a)});return()=>{r.forEach((a,i)=>{a&&a(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class mPe extends pPe{then(t,n){return Promise.all(this.animations).then(t).catch(n)}}function e5(e,t){return e?e[t]||e.default||e:void 0}const M3=2e4;function Lre(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<M3;)t+=n,r=e.next(t);return t>=M3?1/0:t}function t5(e){return typeof e=="function"}function pU(e,t){e.timeline=t,e.onfinish=null}const n5=e=>Array.isArray(e)&&typeof e[0]=="number",gPe={linearEasing:void 0};function vPe(e,t){const n=BL(e);return()=>{var r;return(r=gPe[t])!==null&&r!==void 0?r:n()}}const sE=vPe(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),$re=(e,t,n=10)=>{let r="";const a=Math.max(Math.round(t/n),2);for(let i=0;i<a;i++)r+=e(e0(0,a-1,i))+", ";return`linear(${r.substring(0,r.length-2)})`};function Bre(e){return!!(typeof e=="function"&&sE()||!e||typeof e=="string"&&(e in I3||sE())||n5(e)||Array.isArray(e)&&e.every(Bre))}const Ex=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,I3={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ex([0,.65,.55,1]),circOut:Ex([.55,0,1,.45]),backIn:Ex([.31,.01,.66,-.59]),backOut:Ex([.33,1.53,.69,.99])};function zre(e,t){if(e)return typeof e=="function"&&sE()?$re(e,t):n5(e)?Ex(e):Array.isArray(e)?e.map(n=>zre(n,t)||I3.easeOut):I3[e]}const Xl={x:!1,y:!1};function Ure(){return Xl.x||Xl.y}function yPe(e,t,n){var r;if(e instanceof Element)return[e];if(typeof e=="string"){let a=document;const i=(r=void 0)!==null&&r!==void 0?r:a.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}function Wre(e,t){const n=yPe(e),r=new AbortController,a={passive:!0,...t,signal:r.signal};return[n,a,()=>r.abort()]}function mU(e){return t=>{t.pointerType==="touch"||Ure()||e(t)}}function xPe(e,t,n={}){const[r,a,i]=Wre(e,n),o=mU(s=>{const{target:l}=s,u=t(s);if(typeof u!="function"||!l)return;const d=mU(f=>{u(f),l.removeEventListener("pointerleave",d)});l.addEventListener("pointerleave",d,a)});return r.forEach(s=>{s.addEventListener("pointerenter",o,a)}),i}const Vre=(e,t)=>t?e===t?!0:Vre(e,t.parentElement):!1,r5=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,bPe=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function wPe(e){return bPe.has(e.tagName)||e.tabIndex!==-1}const Nx=new WeakSet;function gU(e){return t=>{t.key==="Enter"&&e(t)}}function GA(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const _Pe=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=gU(()=>{if(Nx.has(n))return;GA(n,"down");const a=gU(()=>{GA(n,"up")}),i=()=>GA(n,"cancel");n.addEventListener("keyup",a,t),n.addEventListener("blur",i,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function vU(e){return r5(e)&&!Ure()}function SPe(e,t,n={}){const[r,a,i]=Wre(e,n),o=s=>{const l=s.currentTarget;if(!vU(s)||Nx.has(l))return;Nx.add(l);const u=t(s),d=(p,m)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",h),!(!vU(p)||!Nx.has(l))&&(Nx.delete(l),typeof u=="function"&&u(p,{success:m}))},f=p=>{d(p,n.useGlobalTarget||Vre(l,p.target))},h=p=>{d(p,!1)};window.addEventListener("pointerup",f,a),window.addEventListener("pointercancel",h,a)};return r.forEach(s=>{!wPe(s)&&s.getAttribute("tabindex")===null&&(s.tabIndex=0),(n.useGlobalTarget?window:s).addEventListener("pointerdown",o,a),s.addEventListener("focus",u=>_Pe(u,a),a)}),i}function CPe(e){return e==="x"||e==="y"?Xl[e]?null:(Xl[e]=!0,()=>{Xl[e]=!1}):Xl.x||Xl.y?null:(Xl.x=Xl.y=!0,()=>{Xl.x=Xl.y=!1})}const Hre=new Set(["width","height","top","left","right","bottom",...Z0]);let QS;function EPe(){QS=void 0}const mu={now:()=>(QS===void 0&&mu.set(Ui.isProcessing||bTe.useManualTiming?Ui.timestamp:performance.now()),QS),set:e=>{QS=e,queueMicrotask(EPe)}};function a5(e,t){e.indexOf(t)===-1&&e.push(t)}function i5(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class o5{constructor(){this.subscriptions=[]}add(t){return a5(this.subscriptions,t),()=>i5(this.subscriptions,t)}notify(t,n,r){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,n,r);else for(let i=0;i<a;i++){const o=this.subscriptions[i];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function qre(e,t){return t?e*(1e3/t):0}const yU=30,NPe=e=>!isNaN(parseFloat(e));class kPe{constructor(t,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,a=!0)=>{const i=mu.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=mu.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=NPe(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new o5);const r=this.events[t].add(n);return t==="change"?()=>{r(),oa.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=mu.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>yU)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,yU);return qre(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function vb(e,t){return new kPe(e,t)}function jPe(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,vb(n))}function TPe(e,t){const n=zj(e,t);let{transitionEnd:r={},transition:a={},...i}=n||{};i={...i,...r};for(const o in i){const s=zTe(i[o]);jPe(e,o,s)}}function PPe(e){return!!(xo(e)&&e.add)}function R3(e,t){const n=e.getValue("willChange");if(PPe(n))return n.add(t)}function Gre(e){return e.props[Sre]}const Yre=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,APe=1e-7,DPe=12;function OPe(e,t,n,r,a){let i,o,s=0;do o=t+(n-t)/2,i=Yre(o,r,a)-e,i>0?n=o:t=o;while(Math.abs(i)>APe&&++s<DPe);return o}function Yw(e,t,n,r){if(e===t&&n===r)return Rs;const a=i=>OPe(i,0,1,e,n);return i=>i===0||i===1?i:Yre(a(i),t,r)}const Kre=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Xre=e=>t=>1-e(1-t),Zre=Yw(.33,1.53,.69,.99),s5=Xre(Zre),Qre=Kre(s5),Jre=e=>(e*=2)<1?.5*s5(e):.5*(2-Math.pow(2,-10*(e-1))),l5=e=>1-Math.sin(Math.acos(e)),eae=Xre(l5),tae=Kre(l5),nae=e=>/^0[^.\s]+$/u.test(e);function MPe(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||nae(e):!0}const e1=e=>Math.round(e*1e5)/1e5,c5=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function IPe(e){return e==null}const RPe=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,u5=(e,t)=>n=>!!(typeof n=="string"&&RPe.test(n)&&n.startsWith(e)||t&&!IPe(n)&&Object.prototype.hasOwnProperty.call(n,t)),rae=(e,t,n)=>r=>{if(typeof r!="string")return r;const[a,i,o,s]=r.match(c5);return{[e]:parseFloat(a),[t]:parseFloat(i),[n]:parseFloat(o),alpha:s!==void 0?parseFloat(s):1}},FPe=e=>Ad(0,255,e),YA={...Q0,transform:e=>Math.round(FPe(e))},Tp={test:u5("rgb","red"),parse:rae("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+YA.transform(e)+", "+YA.transform(t)+", "+YA.transform(n)+", "+e1(gb.transform(r))+")"};function LPe(e){let t="",n="",r="",a="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),a=e.substring(4,5),t+=t,n+=n,r+=r,a+=a),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:a?parseInt(a,16)/255:1}}const F3={test:u5("#"),parse:LPe,transform:Tp.transform},Vg={test:u5("hsl","hue"),parse:rae("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+pu.transform(e1(t))+", "+pu.transform(e1(n))+", "+e1(gb.transform(r))+")"},lo={test:e=>Tp.test(e)||F3.test(e)||Vg.test(e),parse:e=>Tp.test(e)?Tp.parse(e):Vg.test(e)?Vg.parse(e):F3.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Tp.transform(e):Vg.transform(e)},$Pe=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function BPe(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(c5))===null||t===void 0?void 0:t.length)||0)+(((n=e.match($Pe))===null||n===void 0?void 0:n.length)||0)>0}const aae="number",iae="color",zPe="var",UPe="var(",xU="${}",WPe=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function yb(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},a=[];let i=0;const s=t.replace(WPe,l=>(lo.test(l)?(r.color.push(i),a.push(iae),n.push(lo.parse(l))):l.startsWith(UPe)?(r.var.push(i),a.push(zPe),n.push(l)):(r.number.push(i),a.push(aae),n.push(parseFloat(l))),++i,xU)).split(xU);return{values:n,split:s,indexes:r,types:a}}function oae(e){return yb(e).values}function sae(e){const{split:t,types:n}=yb(e),r=t.length;return a=>{let i="";for(let o=0;o<r;o++)if(i+=t[o],a[o]!==void 0){const s=n[o];s===aae?i+=e1(a[o]):s===iae?i+=lo.transform(a[o]):i+=a[o]}return i}}const VPe=e=>typeof e=="number"?0:e;function HPe(e){const t=oae(e);return sae(e)(t.map(VPe))}const dh={test:BPe,parse:oae,createTransformer:sae,getAnimatableNone:HPe},qPe=new Set(["brightness","contrast","saturate","opacity"]);function GPe(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(c5)||[];if(!r)return e;const a=n.replace(r,"");let i=qPe.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+a+")"}const YPe=/\b([a-z-]*)\(.*?\)/gu,L3={...dh,getAnimatableNone:e=>{const t=e.match(YPe);return t?t.map(GPe).join(" "):e}},KPe={...YL,color:lo,backgroundColor:lo,outlineColor:lo,fill:lo,stroke:lo,borderColor:lo,borderTopColor:lo,borderRightColor:lo,borderBottomColor:lo,borderLeftColor:lo,filter:L3,WebkitFilter:L3},d5=e=>KPe[e];function lae(e,t){let n=d5(e);return n!==L3&&(n=dh),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const XPe=new Set(["auto","none","0"]);function ZPe(e,t,n){let r=0,a;for(;r<e.length&&!a;){const i=e[r];typeof i=="string"&&!XPe.has(i)&&yb(i).values.length&&(a=e[r]),r++}if(a&&n)for(const i of t)e[i]=lae(n,a)}const bU=e=>e===Q0||e===yn,wU=(e,t)=>parseFloat(e.split(", ")[t]),_U=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const a=r.match(/^matrix3d\((.+)\)$/u);if(a)return wU(a[1],t);{const i=r.match(/^matrix\((.+)\)$/u);return i?wU(i[1],e):0}},QPe=new Set(["x","y","z"]),JPe=Z0.filter(e=>!QPe.has(e));function eAe(e){const t=[];return JPe.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const n0={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:_U(4,13),y:_U(5,14)};n0.translateX=n0.x;n0.translateY=n0.y;const Yp=new Set;let $3=!1,B3=!1;function cae(){if(B3){const e=Array.from(Yp).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const a=eAe(r);a.length&&(n.set(r,a),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const a=n.get(r);a&&a.forEach(([i,o])=>{var s;(s=r.getValue(i))===null||s===void 0||s.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}B3=!1,$3=!1,Yp.forEach(e=>e.complete()),Yp.clear()}function uae(){Yp.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(B3=!0)})}function tAe(){uae(),cae()}class f5{constructor(t,n,r,a,i,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=a,this.element=i,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Yp.add(this),$3||($3=!0,oa.read(uae),oa.resolveKeyframes(cae))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:a}=this;for(let i=0;i<t.length;i++)if(t[i]===null)if(i===0){const o=a==null?void 0:a.get(),s=t[t.length-1];if(o!==void 0)t[0]=o;else if(r&&n){const l=r.readValue(n,s);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=s),a&&o===void 0&&a.set(t[0])}else t[i]=t[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Yp.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Yp.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const dae=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),nAe=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function rAe(e){const t=nAe.exec(e);if(!t)return[,];const[,n,r,a]=t;return[`--${n??r}`,a]}function fae(e,t,n=1){const[r,a]=rAe(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const o=i.trim();return dae(o)?parseFloat(o):o}return GL(a)?fae(a,t,n+1):a}const hae=e=>t=>t.test(e),aAe={test:e=>e==="auto",parse:e=>e},pae=[Q0,yn,pu,mf,GTe,qTe,aAe],SU=e=>pae.find(hae(e));class mae extends f5{constructor(t,n,r,a,i){super(t,n,r,a,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let u=t[l];if(typeof u=="string"&&(u=u.trim(),GL(u))){const d=fae(u,n.current);d!==void 0&&(t[l]=d),l===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!Hre.has(r)||t.length!==2)return;const[a,i]=t,o=SU(a),s=SU(i);if(o!==s)if(bU(o)&&bU(s))for(let l=0;l<t.length;l++){const u=t[l];typeof u=="string"&&(t[l]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let a=0;a<t.length;a++)MPe(t[a])&&r.push(a);r.length&&ZPe(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=n0[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&t.getValue(r,a).jump(a,!1)}measureEndState(){var t;const{element:n,name:r,unresolvedKeyframes:a}=this;if(!n||!n.current)return;const i=n.getValue(r);i&&i.jump(this.measuredOrigin,!1);const o=a.length-1,s=a[o];a[o]=n0[r](n.measureViewportBox(),window.getComputedStyle(n.current)),s!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=s),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([l,u])=>{n.getValue(l).set(u)}),this.resolveNoneKeyframes()}}const CU=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(dh.test(e)||e==="0")&&!e.startsWith("url("));function iAe(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function oAe(e,t,n,r){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=CU(a,t),s=CU(i,t);return!o||!s?!1:iAe(e)||(n==="spring"||t5(n))&&r}const sAe=e=>e!==null;function Uj(e,{repeat:t,repeatType:n="loop"},r){const a=e.filter(sAe),i=t&&n!=="loop"&&t%2===1?0:a.length-1;return!i||r===void 0?a[i]:r}const lAe=40;class gae{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:a=0,repeatDelay:i=0,repeatType:o="loop",...s}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=mu.now(),this.options={autoplay:t,delay:n,type:r,repeat:a,repeatDelay:i,repeatType:o,...s},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>lAe?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&tAe(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=mu.now(),this.hasAttemptedResolve=!0;const{name:r,type:a,velocity:i,delay:o,onComplete:s,onUpdate:l,isGenerator:u}=this.options;if(!u&&!oAe(t,r,a,i))if(o)this.options.duration=0;else{l&&l(Uj(t,this.options,n)),s&&s(),this.resolveFinishedPromise();return}const d=this.initPlayback(t,n);d!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...d},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const wa=(e,t,n)=>e+(t-e)*n;function KA(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function cAe({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let a=0,i=0,o=0;if(!t)a=i=o=n;else{const s=n<.5?n*(1+t):n+t-n*t,l=2*n-s;a=KA(l,s,e+1/3),i=KA(l,s,e),o=KA(l,s,e-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function lE(e,t){return n=>n>0?t:e}const XA=(e,t,n)=>{const r=e*e,a=n*(t*t-r)+r;return a<0?0:Math.sqrt(a)},uAe=[F3,Tp,Vg],dAe=e=>uAe.find(t=>t.test(e));function EU(e){const t=dAe(e);if(!t)return!1;let n=t.parse(e);return t===Vg&&(n=cAe(n)),n}const NU=(e,t)=>{const n=EU(e),r=EU(t);if(!n||!r)return lE(e,t);const a={...n};return i=>(a.red=XA(n.red,r.red,i),a.green=XA(n.green,r.green,i),a.blue=XA(n.blue,r.blue,i),a.alpha=wa(n.alpha,r.alpha,i),Tp.transform(a))},fAe=(e,t)=>n=>t(e(n)),Kw=(...e)=>e.reduce(fAe),z3=new Set(["none","hidden"]);function hAe(e,t){return z3.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function pAe(e,t){return n=>wa(e,t,n)}function h5(e){return typeof e=="number"?pAe:typeof e=="string"?GL(e)?lE:lo.test(e)?NU:vAe:Array.isArray(e)?vae:typeof e=="object"?lo.test(e)?NU:mAe:lE}function vae(e,t){const n=[...e],r=n.length,a=e.map((i,o)=>h5(i)(i,t[o]));return i=>{for(let o=0;o<r;o++)n[o]=a[o](i);return n}}function mAe(e,t){const n={...e,...t},r={};for(const a in n)e[a]!==void 0&&t[a]!==void 0&&(r[a]=h5(e[a])(e[a],t[a]));return a=>{for(const i in r)n[i]=r[i](a);return n}}function gAe(e,t){var n;const r=[],a={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const o=t.types[i],s=e.indexes[o][a[o]],l=(n=e.values[s])!==null&&n!==void 0?n:0;r[i]=l,a[o]++}return r}const vAe=(e,t)=>{const n=dh.createTransformer(t),r=yb(e),a=yb(t);return r.indexes.var.length===a.indexes.var.length&&r.indexes.color.length===a.indexes.color.length&&r.indexes.number.length>=a.indexes.number.length?z3.has(e)&&!a.values.length||z3.has(t)&&!r.values.length?hAe(e,t):Kw(vae(gAe(r,a),a.values),n):lE(e,t)};function yae(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?wa(e,t,n):h5(e)(e,t)}const yAe=5;function xae(e,t,n){const r=Math.max(t-yAe,0);return qre(n-e(r),t-r)}const Oa={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},ZA=.001;function xAe({duration:e=Oa.duration,bounce:t=Oa.bounce,velocity:n=Oa.velocity,mass:r=Oa.mass}){let a,i,o=1-t;o=Ad(Oa.minDamping,Oa.maxDamping,o),e=Ad(Oa.minDuration,Oa.maxDuration,md(e)),o<1?(a=u=>{const d=u*o,f=d*e,h=d-n,p=U3(u,o),m=Math.exp(-f);return ZA-h/p*m},i=u=>{const f=u*o*e,h=f*n+n,p=Math.pow(o,2)*Math.pow(u,2)*e,m=Math.exp(-f),g=U3(Math.pow(u,2),o);return(-a(u)+ZA>0?-1:1)*((h-p)*m)/g}):(a=u=>{const d=Math.exp(-u*e),f=(u-n)*e+1;return-ZA+d*f},i=u=>{const d=Math.exp(-u*e),f=(n-u)*(e*e);return d*f});const s=5/e,l=wAe(a,i,s);if(e=pd(e),isNaN(l))return{stiffness:Oa.stiffness,damping:Oa.damping,duration:e};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:e}}}const bAe=12;function wAe(e,t,n){let r=n;for(let a=1;a<bAe;a++)r=r-e(r)/t(r);return r}function U3(e,t){return e*Math.sqrt(1-t*t)}const _Ae=["duration","bounce"],SAe=["stiffness","damping","mass"];function kU(e,t){return t.some(n=>e[n]!==void 0)}function CAe(e){let t={velocity:Oa.velocity,stiffness:Oa.stiffness,damping:Oa.damping,mass:Oa.mass,isResolvedFromDuration:!1,...e};if(!kU(e,SAe)&&kU(e,_Ae))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),a=r*r,i=2*Ad(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:Oa.mass,stiffness:a,damping:i}}else{const n=xAe(e);t={...t,...n,mass:Oa.mass},t.isResolvedFromDuration=!0}return t}function bae(e=Oa.visualDuration,t=Oa.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:a}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],s={done:!1,value:i},{stiffness:l,damping:u,mass:d,duration:f,velocity:h,isResolvedFromDuration:p}=CAe({...n,velocity:-md(n.velocity||0)}),m=h||0,g=u/(2*Math.sqrt(l*d)),y=o-i,x=md(Math.sqrt(l/d)),b=Math.abs(y)<5;r||(r=b?Oa.restSpeed.granular:Oa.restSpeed.default),a||(a=b?Oa.restDelta.granular:Oa.restDelta.default);let w;if(g<1){const S=U3(x,g);w=k=>{const N=Math.exp(-g*x*k);return o-N*((m+g*x*y)/S*Math.sin(S*k)+y*Math.cos(S*k))}}else if(g===1)w=S=>o-Math.exp(-x*S)*(y+(m+x*y)*S);else{const S=x*Math.sqrt(g*g-1);w=k=>{const N=Math.exp(-g*x*k),P=Math.min(S*k,300);return o-N*((m+g*x*y)*Math.sinh(P)+S*y*Math.cosh(P))/S}}const _={calculatedDuration:p&&f||null,next:S=>{const k=w(S);if(p)s.done=S>=f;else{let N=0;g<1&&(N=S===0?pd(m):xae(w,S,k));const P=Math.abs(N)<=r,T=Math.abs(o-k)<=a;s.done=P&&T}return s.value=s.done?o:k,s},toString:()=>{const S=Math.min(Lre(_),M3),k=$re(N=>_.next(S*N).value,S,30);return S+"ms "+k}};return _}function jU({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:o,min:s,max:l,restDelta:u=.5,restSpeed:d}){const f=e[0],h={done:!1,value:f},p=P=>s!==void 0&&P<s||l!==void 0&&P>l,m=P=>s===void 0?l:l===void 0||Math.abs(s-P)<Math.abs(l-P)?s:l;let g=n*t;const y=f+g,x=o===void 0?y:o(y);x!==y&&(g=x-f);const b=P=>-g*Math.exp(-P/r),w=P=>x+b(P),_=P=>{const T=b(P),j=w(P);h.done=Math.abs(T)<=u,h.value=h.done?x:j};let S,k;const N=P=>{p(h.value)&&(S=P,k=bae({keyframes:[h.value,m(h.value)],velocity:xae(w,P,h.value),damping:a,stiffness:i,restDelta:u,restSpeed:d}))};return N(0),{calculatedDuration:null,next:P=>{let T=!1;return!k&&S===void 0&&(T=!0,_(P),N(P)),S!==void 0&&P>=S?k.next(P-S):(!T&&_(P),h)}}}const EAe=Yw(.42,0,1,1),NAe=Yw(0,0,.58,1),wae=Yw(.42,0,.58,1),kAe=e=>Array.isArray(e)&&typeof e[0]!="number",jAe={linear:Rs,easeIn:EAe,easeInOut:wae,easeOut:NAe,circIn:l5,circInOut:tae,circOut:eae,backIn:s5,backInOut:Qre,backOut:Zre,anticipate:Jre},TU=e=>{if(n5(e)){yre(e.length===4);const[t,n,r,a]=e;return Yw(t,n,r,a)}else if(typeof e=="string")return jAe[e];return e};function TAe(e,t,n){const r=[],a=n||yae,i=e.length-1;for(let o=0;o<i;o++){let s=a(e[o],e[o+1]);if(t){const l=Array.isArray(t)?t[o]||Rs:t;s=Kw(l,s)}r.push(s)}return r}function PAe(e,t,{clamp:n=!0,ease:r,mixer:a}={}){const i=e.length;if(yre(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const s=TAe(t,r,a),l=s.length,u=d=>{if(o&&d<e[0])return t[0];let f=0;if(l>1)for(;f<e.length-2&&!(d<e[f+1]);f++);const h=e0(e[f],e[f+1],d);return s[f](h)};return n?d=>u(Ad(e[0],e[i-1],d)):u}function AAe(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const a=e0(0,t,r);e.push(wa(n,1,a))}}function DAe(e){const t=[0];return AAe(t,e.length-1),t}function OAe(e,t){return e.map(n=>n*t)}function MAe(e,t){return e.map(()=>t||wae).splice(0,e.length-1)}function cE({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const a=kAe(r)?r.map(TU):TU(r),i={done:!1,value:t[0]},o=OAe(n&&n.length===t.length?n:DAe(t),e),s=PAe(o,t,{ease:Array.isArray(a)?a:MAe(t,a)});return{calculatedDuration:e,next:l=>(i.value=s(l),i.done=l>=e,i)}}const IAe=e=>{const t=({timestamp:n})=>e(n);return{start:()=>oa.update(t,!0),stop:()=>uh(t),now:()=>Ui.isProcessing?Ui.timestamp:mu.now()}},RAe={decay:jU,inertia:jU,tween:cE,keyframes:cE,spring:bae},FAe=e=>e/100;class p5 extends gae{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:a,keyframes:i}=this.options,o=(a==null?void 0:a.KeyframeResolver)||f5,s=(l,u)=>this.onKeyframesResolved(l,u);this.resolver=new o(i,s,n,r,a),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:n="keyframes",repeat:r=0,repeatDelay:a=0,repeatType:i,velocity:o=0}=this.options,s=t5(n)?n:RAe[n]||cE;let l,u;s!==cE&&typeof t[0]!="number"&&(l=Kw(FAe,yae(t[0],t[1])),t=[0,100]);const d=s({...this.options,keyframes:t});i==="mirror"&&(u=s({...this.options,keyframes:[...t].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=Lre(d));const{calculatedDuration:f}=d,h=f+a,p=h*(r+1)-a;return{generator:d,mirroredGenerator:u,mapPercentToKeyframes:l,calculatedDuration:f,resolvedDuration:h,totalDuration:p}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:r}=this;if(!r){const{keyframes:P}=this.options;return{done:!0,value:P[P.length-1]}}const{finalKeyframe:a,generator:i,mirroredGenerator:o,mapPercentToKeyframes:s,keyframes:l,calculatedDuration:u,totalDuration:d,resolvedDuration:f}=r;if(this.startTime===null)return i.next(0);const{delay:h,repeat:p,repeatType:m,repeatDelay:g,onUpdate:y}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-d/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const x=this.currentTime-h*(this.speed>=0?1:-1),b=this.speed>=0?x<0:x>d;this.currentTime=Math.max(x,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let w=this.currentTime,_=i;if(p){const P=Math.min(this.currentTime,d)/f;let T=Math.floor(P),j=P%1;!j&&P>=1&&(j=1),j===1&&T--,T=Math.min(T,p+1),!!(T%2)&&(m==="reverse"?(j=1-j,g&&(j-=g/f)):m==="mirror"&&(_=o)),w=Ad(0,1,j)*f}const S=b?{done:!1,value:l[0]}:_.next(w);s&&(S.value=s(S.value));let{done:k}=S;!b&&u!==null&&(k=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const N=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&k);return N&&a!==void 0&&(S.value=Uj(l,this.options,a)),y&&y(S.value),N&&this.finish(),S}get duration(){const{resolved:t}=this;return t?md(t.calculatedDuration):0}get time(){return md(this.currentTime)}set time(t){t=pd(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=md(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=IAe,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=t(i=>this.tick(i))),n&&n();const a=this.driver.now();this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=a):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const LAe=new Set(["opacity","clipPath","filter","transform"]);function $Ae(e,t,n,{delay:r=0,duration:a=300,repeat:i=0,repeatType:o="loop",ease:s="easeInOut",times:l}={}){const u={[t]:n};l&&(u.offset=l);const d=zre(s,a);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:r,duration:a,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}const BAe=BL(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),uE=10,zAe=2e4;function UAe(e){return t5(e.type)||e.type==="spring"||!Bre(e.ease)}function WAe(e,t){const n=new p5({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:e[0]};const a=[];let i=0;for(;!r.done&&i<zAe;)r=n.sample(i),a.push(r.value),i+=uE;return{times:void 0,keyframes:a,duration:i-uE,ease:"linear"}}const _ae={anticipate:Jre,backInOut:Qre,circInOut:tae};function VAe(e){return e in _ae}class PU extends gae{constructor(t){super(t);const{name:n,motionValue:r,element:a,keyframes:i}=this.options;this.resolver=new mae(i,(o,s)=>this.onKeyframesResolved(o,s),n,r,a),this.resolver.scheduleResolve()}initPlayback(t,n){let{duration:r=300,times:a,ease:i,type:o,motionValue:s,name:l,startTime:u}=this.options;if(!s.owner||!s.owner.current)return!1;if(typeof i=="string"&&sE()&&VAe(i)&&(i=_ae[i]),UAe(this.options)){const{onComplete:f,onUpdate:h,motionValue:p,element:m,...g}=this.options,y=WAe(t,g);t=y.keyframes,t.length===1&&(t[1]=t[0]),r=y.duration,a=y.times,i=y.ease,o="keyframes"}const d=$Ae(s.owner.current,l,t,{...this.options,duration:r,times:a,ease:i});return d.startTime=u??this.calcStartTime(),this.pendingTimeline?(pU(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:f}=this.options;s.set(Uj(t,this.options,n)),f&&f(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:r,times:a,type:o,ease:i,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return md(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return md(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=pd(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return Rs;const{animation:r}=n;pU(r,t)}return Rs}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:r,duration:a,type:i,ease:o,times:s}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:d,onComplete:f,element:h,...p}=this.options,m=new p5({...p,keyframes:r,duration:a,type:i,ease:o,times:s,isGenerator:!0}),g=pd(this.time);u.setWithVelocity(m.sample(g-uE).value,m.sample(g).value,uE)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:r,repeatDelay:a,repeatType:i,damping:o,type:s}=t;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=n.owner.getProps();return BAe()&&r&&LAe.has(r)&&!l&&!u&&!a&&i!=="mirror"&&o!==0&&s!=="inertia"}}const HAe={type:"spring",stiffness:500,damping:25,restSpeed:10},qAe=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),GAe={type:"keyframes",duration:.8},YAe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},KAe=(e,{keyframes:t})=>t.length>2?GAe:Dm.has(e)?e.startsWith("scale")?qAe(t[1]):HAe:YAe;function XAe({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:a,repeat:i,repeatType:o,repeatDelay:s,from:l,elapsed:u,...d}){return!!Object.keys(d).length}const m5=(e,t,n,r={},a,i)=>o=>{const s=e5(r,e)||{},l=s.delay||r.delay||0;let{elapsed:u=0}=r;u=u-pd(l);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...s,delay:-u,onUpdate:h=>{t.set(h),s.onUpdate&&s.onUpdate(h)},onComplete:()=>{o(),s.onComplete&&s.onComplete()},name:e,motionValue:t,element:i?void 0:a};XAe(s)||(d={...d,...KAe(e,d)}),d.duration&&(d.duration=pd(d.duration)),d.repeatDelay&&(d.repeatDelay=pd(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(f=!0)),f&&!i&&t.get()!==void 0){const h=Uj(d.keyframes,s);if(h!==void 0)return oa.update(()=>{d.onUpdate(h),d.onComplete()}),new mPe([])}return!i&&PU.supports(d)?new PU(d):new p5(d)};function ZAe({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function Sae(e,t,{delay:n=0,transitionOverride:r,type:a}={}){var i;let{transition:o=e.getDefaultTransition(),transitionEnd:s,...l}=t;r&&(o=r);const u=[],d=a&&e.animationState&&e.animationState.getState()[a];for(const f in l){const h=e.getValue(f,(i=e.latestValues[f])!==null&&i!==void 0?i:null),p=l[f];if(p===void 0||d&&ZAe(d,f))continue;const m={delay:n,...e5(o||{},f)};let g=!1;if(window.MotionHandoffAnimation){const x=Gre(e);if(x){const b=window.MotionHandoffAnimation(x,f,oa);b!==null&&(m.startTime=b,g=!0)}}R3(e,f),h.start(m5(f,h,p,e.shouldReduceMotion&&Hre.has(f)?{type:!1}:m,e,g));const y=h.animation;y&&u.push(y)}return s&&Promise.all(u).then(()=>{oa.update(()=>{s&&TPe(e,s)})}),u}function W3(e,t,n={}){var r;const a=zj(e,t,n.type==="exit"?(r=e.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=a||{};n.transitionOverride&&(i=n.transitionOverride);const o=a?()=>Promise.all(Sae(e,a,n)):()=>Promise.resolve(),s=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:h}=i;return QAe(e,t,d+u,f,h,n)}:()=>Promise.resolve(),{when:l}=i;if(l){const[u,d]=l==="beforeChildren"?[o,s]:[s,o];return u().then(()=>d())}else return Promise.all([o(),s(n.delay)])}function QAe(e,t,n=0,r=0,a=1,i){const o=[],s=(e.variantChildren.size-1)*r,l=a===1?(u=0)=>u*r:(u=0)=>s-u*r;return Array.from(e.variantChildren).sort(JAe).forEach((u,d)=>{u.notify("AnimationStart",t),o.push(W3(u,t,{...i,delay:n+l(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(o)}function JAe(e,t){return e.sortNodePosition(t)}function e4e(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const a=t.map(i=>W3(e,i,n));r=Promise.all(a)}else if(typeof t=="string")r=W3(e,t,n);else{const a=typeof t=="function"?zj(e,t,n.custom):t;r=Promise.all(Sae(e,a,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}const t4e=UL.length;function Cae(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?Cae(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<t4e;n++){const r=UL[n],a=e.props[r];(mb(a)||a===!1)&&(t[r]=a)}return t}const n4e=[...zL].reverse(),r4e=zL.length;function a4e(e){return t=>Promise.all(t.map(({animation:n,options:r})=>e4e(e,n,r)))}function i4e(e){let t=a4e(e),n=AU(),r=!0;const a=l=>(u,d)=>{var f;const h=zj(e,d,l==="exit"?(f=e.presenceContext)===null||f===void 0?void 0:f.custom:void 0);if(h){const{transition:p,transitionEnd:m,...g}=h;u={...u,...g,...m}}return u};function i(l){t=l(e)}function o(l){const{props:u}=e,d=Cae(e.parent)||{},f=[],h=new Set;let p={},m=1/0;for(let y=0;y<r4e;y++){const x=n4e[y],b=n[x],w=u[x]!==void 0?u[x]:d[x],_=mb(w),S=x===l?b.isActive:null;S===!1&&(m=y);let k=w===d[x]&&w!==u[x]&&_;if(k&&r&&e.manuallyAnimateOnMount&&(k=!1),b.protectedKeys={...p},!b.isActive&&S===null||!w&&!b.prevProp||$j(w)||typeof w=="boolean")continue;const N=o4e(b.prevProp,w);let P=N||x===l&&b.isActive&&!k&&_||y>m&&_,T=!1;const j=Array.isArray(w)?w:[w];let D=j.reduce(a(x),{});S===!1&&(D={});const{prevResolvedValues:M={}}=b,R={...M,...D},W=q=>{P=!0,h.has(q)&&(T=!0,h.delete(q)),b.needsAnimating[q]=!0;const I=e.getValue(q);I&&(I.liveStyle=!1)};for(const q in R){const I=D[q],O=M[q];if(p.hasOwnProperty(q))continue;let H=!1;O3(I)&&O3(O)?H=!Fre(I,O):H=I!==O,H?I!=null?W(q):h.add(q):I!==void 0&&h.has(q)?W(q):b.protectedKeys[q]=!0}b.prevProp=w,b.prevResolvedValues=D,b.isActive&&(p={...p,...D}),r&&e.blockInitialAnimation&&(P=!1),P&&(!(k&&N)||T)&&f.push(...j.map(q=>({animation:q,options:{type:x}})))}if(h.size){const y={};h.forEach(x=>{const b=e.getBaseTarget(x),w=e.getValue(x);w&&(w.liveStyle=!0),y[x]=b??null}),f.push({animation:y})}let g=!!f.length;return r&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(g=!1),r=!1,g?t(f):Promise.resolve()}function s(l,u){var d;if(n[l].isActive===u)return Promise.resolve();(d=e.variantChildren)===null||d===void 0||d.forEach(h=>{var p;return(p=h.animationState)===null||p===void 0?void 0:p.setActive(l,u)}),n[l].isActive=u;const f=o(l);for(const h in n)n[h].protectedKeys={};return f}return{animateChanges:o,setActive:s,setAnimateFunction:i,getState:()=>n,reset:()=>{n=AU(),r=!0}}}function o4e(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Fre(t,e):!1}function qh(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function AU(){return{animate:qh(!0),whileInView:qh(),whileHover:qh(),whileTap:qh(),whileDrag:qh(),whileFocus:qh(),exit:qh()}}class Th{constructor(t){this.isMounted=!1,this.node=t}update(){}}class s4e extends Th{constructor(t){super(t),t.animationState||(t.animationState=i4e(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();$j(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let l4e=0;class c4e extends Th{constructor(){super(...arguments),this.id=l4e++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const a=this.node.animationState.setActive("exit",!t);n&&!t&&a.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const u4e={animation:{Feature:s4e},exit:{Feature:c4e}};function xb(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function Xw(e){return{point:{x:e.pageX,y:e.pageY}}}const d4e=e=>t=>r5(t)&&e(t,Xw(t));function t1(e,t,n,r){return xb(e,t,d4e(n),r)}const DU=(e,t)=>Math.abs(e-t);function f4e(e,t){const n=DU(e.x,t.x),r=DU(e.y,t.y);return Math.sqrt(n**2+r**2)}class Eae{constructor(t,n,{transformPagePoint:r,contextWindow:a,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=JA(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,p=f4e(f.offset,{x:0,y:0})>=3;if(!h&&!p)return;const{point:m}=f,{timestamp:g}=Ui;this.history.push({...m,timestamp:g});const{onStart:y,onMove:x}=this.handlers;h||(y&&y(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=QA(h,this.transformPagePoint),oa.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:p,onSessionEnd:m,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=JA(f.type==="pointercancel"?this.lastMoveEventInfo:QA(h,this.transformPagePoint),this.history);this.startEvent&&p&&p(f,y),m&&m(f,y)},!r5(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=a||window;const o=Xw(t),s=QA(o,this.transformPagePoint),{point:l}=s,{timestamp:u}=Ui;this.history=[{...l,timestamp:u}];const{onSessionStart:d}=n;d&&d(t,JA(s,this.history)),this.removeListeners=Kw(t1(this.contextWindow,"pointermove",this.handlePointerMove),t1(this.contextWindow,"pointerup",this.handlePointerUp),t1(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),uh(this.updatePoint)}}function QA(e,t){return t?{point:t(e.point)}:e}function OU(e,t){return{x:e.x-t.x,y:e.y-t.y}}function JA({point:e},t){return{point:e,delta:OU(e,Nae(t)),offset:OU(e,h4e(t)),velocity:p4e(t,.1)}}function h4e(e){return e[0]}function Nae(e){return e[e.length-1]}function p4e(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const a=Nae(e);for(;n>=0&&(r=e[n],!(a.timestamp-r.timestamp>pd(t)));)n--;if(!r)return{x:0,y:0};const i=md(a.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(a.x-r.x)/i,y:(a.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const kae=1e-4,m4e=1-kae,g4e=1+kae,jae=.01,v4e=0-jae,y4e=0+jae;function zs(e){return e.max-e.min}function x4e(e,t,n){return Math.abs(e-t)<=n}function MU(e,t,n,r=.5){e.origin=r,e.originPoint=wa(t.min,t.max,e.origin),e.scale=zs(n)/zs(t),e.translate=wa(n.min,n.max,e.origin)-e.originPoint,(e.scale>=m4e&&e.scale<=g4e||isNaN(e.scale))&&(e.scale=1),(e.translate>=v4e&&e.translate<=y4e||isNaN(e.translate))&&(e.translate=0)}function n1(e,t,n,r){MU(e.x,t.x,n.x,r?r.originX:void 0),MU(e.y,t.y,n.y,r?r.originY:void 0)}function IU(e,t,n){e.min=n.min+t.min,e.max=e.min+zs(t)}function b4e(e,t,n){IU(e.x,t.x,n.x),IU(e.y,t.y,n.y)}function RU(e,t,n){e.min=t.min-n.min,e.max=e.min+zs(t)}function r1(e,t,n){RU(e.x,t.x,n.x),RU(e.y,t.y,n.y)}function w4e(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?wa(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?wa(n,e,r.max):Math.min(e,n)),e}function FU(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function _4e(e,{top:t,left:n,bottom:r,right:a}){return{x:FU(e.x,n,a),y:FU(e.y,t,r)}}function LU(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function S4e(e,t){return{x:LU(e.x,t.x),y:LU(e.y,t.y)}}function C4e(e,t){let n=.5;const r=zs(e),a=zs(t);return a>r?n=e0(t.min,t.max-r,e.min):r>a&&(n=e0(e.min,e.max-a,t.min)),Ad(0,1,n)}function E4e(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const V3=.35;function N4e(e=V3){return e===!1?e=0:e===!0&&(e=V3),{x:$U(e,"left","right"),y:$U(e,"top","bottom")}}function $U(e,t,n){return{min:BU(e,t),max:BU(e,n)}}function BU(e,t){return typeof e=="number"?e:e[t]||0}const zU=()=>({translate:0,scale:1,origin:0,originPoint:0}),Hg=()=>({x:zU(),y:zU()}),UU=()=>({min:0,max:0}),za=()=>({x:UU(),y:UU()});function sl(e){return[e("x"),e("y")]}function Tae({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function k4e({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function j4e(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function e4(e){return e===void 0||e===1}function H3({scale:e,scaleX:t,scaleY:n}){return!e4(e)||!e4(t)||!e4(n)}function ip(e){return H3(e)||Pae(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function Pae(e){return WU(e.x)||WU(e.y)}function WU(e){return e&&e!=="0%"}function dE(e,t,n){const r=e-n,a=t*r;return n+a}function VU(e,t,n,r,a){return a!==void 0&&(e=dE(e,a,r)),dE(e,n,r)+t}function q3(e,t=0,n=1,r,a){e.min=VU(e.min,t,n,r,a),e.max=VU(e.max,t,n,r,a)}function Aae(e,{x:t,y:n}){q3(e.x,t.translate,t.scale,t.originPoint),q3(e.y,n.translate,n.scale,n.originPoint)}const HU=.999999999999,qU=1.0000000000001;function T4e(e,t,n,r=!1){const a=n.length;if(!a)return;t.x=t.y=1;let i,o;for(let s=0;s<a;s++){i=n[s],o=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Gg(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,Aae(e,o)),r&&ip(i.latestValues)&&Gg(e,i.latestValues))}t.x<qU&&t.x>HU&&(t.x=1),t.y<qU&&t.y>HU&&(t.y=1)}function qg(e,t){e.min=e.min+t,e.max=e.max+t}function GU(e,t,n,r,a=.5){const i=wa(e.min,e.max,a);q3(e,t,n,i,r)}function Gg(e,t){GU(e.x,t.x,t.scaleX,t.scale,t.originX),GU(e.y,t.y,t.scaleY,t.scale,t.originY)}function Dae(e,t){return Tae(j4e(e.getBoundingClientRect(),t))}function P4e(e,t,n){const r=Dae(e,n),{scroll:a}=t;return a&&(qg(r.x,a.offset.x),qg(r.y,a.offset.y)),r}const Oae=({current:e})=>e?e.ownerDocument.defaultView:null,A4e=new WeakMap;class D4e{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=za(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const a=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Xw(d).point)},i=(d,f)=>{const{drag:h,dragPropagation:p,onDragStart:m}=this.getProps();if(h&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=CPe(h),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),sl(y=>{let x=this.getAxisMotionValue(y).get()||0;if(pu.test(x)){const{projection:b}=this.visualElement;if(b&&b.layout){const w=b.layout.layoutBox[y];w&&(x=zs(w)*(parseFloat(x)/100))}}this.originPoint[y]=x}),m&&oa.postRender(()=>m(d,f)),R3(this.visualElement,"transform");const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},o=(d,f)=>{const{dragPropagation:h,dragDirectionLock:p,onDirectionLock:m,onDrag:g}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:y}=f;if(p&&this.currentDirection===null){this.currentDirection=O4e(y),this.currentDirection!==null&&m&&m(this.currentDirection);return}this.updateAxis("x",f.point,y),this.updateAxis("y",f.point,y),this.visualElement.render(),g&&g(d,f)},s=(d,f)=>this.stop(d,f),l=()=>sl(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new Eae(t,{onSessionStart:a,onStart:i,onMove:o,onSessionEnd:s,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:Oae(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:a}=n;this.startAnimation(a);const{onDragEnd:i}=this.getProps();i&&oa.postRender(()=>i(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:a}=this.getProps();if(!r||!x_(t,a,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=w4e(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;n&&Wg(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&a?this.constraints=_4e(a.layoutBox,n):this.constraints=!1,this.elastic=N4e(r),i!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&sl(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=E4e(a.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Wg(t))return!1;const r=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=P4e(r,a.root,this.visualElement.getTransformPagePoint());let o=S4e(a.layout.layoutBox,i);if(n){const s=n(k4e(o));this.hasMutatedConstraints=!!s,s&&(o=Tae(s))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:a,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:s}=this.getProps(),l=this.constraints||{},u=sl(d=>{if(!x_(d,n,this.currentDirection))return;let f=l&&l[d]||{};o&&(f={min:0,max:0});const h=a?200:1e6,p=a?40:1e7,m={type:"inertia",velocity:r?t[d]:0,bounceStiffness:h,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(d,m)});return Promise.all(u).then(s)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return R3(this.visualElement,t),r.start(m5(t,r,0,n,this.visualElement,!1))}stopAnimation(){sl(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){sl(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),a=r[n];return a||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){sl(n=>{const{drag:r}=this.getProps();if(!x_(n,r,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(n);if(a&&a.layout){const{min:o,max:s}=a.layout.layoutBox[n];i.set(t[n]-wa(o,s,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Wg(n)||!r||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};sl(o=>{const s=this.getAxisMotionValue(o);if(s&&this.constraints!==!1){const l=s.get();a[o]=C4e({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),sl(o=>{if(!x_(o,t,null))return;const s=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];s.set(wa(l,u,a[o]))})}addListeners(){if(!this.visualElement.current)return;A4e.set(this.visualElement,this);const t=this.visualElement.current,n=t1(t,"pointerdown",l=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Wg(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,i=a.addEventListener("measure",r);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),oa.read(r);const o=xb(window,"resize",()=>this.scalePositionWithinConstraints()),s=a.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(sl(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=l[d].translate,f.set(f.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),s&&s()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:o=V3,dragMomentum:s=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:a,dragConstraints:i,dragElastic:o,dragMomentum:s}}}function x_(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function O4e(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class M4e extends Th{constructor(t){super(t),this.removeGroupControls=Rs,this.removeListeners=Rs,this.controls=new D4e(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Rs}unmount(){this.removeGroupControls(),this.removeListeners()}}const YU=e=>(t,n)=>{e&&oa.postRender(()=>e(t,n))};class I4e extends Th{constructor(){super(...arguments),this.removePointerDownListener=Rs}onPointerDown(t){this.session=new Eae(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Oae(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:a}=this.node.getProps();return{onSessionStart:YU(t),onStart:YU(n),onMove:r,onEnd:(i,o)=>{delete this.session,a&&oa.postRender(()=>a(i,o))}}}mount(){this.removePointerDownListener=t1(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const JS={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function KU(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const qy={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(yn.test(e))e=parseFloat(e);else return e;const n=KU(e,t.target.x),r=KU(e,t.target.y);return`${n}% ${r}%`}},R4e={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,a=dh.parse(e);if(a.length>5)return r;const i=dh.createTransformer(e),o=typeof a[0]!="number"?1:0,s=n.x.scale*t.x,l=n.y.scale*t.y;a[0+o]/=s,a[1+o]/=l;const u=wa(s,l,.5);return typeof a[2+o]=="number"&&(a[2+o]/=u),typeof a[3+o]=="number"&&(a[3+o]/=u),i(a)}};class F4e extends E.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:a}=this.props,{projection:i}=t;rPe(L4e),i&&(n.group&&n.group.add(i),r&&r.register&&a&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),JS.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:a,isPresent:i}=this.props,o=r.projection;return o&&(o.isPresent=i,a||t.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||oa.postRender(()=>{const s=o.getStack();(!s||!s.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),VL.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:a}=t;a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),r&&r.deregister&&r.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Mae(e){const[t,n]=gre(),r=E.useContext(RL);return c.jsx(F4e,{...e,layoutGroup:r,switchLayoutGroup:E.useContext(Cre),isPresent:t,safeToRemove:n})}const L4e={borderRadius:{...qy,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:qy,borderTopRightRadius:qy,borderBottomLeftRadius:qy,borderBottomRightRadius:qy,boxShadow:R4e};function $4e(e,t,n){const r=xo(e)?e:vb(e);return r.start(m5("",r,t,n)),r.animation}function B4e(e){return e instanceof SVGElement&&e.tagName!=="svg"}const z4e=(e,t)=>e.depth-t.depth;class U4e{constructor(){this.children=[],this.isDirty=!1}add(t){a5(this.children,t),this.isDirty=!0}remove(t){i5(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(z4e),this.isDirty=!1,this.children.forEach(t)}}function W4e(e,t){const n=mu.now(),r=({timestamp:a})=>{const i=a-n;i>=t&&(uh(r),e(i-t))};return oa.read(r,!0),()=>uh(r)}const Iae=["TopLeft","TopRight","BottomLeft","BottomRight"],V4e=Iae.length,XU=e=>typeof e=="string"?parseFloat(e):e,ZU=e=>typeof e=="number"||yn.test(e);function H4e(e,t,n,r,a,i){a?(e.opacity=wa(0,n.opacity!==void 0?n.opacity:1,q4e(r)),e.opacityExit=wa(t.opacity!==void 0?t.opacity:1,0,G4e(r))):i&&(e.opacity=wa(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<V4e;o++){const s=`border${Iae[o]}Radius`;let l=QU(t,s),u=QU(n,s);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||ZU(l)===ZU(u)?(e[s]=Math.max(wa(XU(l),XU(u),r),0),(pu.test(u)||pu.test(l))&&(e[s]+="%")):e[s]=u}(t.rotate||n.rotate)&&(e.rotate=wa(t.rotate||0,n.rotate||0,r))}function QU(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const q4e=Rae(0,.5,eae),G4e=Rae(.5,.95,Rs);function Rae(e,t,n){return r=>r<e?0:r>t?1:n(e0(e,t,r))}function JU(e,t){e.min=t.min,e.max=t.max}function Qs(e,t){JU(e.x,t.x),JU(e.y,t.y)}function eW(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function tW(e,t,n,r,a){return e-=t,e=dE(e,1/n,r),a!==void 0&&(e=dE(e,1/a,r)),e}function Y4e(e,t=0,n=1,r=.5,a,i=e,o=e){if(pu.test(t)&&(t=parseFloat(t),t=wa(o.min,o.max,t/100)-o.min),typeof t!="number")return;let s=wa(i.min,i.max,r);e===i&&(s-=t),e.min=tW(e.min,t,n,s,a),e.max=tW(e.max,t,n,s,a)}function nW(e,t,[n,r,a],i,o){Y4e(e,t[n],t[r],t[a],t.scale,i,o)}const K4e=["x","scaleX","originX"],X4e=["y","scaleY","originY"];function rW(e,t,n,r){nW(e.x,t,K4e,n?n.x:void 0,r?r.x:void 0),nW(e.y,t,X4e,n?n.y:void 0,r?r.y:void 0)}function aW(e){return e.translate===0&&e.scale===1}function Fae(e){return aW(e.x)&&aW(e.y)}function iW(e,t){return e.min===t.min&&e.max===t.max}function Z4e(e,t){return iW(e.x,t.x)&&iW(e.y,t.y)}function oW(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function Lae(e,t){return oW(e.x,t.x)&&oW(e.y,t.y)}function sW(e){return zs(e.x)/zs(e.y)}function lW(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Q4e{constructor(){this.members=[]}add(t){a5(this.members,t),t.scheduleRender()}remove(t){if(i5(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(a=>t===a);if(n===0)return!1;let r;for(let a=n;a>=0;a--){const i=this.members[a];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function J4e(e,t,n){let r="";const a=e.x.translate/t.x,i=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((a||i||o)&&(r=`translate3d(${a}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:f,rotateY:h,skewX:p,skewY:m}=n;u&&(r=`perspective(${u}px) ${r}`),d&&(r+=`rotate(${d}deg) `),f&&(r+=`rotateX(${f}deg) `),h&&(r+=`rotateY(${h}deg) `),p&&(r+=`skewX(${p}deg) `),m&&(r+=`skewY(${m}deg) `)}const s=e.x.scale*t.x,l=e.y.scale*t.y;return(s!==1||l!==1)&&(r+=`scale(${s}, ${l})`),r||"none"}const op={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},kx=typeof window<"u"&&window.MotionDebug!==void 0,t4=["","X","Y","Z"],eDe={visibility:"hidden"},cW=1e3;let tDe=0;function n4(e,t,n,r){const{latestValues:a}=t;a[e]&&(n[e]=a[e],t.setStaticValue(e,0),r&&(r[e]=0))}function $ae(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=Gre(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",oa,!(a||i))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&$ae(r)}function Bae({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:a}){return class{constructor(o={},s=t==null?void 0:t()){this.id=tDe++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,kx&&(op.totalNodes=op.resolvedTargetDeltas=op.recalculatedProjection=0),this.nodes.forEach(aDe),this.nodes.forEach(cDe),this.nodes.forEach(uDe),this.nodes.forEach(iDe),kx&&window.MotionDebug.record(op)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=s?s.root||s:this,this.path=s?[...s.path,s]:[],this.parent=s,this.depth=s?s.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new U4e)}addEventListener(o,s){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new o5),this.eventHandlers.get(o).add(s)}notifyListeners(o,...s){const l=this.eventHandlers.get(o);l&&l.notify(...s)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,s=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=B4e(o),this.instance=o;const{layoutId:l,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),s&&(u||l)&&(this.isLayoutDirty=!0),e){let f;const h=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=W4e(h,250),JS.hasAnimatedSinceResize&&(JS.hasAnimatedSinceResize=!1,this.nodes.forEach(dW))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeTargetChanged:p,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||d.getDefaultTransition()||mDe,{onLayoutAnimationStart:y,onLayoutAnimationComplete:x}=d.getProps(),b=!this.targetLayout||!Lae(this.targetLayout,m)||p,w=!h&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||h&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,w);const _={...e5(g,"layout"),onPlay:y,onComplete:x};(d.shouldReduceMotion||this.options.layoutRoot)&&(_.delay=0,_.type=!1),this.startAnimation(_)}else h||dW(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,uh(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(dDe),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&$ae(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:s,layout:l}=this.options;if(s===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(uW);return}this.isUpdating||this.nodes.forEach(sDe),this.isUpdating=!1,this.nodes.forEach(lDe),this.nodes.forEach(nDe),this.nodes.forEach(rDe),this.clearAllSnapshots();const s=mu.now();Ui.delta=Ad(0,1e3/60,s-Ui.timestamp),Ui.timestamp=s,Ui.isProcessing=!0,qA.update.process(Ui),qA.preRender.process(Ui),qA.render.process(Ui),Ui.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,VL.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(oDe),this.sharedNodes.forEach(fDe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,oa.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){oa.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=za(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:s}=this.options;s&&s.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let s=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(s=!1),s){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!a)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,s=this.projectionDelta&&!Fae(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&(s||ip(this.latestValues)||d)&&(a(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const s=this.measurePageBox();let l=this.removeElementScroll(s);return o&&(l=this.removeTransform(l)),gDe(l),{animationId:this.root.animationId,measuredBox:s,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:s}=this.options;if(!s)return za();const l=s.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(vDe))){const{scroll:d}=this.root;d&&(qg(l.x,d.offset.x),qg(l.y,d.offset.y))}return l}removeElementScroll(o){var s;const l=za();if(Qs(l,o),!((s=this.scroll)===null||s===void 0)&&s.wasRoot)return l;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:f,options:h}=d;d!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&Qs(l,o),qg(l.x,f.offset.x),qg(l.y,f.offset.y))}return l}applyTransform(o,s=!1){const l=za();Qs(l,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!s&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Gg(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),ip(d.latestValues)&&Gg(l,d.latestValues)}return ip(this.latestValues)&&Gg(l,this.latestValues),l}removeTransform(o){const s=za();Qs(s,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!ip(u.latestValues))continue;H3(u.latestValues)&&u.updateSnapshot();const d=za(),f=u.measurePageBox();Qs(d,f),rW(s,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return ip(this.latestValues)&&rW(s,this.latestValues),s}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ui.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var s;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:h}=this.options;if(!(!this.layout||!(f||h))){if(this.resolvedRelativeTargetAt=Ui.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=za(),this.relativeTargetOrigin=za(),r1(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),Qs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=za(),this.targetWithTransforms=za()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),b4e(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Qs(this.target,this.layout.layoutBox),Aae(this.target,this.targetDelta)):Qs(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=za(),this.relativeTargetOrigin=za(),r1(this.relativeTargetOrigin,this.target,p.target),Qs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}kx&&op.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||H3(this.parent.latestValues)||Pae(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const s=this.getLead(),l=!!this.resumingFrom||this!==s;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Ui.timestamp&&(u=!1),u)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;Qs(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,p=this.treeScale.y;T4e(this.layoutCorrected,this.treeScale,this.path,l),s.layout&&!s.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(s.target=s.layout.layoutBox,s.targetWithTransforms=za());const{target:m}=s;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(eW(this.prevProjectionDelta.x,this.projectionDelta.x),eW(this.prevProjectionDelta.y,this.projectionDelta.y)),n1(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==p||!lW(this.projectionDelta.x,this.prevProjectionDelta.x)||!lW(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m)),kx&&op.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var s;if((s=this.options.visualElement)===null||s===void 0||s.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Hg(),this.projectionDelta=Hg(),this.projectionDeltaWithTransform=Hg()}setAnimationOrigin(o,s=!1){const l=this.snapshot,u=l?l.latestValues:{},d={...this.latestValues},f=Hg();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!s;const h=za(),p=l?l.source:void 0,m=this.layout?this.layout.source:void 0,g=p!==m,y=this.getStack(),x=!y||y.members.length<=1,b=!!(g&&!x&&this.options.crossfade===!0&&!this.path.some(pDe));this.animationProgress=0;let w;this.mixTargetDelta=_=>{const S=_/1e3;fW(f.x,o.x,S),fW(f.y,o.y,S),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(r1(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),hDe(this.relativeTarget,this.relativeTargetOrigin,h,S),w&&Z4e(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=za()),Qs(w,this.relativeTarget)),g&&(this.animationValues=d,H4e(d,u,this.latestValues,S,b,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(uh(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=oa.update(()=>{JS.hasAnimatedSinceResize=!0,this.currentAnimation=$4e(0,cW,{...o,onUpdate:s=>{this.mixTargetDelta(s),o.onUpdate&&o.onUpdate(s)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(cW),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:s,target:l,layout:u,latestValues:d}=o;if(!(!s||!l||!u)){if(this!==o&&this.layout&&u&&zae(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||za();const f=zs(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+f;const h=zs(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+h}Qs(s,l),Gg(s,d),n1(this.projectionDeltaWithTransform,this.layoutCorrected,s,d)}}registerSharedNode(o,s){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Q4e),this.sharedNodes.get(o).add(s);const u=s.options.initialPromotionConfig;s.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(s):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:s}=this.options;return s?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:s}=this.options;return s?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:s,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),s&&this.setOptions({transition:s})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let s=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(s=!0),!s)return;const u={};l.z&&n4("z",o,u,this.animationValues);for(let d=0;d<t4.length;d++)n4(`rotate${t4[d]}`,o,u,this.animationValues),n4(`skew${t4[d]}`,o,u,this.animationValues);o.render();for(const d in u)o.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);o.scheduleRender()}getProjectionStyles(o){var s,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return eDe;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=ZS(o==null?void 0:o.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=ZS(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!ip(this.latestValues)&&(g.transform=d?d({},""):"none",this.hasProjected=!1),g}const h=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=J4e(this.projectionDeltaWithTransform,this.treeScale,h),d&&(u.transform=d(h,u.transform));const{x:p,y:m}=this.projectionDelta;u.transformOrigin=`${p.origin*100}% ${m.origin*100}% 0`,f.animationValues?u.opacity=f===this?(l=(s=h.opacity)!==null&&s!==void 0?s:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:u.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const g in oE){if(h[g]===void 0)continue;const{correct:y,applyTo:x}=oE[g],b=u.transform==="none"?h[g]:y(h[g],f);if(x){const w=x.length;for(let _=0;_<w;_++)u[x[_]]=b}else u[g]=b}return this.options.layoutId&&(u.pointerEvents=f===this?ZS(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var s;return(s=o.currentAnimation)===null||s===void 0?void 0:s.stop()}),this.root.nodes.forEach(uW),this.root.sharedNodes.clear()}}}function nDe(e){e.updateLayout()}function rDe(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:a}=e.layout,{animationType:i}=e.options,o=n.source!==e.layout.source;i==="size"?sl(f=>{const h=o?n.measuredBox[f]:n.layoutBox[f],p=zs(h);h.min=r[f].min,h.max=h.min+p}):zae(i,n.layoutBox,r)&&sl(f=>{const h=o?n.measuredBox[f]:n.layoutBox[f],p=zs(r[f]);h.max=h.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+p)});const s=Hg();n1(s,r,n.layoutBox);const l=Hg();o?n1(l,e.applyTransform(a,!0),n.measuredBox):n1(l,r,n.layoutBox);const u=!Fae(s);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:p}=f;if(h&&p){const m=za();r1(m,n.layoutBox,h.layoutBox);const g=za();r1(g,r,p.layoutBox),Lae(m,g)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=g,e.relativeTargetOrigin=m,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:s,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function aDe(e){kx&&op.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function iDe(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function oDe(e){e.clearSnapshot()}function uW(e){e.clearMeasurements()}function sDe(e){e.isLayoutDirty=!1}function lDe(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function dW(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function cDe(e){e.resolveTargetDelta()}function uDe(e){e.calcProjection()}function dDe(e){e.resetSkewAndRotation()}function fDe(e){e.removeLeadSnapshot()}function fW(e,t,n){e.translate=wa(t.translate,0,n),e.scale=wa(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function hW(e,t,n,r){e.min=wa(t.min,n.min,r),e.max=wa(t.max,n.max,r)}function hDe(e,t,n,r){hW(e.x,t.x,n.x,r),hW(e.y,t.y,n.y,r)}function pDe(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const mDe={duration:.45,ease:[.4,0,.1,1]},pW=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),mW=pW("applewebkit/")&&!pW("chrome/")?Math.round:Rs;function gW(e){e.min=mW(e.min),e.max=mW(e.max)}function gDe(e){gW(e.x),gW(e.y)}function zae(e,t,n){return e==="position"||e==="preserve-aspect"&&!x4e(sW(t),sW(n),.2)}function vDe(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const yDe=Bae({attachResizeListener:(e,t)=>xb(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),r4={current:void 0},Uae=Bae({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!r4.current){const e=new yDe({});e.mount(window),e.setOptions({layoutScroll:!0}),r4.current=e}return r4.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),xDe={pan:{Feature:I4e},drag:{Feature:M4e,ProjectionNode:Uae,MeasureLayout:Mae}};function vW(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,i=r[a];i&&oa.postRender(()=>i(t,Xw(t)))}class bDe extends Th{mount(){const{current:t}=this.node;t&&(this.unmount=xPe(t,n=>(vW(this.node,n,"Start"),r=>vW(this.node,r,"End"))))}unmount(){}}class wDe extends Th{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Kw(xb(this.node.current,"focus",()=>this.onFocus()),xb(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function yW(e,t,n){const{props:r}=e;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),i=r[a];i&&oa.postRender(()=>i(t,Xw(t)))}class _De extends Th{mount(){const{current:t}=this.node;t&&(this.unmount=SPe(t,n=>(yW(this.node,n,"Start"),(r,{success:a})=>yW(this.node,r,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const G3=new WeakMap,a4=new WeakMap,SDe=e=>{const t=G3.get(e.target);t&&t(e)},CDe=e=>{e.forEach(SDe)};function EDe({root:e,...t}){const n=e||document;a4.has(n)||a4.set(n,{});const r=a4.get(n),a=JSON.stringify(t);return r[a]||(r[a]=new IntersectionObserver(CDe,{root:e,...t})),r[a]}function NDe(e,t,n){const r=EDe(t);return G3.set(e,n),r.observe(e),()=>{G3.delete(e),r.unobserve(e)}}const kDe={some:0,all:1};class jDe extends Th{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:a="some",once:i}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof a=="number"?a:kDe[a]},s=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=u?d:f;h&&h(l)};return NDe(this.node.current,o,s)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(TDe(t,n))&&this.startObserver()}unmount(){}}function TDe({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const PDe={inView:{Feature:jDe},tap:{Feature:_De},focus:{Feature:wDe},hover:{Feature:bDe}},ADe={layout:{ProjectionNode:Uae,MeasureLayout:Mae}},Y3={current:null},Wae={current:!1};function DDe(){if(Wae.current=!0,!!$L)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Y3.current=e.matches;e.addListener(t),t()}else Y3.current=!1}const ODe=[...pae,lo,dh],MDe=e=>ODe.find(hae(e)),xW=new WeakMap;function IDe(e,t,n){for(const r in t){const a=t[r],i=n[r];if(xo(a))e.addValue(r,a);else if(xo(i))e.addValue(r,vb(a,{owner:e}));else if(i!==a)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(a):o.hasAnimated||o.set(a)}else{const o=e.getStaticValue(r);e.addValue(r,vb(o!==void 0?o:a,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const bW=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class RDe{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:a,blockInitialAnimation:i,visualState:o},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=f5,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=mu.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,oa.render(this.render,!1,!0))};const{latestValues:l,renderState:u,onUpdate:d}=o;this.onUpdate=d,this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=s,this.blockInitialAnimation=!!i,this.isControllingVariants=Bj(n),this.isVariantNode=_re(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:f,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in h){const m=h[p];l[p]!==void 0&&xo(m)&&m.set(l[p],!1)}}mount(t){this.current=t,xW.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),Wae.current||DDe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Y3.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){xW.delete(this.current),this.projection&&this.projection.unmount(),uh(this.notifyUpdate),uh(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=Dm.has(t),a=n.on("change",s=>{this.latestValues[t]=s,this.props.onUpdate&&oa.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{a(),i(),o&&o(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in t0){const n=t0[t];if(!n)continue;const{isEnabled:r,Feature:a}=n;if(!this.features[t]&&a&&r(this.props)&&(this.features[t]=new a(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):za()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<bW.length;r++){const a=bW[r];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const i="on"+a,o=t[i];o&&(this.propEventSubscriptions[a]=this.on(a,o))}this.prevMotionValues=IDe(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=vb(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){var r;let a=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options);return a!=null&&(typeof a=="string"&&(dae(a)||nae(a))?a=parseFloat(a):!MDe(a)&&dh.test(n)&&(a=lae(t,n)),this.setBaseTarget(t,xo(a)?a.get():a)),xo(a)?a.get():a}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props;let a;if(typeof r=="string"||typeof r=="object"){const o=qL(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(a=o[t])}if(r&&a!==void 0)return a;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!xo(i)?i:this.initialValues[t]!==void 0&&a===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new o5),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class Vae extends RDe{constructor(){super(...arguments),this.KeyframeResolver=mae}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;xo(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function FDe(e){return window.getComputedStyle(e)}class LDe extends Vae{constructor(){super(...arguments),this.type="html",this.renderInstance=Are}readValueFromInstance(t,n){if(Dm.has(n)){const r=d5(n);return r&&r.default||0}else{const r=FDe(t),a=(jre(n)?r.getPropertyValue(n):r[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:n}){return Dae(t,n)}build(t,n,r){KL(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return JL(t,n,r)}}class $De extends Vae{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=za}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Dm.has(n)){const r=d5(n);return r&&r.default||0}return n=Dre.has(n)?n:WL(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return Ire(t,n,r)}build(t,n,r){XL(t,n,this.isSVGTag,r.transformTemplate)}renderInstance(t,n,r,a){Ore(t,n,r,a)}mount(t){this.isSVGTag=QL(t.tagName),super.mount(t)}}const BDe=(e,t)=>HL(e)?new $De(t):new LDe(t,{allowProjection:e!==E.Fragment}),zDe=fPe({...u4e,...PDe,...xDe,...ADe},BDe),gd=kTe(zDe);var Hae={exports:{}};(function(e,t){(function(r,a){e.exports=a(E)})(Pg,function(n){return function(r){var a={};function i(o){if(a[o])return a[o].exports;var s=a[o]={i:o,l:!1,exports:{}};return r[o].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=r,i.c=a,i.d=function(o,s,l){i.o(o,s)||Object.defineProperty(o,s,{enumerable:!0,get:l})},i.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},i.t=function(o,s){if(s&1&&(o=i(o)),s&8||s&4&&typeof o=="object"&&o&&o.__esModule)return o;var l=Object.create(null);if(i.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:o}),s&2&&typeof o!="string")for(var u in o)i.d(l,u,(function(d){return o[d]}).bind(null,u));return l},i.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(s,"a",s),s},i.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},i.p="",i(i.s="./src/react-webcam.tsx")}({"./src/react-webcam.tsx":function(r,a,i){i.r(a);var o=i("react"),s=function(){var h=function(p,m){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,y){g.__proto__=y}||function(g,y){for(var x in y)y.hasOwnProperty(x)&&(g[x]=y[x])},h(p,m)};return function(p,m){h(p,m);function g(){this.constructor=p}p.prototype=m===null?Object.create(m):(g.prototype=m.prototype,new g)}}(),l=function(){return l=Object.assign||function(h){for(var p,m=1,g=arguments.length;m<g;m++){p=arguments[m];for(var y in p)Object.prototype.hasOwnProperty.call(p,y)&&(h[y]=p[y])}return h},l.apply(this,arguments)},u=function(h,p){var m={};for(var g in h)Object.prototype.hasOwnProperty.call(h,g)&&p.indexOf(g)<0&&(m[g]=h[g]);if(h!=null&&typeof Object.getOwnPropertySymbols=="function")for(var y=0,g=Object.getOwnPropertySymbols(h);y<g.length;y++)p.indexOf(g[y])<0&&Object.prototype.propertyIsEnumerable.call(h,g[y])&&(m[g[y]]=h[g[y]]);return m};(function(){typeof window>"u"||(navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(p){var m=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return m?new Promise(function(g,y){m.call(navigator,p,g,y)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}))})();function d(){return!!(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)}var f=function(h){s(p,h);function p(m){var g=h.call(this,m)||this;return g.canvas=null,g.ctx=null,g.requestUserMediaId=0,g.unmounted=!1,g.state={hasUserMedia:!1},g}return p.prototype.componentDidMount=function(){var m=this,g=m.state,y=m.props;if(this.unmounted=!1,!d()){y.onUserMediaError("getUserMedia not supported");return}g.hasUserMedia||this.requestUserMedia(),y.children&&typeof y.children!="function"&&console.warn("children must be a function")},p.prototype.componentDidUpdate=function(m){var g=this.props;if(!d()){g.onUserMediaError("getUserMedia not supported");return}var y=JSON.stringify(m.audioConstraints)!==JSON.stringify(g.audioConstraints),x=JSON.stringify(m.videoConstraints)!==JSON.stringify(g.videoConstraints),b=m.minScreenshotWidth!==g.minScreenshotWidth,w=m.minScreenshotHeight!==g.minScreenshotHeight;(x||b||w)&&(this.canvas=null,this.ctx=null),(y||x)&&(this.stopAndCleanup(),this.requestUserMedia())},p.prototype.componentWillUnmount=function(){this.unmounted=!0,this.stopAndCleanup()},p.stopMediaStream=function(m){m&&(m.getVideoTracks&&m.getAudioTracks?(m.getVideoTracks().map(function(g){m.removeTrack(g),g.stop()}),m.getAudioTracks().map(function(g){m.removeTrack(g),g.stop()})):m.stop())},p.prototype.stopAndCleanup=function(){var m=this.state;m.hasUserMedia&&(p.stopMediaStream(this.stream),m.src&&window.URL.revokeObjectURL(m.src))},p.prototype.getScreenshot=function(m){var g=this,y=g.state,x=g.props;if(!y.hasUserMedia)return null;var b=this.getCanvas(m);return b&&b.toDataURL(x.screenshotFormat,x.screenshotQuality)},p.prototype.getCanvas=function(m){var g=this,y=g.state,x=g.props;if(!this.video||!y.hasUserMedia||!this.video.videoHeight)return null;if(!this.ctx){var b=this.video.videoWidth,w=this.video.videoHeight;if(!this.props.forceScreenshotSourceSize){var _=b/w;b=x.minScreenshotWidth||this.video.clientWidth,w=b/_,x.minScreenshotHeight&&w<x.minScreenshotHeight&&(w=x.minScreenshotHeight,b=w*_)}this.canvas=document.createElement("canvas"),this.canvas.width=(m==null?void 0:m.width)||b,this.canvas.height=(m==null?void 0:m.height)||w,this.ctx=this.canvas.getContext("2d")}var S=this,k=S.ctx,N=S.canvas;return k&&N&&(N.width=(m==null?void 0:m.width)||N.width,N.height=(m==null?void 0:m.height)||N.height,x.mirrored&&(k.translate(N.width,0),k.scale(-1,1)),k.imageSmoothingEnabled=x.imageSmoothing,k.drawImage(this.video,0,0,(m==null?void 0:m.width)||N.width,(m==null?void 0:m.height)||N.height),x.mirrored&&(k.scale(-1,1),k.translate(-N.width,0))),N},p.prototype.requestUserMedia=function(){var m=this,g=this.props,y=function(w,_){var S={video:typeof _<"u"?_:!0};g.audio&&(S.audio=typeof w<"u"?w:!0),m.requestUserMediaId++;var k=m.requestUserMediaId;navigator.mediaDevices.getUserMedia(S).then(function(N){m.unmounted||k!==m.requestUserMediaId?p.stopMediaStream(N):m.handleUserMedia(null,N)}).catch(function(N){m.handleUserMedia(N)})};if("mediaDevices"in navigator)y(g.audioConstraints,g.videoConstraints);else{var x=function(w){return{optional:[{sourceId:w}]}},b=function(w){var _=w.deviceId;return typeof _=="string"?_:Array.isArray(_)&&_.length>0?_[0]:typeof _=="object"&&_.ideal?_.ideal:null};MediaStreamTrack.getSources(function(w){var _=null,S=null;w.forEach(function(P){P.kind==="audio"?_=P.id:P.kind==="video"&&(S=P.id)});var k=b(g.audioConstraints);k&&(_=k);var N=b(g.videoConstraints);N&&(S=N),y(x(_),x(S))})}},p.prototype.handleUserMedia=function(m,g){var y=this.props;if(m||!g){this.setState({hasUserMedia:!1}),y.onUserMediaError(m);return}this.stream=g;try{this.video&&(this.video.srcObject=g),this.setState({hasUserMedia:!0})}catch{this.setState({hasUserMedia:!0,src:window.URL.createObjectURL(g)})}y.onUserMedia(g)},p.prototype.render=function(){var m=this,g=this,y=g.state,x=g.props,b=x.audio;x.forceScreenshotSourceSize;var w=x.disablePictureInPicture;x.onUserMedia,x.onUserMediaError,x.screenshotFormat,x.screenshotQuality,x.minScreenshotWidth,x.minScreenshotHeight,x.audioConstraints,x.videoConstraints,x.imageSmoothing;var _=x.mirrored,S=x.style,k=S===void 0?{}:S,N=x.children,P=u(x,["audio","forceScreenshotSourceSize","disablePictureInPicture","onUserMedia","onUserMediaError","screenshotFormat","screenshotQuality","minScreenshotWidth","minScreenshotHeight","audioConstraints","videoConstraints","imageSmoothing","mirrored","style","children"]),T=_?l(l({},k),{transform:(k.transform||"")+" scaleX(-1)"}):k,j={getScreenshot:this.getScreenshot.bind(this)};return o.createElement(o.Fragment,null,o.createElement("video",l({autoPlay:!0,disablePictureInPicture:w,src:y.src,muted:!b,playsInline:!0,ref:function(D){m.video=D},style:T},P)),N&&N(j))},p.defaultProps={audio:!1,disablePictureInPicture:!1,forceScreenshotSourceSize:!1,imageSmoothing:!0,mirrored:!1,onUserMedia:function(){},onUserMediaError:function(){},screenshotFormat:"image/webp",screenshotQuality:.92},p}(o.Component);a.default=f},react:function(r,a){r.exports=n}}).default})})(Hae);var UDe=Hae.exports;const qae=sr(UDe);/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var Gae=function(e,t){return(Gae=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var a in r)r.hasOwnProperty(a)&&(n[a]=r[a])})(e,t)};function Cc(e,t){function n(){this.constructor=e}Gae(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function an(e,t,n,r){return new(n||(n=Promise))(function(a,i){function o(u){try{l(r.next(u))}catch(d){i(d)}}function s(u){try{l(r.throw(u))}catch(d){i(d)}}function l(u){u.done?a(u.value):new n(function(d){d(u.value)}).then(o,s)}l((r=r.apply(e,[])).next())})}function on(e,t){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function s(l){return function(u){return function(d){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&d[0]?r.return:d[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,d[1])).done)return a;switch(r=0,a&&(d=[2&d[0],a.value]),d[0]){case 0:case 1:a=d;break;case 4:return o.label++,{value:d[1],done:!1};case 5:o.label++,r=d[1],d=[0];continue;case 7:d=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(d[0]===6||d[0]===2)){o=0;continue}if(d[0]===3&&(!a||d[1]>a[0]&&d[1]<a[3])){o.label=d[1];break}if(d[0]===6&&o.label<a[1]){o.label=a[1],a=d;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(d);break}a[2]&&o.ops.pop(),o.trys.pop();continue}d=t.call(e,o)}catch(f){d=[6,f],r=0}finally{n=a=0}if(5&d[0])throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}([l,u])}}}var WDe=function(){function e(t){this.global=t,this.flags={},this.flagRegistry={},this.urlFlags={},this.populateURLFlags()}return e.prototype.setPlatform=function(t,n){this.platform!=null&&console.warn("Platform "+this.platformName+" has already been set. Overwriting the platform with "+n+"."),this.platformName=t,this.platform=n},e.prototype.registerFlag=function(t,n,r){if(this.flagRegistry[t]={evaluationFn:n,setHook:r},this.urlFlags[t]!=null){var a=this.urlFlags[t];console.warn("Setting feature override from URL "+t+": "+a+"."),this.set(t,a)}},e.prototype.get=function(t){return t in this.flags?this.flags[t]:(this.flags[t]=this.evaluateFlag(t),this.flags[t])},e.prototype.getNumber=function(t){return this.get(t)},e.prototype.getBool=function(t){return this.get(t)},e.prototype.getFlags=function(){return this.flags},Object.defineProperty(e.prototype,"features",{get:function(){return this.flags},enumerable:!0,configurable:!0}),e.prototype.set=function(t,n){if(this.flagRegistry[t]==null)throw new Error("Cannot set flag "+t+" as it has not been registered.");this.flags[t]=n,this.flagRegistry[t].setHook!=null&&this.flagRegistry[t].setHook(n)},e.prototype.evaluateFlag=function(t){if(this.flagRegistry[t]==null)throw new Error("Cannot evaluate flag '"+t+"': no evaluation function found.");return this.flagRegistry[t].evaluationFn()},e.prototype.setFlags=function(t){this.flags=Object.assign({},t)},e.prototype.reset=function(){this.flags={},this.urlFlags={},this.populateURLFlags()},e.prototype.populateURLFlags=function(){var t=this;if(this.global!==void 0&&this.global.location!==void 0&&this.global.location.search!==void 0){var n,r,a=(n=this.global.location.search,r={},n.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,function(i){for(var o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];return VDe(r,o[0],o[1]),o.join("=")}),r);"tfjsflags"in a&&a.tfjsflags.split(",").forEach(function(i){var o=i.split(":"),s=o[0],l=o[1];t.urlFlags[s]=function(u,d){if((d=d.toLowerCase())==="true"||d==="false")return d==="true";if(""+ +d===d)return+d;throw new Error("Could not parse value flag value "+d+" for flag "+u+".")}(s,l)})}},e}();function VDe(e,t,n){e[decodeURIComponent(t)]=decodeURIComponent(n||"")}function lt(){return Yae}var Yae=null,fE=new Map,K3=new Map;function Kae(e,t){var n=Zae(e,t);return fE.get(n)}function HDe(e){return K3.get(e)}function wW(e){for(var t=fE.entries(),n=[];;){var r=t.next(),a=r.done,i=r.value;if(a)break;var o=i[0],s=i[1];o.split("_")[0]===e&&n.push(s)}return n}function Xae(e){var t=e.kernelName,n=e.backendName,r=Zae(t,n);if(fE.has(r))throw new Error("The kernel '"+t+"' for backend '"+n+"' is already registered");fE.set(r,e)}function qDe(e){var t=e.kernelName;K3.has(t)&&console.warn("Overriding the gradient for '"+t+"'"),K3.set(t,e)}function Zae(e,t){return t+"_"+e}function X3(e,t,n){return Math.max(e,Math.min(t,n))}function Qae(e){return e%2==0?e:e+1}function GDe(e){for(var t=0,n=0;n<e.length;n++)t+=e[n];return t}function _e(e,t){if(!e)throw new Error(typeof t=="string"?t:t())}function wr(e,t,n){n===void 0&&(n=""),_e(Pi(e,t),function(){return n+" Shapes "+e+" and "+t+" must match"})}function J0(e){_e(e!=null,function(){return"The input to the tensor constructor must be a non-null value."})}function r0(e,t,n){if(t===void 0&&(t=[]),n===void 0&&(n=!1),t==null&&(t=[]),Array.isArray(e)||gu(e)&&!n)for(var r=0;r<e.length;++r)r0(e[r],t,n);else t.push(e);return t}function un(e){if(e.length===0)return 1;for(var t=e[0],n=1;n<e.length;n++)t*=e[n];return t}function Pi(e,t){if(e===t)return!0;if(e==null||t==null||e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function qa(e){return e%1==0}function YDe(e){if(Math.tanh!=null)return Math.tanh(e);if(e===1/0)return 1;if(e===-1/0)return-1;var t=Math.exp(2*e);return(t-1)/(t+1)}function Z3(e){var t=Math.ceil(Math.sqrt(e));return[t,Math.ceil(e/t)]}function pv(e,t){return t<=e.length?e:e+" ".repeat(t-e.length)}function _W(e,t,n){return t===void 0&&(t=function(r){return 0}),new Promise(function(r,a){var i=0,o=function(){if(e())r();else{i++;var s=t(i);n!=null&&i>=n?a():setTimeout(o,s)}};o()})}function KDe(e,t){for(var n=1,r=-1,a=0;a<e.length;++a)if(e[a]>=0)n*=e[a];else if(e[a]===-1){if(r!==-1)throw Error("Shapes can only have 1 implicit size. Found -1 at dim "+r+" and dim "+a);r=a}else if(e[a]<0)throw Error("Shapes can not be < 0. Found "+e[a]+" at dim "+a);if(r===-1){if(t>0&&t!==n)throw Error("Size("+t+") must match the product of shape "+e);return e}if(n===0)throw Error("Cannot infer the missing size in ["+e+"] when there are 0 elements");if(t%n!=0)throw Error("The implicit shape can't be a fractional number. Got "+t+" / "+n);var i=e.slice();return i[r]=t/n,i}function vi(e,t){var n=t.length;return _e((e=e==null?t.map(function(r,a){return a}):[].concat(e)).every(function(r){return r>=-n&&r<n}),function(){return"All values in axis param must be in range [-"+n+", "+n+") but got axis "+e}),_e(e.every(function(r){return qa(r)}),function(){return"All values in axis param must be integers but got axis "+e}),e.map(function(r){return r<0?n+r:r})}function yp(e,t){for(var n=[],r=[],a=t!=null&&Array.isArray(t)&&t.length===0,i=t==null||a?null:vi(t,e).sort(),o=0,s=0;s<e.length;++s){if(i!=null){if(i[o]===s&&e[s]!==1)throw new Error("Can't squeeze axis "+s+" since its dim '"+e[s]+"' is not 1");(i[o]==null||i[o]>s)&&e[s]===1&&(n.push(e[s]),r.push(s)),i[o]<=s&&o++}e[s]!==1&&(n.push(e[s]),r.push(s))}return{newShape:n,keptDims:r}}function bb(e,t){var n=null;if(e==null||e==="float32")n=new Float32Array(t);else if(e==="int32")n=new Int32Array(t);else{if(e!=="bool")throw new Error("Unknown data type "+e);n=new Uint8Array(t)}return n}function hE(e,t){var n=null;if(e==null||e==="float32")n=new Float32Array(t);else if(e==="int32")n=new Int32Array(t);else if(e==="bool")n=new Uint8Array(t);else{if(e!=="string")throw new Error("Unknown data type "+e);n=new Array(t)}return n}function XDe(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(isNaN(r)||!isFinite(r))throw Error("A tensor of type "+t+" being uploaded contains "+r+".")}}function ZDe(e){return e==="bool"||e==="complex64"||e==="float32"||e==="int32"||e==="string"}function QDe(e,t){return t!=="complex64"&&(t!=="float32"||e==="complex64")&&(t!=="int32"||e==="float32"||e==="complex64")&&(t!=="bool"||e!=="bool")}function gu(e){return e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array}function Jae(e){if(e==="float32"||e==="int32")return 4;if(e==="complex64")return 8;if(e==="bool")return 1;throw new Error("Unknown dtype "+e)}function JDe(e){if(e==null)return 0;var t=0;return e.forEach(function(n){return t+=n.length}),t}function g5(e){return typeof e=="string"||e instanceof String}function eOe(e){return typeof e=="boolean"}function tOe(e){return typeof e=="number"}function Zw(e){return Array.isArray(e)?Zw(e[0]):e instanceof Float32Array?"float32":e instanceof Int32Array||e instanceof Uint8Array?"int32":tOe(e)?"float32":g5(e)?"string":eOe(e)?"bool":"float32"}function Q3(e){return!!(e&&e.constructor&&e.call&&e.apply)}function J3(e,t){for(var n=t;n<e;++n)if(e%n==0)return n;return e}function vu(e){var t=e.length;if(t<2)return[];var n=new Array(t-1);n[t-2]=e[t-1];for(var r=t-3;r>=0;--r)n[r]=n[r+1]*e[r+1];return n}function eie(e,t,n){if(t==="string")throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(e)&&(e=r0(e)),n&&XDe(e,t),function(i,o){return i instanceof Float32Array&&o==="float32"||i instanceof Int32Array&&o==="int32"||i instanceof Uint8Array&&o==="bool"}(e,t))return e;if(t==null||t==="float32"||t==="complex64")return new Float32Array(e);if(t==="int32")return new Int32Array(e);if(t==="bool"){for(var r=new Uint8Array(e.length),a=0;a<r.length;++a)Math.round(e[a])!==0&&(r[a]=1);return r}throw new Error("Unknown data type "+t)}function SW(e,t){if(e.length===0)return t[0];var n=e.reduce(function(r,a){return r*a});if(n===0)return[];if(n!==t.length)throw new Error("["+e+"] does not match the input size.");return function r(a,i,o){var s=new Array;if(i.length===1)for(var l=i[0],u=0;u<l;u++)s[u]=o[a+u];else{l=i[0];var d=i.slice(1),f=d.reduce(function(h,p){return h*p});for(u=0;u<l;u++)s[u]=r(a+u*f,d,o)}return s}(0,e,t)}function tie(e,t){for(var n=Qw(e,t),r=0;r<n.length;r++)n[r]=1;return n}function Qw(e,t){if(t==null||t==="float32"||t==="complex64")return new Float32Array(e);if(t==="int32")return new Int32Array(e);if(t==="bool")return new Uint8Array(e);throw new Error("Unknown data type "+t)}function Xc(){return lt().platform.now()}function nie(e){e.forEach(function(t){_e(Number.isInteger(t)&&t>=0,function(){return"Tensor must have a shape comprised of positive integers but got shape ["+e+"]."})})}function nOe(e,t){return t===void 0&&(t="utf-8"),t=t||"utf-8",lt().platform.encode(e,t)}function pE(e,t){return t===void 0&&(t="utf-8"),t=t||"utf-8",lt().platform.decode(e,t)}function CW(e,t,n){if(t===0)return 0;if(t===1)return e[0];for(var r=e[e.length-1],a=0;a<e.length-1;++a)r+=n[a]*e[a];return r}function rOe(e,t,n){if(t===0)return[];if(t===1)return[e];for(var r=new Array(t),a=0;a<r.length-1;++a)r[a]=Math.floor(e/n[a]),e-=r[a]*n[a];return r[r.length-1]=e,r}var aOe=function(){function e(t,n){this.backendTimer=t,this.logger=n,n==null&&(this.logger=new iOe)}return e.prototype.profileKernel=function(t,n,r){var a,i=this,o=this.backendTimer.time(function(){a=r()});return a.forEach(function(s){s.data().then(function(l){(function(u,d,f){if(d!=="float32")return!1;for(var h=0;h<u.length;h++){var p=u[h];if(isNaN(p)||!isFinite(p))return console.warn("Found "+p+" in the result of '"+f+"'"),!0}})(l,s.dtype,t),o.then(function(u){var d="";u.getExtraProfileInfo!=null&&(d=u.getExtraProfileInfo()),i.logger.logKernelProfile(t,s,l,u.kernelMs,n,d)})})}),a},e}(),iOe=function(){function e(){}return e.prototype.logKernelProfile=function(t,n,r,a,i,o){var s=typeof a=="number"?pv(a+"ms",9):a.error,l=pv(t,25),u=n.rank,d=n.size,f=pv(n.shape.toString(),14),h="";for(var p in i){var m=i[p].shape||n.shape,g=m.length;h+=p+": "+g+"D "+(g>0?m:"")+" "}console.log("%c"+l+"	%c"+s+"	%c"+u+"D "+f+"	%c"+d+"	%c"+h+"	%c"+o,"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")},e}(),EW=20,Gy=3,i4=7;function oOe(e,t,n,r){var a=vu(t),i=function(u,d,f,h){var p=un(d),m=h[h.length-1],g=new Array(m).fill(0),y=d.length,x=f==="complex64"?Ky(u):u;if(y>1)for(var b=0;b<p/m;b++)for(var w=b*m,_=0;_<m;_++)g[_]=Math.max(g[_],Yy(x[w+_],0,f).length);return g}(e,t,n,a),o=t.length,s=function u(d,f,h,p,m,g){g===void 0&&(g=!0);var y=h==="complex64"?2:1,x=f[0],b=f.length;if(b===0)return h==="complex64"?[Yy(Ky(d)[0],0,h)]:h==="bool"?[rie(d[0])]:[d[0].toString()];if(b===1){if(x>EW){var w=Gy*y,_=Array.from(d.slice(0,w)),S=Array.from(d.slice((x-Gy)*y,x*y));return h==="complex64"&&(_=Ky(_),S=Ky(S)),["["+_.map(function(B,V){return Yy(B,m[V],h)}).join(", ")+", ..., "+S.map(function(B,V){return Yy(B,m[x-Gy+V],h)}).join(", ")+"]"]}return["["+(h==="complex64"?Ky(d):Array.from(d)).map(function(B,V){return Yy(B,m[V],h)}).join(", ")+"]"]}var k=f.slice(1),N=p.slice(1),P=p[0]*y,T=[];if(x>EW){for(var j=0;j<Gy;j++){var D=(M=j*P)+P;T.push.apply(T,u(d.slice(M,D),k,h,N,m,!1))}for(T.push("..."),j=x-Gy;j<x;j++)D=(M=j*P)+P,T.push.apply(T,u(d.slice(M,D),k,h,N,m,j===x-1))}else for(j=0;j<x;j++){var M;D=(M=j*P)+P,T.push.apply(T,u(d.slice(M,D),k,h,N,m,j===x-1))}var R=b===2?",":"";for(T[0]="["+T[0]+R,j=1;j<T.length-1;j++)T[j]=" "+T[j]+R;var W=`,
`;for(j=2;j<b;j++)W+=`
`;return T[T.length-1]=" "+T[T.length-1]+"]"+(g?"":W),T}(e,t,n,a,i),l=["Tensor"];return r&&(l.push("  dtype: "+n),l.push("  rank: "+o),l.push("  shape: ["+t+"]"),l.push("  values:")),l.push(s.map(function(u){return"    "+u}).join(`
`)),l.join(`
`)}function Yy(e,t,n){return pv(Array.isArray(e)?parseFloat(e[0].toFixed(i4))+" + "+parseFloat(e[1].toFixed(i4))+"j":g5(e)?"'"+e+"'":n==="bool"?rie(e):parseFloat(e.toFixed(i4)).toString(),t)}function rie(e){return e===0?"false":"true"}function Ky(e){for(var t=[],n=0;n<e.length;n+=2)t.push([e[n],e[n+1]]);return t}var wb=function(){function e(t,n,r){var a=this;if(this.dtype=n,this.shape=t.slice(),this.size=un(t),r!=null){var i=r.length;_e(i===this.size,function(){return"Length of values '"+i+"' does not match the size inferred by the shape '"+a.size+"'."})}if(n==="complex64")throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=r||hE(n,this.size),this.strides=vu(t)}return e.prototype.set=function(t){for(var n=this,r=[],a=1;a<arguments.length;a++)r[a-1]=arguments[a];r.length===0&&(r=[0]),_e(r.length===this.rank,function(){return"The number of provided coordinates ("+r.length+") must match the rank ("+n.rank+")"});var i=this.locToIndex(r);this.values[i]=t},e.prototype.get=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];t.length===0&&(t=[0]);for(var r=0,a=0,i=t;a<i.length;a++){var o=i[a];if(o<0||o>=this.shape[r]){var s="Requested out of range element at "+t+".   Buffer shape="+this.shape;throw new Error(s)}r++}for(var l=t[t.length-1],u=0;u<t.length-1;++u)l+=this.strides[u]*t[u];return this.values[l]},e.prototype.locToIndex=function(t){if(this.rank===0)return 0;if(this.rank===1)return t[0];for(var n=t[t.length-1],r=0;r<t.length-1;++r)n+=this.strides[r]*t[r];return n},e.prototype.indexToLoc=function(t){if(this.rank===0)return[];if(this.rank===1)return[t];for(var n=new Array(this.shape.length),r=0;r<n.length-1;++r)n[r]=Math.floor(t/this.strides[r]),t-=n[r]*this.strides[r];return n[n.length-1]=t,n},Object.defineProperty(e.prototype,"rank",{get:function(){return this.shape.length},enumerable:!0,configurable:!0}),e.prototype.toTensor=function(){return eu().makeTensor(this.values,this.shape,this.dtype)},e}(),eu=null,nt=null,aie=null,ba=function(){function e(t,n,r,a){this.kept=!1,this.isDisposedInternal=!1,this.shape=t.slice(),this.dtype=n||"float32",this.size=un(t),this.strides=vu(t),this.dataId=r,this.id=a,this.rankType=this.rank<5?this.rank.toString():"higher"}return e.prototype.flatten=function(){return this.throwIfDisposed(),this.as1D()},e.prototype.asScalar=function(){return this.throwIfDisposed(),_e(this.size===1,function(){return"The array must have only 1 element."}),this.reshape([])},e.prototype.as1D=function(){return this.throwIfDisposed(),this.reshape([this.size])},e.prototype.as2D=function(t,n){return this.throwIfDisposed(),this.reshape([t,n])},e.prototype.as3D=function(t,n,r){return this.throwIfDisposed(),this.reshape([t,n,r])},e.prototype.as4D=function(t,n,r,a){return this.throwIfDisposed(),this.reshape([t,n,r,a])},e.prototype.as5D=function(t,n,r,a,i){return this.throwIfDisposed(),this.reshape([t,n,r,a,i])},e.prototype.asType=function(t){return this.throwIfDisposed(),nt.cast(this,t)},Object.defineProperty(e.prototype,"rank",{get:function(){return this.shape.length},enumerable:!0,configurable:!0}),e.prototype.buffer=function(){return an(this,void 0,void 0,function(){var t;return on(this,function(n){switch(n.label){case 0:return[4,this.data()];case 1:return t=n.sent(),[2,nt.buffer(this.shape,this.dtype,t)]}})})},e.prototype.bufferSync=function(){return nt.buffer(this.shape,this.dtype,this.dataSync())},e.prototype.array=function(){return an(this,void 0,void 0,function(){var t;return on(this,function(n){switch(n.label){case 0:return[4,this.data()];case 1:return t=n.sent(),[2,SW(this.shape,t)]}})})},e.prototype.arraySync=function(){return SW(this.shape,this.dataSync())},e.prototype.data=function(){return an(this,void 0,void 0,function(){var t,n;return on(this,function(r){switch(r.label){case 0:return this.throwIfDisposed(),t=eu().read(this.dataId),this.dtype!=="string"?[3,2]:[4,t];case 1:n=r.sent();try{return[2,n.map(function(a){return pE(a)})]}catch{throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}r.label=2;case 2:return[2,t]}})})},e.prototype.dataSync=function(){this.throwIfDisposed();var t=eu().readSync(this.dataId);if(this.dtype==="string")try{return t.map(function(n){return pE(n)})}catch{throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return t},e.prototype.bytes=function(){return an(this,void 0,void 0,function(){var t;return on(this,function(n){switch(n.label){case 0:return this.throwIfDisposed(),[4,eu().read(this.dataId)];case 1:return t=n.sent(),this.dtype==="string"?[2,t]:[2,new Uint8Array(t.buffer)]}})})},e.prototype.dispose=function(){this.isDisposed||(eu().disposeTensor(this),this.isDisposedInternal=!0)},Object.defineProperty(e.prototype,"isDisposed",{get:function(){return this.isDisposedInternal},enumerable:!0,configurable:!0}),e.prototype.throwIfDisposed=function(){if(this.isDisposed)throw new Error("Tensor is disposed.")},e.prototype.toFloat=function(){return this.asType("float32")},e.prototype.toInt=function(){return this.asType("int32")},e.prototype.toBool=function(){return this.asType("bool")},e.prototype.print=function(t){return t===void 0&&(t=!1),nt.print(this,t)},e.prototype.reshape=function(t){return this.throwIfDisposed(),nt.reshape(this,t)},e.prototype.reshapeAs=function(t){return this.throwIfDisposed(),this.reshape(t.shape)},e.prototype.expandDims=function(t){return t===void 0&&(t=0),nt.expandDims(this,t)},e.prototype.cumsum=function(t,n,r){return t===void 0&&(t=0),n===void 0&&(n=!1),r===void 0&&(r=!1),nt.cumsum(this,t,n,r)},e.prototype.squeeze=function(t){return this.throwIfDisposed(),nt.squeeze(this,t)},e.prototype.clone=function(){return this.throwIfDisposed(),nt.clone(this)},e.prototype.oneHot=function(t,n,r){return this.throwIfDisposed(),nt.oneHot(this,t,n,r)},e.prototype.toString=function(t){return t===void 0&&(t=!1),oOe(this.dataSync(),this.shape,this.dtype,t)},e.prototype.tile=function(t){return this.throwIfDisposed(),nt.tile(this,t)},e.prototype.gather=function(t,n){return n===void 0&&(n=0),this.throwIfDisposed(),nt.gather(this,t,n)},e.prototype.matMul=function(t,n,r){return n===void 0&&(n=!1),r===void 0&&(r=!1),this.throwIfDisposed(),nt.matMul(this,t,n,r)},e.prototype.dot=function(t){return this.throwIfDisposed(),nt.dot(this,t)},e.prototype.norm=function(t,n,r){return t===void 0&&(t="euclidean"),n===void 0&&(n=null),r===void 0&&(r=!1),this.throwIfDisposed(),nt.norm(this,t,n,r)},e.prototype.slice=function(t,n){return this.throwIfDisposed(),nt.slice(this,t,n)},e.prototype.reverse=function(t){return this.throwIfDisposed(),nt.reverse(this,t)},e.prototype.concat=function(t,n){return n===void 0&&(n=0),this.throwIfDisposed(),t instanceof e&&(t=[t]),nt.concat([this].concat(t),n)},e.prototype.split=function(t,n){return n===void 0&&(n=0),this.throwIfDisposed(),nt.split(this,t,n)},e.prototype.stack=function(t,n){return n===void 0&&(n=0),nt.stack([this,t],n)},e.prototype.unstack=function(t){return t===void 0&&(t=0),nt.unstack(this,t)},e.prototype.pad=function(t,n){return n===void 0&&(n=0),nt.pad(this,t,n)},e.prototype.batchNormalization=function(t,n,r,a,i){return r===void 0&&(r=.001),aie("tf.batchNormalization() is going away. Use tf.batchNorm() instead, and note the positional argument change of scale, offset, and varianceEpsilon"),this.batchNorm(t,n,i,a,r)},e.prototype.batchNorm=function(t,n,r,a,i){return i===void 0&&(i=.001),this.throwIfDisposed(),nt.batchNorm(this,t,n,r,a,i)},e.prototype.all=function(t,n){return t===void 0&&(t=null),n===void 0&&(n=!1),this.throwIfDisposed(),nt.all(this,t,n)},e.prototype.any=function(t,n){return t===void 0&&(t=null),n===void 0&&(n=!1),this.throwIfDisposed(),nt.any(this,t,n)},e.prototype.logSumExp=function(t,n){return t===void 0&&(t=null),n===void 0&&(n=!1),this.throwIfDisposed(),nt.logSumExp(this,t,n)},e.prototype.sum=function(t,n){return t===void 0&&(t=null),n===void 0&&(n=!1),this.throwIfDisposed(),nt.sum(this,t,n)},e.prototype.prod=function(t,n){return t===void 0&&(t=null),n===void 0&&(n=!1),this.throwIfDisposed(),nt.prod(this,t,n)},e.prototype.mean=function(t,n){return t===void 0&&(t=null),n===void 0&&(n=!1),this.throwIfDisposed(),nt.mean(this,t,n)},e.prototype.min=function(t,n){return t===void 0&&(t=null),n===void 0&&(n=!1),this.throwIfDisposed(),nt.min(this,t,n)},e.prototype.max=function(t,n){return t===void 0&&(t=null),n===void 0&&(n=!1),this.throwIfDisposed(),nt.max(this,t,n)},e.prototype.argMin=function(t){return t===void 0&&(t=null),this.throwIfDisposed(),nt.argMin(this,t)},e.prototype.argMax=function(t){return t===void 0&&(t=null),this.throwIfDisposed(),nt.argMax(this,t)},e.prototype.cast=function(t){return this.throwIfDisposed(),nt.cast(this,t)},e.prototype.add=function(t){return this.throwIfDisposed(),nt.add(this,t)},e.prototype.addStrict=function(t){return this.throwIfDisposed(),nt.addStrict(this,t)},e.prototype.atan2=function(t){return this.throwIfDisposed(),nt.atan2(this,t)},e.prototype.sub=function(t){return this.throwIfDisposed(),nt.sub(this,t)},e.prototype.subStrict=function(t){return this.throwIfDisposed(),nt.subStrict(this,t)},e.prototype.pow=function(t){return this.throwIfDisposed(),nt.pow(this,t)},e.prototype.powStrict=function(t){return this.throwIfDisposed(),nt.powStrict(this,t)},e.prototype.mul=function(t){return this.throwIfDisposed(),nt.mul(this,t)},e.prototype.mulStrict=function(t){return this.throwIfDisposed(),nt.mulStrict(this,t)},e.prototype.div=function(t){return this.throwIfDisposed(),nt.div(this,t)},e.prototype.divNoNan=function(t){return this.throwIfDisposed(),nt.divNoNan(this,t)},e.prototype.floorDiv=function(t){return this.throwIfDisposed(),nt.floorDiv(this,t)},e.prototype.divStrict=function(t){return this.throwIfDisposed(),nt.divStrict(this,t)},e.prototype.minimum=function(t){return this.throwIfDisposed(),nt.minimum(this,t)},e.prototype.minimumStrict=function(t){return this.throwIfDisposed(),nt.minimumStrict(this,t)},e.prototype.maximum=function(t){return this.throwIfDisposed(),nt.maximum(this,t)},e.prototype.maximumStrict=function(t){return this.throwIfDisposed(),nt.maximumStrict(this,t)},e.prototype.mod=function(t){return this.throwIfDisposed(),nt.mod(this,t)},e.prototype.modStrict=function(t){return this.throwIfDisposed(),nt.modStrict(this,t)},e.prototype.squaredDifferenceStrict=function(t){return this.throwIfDisposed(),nt.squaredDifferenceStrict(this,t)},e.prototype.transpose=function(t){return this.throwIfDisposed(),nt.transpose(this,t)},e.prototype.notEqual=function(t){return this.throwIfDisposed(),nt.notEqual(this,t)},e.prototype.notEqualStrict=function(t){return this.throwIfDisposed(),nt.notEqualStrict(this,t)},e.prototype.less=function(t){return this.throwIfDisposed(),nt.less(this,t)},e.prototype.lessStrict=function(t){return this.throwIfDisposed(),nt.lessStrict(this,t)},e.prototype.equal=function(t){return this.throwIfDisposed(),nt.equal(this,t)},e.prototype.equalStrict=function(t){return this.throwIfDisposed(),nt.equalStrict(this,t)},e.prototype.lessEqual=function(t){return this.throwIfDisposed(),nt.lessEqual(this,t)},e.prototype.lessEqualStrict=function(t){return this.throwIfDisposed(),nt.lessEqualStrict(this,t)},e.prototype.greater=function(t){return this.throwIfDisposed(),nt.greater(this,t)},e.prototype.greaterStrict=function(t){return this.throwIfDisposed(),nt.greaterStrict(this,t)},e.prototype.greaterEqual=function(t){return this.throwIfDisposed(),nt.greaterEqual(this,t)},e.prototype.greaterEqualStrict=function(t){return this.throwIfDisposed(),nt.greaterEqualStrict(this,t)},e.prototype.logicalAnd=function(t){return this.throwIfDisposed(),nt.logicalAnd(this,t)},e.prototype.logicalOr=function(t){return this.throwIfDisposed(),nt.logicalOr(this,t)},e.prototype.logicalNot=function(){return this.throwIfDisposed(),nt.logicalNot(this)},e.prototype.logicalXor=function(t){return this.throwIfDisposed(),nt.logicalXor(this,t)},e.prototype.where=function(t,n){return this.throwIfDisposed(),nt.where(t,this,n)},e.prototype.neg=function(){return this.throwIfDisposed(),nt.neg(this)},e.prototype.ceil=function(){return this.throwIfDisposed(),nt.ceil(this)},e.prototype.floor=function(){return this.throwIfDisposed(),nt.floor(this)},e.prototype.sign=function(){return this.throwIfDisposed(),nt.sign(this)},e.prototype.isNaN=function(){return this.throwIfDisposed(),nt.isNaN(this)},e.prototype.isInf=function(){return this.throwIfDisposed(),nt.isInf(this)},e.prototype.isFinite=function(){return this.throwIfDisposed(),nt.isFinite(this)},e.prototype.exp=function(){return this.throwIfDisposed(),nt.exp(this)},e.prototype.expm1=function(){return this.throwIfDisposed(),nt.expm1(this)},e.prototype.log=function(){return this.throwIfDisposed(),nt.log(this)},e.prototype.log1p=function(){return this.throwIfDisposed(),nt.log1p(this)},e.prototype.sqrt=function(){return this.throwIfDisposed(),nt.sqrt(this)},e.prototype.rsqrt=function(){return this.throwIfDisposed(),nt.rsqrt(this)},e.prototype.square=function(){return this.throwIfDisposed(),nt.square(this)},e.prototype.reciprocal=function(){return this.throwIfDisposed(),nt.reciprocal(this)},e.prototype.abs=function(){return this.throwIfDisposed(),nt.abs(this)},e.prototype.clipByValue=function(t,n){return this.throwIfDisposed(),nt.clipByValue(this,t,n)},e.prototype.relu=function(){return this.throwIfDisposed(),nt.relu(this)},e.prototype.relu6=function(){return this.throwIfDisposed(),nt.relu6(this)},e.prototype.elu=function(){return this.throwIfDisposed(),nt.elu(this)},e.prototype.selu=function(){return this.throwIfDisposed(),nt.selu(this)},e.prototype.leakyRelu=function(t){return t===void 0&&(t=.2),this.throwIfDisposed(),nt.leakyRelu(this,t)},e.prototype.prelu=function(t){return this.throwIfDisposed(),nt.prelu(this,t)},e.prototype.sigmoid=function(){return this.throwIfDisposed(),nt.sigmoid(this)},e.prototype.logSigmoid=function(){return this.throwIfDisposed(),nt.logSigmoid(this)},e.prototype.softplus=function(){return this.throwIfDisposed(),nt.softplus(this)},e.prototype.zerosLike=function(){return this.throwIfDisposed(),nt.zerosLike(this)},e.prototype.onesLike=function(){return this.throwIfDisposed(),nt.onesLike(this)},e.prototype.sin=function(){return this.throwIfDisposed(),nt.sin(this)},e.prototype.cos=function(){return this.throwIfDisposed(),nt.cos(this)},e.prototype.tan=function(){return this.throwIfDisposed(),nt.tan(this)},e.prototype.asin=function(){return this.throwIfDisposed(),nt.asin(this)},e.prototype.acos=function(){return this.throwIfDisposed(),nt.acos(this)},e.prototype.atan=function(){return this.throwIfDisposed(),nt.atan(this)},e.prototype.sinh=function(){return this.throwIfDisposed(),nt.sinh(this)},e.prototype.cosh=function(){return this.throwIfDisposed(),nt.cosh(this)},e.prototype.tanh=function(){return this.throwIfDisposed(),nt.tanh(this)},e.prototype.asinh=function(){return this.throwIfDisposed(),nt.asinh(this)},e.prototype.acosh=function(){return this.throwIfDisposed(),nt.acosh(this)},e.prototype.atanh=function(){return this.throwIfDisposed(),nt.atanh(this)},e.prototype.erf=function(){return this.throwIfDisposed(),nt.erf(this)},e.prototype.round=function(){return this.throwIfDisposed(),nt.round(this)},e.prototype.step=function(t){return t===void 0&&(t=0),this.throwIfDisposed(),nt.step(this,t)},e.prototype.softmax=function(t){return t===void 0&&(t=-1),this.throwIfDisposed(),nt.softmax(this,t)},e.prototype.logSoftmax=function(t){return t===void 0&&(t=-1),this.throwIfDisposed(),nt.logSoftmax(this,t)},e.prototype.resizeBilinear=function(t,n){return n===void 0&&(n=!1),this.throwIfDisposed(),nt.image.resizeBilinear(this,t,n)},e.prototype.resizeNearestNeighbor=function(t,n){return n===void 0&&(n=!1),this.throwIfDisposed(),nt.image.resizeNearestNeighbor(this,t,n)},e.prototype.conv1d=function(t,n,r,a,i,o){return a===void 0&&(a="NWC"),i===void 0&&(i=1),this.throwIfDisposed(),nt.conv1d(this,t,n,r,a,i,o)},e.prototype.conv2d=function(t,n,r,a,i,o){return a===void 0&&(a="NHWC"),i===void 0&&(i=[1,1]),this.throwIfDisposed(),nt.conv2d(this,t,n,r,a,i,o)},e.prototype.conv2dTranspose=function(t,n,r,a,i){return this.throwIfDisposed(),nt.conv2dTranspose(this,t,n,r,a,i)},e.prototype.depthwiseConv2D=function(t,n,r,a,i,o){return a===void 0&&(a="NHWC"),i===void 0&&(i=[1,1]),this.throwIfDisposed(),nt.depthwiseConv2d(this,t,n,r,a,i,o)},e.prototype.separableConv2d=function(t,n,r,a,i,o){return i===void 0&&(i=[1,1]),o===void 0&&(o="NHWC"),this.throwIfDisposed(),nt.separableConv2d(this,t,n,r,a,i,o)},e.prototype.avgPool=function(t,n,r,a){return this.throwIfDisposed(),nt.avgPool(this,t,n,r,a)},e.prototype.maxPool=function(t,n,r,a){return this.throwIfDisposed(),nt.maxPool(this,t,n,r,a)},e.prototype.localResponseNormalization=function(t,n,r,a){return t===void 0&&(t=5),n===void 0&&(n=1),r===void 0&&(r=1),a===void 0&&(a=.5),nt.localResponseNormalization(this,t,n,r,a)},e.prototype.pool=function(t,n,r,a,i){return this.throwIfDisposed(),nt.pool(this,t,n,r,a,i)},e.prototype.variable=function(t,n,r){return t===void 0&&(t=!0),this.throwIfDisposed(),eu().makeVariable(this,t,n,r)},e.prototype.unsortedSegmentSum=function(t,n){return this.throwIfDisposed(),nt.unsortedSegmentSum(this,t,n)},e.prototype.batchToSpaceND=function(t,n){return this.throwIfDisposed(),nt.batchToSpaceND(this,t,n)},e.prototype.spaceToBatchND=function(t,n){return this.throwIfDisposed(),nt.spaceToBatchND(this,t,n)},e.prototype.topk=function(t,n){return t===void 0&&(t=1),n===void 0&&(n=!0),this.throwIfDisposed(),nt.topk(this,t,n)},e.prototype.stridedSlice=function(t,n,r,a,i,o,s,l){return a===void 0&&(a=0),i===void 0&&(i=0),o===void 0&&(o=0),s===void 0&&(s=0),l===void 0&&(l=0),this.throwIfDisposed(),nt.stridedSlice(this,t,n,r,a,i,o,s,l)},e.prototype.depthToSpace=function(t,n){return this.throwIfDisposed(),nt.depthToSpace(this,t,n)},e.prototype.fft=function(){return this.throwIfDisposed(),nt.spectral.fft(this)},e.prototype.ifft=function(){return this.throwIfDisposed(),nt.spectral.ifft(this)},e.prototype.rfft=function(){return this.throwIfDisposed(),nt.spectral.rfft(this)},e.prototype.irfft=function(){return this.throwIfDisposed(),nt.spectral.irfft(this)},e}();Object.defineProperty(ba,Symbol.hasInstance,{value:function(e){return!!e&&e.dataId!=null&&e.shape!=null&&e.dtype!=null}});var NW,eM,tM,nM,rM,a0=function(e){function t(n,r,a,i){var o=e.call(this,n.shape,n.dtype,n.dataId,i)||this;return o.trainable=r,o.name=a,o}return Cc(t,e),t.prototype.assign=function(n){if(n.dtype!==this.dtype)throw new Error("dtype of the new value ("+n.dtype+") and previous value ("+this.dtype+") must match");if(!Pi(n.shape,this.shape))throw new Error("shape of the new value ("+n.shape+") and previous value ("+this.shape+") must match");eu().disposeTensor(this),this.dataId=n.dataId,eu().incRef(this,null)},t.prototype.dispose=function(){eu().disposeVariable(this),this.isDisposedInternal=!0},t}(ba);Object.defineProperty(a0,Symbol.hasInstance,{value:function(e){return e instanceof ba&&e.assign!=null&&e.assign instanceof Function}}),function(e){e.R0="R0",e.R1="R1",e.R2="R2",e.R3="R3",e.R4="R4",e.R5="R5",e.R6="R6"}(NW||(NW={})),function(e){e.float32="float32",e.int32="int32",e.bool="int32",e.complex64="complex64"}(eM||(eM={})),function(e){e.float32="float32",e.int32="int32",e.bool="bool",e.complex64="complex64"}(tM||(tM={})),function(e){e.float32="float32",e.int32="float32",e.bool="float32",e.complex64="complex64"}(nM||(nM={})),function(e){e.float32="complex64",e.int32="complex64",e.bool="complex64",e.complex64="complex64"}(rM||(rM={}));var sOe={float32:nM,int32:eM,bool:tM,complex64:rM};function Hi(e,t){if(e==="string"||t==="string"){if(e==="string"&&t==="string")return"string";throw new Error("Can not upcast "+e+" with "+t)}return sOe[e][t]}function o4(e){return Hi(e,"int32")}function Na(e,t){if(e.dtype===t.dtype)return[e,t];var n=Hi(e.dtype,t.dtype);return[e.cast(n),t.cast(n)]}function lOe(e,t){_e(e.dtype===t.dtype,function(){return"The dtypes of the first("+e.dtype+") and second("+t.dtype+") input must match"})}function iie(e){var t=[];return function n(r,a,i){if(r!=null){if(r instanceof ba)return void a.push(r);if(o=r,!(!Array.isArray(o)&&typeof o!="object")){var o,s=r;for(var l in s){var u=s[l];i.has(u)||(i.add(u),n(u,a,i))}}}}(e,t,new Set),t}var s4,kW=function(){function e(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null}}return e.prototype.dispose=function(){for(var t in this.registeredVariables)this.registeredVariables[t].dispose()},e}(),cOe=function(){function e(t){this.ENV=t,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new kW}return e.prototype.ready=function(){return an(this,void 0,void 0,function(){var t,n,r;return on(this,function(a){switch(a.label){case 0:if(this.pendingBackendInit!=null)return[2,this.pendingBackendInit.then(function(){})];if(this.backendInstance!=null)return[2];t=this.getSortedBackends(),n=0,a.label=1;case 1:return n<t.length?(r=t[n],[4,this.initializeBackend(r).success]):[3,5];case 2:return a.sent()?[4,this.setBackend(r)]:[3,4];case 3:return a.sent(),[2];case 4:return n++,[3,1];case 5:throw new Error("Could not initialize any backends, all backend initializations failed.")}})})},Object.defineProperty(e.prototype,"backend",{get:function(){if(this.pendingBackendInit!=null)throw new Error("Backend '"+this.backendName+"' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods");if(this.backendInstance==null){var t=this.initializeBackendsAndReturnBest(),n=t.name;if(t.asyncInit)throw new Error("The highest priority backend '"+n+"' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods");this.setBackend(n)}return this.backendInstance},enumerable:!0,configurable:!0}),e.prototype.backendNames=function(){return Object.keys(this.registryFactory)},e.prototype.findBackend=function(t){return!(t in this.registry)&&(!(t in this.registryFactory)||this.initializeBackend(t).asyncInit)?null:this.registry[t]},e.prototype.findBackendFactory=function(t){return t in this.registryFactory?this.registryFactory[t].factory:null},e.prototype.registerBackend=function(t,n,r){return r===void 0&&(r=1),t in this.registryFactory?(console.warn(t+" backend was already registered. Reusing existing backend factory."),!1):(this.registryFactory[t]={factory:n,priority:r},!0)},e.prototype.setBackend=function(t){return an(this,void 0,void 0,function(){var n,r,a;return on(this,function(i){switch(i.label){case 0:if(this.registryFactory[t]==null)throw new Error("Backend name '"+t+"' not found in registry");return this.backendName=t,this.registry[t]!=null?[3,4]:(this.backendInstance=null,n=this.initializeBackend(t),r=n.success,n.asyncInit?[4,r]:[3,2]);case 1:return a=i.sent(),[3,3];case 2:a=r,i.label=3;case 3:if(!a)return[2,!1];i.label=4;case 4:return this.backendInstance=this.registry[t],this.setupRegisteredKernels(),this.profiler=new aOe(this.backendInstance),[2,!0]}})})},e.prototype.setupRegisteredKernels=function(){var t=this;wW(this.backendName).forEach(function(n){n.setupFunc!=null&&n.setupFunc(t.backendInstance)})},e.prototype.disposeRegisteredKernels=function(t){var n=this;wW(t).forEach(function(r){r.disposeFunc!=null&&r.disposeFunc(n.registry[t])})},e.prototype.initializeBackend=function(t){var n=this,r=this.registryFactory[t];if(r==null)throw new Error("Cannot initialize backend "+t+", no registration found.");try{var a=r.factory();if(Promise.resolve(a)===a){var i=++this.pendingBackendInitId,o=a.then(function(s){return!(i<n.pendingBackendInitId)&&(n.registry[t]=s,n.pendingBackendInit=null,!0)}).catch(function(s){return!(i<n.pendingBackendInitId)&&(n.pendingBackendInit=null,console.warn("Initialization of backend "+t+" failed"),console.warn(s.stack||s.message),!1)});return this.pendingBackendInit=o,{success:o,asyncInit:!0}}return this.registry[t]=a,{success:!0,asyncInit:!1}}catch(s){return console.warn("Initialization of backend "+t+" failed"),console.warn(s.stack||s.message),{success:!1,asyncInit:!1}}},e.prototype.removeBackend=function(t){if(!(t in this.registryFactory))throw new Error(t+" backend not found in registry");this.backendName===t&&this.pendingBackendInit!=null&&this.pendingBackendInitId++,t in this.registry&&(this.disposeRegisteredKernels(t),this.registry[t].dispose(),delete this.registry[t]),delete this.registryFactory[t],this.backendName===t&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)},e.prototype.getSortedBackends=function(){var t=this;if(Object.keys(this.registryFactory).length===0)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort(function(n,r){return t.registryFactory[r].priority-t.registryFactory[n].priority})},e.prototype.initializeBackendsAndReturnBest=function(){for(var t=this.getSortedBackends(),n=0;n<t.length;n++){var r=t[n],a=this.initializeBackend(r),i=a.success,o=a.asyncInit;if(o||i)return{name:r,asyncInit:o}}throw new Error("Could not initialize any backends, all backend initializations failed.")},e.prototype.moveData=function(t,n){var r=this.state.tensorInfo.get(n),a=r.backend,i=this.readSync(n);a.disposeData(n),r.backend=t,t.move(n,i,r.shape,r.dtype),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++},e.prototype.tidy=function(t,n){var r,a=this,i=null;if(n==null){if(typeof t!="function")throw new Error("Please provide a function to tidy()");n=t}else{if(typeof t!="string"&&!(t instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if(typeof n!="function")throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");i=t}return this.scopedRun(function(){return a.startScope(i)},function(){return a.endScope(r)},function(){return(r=n())instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),r})},e.prototype.scopedRun=function(t,n,r){t();try{var a=r();return n(),a}catch(i){throw n(),i}},e.prototype.nextTensorId=function(){return e.nextTensorId++},e.prototype.nextVariableId=function(){return e.nextVariableId++},e.prototype.clone=function(t){var n=this.makeTensorFromDataId(t.dataId,t.shape,t.dtype),r={x:t};return this.addTapeNode(this.state.activeScope.name,r,[n],function(a){return{x:function(){return a.toFloat()}}},[]),n},e.prototype.runKernel=function(t,n,r,a,i){return this.runKernelFunc(null,n,null,t,r,a,i)},e.prototype.shouldCheckForMemLeaks=function(){return this.ENV.getBool("IS_TEST")},e.prototype.checkKernelForMemLeak=function(t,n,r){var a=this.backend.numDataIds(),i=0;r.forEach(function(l){i+=l.dtype==="complex64"?3:1});var o=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],s=a-n-i-o;if(s>0)throw new Error("Backend '"+this.backendName+"' has an internal memory leak ("+s+" data ids) after running '"+t+"'")},e.prototype.runKernelFunc=function(t,n,r,a,i,o,s){var l,u=this;o===void 0&&(o=[]),s===void 0&&(s=[]);var d=[],f=this.isTapeOn();a==null&&(a=this.state.activeScope!=null?this.state.activeScope.name:"");var h,p=function(b){f&&(d=b.map(function(w){return u.keep(u.clone(w))}))},m=this.state.numBytes,g=this.state.numTensors;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0);var y,x=Kae(a,this.backendName);return h=x!=null?function(){var b=u.backend.numDataIds();y=x.kernelFunc({inputs:n,attrs:i,backend:u.backend});var w=Array.isArray(y)?y:[y];u.shouldCheckForMemLeaks()&&u.checkKernelForMemLeak(a,b,w);var _=w.map(function(k){var N=k.dataId,P=k.shape,T=k.dtype;return u.makeTensorFromDataId(N,P,T)}),S=_.filter(function(k,N){return s[N]});return p((o||[]).slice().concat(S)),_}:function(){var b=u.backend.numDataIds();y=u.tidy(function(){return t(u.backend,p)});var w=Array.isArray(y)?y:[y];return u.shouldCheckForMemLeaks()&&u.checkKernelForMemLeak(a,b,w),w},this.scopedRun(function(){return u.state.kernelDepth++},function(){return u.state.kernelDepth--},function(){l=u.ENV.getBool("DEBUG")?u.profiler.profileKernel(a,n,function(){return h()}):h()}),f&&this.addTapeNode(a,n,l,r,d),this.state.profiling&&this.state.activeProfile.kernels.push({name:a,bytesAdded:this.state.numBytes-m,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-g,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(n).map(function(b){return n[b].shape}),outputShapes:l.map(function(b){return b.shape})}),Array.isArray(y)?l:l[0]},e.prototype.makeTensor=function(t,n,r,a){if(t==null)throw new Error("Values passed to engine.makeTensor() are null");r=r||"float32",a=a||this.backend;var i=t;r==="string"&&g5(t[0])&&(i=t.map(function(d){return nOe(d)}));var o=a.write(i,n,r),s=new ba(n,r,o,this.nextTensorId());if(this.incRef(s,a),r==="string"){var l=this.state.tensorInfo.get(o),u=JDe(i);this.state.numBytes+=u-l.bytes,l.bytes=u}return s},e.prototype.makeTensorFromDataId=function(t,n,r,a){var i=new ba(n,r=r||"float32",t,this.nextTensorId());return this.incRef(i,a),i},e.prototype.makeVariable=function(t,n,r,a){n===void 0&&(n=!0),r=r||this.nextVariableId().toString(),a!=null&&a!==t.dtype&&(t=t.asType(a));var i=new a0(t,n,r,this.nextTensorId());if(this.state.registeredVariables[i.name]!=null)throw new Error("Variable with name "+i.name+" was already registered");return this.state.registeredVariables[i.name]=i,this.incRef(i,this.backend),i},e.prototype.incRef=function(t,n){var r=this.state.tensorInfo.has(t.dataId)?this.state.tensorInfo.get(t.dataId).refCount:0;if(this.state.numTensors++,t.dtype==="string"&&this.state.numStringTensors++,r===0){this.state.numDataBuffers++;var a=0;t.dtype!=="complex64"&&t.dtype!=="string"&&(a=t.size*Jae(t.dtype)),this.state.tensorInfo.set(t.dataId,{backend:n||this.backend,dtype:t.dtype,shape:t.shape,bytes:a,refCount:0}),this.state.numBytes+=a}this.state.tensorInfo.get(t.dataId).refCount++,t instanceof a0||this.track(t)},e.prototype.disposeTensor=function(t){if(this.state.tensorInfo.has(t.dataId)){this.state.numTensors--,t.dtype==="string"&&this.state.numStringTensors--;var n=this.state.tensorInfo.get(t.dataId);n.refCount<=1?(t.dtype!=="complex64"&&(this.state.numBytes-=n.bytes),this.state.numDataBuffers--,n.backend.disposeData(t.dataId),this.state.tensorInfo.delete(t.dataId)):this.state.tensorInfo.get(t.dataId).refCount--}},e.prototype.disposeVariables=function(){for(var t in this.state.registeredVariables){var n=this.state.registeredVariables[t];this.disposeVariable(n)}},e.prototype.disposeVariable=function(t){this.disposeTensor(t),this.state.registeredVariables[t.name]!=null&&delete this.state.registeredVariables[t.name]},e.prototype.memory=function(){var t=this.backend.memory();return t.numTensors=this.state.numTensors,t.numDataBuffers=this.state.numDataBuffers,t.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(t.unreliable=!0,t.reasons==null&&(t.reasons=[]),t.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),t},e.prototype.profile=function(t){return an(this,void 0,void 0,function(){var n,r;return on(this,function(a){return this.state.profiling=!0,n=this.state.numBytes,r=this.state.numTensors,this.state.activeProfile.kernels=[],this.state.activeProfile.result=t(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max.apply(Math,this.state.activeProfile.kernels.map(function(i){return i.totalBytesSnapshot})),this.state.activeProfile.newBytes=this.state.numBytes-n,this.state.activeProfile.newTensors=this.state.numTensors-r,[2,this.state.activeProfile]})})},e.prototype.isTapeOn=function(){return this.state.gradientDepth>0&&this.state.kernelDepth===0},e.prototype.addTapeNode=function(t,n,r,a,i){var o=this,s={id:this.state.nextTapeNodeId++,kernelName:t,inputs:n,outputs:r,saved:i},l=HDe(t);l!=null&&(a=l.gradFunc),a!=null&&(s.gradient=function(u){return u=u.map(function(d,f){if(d==null){var h=r[f],p=Qw(h.size,h.dtype);return o.makeTensor(p,h.shape,h.dtype)}return d}),a(u.length>1?u:u[0],i)}),this.state.activeTape.push(s)},e.prototype.keep=function(t){return t.kept=!0,t},e.prototype.startTape=function(){this.state.gradientDepth===0&&(this.state.activeTape=[]),this.state.gradientDepth++},e.prototype.endTape=function(){this.state.gradientDepth--},e.prototype.startScope=function(t){var n={track:[],name:"unnamed scope",id:this.state.nextScopeId++};t&&(n.name=t),this.state.scopeStack.push(n),this.state.activeScope=n},e.prototype.endScope=function(t){for(var n=this,r=iie(t),a=new Set(r.map(function(l){return l.id})),i=0;i<this.state.activeScope.track.length;i++){var o=this.state.activeScope.track[i];o.kept||a.has(o.id)||o.dispose()}var s=this.state.scopeStack.pop();this.state.activeScope=this.state.scopeStack.length===0?null:this.state.scopeStack[this.state.scopeStack.length-1],r.forEach(function(l){l.kept||l.scopeId!==s.id||n.track(l)})},e.prototype.gradients=function(t,n,r,a){var i=this;if(a===void 0&&(a=!1),_e(n.length>0,function(){return"gradients() received an empty list of xs."}),r!=null&&r.dtype!=="float32")throw new Error("dy must have 'float32' dtype, but has '"+r.dtype+"'");var o=this.scopedRun(function(){return i.startTape()},function(){return i.endTape()},function(){return i.tidy("forward",t)});_e(o instanceof ba,function(){return"The result y returned by f() must be a tensor."});var s=function(l,u,d){for(var f={},h={},p=0;p<u.length;p++)f[u[p].id]=!0;for(p=0;p<l.length;p++){var m=(k=l[p]).inputs;for(var g in m){for(var y=m[g],x=!1,b=0;b<u.length;b++)if(f[y.id]){k.outputs.forEach(function(j){return f[j.id]=!0}),x=!0,h[k.id]=!0;break}if(x)break}}var w={};w[d.id]=!0;var _={};for(p=l.length-1;p>=0;p--)for(m=(k=l[p]).inputs,b=0;b<k.outputs.length;b++)if(w[k.outputs[b].id]){for(var g in m)w[m[g].id]=!0,_[k.id]=!0;break}var S=[];for(p=0;p<l.length;p++){var k;if(h[(k=l[p]).id]&&_[k.id]){var N={};for(var g in k.inputs){var P=k.inputs[g];f[P.id]&&(N[g]=P)}var T=Object.assign({},k);T.inputs=N,T.outputs=k.outputs,S.push(T)}}return S}(this.state.activeTape,n,o);if(!a&&s.length===0&&n.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",function(){var l,u,d={};d[o.id]=r??(l=o.shape,u=tie(un(l),"float32"),Ie.makeTensor(u,l,"float32")),function(h,p,m){for(var g=function(x){var b=p[x],w=[];if(b.outputs.forEach(function(N){var P=h[N.id];P!=null?w.push(P):w.push(null)}),b.gradient==null)throw new Error("Cannot compute gradient: gradient function not found for "+b.kernelName+".");var _=b.gradient(w),S=function(N){if(!(N in _))throw new Error("Cannot backprop through input "+N+". Available gradients found: "+Object.keys(_)+".");var P=m(function(){return _[N]()});if(P.dtype!=="float32")throw new Error("Error in gradient for op "+b.kernelName+". The gradient of input "+N+" must have 'float32' dtype, but has '"+P.dtype+"'");var T=b.inputs[N];if(!Pi(P.shape,T.shape))throw new Error("Error in gradient for op "+b.kernelName+". The gradient of input '"+N+"' has shape '"+P.shape+"', which does not match the shape of the input '"+T.shape+"'");if(h[T.id]==null)h[T.id]=P;else{var j=h[T.id];h[T.id]=j.add(P),j.dispose()}};for(var k in b.inputs)S(k)},y=p.length-1;y>=0;y--)g(y)}(d,s,function(h){return i.tidy(h)});var f=n.map(function(h){return d[h.id]});return i.state.gradientDepth===0&&(i.state.activeTape.forEach(function(h){for(var p=0,m=h.saved;p<m.length;p++)m[p].dispose()}),i.state.activeTape=null),{value:o,grads:f}})},e.prototype.customGrad=function(t){var n=this;return _e(Q3(t),function(){return"The f passed in customGrad(f) must be a function."}),function(){for(var r,a=[],i=0;i<arguments.length;i++)a[i]=arguments[i];_e(a.every(function(s){return s instanceof ba}),function(){return"The args passed in customGrad(f)(x1, x2,...) must all be tensors"});var o={};return a.forEach(function(s,l){o[l]=s}),n.runKernelFunc(function(s,l){return _e((r=t.apply(void 0,a.concat([l]))).value instanceof ba,function(){return"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor"}),_e(Q3(r.gradFunc),function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function."}),r.value},o,function(s,l){var u=r.gradFunc(s,l),d=Array.isArray(u)?u:[u];_e(d.length===a.length,function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...)."}),_e(d.every(function(h){return h instanceof ba}),function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors."});var f={};return d.forEach(function(h,p){f[p]=function(){return h}}),f})}},e.prototype.readSync=function(t){return this.state.tensorInfo.get(t).backend.readSync(t)},e.prototype.read=function(t){return this.state.tensorInfo.get(t).backend.read(t)},e.prototype.time=function(t){return an(this,void 0,void 0,function(){var n,r;return on(this,function(a){switch(a.label){case 0:return n=Xc(),[4,this.backend.time(t)];case 1:return(r=a.sent()).wallMs=Xc()-n,[2,r]}})})},e.prototype.track=function(t){return this.state.activeScope!=null&&(t.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(t)),t},Object.defineProperty(e.prototype,"registeredVariables",{get:function(){return this.state.registeredVariables},enumerable:!0,configurable:!0}),e.prototype.reset=function(){for(var t in this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new kW,this.registry)this.disposeRegisteredKernels(t),this.registry[t].dispose(),delete this.registry[t];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null},e.nextTensorId=0,e.nextVariableId=0,e}(),Ie=function(){var e=function(){if(s4==null){var n=void 0;if(typeof window<"u")n=window;else if(typeof global<"u")n=global;else if(typeof process<"u")n=process;else{if(typeof self>"u")throw new Error("Could not find a global object");n=self}s4=n}return s4}();if(e._tfengine==null){var t=new WDe(e);e._tfengine=new cOe(t)}return function(n){Yae=n}(e._tfengine.ENV),eu=function(){return e._tfengine},e._tfengine}();function oie(){return typeof window<"u"&&window.document!=null||typeof WorkerGlobalScope<"u"}var Vu=lt();Vu.registerFlag("DEBUG",function(){return!1},function(e){e&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")}),Vu.registerFlag("IS_BROWSER",function(){return oie()}),Vu.registerFlag("IS_NODE",function(){return typeof process<"u"&&process.versions!==void 0&&process.versions.node!==void 0}),Vu.registerFlag("IS_CHROME",function(){return typeof navigator<"u"&&navigator!=null&&navigator.userAgent!=null&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}),Vu.registerFlag("PROD",function(){return!1}),Vu.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",function(){return Vu.getBool("DEBUG")}),Vu.registerFlag("DEPRECATION_WARNINGS_ENABLED",function(){return!0}),Vu.registerFlag("IS_TEST",function(){return!1});var _b,As,Cs,sp={},l4={alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0};function uOe(e,t){sp[e]=t}function Ou(e){e in sp||(sp[e]=function(n){if(n!==1&&n!==2)throw new Error("Cannot get WebGL rendering context, WebGL is disabled.");var r=function(a){if(typeof OffscreenCanvas<"u"&&a===2)return new OffscreenCanvas(300,150);if(typeof document<"u")return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}(n);return r.addEventListener("webglcontextlost",function(a){a.preventDefault(),delete sp[n]},!1),n===1?r.getContext("webgl",l4)||r.getContext("experimental-webgl",l4):r.getContext("webgl2",l4)}(e));var t=sp[e];return t.isContextLost()?(delete sp[e],Ou(e)):(t.disable(t.DEPTH_TEST),t.disable(t.STENCIL_TEST),t.disable(t.BLEND),t.disable(t.DITHER),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SAMPLE_COVERAGE),t.enable(t.SCISSOR_TEST),t.enable(t.CULL_FACE),t.cullFace(t.BACK),sp[e])}function Wj(e,t){return[t,e]}function a1(e){var t=un(e);return Z3(Math.ceil(t/4))}function Jw(e,t){return[Math.max(1,Math.ceil(t/2)),Math.max(1,Math.ceil(e/2))]}function v5(e,t){var n,r,a,i,o,s,l,u,d,f=e;return lt().getNumber("WEBGL_VERSION")===2?(n=f.R32F,r=f.R16F,a=f.RGBA16F,i=f.RGBA32F,o=f.RED,s=4,l=1,u=f.HALF_FLOAT,d=f.FLOAT):(n=e.RGBA,r=e.RGBA,a=e.RGBA,i=f.RGBA,o=e.RGBA,s=4,l=4,u=t!=null?t.HALF_FLOAT_OES:null,d=e.FLOAT),{internalFormatFloat:n,internalFormatHalfFloat:r,internalFormatPackedHalfFloat:a,internalFormatPackedFloat:i,textureFormatFloat:o,downloadTextureFormat:e.RGBA,downloadUnpackNumChannels:s,defaultNumChannels:l,textureTypeHalfFloat:u,textureTypeFloat:d}}function dn(e,t,n){var r=n();return t&&function(a){var i=a.getError();if(i!==a.NO_ERROR)throw new Error("WebGL Error: "+pOe(a,i))}(e),r}(function(e){e[e.DENSE=0]="DENSE",e[e.SHARED_BATCH=1]="SHARED_BATCH"})(_b||(_b={})),function(e){e[e.RENDER=0]="RENDER",e[e.UPLOAD=1]="UPLOAD",e[e.PIXELS=2]="PIXELS",e[e.DOWNLOAD=3]="DOWNLOAD"}(As||(As={})),function(e){e[e.UNPACKED_FLOAT16=0]="UNPACKED_FLOAT16",e[e.UNPACKED_FLOAT32=1]="UNPACKED_FLOAT32",e[e.PACKED_4X1_UNSIGNED_BYTE=2]="PACKED_4X1_UNSIGNED_BYTE",e[e.PACKED_2X2_FLOAT32=3]="PACKED_2X2_FLOAT32",e[e.PACKED_2X2_FLOAT16=4]="PACKED_2X2_FLOAT16"}(Cs||(Cs={}));var dOe=596e-10,fOe=65504;function hOe(e){return!!(lt().getBool("WEBGL_RENDER_FLOAT32_ENABLED")||e===0||dOe<Math.abs(e)&&Math.abs(e)<fOe)}function pOe(e,t){switch(t){case e.NO_ERROR:return"NO_ERROR";case e.INVALID_ENUM:return"INVALID_ENUM";case e.INVALID_VALUE:return"INVALID_VALUE";case e.INVALID_OPERATION:return"INVALID_OPERATION";case e.INVALID_FRAMEBUFFER_OPERATION:return"INVALID_FRAMEBUFFER_OPERATION";case e.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case e.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return"Unknown error code "+t}}function b_(e,t,n){return zd(e,t,function(){return e.getExtension(n)},'Extension "'+n+'" not supported on this browser.')}function mOe(e,t,n){var r=zd(e,t,function(){return e.createShader(e.VERTEX_SHADER)},"Unable to create vertex WebGLShader.");if(dn(e,t,function(){return e.shaderSource(r,n)}),dn(e,t,function(){return e.compileShader(r)}),e.getShaderParameter(r,e.COMPILE_STATUS)===!1)throw console.log(e.getShaderInfoLog(r)),new Error("Failed to compile vertex shader.");return r}function gOe(e,t,n){var r=zd(e,t,function(){return e.createShader(e.FRAGMENT_SHADER)},"Unable to create fragment WebGLShader.");if(dn(e,t,function(){return e.shaderSource(r,n)}),dn(e,t,function(){return e.compileShader(r)}),e.getShaderParameter(r,e.COMPILE_STATUS)===!1)throw function(a,i){var o=vOe.exec(i);if(o==null)return console.log("Couldn't parse line number in error: "+i),void console.log(a);for(var s=+o[1],l=a.split(`
`),u=l.length.toString().length+2,d=l.map(function(y,x){return pv((x+1).toString(),u)+y}),f=0,h=0;h<d.length;h++)f=Math.max(d[h].length,f);var p=d.slice(0,s-1),m=d.slice(s-1,s),g=d.slice(s);console.log(p.join(`
`)),console.log(i.split(`
`)[0]),console.log("%c "+pv(m[0],f),"border:1px solid red; background-color:#e3d2d2; color:#a61717"),console.log(g.join(`
`))}(n,e.getShaderInfoLog(r)),new Error("Failed to compile fragment shader.");return r}var c4,u4,vOe=/ERROR: [0-9]+:([0-9]+):/g;function yOe(e,t){return zd(e,t,function(){return e.createProgram()},"Unable to create WebGLProgram.")}function xOe(e,t,n){if(dn(e,t,function(){return e.linkProgram(n)}),e.getProgramParameter(n,e.LINK_STATUS)===!1)throw console.log(e.getProgramInfoLog(n)),new Error("Failed to link vertex and fragment shaders.")}function d4(e,t,n){if(dn(e,t,function(){return e.validateProgram(n)}),e.getProgramParameter(n,e.VALIDATE_STATUS)===!1)throw console.log(e.getProgramInfoLog(n)),new Error("Shader program validation failed.")}function bOe(e,t,n){var r=zd(e,t,function(){return e.createBuffer()},"Unable to create WebGLBuffer");return dn(e,t,function(){return e.bindBuffer(e.ARRAY_BUFFER,r)}),dn(e,t,function(){return e.bufferData(e.ARRAY_BUFFER,n,e.STATIC_DRAW)}),r}function wOe(e,t,n){var r=zd(e,t,function(){return e.createBuffer()},"Unable to create WebGLBuffer");return dn(e,t,function(){return e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,r)}),dn(e,t,function(){return e.bufferData(e.ELEMENT_ARRAY_BUFFER,n,e.STATIC_DRAW)}),r}function _Oe(e,t){return zd(e,t,function(){return e.createTexture()},"Unable to create WebGLTexture.")}function SOe(e,t){var n=lt().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(e<=0||t<=0){var r="["+e+"x"+t+"]";throw new Error("Requested texture size "+r+" is invalid.")}if(e>n||t>n)throw r="["+e+"x"+t+"]",new Error("Requested texture size "+r+" greater than WebGL maximum on this browser / GPU "+("["+n+"x"+n+"]")+".")}function COe(e,t){return zd(e,t,function(){return e.createFramebuffer()},"Unable to create WebGLFramebuffer.")}function jW(e,t,n,r,a,i,o,s){var l=e.getAttribLocation(n,r);return l!==-1&&(dn(e,t,function(){return e.bindBuffer(e.ARRAY_BUFFER,a)}),dn(e,t,function(){return e.vertexAttribPointer(l,i,e.FLOAT,!1,o,s)}),dn(e,t,function(){return e.enableVertexAttribArray(l)}),!0)}function EOe(e,t,n,r){POe(e,r),dn(e,t,function(){return e.activeTexture(e.TEXTURE0+r)}),dn(e,t,function(){return e.bindTexture(e.TEXTURE_2D,n)})}function NOe(e,t,n,r){return zd(e,t,function(){return e.getUniformLocation(n,r)},'uniform "'+r+'" not present in program.')}function kOe(e,t,n){return e.getUniformLocation(t,n)}function jOe(e,t,n,r,a,i){dn(e,t,function(){return EOe(e,t,r,i)}),dn(e,t,function(){return e.uniform1i(a,i)})}function f4(e,t,n,r){dn(e,t,function(){return e.bindFramebuffer(e.FRAMEBUFFER,r)}),dn(e,t,function(){return e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0)})}function TW(e,t,n){dn(e,t,function(){return e.bindFramebuffer(e.FRAMEBUFFER,n)}),dn(e,t,function(){return e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,null,0)})}function w_(e){var t=e.checkFramebufferStatus(e.FRAMEBUFFER);if(t!==e.FRAMEBUFFER_COMPLETE)throw new Error("Error binding framebuffer: "+TOe(e,t))}function TOe(e,t){switch(t){case e.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:return"FRAMEBUFFER_INCOMPLETE_DIMENSIONS";case e.FRAMEBUFFER_UNSUPPORTED:return"FRAMEBUFFER_UNSUPPORTED";default:return"unknown error "+t}}function zd(e,t,n,r){var a=dn(e,t,function(){return n()});if(a==null)throw new Error(r);return a}function POe(e,t){var n=e.MAX_COMBINED_TEXTURE_IMAGE_UNITS-1,r=t+e.TEXTURE0;if(r<e.TEXTURE0||r>n)throw new Error("textureUnit must be in "+("[gl.TEXTURE0, gl.TEXTURE"+n+"]")+".")}function mE(e,t){return t===void 0&&(t=2),un(e.slice(0,e.length-t))}function gE(e){if(e.length===0)throw Error("Cannot get rows and columns of an empty shape array.");return[e.length>1?e[e.length-2]:1,e[e.length-1]]}function h4(e){var t=[1,1,1];return e.length===0||e.length===1&&e[0]===1||(t=[mE(e)].concat(gE(e))),t}function AOe(e,t){var n;t===void 0&&(t=!1);var r=lt().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(t&&(r*=2,(e=e.map(function(u,d){return d>=e.length-2?Qae(e[d]):e[d]})).length===1&&(e=[2,e[0]])),e.length!==2){var a=yp(e);e=a.newShape}var i=un(e);if(e.length<=1&&i<=r)return[1,i];if(e.length===2&&e[0]<=r&&e[1]<=r)return e;if(e.length===3&&e[0]*e[1]<=r&&e[2]<=r)return[e[0]*e[1],e[2]];if(e.length===3&&e[0]<=r&&e[1]*e[2]<=r)return[e[0],e[1]*e[2]];if(e.length===4&&e[0]*e[1]*e[2]<=r&&e[3]<=r)return[e[0]*e[1]*e[2],e[3]];if(e.length===4&&e[0]<=r&&e[1]*e[2]*e[3]<=r)return[e[0],e[1]*e[2]*e[3]];if(t){var o=mE(e),s=2,l=2;return e.length&&(s=(n=gE(e))[0],l=n[1]),Z3(i=o*(s/2)*(l/2)).map(function(u){return 2*u})}return Z3(i)}function __(e){return e%2==0}function S_(e,t){if(Pi(e=e.slice(-2),t=t.slice(-2))||!e.length||!t.length||e[0]===0||e[1]===0||t[0]===0||t[1]===0)return!0;if(e.length!==t.length){var n=e.slice(-1)[0],r=t.slice(-1)[0];if(n===r||__(n)&&__(r)&&(e[0]===1||t[0]===1))return!0}return e[1]===t[1]&&__(e[0])&&__(t[0])}function DOe(e){if(c4==null){var t=Ou(e);c4=t.getParameter(t.MAX_TEXTURE_SIZE)}return c4}function OOe(e){if(u4==null){var t=Ou(e);u4=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS)}return Math.min(16,u4)}function MOe(e){if(e===0)return 0;var t=Ou(e);return bl(t,"EXT_disjoint_timer_query_webgl2")&&e===2?2:bl(t,"EXT_disjoint_timer_query")?1:0}function bl(e,t){return e.getExtension(t)!=null}function PW(e){try{if(Ou(e)!=null)return!0}catch{return!1}return!1}function IOe(e){if(e===0)return!1;var t=Ou(e);if(e===1){if(!bl(t,"OES_texture_float"))return!1}else if(!bl(t,"EXT_color_buffer_float"))return!1;return aM(t)}function ROe(e){if(e===0)return!1;var t=Ou(e);if(e!==1){if(bl(t,"EXT_color_buffer_float"))return aM(t);if(bl(t,"EXT_color_buffer_half_float")){var n=t.getExtension("EXT_color_buffer_half_float");return function(r,a){var i=v5(r,a),o=r.createTexture();r.bindTexture(r.TEXTURE_2D,o),r.texImage2D(r.TEXTURE_2D,0,i.internalFormatHalfFloat,1,1,0,i.textureFormatFloat,i.textureTypeHalfFloat,null);var s=r.createFramebuffer();r.bindFramebuffer(r.FRAMEBUFFER,s),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,o,0);var l=r.checkFramebufferStatus(r.FRAMEBUFFER)===r.FRAMEBUFFER_COMPLETE;return r.bindTexture(r.TEXTURE_2D,null),r.bindFramebuffer(r.FRAMEBUFFER,null),r.deleteTexture(o),r.deleteFramebuffer(s),l}(t,n)}return!1}return!!bl(t,"OES_texture_float")&&!!bl(t,"WEBGL_color_buffer_float")&&aM(t)}function aM(e){var t=v5(e),n=e.createTexture();e.bindTexture(e.TEXTURE_2D,n),e.texImage2D(e.TEXTURE_2D,0,t.internalFormatFloat,1,1,0,t.textureFormatFloat,t.textureTypeFloat,null);var r=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,r),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0);var a=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(n),e.deleteFramebuffer(r),a}function FOe(e){return e===2&&Ou(e).fenceSync!=null}var Sn=lt();function sie(e){lt().getBool("DEPRECATION_WARNINGS_ENABLED")&&console.warn(e+" You can disable deprecation warnings with tf.disableDeprecationWarnings().")}function Qt(e,t){return Ie.tidy(e,t)}function ss(e){iie(e).forEach(function(t){return t.dispose()})}function LOe(e){return Ie.keep(e)}function vE(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];lt().getBool("IS_TEST")||console.warn.apply(console,e)}function Ph(e,t){var n=e;if(gu(e))return t==="string"?[]:[e.length];if(!Array.isArray(e))return[];for(var r=[];Array.isArray(n)||gu(n)&&t!=="string";)r.push(n.length),n=n[0];return Array.isArray(e)&&lt().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&function a(i,o,s){if(s=s||[],!Array.isArray(i)&&!gu(i))return void _e(o.length===0,function(){return"Element arr["+s.join("][")+"] is a primitive, but should be an array/TypedArray of "+o[0]+" elements"});_e(o.length>0,function(){return"Element arr["+s.join("][")+"] should be a primitive, but is an array of "+i.length+" elements"}),_e(i.length===o[0],function(){return"Element arr["+s.join("][")+"] should have "+o[0]+" elements, but has "+i.length+" elements"});for(var l=o.slice(1),u=0;u<i.length;++u)a(i[u],l,s.concat(u))}(e,r,[]),r}function AW(e,t,n,r){if(e!=null&&(e!=="numeric"&&e!==t||e==="numeric"&&t==="string"))throw new Error("Argument '"+n+"' passed to '"+r+"' must be "+e+" tensor, but got "+t+" tensor")}function xe(e,t,n,r){if(r===void 0&&(r="numeric"),e instanceof ba)return AW(r,e.dtype,t,n),e;var a=Zw(e);if(a!=="string"&&["bool","int32","float32"].indexOf(r)>=0&&(a=r),AW(r,a,t,n),e==null||!gu(e)&&!Array.isArray(e)&&typeof e!="number"&&typeof e!="boolean"&&typeof e!="string"){var i=e==null?"null":e.constructor.name;throw new Error("Argument '"+t+"' passed to '"+n+"' must be a Tensor or TensorLike, but got '"+i+"'")}var o=Ph(e,a);gu(e)||Array.isArray(e)||(e=[e]);var s=a!=="string"?eie(e,a,lt().getBool("DEBUG")):r0(e,[],!0);return Ie.makeTensor(s,o,a)}function yE(e,t,n,r){if(r===void 0&&(r="numeric"),!Array.isArray(e))throw new Error("Argument "+t+" passed to "+n+" must be a `Tensor[]` or `TensorLike[]`");return e.map(function(a,i){return xe(a,t+"["+i+"]",n)},r)}function lie(e,t){for(var n=0;n<e.length;++n)if(e[e.length-n-1]!==t-1-n)return!1;return!0}function $Oe(e,t,n){for(var r=e.length+t.length,a=[],i=0,o=0,s=0;s<r;s++)n.indexOf(s)===-1?a.push(e[i++]):a.push(t[o++]);return a}function uo(e,t){for(var n=[],r=e.length,a=0;a<r;a++)t.indexOf(a)===-1&&n.push(e[a]);return[n,t.map(function(i){return e[i]})]}function us(e,t){return $Oe(e,t.map(function(n){return 1}),t)}function _s(e,t,n){_e(lie(t,n),function(){return e+" supports only inner-most axes for now. Got axes "+t+" and rank-"+n+" input."})}function Mu(e,t){if(lie(e,t))return null;for(var n=[],r=0;r<t;++r)e.indexOf(r)===-1&&n.push(r);return e.forEach(function(a){return n.push(a)}),n}function y5(e){return e.map(function(t,n){return[n,t]}).sort(function(t,n){return t[1]-n[1]}).map(function(t){return t[0]})}function Iu(e,t){for(var n=[],r=t-e;r<t;++r)n.push(r);return n}function BOe(e,t){var n=e[0].length;e.forEach(function(a,i){_e(a.length===n,function(){return"Error in concat"+n+"D: rank of tensors["+i+"] must be the same as the rank of the rest ("+n+")"})}),_e(t>=0&&t<n,function(){return"Error in concat"+n+"D: axis must be between 0 and "+(n-1)+"."});var r=e[0];e.forEach(function(a,i){for(var o=0;o<n;o++)_e(o===t||a[o]===r[o],function(){return"Error in concat"+n+"D: Shape of tensors["+i+"] ("+a+") does not match the shape of the rest ("+r+") along the non-concatenated axis "+i+"."})})}function i0(e,t){for(var n=e[0].slice(),r=1;r<e.length;r++)n[t]+=e[r][t];return n}function Pe(e){var t=Object.keys(e);if(t.length!==1)throw new Error("Please provide an object with a single key (operation name) mapping to a function. Got an object with "+t.length+" keys.");var n=t[0],r=e[n];n.endsWith("_")&&(n=n.substring(0,n.length-1));var a=function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];Ie.startScope(n);try{var s=r.apply(void 0,i);return s instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),Ie.endScope(s),s}catch(l){throw Ie.endScope(null),l}};return Object.defineProperty(a,"name",{value:n,configurable:!0}),a}Sn.registerFlag("HAS_WEBGL",function(){return Sn.getNumber("WEBGL_VERSION")>0}),Sn.registerFlag("WEBGL_VERSION",function(){return PW(2)?2:PW(1)?1:0}),Sn.registerFlag("WEBGL_BUFFER_SUPPORTED",function(){return Sn.get("WEBGL_VERSION")===2}),Sn.registerFlag("WEBGL_CPU_FORWARD",function(){return!0}),Sn.registerFlag("WEBGL_FORCE_F16_TEXTURES",function(){return!1}),Sn.registerFlag("WEBGL_PACK",function(){return Sn.getBool("HAS_WEBGL")}),Sn.registerFlag("WEBGL_PACK_NORMALIZATION",function(){return Sn.getBool("WEBGL_PACK")}),Sn.registerFlag("WEBGL_PACK_CLIP",function(){return Sn.getBool("WEBGL_PACK")}),Sn.registerFlag("WEBGL_PACK_DEPTHWISECONV",function(){return!1}),Sn.registerFlag("WEBGL_PACK_BINARY_OPERATIONS",function(){return Sn.getBool("WEBGL_PACK")}),Sn.registerFlag("WEBGL_PACK_UNARY_OPERATIONS",function(){return Sn.getBool("WEBGL_PACK")}),Sn.registerFlag("WEBGL_PACK_ARRAY_OPERATIONS",function(){return Sn.getBool("WEBGL_PACK")}),Sn.registerFlag("WEBGL_PACK_IMAGE_OPERATIONS",function(){return Sn.getBool("WEBGL_PACK")}),Sn.registerFlag("WEBGL_PACK_REDUCE",function(){return Sn.getBool("WEBGL_PACK")}),Sn.registerFlag("WEBGL_LAZILY_UNPACK",function(){return Sn.getBool("WEBGL_PACK")}),Sn.registerFlag("WEBGL_CONV_IM2COL",function(){return Sn.getBool("WEBGL_PACK")}),Sn.registerFlag("WEBGL_MAX_TEXTURE_SIZE",function(){return DOe(Sn.getNumber("WEBGL_VERSION"))}),Sn.registerFlag("WEBGL_MAX_TEXTURES_IN_SHADER",function(){return OOe(Sn.getNumber("WEBGL_VERSION"))}),Sn.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION",function(){var e=Sn.getNumber("WEBGL_VERSION");return e===0?0:MOe(e)}),Sn.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE",function(){return Sn.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0&&(e=navigator.userAgent||navigator.vendor||window.opera,!(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))));var e}),Sn.registerFlag("WEBGL_RENDER_FLOAT32_CAPABLE",function(){return IOe(Sn.getNumber("WEBGL_VERSION"))}),Sn.registerFlag("WEBGL_RENDER_FLOAT32_ENABLED",function(){return!Sn.getBool("WEBGL_FORCE_F16_TEXTURES")&&Sn.getBool("WEBGL_RENDER_FLOAT32_CAPABLE")}),Sn.registerFlag("WEBGL_DOWNLOAD_FLOAT_ENABLED",function(){return ROe(Sn.getNumber("WEBGL_VERSION"))}),Sn.registerFlag("WEBGL_FENCE_API_ENABLED",function(){return FOe(Sn.getNumber("WEBGL_VERSION"))}),Sn.registerFlag("WEBGL_SIZE_UPLOAD_UNIFORM",function(){return Sn.getBool("WEBGL_RENDER_FLOAT32_ENABLED")?4:0}),aie=sie;var Wi=Pe({complex_:function(e,t){var n=xe(e,"real","complex"),r=xe(t,"imag","complex");return wr(n.shape,r.shape,"real and imag shapes, "+n.shape+" and "+r.shape+", must match in call to tf.complex()."),Ie.runKernelFunc(function(a){return a.complex(n,r)},{$real:n,$imag:r})}}),vl=Pe({real_:function(e){var t=xe(e,"input","real");return Ie.runKernelFunc(function(n){return n.real(t)},{$input:t})}}),tu=Pe({imag_:function(e){var t=xe(e,"input","imag");return Ie.runKernelFunc(function(n){return n.imag(t)},{$input:t})}});function Gi(e,t,n){return Ah(e,t,Ph(e,n),n)}function Ah(e,t,n,r){if(r==null&&(r=Zw(e)),r==="complex64")throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(!gu(e)&&!Array.isArray(e)&&typeof e!="number"&&typeof e!="boolean"&&typeof e!="string")throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(t!=null){nie(t);var a=un(t),i=un(n);_e(a===i,function(){return"Based on the provided shape, ["+t+"], the tensor should have "+a+" values but has "+i});for(var o=0;o<n.length;++o){var s=n[o],l=o!==n.length-1||s!==un(t.slice(o));_e(n[o]===t[o]||!l,function(){return"Error creating a new Tensor. Inferred shape ("+n+") does not match the provided shape ("+t+"). "})}}return gu(e)||Array.isArray(e)||(e=[e]),t=t||n,e=r!=="string"?eie(e,r,lt().getBool("DEBUG")):r0(e,[],!0),Ie.makeTensor(e,t,r)}function zt(e,t){if((gu(e)&&t!=="string"||Array.isArray(e))&&t!=="complex64")throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if(t==="string"&&gu(e)&&!(e instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return Ah(e,[],[],t)}function ei(e,t){J0(e);var n=Ph(e,t);if(n.length!==1)throw new Error("tensor1d() requires values to be a flat/TypedArray");return Ah(e,null,n,t)}function eh(e,t,n){if(J0(e),t!=null&&t.length!==2)throw new Error("tensor2d() requires shape to have two numbers");var r=Ph(e,n);if(r.length!==2&&r.length!==1)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(r.length===1&&t==null)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return Ah(e,t,r,n)}function x5(e,t,n){if(J0(e),t!=null&&t.length!==3)throw new Error("tensor3d() requires shape to have three numbers");var r=Ph(e,n);if(r.length!==3&&r.length!==1)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(r.length===1&&t==null)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return Ah(e,t,r,n)}function Go(e,t,n){if(J0(e),t!=null&&t.length!==4)throw new Error("tensor4d() requires shape to have four numbers");var r=Ph(e,n);if(r.length!==4&&r.length!==1)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(r.length===1&&t==null)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return Ah(e,t,r,n)}function zOe(e,t,n){if(J0(e),t!=null&&t.length!==5)throw new Error("tensor5d() requires shape to have five numbers");var r=Ph(e,n);if(r.length!==5&&r.length!==1)throw new Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(r.length===1&&t==null)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return Ah(e,t,r,n)}function UOe(e,t,n){if(J0(e),t!=null&&t.length!==6)throw new Error("tensor6d() requires shape to have six numbers");var r=Ph(e,n);if(r.length!==6&&r.length!==1)throw new Error("tensor6d() requires values to be number[][][][][][] or flat/TypedArray");if(r.length===1&&t==null)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return Ah(e,t=t||r,r,n)}function WOe(e,t,n,r){return t===void 0&&(t=!0),Ie.makeVariable(e,t,n,r)}function ey(e,t){if(t===void 0&&(t="float32"),t==="complex64"){var n=ey(e,"float32"),r=ta(e,"float32");return Wi(n,r)}var a=tie(un(e),t);return Ie.makeTensor(a,e,t)}function ta(e,t){if(t===void 0&&(t="float32"),t==="complex64"){var n=ta(e,"float32"),r=ta(e,"float32");return Wi(n,r)}var a=Qw(un(e),t);return Ie.makeTensor(a,e,t)}function yu(e,t,n){return Ie.runKernelFunc(function(r){return r.fill(e,t,n)},{})}function VOe(e,t,n){if(n<=0)throw new Error("The number of values should be positive.");return Ie.runKernelFunc(function(r){return r.linspace(e,t,n)},{})}function xE(e,t,n,r){if(n===void 0&&(n=1),r===void 0&&(r="float32"),n===0)throw new Error("Cannot have a step of zero");if(e===t||e<t&&n<0||t<e&&n>1)return ta([0],r);var a=Qw(Math.abs(Math.ceil((t-e)/n)),r);t<e&&n===1&&(n=-1),a[0]=e;for(var i=1;i<a.length;i++)a[i]=a[i-1]+n;return ei(a,r)}var cie=Pe({onesLike_:function(e){var t=xe(e,"x","onesLike");if(t.dtype==="complex64"){var n=cie(vl(t)),r=or(tu(t));return Wi(n,r)}return Ie.runKernelFunc(function(a){return a.onesLike(t)},{$x:t},function(a,i){return{$x:function(){return or(a)}}})}}),or=Pe({zerosLike_:function(e){var t=xe(e,"x","zerosLike");return Ie.runKernelFunc(function(n){return n.zerosLike(t)},{$x:t},function(n,r){return{$x:function(){return or(n)}}})}}),hi=Pe({concat_:function(e,t){t===void 0&&(t=0),_e(e.length>=1,function(){return"Pass at least one tensor to concat"});var n=yE(e,"tensors","concat");n[0].dtype==="complex64"&&n.forEach(function(s){if(s.dtype!=="complex64")throw new Error(`Cannot concatenate complex64 tensors with a tensor
          with dtype `+s.dtype+". ")}),t=vi(t,n[0].shape)[0];var r=i0(n.map(function(s){return s.shape}),t);if(un(r)===0)return Gi([],r);if((n=n.filter(function(s){return s.size>0})).length===1)return n[0];var a=n.map(function(s){return s.shape});BOe(a,t);var i=n,o={axis:t};return Ie.runKernelFunc(function(s){return s.concat(n,t)},i,function(s){var l=a.map(function(u){return u[t]});return b5(s,l,t).map(function(u){return function(){return u}})},"Concat",o)}}),HOe=Pe({concat1d_:function(e){return hi(e,0)}}),qOe=Pe({concat2d_:function(e,t){return hi(e,t)}}),GOe=Pe({concat3d_:function(e,t){return hi(e,t)}}),YOe=Pe({concat4d_:function(e,t){return hi(e,t)}}),b5=Pe({split_:function(e,t,n){n===void 0&&(n=0);var r,a=xe(e,"x","split");return n=vi(n,a.shape)[0],typeof t=="number"?(_e(a.shape[n]%t==0,function(){return"Number of splits must evenly divide the axis."}),r=new Array(t).fill(a.shape[n]/t)):(_e(a.shape[n]===t.reduce(function(i,o){return i+o}),function(){return"The sum of sizes must match the size of the axis dimension."}),r=t),Ie.runKernelFunc(function(i){return i.split(a,r,n)},{$x:a},function(i){return{$x:function(){return hi(i,n)}}})}});function Om(e,t){return e(t={exports:{}},t.exports),t.exports}var KOe=Om(function(e){(function(t,n,r){function a(s){var l,u=this,d=(l=4022871197,function(f){f=f.toString();for(var h=0;h<f.length;h++){var p=.02519603282416938*(l+=f.charCodeAt(h));p-=l=p>>>0,l=(p*=l)>>>0,l+=4294967296*(p-=l)}return 23283064365386963e-26*(l>>>0)});u.next=function(){var f=2091639*u.s0+23283064365386963e-26*u.c;return u.s0=u.s1,u.s1=u.s2,u.s2=f-(u.c=0|f)},u.c=1,u.s0=d(" "),u.s1=d(" "),u.s2=d(" "),u.s0-=d(s),u.s0<0&&(u.s0+=1),u.s1-=d(s),u.s1<0&&(u.s1+=1),u.s2-=d(s),u.s2<0&&(u.s2+=1),d=null}function i(s,l){return l.c=s.c,l.s0=s.s0,l.s1=s.s1,l.s2=s.s2,l}function o(s,l){var u=new a(s),d=l&&l.state,f=u.next;return f.int32=function(){return 4294967296*u.next()|0},f.double=function(){return f()+11102230246251565e-32*(2097152*f()|0)},f.quick=f,d&&(typeof d=="object"&&i(d,u),f.state=function(){return i(u,{})}),f}n&&n.exports?n.exports=o:this.alea=o})(0,e)}),XOe=Om(function(e){(function(t,n,r){function a(s){var l=this,u="";l.x=0,l.y=0,l.z=0,l.w=0,l.next=function(){var f=l.x^l.x<<11;return l.x=l.y,l.y=l.z,l.z=l.w,l.w^=l.w>>>19^f^f>>>8},s===(0|s)?l.x=s:u+=s;for(var d=0;d<u.length+64;d++)l.x^=0|u.charCodeAt(d),l.next()}function i(s,l){return l.x=s.x,l.y=s.y,l.z=s.z,l.w=s.w,l}function o(s,l){var u=new a(s),d=l&&l.state,f=function(){return(u.next()>>>0)/4294967296};return f.double=function(){do var h=((u.next()>>>11)+(u.next()>>>0)/4294967296)/2097152;while(h===0);return h},f.int32=u.next,f.quick=f,d&&(typeof d=="object"&&i(d,u),f.state=function(){return i(u,{})}),f}n&&n.exports?n.exports=o:this.xor128=o})(0,e)}),ZOe=Om(function(e){(function(t,n,r){function a(s){var l=this,u="";l.next=function(){var f=l.x^l.x>>>2;return l.x=l.y,l.y=l.z,l.z=l.w,l.w=l.v,(l.d=l.d+362437|0)+(l.v=l.v^l.v<<4^f^f<<1)|0},l.x=0,l.y=0,l.z=0,l.w=0,l.v=0,s===(0|s)?l.x=s:u+=s;for(var d=0;d<u.length+64;d++)l.x^=0|u.charCodeAt(d),d==u.length&&(l.d=l.x<<10^l.x>>>4),l.next()}function i(s,l){return l.x=s.x,l.y=s.y,l.z=s.z,l.w=s.w,l.v=s.v,l.d=s.d,l}function o(s,l){var u=new a(s),d=l&&l.state,f=function(){return(u.next()>>>0)/4294967296};return f.double=function(){do var h=((u.next()>>>11)+(u.next()>>>0)/4294967296)/2097152;while(h===0);return h},f.int32=u.next,f.quick=f,d&&(typeof d=="object"&&i(d,u),f.state=function(){return i(u,{})}),f}n&&n.exports?n.exports=o:this.xorwow=o})(0,e)}),QOe=Om(function(e){(function(t,n,r){function a(s){var l=this;l.next=function(){var u,d,f=l.x,h=l.i;return u=f[h],d=(u^=u>>>7)^u<<24,d^=(u=f[h+1&7])^u>>>10,d^=(u=f[h+3&7])^u>>>3,d^=(u=f[h+4&7])^u<<7,u=f[h+7&7],d^=(u^=u<<13)^u<<9,f[h]=d,l.i=h+1&7,d},function(u,d){var f,h=[];if(d===(0|d))h[0]=d;else for(d=""+d,f=0;f<d.length;++f)h[7&f]=h[7&f]<<15^d.charCodeAt(f)+h[f+1&7]<<13;for(;h.length<8;)h.push(0);for(f=0;f<8&&h[f]===0;++f);for(f==8?h[7]=-1:h[f],u.x=h,u.i=0,f=256;f>0;--f)u.next()}(l,s)}function i(s,l){return l.x=s.x.slice(),l.i=s.i,l}function o(s,l){s==null&&(s=+new Date);var u=new a(s),d=l&&l.state,f=function(){return(u.next()>>>0)/4294967296};return f.double=function(){do var h=((u.next()>>>11)+(u.next()>>>0)/4294967296)/2097152;while(h===0);return h},f.int32=u.next,f.quick=f,d&&(d.x&&i(d,u),f.state=function(){return i(u,{})}),f}n&&n.exports?n.exports=o:this.xorshift7=o})(0,e)}),JOe=Om(function(e){(function(t,n,r){function a(s){var l=this;l.next=function(){var u,d,f=l.w,h=l.X,p=l.i;return l.w=f=f+1640531527|0,d=h[p+34&127],u=h[p=p+1&127],d^=d<<13,u^=u<<17,d^=d>>>15,u^=u>>>12,d=h[p]=d^u,l.i=p,d+(f^f>>>16)|0},function(u,d){var f,h,p,m,g,y=[],x=128;for(d===(0|d)?(h=d,d=null):(d+="\0",h=0,x=Math.max(x,d.length)),p=0,m=-32;m<x;++m)d&&(h^=d.charCodeAt((m+32)%d.length)),m===0&&(g=h),h^=h<<10,h^=h>>>15,h^=h<<4,h^=h>>>13,m>=0&&(g=g+1640531527|0,p=(f=y[127&m]^=h+g)==0?p+1:0);for(p>=128&&(y[127&(d&&d.length||0)]=-1),p=127,m=512;m>0;--m)h=y[p+34&127],f=y[p=p+1&127],h^=h<<13,f^=f<<17,h^=h>>>15,f^=f>>>12,y[p]=h^f;u.w=g,u.X=y,u.i=p}(l,s)}function i(s,l){return l.i=s.i,l.w=s.w,l.X=s.X.slice(),l}function o(s,l){s==null&&(s=+new Date);var u=new a(s),d=l&&l.state,f=function(){return(u.next()>>>0)/4294967296};return f.double=function(){do var h=((u.next()>>>11)+(u.next()>>>0)/4294967296)/2097152;while(h===0);return h},f.int32=u.next,f.quick=f,d&&(d.X&&i(d,u),f.state=function(){return i(u,{})}),f}n&&n.exports?n.exports=o:this.xor4096=o})(0,e)}),e3e=Om(function(e){(function(t,n,r){function a(s){var l=this,u="";l.next=function(){var f=l.b,h=l.c,p=l.d,m=l.a;return f=f<<25^f>>>7^h,h=h-p|0,p=p<<24^p>>>8^m,m=m-f|0,l.b=f=f<<20^f>>>12^h,l.c=h=h-p|0,l.d=p<<16^h>>>16^m,l.a=m-f|0},l.a=0,l.b=0,l.c=-1640531527,l.d=1367130551,s===Math.floor(s)?(l.a=s/4294967296|0,l.b=0|s):u+=s;for(var d=0;d<u.length+20;d++)l.b^=0|u.charCodeAt(d),l.next()}function i(s,l){return l.a=s.a,l.b=s.b,l.c=s.c,l.d=s.d,l}function o(s,l){var u=new a(s),d=l&&l.state,f=function(){return(u.next()>>>0)/4294967296};return f.double=function(){do var h=((u.next()>>>11)+(u.next()>>>0)/4294967296)/2097152;while(h===0);return h},f.int32=u.next,f.quick=f,d&&(typeof d=="object"&&i(d,u),f.state=function(){return i(u,{})}),f}n&&n.exports?n.exports=o:this.tychei=o})(0,e)}),lp=Om(function(e){(function(t,n){var r,a=this,i=256,o=6,s="random",l=n.pow(i,o),u=n.pow(2,52),d=2*u,f=i-1;function h(x,b,w){var _=[],S=g(function P(T,j){var D,M=[],R=typeof T;if(j&&R=="object")for(D in T)try{M.push(P(T[D],j-1))}catch{}return M.length?M:R=="string"?T:T+"\0"}((b=b==1?{entropy:!0}:b||{}).entropy?[x,y(t)]:x??function(){try{var P;return r&&(P=r.randomBytes)?P=P(i):(P=new Uint8Array(i),(a.crypto||a.msCrypto).getRandomValues(P)),y(P)}catch{var T=a.navigator,j=T&&T.plugins;return[+new Date,a,j,a.screen,y(t)]}}(),3),_),k=new p(_),N=function(){for(var P=k.g(o),T=l,j=0;P<u;)P=(P+j)*i,T*=i,j=k.g(1);for(;P>=d;)P/=2,T/=2,j>>>=1;return(P+j)/T};return N.int32=function(){return 0|k.g(4)},N.quick=function(){return k.g(4)/4294967296},N.double=N,g(y(k.S),t),(b.pass||w||function(P,T,j,D){return D&&(D.S&&m(D,k),P.state=function(){return m(k,{})}),j?(n[s]=P,T):P})(N,S,"global"in b?b.global:this==n,b.state)}function p(x){var b,w=x.length,_=this,S=0,k=_.i=_.j=0,N=_.S=[];for(w||(x=[w++]);S<i;)N[S]=S++;for(S=0;S<i;S++)N[S]=N[k=f&k+x[S%w]+(b=N[S])],N[k]=b;(_.g=function(P){for(var T,j=0,D=_.i,M=_.j,R=_.S;P--;)T=R[D=f&D+1],j=j*i+R[f&(R[D]=R[M=f&M+T])+(R[M]=T)];return _.i=D,_.j=M,j})(i)}function m(x,b){return b.i=x.i,b.j=x.j,b.S=x.S.slice(),b}function g(x,b){for(var w,_=x+"",S=0;S<_.length;)b[f&S]=f&(w^=19*b[f&S])+_.charCodeAt(S++);return y(b)}function y(x){return String.fromCharCode.apply(0,x)}if(n["seed"+s]=h,g(n.random(),t),e.exports){e.exports=h;try{r=require("crypto")}catch{}}})([],Math)});lp.alea=KOe,lp.xor128=XOe,lp.xorwow=ZOe,lp.xorshift7=QOe,lp.xor4096=JOe,lp.tychei=e3e;var Vj=lp.alea,w5=function(){function e(t,n,r,a,i){this.mean=t,this.stdDev=n,this.dtype=r,this.nextVal=NaN,this.truncated=a,this.truncated&&(this.upper=this.mean+2*this.stdDev,this.lower=this.mean-2*this.stdDev);var o=i||Math.random();this.random=Vj(o.toString())}return e.prototype.nextValue=function(){if(!isNaN(this.nextVal)){var t=this.nextVal;return this.nextVal=NaN,t}for(var n,r,a=!1;!a;){var i=void 0,o=void 0,s=void 0;do s=(i=2*this.random()-1)*i+(o=2*this.random()-1)*o;while(s>=1||s===0);var l=Math.sqrt(-2*Math.log(s)/s);n=this.mean+this.stdDev*i*l,r=this.mean+this.stdDev*o*l,this.truncated&&!this.isValidTruncated(n)||(a=!0)}return this.truncated&&!this.isValidTruncated(r)||(this.nextVal=this.convertValue(r)),this.convertValue(n)},e.prototype.convertValue=function(t){return this.dtype==null||this.dtype==="float32"?t:Math.round(t)},e.prototype.isValidTruncated=function(t){return t<=this.upper&&t>=this.lower},e}(),t3e=function(){function e(t,n,r,a){this.alpha=t,this.beta=1/n,this.dtype=r;var i=a||Math.random();this.randu=Vj(i.toString()),this.randn=new w5(0,1,r,!1,this.randu()),this.d=t<1?t+2/3:t-1/3,this.c=1/Math.sqrt(9*this.d)}return e.prototype.nextValue=function(){for(var t,n,r,a,i,o;;){do a=this.randn.nextValue(),o=1+this.c*a;while(o<=0);if(o*=o*o,n=1-.331*(t=a*a)*t,r=.5*t+this.d*(1-o+Math.log(o)),(i=this.randu())<n||Math.log(i)<r)break}return o=1/this.beta*this.d*o,this.alpha<1&&(o*=Math.pow(this.randu(),1/this.alpha)),this.convertValue(o)},e.prototype.convertValue=function(t){return this.dtype==="float32"?t:Math.round(t)},e}(),n3e=function(){function e(t,n,r,a){var i=this;if(t===void 0&&(t=0),n===void 0&&(n=1),this.canReturnFloat=function(){return i.dtype==null||i.dtype==="float32"},this.min=t,this.range=n-t,this.dtype=r,a==null&&(a=Math.random()),typeof a=="number"&&(a=a.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error("The difference between "+t+" - "+n+" <= 1 and dtype is not float");this.random=Vj(a)}return e.prototype.convertValue=function(t){return this.canReturnFloat()?t:Math.round(t)},e.prototype.nextValue=function(){return this.convertValue(this.min+this.range*this.random())},e}();function Pn(e,t,n){return t===void 0&&(t="float32"),t=t||"float32",nie(e),new wb(e,t,n)}function r3e(e,t){t===void 0&&(t=!1),console.log(e.toString(t))}var uie=Pe({batchToSpaceND_:function(e,t,n){var r=xe(e,"x","batchToSpaceND"),a=t.reduce(function(i,o){return i*o});return _e(r.rank>=1+t.length,function(){return"input rank is "+r.rank+" but should be > than blockShape.length "+t.length}),_e(n.length===t.length,function(){return"crops.length is "+n.length+" but should be equal to blockShape.length  "+t.length}),_e(r.shape[0]%a==0,function(){return"input tensor batch is "+r.shape[0]+" but is not divisible by the product of the elements of blockShape "+t.join(" * ")+" === "+a}),Ie.runKernelFunc(function(i){return i.batchToSpaceND(r,t,n)},{$x:r},function(i){return{$x:function(){return i.spaceToBatchND(t,n)}}})}}),a3e=Pe({broadcastTo_:function(e,t){var n=xe(e,"broadcastTo","x"),r=n.shape;if(t.some(function(l){return!(l>0)||l%1!=0}))throw new Error("broadcastTo(): Invalid broadcast shape ["+t+"].");if(t.length<n.rank)throw new Error("broadcastTo(): shape.length="+t.length+" < input.rank="+n.rank+".");if(t.length>n.rank){for(var a=n.shape.slice();a.length<t.length;)a.unshift(1);n=n.reshape(a)}for(var i=Array.from(t),o=t.length-1;o>=0;o--)if(n.shape[o]===t[o])i[o]=1;else if(n.shape[o]!==1)throw new Error("broadcastTo(): ["+r+"] cannot be broadcast to ["+t+"].");var s=i.map(function(l,u){return l>1?u:-1}).filter(function(l){return l>=0});return s.length===0?n.clone():Ie.runKernelFunc(function(l){return l.tile(n,i)},{input:n},function(l){return{input:function(){return l.sum(s,!0)}}})}}),i3e=Pe({cast_:function(e,t){var n=xe(e,"x","cast");if(!ZDe(t))throw new Error("Failed to cast to unknown dtype "+t);if(t==="string"&&n.dtype!=="string"||t!=="string"&&n.dtype==="string")throw new Error("Only strings can be casted to strings");var r={dtype:t};return Ie.runKernelFunc(function(a){return a.cast(n,t)},{x:n},function(a){return{x:function(){return a.clone()}}},"Cast",r)}}),o3e=Pe({clone_:function(e){var t=xe(e,"x","clone",null);return Ie.runKernelFunc(function(){return Ie.makeTensorFromDataId(t.dataId,t.shape,t.dtype)},{$x:t},function(n){return{$x:function(){return n.toFloat()}}})}}),s3e=Pe({cumsum_:function(e,t,n,r){t===void 0&&(t=0),n===void 0&&(n=!1),r===void 0&&(r=!1);var a=xe(e,"x","cumsum"),i=Mu([t|=0],a.rank),o=a;i!=null&&(o=a.transpose(i));var s=Iu(1,a.rank)[0],l=Ie.runKernelFunc(function(u){return u.cumsum(o,s,n,r)},{permutedX:o},function(u){return{permutedX:function(){return u.cumsum(t,n,!r)}}});return i!=null&&(l=l.transpose(i)),l}}),l3e=Pe({depthToSpace_:function(e,t,n){n===void 0&&(n="NHWC");var r=xe(e,"x","depthToSpace"),a=n==="NHWC"?r.shape[1]:r.shape[2],i=n==="NHWC"?r.shape[2]:r.shape[3],o=n==="NHWC"?r.shape[3]:r.shape[1];return _e(a*t>=0,function(){return`Negative dimension size caused by overflow when multiplying
      `+a+" and "+t+`  for depthToSpace with input shape
      `+r.shape}),_e(i*t>=0,function(){return`Negative dimension size caused by overflow when multiplying
      `+i+" and "+t+` for depthToSpace with input shape
          `+r.shape}),_e(o%(t*t)==0,function(){return"Dimension size must be evenly divisible by "+t*t+" but is "+o+" for depthToSpace with input shape "+r.shape}),Ie.runKernelFunc(function(s){return s.depthToSpace(r,t,n)},{$x:r})}}),gl=Pe({expandDims_:function(e,t){t===void 0&&(t=0);var n=xe(e,"x","expandDims",null);_e(t<=n.rank,function(){return"Axis must be <= rank of the tensor"});var r=n.shape.slice();return t<0&&(_e(-(n.rank+1)<=t,function(){return"Axis must be in the interval ["+-(n.rank+1)+", "+n.rank+"]"}),t=n.rank+t+1),r.splice(t,0,1),cc(n,r)}}),die=Pe({eye_:function(e,t,n,r){r===void 0&&(r="float32"),t==null&&(t=e);for(var a=Pn([e,t],r),i=e<=t?e:t,o=0;o<i;++o)a.set(1,o,o);var s=a.toTensor().as2D(e,t);if(n==null)return s;if(n.length===1)return mv(gl(s,0),[n[0],1,1]);if(n.length===2)return mv(gl(gl(s,0),0),[n[0],n[1],1,1]);if(n.length===3)return mv(gl(gl(gl(s,0),0),0),[n[0],n[1],n[2],1,1]);throw new Error("eye() currently supports only 1D and 2D batchShapes, but received "+n.length+"D.")}}),c3e=Pe({multinomial_:function(e,t,n,r){r===void 0&&(r=!1);var a=xe(e,"logits","multinomial"),i=a.size,o=a.rank;if(i<2)throw new Error("Error in multinomial: you need at least 2 outcomes, but got "+i+".");if(o>2)throw new Error("Rank of probabilities must be 1 or 2, but is "+o);n=n||Math.random();var s=o===1?a.as2D(1,-1):a,l=Ie.runKernelFunc(function(u){return u.multinomial(s,r,t,n)},{logits2D:s});return o===1?l.as1D():l}}),iM=Pe({oneHot_:function(e,t,n,r){if(n===void 0&&(n=1),r===void 0&&(r=0),t<2)throw new Error("Error in oneHot: depth must be >=2, but it is "+t);var a=xe(e,"indices","oneHot","int32"),i=a.shape.concat([t]);return a=a.flatten(),Ie.runKernelFunc(function(o){return o.oneHot(a,t,n,r)},{$indices:a},function(o){return{$indices:function(){return ta(a.shape,"float32")}}}).reshape(i)}}),Mm=Pe({pad_:function(e,t,n){n===void 0&&(n=0);var r=xe(e,"x","pad");if(r.rank===0)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");var a={paddings:t,constantValue:n};return Ie.runKernelFunc(function(i){return i.pad(r,t,n)},{x:r},function(i){var o=t.map(function(s){return s[0]});return{x:function(){return i.slice(o,r.shape)}}},"PadV2",a)}}),u3e=Pe({pad1d_:function(e,t,n){return n===void 0&&(n=0),_e(t.length===2,function(){return"Invalid number of paddings. Must be length of 2."}),Mm(e,[t],n)}}),d3e=Pe({pad2d_:function(e,t,n){return n===void 0&&(n=0),_e(t.length===2&&t[0].length===2&&t[1].length===2,function(){return"Invalid number of paddings. Must be length of 2 each."}),Mm(e,t,n)}}),f3e=Pe({pad3d_:function(e,t,n){return n===void 0&&(n=0),_e(t.length===3&&t[0].length===2&&t[1].length===2&&t[2].length===2,function(){return"Invalid number of paddings. Must be length of 2 each."}),Mm(e,t,n)}}),h3e=Pe({pad4d_:function(e,t,n){return n===void 0&&(n=0),_e(t.length===4&&t[0].length===2&&t[1].length===2&&t[2].length===2&&t[3].length===2,function(){return"Invalid number of paddings. Must be length of 2 each."}),Mm(e,t,n)}}),p3e=Pe({rand_:function(e,t,n){var r=un(e),a=null;if(n==null||n==="float32")a=new Float32Array(r);else if(n==="int32")a=new Int32Array(r);else{if(n!=="bool")throw new Error("Unknown data type "+n);a=new Uint8Array(r)}for(var i=0;i<r;i++)a[i]=t();return Ie.makeTensor(a,e,n)}}),m3e=Pe({randomNormal_:function(e,t,n,r,a){if(t===void 0&&(t=0),n===void 0&&(n=1),r!=null&&r==="bool")throw new Error("Unsupported data type "+r);for(var i=new w5(t,n,r,!1,a),o=Pn(e,r),s=0;s<o.values.length;s++)o.values[s]=i.nextValue();return o.toTensor()}}),g3e=Pe({randomGamma_:function(e,t,n,r,a){if(n===void 0&&(n=1),r===void 0&&(r="float32"),n==null&&(n=1),r==null&&(r="float32"),r!=="float32"&&r!=="int32")throw new Error("Unsupported data type "+r);for(var i=new t3e(t,n,r,a),o=Pn(e,r),s=0;s<o.values.length;s++)o.values[s]=i.nextValue();return o.toTensor()}}),fie=Pe({randomUniform_:function(e,t,n,r,a){t===void 0&&(t=0),n===void 0&&(n=1),r===void 0&&(r="float32");for(var i=Pn(e,r),o=new n3e(t,n,null,a),s=0;s<i.values.length;s++)i.values[s]=o.nextValue();return i.toTensor()}}),cc=Pe({reshape_:function(e,t){var n=xe(e,"x","reshape",null);t=KDe(t,n.size),_e(n.size===un(t),function(){return"new shape and old shape must have the same number of elements."});var r={shape:t};return Ie.runKernelFunc(function(a){return a.reshape(n,t)},{x:n},function(a){return{x:function(){return a.reshape(n.shape)}}},"Reshape",r)}}),hie=Pe({spaceToBatchND_:function(e,t,n){var r=xe(e,"x","spaceToBatchND");return _e(r.rank>=1+t.length,function(){return"input rank "+r.rank+" should be > than [blockShape] "+t.length}),_e(n.length===t.length,function(){return"paddings.shape[0] "+n.length+" must be equal to [blockShape] "+t.length}),_e(r.shape.reduce(function(a,i,o){return o>0&&o<=t.length?a&&(i+n[o-1][0]+n[o-1][1])%t[o-1]==0:a},!0),function(){return"input spatial dimensions "+r.shape.slice(1)+" with paddings "+n.toString()+" must be divisible by blockShapes "+t.toString()}),Ie.runKernelFunc(function(a){return a.spaceToBatchND(r,t,n)},{$x:r},function(a){return{$x:function(){return a.batchToSpaceND(t,n)}}})}}),pie=Pe({squeeze_:function(e,t){var n=xe(e,"x","squeeze");return cc(n,yp(n.shape,t).newShape)}}),Fs=Pe({stack_:function(e,t){t===void 0&&(t=0);var n=yE(e,"tensors","stack");if(_e(n.length>=1,function(){return"Pass at least one tensor to tf.stack"}),n.length===1)return n[0].expandDims(t);var r=n[0].rank,a=n[0].shape,i=n[0].dtype;_e(t<=r,function(){return"Axis must be <= rank of the tensor"}),n.forEach(function(s){wr(a,s.shape,"All tensors passed to stack must have matching shapes")}),n.forEach(function(s){_e(i===s.dtype,function(){return"All tensors passed to stack must have matching dtypes"})});var o=n.map(function(s){return s.expandDims(t)});return hi(o,t)}}),mv=Pe({tile_:function(e,t){var n=xe(e,"x","tile",null);_e(n.rank===t.length,function(){return"Error in transpose: rank of input "+n.rank+" must match length of reps "+t+"."});var r=[n],a={reps:t};return Ie.runKernelFunc(function(i,o){var s=i.tile(n,t);return o([n]),s},{x:n},function(i,o){var s=o[0];return{x:function(){var l=or(s);if(s.rank===1)for(var u=0;u<t[0];++u)l=l.add(i.slice([u*s.shape[0]],[s.shape[0]]));else if(s.rank===2)for(u=0;u<t[0];++u)for(var d=0;d<t[1];++d)l=l.add(i.slice([u*s.shape[0],d*s.shape[1]],[s.shape[0],s.shape[1]]));else if(s.rank===3)for(u=0;u<t[0];++u)for(d=0;d<t[1];++d)for(var f=0;f<t[2];++f)l=l.add(i.slice([u*s.shape[0],d*s.shape[1],f*s.shape[2]],[s.shape[0],s.shape[1],s.shape[2]]));else{if(s.rank!==4)throw new Error("Gradient for tile operation is not implemented for rank-"+s.rank+" tensors yet.");for(u=0;u<t[0];++u)for(d=0;d<t[1];++d)for(f=0;f<t[2];++f)for(var h=0;h<t[3];++h)l=l.add(i.slice([u*s.shape[0],d*s.shape[1],f*s.shape[2],h*s.shape[3]],[s.shape[0],s.shape[1],s.shape[2],s.shape[3]]))}return l}}},"Tile",a,r)}}),v3e=Pe({truncatedNormal_:function(e,t,n,r,a){if(t===void 0&&(t=0),n===void 0&&(n=1),r!=null&&r==="bool")throw new Error("Unsupported data type "+r);for(var i=new w5(t,n,r,!0,a),o=Pn(e,r),s=0;s<o.values.length;s++)o.values[s]=i.nextValue();return o.toTensor()}}),pi=Pe({unstack_:function(e,t){t===void 0&&(t=0),t=t||0;var n=xe(e,"x","unstack");_e(t>=-n.shape.length&&t<n.shape.length,function(){return"Axis = "+t+" is not in [-"+n.shape.length+", "+n.shape.length+")"}),t<0&&(t+=n.shape.length);var r={axis:t};return Ie.runKernelFunc(function(a){return a.unstack(n,t)},{x:n},function(a){return{x:function(){return Fs(a,t)}}},"Unpack",r)}}),y3e=function(e,t){return an(this,void 0,void 0,function(){var n,r,a,i,o,s,l,u,d,f;return on(this,function(h){switch(h.label){case 0:return n=xe(e,"x","setdiff1d"),r=xe(t,"y","setdiff1d"),_e(n.dtype===r.dtype,function(){return"x and y should have the same dtype, but got x ("+n.dtype+") and y ("+r.dtype+")."}),_e(n.rank===1,function(){return"x should be 1D tensor, but got x ("+n.shape+")."}),_e(r.rank===1,function(){return"y should be 1D tensor, but got y ("+r.shape+")."}),[4,n.data()];case 1:return a=h.sent(),[4,r.data()];case 2:for(i=h.sent(),o=new Set(i),s=0,d=0;d<a.length;d++)o.has(a[d])||s++;for(l=new wb([s],n.dtype),u=new wb([s],"int32"),d=0,f=0;d<a.length;d++)o.has(a[d])||(l.values[f]=a[d],u.values[f]=d,f++);return[2,[l.toTensor(),u.toTensor()]]}})})};function bE(e,t,n,r){r===void 0&&(r=!0);var a=[];if(r)(a=a.concat(t.slice(0))).push(e[0]/n),a=a.concat(e.slice(1));else{a=a.concat(e[0]);for(var i=t.length,o=0;o<i;++o)a=a.concat([e[o+1]/t[o],t[o]]);a=a.concat(e.slice(i+1))}return a}function wE(e,t,n){n===void 0&&(n=!0);var r=[];if(n){r.push(t);for(var a=t+1;a<e;++a)a<=2*t?(r.push(a),r.push(a-(t+1))):r.push(a)}else{var i=[],o=[];for(a=1;a<e;++a)a>=2*t+1||a%2==1?o.push(a):i.push(a);r.push.apply(r,i),r.push(0),r.push.apply(r,o)}return r}function _E(e,t,n,r){r===void 0&&(r=!0);var a=[];r?a.push(e[0]/n):a.push(e[0]*n);for(var i=1;i<e.length;++i)i<=t.length?r?a.push(t[i-1]*e[i]):a.push(e[i]/t[i-1]):a.push(e[i]);return a}function mie(e,t){for(var n=[0],r=0;r<t;++r)n.push(e[r][0]);return n}function gie(e,t,n){for(var r=e.slice(0,1),a=0;a<n;++a)r.push(e[a+1]-t[a][0]-t[a][1]);return r}function vie(e,t){if(e.rank<1)throw new Error("tf.gatherND() expects the input to be rank 1 or higher, but the rank was "+e.rank+".");if(t.rank<1)throw new Error("tf.gatherND() expects the indices to be rank 1 or higher, but the rank was "+t.rank+".");if(t.dtype!=="int32")throw new Error("tf.gatherND() expects the indices to be int32 type, but the dtype was "+t.dtype+".");if(t.shape[t.rank-1]>e.rank)throw new Error("index innermost dimension length must be <= tensor rank; saw: "+t.shape[t.rank-1]+" vs. "+e.rank);if(e.size===0)throw new Error("Requested more than 0 entries, but input is empty. Input shape: "+e.shape+".");for(var n=t.shape,r=n[n.length-1],a=1,i=0;i<n.length-1;++i)a*=n[i];var o=e.shape,s=n.slice();s.pop();var l=1;for(i=r;i<e.rank;++i)l*=o[i],s.push(o[i]);var u=vu(e.shape).map(function(d){return d/l}).concat([1]).slice(0,r);return[s,a,l,u]}var yie=30;function p4(e){return e<=yie?e:J3(e,Math.floor(Math.sqrt(e)))}function x3e(e,t,n){var r=t.rank>1?t.shape[t.rank-1]:1,a=t.rank>1?t.rank-1:1,i="Must have updates.shape = indices.shape[:batchDim] + shape[sliceDim:], got updates.shape: "+n.shape+", indices.shape: "+t.shape+", shape: "+e+", sliceDim: "+r+", and batchDim: "+a+".";if(n.rank<a)throw new Error(i+" update.rank < "+a+". ");if(e.length<r+(n.rank-a))throw new Error(i+" Output shape length < "+(r+(n.rank-a)));if(n.rank!==a+e.length-r)throw new Error(i+" update.rank != "+(a+e.length-r));for(var o=0;o<a;++o)if(n.shape[o]!==t.shape[o])throw new Error(i+" updates.shape["+o+"] ("+n.shape[o]+") != indices.shape["+o+"] ("+t.shape[o]+").");for(o=0;o<n.rank-a;++o)if(n.shape[o+a]!==e[o+r])throw new Error(i+" updates.shape["+(o+a)+"] ("+n.shape[o+a]+") != shape["+(o+a)+"] ("+e[o+a]+")")}function b3e(e,t,n){if(t.rank<1)throw new Error("tf.scatterND() expects the indices to be rank 1 or higher, but the rank was "+t.rank+".");if(e.rank<1)throw new Error("tf.scatterND() expects the updates to be rank 1 or higher, but the rank was "+e.rank+".");if(t.dtype!=="int32")throw new Error("The dtype of 'indices' should be int32, but got dtype: "+t.dtype);if(n.length<1)throw new Error("Output rank must be greater or equal to 1, but got shape: "+n);if(n.length===0){if(t.size===0)throw new Error("Indices specified for empty output. indices shape: "+t.shape);if(e.size===0)throw new Error("Updates specified for empty output. updates shape: "+e.shape)}x3e(n,t,e)}function SE(e,t,n){for(var r=t.shape.length,a=r>1?t.shape[r-1]:1,i=n.length,o=1,s=a;s<i;++s)o*=n[s];var l=a<1?1:a;return{sliceRank:a,numUpdates:un(t.shape)/l,sliceSize:o,strides:vu(n.slice(0,a)).concat([1]),outputSize:un(n)}}function w3e(e,t,n){_e(e.rank===t.length,function(){return"Error in slice"+e.rank+"D: Length of begin "+t+" must match the rank of the array ("+e.rank+")."}),_e(e.rank===n.length,function(){return"Error in slice"+e.rank+"D: Length of size "+n+" must match the rank of the array ("+e.rank+")."});for(var r=function(i){_e(t[i]+n[i]<=e.shape[i],function(){return"Error in slice"+e.rank+"D: begin["+i+"] + size["+i+"] ("+(t[i]+n[i])+") would overflow input.shape["+i+"] ("+e.shape[i]+")"})},a=0;a<e.rank;++a)r(a)}function DW(e){for(var t=[],n=0;e>0;)1&e&&t.push(n),e/=2,n++;return t}function _5(e,t,n){for(var r=[],a=0;a<e.length;a++)r[a]=Math.ceil((t[a]-e[a])/n[a]);return r}function _3e(e,t,n,r,a){var i=t[a],o=n[a]||1;(e&1<<a||i==null)&&(i=o>0?Number.MIN_SAFE_INTEGER:Number.MAX_SAFE_INTEGER);var s=r[a];return i<0&&(i+=s),i=X3(0,i,s-1)}function S3e(e,t,n,r,a){var i=t[a],o=n[a]||1;(e&1<<a||i==null)&&(i=o>0?Number.MAX_SAFE_INTEGER:Number.MIN_SAFE_INTEGER);var s=r[a];return i<0&&(i+=s),i=o>0?X3(0,i,s):X3(-1,i,s-1)}function xie(e,t,n){for(var r=n.length,a=0;a<n.length;a++)if(n[a]>1){r=a;break}for(a=r+1;a<n.length;a++)if(t[a]>0||n[a]!==e[a])return!1;return!0}function bie(e,t){for(var n=e.length>0?e[e.length-1]:1,r=0;r<e.length-1;r++)n+=e[r]*t[r];return n}function C3e(e,t){_e(Q3(e),function(){return"The f passed in variableGrads(f) must be a function"}),_e(t==null||Array.isArray(t)&&t.every(function(d){return d instanceof a0}),function(){return"The varList passed in variableGrads(f, varList) must be an array of variables"});var n=t!=null;if(!n)for(var r in t=[],Ie.registeredVariables)t.push(Ie.registeredVariables[r]);var a=n?t.filter(function(d){return!d.trainable}):null,i=t.length;_e((t=t.filter(function(d){return d.trainable})).length>0,function(){return"variableGrads() expects at least one of the input variables to be trainable, but none of the "+i+" variables is trainable."});var o=Ie.gradients(e,t,null,!0),s=o.value,l=o.grads;_e(l.some(function(d){return d!=null}),function(){return"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize()."}),_e(s.rank===0,function(){return"The f passed in variableGrads(f) must return a scalar, but it returned a rank-"+s.rank+" tensor"});var u={};return t.forEach(function(d,f){l[f]!=null&&(u[d.name]=l[f])}),a!=null&&a.forEach(function(d){return u[d.name]=null}),{value:s,grads:u}}function Hj(e){return Ie.customGrad(e)}var Ud=Pe({softmax_:function(e,t){t===void 0&&(t=-1);var n=xe(e,"logits","softmax","float32");if(t===-1&&(t=n.rank-1),t!==n.rank-1)throw Error("Softmax along a non-last dimension is not yet supported. Logits was rank "+n.rank+" and dim was "+t);return Ie.runKernelFunc(function(r,a){var i=r.softmax(n,t);return a([i]),i},{logits:n},function(r,a){var i=a[0],o=r.mul(i);return{logits:function(){return o.sub(o.sum([t],!0).mul(i))}}},"Softmax",{dim:t},[],[!0])}}),E3e=Pe({logSoftmax_:function(e,t){t===void 0&&(t=-1);var n=xe(e,"logits","logSoftmax");if(t===-1&&(t=n.rank-1),t!==n.rank-1)throw Error("Log Softmax along a non-last dimension is not yet supported. Logits was rank "+n.rank+" and axis was "+t);return Hj(function(r,a){var i=r.max(t,!0),o=r.sub(i),s=o.toFloat().sub(o.exp().sum(t,!0).log());return a([s]),{value:s,gradFunc:function(l,u){var d=u[0].exp();return l.sub(l.sum(t,!0).mul(d))}}})(n)}}),wie=function(){function e(t,n){this.backend=t,this.dataMover=n,this.data=new WeakMap,this.dataIdsCount=0}return e.prototype.get=function(t){return this.data.has(t)||this.dataMover.moveData(this.backend,t),this.data.get(t)},e.prototype.set=function(t,n){this.dataIdsCount++,this.data.set(t,n)},e.prototype.has=function(t){return this.data.has(t)},e.prototype.delete=function(t){return this.dataIdsCount--,this.data.delete(t)},e.prototype.numDataIds=function(){return this.dataIdsCount},e}(),_ie=function(){function e(){}return e.prototype.time=function(t){return Je("time")},e.prototype.read=function(t){return Je("read")},e.prototype.readSync=function(t){return Je("readSync")},e.prototype.numDataIds=function(){return Je("numDataIds")},e.prototype.disposeData=function(t){return Je("disposeData")},e.prototype.write=function(t,n,r){return Je("write")},e.prototype.move=function(t,n,r,a){return Je("move")},e.prototype.memory=function(){return Je("memory")},e.prototype.floatPrecision=function(){return Je("floatPrecision")},e.prototype.epsilon=function(){return this.floatPrecision()===32?1e-7:1e-4},e.prototype.batchMatMul=function(t,n,r,a){return Je("batchMatMul")},e.prototype.fusedBatchMatMul=function(t){return t.a,t.b,t.transposeA,t.transposeB,t.bias,t.activation,t.preluActivationWeights,Je("fusedBatchMatMul")},e.prototype.slice=function(t,n,r){return Je("slice")},e.prototype.stridedSlice=function(t,n,r,a){return Je("stridedSlice")},e.prototype.unstack=function(t,n){return Je("unstack")},e.prototype.reverse=function(t,n){return Je("reverse")},e.prototype.concat=function(t,n){return Je("concat")},e.prototype.neg=function(t){return Je("neg")},e.prototype.add=function(t,n){return Je("add")},e.prototype.addN=function(t){return Je("addN")},e.prototype.subtract=function(t,n){return Je("subtract")},e.prototype.multiply=function(t,n){return Je("multiply")},e.prototype.realDivide=function(t,n){return Je("realDivide")},e.prototype.floorDiv=function(t,n){return Je("floorDiv")},e.prototype.sum=function(t,n){return Je("sum")},e.prototype.prod=function(t,n){return Je("prod")},e.prototype.unsortedSegmentSum=function(t,n,r){return Je("unsortedSegmentSum")},e.prototype.argMin=function(t,n){return Je("argMin")},e.prototype.argMax=function(t,n){return Je("argMax")},e.prototype.equal=function(t,n){return Je("equal")},e.prototype.notEqual=function(t,n){return Je("notEqual")},e.prototype.less=function(t,n){return Je("less")},e.prototype.lessEqual=function(t,n){return Je("lessEqual")},e.prototype.greater=function(t,n){return Je("greater")},e.prototype.greaterEqual=function(t,n){return Je("greaterEqual")},e.prototype.logicalNot=function(t){return Je("logicalNot")},e.prototype.logicalAnd=function(t,n){return Je("logicalAnd")},e.prototype.logicalOr=function(t,n){return Je("logicalOr")},e.prototype.where=function(t){return Je("where")},e.prototype.select=function(t,n,r){return Je("select")},e.prototype.topk=function(t,n,r){return Je("topk")},e.prototype.min=function(t,n){return Je("min")},e.prototype.minimum=function(t,n){return Je("minimum")},e.prototype.mod=function(t,n){return Je("mod")},e.prototype.max=function(t,n){return Je("max")},e.prototype.maximum=function(t,n){return Je("maximum")},e.prototype.all=function(t,n){return Je("all")},e.prototype.any=function(t,n){return Je("any")},e.prototype.squaredDifference=function(t,n){return Je("squaredDifference")},e.prototype.ceil=function(t){return Je("ceil")},e.prototype.floor=function(t){return Je("floor")},e.prototype.round=function(t){return Je("round")},e.prototype.sign=function(t){return Je("sign")},e.prototype.isNaN=function(t){return Je("isNaN")},e.prototype.isInf=function(t){return Je("isInf")},e.prototype.isFinite=function(t){return Je("isFinite")},e.prototype.pow=function(t,n){return Je("pow")},e.prototype.exp=function(t){return Je("exp")},e.prototype.expm1=function(t){return Je("expm1")},e.prototype.softmax=function(t,n){return Je("softmax")},e.prototype.log=function(t){return Je("log")},e.prototype.log1p=function(t){return Je("log1p")},e.prototype.sqrt=function(t){return Je("sqrt")},e.prototype.rsqrt=function(t){return Je("rsqrt")},e.prototype.square=function(t){return Je("square")},e.prototype.reciprocal=function(t){return Je("reciprocal")},e.prototype.relu=function(t){return Je("relu")},e.prototype.relu6=function(t){return Je("relu6")},e.prototype.prelu=function(t,n){return Je("prelu")},e.prototype.elu=function(t){return Je("elu")},e.prototype.eluDer=function(t,n){return Je("eluDer")},e.prototype.selu=function(t){return Je("selu")},e.prototype.int=function(t){return Je("int")},e.prototype.clip=function(t,n,r){return Je("clip")},e.prototype.abs=function(t){return Je("abs")},e.prototype.complexAbs=function(t){return Je("complexAbs")},e.prototype.sigmoid=function(t){return Je("sigmoid")},e.prototype.softplus=function(t){return Je("softplus")},e.prototype.sin=function(t){return Je("sin")},e.prototype.cos=function(t){return Je("cos")},e.prototype.tan=function(t){return Je("tan")},e.prototype.asin=function(t){return Je("asin")},e.prototype.acos=function(t){return Je("acos")},e.prototype.atan=function(t){return Je("atan")},e.prototype.atan2=function(t,n){return Je("atan2")},e.prototype.sinh=function(t){return Je("sinh")},e.prototype.cosh=function(t){return Je("cosh")},e.prototype.tanh=function(t){return Je("tanh")},e.prototype.asinh=function(t){return Je("asinh")},e.prototype.acosh=function(t){return Je("acosh")},e.prototype.atanh=function(t){return Je("atanh")},e.prototype.erf=function(t){return Je("erf")},e.prototype.step=function(t,n){return Je("step")},e.prototype.fusedConv2d=function(t){return t.input,t.filter,t.convInfo,t.bias,t.activation,t.preluActivationWeights,Je("fusedConv2d")},e.prototype.conv2d=function(t,n,r){return Je("conv2d")},e.prototype.conv2dDerInput=function(t,n,r){return Je("conv2dDerInput")},e.prototype.conv2dDerFilter=function(t,n,r){return Je("conv2dDerFilter")},e.prototype.fusedDepthwiseConv2D=function(t){return t.input,t.filter,t.convInfo,t.bias,t.activation,t.preluActivationWeights,Je("fusedDepthwiseConv2D")},e.prototype.depthwiseConv2D=function(t,n,r){return Je("depthwiseConv2D")},e.prototype.depthwiseConv2DDerInput=function(t,n,r){return Je("depthwiseConv2DDerInput")},e.prototype.depthwiseConv2DDerFilter=function(t,n,r){return Je("depthwiseConv2DDerFilter")},e.prototype.conv3d=function(t,n,r){return Je("conv3d")},e.prototype.conv3dDerInput=function(t,n,r){return Je("conv3dDerInput")},e.prototype.conv3dDerFilter=function(t,n,r){return Je("conv3dDerFilter")},e.prototype.maxPool=function(t,n){return Je("maxPool")},e.prototype.maxPoolBackprop=function(t,n,r,a){return Je("maxPoolBackprop")},e.prototype.avgPool=function(t,n){return Je("avgPool")},e.prototype.avgPoolBackprop=function(t,n,r){return Je("avgPoolBackprop")},e.prototype.avgPool3d=function(t,n){return Je("avgPool3d")},e.prototype.avgPool3dBackprop=function(t,n,r){return Je("avgPool3dBackprop")},e.prototype.maxPool3d=function(t,n){return Je("maxPool3d")},e.prototype.maxPool3dBackprop=function(t,n,r,a){return Je("maxPool3dBackprop")},e.prototype.reshape=function(t,n){return Je("reshape")},e.prototype.cast=function(t,n){return Je("cast")},e.prototype.tile=function(t,n){return Je("tile")},e.prototype.pad=function(t,n,r){return Je("pad")},e.prototype.transpose=function(t,n){return Je("transpose")},e.prototype.gather=function(t,n,r){return Je("gather")},e.prototype.gatherND=function(t,n){return Je("gatherND")},e.prototype.scatterND=function(t,n,r){return Je("scatterND")},e.prototype.batchToSpaceND=function(t,n,r){return Je("batchToSpaceND")},e.prototype.spaceToBatchND=function(t,n,r){return Je("spaceToBatchND")},e.prototype.resizeBilinear=function(t,n,r,a){return Je("resizeBilinear")},e.prototype.resizeBilinearBackprop=function(t,n,r){return Je("resizeBilinearBackprop")},e.prototype.resizeNearestNeighbor=function(t,n,r,a){return Je("resizeNearestNeighbor")},e.prototype.resizeNearestNeighborBackprop=function(t,n,r){return Je("resizeNearestNeighborBackprop")},e.prototype.batchNormalization=function(t,n,r,a,i,o){return Je("batchNormalization")},e.prototype.localResponseNormalization4D=function(t,n,r,a,i){return Je("localResponseNormalization4D")},e.prototype.LRNGrad=function(t,n,r,a,i,o,s){return Je("LRNGrad")},e.prototype.multinomial=function(t,n,r,a){return Je("multinomial")},e.prototype.oneHot=function(t,n,r,a){return Je("oneHot")},e.prototype.cumsum=function(t,n,r,a){return Je("cumsum")},e.prototype.nonMaxSuppression=function(t,n,r,a,i){return Je("nonMaxSuppression")},e.prototype.fft=function(t){return Je("fft")},e.prototype.ifft=function(t){return Je("ifft")},e.prototype.complex=function(t,n){return Je("complex")},e.prototype.real=function(t){return Je("real")},e.prototype.imag=function(t){return Je("imag")},e.prototype.cropAndResize=function(t,n,r,a,i,o){return Je("cropAndResize")},e.prototype.depthToSpace=function(t,n,r){return Je("depthToSpace")},e.prototype.split=function(t,n,r){return Je("split")},e.prototype.sparseToDense=function(t,n,r,a){return Je("sparseToDense")},e.prototype.diag=function(t){return Je("diag")},e.prototype.fill=function(t,n,r){return Je("fill")},e.prototype.onesLike=function(t){return Je("onesLike")},e.prototype.zerosLike=function(t){return Je("zerosLike")},e.prototype.linspace=function(t,n,r){return Je("linspace")},e.prototype.dispose=function(){return Je("dispose")},e}();function Je(e){throw new Error("'"+e+"' not yet implemented or not found in the registry. Did you forget to import the kernel?")}function Mf(e,t){for(var n=e.length,r=[],a=0;a<n;a++){var i=n-1-a,o=e[i]||1;(t[t.length-1-a]||1)>1&&o===1&&r.unshift(i)}return r}function mi(e,t){for(var n=[],r=0;r<t.length;r++){var a=e[e.length-r-1],i=t.length-r-1,o=t[i];(a==null||a===1&&o>1)&&n.unshift(i)}return n}function Xn(e,t){for(var n=[],r=Math.max(e.length,t.length),a=0;a<r;a++){var i=e[e.length-a-1];i==null&&(i=1);var o=t[t.length-a-1];if(o==null&&(o=1),i===1)n.unshift(o);else if(o===1)n.unshift(i);else{if(i!==o)throw Error("Operands could not be broadcast together with shapes "+e+" and "+t+".");n.unshift(i)}}return n}function Sb(e,t,n,r,a,i,o){o===void 0&&(o="channelsLast");var s,l=NE(t),u=l[0],d=l[1];if(o==="channelsLast")s=[u,d,e[3],e[3]];else{if(o!=="channelsFirst")throw new Error("Unknown dataFormat "+o);s=[u,d,e[1],e[1]]}return Im(e,s,n,r,a,i,!1,o)}function CE(e,t,n,r,a,i,o){o===void 0&&(o="NDHWC");var s,l,u=oM(t),d=u[0],f=u[1],h=u[2];if(o==="NDHWC")l="channelsLast",s=[d,f,h,e[4],e[4]];else{if(o!=="NCDHW")throw new Error("Unknown dataFormat "+o);l="channelsFirst",s=[d,f,h,e[1],e[1]]}return EE(e,s,n,r,a,!1,l,i)}function Im(e,t,n,r,a,i,o,s){o===void 0&&(o=!1),s===void 0&&(s="channelsLast");var l=[-1,-1,-1,-1],u=l[0],d=l[1],f=l[2],h=l[3];if(s==="channelsLast")u=e[0],d=e[1],f=e[2],h=e[3];else{if(s!=="channelsFirst")throw new Error("Unknown dataFormat "+s);u=e[0],h=e[1],d=e[2],f=e[3]}var p,m=t[0],g=t[1],y=t[3],x=NE(n),b=x[0],w=x[1],_=NE(r),S=_[0],k=_[1],N=gv(m,S),P=gv(g,k),T=function(W,B,V,q,I,O,H,ne){var z,J,ee;if(typeof W=="number"){z={top:W,bottom:W,left:W,right:W,type:W===0?"VALID":"NUMBER"};var G=function(K,F,re,Q,oe){Q==null&&(Q=Sie(K,F,re));var me=K[0],be=K[1],ye=i1((me-F+2*Q)/re+1,oe);_e(qa(ye),function(){return"The output # of rows ("+ye+") must be an integer. Change the stride and/or zero pad parameters"});var de=i1((be-F+2*Q)/re+1,oe);return _e(qa(de),function(){return"The output # of columns ("+de+") must be an integer. Change the stride and/or zero pad parameters"}),[ye,de]}([B,V],O,q,W,ne);J=G[0],ee=G[1]}else if(W==="same"){J=Math.ceil(B/q),ee=Math.ceil(V/I);var Z=Math.max(0,(J-1)*q+O-B),se=Math.max(0,(ee-1)*I+H-V),ae=Math.floor(Z/2),Y=Z-ae,X=Math.floor(se/2);z={top:ae,bottom:Y,left:X,right:se-X,type:"SAME"}}else{if(W!=="valid")throw Error("Unknown padding parameter: "+W);z={top:0,bottom:0,left:0,right:0,type:"VALID"},J=Math.ceil((B-O+1)/q),ee=Math.ceil((V-H+1)/I)}return{padInfo:z,outHeight:J,outWidth:ee}}(a,d,f,b,w,N,P,i),j=T.padInfo,D=T.outHeight,M=T.outWidth,R=o?y*h:y;return s==="channelsFirst"?p=[u,R,D,M]:s==="channelsLast"&&(p=[u,D,M,R]),{batchSize:u,dataFormat:s,inHeight:d,inWidth:f,inChannels:h,outHeight:D,outWidth:M,outChannels:R,padInfo:j,strideHeight:b,strideWidth:w,filterHeight:m,filterWidth:g,effectiveFilterHeight:N,effectiveFilterWidth:P,dilationHeight:S,dilationWidth:k,inShape:e,outShape:p,filterShape:t}}function EE(e,t,n,r,a,i,o,s){i===void 0&&(i=!1),o===void 0&&(o="channelsLast");var l=[-1,-1,-1,-1,-1],u=l[0],d=l[1],f=l[2],h=l[3],p=l[4];if(o==="channelsLast")u=e[0],d=e[1],f=e[2],h=e[3],p=e[4];else{if(o!=="channelsFirst")throw new Error("Unknown dataFormat "+o);u=e[0],p=e[1],d=e[2],f=e[3],h=e[4]}var m,g=t[0],y=t[1],x=t[2],b=t[4],w=oM(n),_=w[0],S=w[1],k=w[2],N=oM(r),P=N[0],T=N[1],j=N[2],D=gv(g,P),M=gv(y,T),R=gv(x,j),W=function(H,ne,z,J,ee,G,Z,se,ae,Y,X){var K,F,re,Q;if(typeof H=="number"){K={top:H,bottom:H,left:H,right:H,front:H,back:H,type:H===0?"VALID":"NUMBER"};var oe=function(He,dt,qt,Zt,Wt,mn){Wt==null&&(Wt=Sie(He,dt,Zt));var Re=He[0],Ge=He[1],at=He[2],Ke=i1((Re-dt+2*Wt)/Zt+1,mn);_e(qa(Ke),function(){return"The output # of depths ("+Ke+") must be an integer. Change the stride and/or zero pad parameters"});var Qe=i1((Ge-dt+2*Wt)/Zt+1,mn);_e(qa(Qe),function(){return"The output # of rows ("+Qe+") must be an integer. Change the stride and/or zero pad parameters"});var yt=i1((at-dt+2*Wt)/Zt+1,mn);return _e(qa(yt),function(){return"The output # of columns ("+yt+") must be an integer. Change the stride and/or zero pad parameters"}),[Ke,Qe,yt,qt]}([ne,z,J,1],se,1,ee,H,X);F=oe[0],re=oe[1],Q=oe[2]}else if(H==="same"){F=Math.ceil(ne/ee),re=Math.ceil(z/G),Q=Math.ceil(J/Z);var me=(F-1)*ee+se-ne,be=(re-1)*G+ae-z,ye=(Q-1)*Z+Y-J,de=Math.floor(me/2),we=me-de,We=Math.floor(be/2),Me=be-We,ze=Math.floor(ye/2);K={top:We,bottom:Me,left:ze,right:ye-ze,front:de,back:we,type:"SAME"}}else{if(H!=="valid")throw Error("Unknown padding parameter: "+H);K={top:0,bottom:0,left:0,right:0,front:0,back:0,type:"VALID"},F=Math.ceil((ne-se+1)/ee),re=Math.ceil((z-ae+1)/G),Q=Math.ceil((J-Y+1)/Z)}return{padInfo:K,outDepth:F,outHeight:re,outWidth:Q}}(a,d,f,h,_,S,k,D,M,R,s),B=W.padInfo,V=W.outDepth,q=W.outHeight,I=W.outWidth,O=i?b*p:b;return o==="channelsFirst"?m=[u,O,V,q,I]:o==="channelsLast"&&(m=[u,V,q,I,O]),{batchSize:u,dataFormat:o,inDepth:d,inHeight:f,inWidth:h,inChannels:p,outDepth:V,outHeight:q,outWidth:I,outChannels:O,padInfo:B,strideDepth:_,strideHeight:S,strideWidth:k,filterDepth:g,filterHeight:y,filterWidth:x,effectiveFilterDepth:D,effectiveFilterHeight:M,effectiveFilterWidth:R,dilationDepth:P,dilationHeight:T,dilationWidth:j,inShape:e,outShape:m,filterShape:t}}function Sie(e,t,n,r){r===void 0&&(r=1);var a=gv(t,r);return Math.floor((e[0]*(n-1)-n+a)/2)}function NE(e){return typeof e=="number"?[e,e,e]:e.length===2?[e[0],e[1],1]:e}function oM(e){return typeof e=="number"?[e,e,e]:e}function gv(e,t){return t<=1?e:e+(e-1)*(t-1)}function i1(e,t){if(!t)return e;switch(t){case"round":return Math.round(e);case"ceil":return Math.ceil(e);case"floor":return Math.floor(e);default:throw new Error("Unknown roundingMode "+t)}}function o0(e){var t=NE(e),n=t[0],r=t[1],a=t[2];return n===1&&r===1&&a===1}function ds(e,t){return o0(e)||o0(t)}function S5(e){if(e==="NHWC")return"channelsLast";if(e==="NCHW")return"channelsFirst";throw new Error("Unknown dataFormat "+e)}function Cie(e,t,n){if(t==="complex64"){if(e.dtype==="complex64")return e.clone();var r=ta(e.shape),a=e.toFloat(),i=n.complex(a,r);return r.dispose(),a.dispose(),i}if(!QDe(e.dtype,t))return Ie.makeTensorFromDataId(e.dataId,e.shape,t);if(e.dtype==="complex64"){var o=n.real(e);return i=o.cast(t),o.dispose(),i}if(t==="int32")return n.int(e);if(t==="bool"){var s=zt(0,e.dtype);return i=n.notEqual(e,s),s.dispose(),i}throw new Error("Error in Cast: failed to cast "+e.dtype+" to "+t)}function sM(e,t){return Ie.makeTensorFromDataId(e.dataId,t,e.dtype)}function Eie(e,t,n){var r=(t-e)/(n-1),a=Qw(n,"float32");a[0]=e;for(var i=1;i<a.length;i++)a[i]=a[i-1]+r;return ei(a,"float32")}function lM(e,t){if(e.length!==t.length)throw new Error("Cannot merge real and imag arrays of different lengths. real:"+e.length+", imag: "+t.length+".");for(var n=new Float32Array(2*e.length),r=0;r<n.length;r+=2)n[r]=e[r/2],n[r+1]=t[r/2];return n}function OW(e,t){return{real:e[2*t],imag:e[2*t+1]}}function N3e(e,t,n,r){e[2*r]=t,e[2*r+1]=n}function k3e(e,t,n){var r=(n?2:-2)*Math.PI*(e/t);return{real:Math.cos(r),imag:Math.sin(r)}}function j3e(e,t,n){var r=function(i,o,s){return function(l,u,d){for(var f=0,h=l.length,p=0,m=!1;f<h;){var g=d(u,l[p=f+(h-f>>>1)]);g>0?f=p+1:(h=p,m=!g)}return m?f:-f-1}(i,o,s||T3e)}(e,t,n),a=r<0?-(r+1):r;e.splice(a,0,t)}function T3e(e,t){return e>t?1:e<t?-1:0}function C5(e,t,n,r,a){return Nie(e,t,n,r,a,0).selectedIndices}function E5(e,t,n,r,a,i){var o=Nie(e,t,n,r,a,i);return o.numValidOutputs.dispose(),{selectedIndices:o.selectedIndices,selectedScores:o.selectedScores}}function Nie(e,t,n,r,a,i,o,s){s===void 0&&(s=!1);for(var l=Array.from(t).map(function(_,S){return{score:_,boxIndex:S,suppressBeginIndex:0}}).filter(function(_){return _.score>a}).sort(MW),u=i>0?-.5/i:0,d=[],f=[];d.length<n&&l.length>0;){var h=l.pop(),p=h.score,m=h.boxIndex,g=h.suppressBeginIndex;if(p<a)break;for(var y=!1,x=d.length-1;x>=g;--x){var b=P3e(e,m,d[x]);if(b>=r){y=!0;break}if(h.score=h.score*A3e(r,u,b),h.score<=a)break}h.suppressBeginIndex=d.length,y||(h.score===p?(d.push(m),f.push(h.score)):h.score>a&&j3e(l,h,MW))}var w=d.length;return s&&(d.fill(0,w),f.fill(0,w)),{selectedIndices:ei(d,"int32"),selectedScores:ei(f,"float32"),numValidOutputs:zt(w,"int32")}}function P3e(e,t,n){var r=e.subarray(4*t,4*t+4),a=e.subarray(4*n,4*n+4),i=Math.min(r[0],r[2]),o=Math.min(r[1],r[3]),s=Math.max(r[0],r[2]),l=Math.max(r[1],r[3]),u=Math.min(a[0],a[2]),d=Math.min(a[1],a[3]),f=Math.max(a[0],a[2]),h=Math.max(a[1],a[3]),p=(s-i)*(l-o),m=(f-u)*(h-d);if(p<=0||m<=0)return 0;var g=Math.max(i,u),y=Math.max(o,d),x=Math.min(s,f),b=Math.min(l,h),w=Math.max(x-g,0)*Math.max(b-y,0);return w/(p+m-w)}function A3e(e,t,n){var r=Math.exp(t*n*n);return n<=e?r:0}function MW(e,t){return e.score-t.score||e.score===t.score&&t.boxIndex-e.boxIndex}function kie(e,t,n){var r=new Array(e.rank).fill(0),a=e.shape.slice();return t.map(function(i){a[n]=i;var o=e.slice(r,a);return r[n]+=i,o})}function jie(e,t){for(var n=new Array(e.rank),r=0;r<n.length;r++)n[r]=e.shape[r]*t[r];var a=Pn(n,e.dtype);for(r=0;r<a.values.length;++r){for(var i=a.indexToLoc(r),o=new Array(e.rank),s=0;s<o.length;s++)o[s]=i[s]%e.shape[s];var l=e.locToIndex(o);a.values[r]=e.values[l]}return a.toTensor()}function Tie(e,t,n,r,a){for(var i=t[t.length-1],o=[e.length/i,i],s=o[0],l=o[1],u=bb(n,s*r),d=bb("int32",s*r),f=0;f<s;f++){for(var h=f*l,p=e.subarray(h,h+l),m=[],g=0;g<p.length;g++)m.push({value:p[g],index:g});m.sort(function(_,S){return S.value-_.value});var y=f*r,x=u.subarray(y,y+r),b=d.subarray(y,y+r);for(g=0;g<r;g++)x[g]=m[g].value,b[g]=m[g].index}var w=t.slice();return w[w.length-1]=r,[Gi(u,w,n),Gi(d,w,"int32")]}function N5(e,t){for(var n=[],r=0;r<t.length;r++)t[r]&&n.push(r);var a=Pn(e,"int32"),i=Pn([n.length,e.length],"int32");for(r=0;r<n.length;r++){var o=a.indexToLoc(n[r]),s=r*e.length;i.values.set(o,s)}return i.toTensor()}var D3e=function(e,t){this.outputShape=[],this.outputShape=e,this.variableNames=t.map(function(a,i){return"T"+i});var n=[];this.variableNames.forEach(function(a){n.push("float v"+a+" = get"+a+"AtOutCoords();")});var r=this.variableNames.map(function(a){return"v"+a}).join(" + ");this.userCode=`
      void main() {
        `+n.join(`
        `)+`

        float result = `+r+`;
        setOutput(result);
      }
    `},O3e=function(e,t){this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.variableNames=t.map(function(a,i){return"T"+i});var n=[];this.variableNames.forEach(function(a){n.push("vec4 v"+a+" = get"+a+"AtOutCoords();")});var r=this.variableNames.map(function(a){return"v"+a}).join(" + ");this.userCode=`
      void main() {
        `+n.join(`
        `)+`

        vec4 result = `+r+`;
        setOutput(result);
      }
    `},M3e=function(e,t,n){this.variableNames=["A"];var r=e.windowSize,a=e.batchSize,i=e.inSize,o=Math.ceil(i/r);n||this.variableNames.push("bestIndicesA"),this.outputShape=[a,o];var s=t==="max"?">":"<",l=n?"inOffset + i;":"round(getBestIndicesA(batch, inOffset + i));";this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = outIdx * `+r+`;

        int bestIndex = inOffset;
        float bestValue = getA(batch, bestIndex);

        for (int i = 0; i < `+r+`; i++) {
          int inIdx = `+l+`;
          float candidate = getA(batch, inIdx);
          if (candidate `+s+` bestValue) {
            bestValue = candidate;
            bestIndex = inIdx;
          }
        }
        setOutput(float(bestIndex));
      }
    `};function Pie(e,t){return["x","y","z","w","u","v"].slice(0,t).map(function(n){return e+"."+n})}function Yo(e,t){return t===1?[e]:Pie(e,t)}function go(){var e,t,n,r,a,i,o,s,l,u;return lt().getNumber("WEBGL_VERSION")===2?(e="#version 300 es",t="in",n="out",r="in",a="texture",i="outputColor",o="out vec4 outputColor;",s=`
      bool isnan_custom(float val) {
        return (val > 0.0 || val < 0.0) ? false : val != 0.0;
      }

      bvec4 isnan_custom(vec4 val) {
        return bvec4(isnan_custom(val.x),
          isnan_custom(val.y), isnan_custom(val.z), isnan_custom(val.w));
      }

      #define isnan(value) isnan_custom(value)
    `,l="",u=`
      #define round(value) newRound(value)
      int newRound(float value) {
        return int(floor(value + 0.5));
      }

      ivec4 newRound(vec4 value) {
        return ivec4(floor(value + vec4(0.5)));
      }
    `):(e="",t="attribute",n="varying",r="varying",a="texture2D",i="gl_FragColor",o="",s=`
      #define isnan(value) isnan_custom(value)
      bool isnan_custom(float val) {
        return (val > 0. || val < 1. || val == 0.) ? false : true;
      }
      bvec4 isnan_custom(vec4 val) {
        return bvec4(isnan(val.x), isnan(val.y), isnan(val.z), isnan(val.w));
      }
    `,l=`
      uniform float INFINITY;

      bool isinf(float val) {
        return abs(val) == INFINITY;
      }
      bvec4 isinf(vec4 val) {
        return equal(abs(val), vec4(INFINITY));
      }
    `,u=`
      int round(float value) {
        return int(floor(value + 0.5));
      }

      ivec4 round(vec4 value) {
        return ivec4(floor(value + vec4(0.5)));
      }
    `),{version:e,attribute:t,varyingVs:n,varyingFs:r,texture2D:a,output:i,defineOutput:o,defineSpecialNaN:s,defineSpecialInf:l,defineRound:u}}function Pp(e,t,n){n===void 0&&(n="index");var r=vu(t);return r.map(function(a,i){return"int "+e[i]+" = "+n+" / "+a+"; "+(i===r.length-1?"int "+e[i+1]+" = "+n+" - "+e[i]+" * "+a:"index -= "+e[i]+" * "+a)+";"}).join("")}function k5(e){var t=vu(e).map(function(n){return n.toString()});return`
  int getFlatIndex(ivec3 coords) {
    return coords.x * `+t[0]+" + coords.y * "+t[1]+` + coords.z;
  }
`}var Aie=`
  const float FLOAT_MAX = 1.70141184e38;
  const float FLOAT_MIN = 1.17549435e-38;

  lowp vec4 encode_float(highp float v) {
    if (isnan(v)) {
      return vec4(255, 255, 255, 255);
    }

    highp float av = abs(v);

    if(av < FLOAT_MIN) {
      return vec4(0.0, 0.0, 0.0, 0.0);
    } else if(v > FLOAT_MAX) {
      return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;
    } else if(v < -FLOAT_MAX) {
      return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;
    }

    highp vec4 c = vec4(0,0,0,0);

    highp float e = floor(log2(av));
    highp float m = exp2(fract(log2(av))) - 1.0;

    c[2] = floor(128.0 * m);
    m -= c[2] / 128.0;
    c[1] = floor(32768.0 * m);
    m -= c[1] / 32768.0;
    c[0] = floor(8388608.0 * m);

    highp float ebias = e + 127.0;
    c[3] = floor(ebias / 2.0);
    ebias -= c[3] * 2.0;
    c[2] += floor(ebias) * 128.0;

    c[3] += 128.0 * step(0.0, -v);

    return c / 255.0;
  }
`;function I3e(e,t,n,r){var a=[];e.forEach(function(p){var m=un(p.shapeInfo.logicalShape);p.shapeInfo.isUniform?a.push("uniform float "+p.name+(m>1?"["+m+"]":"")+";"):(a.push("uniform sampler2D "+p.name+";"),a.push("uniform int offset"+p.name+";"))});var i,o,s=a.join(`
`),l=e.map(function(p){return function(m,g,y){y===void 0&&(y=!1);var x="";x+=y?Die(m):Cg(m);var b=m.shapeInfo.logicalShape,w=g.logicalShape;return b.length<=w.length&&(x+=y?function(_,S){var k,N=_.name,P=N.charAt(0).toUpperCase()+N.slice(1),T="get"+P+"AtOutCoords",j=_.shapeInfo.logicalShape.length,D=S.logicalShape.length,M=Mf(_.shapeInfo.logicalShape,S.logicalShape),R=Xr(D),W=D-j,B=["x","y","z","w","u","v"];k=j===0?"":D<2&&M.length>=1?"coords = 0;":M.map(function(z){return"coords."+B[z+W]+" = 0;"}).join(`
`);var V="";V=D<2&&j>0?"coords":_.shapeInfo.logicalShape.map(function(z,J){return"coords."+B[J+W]}).join(", ");var q="return outputValue;",I=un(_.shapeInfo.logicalShape)===1,O=un(S.logicalShape)===1;if(j!==1||I||O){if(I&&!O)q=D===1?`
        return vec4(outputValue.x, outputValue.x, 0., 0.);
      `:`
        return vec4(outputValue.x);
      `;else if(M.length){var H=j-2,ne=j-1;M.indexOf(H)>-1&&M.indexOf(ne)>-1?q="return vec4(outputValue.x);":M.indexOf(H)>-1?q="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":M.indexOf(ne)>-1&&(q="return vec4(outputValue.xx, outputValue.zz);")}}else q=`
      return vec4(outputValue.xy, outputValue.xy);
    `;return`
    vec4 `+T+`() {
      `+R+` coords = getOutputCoords();
      `+k+`
      vec4 outputValue = get`+P+"("+V+`);
      `+q+`
    }
  `}(m,g):function(_,S){var k=_.name,N=k.charAt(0).toUpperCase()+k.slice(1),P="get"+N+"AtOutCoords",T=S.texShape,j=_.shapeInfo.texShape,D=_.shapeInfo.logicalShape.length,M=S.logicalShape.length;if(!_.shapeInfo.isUniform&&D===M&&_.shapeInfo.flatOffset==null&&Pi(j,T))return`
      float `+P+`() {
        return sampleTexture(`+k+`, resultUV);
      }
    `;var R,W=Xr(M),B=Mf(_.shapeInfo.logicalShape,S.logicalShape),V=M-D,q=["x","y","z","w","u","v"];R=D===0?"":M<2&&B.length>=1?"coords = 0;":B.map(function(O){return"coords."+q[O+V]+" = 0;"}).join(`
`);var I="";return I=M<2&&D>0?"coords":_.shapeInfo.logicalShape.map(function(O,H){return"coords."+q[H+V]}).join(", "),`
    float `+P+`() {
      `+W+` coords = getOutputCoords();
      `+R+`
      return get`+N+"("+I+`);
    }
  `}(m,g)),x}(p,t,r)}).join(`
`),u=t.texShape,d=go(),f=function(p){return`
    float sampleTexture(sampler2D textureSampler, vec2 uv) {
      return `+p.texture2D+`(textureSampler, uv).r;
    }
  `}(d),h=function(p){return p.version+`
    precision highp float;
    precision highp int;
    precision highp sampler2D;
    `+p.varyingFs+` vec2 resultUV;
    `+p.defineOutput+`
    const vec2 halfCR = vec2(0.5, 0.5);

    struct ivec5
    {
      int x;
      int y;
      int z;
      int w;
      int u;
    };

    struct ivec6
    {
      int x;
      int y;
      int z;
      int w;
      int u;
      int v;
    };

    uniform float NAN;
    `+p.defineSpecialNaN+`
    `+p.defineSpecialInf+`
    `+p.defineRound+`

    int imod(int x, int y) {
      return x - y * (x / y);
    }

    int idiv(int a, int b, float sign) {
      int res = a / b;
      int mod = imod(a, b);
      if (sign < 0. && mod != 0) {
        res -= 1;
      }
      return res;
    }

    //Based on the work of Dave Hoskins
    //https://www.shadertoy.com/view/4djSRW
    #define HASHSCALE1 443.8975
    float random(float seed){
      vec2 p = resultUV * seed;
      vec3 p3  = fract(vec3(p.xyx) * HASHSCALE1);
      p3 += dot(p3, p3.yzx + 19.19);
      return fract((p3.x + p3.y) * p3.z);
    }

    `+R3e+`
    `+F3e+`
    `+L3e+`
  `}(d);return t.isPacked?(i=function(p,m){switch(p.length){case 0:return`
    int getOutputCoords() {
      return 0;
    }
  `;case 1:return function(_,S){var k=[Math.ceil(S[0]/2),Math.ceil(S[1]/2)];return k[0]===1?`
      int getOutputCoords() {
        return 2 * int(resultUV.x * `+k[1]+`.0);
      }
    `:k[1]===1?`
      int getOutputCoords() {
        return 2 * int(resultUV.y * `+k[0]+`.0);
      }
    `:`
    int getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(`+k[0]+", "+k[1]+`));
      return 2 * (resTexRC.x * `+k[1]+` + resTexRC.y);
    }
  `}(0,m);case 2:return function(_,S){var k=[Math.ceil(S[0]/2),Math.ceil(S[1]/2)];if(Pi(_,S))return`
      ivec2 getOutputCoords() {
        return 2 * ivec2(resultUV.yx * vec2(`+k[0]+", "+k[1]+`));
      }
    `;var N=Math.ceil(_[1]/2);return`
    ivec2 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(`+k[0]+", "+k[1]+`));

      int index = resTexRC.x * `+k[1]+` + resTexRC.y;
      int r = 2 * (index / `+N+`);
      int c = imod(index, `+N+`) * 2;

      return ivec2(r, c);
    }
  `}(p,m);case 3:return g=p,y=m,x=[Math.ceil(y[0]/2),Math.ceil(y[1]/2)],b=Math.ceil(g[2]/2),w=b*Math.ceil(g[1]/2),`
    ivec3 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(`+x[0]+", "+x[1]+`));
      int index = resTexRC.x * `+x[1]+` + resTexRC.y;

      int b = index / `+w+`;
      index -= b * `+w+`;

      int r = 2 * (index / `+b+`);
      int c = imod(index, `+b+`) * 2;

      return ivec3(b, r, c);
    }
  `;default:return function(_,S){for(var k=[Math.ceil(S[0]/2),Math.ceil(S[1]/2)],N=Math.ceil(_[_.length-1]/2),P=N*Math.ceil(_[_.length-2]/2),T=P,j="",D="b, r, c",M=2;M<_.length-1;M++)T*=_[_.length-M-1],j=`
      int b`+M+" = index / "+T+`;
      index -= b`+M+" * "+T+`;
    `+j,D="b"+M+", "+D;return`
    ivec`+_.length+` getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(`+k[0]+", "+k[1]+`));
      int index = resTexRC.x * `+k[1]+` + resTexRC.y;

      `+j+`

      int b = index / `+P+`;
      index -= b * `+P+`;

      int r = 2 * (index / `+N+`);
      int c = imod(index, `+N+`) * 2;

      return ivec`+_.length+"("+D+`);
    }
  `}(p,m)}var g,y,x,b,w}(t.logicalShape,u),o=function(p){return`
    void setOutput(vec4 val) {
      `+p.output+` = val;
    }
  `}(d)):(i=function(p,m){switch(p.length){case 0:return`
    int getOutputCoords() {
      return 0;
    }
  `;case 1:return function(x,b){return b[0]===1?`
      int getOutputCoords() {
        return int(resultUV.x * `+b[1]+`.0);
      }
    `:b[1]===1?`
      int getOutputCoords() {
        return int(resultUV.y * `+b[0]+`.0);
      }
    `:`
    int getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(`+b[0]+", "+b[1]+`));
      return resTexRC.x * `+b[1]+` + resTexRC.y;
    }
  `}(0,m);case 2:return function(x,b){return Pi(x,b)?`
      ivec2 getOutputCoords() {
        return ivec2(resultUV.yx * vec2(`+b[0]+", "+b[1]+`));
      }
    `:x[1]===1?`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(`+b[0]+", "+b[1]+`));
        int index = resTexRC.x * `+b[1]+` + resTexRC.y;
        return ivec2(index, 0);
      }
    `:x[0]===1?`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(`+b[0]+", "+b[1]+`));
        int index = resTexRC.x * `+b[1]+` + resTexRC.y;
        return ivec2(0, index);
      }
    `:`
    ivec2 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(`+b[0]+", "+b[1]+`));
      int index = resTexRC.x * `+b[1]+` + resTexRC.y;
      int r = index / `+x[1]+`;
      int c = index - r * `+x[1]+`;
      return ivec2(r, c);
    }
  `}(p,m);case 3:return g=m,y=Pp(["r","c","d"],p),`
    ivec3 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(`+g[0]+", "+g[1]+`));
      int index = resTexRC.x * `+g[1]+` + resTexRC.y;
      `+y+`
      return ivec3(r, c, d);
    }
  `;case 4:return function(x,b){var w=Pp(["r","c","d","d2"],x);return`
    ivec4 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
        vec2(`+b[0]+", "+b[1]+`));
      int index = resTexRC.x * `+b[1]+` + resTexRC.y;
      `+w+`
      return ivec4(r, c, d, d2);
    }
  `}(p,m);case 5:return function(x,b){var w=Pp(["r","c","d","d2","d3"],x);return`
    ivec5 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx * vec2(`+b[0]+`,
                             `+b[1]+`));

      int index = resTexRC.x * `+b[1]+` + resTexRC.y;

      `+w+`

      ivec5 outShape = ivec5(r, c, d, d2, d3);
      return outShape;
    }
  `}(p,m);case 6:return function(x,b){var w=Pp(["r","c","d","d2","d3","d4"],x);return`
    ivec6 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
        vec2(`+b[0]+", "+b[1]+`));
      int index = resTexRC.x * `+b[1]+` + resTexRC.y;

      `+w+`

      ivec6 result = ivec6(r, c, d, d2, d3, d4);
      return result;
    }
  `}(p,m);default:throw new Error(p.length+"-D output sampling is not yet supported")}var g,y}(t.logicalShape,u),o=function(p){return`
    void setOutput(float val) {
      `+p.output+` = vec4(val, 0, 0, 0);
    }
  `}(d)),r&&(h+=$3e),[h,f,o,s,i,l,n].join(`
`)}function Cg(e){var t=e.shapeInfo.logicalShape;switch(t.length){case 0:return function(n){var r=n.name,a="get"+r.charAt(0).toUpperCase()+r.slice(1);if(n.shapeInfo.isUniform)return"float "+a+"() {return "+r+";}";var i=n.shapeInfo.texShape,o=i[0],s=i[1];if(o===1&&s===1)return`
      float `+a+`() {
        return sampleTexture(`+r+`, halfCR);
      }
    `;var l=n.shapeInfo.texShape,u=l[0],d=l[1],f=Gh(r);return`
    float `+a+`() {
      vec2 uv = uvFromFlat(`+u+", "+d+", "+f+`);
      return sampleTexture(`+r+`, uv);
    }
  `}(e);case 1:return function(n){var r=n.name,a="get"+r.charAt(0).toUpperCase()+r.slice(1);if(n.shapeInfo.isUniform)return`
      float `+a+`(int index) {
        `+ug(n)+`
      }
    `;var i=n.shapeInfo.texShape,o=i[0],s=i[1];if(s===1&&o===1)return`
      float `+a+`(int index) {
        return sampleTexture(`+r+`, halfCR);
      }
    `;var l=Gh(r);return s===1?`
      float `+a+`(int index) {
        vec2 uv = vec2(0.5, (float(index + `+l+") + 0.5) / "+o+`.0);
        return sampleTexture(`+r+`, uv);
      }
    `:o===1?`
      float `+a+`(int index) {
        vec2 uv = vec2((float(index + `+l+") + 0.5) / "+s+`.0, 0.5);
        return sampleTexture(`+r+`, uv);
      }
    `:`
    float `+a+`(int index) {
      vec2 uv = uvFromFlat(`+o+", "+s+", index + "+l+`);
      return sampleTexture(`+r+`, uv);
    }
  `}(e);case 2:return function(n){var r=n.shapeInfo.logicalShape,a=n.name,i="get"+a.charAt(0).toUpperCase()+a.slice(1),o=n.shapeInfo.texShape;if(o!=null&&Pi(r,o)){var s=o[0],l=o[1];return`
    float `+i+`(int row, int col) {
      vec2 uv = (vec2(col, row) + halfCR) / vec2(`+l+".0, "+s+`.0);
      return sampleTexture(`+a+`, uv);
    }
  `}var u=yp(r),d=u.newShape,f=u.keptDims,h=d;if(h.length<r.length){var p=Eg(n,h);return`
      `+Cg(p)+`
      float `+i+`(int row, int col) {
        return `+i+"("+Ng(["row","col"],f)+`);
      }
    `}if(n.shapeInfo.isUniform)return`
      float `+i+`(int row, int col) {
        int index = round(dot(vec2(row, col), vec2(`+r[1]+`, 1)));
        `+ug(n)+`
      }
    `;var m=o[0],g=o[1],y=Gh(a);return g===1?`
    float `+i+`(int row, int col) {
      float index = dot(vec3(row, col, `+y+"), vec3("+r[1]+`, 1, 1));
      vec2 uv = vec2(0.5, (index + 0.5) / `+m+`.0);
      return sampleTexture(`+a+`, uv);
    }
  `:m===1?`
    float `+i+`(int row, int col) {
      float index = dot(vec3(row, col, `+y+"), vec3("+r[1]+`, 1, 1));
      vec2 uv = vec2((index + 0.5) / `+g+`.0, 0.5);
      return sampleTexture(`+a+`, uv);
    }
  `:`
  float `+i+`(int row, int col) {
    // Explicitly use integer operations as dot() only works on floats.
    int index = row * `+r[1]+" + col + "+y+`;
    vec2 uv = uvFromFlat(`+m+", "+g+`, index);
    return sampleTexture(`+a+`, uv);
  }
`}(e);case 3:return function(n){var r=n.shapeInfo.logicalShape,a=n.name,i="get"+a.charAt(0).toUpperCase()+a.slice(1),o=r[1]*r[2],s=r[2],l=yp(r),u=l.newShape,d=l.keptDims,f=u;if(f.length<r.length){var h=Eg(n,f);return`
        `+Cg(h)+`
        float `+i+`(int row, int col, int depth) {
          return `+i+"("+Ng(["row","col","depth"],d)+`);
        }
      `}if(n.shapeInfo.isUniform)return`
      float `+i+`(int row, int col, int depth) {
        int index = round(dot(vec3(row, col, depth),
                          vec3(`+o+", "+s+`, 1)));
        `+ug(n)+`
      }
    `;var p=n.shapeInfo.texShape,m=p[0],g=p[1],y=n.shapeInfo.flatOffset;if(g===o&&y==null)return`
        float `+i+`(int row, int col, int depth) {
          float texR = float(row);
          float texC = dot(vec2(col, depth), vec2(`+s+`, 1));
          vec2 uv = (vec2(texC, texR) + halfCR) /
                     vec2(`+g+".0, "+m+`.0);
          return sampleTexture(`+a+`, uv);
        }
      `;if(g===s&&y==null)return`
    float `+i+`(int row, int col, int depth) {
      float texR = dot(vec2(row, col), vec2(`+r[1]+`, 1));
      float texC = float(depth);
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(`+g+".0, "+m+`.0);
      return sampleTexture(`+a+`, uv);
    }
  `;var x=Gh(a);return`
      float `+i+`(int row, int col, int depth) {
        // Explicitly use integer operations as dot() only works on floats.
        int index = row * `+o+" + col * "+s+" + depth + "+x+`;
        vec2 uv = uvFromFlat(`+m+", "+g+`, index);
        return sampleTexture(`+a+`, uv);
      }
  `}(e);case 4:return function(n){var r=n.shapeInfo.logicalShape,a=n.name,i="get"+a.charAt(0).toUpperCase()+a.slice(1),o=r[3],s=r[2]*o,l=r[1]*s,u=yp(r),d=u.newShape,f=u.keptDims;if(d.length<r.length){var h=Eg(n,d);return`
      `+Cg(h)+`
      float `+i+`(int row, int col, int depth, int depth2) {
        return `+i+"("+Ng(["row","col","depth","depth2"],f)+`);
      }
    `}if(n.shapeInfo.isUniform)return`
      float `+i+`(int row, int col, int depth, int depth2) {
        int index = round(dot(vec4(row, col, depth, depth2),
                          vec4(`+l+", "+s+", "+o+`, 1)));
        `+ug(n)+`
      }
    `;var p=n.shapeInfo.flatOffset,m=n.shapeInfo.texShape,g=m[0],y=m[1];if(y===l&&p==null)return`
      float `+i+`(int row, int col, int depth, int depth2) {
        float texR = float(row);
        float texC =
            dot(vec3(col, depth, depth2),
                vec3(`+s+", "+o+`, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(`+y+".0, "+g+`.0);
        return sampleTexture(`+a+`, uv);
      }
    `;if(y===o&&p==null)return`
      float `+i+`(int row, int col, int depth, int depth2) {
        float texR = dot(vec3(row, col, depth),
                         vec3(`+r[1]*r[2]+", "+r[2]+`, 1));
        float texC = float(depth2);
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(`+y+".0, "+g+`.0);
        return sampleTexture(`+a+`, uv);
      }
    `;var x=Gh(a);return`
    float `+i+`(int row, int col, int depth, int depth2) {
      // Explicitly use integer operations as dot() only works on floats.
      int index = row * `+l+" + col * "+s+` +
          depth * `+o+` + depth2;
      vec2 uv = uvFromFlat(`+g+", "+y+", index + "+x+`);
      return sampleTexture(`+a+`, uv);
    }
  `}(e);case 5:return function(n){var r=n.shapeInfo.logicalShape,a=n.name,i="get"+a.charAt(0).toUpperCase()+a.slice(1),o=r[4],s=r[3]*o,l=r[2]*s,u=r[1]*l,d=yp(r),f=d.newShape,h=d.keptDims;if(f.length<r.length){var p=Eg(n,f);return`
      `+Cg(p)+`
      float `+i+`(int row, int col, int depth, int depth2, int depth3) {
        return `+i+"("+Ng(["row","col","depth","depth2","depth3"],h)+`);
      }
    `}if(n.shapeInfo.isUniform)return`
      float `+i+`(int row, int col, int depth, int depth2, int depth3) {
        float index = dot(
          vec4(row, col, depth, depth2),
          vec4(`+u+", "+l+", "+s+", "+o+`)) +
          depth3;
        `+ug(n)+`
      }
    `;var m=n.shapeInfo.flatOffset,g=n.shapeInfo.texShape,y=g[0],x=g[1];if(x===u&&m==null)return`
      float `+i+`(int row, int col, int depth, int depth2, int depth3) {
        int texR = row;
        float texC = dot(vec4(col, depth, depth2, depth3),
                         vec4(`+l+", "+s+", "+o+`, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(`+x+".0, "+y+`.0);
        return sampleTexture(`+a+`, uv);
      }
    `;if(x===o&&m==null)return`
      float `+i+`(int row, int col, int depth, int depth2, int depth3) {
        float texR = dot(
          vec4(row, col, depth, depth2),
          vec4(`+r[1]*r[2]*r[3]+`,
               `+r[2]*r[3]+", "+r[3]+`, 1));
        int texC = depth3;
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(`+x+".0, "+y+`.0);
        return sampleTexture(`+a+`, uv);
      }
    `;var b=Gh(a);return`
    float `+i+`(int row, int col, int depth, int depth2, int depth3) {
      // Explicitly use integer operations as dot() only works on floats.
      int index = row * `+u+" + col * "+l+" + depth * "+s+` +
          depth2 * `+o+" + depth3 + "+b+`;
      vec2 uv = uvFromFlat(`+y+", "+x+`, index);
      return sampleTexture(`+a+`, uv);
    }
  `}(e);case 6:return function(n){var r=n.shapeInfo.logicalShape,a=n.name,i="get"+a.charAt(0).toUpperCase()+a.slice(1),o=yp(r),s=o.newShape,l=o.keptDims;if(s.length<r.length){var u=Eg(n,s);return`
      `+Cg(u)+`
      float `+i+`(int row, int col, int depth,
                    int depth2, int depth3, int depth4) {
        return `+i+"("+Ng(["row","col","depth","depth2","depth3","depth4"],l)+`);
      }
    `}var d=r[5],f=r[4]*d,h=r[3]*f,p=r[2]*h,m=r[1]*p;if(n.shapeInfo.isUniform)return`
      float `+i+`(int row, int col, int depth,
                  int depth2, int depth3, int depth4) {
        int index = round(dot(
          vec4(row, col, depth, depth2),
          vec4(`+m+", "+p+", "+h+", "+f+`)) +
          dot(
            vec2(depth3, depth4),
            vec2(`+d+`, 1)));
        `+ug(n)+`
      }
    `;var g=n.shapeInfo.flatOffset,y=n.shapeInfo.texShape,x=y[0],b=y[1];if(b===m&&g==null)return`
      float `+i+`(int row, int col, int depth,
                    int depth2, int depth3, int depth4) {
        int texR = row;
        float texC = dot(vec4(col, depth, depth2, depth3),
          vec4(`+p+", "+h+", "+f+", "+d+`)) +
               float(depth4);
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(`+b+".0, "+x+`.0);
        return sampleTexture(`+a+`, uv);
      }
    `;if(b===d&&g==null)return`
      float `+i+`(int row, int col, int depth,
                    int depth2, int depth3, int depth4) {
        float texR = dot(vec4(row, col, depth, depth2),
          vec4(`+r[1]*r[2]*r[3]*r[4]+`,
               `+r[2]*r[3]*r[4]+`,
               `+r[3]*r[4]+`,
               `+r[4]+`)) + float(depth3);
        int texC = depth4;
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(`+b+".0, "+x+`.0);
        return sampleTexture(`+a+`, uv);
      }
    `;var w=Gh(a);return`
    float `+i+`(int row, int col, int depth,
                  int depth2, int depth3, int depth4) {
      // Explicitly use integer operations as dot() only works on floats.
      int index = row * `+m+" + col * "+p+" + depth * "+h+` +
          depth2 * `+f+" + depth3 * "+d+" + depth4 + "+w+`;
      vec2 uv = uvFromFlat(`+x+", "+b+`, index);
      return sampleTexture(`+a+`, uv);
    }
  `}(e);default:throw new Error(t.length+"-D input sampling is not yet supported")}}function Die(e){var t,n,r;switch(e.shapeInfo.logicalShape.length){case 0:return t=e.name,n="get"+t.charAt(0).toUpperCase()+t.slice(1),r=go(),`
    vec4 `+n+`() {
      return `+r.texture2D+"("+t+`, halfCR);
    }
  `;case 1:return function(a){var i=a.name,o="get"+i.charAt(0).toUpperCase()+i.slice(1),s=a.shapeInfo.texShape,l=[Math.ceil(s[0]/2),Math.ceil(s[1]/2)],u=go();return`
    vec4 `+o+`(int index) {
      vec2 uv = packedUVfrom1D(
        `+l[0]+", "+l[1]+`, index);
      return `+u.texture2D+"("+i+`, uv);
    }
  `}(e);case 2:return function(a){var i=a.shapeInfo.logicalShape,o=a.name,s="get"+o.charAt(0).toUpperCase()+o.slice(1),l=a.shapeInfo.texShape,u=l[0],d=l[1],f=go();if(l!=null&&Pi(i,l))return`
      vec4 `+s+`(int row, int col) {
        vec2 uv = (vec2(col, row) + halfCR) / vec2(`+d+".0, "+u+`.0);

        return `+f.texture2D+"("+o+`, uv);
      }
    `;var h=[Math.ceil(l[0]/2),Math.ceil(l[1]/2)],p=Math.ceil(i[1]/2);return`
    vec4 `+s+`(int row, int col) {
      vec2 uv = packedUVfrom2D(`+p+", "+h[0]+", "+h[1]+`, row, col);
      return `+f.texture2D+"("+o+`, uv);
    }
  `}(e);case 3:return function(a){var i=a.shapeInfo.logicalShape,o=a.name,s="get"+o.charAt(0).toUpperCase()+o.slice(1),l=a.shapeInfo.texShape,u=[Math.ceil(l[0]/2),Math.ceil(l[1]/2)];if(i[0]===1){var d=i.slice(1),f=Eg(a,d);return`
        `+Die(f)+`
        vec4 `+s+`(int b, int row, int col) {
          return `+s+"("+Ng(["b","row","col"],[1,2])+`);
        }
      `}var h=u[0],p=u[1],m=Math.ceil(i[2]/2),g=m*Math.ceil(i[1]/2),y=go();return`
    vec4 `+s+`(int b, int row, int col) {
      vec2 uv = packedUVfrom3D(
        `+h+", "+p+", "+g+", "+m+`, b, row, col);
      return `+y.texture2D+"("+o+`, uv);
    }
  `}(e);default:return function(a){for(var i=a.shapeInfo.logicalShape,o=i.length,s=a.name,l="get"+s.charAt(0).toUpperCase()+s.slice(1),u=a.shapeInfo.texShape,d=[Math.ceil(u[0]/2),Math.ceil(u[1]/2)],f=d[0],h=d[1],p=Math.ceil(i[o-1]/2),m=p*Math.ceil(i[o-2]/2),g="int b, int row, int col",y="b * "+m+" + (row / 2) * "+p+" + (col / 2)",x=2;x<o-1;x++)g="int b"+x+", "+g,m*=i[o-x-1],y="b"+x+" * "+m+" + "+y;var b=go();return`
    vec4 `+l+"("+g+`) {
      int index = `+y+`;
      int texR = index / `+h+`;
      int texC = index - texR * `+h+`;
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(`+h+", "+f+`);
      return `+b.texture2D+"("+s+`, uv);
    }
  `}(e)}}var R3e=`
vec2 uvFromFlat(int texNumR, int texNumC, int index) {
  int texR = index / texNumC;
  int texC = index - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
vec2 packedUVfrom1D(int texNumR, int texNumC, int index) {
  int texelIndex = index / 2;
  int texR = texelIndex / texNumC;
  int texC = texelIndex - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
`,F3e=`
vec2 packedUVfrom2D(int texelsInLogicalRow, int texNumR,
  int texNumC, int row, int col) {
  int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);
  int texR = texelIndex / texNumC;
  int texC = texelIndex - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
`,L3e=`
vec2 packedUVfrom3D(int texNumR, int texNumC,
    int texelsInBatch, int texelsInLogicalRow, int b,
    int row, int col) {
  int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);
  int texR = index / texNumC;
  int texC = index - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
`,$3e=`
  float getChannel(vec4 frag, vec2 innerDims) {
    vec2 modCoord = mod(innerDims, 2.);
    return modCoord.x == 0. ?
      (modCoord.y == 0. ? frag.r : frag.g) :
      (modCoord.y == 0. ? frag.b : frag.a);
  }
  float getChannel(vec4 frag, int dim) {
    float modCoord = mod(float(dim), 2.);
    return modCoord == 0. ? frag.r : frag.g;
  }
`;function Gh(e){return"offset"+e}function ug(e){var t=e.name,n=un(e.shapeInfo.logicalShape);return n<2?"return "+t+";":`
    for (int i = 0; i < `+n+`; i++) {
      if (i == index) {
        return `+t+`[i];
      }
    }
  `}function Xr(e){if(e<=1)return"int";if(e===2)return"ivec2";if(e===3)return"ivec3";if(e===4)return"ivec4";if(e===5)return"ivec5";if(e===6)return"ivec6";throw Error("GPU for rank "+e+" is not yet supported")}function Eg(e,t){var n=JSON.parse(JSON.stringify(e));return n.shapeInfo.logicalShape=t,n}function Ng(e,t){return t.map(function(n){return e[n]}).join(", ")}var B3e=function(e,t,n,r){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,_e(e.length>2,function(){return"Packed arg"+(n.charAt(0).toUpperCase()+n.slice(1))+" supports only inputs with rank above 2."});var a=e[e.length-1],i=Math.ceil(a/t);this.outputShape=e.slice(0,-1),i>1&&this.outputShape.push(i),r||this.variableNames.push("bestIndicesA");var o,s,l=this.outputShape,u=l.length,d=Xr(u),f=Yo("coords",u);if(i===1){var h=Xr(s=u+1);o=`
        `+h+" sourceLocR = "+h+"("+f.join()+`, 0);
        ++`+f[u-1]+`;
        `+h+" sourceLocG = "+h+"("+f.join()+`, 0);
        ++`+f[u-2]+`;
        `+h+" sourceLocA = "+h+"("+f.join()+`, 0);
        --`+f[u-1]+`;
        `+h+" sourceLocB = "+h+"("+f.join()+`, 0);
        --`+f[u-2]+";"}else s=u,o=`
        `+d+` sourceLocR = coords;
        ++`+f[u-1]+`;
        `+d+` sourceLocG = coords;
        ++`+f[u-2]+`;
        `+d+` sourceLocA = coords;
        --`+f[u-1]+`;
        `+d+` sourceLocB = coords;
        --`+f[u-2]+";";var p=["x","y","z","w","u","v"].slice(0,s),m="."+p[s-1],g=p.map(function(P){return"int "+P}),y=Yo("sourceLocR",s-1).concat("inIdx.r"),x=Yo("sourceLocG",s-1).concat("inIdx.g"),b=Yo("sourceLocB",s-1).concat("inIdx.b"),w=Yo("sourceLocA",s-1).concat("inIdx.a"),_=n==="max"?"greaterThan":"lessThan",S=r?"":`
          inIdx = round(vec4(getBestIndicesAChannel(`+y.join()+`),
                             getBestIndicesAChannel(`+x.join()+`),
                             getBestIndicesAChannel(`+b.join()+`),
                             getBestIndicesAChannel(`+w.join()+")));",k=`vec4(
            getAChannel(`+y.join()+`),
            hasNextCol ? getAChannel(`+x.join()+`) : 0.,
            hasNextRow ? getAChannel(`+b.join()+`) : 0.,
            hasNextRow && hasNextCol ? getAChannel(`+w.join()+") : 0.)",N=r?"":`
      float getBestIndicesAChannel(`+g.join()+`) {
        return getChannel(getBestIndicesA(`+p.join()+`),
                                          vec2(`+p.slice(-2).join()+`));
      }`;this.userCode=`
      float getAChannel(`+g.join()+`) {
        return getChannel(getA(`+p.join()+`),
                               vec2(`+p.slice(-2).join()+`));
      }
      `+N+`
      void main() {
        `+d+` coords = getOutputCoords();
        bool hasNextCol = `+f[u-1]+" < "+(l[u-1]-1)+`;
        bool hasNextRow = `+f[u-2]+" < "+(l[u-2]-1)+`;
        `+o+`
        ivec4 srcIdx = ivec4(sourceLocR`+m+", sourceLocG"+m+`,
          sourceLocB`+m+", sourceLocA"+m+") * "+t+`;
        ivec4 inIdx = srcIdx;
        vec4 bestIndex = vec4(inIdx);
        vec4 bestValue = `+k+`;

        for (int i = 0; i < `+t+`; i++) {
          inIdx = srcIdx;
          `+S+`
          vec4 candidate = `+k+`;
          bvec4 nan = isnan(candidate);
          bvec4 replace = bvec4(
            vec4(`+_+`(candidate, bestValue)) * (vec4(1.0) - vec4(nan)));

          bestValue = vec4(replace.x  ? candidate.x : bestValue.x,
                           replace.y  ? candidate.y : bestValue.y,
                           replace.z  ? candidate.z : bestValue.z,
                           replace.w  ? candidate.w : bestValue.w);
          bestIndex = mix(bestIndex, vec4(inIdx), vec4(replace));
          srcIdx++;
        }
        setOutput(bestIndex);
      }
    `},z3e=function(e){this.variableNames=["dy"],this.outputShape=e.inShape;var t=e.filterHeight,n=e.filterWidth,r=e.strideHeight,a=e.strideWidth,i=e.dilationHeight,o=e.dilationWidth,s=e.effectiveFilterHeight,l=e.effectiveFilterWidth,u=s-1-e.padInfo.top,d=l-1-e.padInfo.left,f=1/(t*n);this.userCode=`
      const ivec2 pads = ivec2(`+u+", "+d+`);
      const float avgMultiplier = float(`+f+`);

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];

        ivec2 dyRCCorner = coords.yz - pads;
        int dyRCorner = dyRCCorner.x;
        int dyCCorner = dyRCCorner.y;

        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < `+s+`;
            wR += `+i+`) {
          float dyR = float(dyRCorner + wR) / `+r+`.0;

          if (dyR < 0.0 || dyR >= `+e.outHeight+`.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          for (int wC = 0; wC < `+l+`;
            wC+= `+o+`) {
            float dyC = float(dyCCorner + wC) / `+a+`.0;

            if (dyC < 0.0 || dyC >= `+e.outWidth+`.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            float dyValue = getDy(b, idyR, idyC, d);

            dotProd += dyValue * avgMultiplier;
          }
        }
        setOutput(dotProd);
      }
    `},U3e=function(e){this.variableNames=["dy"],this.outputShape=e.inShape;var t=e.filterDepth,n=e.filterHeight,r=e.filterWidth,a=e.strideDepth,i=e.strideHeight,o=e.strideWidth,s=e.dilationDepth,l=e.dilationHeight,u=e.dilationWidth,d=e.effectiveFilterDepth,f=e.effectiveFilterHeight,h=e.effectiveFilterWidth,p=d-1-e.padInfo.front,m=f-1-e.padInfo.top,g=h-1-e.padInfo.left,y=1/(t*n*r);this.userCode=`
      const ivec3 pads = ivec3(`+p+", "+m+", "+g+`);
      const float avgMultiplier = float(`+y+`);

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int ch = coords.u;

        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;
        int dyDCorner = dyCorner.x;
        int dyRCorner = dyCorner.y;
        int dyCCorner = dyCorner.z;

        // Convolve dy(?, ?, ?, d) with pos mask(:, :, :, ch) to get
        // dx(xD, xR, xC, ch).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;

        for (int wD = 0; wD < `+d+`;
            wD += `+s+`) {
          float dyD = float(dyDCorner + wD) / `+a+`.0;

          if (dyD < 0.0 || dyD >= `+e.outDepth+`.0 || fract(dyD) > 0.0) {
            continue;
          }
          int idyD = int(dyD);

          for (int wR = 0; wR < `+f+`;
              wR += `+l+`) {
            float dyR = float(dyRCorner + wR) / `+i+`.0;

            if (dyR < 0.0 || dyR >= `+e.outHeight+`.0 ||
                fract(dyR) > 0.0) {
              continue;
            }
            int idyR = int(dyR);

            for (int wC = 0; wC < `+h+`;
                wC += `+u+`) {
              float dyC = float(dyCCorner + wC) / `+o+`.0;

              if (dyC < 0.0 || dyC >= `+e.outWidth+`.0 ||
                  fract(dyC) > 0.0) {
                continue;
              }
              int idyC = int(dyC);

              float dyValue = getDy(batch, idyD, idyR, idyC, ch);

              dotProd += dyValue * avgMultiplier;
            }
          }
        }
        setOutput(dotProd);
      }
    `},W3e=function(e,t,n,r,a,i){this.outputShape=[],this.variableNames=["x","mean","variance"],Xn(e,t),Xn(e,n);var o="0.0";r!=null&&(Xn(e,r),this.variableNames.push("offset"),o="getOffsetAtOutCoords()");var s="1.0";a!=null&&(Xn(e,a),this.variableNames.push("scale"),s="getScaleAtOutCoords()"),this.outputShape=e,this.userCode=`
      void main() {
        float x = getXAtOutCoords();
        float mean = getMeanAtOutCoords();
        float variance = getVarianceAtOutCoords();
        float offset = `+o+`;
        float scale = `+s+`;
        float inv = scale * inversesqrt(variance + float(`+i+`));
        setOutput(dot(vec3(x, -mean, offset), vec3(inv, inv, 1)));
      }
    `},V3e=function(e,t,n,r,a,i){this.packedInputs=!0,this.packedOutput=!0,this.variableNames=["x","mean","variance"],Xn(e,t),Xn(e,n);var o="vec4(0.0)";r!=null&&(Xn(e,r),this.variableNames.push("offset"),o="getOffsetAtOutCoords()");var s="vec4(1.0)";a!=null&&(Xn(e,a),this.variableNames.push("scale"),s="getScaleAtOutCoords()"),this.outputShape=e,this.userCode=`
      void main() {
        vec4 offset = `+o+`;
        vec4 scale = `+s+`;

        vec4 x = getXAtOutCoords();
        vec4 mean = getMeanAtOutCoords();
        vec4 variance = getVarianceAtOutCoords();

        vec4 inv = scale * inversesqrt(variance + vec4(`+i+`));

        setOutput((x - mean) * inv + offset);
      }
    `},H3e="return areal * breal - aimag * bimag;",q3e="return areal * bimag + aimag * breal;",IW=function(e,t,n){this.variableNames=["AReal","AImag","BReal","BImag"],this.outputShape=Xn(t,n),this.userCode=`
      float binaryOpComplex(
          float areal, float aimag, float breal, float bimag) {
        `+e+`
      }

      void main() {
        float areal = getARealAtOutCoords();
        float aimag = getAImagAtOutCoords();
        float breal = getBRealAtOutCoords();
        float bimag = getBImagAtOutCoords();
        setOutput(binaryOpComplex(areal, aimag, breal, bimag));
      }
    `},m4="return a + b;",g4="return a - b;",RW="return a * b;",Oie="return (a < 0.) ? b * a : a;",ka=function(e,t,n){this.variableNames=["A","B"],this.outputShape=Xn(t,n),this.userCode=`
      float binaryOperation(float a, float b) {
        `+e+`
      }

      void main() {
        float a = getAAtOutCoords();
        float b = getBAtOutCoords();
        setOutput(binaryOperation(a, b));
      }
    `},Mie=`
  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));
  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);
`,Yu=function(e,t,n,r){r===void 0&&(r=!1),this.variableNames=["A","B"],this.supportsBroadcasting=!0,this.packedInputs=!0,this.packedOutput=!0,this.outputShape=Xn(t,n);var a=this.outputShape.length,i="";if(r)if(a===0||un(this.outputShape)===1)i=`
          result.y = 0.;
          result.z = 0.;
          result.w = 0.;
        `;else if(i=`
          `+Xr(a)+` coords = getOutputCoords();
        `,a===1)i+=`
            result.y = (coords + 1) >= `+this.outputShape[0]+` ? 0. : result.y;
            result.z = 0.;
            result.w = 0.;
          `;else{var o=Yo("coords",a);i+=`
            bool nextRowOutOfBounds =
              (`+o[a-2]+" + 1) >= "+this.outputShape[a-2]+`;
            bool nextColOutOfBounds =
              (`+o[a-1]+" + 1) >= "+this.outputShape[a-1]+`;
            result.y = nextColOutOfBounds ? 0. : result.y;
            result.z = nextRowOutOfBounds ? 0. : result.z;
            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;
          `}this.userCode=`
      vec4 binaryOperation(vec4 a, vec4 b) {
        `+e+`
      }

      void main() {
        vec4 a = getAAtOutCoords();
        vec4 b = getBAtOutCoords();

        vec4 result = binaryOperation(a, b);
        `+i+`

        setOutput(result);
      }
    `},G3e=function(){function e(t){this.variableNames=["A"],this.outputShape=t,this.userCode=`
      uniform float minVal;
      uniform float maxVal;

      void main() {
        float value = getAAtOutCoords();
        if (isnan(value)) {
          setOutput(value);
          return;
        }

        setOutput(clamp(value, minVal, maxVal));
      }
    `}return e.prototype.getCustomSetupFunc=function(t,n){var r=this;return function(a,i){r.minLoc==null&&(r.minLoc=a.getUniformLocationNoThrow(i,"minVal"),r.maxLoc=a.getUniformLocationNoThrow(i,"maxVal")),a.gl.uniform1f(r.minLoc,t),a.gl.uniform1f(r.maxLoc,n)}},e}(),Y3e=function(){function e(t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t,this.userCode=`
      uniform float minVal;
      uniform float maxVal;

      void main() {
        vec4 value = getAAtOutCoords();

        if (any(isnan(value))) {
          setOutput(value);
          return;
        }

        setOutput(clamp(value, vec4(minVal), vec4(maxVal)));
      }
    `}return e.prototype.getCustomSetupFunc=function(t,n){var r=this;return function(a,i){r.minLoc==null&&(r.minLoc=a.getUniformLocationNoThrow(i,"minVal"),r.maxLoc=a.getUniformLocationNoThrow(i,"maxVal")),a.gl.uniform1f(r.minLoc,t),a.gl.uniform1f(r.maxLoc,n)}},e}(),K3e=function(e){this.variableNames=["real","imag"],this.outputShape=e,this.userCode=`
      void main() {
        float re = abs(getRealAtOutCoords());
        float im = abs(getImagAtOutCoords());
        float mx = max(re, im);

        // sadly the length function in glsl is not underflow-safe
        // (at least not on Intel GPUs). So the safe solution is
        // to ensure underflow-safety in all cases.
        setOutput(
          mx == 0.0 ? 0.0 : mx * length(vec2(1, min(re, im)/mx))
        );
      }
    `},X3e=function(e){this.outputShape=[],this.outputShape=i0(e,1),this.variableNames=e.map(function(s,l){return"T"+l});var t=new Array(e.length-1);t[0]=e[0][1];for(var n=1;n<t.length;n++)t[n]=t[n-1]+e[n][1];var r=["if (yC < "+t[0]+") setOutput(getT0(yR, yC));"];for(n=1;n<t.length;n++){var a=t[n-1];r.push("else if (yC < "+t[n]+") setOutput(getT"+n+"(yR, yC-"+a+"));")}var i=t.length,o=t[t.length-1];r.push("else setOutput(getT"+i+"(yR, yC-"+o+"));"),this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int yR = coords.x;
        int yC = coords.y;

        `+r.join(`
        `)+`
      }
    `},Z3e=function(e,t){this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[],this.outputShape=i0(e,t);var n=this.outputShape,r=n.length,a=Xr(r),i=Yo("coords",r),o=["x","y","z","w","u","v"].slice(0,r);this.variableNames=e.map(function(y,x){return"T"+x});var s=new Array(e.length-1);s[0]=e[0][t];for(var l=1;l<s.length;l++)s[l]=s[l-1]+e[l][t];var u=o[t],d=o.slice(-2),f=o.join(),h="if ("+u+" < "+s[0]+`) {
        return getChannel(
            getT0(`+f+"), vec2("+d.join()+`));
        }`;for(l=1;l<s.length;l++){var p=s[l-1];h+=`
        if (`+u+" < "+s[l]+"  && "+u+" >= "+s[l-1]+`) {
          return getChannel(
            getT`+l+"("+C_(o,u,p)+`),
            vec2(`+C_(d,u,p)+`));
        }`}var m=s.length,g=s[s.length-1];h+=`
        return getChannel(
          getT`+m+"("+C_(o,u,g)+`),
          vec2(`+C_(d,u,g)+"));",this.userCode=`
      float getValue(`+o.map(function(y){return"int "+y})+`) {
        `+h+`
      }

      void main() {
        `+a+` coords = getOutputCoords();
        vec4 result = vec4(getValue(`+i+`), 0., 0., 0.);

        `+i[r-1]+" = "+i[r-1]+` + 1;
        if (`+i[r-1]+" < "+n[r-1]+`) {
          result.g = getValue(`+i+`);
        }

        `+i[r-2]+" = "+i[r-2]+` + 1;
        if (`+i[r-2]+" < "+n[r-2]+`) {
          result.a = getValue(`+i+`);
        }

        `+i[r-1]+" = "+i[r-1]+` - 1;
        if (`+i[r-2]+" < "+n[r-2]+` &&
            `+i[r-1]+" < "+n[r-1]+`) {
          result.b = getValue(`+i+`);
        }
        setOutput(result);
      }
    `};function C_(e,t,n){var r=e.indexOf(t);return e.map(function(a,i){return i===r?a+" - "+n:a}).join()}var Q3e=function(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;var t=e.strideHeight,n=e.strideWidth,r=e.padInfo.top,a=e.padInfo.left,i=e.dataFormat==="channelsLast";this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int wR = coords.x;
        int wC = coords.y;
        int d1 = coords.z;
        int d2 = coords.w;

        // Convolve x(?, ?, d1) with dy(:, :, d2) to get dw(wR, wC, d1, d2).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;

        for (int b = 0; b < `+e.batchSize+`; b++) {
          for (int yR = 0; yR < `+e.outHeight+`; yR++) {
            int xR = wR + yR * `+t+" - "+r+`;

            if (xR < 0 || xR >= `+e.inHeight+`) {
              continue;
            }

            for (int yC = 0; yC < `+e.outWidth+`; yC++) {
              int xC = wC + yC * `+n+" - "+a+`;

              if (xC < 0 || xC >= `+e.inWidth+`) {
                continue;
              }

              if (`+i+`) {
                float dyValue = getDy(b, yR, yC, d2);
                float xValue = getX(b, xR, xC, d1);
                dotProd += (xValue * dyValue);
              } else {
                float dyValue = getDy(b, d2, yR, yC);
                float xValue = getX(b, d1, xR, xC);
                dotProd += (xValue * dyValue);
              }

            }
          }
        }
        setOutput(dotProd);
      }
    `},J3e=function(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;var t=e.filterHeight,n=e.filterWidth,r=e.strideHeight,a=e.strideWidth,i=e.dataFormat==="channelsLast",o=t-1-e.padInfo.top,s=n-1-e.padInfo.left,l=i?1:2,u=i?2:3,d=i?3:1;this.userCode=`
      const ivec2 pads = ivec2(`+o+", "+s+`);

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d1 = coords[`+d+`];

        ivec2 dyCorner = ivec2(coords[`+l+"], coords["+u+`]) - pads;
        int dyRCorner = dyCorner.x;
        int dyCCorner = dyCorner.y;

        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < `+t+`; wR++) {
          float dyR = float(dyRCorner + wR) / `+r+`.0;

          if (dyR < 0.0 || dyR >= `+e.outHeight+`.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          int wRPerm = `+t+` - 1 - wR;

          for (int wC = 0; wC < `+n+`; wC++) {
            float dyC = float(dyCCorner + wC) / `+a+`.0;

            if (dyC < 0.0 || dyC >= `+e.outWidth+`.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            int wCPerm = `+n+` - 1 - wC;

            for (int d2 = 0; d2 < `+e.outChannels+`; d2++) {

              if (`+i+`) {
                float xValue = getDy(batch, idyR, idyC, d2);
                float wValue = getW(wRPerm, wCPerm, d1, d2);
                dotProd += xValue * wValue;
              } else {
                float xValue = getDy(batch, d2, idyR, idyC);
                float wValue = getW(wRPerm, wCPerm, d1, d2);
                dotProd += xValue * wValue;
              }

            }
          }
        }
        setOutput(dotProd);
      }
    `},eMe=function(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;var t=e.strideDepth,n=e.strideHeight,r=e.strideWidth,a=e.padInfo.front,i=e.padInfo.top,o=e.padInfo.left;this.userCode=`
      void main() {
        ivec5 coords = getOutputCoords();
        int wF = coords.x;
        int wR = coords.y;
        int wC = coords.z;
        int d1 = coords.w;
        int d2 = coords.u;

        float dotProd = 0.0;

        for (int b = 0; b < `+e.batchSize+`; b++) {
          for (int yF = 0; yF < `+e.outDepth+`; yF++) {
            int xF = wF + yF * `+t+" - "+a+`;

            if (xF < 0 || xF >= `+e.inDepth+`) {
              continue;
            }

            for (int yR = 0; yR < `+e.outHeight+`; yR++) {
              int xR = wR + yR * `+n+" - "+i+`;

              if (xR < 0 || xR >= `+e.inHeight+`) {
                continue;
              }

              for (int yC = 0; yC < `+e.outWidth+`; yC++) {
                int xC = wC + yC * `+r+" - "+o+`;

                if (xC < 0 || xC >= `+e.inWidth+`) {
                  continue;
                }

                float dyValue = getDy(b, yF, yR, yC, d2);
                float xValue = getX(b, xF, xR, xC, d1);
                dotProd += (xValue * dyValue);
              }
            }
          }
        }
        setOutput(dotProd);
      }
    `},tMe=function(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;var t=e.filterDepth,n=e.filterHeight,r=e.filterWidth,a=e.strideDepth,i=e.strideHeight,o=e.strideWidth,s=t-1-e.padInfo.front,l=n-1-e.padInfo.top,u=r-1-e.padInfo.left;this.userCode=`
      const ivec3 pads = ivec3(`+s+", "+l+", "+u+`);

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int d1 = coords.u;


        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;
        int dyFCorner = dyCorner.x;
        int dyRCorner = dyCorner.y;
        int dyCCorner = dyCorner.z;

        float dotProd = 0.0;
        for (int wF = 0; wF < `+t+`; wF++) {
          float dyF = float(dyFCorner + wF) / `+a+`.0;

          if (dyF < 0.0 || dyF >= `+e.outDepth+`.0 || fract(dyF) > 0.0) {
            continue;
          }
          int idyF = int(dyF);

          int wFPerm = `+t+` - 1 - wF;

          for (int wR = 0; wR < `+n+`; wR++) {
            float dyR = float(dyRCorner + wR) / `+i+`.0;

            if (dyR < 0.0 || dyR >= `+e.outHeight+`.0 ||
              fract(dyR) > 0.0) {
              continue;
            }
            int idyR = int(dyR);

            int wRPerm = `+n+` - 1 - wR;

            for (int wC = 0; wC < `+r+`; wC++) {
              float dyC = float(dyCCorner + wC) / `+o+`.0;

              if (dyC < 0.0 || dyC >= `+e.outWidth+`.0 ||
                  fract(dyC) > 0.0) {
                continue;
              }
              int idyC = int(dyC);

              int wCPerm = `+r+` - 1 - wC;

              for (int d2 = 0; d2 < `+e.outChannels+`; d2++) {
                float xValue = getDy(batch, idyF, idyR, idyC, d2);
                float wValue = getW(wFPerm, wRPerm, wCPerm, d1, d2);
                dotProd += xValue * wValue;
              }
            }
          }
        }
        setOutput(dotProd);
      }
    `},nMe=function(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;var t=e.strideHeight,n=e.strideWidth,r=e.padInfo.top,a=e.padInfo.left,i=e.outChannels/e.inChannels;this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int wR = coords.x;
        int wC = coords.y;
        int d1 = coords.z;
        int dm = coords.w;
        int d2 = d1 * `+i+` + dm;

        float dotProd = 0.0;

        // TO DO: Vec4 over the batch size
        for (int b = 0; b < `+e.batchSize+`; b++) {
          for (int yR = 0; yR < `+e.outHeight+`; yR++) {
            int xR = wR + yR * `+t+" - "+r+`;

            if (xR < 0 || xR >= `+e.inHeight+`) {
              continue;
            }

            for (int yC = 0; yC < `+e.outWidth+`; yC++) {
              int xC = wC + yC * `+n+" - "+a+`;

              if (xC < 0 || xC >= `+e.inWidth+`) {
                continue;
              }

              float dyValue = getDy(b, yR, yC, d2);
              float xValue = getX(b, xR, xC, d1);
              dotProd += (xValue * dyValue);
            }
          }
        }
        setOutput(dotProd);
      }
    `},rMe=function(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;var t=e.filterHeight,n=e.filterWidth,r=e.strideHeight,a=e.strideWidth,i=t-1-e.padInfo.top,o=n-1-e.padInfo.left,s=e.outChannels/e.inChannels;this.userCode=`
      const ivec2 pads = ivec2(`+i+", "+o+`);

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d1 = coords[3];
        ivec2 dyCorner = coords.yz - pads;
        int dyRCorner = dyCorner.x;
        int dyCCorner = dyCorner.y;

        float dotProd = 0.0;

        for (int wR = 0; wR < `+t+`; wR++) {
          float dyR = float(dyRCorner + wR) / `+r+`.0;

          if (dyR < 0.0 || dyR >= `+e.outHeight+`.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          int wRPerm = `+t+` - 1 - wR;

          for (int wC = 0; wC < `+n+`; wC++) {
            float dyC = float(dyCCorner + wC) / `+a+`.0;

            if (dyC < 0.0 || dyC >= `+e.outWidth+`.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            int wCPerm = `+n+` - 1 - wC;

            // TO DO: Vec4 over the channelMul
            for (int dm = 0; dm < `+s+`; dm++) {
              int d2 = d1 * `+s+` + dm;
              float xValue = getDy(batch, idyR, idyC, d2);
              float wValue = getW(wRPerm, wCPerm, d1, dm);
              dotProd += xValue * wValue;
            }
          }
        }
        setOutput(dotProd);
      }
    `},FW=function(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=null),r===void 0&&(r=!1),this.variableNames=["x","W"],this.outputShape=e.outShape;var a=e.padInfo.top,i=e.padInfo.left,o=e.strideHeight,s=e.strideWidth,l=e.dilationHeight,u=e.dilationWidth,d=e.filterHeight,f=e.filterWidth,h=4*Math.floor(e.inChannels/4),p=e.inChannels%4,m=e.dataFormat==="channelsLast",g=m?1:2,y=m?2:3,x=m?3:1,b="",w="";n&&(b=r?`float activation(float a) {
          float b = getPreluActivationWeightsAtOutCoords();
          `+n+`
        }`:`
          float activation(float x) {
            `+n+`
          }
        `,w="result = activation(result);");var _=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),this.userCode=`
      `+b+`

      const ivec2 strides = ivec2(`+o+", "+s+`);
      const ivec2 pads = ivec2(`+a+", "+i+`);

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d2 = coords[`+x+`];

        ivec2 xRCCorner =
            ivec2(coords[`+g+"], coords["+y+`]) * strides - pads;
        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        // Convolve x(?, ?, d1) with w(:, :, d1, d2) to get y(yR, yC, d2).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < `+d+`; wR++) {
          int xR = xRCorner + wR * `+l+`;

          if (xR < 0 || xR >= `+e.inHeight+`) {
            continue;
          }

          for (int wC = 0; wC < `+f+`; wC++) {
            int xC = xCCorner + wC * `+u+`;

            if (xC < 0 || xC >= `+e.inWidth+`) {
              continue;
            }

            for (int d1 = 0; d1 < `+h+`; d1 += 4) {
              vec4 wValues = vec4(
                getW(wR, wC, d1, d2),
                getW(wR, wC, d1 + 1, d2),
                getW(wR, wC, d1 + 2, d2),
                getW(wR, wC, d1 + 3, d2)
              );

              if (`+m+`) {
                vec4 xValues = vec4(
                  getX(batch, xR, xC, d1),
                  getX(batch, xR, xC, d1 + 1),
                  getX(batch, xR, xC, d1 + 2),
                  getX(batch, xR, xC, d1 + 3)
                );
                dotProd += dot(xValues, wValues);
              } else {
                vec4 xValues = vec4(
                  getX(batch, d1, xR, xC),
                  getX(batch, d1 + 1, xR, xC),
                  getX(batch, d1 + 2, xR, xC),
                  getX(batch, d1 + 3, xR, xC)
                );
                dotProd += dot(xValues, wValues);
              }
            }

            if (`+(p===1)+`) {

              if (`+m+`) {
                dotProd +=
                    getX(batch, xR, xC, `+h+`) *
                    getW(wR, wC, `+h+`, d2);
              } else {
                dotProd +=
                    getX(batch, `+h+`, xR, xC) *
                    getW(wR, wC, `+h+`, d2);
              }

            } else if (`+(p===2)+`) {
              vec2 wValues = vec2(
                getW(wR, wC, `+h+`, d2),
                getW(wR, wC, `+h+` + 1, d2)
              );

              if (`+m+`) {
                vec2 xValues = vec2(
                  getX(batch, xR, xC, `+h+`),
                  getX(batch, xR, xC, `+h+` + 1)
                );
                dotProd += dot(xValues, wValues);
              } else {
                vec2 xValues = vec2(
                  getX(batch, `+h+`, xR, xC),
                  getX(batch, `+h+` + 1, xR, xC)
                );
                dotProd += dot(xValues, wValues);
              }

            } else if (`+(p===3)+`) {
              vec3 wValues = vec3(
                getW(wR, wC, `+h+`, d2),
                getW(wR, wC, `+h+` + 1, d2),
                getW(wR, wC, `+h+` + 2, d2)
              );

              if (`+m+`) {
                vec3 xValues = vec3(
                  getX(batch, xR, xC, `+h+`),
                  getX(batch, xR, xC, `+h+` + 1),
                  getX(batch, xR, xC, `+h+` + 2)
                );
                dotProd += dot(xValues, wValues);
              } else {
                vec3 xValues = vec3(
                  getX(batch, `+h+`, xR, xC),
                  getX(batch, `+h+` + 1, xR, xC),
                  getX(batch, `+h+` + 2, xR, xC)
                );
                dotProd += dot(xValues, wValues);
              }

            }
          }
        }

        float result = dotProd;
        `+_+`
        `+w+`
        setOutput(result);
      }
    `},aMe=function(e){this.variableNames=["x","W"],this.outputShape=e.outShape;var t=e.padInfo.front,n=e.padInfo.top,r=e.padInfo.left,a=e.strideDepth,i=e.strideHeight,o=e.strideWidth,s=e.dilationDepth,l=e.dilationHeight,u=e.dilationWidth,d=e.filterDepth,f=e.filterHeight,h=e.filterWidth,p=4*Math.floor(e.inChannels/4),m=e.inChannels%4;this.userCode=`
      const ivec3 strides = ivec3(`+a+", "+i+", "+o+`);
      const ivec3 pads = ivec3(`+t+", "+n+", "+r+`);

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int d2 = coords.u;

        ivec3 xFRCCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;
        int xFCorner = xFRCCorner.x;
        int xRCorner = xFRCCorner.y;
        int xCCorner = xFRCCorner.z;

        // Convolve x(?, ?, ?, d1) with w(:, :, :, d1, d2) to get
        // y(yF, yR, yC, d2). ? = to be determined. : = across all
        // values in that axis.
        float dotProd = 0.0;
        for (int wF = 0; wF < `+d+`; wF++) {
          int xF = xFCorner + wF * `+s+`;

          if (xF < 0 || xF >= `+e.inDepth+`) {
            continue;
          }

          for (int wR = 0; wR < `+f+`; wR++) {
            int xR = xRCorner + wR * `+l+`;

            if (xR < 0 || xR >= `+e.inHeight+`) {
              continue;
            }

            for (int wC = 0; wC < `+h+`; wC++) {
              int xC = xCCorner + wC * `+u+`;

              if (xC < 0 || xC >= `+e.inWidth+`) {
                continue;
              }

              for (int d1 = 0; d1 < `+p+`; d1 += 4) {
                vec4 xValues = vec4(
                  getX(batch, xF, xR, xC, d1),
                  getX(batch, xF, xR, xC, d1 + 1),
                  getX(batch, xF, xR, xC, d1 + 2),
                  getX(batch, xF, xR, xC, d1 + 3)
                );
                vec4 wValues = vec4(
                  getW(wF, wR, wC, d1, d2),
                  getW(wF, wR, wC, d1 + 1, d2),
                  getW(wF, wR, wC, d1 + 2, d2),
                  getW(wF, wR, wC, d1 + 3, d2)
                );

                dotProd += dot(xValues, wValues);
              }

              if (`+(m===1)+`) {
                dotProd +=
                  getX(batch, xF, xR, xC, `+p+`) *
                  getW(wF, wR, wC, `+p+`, d2);
              } else if (`+(m===2)+`) {
                vec2 xValues = vec2(
                  getX(batch, xF, xR, xC, `+p+`),
                  getX(batch, xF, xR, xC, `+p+` + 1)
                );
                vec2 wValues = vec2(
                  getW(wF, wR, wC, `+p+`, d2),
                  getW(wF, wR, wC, `+p+` + 1, d2)
                );
                dotProd += dot(xValues, wValues);
              } else if (`+(m===3)+`) {
                vec3 xValues = vec3(
                  getX(batch, xF, xR, xC, `+p+`),
                  getX(batch, xF, xR, xC, `+p+` + 1),
                  getX(batch, xF, xR, xC, `+p+` + 2)
                );
                vec3 wValues = vec3(
                  getW(wF, wR, wC, `+p+`, d2),
                  getW(wF, wR, wC, `+p+` + 1, d2),
                  getW(wF, wR, wC, `+p+` + 2, d2)
                );
                dotProd += dot(xValues, wValues);
              }
            }
          }
        }
        setOutput(dotProd);
      }
    `},LW=function(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=null),r===void 0&&(r=!1),this.variableNames=["x","W"],this.outputShape=e.outShape;var a=e.inHeight,i=e.inWidth,o=e.padInfo.top,s=e.padInfo.left,l=e.strideHeight,u=e.strideWidth,d=e.dilationHeight,f=e.dilationWidth,h=e.filterHeight,p=e.filterWidth,m=e.outChannels/e.inChannels,g="",y="";n&&(g=r?`float activation(float a) {
          float b = getPreluActivationWeightsAtOutCoords();
          `+n+`
        }`:`
          float activation(float x) {
            `+n+`
          }
        `,y="result = activation(result);");var x=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),this.userCode=`
      `+g+`

      const ivec2 strides = ivec2(`+l+", "+u+`);
      const ivec2 pads = ivec2(`+o+", "+s+`);

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords.x;
        ivec2 xRCCorner = coords.yz * strides - pads;
        int d2 = coords.w;
        int d1 = d2 / `+m+`;
        int q = d2 - d1 * `+m+`;

        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        // Convolve x(?, ?, d1) with w(:, :, d1, q) to get y(yR, yC, d2).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        // TO DO(dsmilkov): Flatten the two for loops and vec4 the operations.
        for (int wR = 0; wR < `+h+`; wR++) {
          int xR = xRCorner + wR * `+d+`;

          if (xR < 0 || xR >= `+a+`) {
            continue;
          }

          for (int wC = 0; wC < `+p+`; wC++) {
            int xC = xCCorner + wC * `+f+`;

            if (xC < 0 || xC >= `+i+`) {
              continue;
            }

            float xVal = getX(batch, xR, xC, d1);
            float wVal = getW(wR, wC, d1, q);
            dotProd += xVal * wVal;
          }
        }

        float result = dotProd;
        `+x+`
        `+y+`
        setOutput(result);
      }
    `},$W=function(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=null),r===void 0&&(r=!1),this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e.outShape;for(var a=e.inHeight,i=e.inWidth,o=e.padInfo.top,s=e.padInfo.left,l=e.strideHeight,u=e.strideWidth,d=e.dilationHeight,f=e.dilationWidth,h=e.filterHeight,p=e.filterWidth,m=p,g="int xR; int xC; int xCOffset;",y=0;y<h;y++)for(var x=0;x<p;x++)g+=`
          vec4 xTexelR`+y+"C"+2*x+` = vec4(0.);
          vec4 wR`+y+"C"+x+` = vec4(0.);
          vec4 xR`+y+"C"+x+" = vec4(0.);";for(y=0;y<h;y++)for(var b=0;b<m;b++){if(g+=`
          xR = xRCorner + `+y*d+`;
          xC = xCCorner + `+(x=2*b)*f+`;
        `,u===1){if(x<p&&(g+=s%2==1?`
                xCOffset = xC + 1;
                if(xR >= 0 && xR < `+a+" && xCOffset >= 0 && xCOffset < "+i+`) {
                  xTexelR`+y+"C"+x+` = getX(batch, xR, xCOffset, d1);

                  // Need to manually clear unused channels in case
                  // we're reading from recycled texture.
                  if(xCOffset + 1 >= `+i+`) {
                    xTexelR`+y+"C"+x+`.zw = vec2(0.);
                  }
                } else {
                  xTexelR`+y+"C"+x+` = vec4(0.);
                }

                xCOffset = xC + 1 - 2;
                if(xR >= 0 && xR < `+a+" && xCOffset >= 0 && xCOffset < "+i+`) {
                  vec4 previous = getX(batch, xR, xCOffset, d1);

                  // Need to manually clear unused channels in case
                  // we're reading from recycled texture.
                  if(xCOffset + 1 >= `+i+`) {
                    previous.zw = vec2(0.);
                  }

                  xR`+y+"C"+x+" = vec4(previous.zw, xTexelR"+y+"C"+x+`.xy);
                } else {
                  xR`+y+"C"+x+" = vec4(0, 0, xTexelR"+y+"C"+x+`.xy);
                }
              `:`
                if(xR >= 0 && xR < `+a+" && xC >= 0 && xC < "+i+`) {
                  xTexelR`+y+"C"+x+` = getX(batch, xR, xC, d1);
                } else {
                  xTexelR`+y+"C"+x+` = vec4(0.);
                }

                xR`+y+"C"+x+" = xTexelR"+y+"C"+x+`;
              `,x+1<p)){var w=s%2==0?Qae(f):f;f%2==0&&s%2==1||f%2!=0&&s%2!=1?(g+=`
                  xCOffset = xC + `+s%2+" + "+w+`;

                  if(xR >= 0 && xR < `+a+` &&
                    xCOffset >= 0 && xCOffset < `+i+`) {
                    xTexelR`+y+"C"+(x+2)+` = getX(batch, xR, xCOffset, d1);
                  }
                `,f>1&&(g+=`
                    xCOffset -= 2;
                    if(xR >= 0 && xR < `+a+` &&
                      xCOffset >= 0 && xCOffset < `+i+`) {
                      xTexelR`+y+"C"+x+` = getX(batch, xR, xCOffset, d1);
                    } else {
                      xTexelR`+y+"C"+x+` = vec4(0.);
                    }
                  `),g+=`
                  xR`+y+"C"+(x+1)+` = vec4(
                    xTexelR`+y+"C"+x+".zw, xTexelR"+y+"C"+(x+2)+`.xy);
                `):g+=`
                  xCOffset = xC + `+w+`;

                  if(xR >= 0 && xR < `+a+` &&
                    xCOffset >= 0 && xCOffset < `+i+`) {
                    xTexelR`+y+"C"+(x+2)+` = getX(batch, xR, xCOffset, d1);
                  }

                  xR`+y+"C"+(x+1)+" = xTexelR"+y+"C"+(x+2)+`;
                `}}else x<p&&(g+=`
              if(xR >= 0 && xR < `+a+`) {
            `,s%2==1?(g+=`
                xCOffset = xC + 1 - `+u+`;
                if(xCOffset >= 0 && xCOffset < `+i+`) {
                  xTexelR`+y+"C"+x+` = getX(batch, xR, xCOffset, d1);
                } else {
                  xTexelR`+y+"C"+x+` = vec4(0.);
                }

                if(xC + 1 >= 0 && xC + 1 < `+i+`) {
                  xTexelR`+y+"C"+(x+2)+` = getX(batch, xR, xC + 1, d1);
                } else {
                  xTexelR`+y+"C"+(x+2)+` = vec4(0.);
                }

                xR`+y+"C"+x+` = vec4(
                  xTexelR`+y+"C"+x+".zw, xTexelR"+y+"C"+(x+2)+`.zw);
              `,x+1<p&&(g+=`
                  vec4 final = vec4(0.);
                  xCOffset = xC + 1 + `+u+`;
                  if(xCOffset >= 0 && xCOffset < `+i+`) {
                    final = getX(batch, xR, xCOffset, d1);
                  }
                  xR`+y+"C"+(x+1)+" = vec4(xTexelR"+y+"C"+(x+2)+`.xy, final.xy);
                `)):(g+=`
                if(xC >= 0 && xC < `+i+`) {
                  xTexelR`+y+"C"+x+` = getX(batch, xR, xC, d1);
                } else {
                  xTexelR`+y+"C"+x+` = vec4(0.);
                }

                xCOffset = xC + `+u+`;
                if(xCOffset >= 0 && xCOffset < `+i+`) {
                  xTexelR`+y+"C"+(x+2)+` = getX(batch, xR, xCOffset, d1);
                } else {
                  xTexelR`+y+"C"+(x+2)+` = vec4(0.);
                }

                xR`+y+"C"+x+` = vec4(
                  xTexelR`+y+"C"+x+".xy, xTexelR"+y+"C"+(x+2)+`.xy);
              `,x+1<p&&(g+=`
                  xR`+y+"C"+(x+1)+` = vec4(
                    xTexelR`+y+"C"+x+".zw, xTexelR"+y+"C"+(x+2)+`.zw);
                `)),g+="}");x<p&&(g+=`
            vec4 wTexelR`+y+"C"+x+" = getW("+y+", "+x+`, d1, q);
            wR`+y+"C"+x+" = vec4(wTexelR"+y+"C"+x+".xz, wTexelR"+y+"C"+x+`.xz);
          `,x+1<p&&(g+=`
              vec4 wTexelR`+y+"C"+(x+1)+" = getW("+y+", "+(x+1)+`, d1, q);
              wR`+y+"C"+(x+1)+` =
                vec4(wTexelR`+y+"C"+(x+1)+".xz, wTexelR"+y+"C"+(x+1)+".xz);"))}for(y=0;y<h;y++)for(x=0;x<p;x++)g+="dotProd += xR"+y+"C"+x+" * wR"+y+"C"+x+";";var _="",S="";n&&(_=r?`vec4 activation(vec4 a) {
          vec4 b = getPreluActivationWeightsAtOutCoords();
          `+n+`
        }`:`vec4 activation(vec4 x) {
          `+n+`
        }`,S="result = activation(result);");var k=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),this.userCode=`
      `+_+`

      const ivec2 strides = ivec2(`+l+", "+u+`);
      const ivec2 pads = ivec2(`+o+", "+s+`);

      void main() {

        ivec4 coords = getOutputCoords();
        int batch = coords.x;
        ivec2 xRCCorner = coords.yz * strides - pads;
        int d2 = coords.w;
        int d1 = d2;
        int q = 0;
        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        vec4 dotProd = vec4(0.);

        `+g+`

        vec4 result = dotProd;
        `+k+`
        `+S+`
        setOutput(result);
      }
    `},iMe=function(e,t,n,r,a){this.variableNames=["Image","Boxes","BoxInd"],this.outputShape=[];var i=e[0],o=e[1],s=e[2],l=e[3],u=t[0],d=n[0],f=n[1];this.outputShape=[u,d,f,l];var h=r==="bilinear"?1:0,p=[o-1+".0",s-1+".0"],m=p[0],g=p[1],y=d>1?[""+(o-1)/(d-1),"(y2-y1) * height_ratio","y1*"+m+" + float(y)*(height_scale)"]:["0.0","0.0","0.5 * (y1+y2) * "+m],x=y[0],b=y[1],w=y[2],_=f>1?[""+(s-1)/(f-1),"(x2-x1) * width_ratio","x1*"+g+" + float(x)*(width_scale)"]:["0.0","0.0","0.5 * (x1+x2) * "+g],S=_[0],k=_[1],N=_[2];this.userCode=`
      const float height_ratio = float(`+x+`);
      const float width_ratio = float(`+S+`);
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int y = coords[1];
        int x = coords[2];
        int d = coords[3];

        // get box vals
        float y1 = getBoxes(b,0);
        float x1 = getBoxes(b,1);
        float y2 = getBoxes(b,2);
        float x2 = getBoxes(b,3);

        // get image in batch index
        int bInd = round(getBoxInd(b));
        if(bInd < 0 || bInd >= `+i+`) {
          return;
        }

        float height_scale = `+b+`;
        float width_scale = `+k+`;

        float in_y = `+w+`;
        if( in_y < 0.0 || in_y > `+m+` ) {
          setOutput(float(`+a+`));
          return;
        }
        float in_x = `+N+`;
        if( in_x < 0.0 || in_x > `+g+` ) {
          setOutput(float(`+a+`));
          return;
        }

        vec2 sourceFracIndexCR = vec2(in_x,in_y);
        if(`+h+` == 1) {
          // Compute the four integer indices.
          ivec2 sourceFloorCR = ivec2(sourceFracIndexCR);
          ivec2 sourceCeilCR = ivec2(ceil(sourceFracIndexCR));

          float topLeft = getImage(b, sourceFloorCR.y, sourceFloorCR.x, d);
          float bottomLeft = getImage(b, sourceCeilCR.y, sourceFloorCR.x, d);
          float topRight = getImage(b, sourceFloorCR.y, sourceCeilCR.x, d);
          float bottomRight = getImage(b, sourceCeilCR.y, sourceCeilCR.x, d);

          vec2 fracCR = sourceFracIndexCR - vec2(sourceFloorCR);

          float top = topLeft + (topRight - topLeft) * fracCR.x;
          float bottom = bottomLeft + (bottomRight - bottomLeft) * fracCR.x;
          float newValue = top + (bottom - top) * fracCR.y;
          setOutput(newValue);
        } else {
          // Compute the coordinators of nearest neighbor point.
          ivec2 sourceNearestCR = ivec2(floor(
            sourceFracIndexCR + vec2(0.5,0.5)));
          float newValue = getImage(b, sourceNearestCR.y, sourceNearestCR.x, d);
          setOutput(newValue);
        }
      }
    `},oMe=function(e,t,n){this.variableNames=["x"],this.outputShape=e;var r=e.length,a=e[e.length-1],i=n?"<":">";this.userCode=`
      int getIndex(int i) {
        `+(n?"return "+a+" -i - 1;":"return i;")+`
      }

      void main() {
        `+Xr(r)+` coords = getOutputCoords();
        int end = `+BW(r,"coords")+`;
        float val = 0.0;
        for (int i = `+a+` - 1; i >= 0; i -= 1) {
          int idx = getIndex(i);
          if (idx `+i+` end) {
            continue;
          }
          if (idx == end && `+t+`) {
            continue;
          }
          `+BW(r,"coords")+` = idx;
          val += getX(`+function(o,s){if(o===1)return""+s;if(o===2)return s+".x, "+s+".y";if(o===3)return s+".x, "+s+".y, "+s+".z";if(o===4)return s+".x, "+s+".y, "+s+".z, "+s+".w";throw Error("Cumulative sum for rank "+o+" is not yet supported")}(r,"coords")+`);
        }
        setOutput(val);
      }
    `};function BW(e,t){if(e===1)return""+t;if(e===2)return t+".y";if(e===3)return t+".z";if(e===4)return t+".w";throw Error("Cumulative sum for rank "+e+" is not yet supported")}var sMe=function(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outPackingScheme=_b.DENSE;var t=a1(e),n=go();this.outputShape=e,this.userCode=`
      ivec3 outCoordsFromFlatIndex(int index) {
        `+Pp(["r","c","d"],e)+`
        return ivec3(r, c, d);
      }

      void main() {
        ivec2 resTexRC = ivec2(resultUV.yx *
          vec2(`+t[0]+", "+t[1]+`));
        int index = 4 * (resTexRC.x * `+t[1]+` + resTexRC.y);

        vec4 result = vec4(0.);

        for (int i=0; i<4; i++) {
          int flatIndex = index + i;
          ivec3 rc = outCoordsFromFlatIndex(flatIndex);
          result[i] = getA(rc.x, rc.y, rc.z);
        }

        `+n.output+` = result;
      }
    `},lMe=function(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outPackingScheme=_b.DENSE;var t=a1(e),n=go();this.outputShape=e,this.userCode=`
      ivec3 outCoordsFromFlatIndex(int index) {
        `+Pp(["r","c","d"],e)+`
        return ivec3(r, c, d);
      }

      void main() {
        ivec2 resTexRC = ivec2(resultUV.yx *
          vec2(`+t[0]+", "+t[1]+`));
        int index = 4 * (resTexRC.x * `+t[1]+` + resTexRC.y);

        vec4 result = vec4(0.);

        for (int i=0; i<4; i++) {
          int flatIndex = index + i;
          ivec3 rc = outCoordsFromFlatIndex(flatIndex);
          result[i] = getChannel(getA(rc.x, rc.y, rc.z), vec2(rc.y, rc.z));
        }

        `+n.output+` = result;
      }
    `},cMe=function(){function e(t,n,r){this.variableNames=["x"],this.outputShape=[],this.outputShape=t,this.blockSize=n,this.dataFormat=r,this.userCode=`
    void main() {
      ivec4 coords = getOutputCoords();
      int b = coords[0];
      int h = `+this.getHeightCoordString()+`;
      int w = `+this.getWidthCoordString()+`;
      int d = `+this.getDepthCoordString()+`;

      int in_h = h / `+n+`;
      int offset_h = imod(h, `+n+`);
      int in_w = w / `+n+`;
      int offset_w = imod(w, `+n+`);
      int offset_d = (offset_h * `+n+` + offset_w) *
        `+this.getOutputDepthSize()+`;
      int in_d = d + offset_d;

      float result = `+this.getInputSamplingString()+`;
      setOutput(result);
    }
  `}return e.prototype.getHeightCoordString=function(){return this.dataFormat==="NHWC"?"coords[1]":"coords[2]"},e.prototype.getWidthCoordString=function(){return this.dataFormat==="NHWC"?"coords[2]":"coords[3]"},e.prototype.getDepthCoordString=function(){return this.dataFormat==="NHWC"?"coords[3]":"coords[1]"},e.prototype.getOutputDepthSize=function(){return this.dataFormat==="NHWC"?this.outputShape[3]:this.outputShape[1]},e.prototype.getInputSamplingString=function(){return this.dataFormat==="NHWC"?"getX(b, in_h, in_w, in_d)":"getX(b, in_d, in_h, in_w)"},e}(),uMe=function(e){this.variableNames=["X"],this.outputShape=[e,e],this.userCode=`
      void main() {
          ivec2 coords = getOutputCoords();
          float val = coords[0] == coords[1] ? getX(coords[0]) : 0.0;
          setOutput(val);
      }
    `},dMe=function(e){this.variableNames=["A"],this.outTexUsage=As.DOWNLOAD;var t=go();this.outputShape=e,this.userCode=`
      `+Aie+`

      void main() {
        float x = getAAtOutCoords();
        `+t.output+` = encode_float(x);
      }
    `},fMe=function(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outTexUsage=As.DOWNLOAD;var t=go();this.outputShape=e,this.userCode=`
      `+Aie+`

      void main() {
        ivec3 coords = getOutputCoords();
        float x = getChannel(getAAtOutCoords(), vec2(coords.y, coords.z));
        `+t.output+` = encode_float(x);
      }
    `},hMe=function(e,t,n){n===void 0&&(n=!1),this.variableNames=["A"];var r=go(),a=t[0],i=t[1];this.outputShape=e;var o="result";n&&(o="floor(result * 255. + 0.5)"),this.userCode=`
      `+k5(e)+`

      void main() {
        ivec3 coords = getOutputCoords();

        int flatIndex = getFlatIndex(coords);
        int offset = imod(flatIndex, 4);

        flatIndex = idiv(flatIndex, 4, 1.);
        
        int r = flatIndex / `+i+`;
        int c = imod(flatIndex, `+i+`);
        vec2 uv = (vec2(c, r) + halfCR) / vec2(`+i+".0, "+a+`.0);
        vec4 values = `+r.texture2D+`(A, uv);

        float result;

        if(offset == 0) {
          result = values[0];
        } else if(offset == 1) {
          result = values[1];
        } else if(offset == 2) {
          result = values[2];
        } else {
          result = values[3];
        }

        `+r.output+" = vec4("+o+`, 0., 0., 0.);
      }
    `},pMe=function(e,t,n){n===void 0&&(n=!1),this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;var r=go(),a=t[0],i=t[1];this.outputShape=e;var o="",s="result";n&&(s="floor(result * 255. + 0.5)");for(var l=0;l<=1;l++)for(var u=0;u<=1;u++){var d=2*l+u;o+=`
          localCoords = coords;
          if(localCoords[2] + `+u+" < "+e[2]+`) {
            localCoords[2] += `+u+`;
            if(localCoords[1] + `+l+" < "+e[1]+`) {
              localCoords[1] += `+l+`;

              flatIndex = getFlatIndex(localCoords);
              offset = imod(flatIndex, 4);

              flatIndex = idiv(flatIndex, 4, 1.);

              r = flatIndex / `+i+`;
              c = imod(flatIndex, `+i+`);
              uv = (vec2(c, r) + halfCR) / vec2(`+i+".0, "+a+`.0);
              values = `+r.texture2D+`(A, uv);

              if(offset == 0) {
                result[`+d+`] = values[0];
              } else if(offset == 1) {
                result[`+d+`] = values[1];
              } else if(offset == 2) {
                result[`+d+`] = values[2];
              } else {
                result[`+d+`] = values[3];
              }
            }
          }
        `}this.userCode=`
      `+k5(e)+`

      void main() {
        ivec3 coords = getOutputCoords();

        vec4 result = vec4(0.);
        int flatIndex, r, c, offset;
        ivec3 localCoords;
        vec2 uv;
        vec4 values;

        `+o+`

        `+r.output+" = "+s+`;
      }
    `},mMe="return real * expR - imag * expI;",gMe="return real * expI + imag * expR;",zW=function(e,t,n){this.variableNames=["real","imag"];var r=t[1];this.outputShape=t;var a=n?"2.0 * "+Math.PI:"-2.0 * "+Math.PI,i=n?r+".0":"1.0";this.userCode=`
      const float exponentMultiplier = `+a+`;

      float unaryOpComplex(float real, float expR, float imag, float expI) {
        `+e+`
      }

      float mulMatDFT(int batch, int index) {
        float indexRatio = float(index) / float(`+r+`);
        float exponentMultiplierTimesIndexRatio =
            exponentMultiplier * indexRatio;

        float result = 0.0;

        for (int i = 0; i < `+r+`; i++) {
          // x = (-2|2 * PI / N) * index * i;
          float x = exponentMultiplierTimesIndexRatio * float(i);
          float expR = cos(x);
          float expI = sin(x);
          float real = getReal(batch, i);
          float imag = getImag(batch, i);

          result +=
              unaryOpComplex(real, expR, imag, expI) / `+i+`;
        }

        return result;
      }

      void main() {
        ivec2 coords = getOutputCoords();
        setOutput(mulMatDFT(coords[0], coords[1]));
      }
    `},vMe=function(){function e(t,n){this.outputShape=[],this.variableNames=["x"],this.outputShape=t,this.userCode=`
      uniform float value;
      void main() {
        // Input can be obtained from uniform value.
        setOutput(value);
      }
    `}return e.prototype.getCustomSetupFunc=function(t){var n=this;return function(r,a){n.valueLoc==null&&(n.valueLoc=r.getUniformLocationNoThrow(a,"value")),r.gl.uniform1f(n.valueLoc,t)}},e}(),yMe=function(e,t,n){this.variableNames=["A","indices"];var r=e.slice();r[n]=t,this.outputShape=r,this.rank=r.length;var a=Xr(this.rank),i=function(o,s){var l=o.length;if(l>4)throw Error("Gather for rank "+l+" is not yet supported");if(l===1)return"int(getIndices(resRC))";for(var u=["resRC.x","resRC.y","resRC.z","resRC.w"],d=[],f=0;f<o.length;f++)f===s?d.push("int(getIndices("+u[f]+"))"):d.push(""+u[f]);return d.join()}(e,n);this.userCode=`
      void main() {
        `+a+` resRC = getOutputCoords();
        setOutput(getA(`+i+`));
      }
    `},xMe=function(e,t,n){this.sliceDim=e,this.strides=t,this.variableNames=["x","indices"],this.outputShape=n;var r=Xr(t.length),a=Xr(n.length),i=this.sliceDim>1?"strides[j]":"strides";this.userCode=`
        `+r+" strides = "+r+"("+this.strides+`);
         void main() {
          `+a+` coords = getOutputCoords();
          int flattenIndex = 0;
          for (int j = 0; j < `+this.sliceDim+`; j++) {
            int index = round(getIndices(coords[0], j));
            flattenIndex += index * `+i+`;
          }
          setOutput(getX(flattenIndex, coords[1]));
        }
      `};function bMe(e,t){var n=go();return mOe(e,t,n.version+`
    precision highp float;
    `+n.attribute+` vec3 clipSpacePos;
    `+n.attribute+` vec2 uv;
    `+n.varyingVs+` vec2 resultUV;

    void main() {
      gl_Position = vec4(clipSpacePos, 1);
      resultUV = uv;
    }`)}function wMe(e,t){return bOe(e,t,new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]))}function _Me(e,t){return wOe(e,t,new Uint16Array([0,1,2,2,1,3]))}function e2(e,t,n,r,a,i,o){SOe(n,r);var s=_Oe(e,t),l=e.TEXTURE_2D;return dn(e,t,function(){return e.bindTexture(l,s)}),dn(e,t,function(){return e.texParameteri(l,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE)}),dn(e,t,function(){return e.texParameteri(l,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)}),dn(e,t,function(){return e.texParameteri(l,e.TEXTURE_MIN_FILTER,e.NEAREST)}),dn(e,t,function(){return e.texParameteri(l,e.TEXTURE_MAG_FILTER,e.NEAREST)}),dn(e,t,function(){return e.texImage2D(l,0,a,n,r,0,i,o,null)}),dn(e,t,function(){return e.bindTexture(e.TEXTURE_2D,null)}),s}function SMe(e,t,n,r,a){var i=Wj(n,r);return e2(e,t,i[0],i[1],a.internalFormatFloat,a.textureFormatFloat,e.FLOAT)}function CMe(e,t,n,r,a){var i=Wj(n,r);return e2(e,t,i[0],i[1],a.internalFormatHalfFloat,a.textureFormatFloat,a.textureTypeHalfFloat)}function EMe(e,t,n,r,a){var i=Wj(n,r);return e2(e,t,i[0],i[1],e.RGBA,e.RGBA,e.UNSIGNED_BYTE)}function NMe(e,t,n,r,a){var i=Jw(n,r);return e2(e,t,i[0],i[1],a.internalFormatPackedFloat,e.RGBA,e.FLOAT)}function kMe(e,t,n,r,a){var i=Jw(n,r);return e2(e,t,i[0],i[1],a.internalFormatPackedHalfFloat,e.RGBA,a.textureTypeHalfFloat)}function jMe(e,t,n,r){return dn(e,t,function(){return e.bindBuffer(e.ARRAY_BUFFER,r)}),jW(e,t,n,"clipSpacePos",r,3,20,0)&&jW(e,t,n,"uv",r,2,20,12)}function TMe(e,t,n,r,a,i,o){var s,l,u;dn(e,t,function(){return e.bindTexture(e.TEXTURE_2D,n)}),i instanceof Uint8Array?(s=new Uint8Array(r*a*4),l=e.UNSIGNED_BYTE,u=e.RGBA):(s=new Float32Array(r*a*4),l=e.FLOAT,u=o.internalFormatPackedFloat),s.set(i),dn(e,t,function(){return e.texImage2D(e.TEXTURE_2D,0,u,r,a,0,e.RGBA,l,s)}),dn(e,t,function(){return e.bindTexture(e.TEXTURE_2D,null)})}function PMe(e,t,n,r){dn(e,t,function(){return e.bindTexture(e.TEXTURE_2D,n)}),r.data instanceof Uint8Array?dn(e,t,function(){return e.texImage2D(e.TEXTURE_2D,0,e.RGBA,r.width,r.height,0,e.RGBA,e.UNSIGNED_BYTE,r.data)}):dn(e,t,function(){return e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,r)}),dn(e,t,function(){return e.bindTexture(e.TEXTURE_2D,null)})}function AMe(e,t,n,r,a){var i=e.createBuffer();dn(e,t,function(){return e.bindBuffer(e.PIXEL_PACK_BUFFER,i)});var o=16*n*r;return dn(e,t,function(){return e.bufferData(e.PIXEL_PACK_BUFFER,o,e.STREAM_READ)}),dn(e,t,function(){return e.readPixels(0,0,r,n,e.RGBA,e.FLOAT,0)}),dn(e,t,function(){return e.bindBuffer(e.PIXEL_PACK_BUFFER,null)}),i}function DMe(e,t,n){var r=e,a=new Float32Array(n);return r.bindBuffer(r.PIXEL_PACK_BUFFER,t),r.getBufferSubData(r.PIXEL_PACK_BUFFER,0,a),r.bindBuffer(r.PIXEL_PACK_BUFFER,null),a}function OMe(e,t,n,r,a){var i=Wj(n,r),o=i[0],s=i[1],l=new Uint8Array(n*r*4);return dn(e,t,function(){return e.readPixels(0,0,o,s,a.downloadTextureFormat,e.UNSIGNED_BYTE,l)}),new Float32Array(l.buffer)}function MMe(e,t,n,r,a,i,o,s){var l=e,u=new Float32Array(function(d,f){var h=Jw(d,f);return h[0]*h[1]*4}(i,o));return l.bindBuffer(l.PIXEL_PACK_BUFFER,t),l.getBufferSubData(l.PIXEL_PACK_BUFFER,0,u),l.bindBuffer(l.PIXEL_PACK_BUFFER,null),u}function IMe(e,t,n,r){var a=new Float32Array(n*r*4);return dn(e,t,function(){return e.readPixels(0,0,r,n,e.RGBA,e.FLOAT,a)}),a}var RMe=function(){function e(t){this.outputTexture=null,this.program=null,this.disposed=!1,this.vertexAttrsAreBound=!1,this.itemsToPoll=[];var n=lt().getNumber("WEBGL_VERSION");t!=null?(this.gl=t,uOe(n,t)):this.gl=Ou(n);var r="WEBGL_color_buffer_float";if(lt().getNumber("WEBGL_VERSION")===1){if(this.textureFloatExtension=b_(this.gl,this.debug,"OES_texture_float"),bl(this.gl,"OES_texture_half_float"))this.textureHalfFloatExtension=b_(this.gl,this.debug,"OES_texture_half_float");else if(lt().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support half float textures, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.");if(this.colorBufferFloatExtension=this.gl.getExtension(r),bl(this.gl,"EXT_color_buffer_half_float"))this.colorBufferHalfFloatExtension=b_(this.gl,this.debug,"EXT_color_buffer_half_float");else if(lt().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support color renderable half floats, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.")}else if(r="EXT_color_buffer_float",bl(this.gl,r))this.colorBufferFloatExtension=this.gl.getExtension(r);else{if(!bl(this.gl,"EXT_color_buffer_half_float"))throw new Error("GL context does not support color renderable floats");this.colorBufferHalfFloatExtension=this.gl.getExtension("EXT_color_buffer_half_float")}this.vertexBuffer=wMe(this.gl,this.debug),this.indexBuffer=_Me(this.gl,this.debug),this.framebuffer=COe(this.gl,this.debug),this.textureConfig=v5(this.gl,this.textureHalfFloatExtension)}return Object.defineProperty(e.prototype,"debug",{get:function(){return lt().getBool("DEBUG")},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){var t=this;if(!this.disposed){this.program!=null&&console.warn("Disposing a GPGPUContext that still has a bound WebGLProgram. This is probably a resource leak, delete the program with GPGPUContext.deleteProgram before disposing."),this.outputTexture!=null&&console.warn("Disposing a GPGPUContext that still has a bound output matrix texture.  This is probably a resource leak, delete the output matrix texture with GPGPUContext.deleteMatrixTexture before disposing.");var n=this.gl;dn(n,this.debug,function(){return n.finish()}),dn(n,this.debug,function(){return n.bindFramebuffer(n.FRAMEBUFFER,null)}),dn(n,this.debug,function(){return n.deleteFramebuffer(t.framebuffer)}),dn(n,this.debug,function(){return n.bindBuffer(n.ARRAY_BUFFER,null)}),dn(n,this.debug,function(){return n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,null)}),dn(n,this.debug,function(){return n.deleteBuffer(t.indexBuffer)}),this.disposed=!0}},e.prototype.createFloat32MatrixTexture=function(t,n){return this.throwIfDisposed(),SMe(this.gl,this.debug,t,n,this.textureConfig)},e.prototype.createFloat16MatrixTexture=function(t,n){return this.throwIfDisposed(),CMe(this.gl,this.debug,t,n,this.textureConfig)},e.prototype.createUnsignedBytesMatrixTexture=function(t,n){return this.throwIfDisposed(),EMe(this.gl,this.debug,t,n,this.textureConfig)},e.prototype.uploadPixelDataToTexture=function(t,n){this.throwIfDisposed(),PMe(this.gl,this.debug,t,n)},e.prototype.uploadDenseMatrixToTexture=function(t,n,r,a){this.throwIfDisposed(),TMe(this.gl,this.debug,t,n,r,a,this.textureConfig)},e.prototype.createFloat16PackedMatrixTexture=function(t,n){return this.throwIfDisposed(),kMe(this.gl,this.debug,t,n,this.textureConfig)},e.prototype.createPackedMatrixTexture=function(t,n){return this.throwIfDisposed(),NMe(this.gl,this.debug,t,n,this.textureConfig)},e.prototype.deleteMatrixTexture=function(t){var n=this;this.throwIfDisposed(),this.outputTexture===t&&(TW(this.gl,this.debug,this.framebuffer),this.outputTexture=null),dn(this.gl,this.debug,function(){return n.gl.deleteTexture(t)})},e.prototype.downloadByteEncodedFloatMatrixFromOutputTexture=function(t,n,r){var a=this;return this.downloadMatrixDriver(t,function(){return OMe(a.gl,a.debug,n,r,a.textureConfig)})},e.prototype.downloadPackedMatrixFromBuffer=function(t,n,r,a,i,o){return MMe(this.gl,t,0,0,0,i,o,this.textureConfig)},e.prototype.downloadFloat32MatrixFromBuffer=function(t,n){return DMe(this.gl,t,n)},e.prototype.createBufferFromTexture=function(t,n,r){this.bindTextureToFrameBuffer(t);var a=AMe(this.gl,this.debug,n,r,this.textureConfig);return this.unbindTextureToFrameBuffer(),a},e.prototype.createAndWaitForFence=function(){var t=this.createFence(this.gl);return this.pollFence(t)},e.prototype.createFence=function(t){var n,r,a=this;if(lt().getBool("WEBGL_FENCE_API_ENABLED")){var i=t,o=i.fenceSync(i.SYNC_GPU_COMMANDS_COMPLETE,0);t.flush(),r=function(){var s=i.clientWaitSync(o,0,0);return s===i.ALREADY_SIGNALED||s===i.CONDITION_SATISFIED},n=o}else lt().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(n=this.beginQuery(),this.endQuery(),r=function(){return a.isQueryAvailable(n,lt().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}):r=function(){return!0};return{query:n,isFencePassed:r}},e.prototype.downloadMatrixFromPackedTexture=function(t,n,r){var a=this;return this.downloadMatrixDriver(t,function(){return IMe(a.gl,a.debug,n,r)})},e.prototype.createProgram=function(t){this.throwIfDisposed();var n=this.gl,r=gOe(n,this.debug,t),a=bMe(n,this.debug),i=yOe(n,this.debug);return dn(n,this.debug,function(){return n.attachShader(i,a)}),dn(n,this.debug,function(){return n.attachShader(i,r)}),xOe(n,this.debug,i),this.debug&&d4(n,this.debug,i),this.vertexAttrsAreBound||(this.setProgram(i),this.vertexAttrsAreBound=jMe(n,this.debug,this.program,this.vertexBuffer)),i},e.prototype.deleteProgram=function(t){var n=this;this.throwIfDisposed(),t===this.program&&(this.program=null),t!=null&&dn(this.gl,this.debug,function(){return n.gl.deleteProgram(t)})},e.prototype.setProgram=function(t){var n=this;this.throwIfDisposed(),this.program=t,this.program!=null&&this.debug&&d4(this.gl,this.debug,this.program),dn(this.gl,this.debug,function(){return n.gl.useProgram(t)})},e.prototype.getUniformLocation=function(t,n,r){return r===void 0&&(r=!0),this.throwIfDisposed(),r?NOe(this.gl,this.debug,t,n):kOe(this.gl,t,n)},e.prototype.getAttributeLocation=function(t,n){var r=this;return this.throwIfDisposed(),dn(this.gl,this.debug,function(){return r.gl.getAttribLocation(t,n)})},e.prototype.getUniformLocationNoThrow=function(t,n){return this.throwIfDisposed(),this.gl.getUniformLocation(t,n)},e.prototype.setInputMatrixTexture=function(t,n,r){this.throwIfDisposed(),this.throwIfNoProgram(),jOe(this.gl,this.debug,this.program,t,n,r)},e.prototype.setOutputMatrixTexture=function(t,n,r){this.setOutputMatrixTextureDriver(t,r,n)},e.prototype.setOutputPackedMatrixTexture=function(t,n,r){this.throwIfDisposed();var a=Jw(n,r),i=a[0],o=a[1];this.setOutputMatrixTextureDriver(t,i,o)},e.prototype.setOutputMatrixWriteRegion=function(t,n,r,a){this.setOutputMatrixWriteRegionDriver(r,t,a,n)},e.prototype.setOutputPackedMatrixWriteRegion=function(t,n,r,a){throw new Error("setOutputPackedMatrixWriteRegion not implemented.")},e.prototype.debugValidate=function(){this.program!=null&&d4(this.gl,this.debug,this.program),w_(this.gl)},e.prototype.executeProgram=function(){this.throwIfDisposed(),this.throwIfNoProgram();var t=this.gl;this.debug&&this.debugValidate(),dn(t,this.debug,function(){return t.drawElements(t.TRIANGLES,6,t.UNSIGNED_SHORT,0)})},e.prototype.blockUntilAllProgramsCompleted=function(){var t=this;this.throwIfDisposed(),dn(this.gl,this.debug,function(){return t.gl.finish()})},e.prototype.getQueryTimerExtension=function(){return this.disjointQueryTimerExtension==null&&(this.disjointQueryTimerExtension=b_(this.gl,this.debug,lt().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")===2?"EXT_disjoint_timer_query_webgl2":"EXT_disjoint_timer_query")),this.disjointQueryTimerExtension},e.prototype.getQueryTimerExtensionWebGL2=function(){return this.getQueryTimerExtension()},e.prototype.getQueryTimerExtensionWebGL1=function(){return this.getQueryTimerExtension()},e.prototype.beginQuery=function(){if(lt().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")===2){var t=this.gl,n=this.getQueryTimerExtensionWebGL2(),r=t.createQuery();return t.beginQuery(n.TIME_ELAPSED_EXT,r),r}var a=this.getQueryTimerExtensionWebGL1(),i=a.createQueryEXT();return a.beginQueryEXT(a.TIME_ELAPSED_EXT,i),i},e.prototype.endQuery=function(){if(lt().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")!==2){var t=this.getQueryTimerExtensionWebGL1();t.endQueryEXT(t.TIME_ELAPSED_EXT)}else{var n=this.gl,r=this.getQueryTimerExtensionWebGL2();n.endQuery(r.TIME_ELAPSED_EXT)}},e.prototype.waitForQueryAndGetTime=function(t){return an(this,void 0,void 0,function(){var n=this;return on(this,function(r){switch(r.label){case 0:return[4,_W(function(){return n.disposed||n.isQueryAvailable(t,lt().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))})];case 1:return r.sent(),[2,this.getQueryTime(t,lt().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))]}})})},e.prototype.getQueryTime=function(t,n){if(n===0)return null;if(n===2){var r=this.gl;return r.getQueryParameter(t,r.QUERY_RESULT)/1e6}var a=this.getQueryTimerExtensionWebGL1();return a.getQueryObjectEXT(t,a.QUERY_RESULT_EXT)/1e6},e.prototype.isQueryAvailable=function(t,n){if(n===0)return!0;if(n===2){var r=this.gl,a=this.getQueryTimerExtensionWebGL2(),i=r.getQueryParameter(t,r.QUERY_RESULT_AVAILABLE);return this.disjoint==null&&(this.disjoint=this.gl.getParameter(a.GPU_DISJOINT_EXT)),i&&!this.disjoint}return i=(a=this.getQueryTimerExtensionWebGL1()).getQueryObjectEXT(t,a.QUERY_RESULT_AVAILABLE_EXT),this.disjoint==null&&(this.disjoint=this.gl.getParameter(a.GPU_DISJOINT_EXT)),i&&!this.disjoint},e.prototype.pollFence=function(t){var n=this;return new Promise(function(r){n.addItemToPoll(function(){return t.isFencePassed()},function(){return r()})})},e.prototype.pollItems=function(){for(var t=function(r){for(var a=0;a<r.length&&r[a]();++a);return a-1}(this.itemsToPoll.map(function(r){return r.isDoneFn})),n=0;n<=t;++n)(0,this.itemsToPoll[n].resolveFn)();this.itemsToPoll=this.itemsToPoll.slice(t+1)},e.prototype.addItemToPoll=function(t,n){var r=this;this.itemsToPoll.push({isDoneFn:t,resolveFn:n}),this.itemsToPoll.length>1||_W(function(){return r.pollItems(),r.itemsToPoll.length===0})},e.prototype.bindTextureToFrameBuffer=function(t){this.throwIfDisposed(),f4(this.gl,this.debug,t,this.framebuffer),this.debug&&w_(this.gl)},e.prototype.unbindTextureToFrameBuffer=function(){this.outputTexture!=null?(f4(this.gl,this.debug,this.outputTexture,this.framebuffer),this.debug&&w_(this.gl)):TW(this.gl,this.debug,this.framebuffer)},e.prototype.downloadMatrixDriver=function(t,n){this.bindTextureToFrameBuffer(t);var r=n();return this.unbindTextureToFrameBuffer(),r},e.prototype.setOutputMatrixTextureDriver=function(t,n,r){this.throwIfDisposed();var a=this.gl;f4(a,this.debug,t,this.framebuffer),this.debug&&w_(a),this.outputTexture=t,dn(a,this.debug,function(){return a.viewport(0,0,n,r)}),dn(a,this.debug,function(){return a.scissor(0,0,n,r)})},e.prototype.setOutputMatrixWriteRegionDriver=function(t,n,r,a){var i=this;this.throwIfDisposed(),dn(this.gl,this.debug,function(){return i.gl.scissor(t,n,r,a)})},e.prototype.throwIfDisposed=function(){if(this.disposed)throw new Error("Attempted to use disposed GPGPUContext.")},e.prototype.throwIfNoProgram=function(){if(this.program==null)throw new Error("No GPU program is currently set.")},e}();function UW(e,t){if(e.length!==t.length)throw Error("Binary was compiled with "+e.length+" inputs, but was executed with "+t.length+" inputs");e.forEach(function(n,r){var a=n.logicalShape,i=t[r],o=i.shape;if(!Pi(a,o))throw Error("Binary was compiled with different shapes than the current args. Shapes "+a+" and "+o+" must match");if(!n.isUniform||!i.isUniform){var s=n.texShape,l=i.isUniform?null:i.texData.texShape;if(!Pi(s,l))throw Error("Binary was compiled with different texture shapes than the current args. Shape "+s+" and "+l+" must match")}})}var FMe=function(e,t,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e;for(var r=n.filterWidth,a=n.inChannels,i=n.strideWidth,o=n.strideHeight,s=n.padInfo,l=n.outWidth,u=n.dilationWidth,d=n.dilationHeight,f=n.dataFormat,h=s.left,p=s.top,m=a*r,g=go(),y=f==="channelsLast",x=y?0:1,b=y?1:2,w="",_=0;_<=1;_++)for(var S=0;S<=1;S++)w+=`
          blockIndex = rc.y + `+S+`;
          pos = rc.x + `+_+`;

          if(blockIndex < `+e[1]+" && pos < "+e[0]+`) {
            offsetY = int(blockIndex / (`+l+")) * "+o+" - "+p+`;
            d0 = offsetY + `+d+" * (pos / "+m+`);

            if(d0 < `+t[x]+` && d0 >= 0) {

              offsetX = int(mod(float(blockIndex), `+l+".) * "+i+". - "+h+`.);
              d1 = offsetX + `+u+" * (int(mod(float(pos), "+m+".) / "+a+`.));

              if(d1 < `+t[b]+` && d1 >= 0) {

                ch = int(mod(float(pos), `+a+`.));

                if (`+y+`) {
                  innerDims = vec2(d1, ch);
                  result[`+(2*_+S)+`] = getChannel(
                    getA(d0, int(innerDims.x),
                    int(innerDims.y)), innerDims);
                } else {
                  innerDims = vec2(d0, d1);
                  result[`+(2*_+S)+`] = getChannel(
                    getA(ch, int(innerDims.x),
                    int(innerDims.y)), innerDims);
                }
              }
            }
          }
        `;this.userCode=`
      void main() {
        ivec2 rc = getOutputCoords();

        vec4 result = vec4(0);

        int blockIndex, pos, offsetY, d0, offsetX, d1, ch;
        vec2 innerDims;

        `+w+`

        `+g.output+` = result;
      }
    `},LMe=function(e,t,n,r,a){this.variableNames=["x"],this.outputShape=[];var i,o=t,s=e[3]-1;this.outputShape=e;var l="float("+n+") + float("+r+") * sum";i=a===.5?"inversesqrt("+l+")":a===1?"1.0/("+l+")":"exp(log("+l+") * float(-"+a+"));",this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int r = coords[1];
        int c = coords[2];
        int d = coords[3];
        float x = getX(b, r, c, d);
        float sum = 0.0;
        for (int j = -`+o+"; j <= "+o+`; j++) {
          int idx = d + j;
          if (idx >= 0 && idx <=  `+s+`) {
            float z = getX(b, r, c, idx);
            sum += z * z;
          }
        }
        float val = x * `+i+`;
        setOutput(val);
      }
    `},$Me=function(e,t,n,r,a){this.variableNames=["inputImage","outputImage","dy"],this.outputShape=[],this.outputShape=e,this.depth=e[3],this.depthRadius=t,this.bias=n,this.alpha=r,this.beta=a,this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int r = coords[1];
        int c = coords[2];

        float result = 0.0;
        for (int d = 0; d < `+this.depth+`; ++d) {
          int depthBegin = int(max(0.0, float(d - `+t+`)));
          int depthEnd = int(min(float(`+this.depth+`),
              float(d + `+t+` + 1)));

          const int MIN_DEPTH_BEGIN = 0;
          const int MAX_DEPTH_END = `+this.depth+`;

          float norm = 0.0;
          for (int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k) {
            if (k < depthBegin){
              continue;
            }
            else if (k >= depthBegin && k < depthEnd) {
              norm += getInputImage(b, r, c, k) * getInputImage(b, r, c, k);
            }
            else {
              break;
            }
          }

          norm = float(`+r+") * norm + float("+n+`);

          for(int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k){
            if (k < depthBegin){
              continue;
            }
            else if (k >= depthBegin && k < depthEnd){
              float dyi = -2.0 * float(`+r+`)
                * float(`+a+`)
                * getInputImage(b ,r ,c, k) * getOutputImage(b, r, c, d)
                / norm;
              if (k == d) {
                dyi += pow(norm, -1.0 * `+a+`);
              }
              if (k == coords[3]) {
                dyi *= getDy(b, r, c, d);
                result += dyi;
              }
            }
            else {
              break;
            }
          }
      }
      setOutput(result);
      }
    `},BMe=function(e,t,n,r,a){this.variableNames=["x"],this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0;var i,o=t,s=e[3]-1;this.outputShape=e;var l="float("+n+") + float("+r+") * sum";i=a===.5?"inversesqrt("+l+")":a===1?"1.0/("+l+")":"exp(log("+l+") * float(-"+a+"));",this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords.x;
        int r = coords.y;
        int c = coords.z;
        int d = coords.w;

        bool hasNextCol = d < `+this.outputShape[3]+`;
        bool hasNextRow = c < `+this.outputShape[2]+`;

        vec4 sum = vec4(0.);
        vec4 xFragAtOutputCoords = getX(b, r, c, d);

        vec4 xAtOutputCoords = vec4(
          getChannel(xFragAtOutputCoords, vec2(c, d)),
          hasNextCol ?
            getChannel(xFragAtOutputCoords, vec2(c, d + 1)) : 0.0,
          hasNextRow ?
            getChannel(xFragAtOutputCoords , vec2(c + 1, d)) : 0.0,
          (hasNextRow && hasNextCol) ?
            getChannel(xFragAtOutputCoords, vec2(c + 1, d + 1)) : 0.0
        );

        int firstChannel = d - `+o+`;
        vec2 cache = vec2(0.);
        if(firstChannel >= 0){
          vec4 firstChannelFrag = getX(b, r, c, firstChannel);
          cache.x = getChannel(firstChannelFrag, vec2(c, firstChannel));
            if(hasNextRow){
              cache.y = getChannel(firstChannelFrag, vec2(c + 1, firstChannel));
            }
        }

        ivec2 depth = ivec2(d, d + 1);
        for (int j = - `+o+"; j <= "+o+`; j++) {
          ivec2 idx = depth + j;
          bvec2 aboveLowerBound = greaterThanEqual(idx, ivec2(0));
          bvec2 belowUpperBound = lessThanEqual(idx, ivec2(`+s+`));

          bool depthInRange = aboveLowerBound.x && belowUpperBound.x;
          bool depthPlusOneInRange = aboveLowerBound.y && belowUpperBound.y;

          if(depthInRange || depthPlusOneInRange){
            vec4 z = vec4(0.);
            vec4 xFragAtCurrentDepth;
            z.xz = cache.xy;
            if(depthPlusOneInRange && hasNextCol){
              xFragAtCurrentDepth = idx.y != d ?
                getX(b, r, c, idx.y) : xFragAtOutputCoords;
              z.y = getChannel(xFragAtCurrentDepth, vec2(c, idx.y));
              if(hasNextRow){
                z.w = getChannel(xFragAtCurrentDepth, vec2(c + 1, idx.y));
              }
            }
            cache.xy = z.yw;
            sum += z * z;
          }
        }
        vec4 result = xAtOutputCoords * `+i+`;
        setOutput(result);
      }
    `},zMe=function(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;var t=e.strideHeight,n=e.strideWidth,r=e.dilationHeight,a=e.effectiveFilterHeight,i=e.effectiveFilterWidth,o=a-1-e.padInfo.top,s=i-1-e.padInfo.left,l=a*i-1;this.userCode=`
      const ivec2 pads = ivec2(`+o+", "+s+`);

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];

        ivec2 dyRCCorner = coords.yz - pads;
        int dyRCorner = dyRCCorner.x;
        int dyCCorner = dyRCCorner.y;

        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < `+a+`;
          wR += `+r+`) {
          float dyR = float(dyRCorner + wR) / `+t+`.0;

          if (dyR < 0.0 || dyR >= `+e.outHeight+`.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          for (int wC = 0; wC < `+i+`; wC++) {
            float dyC = float(dyCCorner + wC) / `+n+`.0;

            if (dyC < 0.0 || dyC >= `+e.outWidth+`.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            float dyValue = getDy(b, idyR, idyC, d);
            int maxPosValue = `+l+` - int(getMaxPos(b, idyR, idyC, d));

            // Get the current value, check it against the value from the
            // position matrix.
            int curPosValue = wR * `+i+` + wC;
            float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);

            dotProd += dyValue * mask;
          }
        }
        setOutput(dotProd);
      }
    `},UMe=function(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;var t=e.strideDepth,n=e.strideHeight,r=e.strideWidth,a=e.dilationDepth,i=e.dilationHeight,o=e.dilationWidth,s=e.effectiveFilterDepth,l=e.effectiveFilterHeight,u=e.effectiveFilterWidth,d=s-1-e.padInfo.front,f=l-1-e.padInfo.top,h=u-1-e.padInfo.left,p=s*l*u-1;this.userCode=`
      const ivec3 pads = ivec3(`+d+", "+f+", "+h+`);

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int ch = coords.u;

        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;
        int dyDCorner = dyCorner.x;
        int dyRCorner = dyCorner.y;
        int dyCCorner = dyCorner.z;

        // Convolve dy(?, ?, ?, ch) with pos mask(:, :, :, d) to get
        // dx(xD, xR, xC, ch).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;

        for (int wD = 0; wD < `+s+`;
           wD += `+a+`) {
          float dyD = float(dyDCorner + wD) / `+t+`.0;

          if (dyD < 0.0 || dyD >= `+e.outDepth+`.0 || fract(dyD) > 0.0) {
            continue;
          }
          int idyD = int(dyD);

          for (int wR = 0; wR < `+l+`;
              wR += `+i+`) {
            float dyR = float(dyRCorner + wR) / `+n+`.0;

            if (dyR < 0.0 || dyR >= `+e.outHeight+`.0 ||
                fract(dyR) > 0.0) {
              continue;
            }
            int idyR = int(dyR);

            for (int wC = 0; wC < `+u+`;
                wC += `+o+`) {
              float dyC = float(dyCCorner + wC) / `+r+`.0;

              if (dyC < 0.0 || dyC >= `+e.outWidth+`.0 ||
                  fract(dyC) > 0.0) {
                continue;
              }
              int idyC = int(dyC);

              float dyValue = getDy(batch, idyD, idyR, idyC, ch);
              int maxPosValue = `+p+` -
                  int(getMaxPos(batch, idyD, idyR, idyC, ch));

              // Get the current value, check it against the value from the
              // position matrix.
              int curPosValue =
                  wD * `+l+" * "+u+` +
                  wR * `+u+` + wC;
              float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);

              dotProd += dyValue * mask;
            }
          }
        }
        setOutput(dotProd);
      }
    `},v4=function(e,t,n,r,a,i,o){n===void 0&&(n=!1),r===void 0&&(r=!1),a===void 0&&(a=!1),i===void 0&&(i=null),o===void 0&&(o=!1),this.variableNames=["matrixA","matrixB"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t;var s=n?e[1]:e[2],l=Math.ceil(s/2),u=n?"i * 2, rc.y":"rc.y, i * 2",d=r?"rc.z, i * 2":"i * 2, rc.z",f=n?["a.xxyy","a.zzww"]:["a.xxzz","a.yyww"],h=r?["b.xzxz","b.ywyw"]:["b.xyxy","b.zwzw"],p="",m="";i&&(p=o?`vec4 activation(vec4 a) {
          vec4 b = getPreluActivationWeightsAtOutCoords();
          `+i+`
        }`:`vec4 activation(vec4 x) {
          `+i+`
        }`,m="result = activation(result);");var g=a?"result += getBiasAtOutCoords();":"";a&&this.variableNames.push("bias"),o&&this.variableNames.push("preluActivationWeights"),this.userCode=`
      `+p+`

      const float sharedDimension = `+l+`.0;

      vec4 dot2x2ARowBCol(ivec3 rc) {
        vec4 result = vec4(0);
        for (int i = 0; i < `+l+`; i++) {
          vec4 a = getMatrixA(rc.x, `+u+`);
          vec4 b = getMatrixB(rc.x, `+d+`);

          // These swizzled products need to be separately added.
          // See: https://github.com/tensorflow/tfjs/issues/1735
          result += (`+f[0]+" * "+h[0]+`);
          result += (`+f[1]+" * "+h[1]+`);
        }
        return result;
      }

      void main() {
        ivec3 rc = getOutputCoords();
        vec4 result = dot2x2ARowBCol(rc);

        `+g+`

        `+m+`

        setOutput(result);
      }
    `},WMe=function(){function e(t,n,r){this.variableNames=["probs"],this.outputShape=[t,r],this.userCode=`
      uniform float seed;

      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];

        float r = random(seed);
        float cdf = 0.0;

        for (int i = 0; i < `+(n-1)+`; i++) {
          cdf += getProbs(batch, i);

          if (r < cdf) {
            setOutput(float(i));
            return;
          }
        }

        // If no other event happened, last event happened.
        setOutput(float(`+(n-1)+`));
      }
    `}return e.prototype.getCustomSetupFunc=function(t){var n=this;return function(r,a){n.seedLoc==null&&(n.seedLoc=r.getUniformLocation(a,"seed")),r.gl.uniform1f(n.seedLoc,t)}},e}(),VMe=function(e,t,n,r){this.variableNames=["indices"],this.outputShape=[e,t],this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int index = round(getIndices(coords.x));
        setOutput(mix(float(`+r+"), float("+n+`),
                      float(index == coords.y)));
      }
    `},HMe=function(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outputShape=e;var t=e.length;if(t===0)this.userCode=`
        void main() {
          setOutput(vec4(getA(), 0., 0., 0.));
        }
      `;else{var n=Yo("rc",t),r=Xr(t),a=function(s,l,u){if(s===1)return"rc > "+l[0];for(var d="",f=s-2;f<s;f++)d+=u[f]+" >= "+l[f],f<s-1&&(d+="||");return d}(t,e,n),i=function(s,l,u,d){if(s===1)return"";var f=d.slice(-2);return`
    int r = `+f[0]+`;
    int c = `+f[1]+`;
    int rp1 = r + 1;
    int cp1 = c + 1;

    bool cEdge = cp1 >= `+l+`;
    bool rEdge = rp1 >= `+u+`;
  `}(t,e[e.length-1],e[e.length-2],n),o=function(s,l){var u=s.length,d=function(f,h){for(var p=[],m=0;m<=1;m++)for(var g=0;g<=1;g++){for(var y=(m===0?"r":"rp1")+", "+(g===0?"c":"cp1"),x=2;x<f;x++)y=h[h.length-1-x]+","+y;p.push(y)}return p}(u,l);return u===1?`getA(rc),
            rc + 1 >= `+s[0]+` ? 0. : getA(rc + 1),
            0, 0`:"getA("+d[0]+`),
          cEdge ? 0. : getA(`+d[1]+`),
          rEdge ? 0. : getA(`+d[2]+`),
          rEdge || cEdge ? 0. : getA(`+d[3]+")"}(e,n);this.userCode=`
        void main() {
          `+r+` rc = getOutputCoords();

          if(`+a+`) {
            setOutput(vec4(0));
          } else {
            `+i+`

            setOutput(vec4(`+o+`));
          }
        }
      `}},qMe=function(e,t,n){this.variableNames=["x"],this.outputShape=t.map(function(l,u){return l[0]+e[u]+l[1]});var r=e.length,a=Xr(r),i=t.map(function(l){return l[0]}).join(","),o=t.map(function(l,u){return l[0]+e[u]}).join(","),s=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,r);this.userCode=r!==1?`
      `+a+" start = "+a+"("+i+`);
      `+a+" end = "+a+"("+o+`);

      void main() {
        `+a+` outC = getOutputCoords();
        if (any(lessThan(outC, start)) || any(greaterThanEqual(outC, end))) {
          setOutput(float(`+n+`));
        } else {
          `+a+` coords = outC - start;
          setOutput(getX(`+s+`));
        }
      }
    `:`
        int start = `+i+`;
        int end = `+o+`;

        void main() {
          int outC = getOutputCoords();
          if (outC < start || outC >= end) {
            setOutput(float(`+n+`));
          } else {
            setOutput(getX(outC - start));
          }
        }
      `},GMe=function(e,t,n){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t.map(function(y,x){return y[0]+e[x]+y[1]});for(var r=e.length,a=Xr(r),i=t.map(function(y){return y[0]}).join(","),o=t.map(function(y,x){return y[0]+e[x]}).join(","),s=Yo("rc",r),l=Yo("source",r),u=s[r-1]+" < "+this.outputShape[r-1],d=r===1?"source":"vec2("+l.slice(-2).join()+")",f=[a+" rc = outputLoc;",s[r-1]+` += 1;
       if(`+u+`) {
      `,r===1?"":`}
       rc = outputLoc;
       `+s[r-2]+` += 1;
       if(`+s[r-2]+" < "+this.outputShape[r-2]+") {",r===1?"":"  "+s[r-1]+` += 1;
         if(`+u+") {"],h=r===1?"rc < start || rc >= end":"any(lessThan(rc, start)) || any(greaterThanEqual(rc, end))",p="",m=0,g=r===1?2:4;m<g;m++)p+=`
        `+f[m]+`
        if (`+h+`) {
          result[`+m+"] = float("+n+`);
        } else {
          `+a+` source = rc - start;
          result[`+m+"] = getChannel(getX("+l.join()+"), "+d+`);
        }
      `;p+=r===1?"} ":"}}",this.userCode=`
      const `+a+" start = "+a+"("+i+`);
      const `+a+" end = "+a+"("+o+`);

      void main() {
        `+a+` outputLoc = getOutputCoords();
        vec4 result = vec4(0.);
        `+p+`
        setOutput(result);
      }
    `},y4=function(e,t,n){if(this.variableNames=["x"],t==="avg"&&n)throw new Error("Cannot compute positions for average pool.");var r=e.filterWidth,a=e.strideHeight,i=e.strideWidth,o=e.dilationHeight,s=e.dilationWidth,l=e.effectiveFilterHeight,u=e.effectiveFilterWidth,d=e.padInfo.top,f=e.padInfo.left;this.outputShape=e.outShape;var h=t==="avg",p="0.0";if(h||(p="-1.0 / 1e-20"),n)this.userCode=`
        const ivec2 strides = ivec2(`+a+", "+i+`);
        const ivec2 pads = ivec2(`+d+", "+f+`);

        void main() {
          ivec4 coords = getOutputCoords();
          int batch = coords[0];
          int d = coords[3];

          ivec2 xRCCorner = coords.yz * strides - pads;
          int xRCorner = xRCCorner.x;
          int xCCorner = xRCCorner.y;

          // max/min x(?, ?, d) to get y(yR, yC, d).
          // ? = to be determined
          float minMaxValue = 0.0;
          float minMaxValueFound = 0.0;
          int minMaxPosition = 0;
          float avgValue = 0.0;

          for (int wR = 0; wR < `+l+`;
              wR += `+o+`) {
            int xR = xRCorner + wR;

            if (xR < 0 || xR >= `+e.inHeight+`) {
              continue;
            }

            for (int wC = 0; wC < `+u+`;
                wC += `+s+`) {
              int xC = xCCorner + wC;

              if (xC < 0 || xC >= `+e.inWidth+`) {
                continue;
              }

              float value = getX(batch, xR, xC, d);

              // If a min / max value has already been found, use it. If not,
              // use the current value.
              float currMinMaxValue = mix(
                  value, minMaxValue, minMaxValueFound);
              if (value >= currMinMaxValue) {
                minMaxValue = value;
                minMaxValueFound = 1.0;
                minMaxPosition = wR * `+u+` + wC;
              }
            }
          }
          setOutput(float(minMaxPosition));
        }
      `;else{var m=t+"("+t+"("+t+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";t==="avg"&&(m="avgValue / count");var g=4*Math.floor(r/4),y=r%4,x=`
      if (`+h+`) {
        avgValue += dot(values, ones);
      } else {
        minMaxValue = max(values, minMaxValue);
      }
    `;this.userCode=`
      const ivec2 strides = ivec2(`+a+", "+i+`);
      const ivec2 pads = ivec2(`+d+", "+f+`);
      const float initializationValue = `+p+`;
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float count = 0.0;

      float getValue(int batch, int xR, int xC, int d) {
        if (xC < 0 || xC >= `+e.inWidth+`) {
          return initializationValue;
        }
        count += 1.0;
        return getX(batch, xR, xC, d);
      }

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d = coords[3];

        ivec2 xRCCorner = coords.yz * strides - pads;
        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        // max/min x(?, ?, d) to get y(yR, yC, d).
        // ? = to be determined
        vec4 minMaxValue = vec4(`+p+`);
        float avgValue = 0.0;
        count = 0.0;

        for (int wR = 0; wR < `+l+`;
            wR += `+o+`) {
          int xR = xRCorner + wR;

          if (xR < 0 || xR >= `+e.inHeight+`) {
            continue;
          }

          for (int wC = 0; wC < `+g+`; wC += 4) {
            int xC = xCCorner + wC * `+s+`;

            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              getValue(batch, xR, xC + `+s+`, d),
              getValue(batch, xR, xC + 2 * `+s+`, d),
              getValue(batch, xR, xC + 3 * `+s+`, d)
            );

            `+x+`
          }

          int xC = xCCorner + `+g+`;
          if (`+(y===1)+`) {
            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              initializationValue,
              initializationValue,
              initializationValue
            );

            `+x+`
          } else if (`+(y===2)+`) {
            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              getValue(batch, xR, xC + `+s+`, d),
              initializationValue,
              initializationValue
            );

            `+x+`
          } else if (`+(y===3)+`) {
            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              getValue(batch, xR, xC + `+s+`, d),
              getValue(batch, xR, xC + 2 * `+s+`, d),
              initializationValue
            );

            `+x+`
          }
        }
        setOutput(`+m+`);
      }
    `}},x4=function(e,t,n){if(this.variableNames=["x"],t==="avg"&&n)throw new Error("Cannot compute positions for average pool.");var r=e.filterWidth,a=e.strideDepth,i=e.strideHeight,o=e.strideWidth,s=e.dilationDepth,l=e.dilationHeight,u=e.dilationWidth,d=e.effectiveFilterDepth,f=e.effectiveFilterHeight,h=e.effectiveFilterWidth,p=e.padInfo.front,m=e.padInfo.top,g=e.padInfo.left;this.outputShape=e.outShape;var y=t==="avg",x="0.0";if(y||(x="-1.0 / 1e-20"),n)this.userCode=`
        const ivec3 strides =
            ivec3(`+a+", "+i+", "+o+`);
        const ivec3 pads = ivec3(`+p+", "+m+", "+g+`);

        void main() {
          ivec5 coords = getOutputCoords();
          int batch = coords.x;
          int ch = coords.u;

          ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;
          int xDCorner = xCorner.x;
          int xRCorner = xCorner.y;
          int xCCorner = xCorner.z;

          // max/min x(?, ?, ?, ch) to get y(yD, yR, yC, ch).
          // ? = to be determined
          float minMaxValue = 0.0;
          float minMaxValueFound = 0.0;
          int minMaxPosition = 0;

          for (int wD = 0; wD < `+d+`;
              wD += `+s+`) {
            int xD = xDCorner + wD;

            if (xD < 0 || xD >= `+e.inDepth+`) {
              continue;
            }

            for (int wR = 0; wR < `+f+`;
                wR += `+l+`) {
              int xR = xRCorner + wR;

              if (xR < 0 || xR >= `+e.inHeight+`) {
                continue;
              }

              for (int wC = 0; wC < `+h+`;
                  wC += `+u+`) {
                int xC = xCCorner + wC;

                if (xC < 0 || xC >= `+e.inWidth+`) {
                  continue;
                }

                float value = getX(batch, xD, xR, xC, ch);

                // If a min / max value has already been found, use it. If not,
                // use the current value.
                float currMinMaxValue = mix(
                    value, minMaxValue, minMaxValueFound);
                if (value >= currMinMaxValue) {
                  minMaxValue = value;
                  minMaxValueFound = 1.0;
                  minMaxPosition =
                      wD * `+f+" * "+h+` +
                      wR * `+h+` + wC;;
                }
              }
            }
          }
          setOutput(float(minMaxPosition));
        }
      `;else{var b=t+"("+t+"("+t+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";t==="avg"&&(b="avgValue / count");var w=4*Math.floor(r/4),_=r%4,S=`
      if (`+y+`) {
        avgValue += dot(values, ones);
      } else {
        minMaxValue = max(values, minMaxValue);
      }
    `;this.userCode=`
      const ivec3 strides =
        ivec3(`+a+", "+i+", "+o+`);
      const ivec3 pads = ivec3(`+p+", "+m+", "+g+`);
      const float initializationValue = `+x+`;
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float count = 0.0;

      float getValue(int batch, int xD, int xR, int xC, int ch) {
        if (xC < 0 || xC >= `+e.inWidth+`) {
          return initializationValue;
        }
        count += 1.0;
        return getX(batch, xD, xR, xC, ch);
      }

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int ch = coords.u;

        ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;
        int xDCorner = xCorner.x;
        int xRCorner = xCorner.y;
        int xCCorner = xCorner.z;

        // max/min x(?, ?, ?, d) to get y(yD, yR, yC, ch).
        // ? = to be determined
        vec4 minMaxValue = vec4(`+x+`);
        float avgValue = 0.0;
        count = 0.0;

        for (int wD = 0; wD < `+d+`;
            wD += `+s+`) {
          int xD = xDCorner + wD;

          if (xD < 0 || xD >= `+e.inDepth+`) {
            continue;
          }

          for (int wR = 0; wR < `+f+`;
            wR += `+l+`) {
            int xR = xRCorner + wR;

            if (xR < 0 || xR >= `+e.inHeight+`) {
              continue;
            }

            for (int wC = 0; wC < `+w+`; wC += 4) {
              int xC = xCCorner + wC * `+u+`;

              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                getValue(batch, xD, xR, xC + `+u+`, ch),
                getValue(batch, xD, xR, xC + 2 * `+u+`, ch),
                getValue(batch, xD, xR, xC + 3 * `+u+`, ch)
              );

              `+S+`
            }

            int xC = xCCorner + `+w+`;
            if (`+(_===1)+`) {
              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                initializationValue,
                initializationValue,
                initializationValue
              );

              `+S+`
            } else if (`+(_===2)+`) {
              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                getValue(batch, xD, xR, xC + `+u+`, ch),
                initializationValue,
                initializationValue
              );

              `+S+`
            } else if (`+(_===3)+`) {
              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                getValue(batch, xD, xR, xC + `+u+`, ch),
                getValue(batch, xD, xR, xC + 2 * `+u+`, ch),
                initializationValue
              );

              `+S+`
            }
          }
          setOutput(`+b+`);
        }
      }
    `}},YMe=function(e,t){this.variableNames=["x"];var n=e.windowSize,r=e.batchSize,a=e.inSize,i=Math.ceil(a/n);this.outputShape=[r,i];var o="0.0",s="";t==="prod"?o="1.0":t==="min"?(o="1.0 / 1e-20",s="min"):t==="max"&&(o="-1.0 / 1e-20",s="max");var l=t+"("+t+"("+t+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";t==="sum"?l="sumValue":t==="prod"?l="prodValue":t==="all"?l="allValue":t==="any"&&(l="anyValue");var u=4*Math.floor(n/4),d=n%4,f=`
      if (`+(t==="sum")+`) {
        sumValue += dot(values, ones);
      } else if (`+(t==="prod")+`) {
        vec2 tmp = vec2(values[0], values[1]) * vec2(values[2], values[3]);
        prodValue *= tmp[0] * tmp[1];
      } else {
        minMaxValue = `+s+`(values, minMaxValue);
      }
    `,h="vec4";t==="all"?(o="1.0",f=`
        bool reducedAllValue = all(values);
        float floatedReducedAllValue = float(reducedAllValue);
        allValue = float(allValue >= 1.0 && floatedReducedAllValue >= 1.0);
      `,h="bvec4"):t==="any"&&(o="0.0",f=`
        bool reducedAnyValue = any(values);
        float floatedReducedAnyValue = float(reducedAnyValue);
        anyValue = float(anyValue >= 1.0 || floatedReducedAnyValue >= 1.0);
      `,h="bvec4");var p="";a%n>0&&(p=`
        if (inIdx < 0 || inIdx >= `+a+`) {
          return initializationValue;
        }
      `),this.userCode=`
      const float initializationValue = `+o+`;
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float getValue(int batch, int inIdx) {
        `+p+`
        return getX(batch, inIdx);
      }

      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = outIdx * `+n+`;

        vec4 minMaxValue = vec4(`+o+`);
        float prodValue = 1.0;
        float sumValue = 0.0;
        float allValue = 1.0;
        float anyValue = 0.0;

        for (int i = 0; i < `+u+`; i += 4) {
          int inIdx = inOffset + i;
          `+h+" values = "+h+`(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            getValue(batch, inIdx + 3)
          );

          `+f+`
        }

        int inIdx = inOffset + `+u+`;
        if (`+(d===1)+`) {
          `+h+" values = "+h+`(
            getValue(batch, inIdx),
            initializationValue,
            initializationValue,
            initializationValue
          );

          `+f+`
        } else if (`+(d===2)+`) {
          `+h+" values = "+h+`(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            initializationValue,
            initializationValue
          );

          `+f+`
        } else if (`+(d===3)+`) {
          `+h+" values = "+h+`(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            initializationValue
          );

          `+f+`
        }
        setOutput(`+l+`);
      }
    `},KMe=function(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e;for(var n="",r=0;r<4;r++){var a="thisRC = rc;";r%2==1&&(a+="thisRC.z += 1;"),r>1&&(a+="thisRC.y += 1;"),n+=`
        `+a+`
        `+(r>0?"if(thisRC.y < rows && thisRC.z < cols){":"")+`
          int flatIndex = getFlatIndex(thisRC);

          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flatIndex);
          vec2 inputRCInnerDims = vec2(float(inputRC.y),float(inputRC.z));

          result[`+r+`] =
            getChannel(getA(inputRC.x, inputRC.y, inputRC.z), inputRCInnerDims);
        `+(r>0?"}":"")+`
      `}this.userCode=`
      
    ivec3 inputCoordsFromReshapedOutCoords(int index) {
      `+Pp(["r","c","d"],t)+`
      return ivec3(r, c, d);
    }
  
      `+k5(e)+`

      void main() {
        ivec3 rc = getOutputCoords();

        vec4 result = vec4(0.);

        ivec3 thisRC;
        int rows = `+e[1]+`;
        int cols = `+e[2]+`;

        `+n+`

        setOutput(result);
      }
    `},XMe=function(e,t,n){this.variableNames=["dy"],this.outputShape=[],this.outputShape=t.shape;var r=t.shape,a=r[1],i=r[2],o=e.shape,s=o[1],l=o[2],u=[n&&s>1?a-1:a,n&&l>1?i-1:i],d=[n&&s>1?s-1:s,n&&l>1?l-1:l],f=u[0]/d[0],h=u[1]/d[1],p=1/f,m=1/h,g=2*Math.ceil(p)+2,y=2*Math.ceil(m)+2;this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        int r = coords[1];
        int c = coords[2];

        float accumulator = 0.0;

        const float heightScale = float(`+f+`);
        const float widthScale = float(`+h+`);

        const float invHeightScale = float(`+p+`);
        const float invWidthScale = float(`+m+`);

        const int winHeight = int(`+g+`);
        const int winWidth = int(`+y+`);

        // Compute bounds for where in dy we will look
        float startRLerp = floor(float(r) * invHeightScale);
        int startDyR = int(startRLerp - float(winHeight / 2));

        float startCLerp = floor(float(c) * invWidthScale);
        int startDyC = int(startCLerp - float(winWidth / 2));

        // Loop over dy
        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {
          int dyR = dyROffset + startDyR;

          // Guard against the window exceeding the bounds of dy
          if (dyR < 0 || dyR >= `+s+`) {
            continue;
          }

          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {
            int dyC = dyCOffset + startDyC;

            // Guard against the window exceeding the bounds of dy
            if (dyC < 0 || dyC >= `+l+`) {
              continue;
            }

            float dxR = float(dyR) * heightScale;
            int topDxRIndex = int(floor(dxR));
            int bottomDxRIndex = int(min(ceil(dxR), `+(a-1)+`.0));
            float dxRLerp = dxR - float(topDxRIndex);
            float inverseDxRLerp = 1.0 - dxRLerp;

            float dxC = float(dyC) * widthScale;
            int leftDxCIndex = int(floor(dxC));
            int rightDxCIndex = int(min(ceil(dxC), `+(i-1)+`.0));
            float dxCLerp = dxC - float(leftDxCIndex);
            float inverseDxCLerp = 1.0 - dxCLerp;

            if (r == topDxRIndex && c == leftDxCIndex) {
              // topLeft
              accumulator +=
                getDy(b, dyR, dyC, d) * inverseDxRLerp * inverseDxCLerp;
            }

            if (r == topDxRIndex && c == rightDxCIndex) {
              // topRight
              accumulator += getDy(b, dyR, dyC, d) * inverseDxRLerp * dxCLerp;
            }

            if (r == bottomDxRIndex && c == leftDxCIndex) {
              // bottomLeft
              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * inverseDxCLerp;
            }

            if (r == bottomDxRIndex && c == rightDxCIndex) {
              // bottomRight
              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * dxCLerp;
            }
          }
        }
        // End loop over dy

        setOutput(accumulator);
      }
    `},ZMe=function(e,t,n,r){this.variableNames=["A"],this.outputShape=[];var a=e[0],i=e[1],o=e[2],s=e[3];this.outputShape=[a,t,n,s];var l=[r&&t>1?i-1:i,r&&n>1?o-1:o],u=[r&&t>1?t-1:t,r&&n>1?n-1:n];this.userCode=`
      const vec2 effectiveInputOverOutputRatioRC = vec2(
          `+l[0]/u[0]+`,
          `+l[1]/u[1]+`);
      const vec2 inputShapeRC = vec2(`+i+".0, "+o+`.0);

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        ivec2 yRC = coords.yz;

        // Fractional source index.
        vec2 sourceFracIndexRC = vec2(yRC) * effectiveInputOverOutputRatioRC;

        // Compute the four integer indices.
        ivec2 sourceFloorRC = ivec2(sourceFracIndexRC);
        ivec2 sourceCeilRC = ivec2(
          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));

        float topLeft = getA(b, sourceFloorRC.x, sourceFloorRC.y, d);
        float bottomLeft = getA(b, sourceCeilRC.x, sourceFloorRC.y, d);
        float topRight = getA(b, sourceFloorRC.x, sourceCeilRC.y, d);
        float bottomRight = getA(b, sourceCeilRC.x, sourceCeilRC.y, d);

        vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);

        float top = topLeft + (topRight - topLeft) * fracRC.y;
        float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;
        float newValue = top + (bottom - top) * fracRC.x;

        setOutput(newValue);
      }
    `},QMe=function(e,t,n,r){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];var a=e[0],i=e[1],o=e[2],s=e[3];this.outputShape=[a,t,n,s];var l=[r&&t>1?i-1:i,r&&n>1?o-1:o],u=[r&&t>1?t-1:t,r&&n>1?n-1:n];this.userCode=`
      const vec3 effectiveInputOverOutputRatioRC = vec3(
          `+l[0]/u[0]+`,
          `+l[1]/u[1]+`,
          `+l[1]/u[1]+`);
      const vec3 inputShapeRC = vec3(`+i+".0, "+o+`.0,
                                     `+o+`.0);

      float getAValue(int b, int r, int c, int d) {
        return getChannel(getA(b, r, c, d), vec2(c, d));
      }

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        // Calculate values for next column in yRC.z.
        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);

        // Fractional source index.
        vec3 sourceFracIndexRC = vec3(yRC) * effectiveInputOverOutputRatioRC;

        // Compute the four integer indices.
        ivec3 sourceFloorRC = ivec3(sourceFracIndexRC);
        ivec3 sourceCeilRC = ivec3(
          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));

        // Should we calculate next column and row elements in 2x2 packed cell.
        bool hasNextCol = d < `+(s-1)+`;
        bool hasNextRow = coords.z < `+(n-1)+`;

        // In parallel, construct four corners for all four components in
        // packed 2x2 cell.
        vec4 topLeft = vec4(
          getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d),
          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d + 1) : 0.0);

        vec4 bottomLeft = vec4(
          getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d),
          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d + 1) : 0.0);

        vec4 topRight = vec4(
          getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d),
          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d + 1) : 0.0);

        vec4 bottomRight = vec4(
          getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d),
          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d + 1) : 0.0);

        vec3 fracRC = sourceFracIndexRC - vec3(sourceFloorRC);

        vec4 top = mix(topLeft, topRight, fracRC.yyzz);
        vec4 bottom = mix(bottomLeft, bottomRight, fracRC.yyzz);
        vec4 newValue = mix(top, bottom, fracRC.x);

        setOutput(newValue);
      }
    `},JMe=function(e,t,n){this.variableNames=["dy"],this.outputShape=[],this.outputShape=t.shape;var r=t.shape,a=r[1],i=r[2],o=e.shape,s=o[1],l=o[2],u=[n&&s>1?a-1:a,n&&l>1?i-1:i],d=[n&&s>1?s-1:s,n&&l>1?l-1:l],f=u[0]/d[0],h=u[1]/d[1],p=1/f,m=1/h,g=2*Math.ceil(p)+2,y=2*Math.ceil(m)+2;this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        int r = coords[1];
        int c = coords[2];

        float accumulator = 0.0;

        const float heightScale = float(`+f+`);
        const float widthScale = float(`+h+`);

        const float invHeightScale = float(`+p+`);
        const float invWidthScale = float(`+m+`);

        const int winHeight = int(`+g+`);
        const int winWidth = int(`+y+`);

        // Compute bounds for where in dy we will look
        float startRLerp = floor(float(r) * invHeightScale);
        int startDyR = int(floor(startRLerp - float(winHeight / 2)));

        float startCLerp = floor(float(c) * invWidthScale);
        int startDyC = int(floor(startCLerp - float(winWidth / 2)));

        // Loop over dy
        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {
          int dyR = dyROffset + startDyR;

          // Guard against the window exceeding the bounds of dy
          if (dyR < 0 || dyR >= `+s+`) {
            continue;
          }

          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {
            int dyC = dyCOffset + startDyC;

            // Guard against the window exceeding the bounds of dy
            if (dyC < 0 || dyC >= `+l+`) {
              continue;
            }

            float sourceFracRow =
              float(`+u[0]+`) *
                (float(dyR) / float(`+d[0]+`));

            float sourceFracCol =
                float(`+u[1]+`) *
                  (float(dyC) / float(`+d[1]+`));

            int sourceNearestRow = int(min(
                float(int(`+a+`) - 1),
                `+n+` ? float(round(sourceFracRow)) :
                                  float(floor(sourceFracRow))));

            int sourceNearestCol = int(min(
                float(int(`+i+`) - 1),
                `+n+` ? float(round(sourceFracCol)) :
                                  float(floor(sourceFracCol))));

            if (r == sourceNearestRow && c == sourceNearestCol) {
              accumulator += getDy(b, dyR, dyC, d);
            }
          }
        }
        // End loop over dy

        setOutput(accumulator);
      }
    `},eIe=function(e,t,n,r){this.variableNames=["A"],this.outputShape=[];var a=e[0],i=e[1],o=e[2],s=e[3];this.outputShape=[a,t,n,s];var l=[r&&t>1?i-1:i,r&&n>1?o-1:o],u=[r&&t>1?t-1:t,r&&n>1?n-1:n],d=r?"0.5":"0.0";this.userCode=`
      const vec2 effectiveInputOverOutputRatioRC = vec2(
          `+l[0]/u[0]+`,
          `+l[1]/u[1]+`);
      const vec2 inputShapeRC = vec2(`+i+".0, "+o+`.0);

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        ivec2 yRC = coords.yz;

        // Fractional source index.
        vec2 sourceFracIndexRC = vec2(yRC) * effectiveInputOverOutputRatioRC;

        // Compute the coordinators of nearest neighbor point.
        ivec2 sourceNearestRC = ivec2(
          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + `+d+`)));

        float newValue = getA(b, sourceNearestRC.x, sourceNearestRC.y, d);

        setOutput(newValue);
      }
    `},tIe=function(e,t){this.variableNames=["x"];var n=e.length;if(n>4)throw new Error("WebGL backend: Reverse of rank-"+n+" tensor is not yet supported");if(this.outputShape=e,n!==1){var r=e.map(function(i,o){return function(s){return t.indexOf(s)!==-1&&e[s]!==1?e[s]+" - coords["+s+"] - 1":"coords["+s+"]"}(o)}).join(","),a=Xr(n);this.userCode=`
      void main() {
        `+a+` coords = getOutputCoords();
        setOutput(getX(`+r+`));
      }
    `}else this.userCode=`
        void main() {
          int coord = getOutputCoords();
          setOutput(getX(`+e[0]+` - coord - 1));
        }
      `},nIe=function(e,t){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0;var n=e.length;if(n>4)throw new Error("WebGL backend: Reverse of rank-"+n+" tensor is not yet supported");this.outputShape=e;var r=Yo("rc",n),a=r[n-1]+" + 1 < "+this.outputShape[n-1],i=r[n-2]+" + 1 < "+this.outputShape[n-2],o=Xr(n);function s(l){var u=e.map(function(d,f){return function(h,p){return t.indexOf(h)!==-1&&e[h]!==1?e[h]+" - "+p[h]+" - 1":""+p[h]}(f,l)});return"getChannel(getX("+u.join(",")+"), vec2("+u.slice(-2).join(",")+"))"}this.userCode=n===1?`
        void main(){
          int rc = getOutputCoords();
          vec4 result = vec4(0.);
          result.r = getChannel(getX(`+e[0]+` - rc - 1),
            `+e[0]+` - rc - 1);
          if(`+a+`){
              result.g = getChannel(getX(`+e[0]+` - (rc  + 1) - 1),
                `+e[0]+` - (rc  + 1) - 1);
          }
          setOutput(result);
        }
      `:`
        void main() {
          `+o+` rc = getOutputCoords();
          vec4 result = vec4(0.);
          result.r = `+function(l){return s(l)}(r.slice())+`;
          if(`+a+`){
            result.g = `+function(l){return l[n-1]="("+l[n-1]+" + 1)",s(l)}(r.slice())+`;
          }
          if(`+i+`) {
            result.b = `+function(l){return l[n-2]="("+l[n-2]+" + 1)",s(l)}(r.slice())+`;
            if(`+a+`) {
              result.a = `+function(l){return l[n-1]="("+l[n-1]+" + 1)",l[n-2]="("+l[n-2]+" + 1)",s(l)}(r.slice())+`;
            }
          }
          setOutput(result);
        }
    `},WW=function(e,t,n,r,a,i,o){this.variableNames=["updates","indices","defaultValue"],this.outputShape=i;var s=Xr(a.length),l=Xr(i.length),u="";n===1?u="i":n===2&&(u="i, j");var d="getIndices("+u+")",f="";r===1?f="i":r===2&&(f="i, coords[1]");var h="getUpdates("+f+")",p=t>1?"strides[j]":"strides";this.userCode=`
        `+s+" strides = "+s+"("+a+`);

        void main() {
          `+l+` coords = getOutputCoords();
          float sum = 0.0;
          bool found = false;
          for (int i = 0; i < `+e+`; i++) {
            int flattenedIndex = 0;
            for (int j = 0; j < `+t+`; j++) {
              int index = round(`+d+`);
              flattenedIndex += index * `+p+`;
            }
            if (flattenedIndex == coords[0]) {
              sum += `+h+`;
              found = true;
            }
          }
          setOutput(mix(getDefaultValue(), sum, float(found)));
        }
      `},rIe=function(e,t){this.variableNames=["x","segmentIds"];var n=e.windowSize,r=e.batchSize,a=e.inSize,i=e.numSegments,o=i*Math.ceil(a/n);this.outputShape=[r,o];var s=4*Math.floor(n/4),l=n%4,u=`
        sumValue += dot(values, segFilter);
    `,d="";a%n>0&&(d=`
        if (inIdx < 0 || inIdx >= `+a+`) {
          return initializationValue;
        }
      `);var f="";a%n>0&&(f=`
        if (inIdx < 0 || inIdx >= `+a+`) {
          return -1.0;
        }
      `),this.userCode=`
      const float initializationValue = 0.0;

      float getValue(int batch, int inIdx) {
        `+d+`
        return getX(batch, inIdx);
      }

      float getSegmentIdAtIndex(int inIdx) {
        `+f+`
        return getSegmentIds(inIdx);
      }

      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = int(floor(float(outIdx) / float(
          `+i+")) * float("+n+`));
        int currentSeg = int(mod(float(outIdx), float(`+i+`)));

        float sumValue = 0.0;

        for (int i = 0; i < `+s+`; i += 4) {
          int inIdx = inOffset + i;
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            getValue(batch, inIdx + 3)
          );

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 3)) == currentSeg ? 1 : 0
          );

          `+u+`
        }

        int inIdx = inOffset + `+s+`;
        if (`+(l===1)+`) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            initializationValue,
            initializationValue,
            initializationValue
          );

          int inIdxSeg = int(getSegmentIdAtIndex(inIdx));

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            0,
            0,
            0
          );

          `+u+`
        } else if (`+(l===2)+`) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            initializationValue,
            initializationValue
          );

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,
              0,
              0
          );

          `+u+`
        } else if (`+(l===3)+`) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            initializationValue
          );

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,
            0
          );

          `+u+`
        }
        setOutput(sumValue);
      }
    `},aIe=function(e,t,n){var r,a;if(this.variableNames=["c","a","b"],this.outputShape=t,n>4)throw Error("Where for rank "+n+" is not yet supported");if(n===1)a="resRC",r="resRC";else{for(var i=["resRC.x","resRC.y","resRC.z","resRC.w"],o=[],s=[],l=0;l<t.length;l++)s.push(""+i[l]),l<e&&o.push(""+i[l]);r=o.join(),a=s.join()}var u=Xr(n);this.userCode=`
      void main() {
        `+u+` resRC = getOutputCoords();
        float cVal = getC(`+r+`);
        if (cVal >= 1.0) {
          setOutput(getA(`+a+`));
        } else {
          setOutput(getB(`+a+`));
        }
      }
    `},iIe=function(){function e(t){this.variableNames=["source"],this.outputShape=t,this.rank=t.length;var n,r=Xr(this.rank),a="uniform int start["+this.rank+"];",i=function(o){if(o===1)return"sourceLoc";if(o<=6)return b4.slice(0,o).map(function(s){return"sourceLoc."+s}).join(",");throw Error("Slicing for rank "+o+" is not yet supported")}(this.rank);n=`
        `+r+` sourceLoc;
        `+r+` coords = getOutputCoords();
        `+t.map(function(o,s){return"sourceLoc."+b4[s]+" = start["+s+"] + coords."+b4[s]+";"}).join(`
`)+`
      `,this.userCode=`
      `+a+`
      void main() {
        `+n+`
        setOutput(getSource(`+i+`));
      }
    `}return e.prototype.getCustomSetupFunc=function(t){var n=this;if(t.length!==this.rank)throw Error("The rank ("+this.rank+") of the program must match the length of start ("+t.length+")");return function(r,a){n.startLoc==null&&(n.startLoc=r.getUniformLocationNoThrow(a,"start"),n.startLoc==null)||r.gl.uniform1iv(n.startLoc,t)}},e}(),b4=["x","y","z","w","u","v"],oIe=function(){function e(t){this.variableNames=["source"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t,this.rank=t.length;var n=Xr(this.rank),r=Yo("coords",this.rank),a=Yo("sourceLoc",this.rank),i=this.rank===1?"sourceLoc":"vec2("+a.slice(-2).join()+")",o="getChannel(getSource("+a.join()+"), "+i+")",s=`
      result.x = `+o+`;
      if (++`+r[this.rank-1]+" < "+t[this.rank-1]+`) {
        ++`+a[this.rank-1]+`;
        result.y = `+o+`;
        --`+a[this.rank-1]+`;
      }
    `,l=this.rank===1?"":`
      --`+r[this.rank-1]+`;
      if (++`+r[this.rank-2]+" < "+t[this.rank-2]+`) {
        ++`+a[this.rank-2]+`;
        result.z = `+o+`;
        if (++`+r[this.rank-1]+" < "+t[this.rank-1]+`) {
          ++`+a[this.rank-1]+`;
          result.w = `+o+`;
        }
      }
    `,u=this.rank<=4?`sourceLoc = coords +
            `+n+"("+t.map(function(d,f){return"start["+f+"]"}).join()+");":t.map(function(d,f){return a[f]+" = "+r[f]+" + start["+f+"];"}).join(`
`);this.userCode=`
      uniform int start[`+this.rank+`];
      void main() {
        `+n+` coords = getOutputCoords();
        `+n+` sourceLoc;
        `+u+`
        vec4 result = vec4(0.);
        `+s+`
        `+l+`
        setOutput(result);
      }
    `}return e.prototype.getCustomSetupFunc=function(t){var n=this;if(t.length!==this.rank)throw Error("The rank ("+this.rank+") of the program must match the length of start ("+t.length+")");return function(r,a){n.startLoc==null&&(n.startLoc=r.getUniformLocationNoThrow(a,"start"),n.startLoc==null)||r.gl.uniform1iv(n.startLoc,t)}},e}(),sIe=function(e,t,n){this.variableNames=["x"],this.outputShape=n;var r=n.length,a=Xr(n.length),i=Xr(n.length),o="";if(r===1)o="coords * strides + begin";else{var s=0;o=n.map(function(l,u){return s++,n.length===1?"coords * strides["+u+"] + begin["+u+"]":"coords["+(s-1)+"] * strides["+u+"] + begin["+u+"]"}).join(",")}this.userCode=`
      `+a+" begin = "+a+"("+e+`);
      `+a+" strides = "+a+"("+t+`);

      void main() {
        `+i+` coords = getOutputCoords();
        setOutput(getX(`+o+`));
      }
    `},lIe=function(){function e(t){this.gpgpu=t,this.numUsedTextures=0,this.numFreeTextures=0,this.freeTextures={},this.logEnabled=!1,this.usedTextures={}}return e.prototype.acquireTexture=function(t,n,r){var a,i=VW(n,r),o=HW(t,i,r);if(o in this.freeTextures||(this.freeTextures[o]=[]),o in this.usedTextures||(this.usedTextures[o]=[]),this.freeTextures[o].length>0){this.numFreeTextures--,this.numUsedTextures++,this.log();var s=this.freeTextures[o].shift();return this.usedTextures[o].push(s),s}return this.numUsedTextures++,this.log(),i===Cs.PACKED_2X2_FLOAT32?a=this.gpgpu.createPackedMatrixTexture(t[0],t[1]):i===Cs.PACKED_2X2_FLOAT16?a=this.gpgpu.createFloat16PackedMatrixTexture(t[0],t[1]):i===Cs.UNPACKED_FLOAT32?a=this.gpgpu.createFloat32MatrixTexture(t[0],t[1]):i===Cs.UNPACKED_FLOAT16?a=this.gpgpu.createFloat16MatrixTexture(t[0],t[1]):i===Cs.PACKED_4X1_UNSIGNED_BYTE&&(a=this.gpgpu.createUnsignedBytesMatrixTexture(t[0],t[1])),this.usedTextures[o].push(a),a},e.prototype.releaseTexture=function(t,n,r,a){if(this.freeTextures!=null){var i=HW(n,VW(r,a),a);i in this.freeTextures||(this.freeTextures[i]=[]),this.freeTextures[i].push(t),this.numFreeTextures++,this.numUsedTextures--;var o=this.usedTextures[i],s=o.indexOf(t);if(s<0)throw new Error("Cannot release a texture that was never provided by this texture manager");o.splice(s,1),this.log()}},e.prototype.log=function(){if(this.logEnabled){var t=this.numFreeTextures+this.numUsedTextures;console.log("Free/Used",this.numFreeTextures+" / "+this.numUsedTextures,"("+t+")")}},e.prototype.getNumUsedTextures=function(){return this.numUsedTextures},e.prototype.getNumFreeTextures=function(){return this.numFreeTextures},e.prototype.dispose=function(){var t=this;if(this.freeTextures!=null){for(var n in this.freeTextures)this.freeTextures[n].forEach(function(r){t.gpgpu.deleteMatrixTexture(r)});for(var n in this.usedTextures)this.usedTextures[n].forEach(function(a){t.gpgpu.deleteMatrixTexture(a)});this.freeTextures=null,this.usedTextures=null,this.numUsedTextures=0,this.numFreeTextures=0}},e}();function VW(e,t){if(e===As.UPLOAD)return Cs.PACKED_2X2_FLOAT32;if(e===As.RENDER||e==null)return function(n){return lt().getBool("WEBGL_RENDER_FLOAT32_ENABLED")?n?Cs.PACKED_2X2_FLOAT32:Cs.UNPACKED_FLOAT32:n?Cs.PACKED_2X2_FLOAT16:Cs.UNPACKED_FLOAT16}(t);if(e===As.DOWNLOAD||e===As.PIXELS)return Cs.PACKED_4X1_UNSIGNED_BYTE;throw new Error("Unknown logical texture type "+e)}function HW(e,t,n){return e[0]+"_"+e[1]+"_"+t+"_"+n}var cIe=function(e,t){this.variableNames=["A"];for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e[r]*t[r];this.outputShape=n,this.rank=n.length;var a=Xr(this.rank),i=function(o){var s=o.length;if(s>5)throw Error("Tile for rank "+s+" is not yet supported");if(s===1)return"imod(resRC, "+o[0]+")";for(var l=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u"],u=[],d=0;d<o.length;d++)u.push("imod("+l[d]+", "+o[d]+")");return u.join()}(e);this.userCode=`
      void main() {
        `+a+` resRC = getOutputCoords();
        setOutput(getA(`+i+`));
      }
    `},uIe=function(e,t){this.variableNames=["A"];for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e[t[r]];this.outputShape=n,this.rank=n.length;var a=Xr(this.rank),i=function(o){var s=o.length;if(s>6)throw Error("Transpose for rank "+s+" is not yet supported");for(var l=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u","resRC.v"],u=new Array(s),d=0;d<o.length;d++)u[o[d]]=l[d];return u.join()}(t);this.userCode=`
    void main() {
      `+a+` resRC = getOutputCoords();
      setOutput(getA(`+i+`));
    }
    `},dIe=function(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0;for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e[t[r]];if(this.outputShape=n,this.rank=n.length,this.rank>6)throw Error("Packed transpose for rank "+this.rank+" is not yet supported.");var a=Xr(this.rank),i=Pie("rc",this.rank),o=new Array(this.rank);for(r=0;r<t.length;r++)o[t[r]]=i[r];var s="vec2("+o.slice(-2).join()+")",l="++"+i[this.rank-1]+" < "+n[this.rank-1],u="getChannel(getA("+o.join()+"), "+s+")";this.userCode=`
    void main() {
      `+a+` rc = getOutputCoords();
      vec4 result = vec4(0.);
      result[0] = `+u+`;
      if(`+l+`) {
        result[1] = `+u+`;
      }
      --`+i[this.rank-1]+`;
      if(++`+i[this.rank-2]+" < "+n[this.rank-2]+`) {
        result[2] = `+u+`;
        if(`+l+`) {
          result[3] = `+u+`;
        }
      }
      setOutput(result);
    }
    `},j5=1.7580993408473768,T5=1.0507009873554805,Ln=function(e,t){this.variableNames=["A"],this.outputShape=e,this.userCode=`
      float unaryOperation(float x) {
        `+t+`
      }

      void main() {
        float x = getAAtOutCoords();
        float y = unaryOperation(x);

        setOutput(y);
      }
    `},Ec="if (isnan(x)) return x;",fIe="return x;",qW="return abs(x);",Iie=Ec+`
  return (x < 0.0) ? 0.0 : x;
`,Rie=Ec+`
  return (x < 0.0) ? 0.0 : min(6.0, x);
`,Fie="return (x >= 0.0) ? x : (exp(x) - 1.0);",hIe=`
  // Stable and Attracting Fixed Point (0, 1) for Normalized Weights.
  // see: https://arxiv.org/abs/1706.02515
  float scaleAlpha = `+j5+`;
  float scale = `+T5+`;
  return (x >= 0.0) ? scale * x : scaleAlpha * (exp(x) - 1.0);
`,GW="return -x;",YW="return ceil(x);",KW="return floor(x);",XW="return exp(x);",ZW="return exp(x) - 1.0;",pIe=Ec+`
  return sin(x);
`,mIe=Ec+`
  return cos(x);
`,gIe=Ec+`
  if (abs(x) > 1.) {
    return NAN;
  }
  return asin(x);
`,vIe=Ec+`
  if (abs(x) > 1.) {
    return NAN;
  }
  return acos(x);
`,yIe=Ec+`
  return atan(x);
`,xIe=Ec+"return log(x + sqrt(x * x + 1.0));",bIe=Ec+`
  if (x < 1.0) return NAN;
  return log(x + sqrt(x * x - 1.0));`,wIe=Ec+`
  if ((x < -1.0) || (x > 1.0)) return NAN;
  return (log(1.0 + x) - log(1.0 - x)) / 2.0;`,E_="return x;",_Ie="return x;",Lie=`
  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,$ie=`
  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,Bie=`
  vec4 result;

  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);
  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);
  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);
  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);

  return result;
`,Xy=function(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.userCode=`
      vec4 unaryOperation(vec4 x) {
        `+t+`
      }

      void main() {
        vec4 x = getAAtOutCoords();
        vec4 y = unaryOperation(x);

        setOutput(y);
      }
    `},SIe=function(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outputShape=e;var t=e.length,n=Yo("rc",t),r=Xr(t),a=function(s,l){if(s===1)return"rc";for(var u="",d=0;d<s;d++)u+=l[d],d<s-1&&(u+=",");return u}(t,n),i=n.slice(-2),o=t<=1?"rc":"vec2("+i.join(",")+")";this.userCode=`
      void main() {
        `+r+` rc = getOutputCoords();
        vec4 packedInput = getA(`+a+`);

        setOutput(getChannel(packedInput, `+o+`));
      }
    `},N_={};function k_(e,t){if(t===void 0&&(t=!1),e==="linear")return t?_Ie:fIe;if(e==="relu")return t?Lie:Iie;if(e==="elu")return t?Bie:Fie;if(e==="relu6")return t?$ie:Rie;if(e==="prelu")return t?Mie:Oie;throw new Error("Activation "+e+" has not been implemented for the WebGL backend.")}var CIe=600,EIe=function(e){function t(n){var r,a=e.call(this)||this;if(a.pendingRead=new WeakMap,a.pendingDisposal=new WeakSet,a.dataRefCount=new WeakMap,a.numBytesInGPU=0,a.uploadWaitMs=0,a.downloadWaitMs=0,a.warnedAboutMemory=!1,a.pendingDeletes=0,a.disposed=!1,!lt().getBool("HAS_WEBGL"))throw new Error("WebGL is not supported on this device");if(n==null){var i=Ou(lt().getNumber("WEBGL_VERSION"));a.binaryCache=((r=lt().getNumber("WEBGL_VERSION"))in N_||(N_[r]={}),N_[r]),a.gpgpu=new RMe(i),a.canvas=i.canvas,a.gpgpuCreatedLocally=!0}else a.gpgpu=n,a.binaryCache={},a.gpgpuCreatedLocally=!1,a.canvas=n.gl.canvas;return a.textureManager=new lIe(a.gpgpu),a.numMBBeforeWarning=lt().global.screen==null?1024:lt().global.screen.height*lt().global.screen.width*window.devicePixelRatio*CIe/1024/1024,a.texData=new wie(a,Ie),a}return Cc(t,e),t.prototype.numDataIds=function(){return this.texData.numDataIds()+(this.cpuBackend?this.cpuBackend.numDataIds():0)-this.pendingDeletes},t.prototype.write=function(n,r,a){if(lt().getBool("DEBUG")&&this.checkNumericalProblems(n),a==="complex64"&&n!=null)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");var i={};return this.texData.set(i,{shape:r,dtype:a,values:n,usage:As.UPLOAD}),i},t.prototype.move=function(n,r,a,i){if(lt().getBool("DEBUG")&&this.checkNumericalProblems(r),i==="complex64")throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");this.texData.set(n,{shape:a,dtype:i,values:r,usage:As.UPLOAD})},t.prototype.readSync=function(n){var r=this.texData.get(n),a=r.values,i=r.dtype,o=r.complexTensors,s=r.slice,l=r.shape,u=r.isPacked;if(s!=null){var d=void 0;d=u?new Xy(l,E_):new Ln(l,E_);var f=this.runWebGLProgram(d,[{dataId:n,shape:l,dtype:i}],i),h=this.readSync(f.dataId);return this.disposeData(f.dataId),h}if(a!=null)return this.convertAndCacheOnCPU(n);if(i==="string")return a;var p,m,g=this.activeTimers!=null;return g&&(p=Xc()),i==="complex64"?m=lM(o.real.dataSync(),o.imag.dataSync()):m=this.getValuesFromTexture(n),g&&(this.downloadWaitMs+=Xc()-p),this.convertAndCacheOnCPU(n,m)},t.prototype.read=function(n){return an(this,void 0,void 0,function(){var r,a,i,o,s,l,u,d,f,h,p,m,g,y,x,b,w,_,S,k,N,P;return on(this,function(T){switch(T.label){case 0:if(this.pendingRead.has(n))return r=this.pendingRead.get(n),[2,new Promise(function(j){return r.push(j)})];if(a=this.texData.get(n),i=a.values,o=a.shape,s=a.slice,l=a.dtype,u=a.complexTensors,d=a.isPacked,s!=null)return f=void 0,f=d?new Xy(o,E_):new Ln(o,E_),h=this.runWebGLProgram(f,[{dataId:n,shape:o,dtype:l}],l),p=this.read(h.dataId),this.disposeData(h.dataId),[2,p];if(i!=null)return[2,this.convertAndCacheOnCPU(n)];if(!lt().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")&&lt().getNumber("WEBGL_VERSION")===2)throw new Error("tensor.data() with WEBGL_DOWNLOAD_FLOAT_ENABLED=false and WEBGL_VERSION=2 not yet supported.");return m=null,l!=="complex64"&&lt().get("WEBGL_BUFFER_SUPPORTED")&&(g=this.decode(n),y=this.texData.get(g.dataId),m=(P=this.gpgpu).createBufferFromTexture.apply(P,[y.texture].concat(a1(o)))),this.pendingRead.set(n,[]),l==="complex64"?[3,2]:[4,this.gpgpu.createAndWaitForFence()];case 1:T.sent(),T.label=2;case 2:return l!=="complex64"?[3,4]:[4,Promise.all([u.real.data(),u.imag.data()])];case 3:return b=T.sent(),w=b[0],_=b[1],x=lM(w,_),[3,5];case 4:m==null?x=this.getValuesFromTexture(n):(S=un(o),x=this.gpgpu.downloadFloat32MatrixFromBuffer(m,S)),T.label=5;case 5:return g!=null&&this.disposeData(g.dataId),k=this.convertAndCacheOnCPU(n,x),N=this.pendingRead.get(n),this.pendingRead.delete(n),N.forEach(function(j){return j(k)}),this.pendingDisposal.has(n)&&(this.pendingDisposal.delete(n),this.disposeData(n),this.pendingDeletes--),[2,k]}})})},t.prototype.checkNumericalProblems=function(n){if(n!=null)for(var r=0;r<n.length;r++){var a=n[r];if(!hOe(a))throw lt().getBool("WEBGL_RENDER_FLOAT32_CAPABLE")?Error("The value "+a+" cannot be represented with your current settings. Consider enabling float32 rendering: 'tf.env().set('WEBGL_RENDER_FLOAT32_ENABLED', true);'"):Error("The value "+a+" cannot be represented on this device.")}},t.prototype.getValuesFromTexture=function(n){var r,a=this.texData.get(n),i=a.shape,o=a.dtype,s=a.isPacked,l=un(i);if(lt().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")){var u=this.decode(n),d=this.texData.get(u.dataId),f=(r=this.gpgpu).downloadMatrixFromPackedTexture.apply(r,[d.texture].concat(a1(i))).subarray(0,l);return this.disposeData(u.dataId),f}var h=lt().getBool("WEBGL_PACK")&&s===!0,p=h?h4(i):i,m=h?new fMe(p):new dMe(p),g=this.runWebGLProgram(m,[{shape:p,dtype:o,dataId:n}],"float32"),y=this.texData.get(g.dataId),x=this.gpgpu.downloadByteEncodedFloatMatrixFromOutputTexture(y.texture,y.texShape[0],y.texShape[1]).subarray(0,l);return this.disposeData(g.dataId),x},t.prototype.time=function(n){return an(this,void 0,void 0,function(){var r,a,i,o,s,l,u;return on(this,function(d){switch(d.label){case 0:return r=this.activeTimers,a=[],i=!1,this.programTimersStack==null?(this.programTimersStack=a,i=!0):this.activeTimers.push(a),this.activeTimers=a,n(),o=r0(this.activeTimers.map(function(f){return f.query})).filter(function(f){return f!=null}),s=r0(this.activeTimers.map(function(f){return f.name})).filter(function(f){return f!=null}),this.activeTimers=r,i&&(this.programTimersStack=null),l={uploadWaitMs:this.uploadWaitMs,downloadWaitMs:this.downloadWaitMs,kernelMs:null,wallMs:null},lt().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?[4,Promise.all(o)]:[3,2];case 1:return u=d.sent(),l.kernelMs=GDe(u),l.getExtraProfileInfo=function(){return u.map(function(f,h){return{name:s[h],ms:f}}).map(function(f){return f.name+": "+f.ms}).join(", ")},[3,3];case 2:l.kernelMs={error:"WebGL query timers are not supported in this environment."},d.label=3;case 3:return this.uploadWaitMs=0,this.downloadWaitMs=0,[2,l]}})})},t.prototype.memory=function(){return{unreliable:!1,numBytesInGPU:this.numBytesInGPU}},t.prototype.startTimer=function(){return lt().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?this.gpgpu.beginQuery():{startMs:Xc(),endMs:null}},t.prototype.endTimer=function(n){return lt().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?(this.gpgpu.endQuery(),n):(n.endMs=Xc(),n)},t.prototype.getQueryTime=function(n){return an(this,void 0,void 0,function(){var r;return on(this,function(a){return lt().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?[2,this.gpgpu.waitForQueryAndGetTime(n)]:[2,(r=n).endMs-r.startMs]})})},t.prototype.disposeData=function(n){if(!this.pendingDisposal.has(n)){if(this.pendingRead.has(n))return this.pendingDisposal.add(n),void this.pendingDeletes++;if(this.texData.has(n)){this.releaseGPUData(n);var r=this.texData.get(n).complexTensors;r!=null&&(r.real.dispose(),r.imag.dispose()),this.texData.delete(n)}}},t.prototype.releaseGPUData=function(n){var r=this.texData.get(n),a=r.texture,i=r.dtype,o=r.texShape,s=r.usage,l=r.isPacked,u=r.slice,d=u&&u.origDataId||n,f=this.dataRefCount.get(d);f>1?this.dataRefCount.set(d,f-1):(this.dataRefCount.delete(d),a!=null&&(this.numBytesInGPU-=this.computeBytes(o,i),this.textureManager.releaseTexture(a,o,s,l)));var h=this.texData.get(n);h.texture=null,h.texShape=null,h.isPacked=!1,h.slice=null},t.prototype.getTexture=function(n){return this.uploadToGPU(n),this.texData.get(n).texture},t.prototype.getDataInfo=function(n){return this.texData.get(n)},t.prototype.getCPUBackend=function(){return lt().getBool("WEBGL_CPU_FORWARD")?(this.cpuBackend==null&&(this.cpuBackend=Ie.findBackend("cpu")),this.cpuBackend):null},t.prototype.shouldExecuteOnCPU=function(n,r){var a=this;return r===void 0&&(r=128),this.getCPUBackend()!=null&&n.every(function(i){return a.texData.get(i.dataId).texture==null&&i.size<r})},t.prototype.getGPGPUContext=function(){return this.gpgpu},t.prototype.complex=function(n,r){var a=this.makeOutput(n.shape,"complex64");return this.texData.get(a.dataId).complexTensors={real:Ie.keep(n.clone()),imag:Ie.keep(r.clone())},a},t.prototype.real=function(n){return this.texData.get(n.dataId).complexTensors.real.clone()},t.prototype.imag=function(n){return this.texData.get(n.dataId).complexTensors.imag.clone()},t.prototype.slice=function(n,r,a){if(this.shouldExecuteOnCPU([n]))return this.cpuBackend.slice(n,r,a);if(un(a)===0)return Gi([],a,n.dtype);var i=this.texData.get(n.dataId).isPacked,o=xie(n.shape,r,a);if(i||!o){var s=lt().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new oIe(a):new iIe(a),l=s.getCustomSetupFunc(r);return this.compileAndRun(s,[n],null,l)}return this.uploadToGPU(n.dataId),this.shallowSlice(n,r,a)},t.prototype.shallowSlice=function(n,r,a){var i=this.texData.get(n.dataId),o=this.makeOutput(a,n.dtype),s=this.texData.get(o.dataId);Object.assign(s,i),s.shape=a,s.dtype=n.dtype;var l=bie(r,n.strides);i.slice&&(l+=i.slice.flatOffset),s.slice={flatOffset:l,origDataId:i.slice&&i.slice.origDataId||n.dataId};var u=this.dataRefCount.get(s.slice.origDataId)||1;return this.dataRefCount.set(s.slice.origDataId,u+1),o},t.prototype.stridedSlice=function(n,r,a,i){if(this.shouldExecuteOnCPU([n]))return this.cpuBackend.stridedSlice(n,r,a,i);var o=_5(r,a,i);if(o.some(function(l){return l===0}))return Gi([],o);var s=new sIe(r,i,o);return this.compileAndRun(s,[n])},t.prototype.reverse=function(n,r){var a=lt().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new nIe(n.shape,r):new tIe(n.shape,r);return this.compileAndRun(a,[n])},t.prototype.concat=function(n,r){if(n[0].dtype==="complex64"){var a=n.map(function(p){return vl(p)}),i=n.map(function(p){return tu(p)});return Wi(this.concat(a,r),this.concat(i,r))}if(this.shouldExecuteOnCPU(n))return this.cpuBackend.concat(n,r);if(n.length===1)return n[0];if(n.length>lt().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER")){var o=Math.floor(n.length/2),s=this.concat(n.slice(0,o),r),l=this.concat(n.slice(o),r);return this.concat([s,l],r)}if(lt().getBool("WEBGL_PACK_ARRAY_OPERATIONS")&&n[0].rank>1){var u=new Z3e(n.map(function(p){return p.shape}),r);return this.compileAndRun(u,n)}var d=i0(n.map(function(p){return p.shape}),r),f=n.map(function(p){return p.as2D(-1,un(p.shape.slice(r)))}),h=new X3e(f.map(function(p){return p.shape}));return this.compileAndRun(h,f).reshape(d)},t.prototype.neg=function(n){if(this.shouldExecuteOnCPU([n]))return this.cpuBackend.neg(n);if(lt().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(n,GW,n.dtype);var r=new Ln(n.shape,GW);return this.compileAndRun(r,[n])},t.prototype.batchMatMul=function(n,r,a,i){var o=a?n.shape[2]:n.shape[1],s=i?r.shape[1]:r.shape[2],l=a?n.shape[1]:n.shape[2],u=n.shape[0];if((o===1||s===1)&&l>1e3){a&&(n=n.transpose([0,2,1])),i&&(r=r.transpose([0,2,1]));var d=s===1?n:n.as3D(u,l,1),f=s===1?2:1,h=s===1?r.as3D(u,1,l):r;return this.multiply(d,h).sum(f,!0)}var p=Hi(n.dtype,r.dtype),m=new v4(n.shape,[u,o,s],a,i);return this.compileAndRun(m,[n,r],p)},t.prototype.fusedBatchMatMul=function(n){var r=n.a,a=n.b,i=n.transposeA,o=n.transposeB,s=n.bias,l=n.activation,u=n.preluActivationWeights,d=i?r.shape[2]:r.shape[1],f=o?a.shape[1]:a.shape[2],h=r.shape[0],p=Hi(r.dtype,a.dtype),m=s!=null,g=u!=null,y=l?k_(l,!0):null,x=new v4(r.shape,[h,d,f],i,o,m,y,g),b=[r,a];return s&&b.push(s),u&&b.push(u),this.compileAndRun(x,b,p)},t.prototype.multiply=function(n,r){if(n.dtype==="complex64"){var a=this.texData.get(n.dataId),i=this.texData.get(r.dataId),o=new IW(H3e,n.shape,r.shape),s=new IW(q3e,n.shape,r.shape),l=[this.makeComplexComponentTensorInfo(n,a.complexTensors.real),this.makeComplexComponentTensorInfo(n,a.complexTensors.imag),this.makeComplexComponentTensorInfo(r,i.complexTensors.real),this.makeComplexComponentTensorInfo(r,i.complexTensors.imag)],u=this.compileAndRun(o,l),d=this.compileAndRun(s,l),f=this.complex(u,d);return u.dispose(),d.dispose(),f}if(this.shouldExecuteOnCPU([n,r]))return this.cpuBackend.multiply(n,r);if(lt().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(n,r,RW,n.dtype);var h=new ka(RW,n.shape,r.shape);return this.compileAndRun(h,[n,r],n.dtype)},t.prototype.batchNormalization=function(n,r,a,i,o,s){var l=[n,r,a],u=null;s!=null&&(u=s.shape,l.push(s));var d=null;if(o!=null&&(d=o.shape,l.push(o)),lt().getBool("WEBGL_PACK_NORMALIZATION")){var f=new V3e(n.shape,r.shape,a.shape,u,d,i);return this.compileAndRun(f,l)}var h=new W3e(n.shape,r.shape,a.shape,u,d,i);return this.compileAndRun(h,l)},t.prototype.localResponseNormalization4D=function(n,r,a,i,o){var s=lt().getBool("WEBGL_PACK_NORMALIZATION")?new BMe(n.shape,r,a,i,o):new LMe(n.shape,r,a,i,o);return this.compileAndRun(s,[n])},t.prototype.LRNGrad=function(n,r,a,i,o,s,l){var u=new $Me(r.shape,i,o,s,l);return this.compileAndRun(u,[r,a,n])},t.prototype.tile=function(n,r){if(n.dtype==="string"){var a=this.readSync(n.dataId).map(function(o){return pE(o)});return jie(Pn(n.shape,n.dtype,a),r)}var i=new cIe(n.shape,r);return this.compileAndRun(i,[n])},t.prototype.pad=function(n,r,a){var i=lt().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new GMe(n.shape,r,a):new qMe(n.shape,r,a);return this.compileAndRun(i,[n])},t.prototype.transpose=function(n,r){if(this.shouldExecuteOnCPU([n]))return this.cpuBackend.transpose(n,r);var a=lt().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new dIe(n.shape,r):new uIe(n.shape,r);return this.compileAndRun(a,[n])},t.prototype.gather=function(n,r,a){if(this.shouldExecuteOnCPU([n,r]))return this.cpuBackend.gather(n,r,a);var i=new yMe(n.shape,r.size,a);return this.compileAndRun(i,[n,r])},t.prototype.batchToSpaceND=function(n,r,a){_e(n.rank<=4,function(){return"batchToSpaceND for rank > 4 with a WebGL backend not implemented yet"});var i=r.reduce(function(f,h){return f*h}),o=bE(n.shape,r,i),s=wE(o.length,r.length),l=_E(n.shape,r,i),u=mie(a,r.length),d=gie(l,a,r.length);return n.reshape(o).transpose(s).reshape(l).slice(u,d)},t.prototype.spaceToBatchND=function(n,r,a){_e(n.rank<=4,function(){return"spaceToBatchND for rank > 4 with a WebGL backend not implemented yet"});var i=r.reduce(function(h,p){return h*p}),o=[[0,0]];o.push.apply(o,a);for(var s=1+r.length;s<n.shape.length;++s)o.push([0,0]);var l=n.pad(o),u=bE(l.shape,r,i,!1),d=wE(u.length,r.length,!1),f=_E(l.shape,r,i,!1);return l.reshape(u).transpose(d).reshape(f)},t.prototype.reduce=function(n,r,a){var i=n.shape[0],o=n.shape[1],s=p4(o),l=new YMe({windowSize:s,inSize:o,batchSize:i},r),u=this.compileAndRun(l,[n],a);return u.shape[1]===1?u:this.reduce(u,r,a)},t.prototype.argReduce=function(n,r,a){a===void 0&&(a=null);var i=n.shape[0],o=n.shape[1];a!=null&&(i=a.shape[0],o=a.shape[1]);var s=p4(o),l=new M3e({windowSize:s,inSize:o,batchSize:i},r,a==null),u=[n];a!=null&&u.push(a);var d=this.compileAndRun(l,u,"int32");return d.shape[1]===1?d:this.argReduce(n,r,d)},t.prototype.argReducePacked=function(n,r,a){a===void 0&&(a=null);var i=a!=null?a.shape:n.shape,o=p4(i[i.length-1]),s=new B3e(i,o,r,a==null),l=a==null?[n]:[n,a],u=this.compileAndRun(s,l,"int32");return u.rank===n.rank?this.argReducePacked(n,r,u):u},t.prototype.sum=function(n,r){_s("sum",r,n.rank);var a=uo(n.shape,r),i=a[0],o=un(a[1]),s=n.as2D(-1,o),l=o4(n.dtype);return this.reduce(s,"sum",l).reshape(i)},t.prototype.prod=function(n,r){if(this.shouldExecuteOnCPU([n]))return this.cpuBackend.prod(n,r);var a=uo(n.shape,r),i=a[0],o=un(a[1]),s=n.as2D(-1,o),l=o4(n.dtype);return this.reduce(s,"prod",l).reshape(i)},t.prototype.unsortedSegmentSum=function(n,r,a){var i=0,o=Mu([i],n.rank),s=n;o!=null&&(s=n.transpose(o),i=Iu(1,n.rank)[0]);var l=function(p,m,g){for(var y=[],x=p.length,b=0;b<x;b++)b!==m?y.push(p[b]):y.push(g);return y}(s.shape,i,a),u=un([s.shape[i]]),d=s.as2D(-1,u),f=o4(n.dtype),h=this.segOpCompute(d,"unsortedSegmentSum",r,f,a).reshape(l);return o!=null&&(h=h.transpose(y5(o))),h},t.prototype.segOpCompute=function(n,r,a,i,o){var s=n.shape[0],l=n.shape[1],u=function(h,p){var m,g=!1;for(h<=yie?(m=h,g=!0):m=J3(h,Math.floor(Math.sqrt(h)));!g;)m>p||m===h?g=!0:m=J3(h,m+1);return m}(l,o),d=new rIe({windowSize:u,inSize:l,batchSize:s,numSegments:o}),f=this.compileAndRun(d,[n,a],i);return f.shape[1]===o?f:(a=xE(0,o).tile([l/u]),this.segOpCompute(f,r,a,i,o))},t.prototype.argMinMaxReduce=function(n,r,a){var i=[r];if(_s("arg"+a.charAt(0).toUpperCase()+a.slice(1),i,n.rank),!lt().getBool("WEBGL_PACK_REDUCE")||n.rank<=2){var o=uo(n.shape,i),s=o[0],l=un(o[1]),u=n.as2D(-1,l);return this.argReduce(u,a).reshape(s)}return this.argReducePacked(n,a)},t.prototype.argMin=function(n,r){return this.argMinMaxReduce(n,r,"min")},t.prototype.argMax=function(n,r){return this.argMinMaxReduce(n,r,"max")},t.prototype.cumsum=function(n,r,a,i){if(r!==n.rank-1)throw new Error("WebGL cumsum shader expects an inner-most axis="+(n.rank-1)+" but got axis="+r);var o=new oMe(n.shape,a,i);return this.compileAndRun(o,[n])},t.prototype.equal=function(n,r){if(lt().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(n,r,`
  return vec4(equal(a, b));
`,"bool");var a=new ka("return float(a == b);",n.shape,r.shape);return this.compileAndRun(a,[n,r],"bool")},t.prototype.notEqual=function(n,r){if(lt().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(n,r,`
  return vec4(notEqual(a, b));
`,"bool");var a=new ka("return float(a != b);",n.shape,r.shape);return this.compileAndRun(a,[n,r],"bool")},t.prototype.less=function(n,r){if(this.shouldExecuteOnCPU([n,r]))return this.cpuBackend.less(n,r);if(lt().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(n,r,`
  return vec4(lessThan(a, b));
`,"bool");var a=new ka("return float(a < b);",n.shape,r.shape);return this.compileAndRun(a,[n,r],"bool")},t.prototype.lessEqual=function(n,r){if(lt().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(n,r,`
  return vec4(lessThanEqual(a, b));
`,"bool");var a=new ka("return float(a <= b);",n.shape,r.shape);return this.compileAndRun(a,[n,r],"bool")},t.prototype.greater=function(n,r){if(this.shouldExecuteOnCPU([n,r]))return this.cpuBackend.greater(n,r);if(lt().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(n,r,`
  return vec4(greaterThan(a, b));
`,"bool");var a=new ka("return float(a > b);",n.shape,r.shape);return this.compileAndRun(a,[n,r],"bool")},t.prototype.greaterEqual=function(n,r){if(lt().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(n,r,`
  return vec4(greaterThanEqual(a, b));
`,"bool");var a=new ka("return float(a >= b);",n.shape,r.shape);return this.compileAndRun(a,[n,r],"bool")},t.prototype.logicalNot=function(n){var r=new Ln(n.shape,"return float(!(x >= 1.0));");return this.compileAndRun(r,[n])},t.prototype.logicalAnd=function(n,r){if(lt().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(n,r,`
  return vec4(
    vec4(greaterThanEqual(a, vec4(1.0))) *
    vec4(greaterThanEqual(b, vec4(1.0))));
`,"bool");var a=new ka("return float(a >= 1.0 && b >= 1.0);",n.shape,r.shape);return this.compileAndRun(a,[n,r],"bool")},t.prototype.logicalOr=function(n,r){if(lt().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(n,r,`
  return min(
    vec4(greaterThanEqual(a, vec4(1.0))) +
    vec4(greaterThanEqual(b, vec4(1.0))),
    vec4(1.0));
`,"bool");var a=new ka("return float(a >= 1.0 || b >= 1.0);",n.shape,r.shape);return this.compileAndRun(a,[n,r],"bool")},t.prototype.select=function(n,r,a){var i=new aIe(n.rank,r.shape,r.rank);return this.compileAndRun(i,[n,r,a],Hi(r.dtype,a.dtype))},t.prototype.where=function(n){vE("tf.where() in webgl locks the UI thread. Call tf.whereAsync() instead");var r=n.dataSync();return N5(n.shape,r)},t.prototype.topk=function(n,r,a){return Tie(n.dataSync(),n.shape,n.dtype,r)},t.prototype.min=function(n,r){_s("min",r,n.rank);var a=uo(n.shape,r),i=a[0],o=un(a[1]),s=n.as2D(-1,o);return this.reduce(s,"min",s.dtype).reshape(i)},t.prototype.minimum=function(n,r){if(this.shouldExecuteOnCPU([n,r]))return this.cpuBackend.minimum(n,r);var a=lt().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Yu(`
  vec4 result = vec4(min(a, b));
  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));
  
  result.r = isNaN.r > 0. ? NAN : result.r;
  result.g = isNaN.g > 0. ? NAN : result.g;
  result.b = isNaN.b > 0. ? NAN : result.b;
  result.a = isNaN.a > 0. ? NAN : result.a;

  return result;
`,n.shape,r.shape):new ka(`
  if (isnan(a)) return a;
  if (isnan(b)) return b;

  return min(a, b);
`,n.shape,r.shape);return this.compileAndRun(a,[n,r])},t.prototype.mod=function(n,r){var a=lt().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Yu(`
  vec4 result = mod(a, b);
  vec4 isNaN = vec4(equal(b, vec4(0.0)));
  
  result.r = isNaN.r > 0. ? NAN : result.r;
  result.g = isNaN.g > 0. ? NAN : result.g;
  result.b = isNaN.b > 0. ? NAN : result.b;
  result.a = isNaN.a > 0. ? NAN : result.a;

  return result;
`,n.shape,r.shape):new ka(`if (b == 0.0) return NAN;
  return mod(a, b);`,n.shape,r.shape);return this.compileAndRun(a,[n,r])},t.prototype.max=function(n,r){if(this.shouldExecuteOnCPU([n]))return this.cpuBackend.max(n,r);_s("max",r,n.rank);var a=uo(n.shape,r),i=a[0],o=un(a[1]),s=n.as2D(-1,o);return this.reduce(s,"max",s.dtype).reshape(i)},t.prototype.maximum=function(n,r){if(this.shouldExecuteOnCPU([n,r]))return this.cpuBackend.maximum(n,r);var a=lt().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Yu(`
  vec4 result = vec4(max(a, b));
  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));
  
  result.r = isNaN.r > 0. ? NAN : result.r;
  result.g = isNaN.g > 0. ? NAN : result.g;
  result.b = isNaN.b > 0. ? NAN : result.b;
  result.a = isNaN.a > 0. ? NAN : result.a;

  return result;
`,n.shape,r.shape):new ka(`
  if (isnan(a)) return a;
  if (isnan(b)) return b;

  return max(a, b);
`,n.shape,r.shape);return this.compileAndRun(a,[n,r])},t.prototype.all=function(n,r){_s("all",r,n.rank);var a=uo(n.shape,r),i=a[0],o=un(a[1]),s=n.as2D(-1,o);return this.reduce(s,"all",s.dtype).reshape(i)},t.prototype.any=function(n,r){_s("any",r,n.rank);var a=uo(n.shape,r),i=a[0],o=un(a[1]),s=n.as2D(-1,o);return this.reduce(s,"any",s.dtype).reshape(i)},t.prototype.realDivide=function(n,r){if(lt().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(n,r,`
  // vec4 one = vec4(equal(a, b));
  // return one + (vec4(1.0) - one) * a / b;
  vec4 result = a / b;
  if(a.x == b.x) {
    result.x = 1.;
  }
  if(a.y == b.y) {
    result.y = 1.;
  }
  if(a.z == b.z) {
    result.z = 1.;
  }
  if(a.w == b.w) {
    result.w = 1.;
  }

  return result;
`,"float32",!0);var a=new ka(`
if (a == b) {
  return 1.0;
};
return a / b;`,n.shape,r.shape);return this.compileAndRun(a,[n,r],"float32")},t.prototype.floorDiv=function(n,r){if(lt().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(n,r,`
  ivec4 ia = round(a);
  ivec4 ib = round(b);
  bvec4 cond = notEqual(ib, ivec4(0));
  ivec4 result = ivec4(0);
  vec4 s = sign(a) * sign(b);

  // Windows (D3D) wants guaranteed non-zero int division at compile-time.
  if (cond[0]) {
    result[0] = idiv(ia[0], ib[0], s[0]);
  }
  if (cond[1]) {
    result[1] = idiv(ia[1], ib[1], s[1]);
  }
  if (cond[2]) {
    result[2] = idiv(ia[2], ib[2], s[2]);
  }
  if (cond[3]) {
    result[3] = idiv(ia[3], ib[3], s[3]);
  }
  return vec4(result);
`,"int32");var a=new ka(`
  float s = sign(a) * sign(b);
  int ia = round(a);
  int ib = round(b);
  if (ib != 0) {
    // Windows (D3D) wants guaranteed non-zero int division at compile-time.
    return float(idiv(ia, ib, s));
  } else {
    return NAN;
  }
`,n.shape,r.shape);return this.compileAndRun(a,[n,r],"int32")},t.prototype.add=function(n,r){if(n.dtype==="complex64"&&r.dtype==="complex64")return this.complexSeparableBinaryOp(n,r,m4);if(this.shouldExecuteOnCPU([n,r]))return this.cpuBackend.add(n,r);var a=Hi(n.dtype,r.dtype);if(lt().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(n,r,m4,a);var i=new ka(m4,n.shape,r.shape);return this.compileAndRun(i,[n,r],a)},t.prototype.packedUnaryOp=function(n,r,a){var i=new Xy(n.shape,r);return this.compileAndRun(i,[n],a)},t.prototype.packedBinaryOp=function(n,r,a,i,o){o===void 0&&(o=!1);var s=new Yu(a,n.shape,r.shape,o);return this.compileAndRun(s,[n,r],i)},t.prototype.complexSeparableBinaryOp=function(n,r,a){var i=this,o=this.texData.get(n.dataId),s=this.texData.get(r.dataId),l=[[o.complexTensors.real,s.complexTensors.real],[o.complexTensors.imag,s.complexTensors.imag]].map(function(h){var p=h[0],m=h[1],g=i.makeComplexComponentTensorInfo(n,p),y=i.makeComplexComponentTensorInfo(r,m),x=new ka(a,n.shape,r.shape);return i.compileAndRun(x,[g,y],Hi(p.dtype,m.dtype))}),u=l[0],d=l[1],f=this.complex(u,d);return u.dispose(),d.dispose(),f},t.prototype.makeComplexComponentTensorInfo=function(n,r){return{dataId:r.dataId,dtype:r.dtype,shape:n.shape}},t.prototype.addN=function(n){if(n.length===1)return n[0];if(n.length>lt().get("WEBGL_MAX_TEXTURES_IN_SHADER")){var r=Math.floor(n.length/2),a=this.addN(n.slice(0,r)),i=this.addN(n.slice(r));return this.addN([a,i])}var o=n.map(function(u){return u.dtype}).reduce(function(u,d){return Hi(u,d)}),s=n.map(function(u){return u.shape}),l=lt().getBool("WEBGL_PACK")?new O3e(n[0].shape,s):new D3e(n[0].shape,s);return this.compileAndRun(l,n,o)},t.prototype.subtract=function(n,r){if(n.dtype==="complex64"&&r.dtype==="complex64")return this.complexSeparableBinaryOp(n,r,g4);if(this.shouldExecuteOnCPU([n,r]))return this.cpuBackend.subtract(n,r);var a=Hi(n.dtype,r.dtype);if(lt().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(n,r,g4,n.dtype);var i=new ka(g4,n.shape,r.shape);return this.compileAndRun(i,[n,r],a)},t.prototype.pow=function(n,r){var a=lt().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Yu(`
  // isModRound1 has 1 for components with round(mod(b, 2.0)) == 1, 0 otherwise.
  vec4 isModRound1 = vec4(equal(round(mod(b, 2.0)), ivec4(1)));
  vec4 multiplier = sign(a) * isModRound1 + (vec4(1.0) - isModRound1);
  vec4 result = multiplier * pow(abs(a), b);

  // Ensure that a^0 = 1, including 0^0 = 1 as this correspond to TF and JS
  bvec4 isExpZero = equal(b, vec4(0.0));
  result.r = isExpZero.r ? 1.0 : result.r;
  result.g = isExpZero.g ? 1.0 : result.g;
  result.b = isExpZero.b ? 1.0 : result.b;
  result.a = isExpZero.a ? 1.0 : result.a;

  vec4 isNaN = vec4(lessThan(a, vec4(0.0))) * vec4(lessThan(floor(b), b));
  
  result.r = isNaN.r > 0. ? NAN : result.r;
  result.g = isNaN.g > 0. ? NAN : result.g;
  result.b = isNaN.b > 0. ? NAN : result.b;
  result.a = isNaN.a > 0. ? NAN : result.a;

  return result;
`,n.shape,r.shape):new ka(`
if(a < 0.0 && floor(b) < b){
  return NAN;
}
if (b == 0.0) {
  return 1.0;
}
return (round(mod(b, 2.0)) != 1) ?
    pow(abs(a), b) : sign(a) * pow(abs(a), b);
`,n.shape,r.shape),i=Hi(n.dtype,r.dtype);return this.compileAndRun(a,[n,r],i)},t.prototype.ceil=function(n){if(this.shouldExecuteOnCPU([n]))return this.cpuBackend.ceil(n);if(lt().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(n,YW,n.dtype);var r=new Ln(n.shape,YW);return this.compileAndRun(r,[n])},t.prototype.floor=function(n){if(this.shouldExecuteOnCPU([n]))return this.cpuBackend.floor(n);if(lt().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(n,KW,n.dtype);var r=new Ln(n.shape,KW);return this.compileAndRun(r,[n])},t.prototype.sign=function(n){var r=new Ln(n.shape,`
  if (isnan(x)) { return 0.0; }
  return sign(x);
`);return this.compileAndRun(r,[n])},t.prototype.isNaN=function(n){var r=new Ln(n.shape,"return float(isnan(x));");return this.compileAndRun(r,[n],"bool")},t.prototype.isInf=function(n){var r=new Ln(n.shape,"return float(isinf(x));");return this.compileAndRun(r,[n],"bool")},t.prototype.isFinite=function(n){var r=new Ln(n.shape,"return float(!isnan(x) && !isinf(x));");return this.compileAndRun(r,[n],"bool")},t.prototype.round=function(n){var r=new Ln(n.shape,`
  // OpenGL ES does not support round function.
  // The algorithm is based on banker's rounding.
  float base = floor(x);
  if ((x - base) < 0.5) {
    return floor(x);
  } else if ((x - base) > 0.5) {
    return ceil(x);
  } else {
    if (mod(base, 2.0) == 0.0) {
      return base;
    } else {
      return base + 1.0;
    }
  }
`);return this.compileAndRun(r,[n])},t.prototype.exp=function(n){if(this.shouldExecuteOnCPU([n]))return this.cpuBackend.exp(n);if(lt().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(n,XW,n.dtype);var r=new Ln(n.shape,XW);return this.compileAndRun(r,[n])},t.prototype.expm1=function(n){if(this.shouldExecuteOnCPU([n]))return this.cpuBackend.expm1(n);if(lt().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(n,ZW,n.dtype);var r=new Ln(n.shape,ZW);return this.compileAndRun(r,[n])},t.prototype.softmax=function(n,r){var a=vi([r],n.shape),i=this.max(n,a),o=us(i.shape,a),s=this.subtract(n,i.reshape(o)),l=this.exp(s),u=this.sum(l,a).reshape(o);return this.realDivide(l,u)},t.prototype.log=function(n){if(this.shouldExecuteOnCPU([n]))return this.cpuBackend.log(n);if(lt().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(n,`
  vec4 result = log(x);
  vec4 isNaN = vec4(lessThan(x, vec4(0.0)));
  result.r = isNaN.r == 1.0 ? NAN : result.r;
  result.g = isNaN.g == 1.0 ? NAN : result.g;
  result.b = isNaN.b == 1.0 ? NAN : result.b;
  result.a = isNaN.a == 1.0 ? NAN : result.a;

  return result;
`,n.dtype);var r=new Ln(n.shape,`if (x < 0.0) return NAN;
  return log(x);`);return this.compileAndRun(r,[n])},t.prototype.log1p=function(n){var r=new Ln(n.shape,"return log(1.0 + x);");return this.compileAndRun(r,[n])},t.prototype.sqrt=function(n){var r=new Ln(n.shape,"return sqrt(x);");return this.compileAndRun(r,[n])},t.prototype.rsqrt=function(n){if(this.shouldExecuteOnCPU([n]))return this.cpuBackend.rsqrt(n);var r=new Ln(n.shape,"return inversesqrt(x);");return this.compileAndRun(r,[n])},t.prototype.reciprocal=function(n){var r=new Ln(n.shape,"return 1.0 / x;");return this.compileAndRun(r,[n])},t.prototype.relu=function(n){var r;return r=lt().getBool("WEBGL_PACK")?new Xy(n.shape,Lie):new Ln(n.shape,Iie),this.compileAndRun(r,[n])},t.prototype.relu6=function(n){var r;return r=lt().getBool("WEBGL_PACK")?new Xy(n.shape,$ie):new Ln(n.shape,Rie),this.compileAndRun(r,[n])},t.prototype.prelu=function(n,r){var a=lt().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Yu(Mie,n.shape,r.shape):new ka(Oie,n.shape,r.shape);return this.compileAndRun(a,[n,r])},t.prototype.elu=function(n){if(lt().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(n,Bie,n.dtype);var r=new Ln(n.shape,Fie);return this.compileAndRun(r,[n])},t.prototype.eluDer=function(n,r){var a=lt().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Yu(`
  vec4 bGTEZero = vec4(greaterThanEqual(b, vec4(0.)));
  return (bGTEZero * a) + ((vec4(1.0) - bGTEZero) * (a * (b + vec4(1.0))));
`,n.shape,r.shape):new ka("return (b >= 1.0) ? a : a * (b + 1.0);",n.shape,r.shape);return this.compileAndRun(a,[n,r])},t.prototype.selu=function(n){var r=new Ln(n.shape,hIe);return this.compileAndRun(r,[n])},t.prototype.int=function(n){var r=new Ln(n.shape,"return float(int(x));");return this.compileAndRun(r,[n],"int32")},t.prototype.clip=function(n,r,a){var i,o=(i=lt().getBool("WEBGL_PACK_CLIP")?new Y3e(n.shape):new G3e(n.shape)).getCustomSetupFunc(r,a);return this.compileAndRun(i,[n],null,o)},t.prototype.abs=function(n){if(this.shouldExecuteOnCPU([n]))return this.cpuBackend.abs(n);if(lt().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(n,qW,n.dtype);var r=new Ln(n.shape,qW);return this.compileAndRun(r,[n])},t.prototype.complexAbs=function(n){var r=this.texData.get(n.dataId),a=new K3e(n.shape),i=[this.makeComplexComponentTensorInfo(n,r.complexTensors.real),this.makeComplexComponentTensorInfo(n,r.complexTensors.imag)];return this.compileAndRun(a,i)},t.prototype.sigmoid=function(n){var r=new Ln(n.shape,"return 1.0 / (1.0 + exp(-1.0 * x));");return this.compileAndRun(r,[n])},t.prototype.softplus=function(n){var r=new Ln(n.shape,`
  float epsilon = 1.1920928955078125e-7;
  float threshold = log(epsilon) + 2.0;

  bool too_large = x > -threshold;
  bool too_small = x < threshold;

  float result;
  float exp_x = exp(x);

  if (too_large){
    result = x;
  }
  else if (too_small){
    result = exp_x;
  }
  else{
    result = log(exp_x + 1.0);
  }
  return result;
`);return this.compileAndRun(r,[n])},t.prototype.sin=function(n){var r=new Ln(n.shape,pIe);return this.compileAndRun(r,[n])},t.prototype.cos=function(n){var r=new Ln(n.shape,mIe);return this.compileAndRun(r,[n])},t.prototype.tan=function(n){var r=new Ln(n.shape,"return tan(x);");return this.compileAndRun(r,[n])},t.prototype.asin=function(n){var r=new Ln(n.shape,gIe);return this.compileAndRun(r,[n])},t.prototype.acos=function(n){var r=new Ln(n.shape,vIe);return this.compileAndRun(r,[n])},t.prototype.atan=function(n){var r=new Ln(n.shape,yIe);return this.compileAndRun(r,[n])},t.prototype.atan2=function(n,r){var a=lt().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Yu(`
  vec4 result = atan(a, b);
  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));
  
  result.r = isNaN.r > 0. ? NAN : result.r;
  result.g = isNaN.g > 0. ? NAN : result.g;
  result.b = isNaN.b > 0. ? NAN : result.b;
  result.a = isNaN.a > 0. ? NAN : result.a;

  return result;
`,n.shape,r.shape):new ka(`
  if (isnan(a)) return a;
  if (isnan(b)) return b;

  return atan(a, b);
`,n.shape,r.shape);return this.compileAndRun(a,[n,r])},t.prototype.sinh=function(n){var r=new Ln(n.shape,`
  float e2x = exp(x);
  return (e2x - 1.0 / e2x) / 2.0;
`);return this.compileAndRun(r,[n])},t.prototype.cosh=function(n){var r=new Ln(n.shape,`
  float e2x = exp(-x);
  return (e2x + 1.0 / e2x) / 2.0;
`);return this.compileAndRun(r,[n])},t.prototype.tanh=function(n){var r=new Ln(n.shape,`
  float e2x = exp(-2.0 * abs(x));
  return sign(x) * (1.0 - e2x) / (1.0 + e2x);
`);return this.compileAndRun(r,[n])},t.prototype.asinh=function(n){var r=new Ln(n.shape,xIe);return this.compileAndRun(r,[n])},t.prototype.acosh=function(n){var r=new Ln(n.shape,bIe);return this.compileAndRun(r,[n])},t.prototype.atanh=function(n){var r=new Ln(n.shape,wIe);return this.compileAndRun(r,[n])},t.prototype.erf=function(n){var r=new Ln(n.shape,`
  // Error function is calculated approximately with elementary function.
  // See "Handbook of Mathematical Functions with Formulas,
  // Graphs, and Mathematical Tables", Abramowitz and Stegun.
  float p = 0.3275911;
  float a1 = 0.254829592;
  float a2 = -0.284496736;
  float a3 = 1.421413741;
  float a4 = -1.453152027;
  float a5 = 1.061405429;

  float sign = sign(x);
  x = abs(x);
  float t = 1.0 / (1.0 + p * x);
  return sign * (1.0 - (((((a5*t + a4)*t) + a3)*t + a2)*t + a1)*t*exp(-x*x));
`);return this.compileAndRun(r,[n])},t.prototype.step=function(n,r){var a=new Ln(n.shape,function(i){return i===void 0&&(i=0),Ec+`
    return x > 0.0 ? 1.0 : float(`+i+`);
  `}(r));return this.compileAndRun(a,[n])},t.prototype.conv2dByMatMul=function(n,r,a,i,o,s){var l=n.shape,u=this.texData.get(n.dataId),d=a.inChannels,f=l[0]*l[1]*l[2],h=a.outChannels,p=a.dataFormat==="channelsLast",m=(f===1||h===1)&&d>1e3,g=l[2]%2!=0&&!!u.isPacked;if(m||!lt().getBool("WEBGL_LAZILY_UNPACK")||!lt().getBool("WEBGL_PACK_BINARY_OPERATIONS")||!g){var y=p?l[0]*l[1]*l[2]:l[0]*l[2]*l[3],x=this.reshape(n,[1,y,a.inChannels]),b=this.reshape(r,[1,a.inChannels,a.outChannels]);return this.reshape(this.fusedBatchMatMul({a:x,b,transposeA:!1,transposeB:!1,bias:i,activation:o,preluActivationWeights:s}),a.outShape)}var w=p?l[0]*l[1]*(l[2]+1):l[0]*l[2]*(l[3]+1),_={dataId:n.dataId,shape:[1,w,a.inChannels],dtype:n.dtype},S=u.shape;u.shape=u.shape.slice(),u.shape[u.shape.length-2]++,_e(S_(u.shape,_.shape),function(){return"packed reshape "+u.shape+" to "+_.shape+" isn't free"});var k=this.reshape(r,[1,a.inChannels,a.outChannels]),N=this.fusedBatchMatMul({a:_,b:k,transposeA:!1,transposeB:!1,bias:i,activation:o,preluActivationWeights:s}),P=this.texData.get(N.dataId);return _e(P.isPacked,function(){return"batchMatMul result is expected to be packed"}),u.shape=S,P.shape=a.outShape,Ie.makeTensorFromDataId(N.dataId,a.outShape,N.dtype)},t.prototype.conv2dWithIm2Row=function(n,r,a,i,o,s){var l=a.filterWidth,u=a.filterHeight,d=a.inChannels,f=a.outWidth,h=a.outHeight,p=a.dataFormat==="channelsLast",m=l*u*d,g=h*f,y=[m,g],x=n.squeeze([0]),b=r.reshape([1,m,-1]),w=new FMe(y,x.shape,a),_=this.compileAndRun(w,[x]).reshape([1,y[0],y[1]]),S=i!=null,k=s!=null,N=o?k_(o,!0):null,P=new v4(_.shape,[1,g,a.outChannels],!0,!1,S,N,k),T=[_,b];i&&T.push(i),k&&T.push(s);var j=this.compileAndRun(P,T);return p?j.reshape([1,h,f,a.outChannels]):j.reshape([1,a.outChannels,h,f])},t.prototype.fusedConv2d=function(n){var r=n.input,a=n.filter,i=n.convInfo,o=n.bias,s=n.activation,l=n.preluActivationWeights;if(i.filterHeight===1&&i.filterWidth===1&&i.dilationHeight===1&&i.dilationWidth===1&&i.strideHeight===1&&i.strideWidth===1&&(i.padInfo.type==="SAME"||i.padInfo.type==="VALID"))return this.conv2dByMatMul(r,a,i,o,s,l);if(lt().getBool("WEBGL_CONV_IM2COL")&&r.shape[0]===1)return this.conv2dWithIm2Row(r,a,i,o,s,l);var u=o!=null,d=l!=null,f=s?k_(s,!1):null,h=new FW(i,u,f,d),p=[r,a];return o&&p.push(o),l&&p.push(l),this.compileAndRun(h,p)},t.prototype.conv2d=function(n,r,a){if(a.filterHeight===1&&a.filterWidth===1&&a.dilationHeight===1&&a.dilationWidth===1&&a.strideHeight===1&&a.strideWidth===1&&(a.padInfo.type==="SAME"||a.padInfo.type==="VALID"))return this.conv2dByMatMul(n,r,a);if(lt().getBool("WEBGL_CONV_IM2COL")&&n.shape[0]===1)return this.conv2dWithIm2Row(n,r,a);var i=new FW(a);return this.compileAndRun(i,[n,r])},t.prototype.conv2dDerInput=function(n,r,a){var i=new J3e(a);return this.compileAndRun(i,[n,r])},t.prototype.conv2dDerFilter=function(n,r,a){var i=new Q3e(a);return this.compileAndRun(i,[n,r])},t.prototype.fusedDepthwiseConv2D=function(n){var r,a=n.input,i=n.filter,o=n.convInfo,s=n.bias,l=n.activation,u=n.preluActivationWeights,d=lt().getBool("WEBGL_PACK_DEPTHWISECONV")&&o.strideWidth<=2&&o.outChannels/o.inChannels==1,f=l?k_(l,d):null,h=[a,i],p=s!=null,m=u!=null;return p&&h.push(s),m&&h.push(u),d?(r=new $W(o,p,f,m),this.compileAndRun(r,h)):(r=new LW(o,p,f,m),this.compileAndRun(r,h))},t.prototype.depthwiseConv2D=function(n,r,a){var i;return lt().getBool("WEBGL_PACK_DEPTHWISECONV")&&a.strideWidth<=2&&a.outChannels/a.inChannels==1?(i=new $W(a),this.compileAndRun(i,[n,r])):(i=new LW(a),this.compileAndRun(i,[n,r]))},t.prototype.depthwiseConv2DDerInput=function(n,r,a){var i=new rMe(a);return this.compileAndRun(i,[n,r])},t.prototype.depthwiseConv2DDerFilter=function(n,r,a){var i=new nMe(a);return this.compileAndRun(i,[n,r])},t.prototype.conv3d=function(n,r,a){var i=new aMe(a);return this.compileAndRun(i,[n,r])},t.prototype.conv3dDerInput=function(n,r,a){var i=new tMe(a);return this.compileAndRun(i,[n,r])},t.prototype.conv3dDerFilter=function(n,r,a){var i=new eMe(a);return this.compileAndRun(i,[n,r])},t.prototype.maxPool=function(n,r){var a=new y4(r,"max",!1);return this.compileAndRun(a,[n])},t.prototype.avgPool=function(n,r){var a=new y4(r,"avg",!1);return this.compileAndRun(a,[n],"float32")},t.prototype.maxPoolBackprop=function(n,r,a,i){var o=new y4(i,"max",!0),s=this.compileAndRun(o,[r]),l=new zMe(i),u=this.compileAndRun(l,[n,s],r.dtype);return s.dispose(),u},t.prototype.avgPoolBackprop=function(n,r,a){var i=new z3e(a);return this.compileAndRun(i,[n],r.dtype)},t.prototype.cast=function(n,r){return Cie(n,r,this)},t.prototype.unstack=function(n,r){for(var a=n.shape[r],i=new Array(n.rank-1),o=0,s=0;s<n.rank;s++)s!==r&&(i[o++]=n.shape[s]);var l=new Array(n.rank).fill(0),u=n.shape.slice();u[r]=1;var d=new Array(a);for(s=0;s<d.length;s++)l[r]=s,d[s]=this.slice(n,l,u).reshape(i);return d},t.prototype.avgPool3d=function(n,r){var a=new x4(r,"avg",!1);return this.compileAndRun(a,[n],"float32")},t.prototype.avgPool3dBackprop=function(n,r,a){var i=new U3e(a);return this.compileAndRun(i,[n],r.dtype)},t.prototype.maxPool3d=function(n,r){var a=new x4(r,"max",!1);return this.compileAndRun(a,[n],"float32")},t.prototype.maxPool3dBackprop=function(n,r,a,i){var o=new x4(i,"max",!0),s=this.compileAndRun(o,[r]),l=new UMe(i),u=this.compileAndRun(l,[n,s],r.dtype);return s.dispose(),u},t.prototype.reshape=function(n,r){var a=this.texData.get(n.dataId);if(a.isPacked&&!S_(n.shape,r)&&(a.texture===null||!S_(a.shape,r))){var i=this.packedReshape(n,r);return Ie.makeTensorFromDataId(i.dataId,i.shape,i.dtype)}return sM(n,r)},t.prototype.resizeBilinear=function(n,r,a,i){var o=lt().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new QMe(n.shape,r,a,i):new ZMe(n.shape,r,a,i);return this.compileAndRun(o,[n],"float32")},t.prototype.resizeBilinearBackprop=function(n,r,a){var i=new XMe(n,r,a);return this.compileAndRun(i,[n])},t.prototype.resizeNearestNeighbor=function(n,r,a,i){var o=new eIe(n.shape,r,a,i);return this.compileAndRun(o,[n])},t.prototype.resizeNearestNeighborBackprop=function(n,r,a){var i=new JMe(n,r,a);return this.compileAndRun(i,[n])},t.prototype.multinomial=function(n,r,a,i){var o=r?n:Ud(n),s=o.shape[0],l=o.shape[1],u=new WMe(s,l,a),d=u.getCustomSetupFunc(i);return this.compileAndRun(u,[o],"int32",d)},t.prototype.oneHot=function(n,r,a,i){var o=new VMe(n.size,r,a,i);return this.compileAndRun(o,[n])},t.prototype.diag=function(n){var r=new uMe(n.size);return this.compileAndRun(r,[n])},t.prototype.nonMaxSuppression=function(n,r,a,i,o){return vE("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead"),C5(n.dataSync(),r.dataSync(),a,i,o)},t.prototype.cropAndResize=function(n,r,a,i,o,s){var l=new iMe(n.shape,r.shape,i,o,s);return this.compileAndRun(l,[n,r,a],"float32")},t.prototype.depthToSpace=function(n,r,a){_e(r>1,function(){return"blockSize should be > 1 for depthToSpace, but was: "+r});var i=n.shape[0],o=a==="NHWC"?n.shape[1]:n.shape[2],s=a==="NHWC"?n.shape[2]:n.shape[3],l=a==="NHWC"?n.shape[3]:n.shape[1],u=o*r,d=s*r,f=l/(r*r),h=new cMe(a==="NHWC"?[i,u,d,f]:[i,f,u,d],r,a);return this.compileAndRun(h,[n])},t.prototype.split=function(n,r,a){return kie(n,r,a)},t.prototype.scatterND=function(n,r,a){var i=SE(0,n,a),o=i.sliceRank,s=i.numUpdates,l=i.sliceSize,u=i.strides,d=i.outputSize,f=[d/l,l],h=n.reshape([s,o]),p=r.reshape([s,l]);if(d===0)return sM(Gi([]),a);var m=zt(0),g=new WW(s,o,h.rank,p.rank,u,f);return this.compileAndRun(g,[p,h,m]).reshape(a)},t.prototype.sparseToDense=function(n,r,a,i){var o=SE(0,n,a),s=o.sliceRank,l=o.numUpdates,u=o.strides,d=o.outputSize,f=new WW(l,s,n.rank,r.rank,u,[d,1]);return this.compileAndRun(f,[r,n,i]).reshape(a)},t.prototype.fft=function(n){return this.fftImpl(n,!1)},t.prototype.ifft=function(n){return this.fftImpl(n,!0)},t.prototype.fftImpl=function(n,r){var a=this.texData.get(n.dataId),i=new zW(mMe,n.shape,r),o=new zW(gMe,n.shape,r),s=[this.makeComplexComponentTensorInfo(n,a.complexTensors.real),this.makeComplexComponentTensorInfo(n,a.complexTensors.imag)],l=this.compileAndRun(i,s),u=this.compileAndRun(o,s),d=this.complex(l,u).as2D(n.shape[0],n.shape[1]);return l.dispose(),u.dispose(),d},t.prototype.gatherND=function(n,r){var a=r.shape,i=a[a.length-1],o=vie(n,r),s=o[0],l=o[1],u=o[2],d=o[3],f=r.reshape([l,i]),h=n.reshape([n.size/u,u]),p=new xMe(i,d,[l,u]);return this.compileAndRun(p,[h,f]).reshape(s)},t.prototype.fill=function(n,r,a){if((a=a||Zw(r))==="string"){var i=hE(a,un(n));return i.fill(r),Ie.makeTensor(i,n,a,this)}var o=new vMe(n,r),s=o.getCustomSetupFunc(r);return this.compileAndRun(o,[],a,s)},t.prototype.onesLike=function(n){if(n.dtype==="string")throw new Error("onesLike is not supported under string dtype");return this.fill(n.shape,1,n.dtype)},t.prototype.zerosLike=function(n){return this.fill(n.shape,n.dtype==="string"?"":0,n.dtype)},t.prototype.linspace=function(n,r,a){return Eie(n,r,a)},t.prototype.makeTensorInfo=function(n,r){var a=this.write(null,n,r);return this.texData.get(a).usage=null,{dataId:a,shape:n,dtype:r}},t.prototype.makeOutput=function(n,r){var a=this.makeTensorInfo(n,r).dataId;return Ie.makeTensorFromDataId(a,n,r,this)},t.prototype.unpackTensor=function(n){var r=new SIe(n.shape);return this.runWebGLProgram(r,[n],n.dtype)},t.prototype.packTensor=function(n){var r=new HMe(n.shape);return this.runWebGLProgram(r,[n],n.dtype,null,!0)},t.prototype.packedReshape=function(n,r){var a=[mE(n.shape)].concat(gE(n.shape)),i={dtype:n.dtype,shape:a,dataId:n.dataId},o=[mE(r)].concat(gE(r)),s=new KMe(o,a),l=this.runWebGLProgram(s,[i],n.dtype,null,!0);return{dataId:l.dataId,shape:r,dtype:l.dtype}},t.prototype.decode=function(n){var r,a=this.texData.get(n),i=a.isPacked,o=a.shape,s=a.dtype,l=h4(o);return r=i?new lMe(l):new sMe(l),{dtype:s,shape:o,dataId:this.runWebGLProgram(r,[{shape:l,dtype:s,dataId:n}],s,null,!0).dataId}},t.prototype.runWebGLProgram=function(n,r,a,i,o){var s=this;o===void 0&&(o=!1);var l=this.makeTensorInfo(n.outputShape,a),u=this.texData.get(l.dataId);if(n.packedOutput&&(u.isPacked=!0),n.outPackingScheme===_b.DENSE){var d=a1(n.outputShape);u.texShape=d.map(function(w){return 2*w})}if(n.outTexUsage!=null&&(u.usage=n.outTexUsage),un(l.shape)===0)return u.values=bb(l.dtype,0),l;var f=[],h=r.map(function(w){if(w.dtype==="complex64")throw new Error("GPGPUProgram does not support complex64 input. For complex64 dtypes, please separate the program into real and imaginary parts.");var _=s.texData.get(w.dataId);if(_.texture==null){if(!n.packedInputs&&un(w.shape)<=lt().getNumber("WEBGL_SIZE_UPLOAD_UNIFORM"))return{shape:w.shape,texData:null,isUniform:!0,uniformValues:_.values};n.packedInputs&&(_.isPacked=!0,_.shape=w.shape)}else if(!!_.isPacked!=!!n.packedInputs)w=_.isPacked?s.unpackTensor(w):s.packTensor(w),f.push(w),_=s.texData.get(w.dataId);else if(_.isPacked&&!S_(_.shape,w.shape)){var S=w,k=w.shape;w.shape=_.shape,w=s.packedReshape(w,k),f.push(w),_=s.texData.get(w.dataId),S.shape=k}return s.uploadToGPU(w.dataId),{shape:w.shape,texData:_,isUniform:!1}});this.uploadToGPU(l.dataId);var p,m={shape:l.shape,texData:u,isUniform:!1},g=function(w,_,S){var k="";_.concat(S).forEach(function(T){var j=T.texData!=null&&T.texData.slice!=null&&T.texData.slice.flatOffset>0,D=T.isUniform?"uniform":T.texData.texShape;k+=T.shape+"_"+D+"_"+j});var N=w.userCode,P=w.constructor.name;return P+="_"+k+"_"+N}(n,h,m),y=this.getAndSaveBinary(g,function(){return function(w,_,S,k){var N=_.userCode,P=S.map(function(I,O){var H={logicalShape:I.shape,texShape:I.isUniform?null:I.texData.texShape,isUniform:I.isUniform,isPacked:!I.isUniform&&I.texData.isPacked,flatOffset:null};return I.texData!=null&&I.texData.slice!=null&&I.texData.slice.flatOffset>0&&(H.flatOffset=I.texData.slice.flatOffset),{name:_.variableNames[O],shapeInfo:H}}),T=P.map(function(I){return I.shapeInfo}),j={logicalShape:k.shape,texShape:k.texData.texShape,isUniform:!1,isPacked:k.texData.isPacked,flatOffset:null},D=I3e(P,j,N,_.packedInputs),M=w.createProgram(D),R=null,W=w.getUniformLocation(M,"NAN",!1);lt().getNumber("WEBGL_VERSION")===1&&(R=w.getUniformLocation(M,"INFINITY",!1));for(var B={},V=0;V<_.variableNames.length;V++){var q=_.variableNames[V];B[q]=w.getUniformLocation(M,q,!1),B["offset"+q]=w.getUniformLocation(M,"offset"+q,!1)}return{program:_,source:D,webGLProgram:M,uniformLocations:B,inShapeInfos:T,outShapeInfo:j,infLoc:R,nanLoc:W}}(s.gpgpu,n,h,m)}),x=this.activeTimers!=null;if(x&&(p=this.startTimer()),function(w,_,S,k,N){UW(_.inShapeInfos,S),UW([_.outShapeInfo],[k]);var P=k.texData.texture,T=k.texData.texShape;k.texData.isPacked?w.setOutputPackedMatrixTexture(P,T[0],T[1]):w.setOutputMatrixTexture(P,T[0],T[1]),w.setProgram(_.webGLProgram),lt().getNumber("WEBGL_VERSION")===1&&_.infLoc!==null&&w.gl.uniform1f(_.infLoc,1/0),_.nanLoc!==null&&w.gl.uniform1f(_.nanLoc,NaN),S.forEach(function(j,D){var M=_.program.variableNames[D],R=_.uniformLocations[M],W=_.uniformLocations["offset"+M];if(R!=null)if(j.isUniform)if(un(j.shape)<2)w.gl.uniform1f(R,j.uniformValues[0]);else{var B=j.uniformValues;B instanceof Float32Array||(B=new Float32Array(B)),w.gl.uniform1fv(R,B)}else j.texData.slice!=null&&W!=null&&w.gl.uniform1i(W,j.texData.slice.flatOffset),w.setInputMatrixTexture(j.texData.texture,R,D)}),N!=null&&N(w,_.webGLProgram),w.executeProgram()}(this.gpgpu,y,h,m,i),f.forEach(function(w){return s.disposeData(w.dataId)}),x&&(p=this.endTimer(p),this.activeTimers.push({name:n.constructor.name,query:this.getQueryTime(p)})),!lt().getBool("WEBGL_LAZILY_UNPACK")&&u.isPacked&&o===!1){var b=this.unpackTensor(l);return this.disposeData(l.dataId),b}return l},t.prototype.compileAndRun=function(n,r,a,i,o){o===void 0&&(o=!1),a=a||r[0].dtype;var s=this.runWebGLProgram(n,r,a,i,o);return Ie.makeTensorFromDataId(s.dataId,s.shape,s.dtype)},t.prototype.getAndSaveBinary=function(n,r){return n in this.binaryCache||(this.binaryCache[n]=r()),this.binaryCache[n]},t.prototype.getTextureManager=function(){return this.textureManager},t.prototype.dispose=function(){var n=this;this.disposed||(lt().getBool("IS_TEST")||Object.keys(this.binaryCache).forEach(function(r){n.gpgpu.deleteProgram(n.binaryCache[r].webGLProgram),delete n.binaryCache[r]}),this.textureManager.dispose(),this.canvas!=null&&typeof HTMLCanvasElement<"u"&&this.canvas instanceof HTMLCanvasElement?this.canvas.remove():this.canvas=null,this.gpgpuCreatedLocally&&(this.gpgpu.program=null,this.gpgpu.dispose()),this.disposed=!0)},t.prototype.floatPrecision=function(){var n=this;return this.floatPrecisionValue==null&&(this.floatPrecisionValue=Qt(function(){if(!lt().get("WEBGL_RENDER_FLOAT32_ENABLED")){var r=lt().getBool("DEBUG");lt().set("DEBUG",!1);var a=n.abs(zt(1e-8)).dataSync()[0];if(lt().set("DEBUG",r),a>0)return 32}return 16})),this.floatPrecisionValue},t.prototype.epsilon=function(){return this.floatPrecision()===32?1e-7:1e-4},t.prototype.uploadToGPU=function(n){var r,a=this.texData.get(n),i=a.shape,o=a.dtype,s=a.values,l=a.texture,u=a.usage,d=a.isPacked;if(l==null){var f,h=this.activeTimers!=null;h&&(f=Xc());var p=a.texShape;if(p==null&&(p=AOe(i,d),a.texShape=p),s!=null){var m=h4(i),g=void 0,y=p[1],x=p[0],b=s instanceof Uint8Array;d?(y=(r=Jw(p[0],p[1]))[0],x=r[1],g=new pMe(m,[x,y],b)):g=new hMe(m,[x,y],b);var w=this.makeTensorInfo([x,y],o);this.texData.get(w.dataId).usage=b?As.PIXELS:As.UPLOAD,this.gpgpu.uploadDenseMatrixToTexture(this.getTexture(w.dataId),y,x,s);var _=this.runWebGLProgram(g,[w],o,null,!0),S=this.texData.get(_.dataId);a.texture=S.texture,a.texShape=S.texShape,a.isPacked=S.isPacked,a.usage=S.usage,this.disposeData(w.dataId),this.texData.delete(_.dataId),a.values=null,h&&(this.uploadWaitMs+=Xc()-f)}else{var k=this.acquireTexture(p,u,o,d);a.texture=k}}},t.prototype.convertAndCacheOnCPU=function(n,r){var a=this.texData.get(n),i=a.dtype;return this.releaseGPUData(n),r!=null&&(a.values=function(o,s){if(s==="float32"||s==="complex64")return o;if(s==="int32"||s==="bool"){for(var l=s==="int32"?new Int32Array(o.length):new Uint8Array(o.length),u=0;u<l.length;++u)l[u]=Math.round(o[u]);return l}throw new Error("Unknown dtype "+s)}(r,i)),a.values},t.prototype.acquireTexture=function(n,r,a,i){if(this.numBytesInGPU+=this.computeBytes(n,a),!this.warnedAboutMemory&&this.numBytesInGPU>1024*this.numMBBeforeWarning*1024){var o=(this.numBytesInGPU/1024/1024).toFixed(2);this.warnedAboutMemory=!0,console.warn("High memory usage in GPU: "+o+" MB, most likely due to a memory leak")}return this.textureManager.acquireTexture(n,r,i)},t.prototype.computeBytes=function(n,r){return n[0]*n[1]*Jae(r)},t}(_ie);oie()&&Ie.registerBackend("webgl",function(){return new EIe},2);var NIe=Pe({square_:function(e){var t=xe(e,"x","square"),n=[t];return Ie.runKernelFunc(function(r,a){return a([t]),r.square(t)},{x:t},null,"Square",{},n,[])}}),Cb="SquaredDifference",zie=Pe({squaredDifference_:function(e,t){var n,r=xe(e,"a","squaredDifference"),a=xe(t,"b","squaredDifference");n=Na(r,a),r=n[0],a=n[1],Xn(r.shape,a.shape);var i={a:r,b:a},o=[r,a];return Ie.runKernelFunc(function(s,l){var u=s.squaredDifference(r,a);return l([r,a]),u},i,function(s,l){var u=l[0],d=l[1],f=zt(2);return{a:function(){return s.mul(u.sub(d).mul(f))},b:function(){return s.mul(d.sub(u).mul(f))}}},Cb,{},o,[])}}),kIe=Pe({abs_:function(e){var t=xe(e,"x","abs");return t.dtype==="complex64"?Ie.runKernelFunc(function(n){return n.complexAbs(t)},{$x:t}):Ie.runKernelFunc(function(n,r){var a=n.abs(t);return r([t]),a},{x:t},function(n,r){var a=r[0];return{x:function(){return n.mul(a.toFloat().step(-1))}}},"Abs")}}),jIe=Pe({acos_:function(e){var t=xe(e,"x","acos");return Ie.runKernelFunc(function(n,r){var a=n.acos(t);return r([t]),a},{$x:t},function(n,r){var a=r[0];return{$x:function(){return n.divStrict(zt(1).sub(a.toFloat().square()).sqrt()).neg()}}})}}),TIe=Pe({acosh_:function(e){var t=xe(e,"x","acosh");return Ie.runKernelFunc(function(n,r){var a=n.acosh(t);return r([t]),a},{$x:t},function(n,r){var a=r[0];return{$x:function(){return n.divStrict(a.toFloat().square().sub(1).sqrt())}}})}}),PIe=Pe({asin_:function(e){var t=xe(e,"x","asin");return Ie.runKernelFunc(function(n,r){var a=n.asin(t);return r([t]),a},{$x:t},function(n,r){var a=r[0];return{$x:function(){return n.divStrict(zt(1).sub(a.toFloat().square()).sqrt())}}})}}),AIe=Pe({asinh_:function(e){var t=xe(e,"x","asinh");return Ie.runKernelFunc(function(n,r){var a=n.asinh(t);return r([t]),a},{$x:t},function(n,r){var a=r[0];return{$x:function(){return n.divStrict(zt(1).add(a.toFloat().square()).sqrt())}}})}}),DIe=Pe({atan_:function(e){var t=xe(e,"x","atan");return Ie.runKernelFunc(function(n,r){var a=n.atan(t);return r([t]),a},{$x:t},function(n,r){var a=r[0];return{$x:function(){return n.div(a.toFloat().square().add(1))}}})}}),OIe=Pe({atanh_:function(e){var t=xe(e,"x","atanh");return Ie.runKernelFunc(function(n,r){var a=n.atanh(t);return r([t]),a},{$x:t},function(n,r){var a=r[0];return{$x:function(){return n.div(zt(1).sub(a.toFloat().square()))}}})}}),MIe=Pe({ceil_:function(e){var t=xe(e,"x","ceil");return Ie.runKernelFunc(function(n){return n.ceil(t)},{$x:t},function(n){return{$x:function(){return or(n)}}})}}),P5=Pe({clipByValue_:function(e,t,n){var r=xe(e,"x","clipByValue");_e(t<=n,function(){return"Error in clip: min ("+t+") must be less than or equal to max ("+n+")."});var a=[r],i={min:t,max:n};return Ie.runKernelFunc(function(o,s){var l=o.clip(r,t,n);return s([r]),l},{x:r},function(o,s){var l=s[0];return{x:function(){return o.where(l.greaterEqual(t).logicalAnd(l.lessEqual(n)),or(o))}}},"ClipByValue",i,a)}}),IIe=Pe({cos_:function(e){var t=xe(e,"x","cos"),n=[t];return Ie.runKernelFunc(function(r,a){var i=r.cos(t);return a([t]),i},{x:t},function(r,a){var i=a[0];return{x:function(){return i.toFloat().sin().neg().mul(r)}}},"Cos",{},n)}}),RIe=Pe({cosh_:function(e){var t=xe(e,"x","cosh");return Ie.runKernelFunc(function(n,r){var a=n.cosh(t);return r([t]),a},{$x:t},function(n,r){var a=r[0];return{$x:function(){return a.toFloat().sinh().mulStrict(n)}}})}}),FIe=Pe({erf_:function(e){var t=xe(e,"x","erf");return _e(t.dtype==="int32"||t.dtype==="float32",function(){return"Input dtype must be `int32` or `float32`."}),t.dtype==="int32"&&(t=t.toFloat()),Ie.runKernelFunc(function(n,r){var a=n.erf(t);return r([t]),a},{$x:t},function(n,r){var a=r[0];return{$x:function(){return n.mul(a.square().neg().exp().mul(2/Math.sqrt(Math.PI)))}}})}}),cM=Pe({exp_:function(e){var t=xe(e,"x","exp");return Ie.runKernelFunc(function(n,r){var a=n.exp(t);return r([a]),a},{x:t},function(n,r){return{x:function(){return n.mulStrict(r[0])}}},"Exp",{},[],[!0])}}),LIe=Pe({expm1_:function(e){var t=xe(e,"x","expm1");return Ie.runKernelFunc(function(n,r){var a=n.expm1(t);return r([t]),a},{$x:t},function(n,r){var a=r[0];return{$x:function(){return n.mul(a.exp())}}})}}),$Ie=Pe({floor_:function(e){var t=xe(e,"x","floor");return Ie.runKernelFunc(function(n){return n.floor(t)},{$x:t},function(n){return{$x:function(){return or(n)}}})}}),BIe=Pe({log_:function(e){var t=xe(e,"x","log"),n=[t];return Ie.runKernelFunc(function(r,a){var i=r.log(t);return a([t]),i},{x:t},function(r,a){var i=a[0];return{x:function(){return r.div(i.toFloat())}}},"Log",{},n)}}),zIe=Pe({log1p_:function(e){var t=xe(e,"x","log1p");return Ie.runKernelFunc(function(n,r){var a=n.log1p(t);return r([t]),a},{$x:t},function(n,r){var a=r[0];return{$x:function(){return n.div(a.add(1))}}})}}),UIe=Pe({logSigmoid_:function(e){var t=xe(e,"x","logSigmoid");return Ie.runKernelFunc(function(n,r){var a=n.softplus(t.neg()).neg();return r([t]),a},{$x:t},function(n,r){var a=r[0];return{$x:function(){return n.mul(a.neg().sigmoid())}}})}}),kE=Pe({neg_:function(e){var t=xe(e,"x","neg"),n=[t];return Ie.runKernelFunc(function(r){return r.neg(t)},{x:t},function(r){return{x:function(){return r.neg()}}},"Neg",{},n)}}),WIe=Pe({reciprocal_:function(e){var t=xe(e,"x","reciprocal");return Ie.runKernelFunc(function(n,r){var a=n.reciprocal(t);return r([t]),a},{$x:t},function(n,r){var a=r[0];return{$x:function(){return n.div(a.square().neg())}}})}}),VIe=Pe({round_:function(e){var t=xe(e,"x","round");return Ie.runKernelFunc(function(n){return n.round(t)},{$x:t},function(n){return{$x:function(){return or(n)}}})}}),Uie=Pe({rsqrt_:function(e){var t=xe(e,"x","rsqrt"),n=[t];return Ie.runKernelFunc(function(r,a){var i=r.rsqrt(t);return a([t]),i},{x:t},function(r,a){var i=a[0];return{x:function(){return r.div(i.pow(1.5).mul(2)).neg()}}},"Rsqrt",{},n)}}),Wie=Pe({sigmoid_:function(e){var t=xe(e,"x","sigmoid");return Ie.runKernelFunc(function(n,r){var a=n.sigmoid(t);return r([a]),a},{x:t},function(n,r){var a=r[0];return{x:function(){return n.mul(a.mul(zt(1).sub(a)))}}},"Sigmoid")}}),HIe=Pe({sign_:function(e){var t=xe(e,"x","sign");return Ie.runKernelFunc(function(n){return n.sign(t)},{$x:t},function(n){return{$x:function(){return or(n)}}})}}),qIe=Pe({isNaN_:function(e){var t=xe(e,"x","isNaN");return Ie.runKernelFunc(function(n){return n.isNaN(t)},{$x:t},function(n){return{$x:function(){return or(n)}}})}}),GIe=Pe({isInf_:function(e){var t=xe(e,"x","isInf");return Ie.runKernelFunc(function(n){return n.isInf(t)},{$x:t},function(n){return{$x:function(){return or(n)}}})}}),YIe=Pe({isFinite_:function(e){var t=xe(e,"x","isFinite");return Ie.runKernelFunc(function(n){return n.isFinite(t)},{$x:t},function(n){return{$x:function(){return or(n)}}})}}),KIe=Pe({sin_:function(e){var t=xe(e,"x","sin"),n=[t];return Ie.runKernelFunc(function(r,a){var i=r.sin(t);return a([t]),i},{x:t},function(r,a){var i=a[0];return{x:function(){return i.toFloat().cos().mul(r)}}},"Sin",{},n)}}),XIe=Pe({sinh_:function(e){var t=xe(e,"x","sinh");return Ie.runKernelFunc(function(n,r){var a=n.sinh(t);return r([t]),a},{$x:t},function(n,r){var a=r[0];return{$x:function(){return a.toFloat().cosh().mulStrict(n)}}})}}),ZIe=Pe({softplus_:function(e){var t=xe(e,"x","softplus");return Ie.runKernelFunc(function(n,r){var a=n.softplus(t);return r([t]),a},{$x:t},function(n,r){var a=r[0];return{$x:function(){return n.mul(a.sigmoid())}}})}}),QIe=Pe({sqrt_:function(e){var t=xe(e,"x","sqrt");return Ie.runKernelFunc(function(n,r){var a=n.sqrt(t);return r([t]),a},{$x:t},function(n,r){var a=r[0];return{$x:function(){return n.div(a.toFloat().sqrt().mul(2))}}})}}),JIe=Pe({step_:function(e,t){t===void 0&&(t=0);var n=xe(e,"x","step");return Ie.runKernelFunc(function(r){return r.step(n,t)},{$x:n},function(r){return{$x:function(){return or(r)}}})}}),eRe=Pe({tan_:function(e){var t=xe(e,"x","tan");return Ie.runKernelFunc(function(n,r){var a=n.tan(t);return r([t]),a},{$x:t},function(n,r){var a=r[0];return{$x:function(){return n.div(a.cos().square())}}})}}),tRe=Pe({tanh_:function(e){var t=xe(e,"x","tanh");return Ie.runKernelFunc(function(n,r){var a=n.tanh(t);return r([a]),a},{x:t},function(n,r){var a=r[0];return{x:function(){return zt(1).sub(a.square()).mulStrict(n)}}},"Tanh",{},null,[!0])}});function Vie(e,t,n,r,a,i){var o,s,l=xe(e,"x","batchNorm"),u=xe(t,"mean","batchNorm"),d=xe(n,"variance","batchNorm");return a!=null&&(o=xe(a,"scale","batchNorm")),r!=null&&(s=xe(r,"offset","batchNorm")),_e(l.rank===2,function(){return"Error in batchNorm3D: x must be rank 3 but got rank "+l.rank+"."}),_e(u.rank===2||u.rank===1,function(){return"Error in batchNorm2D: mean must be rank 2 or rank 1 but got rank "+u.rank+"."}),_e(d.rank===2||d.rank===1,function(){return"Error in batchNorm2D: variance must be rank 2 or rank 1 but got rank "+d.rank+"."}),o!=null&&_e(o.rank===2||o.rank===1,function(){return"Error in batchNorm2D: scale must be rank 2 or rank 1 but got rank "+o.rank+"."}),s!=null&&_e(s.rank===2||s.rank===1,function(){return"Error in batchNorm2D: offset must be rank 2 or rank 1 but got rank "+s.rank+"."}),t2(l,u,d,s,o,i)}function Hie(e,t,n,r,a,i){var o,s,l=xe(e,"x","batchNorm"),u=xe(t,"mean","batchNorm"),d=xe(n,"variance","batchNorm");return a!=null&&(o=xe(a,"scale","batchNorm")),r!=null&&(s=xe(r,"offset","batchNorm")),_e(l.rank===3,function(){return"Error in batchNorm3D: x must be rank 3 but got rank "+l.rank+"."}),_e(u.rank===3||u.rank===1,function(){return"Error in batchNorm3D: mean must be rank 3 or rank 1 but got rank "+u.rank+"."}),_e(d.rank===3||d.rank===1,function(){return"Error in batchNorm3D: variance must be rank 3 or rank 1 but got rank "+d.rank+"."}),o!=null&&_e(o.rank===3||o.rank===1,function(){return"Error in batchNorm3D: scale must be rank 3 or rank 1 but got rank "+o.rank+"."}),s!=null&&_e(s.rank===3||s.rank===1,function(){return"Error in batchNorm3D: offset must be rank 3 or rank 1 but got rank "+s.rank+"."}),t2(l,u,d,s,o,i)}function qie(e,t,n,r,a,i){var o,s,l=xe(e,"x","batchNorm"),u=xe(t,"mean","batchNorm"),d=xe(n,"variance","batchNorm");return a!=null&&(o=xe(a,"scale","batchNorm")),r!=null&&(s=xe(r,"offset","batchNorm")),_e(l.rank===4,function(){return"Error in batchNorm4D: x must be rank 4 but got rank "+l.rank+"."}),_e(u.rank===4||u.rank===1,function(){return"Error in batchNorm4D: mean must be rank 4 or rank 1 but got rank "+u.rank+"."}),_e(d.rank===4||d.rank===1,function(){return"Error in batchNorm4D: variance must be rank 4 or rank 1 but got rank "+d.rank+"."}),o!=null&&_e(o.rank===4||o.rank===1,function(){return"Error in batchNorm4D: scale must be rank 4 or rank 1 but got rank "+o.rank+"."}),s!=null&&_e(s.rank===4||s.rank===1,function(){return"Error in batchNorm4D: offset must be rank 4 or rank 1 but got rank "+s.rank+"."}),t2(l,u,d,s,o,i)}function t2(e,t,n,r,a,i){i==null&&(i=.001);var o,s,l,u=xe(e,"x","batchNorm"),d=xe(t,"mean","batchNorm"),f=xe(n,"variance","batchNorm");a!=null&&(o=xe(a,"scale","batchNorm")),r!=null&&(s=xe(r,"offset","batchNorm")),_e(d.rank===f.rank,function(){return"Batch normalization gradient requires mean and variance to have equal ranks."}),_e(s==null||d.rank===s.rank,function(){return"Batch normalization gradient requires mean and offset to have equal ranks."}),_e(o==null||d.rank===o.rank,function(){return"Batch normalization gradient requires mean and scale to have equal ranks."}),l=u.rank===0||u.rank===1?u.as4D(1,1,1,u.size):u.rank===2?u.as4D(1,1,u.shape[0],u.shape[1]):u.rank===3?u.as4D(1,u.shape[0],u.shape[1],u.shape[2]):u;var h=[u,d,f,o];return Ie.runKernelFunc(function(p,m){var g=p.batchNormalization(l,j_(d),j_(f),i,j_(o),j_(s));return m([u,d,f,o]),g},{x:u,mean:d,variance:f,scale:o,offset:s},function(p,m){var g=m,y=g[0],x=g[1],b=g[2],w=g[3],_=w??zt(1),S=mi(x.shape,l.shape),k=[];if(x.rank===1){for(var N=0;N<l.shape.length-1;++N)k.push(l.shape[N]);k.push(1)}var P=y.sub(x),T=p.mul(_),j=Uie(b.add(zt(i))),D=j.mul(j).mul(j).mul(zt(-.5));return{x:function(){return x.rank===1?p.mul(mv(j.as4D(1,1,1,x.shape[0]),k)).mul(_).reshape(y.shape):p.mul(j).mul(_).reshape(y.shape)},mean:function(){var M=j.mul(zt(-1)).mul(T);return x.rank===1&&(M=M.sum(S)),M.reshape(x.shape)},variance:function(){var M=D.mul(P).mul(T);return x.rank===1&&(M=M.sum(S)),M.reshape(x.shape)},scale:function(){var M=P.mul(j),R=p.mul(M);return x.rank===1&&(R=R.sum(S)),R.reshape(x.shape)},offset:function(){var M=p;return x.rank===1&&(M=M.sum(S)),M.reshape(x.shape)}}},"BatchNormalization",{varianceEpsilon:i},h).reshape(u.shape)}function j_(e){return e==null?null:e.rank===0?e.as1D():e.rank===1?e:e.rank===2?e.as4D(1,1,e.shape[0],e.shape[1]):e.rank===3?e.as4D(1,e.shape[0],e.shape[1],e.shape[2]):e}function qj(){sie("tf.batchNormalization() is going away. Use tf.batchNorm() instead, and note the positional argument change of scale, offset, and varianceEpsilon")}var nRe=Pe({batchNormalization2d_:function(e,t,n,r,a,i){return r===void 0&&(r=.001),qj(),Vie(e,t,n,i,a,r)}}),rRe=Pe({batchNormalization3d_:function(e,t,n,r,a,i){return r===void 0&&(r=.001),qj(),Hie(e,t,n,i,a,r)}}),aRe=Pe({batchNormalization4d_:function(e,t,n,r,a,i){return r===void 0&&(r=.001),qj(),qie(e,t,n,i,a,r)}}),iRe=Pe({batchNormalization_:function(e,t,n,r,a,i){return r===void 0&&(r=.001),qj(),t2(e,t,n,i,a,r)}}),Gie=Pe({batchNorm_:t2}),oRe=Pe({batchNorm2d_:Vie}),sRe=Pe({batchNorm3d_:Hie}),lRe=Pe({batchNorm4d_:qie}),Gj=Pe({logicalAnd_:function(e,t){var n=xe(e,"a","logicalAnd","bool"),r=xe(t,"b","logicalAnd","bool");return Xn(n.shape,r.shape),Ie.runKernelFunc(function(a){return a.logicalAnd(n,r)},{a:n,b:r},null,"LogicalAnd")}}),cRe=Pe({logicalNot_:function(e){var t=xe(e,"x","logicalNot","bool");return Ie.runKernelFunc(function(n){return n.logicalNot(t)},{$x:t})}}),Yie=Pe({logicalOr_:function(e,t){var n=xe(e,"a","logicalOr","bool"),r=xe(t,"b","logicalOr","bool");return Xn(n.shape,r.shape),Ie.runKernelFunc(function(a){return a.logicalOr(n,r)},{$a:n,$b:r})}}),uRe=Pe({logicalXor_:function(e,t){var n=xe(e,"a","logicalXor","bool"),r=xe(t,"b","logicalXor","bool");return Xn(n.shape,r.shape),Yie(e,t).logicalAnd(Gj(e,t).logicalNot())}}),mm=Pe({where_:function(e,t,n){var r=xe(t,"a","where"),a=xe(n,"b","where"),i=xe(e,"condition","where","bool");return wr(r.shape,a.shape,"Error in where: "),i.rank===1?_e(i.shape[0]===r.shape[0],function(){return"The first dimension of `a` must match the size of `condition`."}):wr(i.shape,a.shape,"Error in where: "),Ie.runKernelFunc(function(o,s){var l=o.select(i,r,a);return s([i]),l},{$condition:i,$a:r,$b:a},function(o,s){var l=s[0];return{$condition:function(){return or(l).toFloat()},$a:function(){return o.mul(l.cast(o.dtype))},$b:function(){return o.mul(l.logicalNot().cast(o.dtype))}}})}}),Kie=function(e){return an(this,void 0,void 0,function(){var t,n,r;return on(this,function(a){switch(a.label){case 0:return[4,(t=xe(e,"condition","whereAsync","bool")).data()];case 1:return n=a.sent(),r=N5(t.shape,n),e!==t&&t.dispose(),[2,r]}})})},Gn=Pe({add_:function(e,t){var n,r=xe(e,"a","add"),a=xe(t,"b","add");n=Na(r,a),r=n[0],a=n[1];var i=Xn(r.shape,a.shape);return Ie.runKernelFunc(function(o){return o.add(r,a)},{a:r,b:a},function(o){return{a:function(){var s=o,l=mi(r.shape,i);return l.length>0&&(s=s.sum(l)),s.reshape(r.shape)},b:function(){var s=o,l=mi(a.shape,i);return l.length>0&&(s=s.sum(l)),s.reshape(a.shape)}}},"Add")}}),dRe=Pe({addN_:function(e){_e(Array.isArray(e),function(){return"The argument passed to tf.addN() must be a list of tensors"}),_e(e.length>=1,function(){return"Must pass at least one tensor to tf.addN(), but got "+e.length});var t=e.map(function(a,i){return xe(a,"tensors"+i,"addN")}),n=t[0];t.forEach(function(a){if(a.dtype!==n.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")}),t.forEach(function(a){if(!Pi(a.shape,n.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")});var r=t;return Ie.runKernelFunc(function(a){return a.addN(t)},r,function(a){var i={};return t.forEach(function(o,s){i[s]=function(){return a.clone()}}),i},"AddN")}}),fRe=Pe({addStrict_:function(e,t){var n=xe(e,"a","addStrict"),r=xe(t,"b","addStrict");return wr(n.shape,r.shape,"Error in addStrict: "),n.add(r)}}),hRe=Pe({atan2_:function(e,t){var n,r=xe(e,"a","atan2"),a=xe(t,"b","atan2");n=Na(r,a),r=n[0],a=n[1];var i=Xn(r.shape,a.shape);return Ie.runKernelFunc(function(o,s){var l=o.atan2(r,a);return s([r,a]),l},{$a:r,$b:a},function(o,s){var l=s[0],u=s[1];return{$a:function(){var d=Gn(l.square(),u.square()),f=o.mul(u.div(d)),h=mi(l.shape,i);return h.length>0&&(f=f.sum(h)),f.reshape(l.shape)},$b:function(){var d=Gn(l.square(),u.square()),f=kE(o.mul(l.div(d))),h=mi(u.shape,i);return h.length>0&&(f=f.sum(h)),f.reshape(u.shape)}}})}}),ic=Pe({div_:function(e,t){var n,r=xe(e,"a","div"),a=xe(t,"b","div");if(n=Na(r,a),r=n[0],a=n[1],r.dtype==="int32"&&a.dtype==="int32")return Xie(r,a);var i=Xn(r.shape,a.shape);return Ie.runKernelFunc(function(o,s){var l=o.realDivide(r,a);return s([r,a]),l},{a:r,b:a},function(o,s){var l=s[0],u=s[1];return{a:function(){var d=o.div(u.toFloat()),f=mi(l.shape,i);return f.length>0?d.sum(f).reshape(l.shape):d},b:function(){var d=o.mul(l.toFloat()),f=mi(u.shape,i);f.length>0&&(d=d.sum(f).reshape(u.shape));var h=u.square();return d.div(h.toFloat()).neg()}}},"Div")}}),pRe=Pe({divNoNan_:function(e,t){var n,r=xe(e,"a","div"),a=xe(t,"b","div");r=(n=Na(r,a))[0],a=n[1];var i=ic(r,a),o=or(i),s=a.equal(o);return mm(s,o,i)}}),mRe=Pe({divStrict_:function(e,t){var n=xe(e,"a","div"),r=xe(t,"b","div");return wr(n.shape,r.shape,"Error in divideStrict: "),n.div(r)}}),Xie=Pe({floorDiv_:function(e,t){var n,r=xe(e,"a","floorDiv"),a=xe(t,"b","floorDiv");n=Na(r,a),r=n[0],a=n[1];var i=Xn(r.shape,a.shape);return Ie.runKernelFunc(function(o,s){var l=o.floorDiv(r,a);return s([r,a]),l},{a:r,b:a},function(o,s){var l=s[0],u=s[1];return{a:function(){var d=o.div(u.toFloat()),f=mi(l.shape,i);return f.length>0?d.sum(f).reshape(l.shape):d},b:function(){var d=o.mul(l.toFloat()),f=mi(u.shape,i);f.length>0&&(d=d.sum(f).reshape(u.shape));var h=u.square();return d.div(h.toFloat()).neg()}}},"FloorDiv")}}),A5=Pe({maximum_:function(e,t){var n,r=xe(e,"a","maximum"),a=xe(t,"b","maximum");return n=Na(r,a),r=n[0],a=n[1],r.dtype==="bool"&&(r=r.toInt(),a=a.toInt()),Xn(r.shape,a.shape),Ie.runKernelFunc(function(i,o){var s=i.maximum(r,a);return o([r,a]),s},{a:r,b:a},function(i,o){var s=o[0],l=o[1];return{a:function(){return i.mul(s.greaterEqual(l).toFloat())},b:function(){return i.mul(s.less(l).toFloat())}}},"Maximum")}}),gRe=Pe({maximumStrict_:function(e,t){var n=xe(e,"a","maximumStrict"),r=xe(t,"b","maximumStrict");return wr(n.shape,r.shape,"Error in maximumStrict: "),n.maximum(r)}}),Zie=Pe({minimum_:function(e,t){var n,r=xe(e,"a","minimum"),a=xe(t,"b","minimum");return n=Na(r,a),r=n[0],a=n[1],r.dtype==="bool"&&(r=r.toInt(),a=a.toInt()),Xn(r.shape,a.shape),Ie.runKernelFunc(function(i,o){var s=i.minimum(r,a);return o([r,a]),s},{a:r,b:a},function(i,o){var s=o[0],l=o[1];return{a:function(){return i.mul(s.lessEqual(l).toFloat())},b:function(){return i.mul(s.greater(l).toFloat())}}},"Minimum")}}),vRe=Pe({minimumStrict_:function(e,t){var n=xe(e,"a","minimumStrict"),r=xe(t,"b","minimumStrict");return wr(n.shape,r.shape,"Error in minimumStrict: "),n.minimum(r)}}),yRe=Pe({mod_:function(e,t){var n,r=xe(e,"a","mod"),a=xe(t,"b","mod");n=Na(r,a),r=n[0],a=n[1];var i=Xn(r.shape,a.shape);return Ie.runKernelFunc(function(o,s){var l=o.mod(r,a);return s([r,a]),l},{$a:r,$b:a},function(o,s){var l=s[0],u=s[1];return{$a:function(){var d=mi(l.shape,i);return d.length>0?o.sum(d).reshape(l.shape):o},$b:function(){var d=o.mul(l.div(u).floor().neg()),f=mi(u.shape,i);return f.length>0?d.sum(f).reshape(u.shape):d}}})}}),xRe=Pe({modStrict_:function(e,t){var n=xe(e,"a","modStrict"),r=xe(t,"b","modStrict");return wr(n.shape,r.shape,"Error in modStrict: "),n.mod(r)}}),bo=Pe({mul_:function(e,t){var n,r=xe(e,"a","mul"),a=xe(t,"b","mul");n=Na(r,a),r=n[0],a=n[1];var i=Xn(r.shape,a.shape);return Ie.runKernelFunc(function(o,s){var l=o.multiply(r,a);return s([r,a]),l},{a:r,b:a},function(o,s){var l=s[0],u=s[1];return{a:function(){var d=o.mul(u.toFloat()),f=mi(l.shape,i);return f.length>0?d.sum(f).reshape(l.shape):d},b:function(){var d=o.mul(l.toFloat()),f=mi(u.shape,i);return f.length>0?d.sum(f).reshape(u.shape):d}}},"Mul")}}),bRe=Pe({mulStrict_:function(e,t){var n=xe(e,"a","mul"),r=xe(t,"b","mul");return wr(n.shape,r.shape,"Error in multiplyStrict: "),n.mul(r)}}),jE=Pe({pow_:function(e,t){var n,r=xe(e,"base","pow"),a=xe(t,"exp","pow");n=Na(r,a),r=n[0],a=n[1];var i=Xn(r.shape,a.shape),o=[r,a];return Ie.runKernelFunc(function(s,l){var u=s.pow(r,a);return l([r,a,u]),u},{a:r,b:a},function(s,l){var u=l[0],d=l[1],f=l[2];return{a:function(){var h=d.toFloat(),p=s.mul(h.mul(u.pow(h.sub(zt(1))))),m=mi(u.shape,i);return m.length>0&&(p=p.sum(m)),p.reshape(u.shape)},b:function(){var h=u.greater(0),p=u.log().where(h,or(u)),m=s.mul(f.mul(p)),g=mi(d.shape,i);return g.length>0&&(m=m.sum(g)),m.reshape(d.shape)}}},"Pow",{},o,[!0])}}),wRe=Pe({powStrict_:function(e,t){return wr(e.shape,t.shape,"Error in powStrict: "),e.pow(t)}}),_Re=Pe({squaredDifferenceStrict_:function(e,t){var n=xe(e,"a","squaredDifferenceStrict"),r=xe(t,"b","squaredDifferenceStrict");return wr(n.shape,r.shape,"Error in squaredDifferenceStrict: "),n.squaredDifference(r)}}),gi=Pe({sub_:function(e,t){var n,r=xe(e,"a","sub"),a=xe(t,"b","sub");n=Na(r,a),r=n[0],a=n[1];var i=Xn(r.shape,a.shape);return Ie.runKernelFunc(function(o){return o.subtract(r,a)},{a:r,b:a},function(o){return{a:function(){var s=o,l=mi(r.shape,i);return l.length>0&&(s=s.sum(l)),s.reshape(r.shape)},b:function(){var s=o,l=mi(a.shape,i);return l.length>0&&(s=s.sum(l)),s.neg().reshape(a.shape)}}},"Sub")}}),SRe=Pe({subStrict_:function(e,t){var n=xe(e,"a","subStrict"),r=xe(t,"b","subStrict");return wr(n.shape,r.shape,"Error in subStrict: "),n.sub(r)}}),Qie=Pe({equal_:function(e,t){var n,r=xe(e,"a","equal"),a=xe(t,"b","equal");return n=Na(r,a),r=n[0],a=n[1],Xn(r.shape,a.shape),Ie.runKernelFunc(function(i){return i.equal(r,a)},{$a:r,$b:a})}}),CRe=Pe({equalStrict_:function(e,t){var n=xe(e,"a","equalStrict"),r=xe(t,"b","equalStrict");return wr(n.shape,r.shape,"Error in equalStrict: "),n.equal(r)}}),ERe=Pe({greater_:function(e,t){var n,r=xe(e,"a","greater"),a=xe(t,"b","greater");return n=Na(r,a),r=n[0],a=n[1],Xn(r.shape,a.shape),Ie.runKernelFunc(function(i){return i.greater(r,a)},{a:r,b:a},null,"Greater")}}),Jie=Pe({greaterEqual_:function(e,t){var n,r=xe(e,"a","greaterEqual"),a=xe(t,"b","greaterEqual");return n=Na(r,a),r=n[0],a=n[1],Xn(r.shape,a.shape),Ie.runKernelFunc(function(i,o){var s=i.greaterEqual(r,a);return o([r,a]),s},{a:r,b:a},function(i,o){var s=o[0],l=o[1];return{a:function(){return or(s)},b:function(){return or(l)}}},"GreaterEqual")}}),NRe=Pe({greaterEqualStrict_:function(e,t){var n=xe(e,"a","greaterEqualStrict"),r=xe(t,"b","greaterEqualStrict");return wr(n.shape,r.shape,"Error in greaterEqualStrict: "),n.greaterEqual(r)}}),kRe=Pe({greaterStrict_:function(e,t){var n=xe(e,"a","greaterStrict"),r=xe(t,"b","greaterStrict");return wr(n.shape,r.shape,"Error in greaterStrict: "),n.greater(r)}}),jRe=Pe({less_:function(e,t){var n,r=xe(e,"a","less"),a=xe(t,"b","less");return n=Na(r,a),r=n[0],a=n[1],Xn(r.shape,a.shape),Ie.runKernelFunc(function(i){return i.less(r,a)},{a:r,b:a},null,"Less")}}),TRe=Pe({lessEqual_:function(e,t){var n,r=xe(e,"a","lessEqual"),a=xe(t,"b","lessEqual");return n=Na(r,a),r=n[0],a=n[1],Xn(r.shape,a.shape),Ie.runKernelFunc(function(i,o){var s=i.lessEqual(r,a);return o([r,a]),s},{a:r,b:a},null,"LessEqual")}}),PRe=Pe({lessEqualStrict_:function(e,t){var n=xe(e,"a","lessEqualStrict"),r=xe(t,"b","lessEqualStrict");return wr(n.shape,r.shape,"Error in lessEqualStrict: "),n.lessEqual(r)}}),ARe=Pe({lessStrict_:function(e,t){var n=xe(e,"a","lessStrict"),r=xe(t,"b","lessStrict");return wr(n.shape,r.shape,"Error in lessStrict: "),n.less(r)}}),DRe=Pe({notEqual_:function(e,t){var n,r=xe(e,"a","notEqual"),a=xe(t,"b","notEqual");return n=Na(r,a),r=n[0],a=n[1],Xn(r.shape,a.shape),Ie.runKernelFunc(function(i){return i.notEqual(r,a)},{a:r,b:a},null,"NotEqual")}}),ORe=Pe({notEqualStrict_:function(e,t){var n=xe(e,"a","notEqualStrict"),r=xe(t,"b","notEqualStrict");return wr(n.shape,r.shape,"Error in notEqualStrict: "),n.notEqual(r)}});function QW(e,t){for(var n=[],r=e;r<t;++r)n.push(r);return n}function JW(e){for(var t=[],n=0;n<e.length;++n)for(var r=0;r<e[n].length;++r)t.push(e[n][r]);return t}var D5=Pe({gather_:function(e,t,n){n===void 0&&(n=0);var r=xe(e,"x","gather"),a=xe(t,"indices","gather","int32");n=vi(n,r.shape)[0];var i=function(o,s,l){for(var u=o.shape[l],d=[],f=1,h=1,p=0;p<l;p++)d.push(o.shape[p]),f*=o.shape[p];for(p=0;p<s.rank;p++)d.push(s.shape[p]);for(p=l+1;p<o.rank;p++)d.push(o.shape[p]),h*=o.shape[p];return{batchSize:f,sliceSize:h,dimSize:u,outputShape:d}}(r,a,n);return Ie.runKernelFunc(function(o,s){var l=o.gather(r,a.flatten(),n);return s([a]),l},{x:r,indices:a},function(o,s){var l=s[0];return{x:function(){var u=r.shape,d=l.size,f=u.slice(0,n),h=f.length,p=u.slice(n,u.length).slice(1),m=p.length,g=QW(0,h),y=QW(h+1,h+1+m),x=JW([f,[d],p]),b=o.reshape(x),w=l.reshape([d]),_=JW([[h],g,y]),S=b.transpose(_),k=eoe(S,w,r.shape[n]),N=y5(_);return k=k.transpose(N)},indices:function(){return l}}},"Gather",{axis:n}).reshape(i.outputShape)}}),eoe=Pe({unsortedSegmentSum_:function(e,t,n){var r=xe(e,"x","unsortedSegmentSum"),a=xe(t,"segmentIds","unsortedSegmentSum","int32");return _e(qa(n),function(){return"numSegments must be of dtype int"}),Ie.runKernelFunc(function(i,o){var s=i.unsortedSegmentSum(r,a,n);return o([a]),s},{$x:r},function(i,o){var s=o[0];return{$x:function(){return function(l,u){for(var d=A5(u,or(u)),f=D5(l,d),h=Jie(u,zt(0,"int32")),p=f.rank-h.rank,m=0;m<p;++m)h=gl(h,m+1);h=Gj(h,ey(f.shape,"bool"));var g=or(f);return mm(h,f,g)}(i,s)}}})}}),MRe=function(e,t,n){return an(this,void 0,void 0,function(){var r,a,i,o,s,l,u,d,f,h,p,m,g;return on(this,function(y){switch(y.label){case 0:for(r=xe(e,"tensor","boolMask"),a=xe(t,"mask","boolMask","bool"),i=n??0,o=a.rank,s=r.shape,_e(o>0,function(){return"mask cannot be scalar"}),wr(s.slice(i,i+o),a.shape,"mask's shape must match the first K dimensions of tensor's shape,"),l=1,u=i;u<i+o;u++)l*=s[u];return d=s.slice(0,i).concat([l],s.slice(i+o)),f=r.reshape(d),h=a.reshape([-1]),[4,Kie(h)];case 1:return p=y.sent(),m=p.squeeze([1]),g=D5(f,m,i),e!==r&&r.dispose(),t!==a&&a.dispose(),m.dispose(),f.dispose(),h.dispose(),p.dispose(),[2,g]}})})};function toe(e,t,n,r,a,i,o){i===void 0&&(i="NHWC"),_e(e.length===t.rank,function(){return"Length of inShape ("+e.length+") and rank of dy ("+t.rank+") must match"});var s=e,l=t,u=!1;t.rank===3&&(u=!0,l=t.as4D(1,t.shape[0],t.shape[1],t.shape[2]),s=[1,e[0],e[1],e[2]]),_e(s.length===4,function(){return"Error in conv2dDerInput: inShape must be length 4, but got length "+s.length+"."}),_e(l.rank===4,function(){return"Error in conv2dDerInput: dy must be rank 4, but got rank "+l.rank}),_e(n.rank===4,function(){return"Error in conv2dDerInput: filter must be rank 4, but got rank "+n.rank});var d=i==="NHWC"?s[3]:s[1],f=i==="NHWC"?l.shape[3]:l.shape[1];_e(d===n.shape[2],function(){return"Error in conv2dDerInput: depth of input ("+d+") must match input depth for filter "+n.shape[2]+"."}),_e(f===n.shape[3],function(){return"Error in conv2dDerInput: depth of output ("+f+") must match output depth for filter "+n.shape[3]+"."}),o!=null&&_e(qa(a),function(){return"Error in conv2dDerInput: pad must be an integer when using, dimRoundingMode "+o+" but got pad "+a+"."});var h=S5(i),p=Im(s,n.shape,r,1,a,o,!1,h),m=Ie.runKernelFunc(function(g,y){var x=g.conv2dDerInput(l,n,p);return y([n,l]),x},{dy4D:l,filter:n},function(g,y){var x=y[0],b=y[1];return{dy4D:function(){return Rl(g,x,r,a,i,1,o)},filter:function(){return O5(g,b,x.shape,r,a,i,o)}}});return u?m.as3D(m.shape[1],m.shape[2],m.shape[3]):m}function w4(e){var t=function(i){return typeof i=="number"?[i,i,i]:i.length===2?[i[0],i[1],1]:i}(e),n=t[0],r=t[1],a=t[2];return n===1&&r===1&&a===1}function noe(e,t,n,r,a){_e(e.length===t.rank,function(){return"Length of inShape ("+e.length+") and rank of dy ("+t.rank+") must match"});var i=e,o=t,s=!1;t.rank===4&&(s=!0,o=t.as5D(1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]),i=[1,e[0],e[1],e[2],e[3]]);var l=i[4],u=o.shape[4];_e(i.length===5,function(){return"Error in conv3dDerInput: inShape must be length 5, but got length "+i.length+"."}),_e(o.rank===5,function(){return"Error in conv3dDerInput: dy must be rank 5, but got rank "+o.rank}),_e(n.rank===5,function(){return"Error in conv3dDerInput: filter must be rank 5, but got rank "+n.rank}),_e(l===n.shape[3],function(){return"Error in conv3dDerInput: depth of input ("+l+") must match input depth for filter "+n.shape[3]+"."}),_e(u===n.shape[4],function(){return"Error in conv3dDerInput: depth of output ("+u+") must match output depth for filter "+n.shape[4]+"."});var d=EE(i,n.shape,r,1,a),f=Ie.runKernelFunc(function(h){return h.conv3dDerInput(o,n,d)},{dy5D:o});return s?f.as4D(f.shape[1],f.shape[2],f.shape[3],f.shape[4]):f}var IRe=Pe({conv1d_:function(e,t,n,r,a,i,o){a===void 0&&(a="NWC"),i===void 0&&(i=1);var s=xe(e,"x","conv1d"),l=xe(t,"filter","conv1d"),u=s,d=!1;s.rank===2&&(d=!0,u=s.as3D(1,s.shape[0],s.shape[1])),_e(u.rank===3,function(){return"Error in conv1d: input must be rank 3, but got rank "+u.rank+"."}),_e(l.rank===3,function(){return"Error in conv1d: filter must be rank 3, but got rank "+l.rank+"."}),o!=null&&_e(qa(r),function(){return"Error in conv1d: pad must be an integer when using, dimRoundingMode "+o+" but got pad "+r+"."}),_e(u.shape[2]===l.shape[1],function(){return"Error in conv1d: depth of input ("+u.shape[2]+") must match input depth for filter "+l.shape[1]+"."}),_e(ds(n,i),function(){return"Error in conv1D: Either stride or dilation must be 1. Got stride "+n+" and dilation '"+i+"'"}),_e(a==="NWC",function(){return"Error in conv1d: got dataFormat of "+a+" but only NWC is currently supported."});var f=l.as4D(1,l.shape[0],l.shape[1],l.shape[2]),h=u.as4D(u.shape[0],1,u.shape[1],u.shape[2]),p=Rl(h,f,[1,n],r,"NHWC",[1,i],o);return d?p.as2D(p.shape[2],p.shape[3]):p.as3D(p.shape[0],p.shape[2],p.shape[3])}}),Rl=Pe({conv2d_:function(e,t,n,r,a,i,o){a===void 0&&(a="NHWC"),i===void 0&&(i=[1,1]);var s=xe(e,"x","conv2d"),l=xe(t,"filter","conv2d"),u=s,d=!1;s.rank===3&&(d=!0,u=s.as4D(1,s.shape[0],s.shape[1],s.shape[2])),_e(u.rank===4,function(){return"Error in conv2d: input must be rank 4, but got rank "+u.rank+"."}),_e(l.rank===4,function(){return"Error in conv2d: filter must be rank 4, but got rank "+l.rank+"."}),o!=null&&_e(qa(r),function(){return"Error in conv2d: pad must be an integer when using, dimRoundingMode "+o+" but got pad "+r+"."});var f=a==="NHWC"?u.shape[3]:u.shape[1];_e(f===l.shape[2],function(){return"Error in conv2d: depth of input ("+f+") must match input depth for filter "+l.shape[2]+"."}),_e(ds(n,i),function(){return"Error in conv2D: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+i+"'"});var h=S5(a),p=Im(u.shape,l.shape,n,i,r,o,!1,h),m=[l,u],g=Ie.runKernelFunc(function(y,x){var b=y.conv2d(u,l,p);return x([l,u]),b},{x:u,filter:l},function(y,x){var b=x,w=b[0],_=b[1];return _e(o0(i),function(){return"Error in gradient of conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '"+i+"'"}),{x:function(){return roe(_.shape,y,w,n,r,a)},filter:function(){return O5(_,y,w.shape,n,r,a)}}},"Conv2D",p,m);return d?g.as3D(g.shape[1],g.shape[2],g.shape[3]):g}}),RRe=Pe({conv3d_:function(e,t,n,r,a,i){a===void 0&&(a="NDHWC"),i===void 0&&(i=[1,1,1]);var o=xe(e,"x","conv3d"),s=xe(t,"filter","conv3d"),l=o,u=!1;o.rank===4&&(u=!0,l=o.as5D(1,o.shape[0],o.shape[1],o.shape[2],o.shape[3])),_e(l.rank===5,function(){return"Error in conv3d: input must be rank 5, but got rank "+l.rank+"."}),_e(s.rank===5,function(){return"Error in conv3d: filter must be rank 5, but got rank "+s.rank+"."}),_e(l.shape[4]===s.shape[3],function(){return"Error in conv3d: depth of input ("+l.shape[4]+") must match input depth for filter "+s.shape[3]+"."}),_e(function(h,p){return w4(h)||w4(p)}(n,i),function(){return"Error in conv3D: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+i+"'"}),_e(a==="NDHWC",function(){return"Error in conv3d: got dataFormat of "+a+" but only NDHWC is currently supported."});var d=EE(l.shape,s.shape,n,i,r),f=Ie.runKernelFunc(function(h,p){var m=h.conv3d(l,s,d);return p([l,s]),m},{x:l,$filter:s},function(h,p){_e(w4(i),function(){return"Error in gradient of conv3D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '"+i+"'"});var m=p[0],g=p[1];return{x:function(){return noe(m.shape,h,g,n,r)},$filter:function(){return function(y,x,b,w,_){var S=y;y.rank===4&&(S=y.as5D(1,y.shape[0],y.shape[1],y.shape[2],y.shape[3]));var k=x;k.rank===4&&(k=x.as5D(1,x.shape[0],x.shape[1],x.shape[2],x.shape[3])),_e(S.rank===5,function(){return"Error in conv3dDerFilter: input must be rank 5, but got shape "+S.shape+"."}),_e(k.rank===5,function(){return"Error in conv3dDerFilter: dy must be rank 5, but got shape "+k.shape+"."}),_e(b.length===5,function(){return"Error in conv3dDerFilter: filterShape must be length 5, but got "+b+"."}),_e(S.shape[4]===b[3],function(){return"Error in conv3dDerFilter: depth of input "+S.shape[4]+") must match input depth in filter ("+b[3]+"."}),_e(k.shape[4]===b[4],function(){return"Error in conv3dDerFilter: depth of dy ("+k.shape[4]+") must match output depth for filter ("+b[4]+")."});var N=EE(S.shape,b,w,1,_);return Ie.runKernelFunc(function(P){return P.conv3dDerFilter(S,k,N)},{x5D:S,dy5D:k})}(m,h,g.shape,n,r)}}});return u?f.as4D(f.shape[1],f.shape[2],f.shape[3],f.shape[4]):f}}),O5=Pe({conv2dDerFilter_:function(e,t,n,r,a,i,o){i===void 0&&(i="NHWC");var s=e;e.rank===3&&(s=e.as4D(1,e.shape[0],e.shape[1],e.shape[2]));var l=t;l.rank===3&&(l=t.as4D(1,t.shape[0],t.shape[1],t.shape[2])),_e(s.rank===4,function(){return"Error in conv2dDerFilter: input must be rank 4, but got shape "+s.shape+"."}),_e(l.rank===4,function(){return"Error in conv2dDerFilter: dy must be rank 4, but got shape "+l.shape+"."}),_e(n.length===4,function(){return"Error in conv2dDerFilter: filterShape must be length 4, but got "+n+"."});var u=i==="NHWC"?s.shape[3]:s.shape[1],d=i==="NHWC"?l.shape[3]:l.shape[1];_e(u===n[2],function(){return"Error in conv2dDerFilter: depth of input "+u+") must match input depth in filter ("+n[2]+"."}),_e(d===n[3],function(){return"Error in conv2dDerFilter: depth of dy ("+d+") must match output depth for filter ("+n[3]+")."}),o!=null&&_e(qa(a),function(){return"Error in conv2dDerFilter: pad must be an integer when using, dimRoundingMode "+o+" but got pad "+a+"."});var f=S5(i),h=Im(s.shape,n,r,1,a,o,!1,f);return Ie.runKernelFunc(function(p){return p.conv2dDerFilter(s,l,h)},{x4D:s,dy4D:l})}}),roe=Pe({conv2dDerInput_:toe}),Yj=Pe({depthwiseConv2d_:function(e,t,n,r,a,i,o){i===void 0&&(i=[1,1]);var s=xe(e,"x","depthwiseConv2d"),l=xe(t,"filter","depthwiseConv2d"),u=s,d=!1;s.rank===3&&(d=!0,u=s.as4D(1,s.shape[0],s.shape[1],s.shape[2])),_e(u.rank===4,function(){return"Error in depthwiseConv2d: input must be rank 4, but got rank "+u.rank+"."}),_e(l.rank===4,function(){return"Error in depthwiseConv2d: filter must be rank 4, but got rank "+l.rank+"."}),_e(u.shape[3]===l.shape[2],function(){return"Error in depthwiseConv2d: number of input channels ("+u.shape[3]+") must match the inChannels dimension in filter "+l.shape[2]+"."}),i==null&&(i=[1,1]),_e(ds(n,i),function(){return"Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+i+"'"}),o!=null&&_e(qa(r),function(){return"Error in depthwiseConv2d: pad must be an integer when using, dimRoundingMode "+o+" but got pad "+r+"."});var f=Im(u.shape,l.shape,n,i,r,o,!0),h=[u,l],p=Ie.runKernelFunc(function(m,g){var y=m.depthwiseConv2D(u,l,f);return g([u,l]),y},{x:u,filter:l},function(m,g){_e(o0(i),function(){return"Error in gradient of depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '"+i+"'"});var y=g[0],x=g[1];return{x:function(){return aoe(y.shape,m,x,f)},filter:function(){return ioe(y,m,x.shape,f)}}},"DepthwiseConv2dNative",f,h);return d?p.as3D(p.shape[1],p.shape[2],p.shape[3]):p}}),aoe=Pe({depthwiseConv2dDerInput_:function(e,t,n,r){var a=t,i=!1;t.rank===3&&(i=!0,a=t.as4D(1,t.shape[0],t.shape[1],t.shape[2]));var o=Ie.runKernelFunc(function(s){return s.depthwiseConv2DDerInput(a,n,r)},{dy4D:a});return i?o.as3D(o.shape[1],o.shape[2],o.shape[3]):o}}),ioe=Pe({depthwiseConv2dDerFilter_:function(e,t,n,r){var a=e;e.rank===3&&(a=e.as4D(1,e.shape[0],e.shape[1],e.shape[2]));var i=t;return i.rank===3&&(i=t.as4D(1,t.shape[0],t.shape[1],t.shape[2])),Ie.runKernelFunc(function(o){return o.depthwiseConv2DDerFilter(a,i,r)},{x4D:a,dy4D:i})}}),M5=Pe({separableConv2d_:function(e,t,n,r,a,i,o){i===void 0&&(i=[1,1]),o===void 0&&(o="NHWC");var s=xe(e,"x","separableConv2d"),l=xe(t,"depthwiseFilter","separableConv2d"),u=xe(n,"pointwiseFilter","separableConv2d"),d=s,f=!1;if(s.rank===3&&(f=!0,d=s.as4D(1,s.shape[0],s.shape[1],s.shape[2])),o==="NCHW")throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");_e(d.rank===4,function(){return"Error in separableConv2d: input must be rank 4, but got rank "+d.rank+"."}),_e(l.rank===4,function(){return"Error in separableConv2d: depthwise filter must be rank 4, but got rank "+l.rank+"."}),_e(u.rank===4,function(){return"Error in separableConv2d: pointwise filter must be rank 4, but got rank "+l.rank+"."}),_e(u.shape[0]===1,function(){return"Error in separableConv2d: the first dimension of pointwise filter  must be 1, but got "+u.shape[0]+"."}),_e(u.shape[1]===1,function(){return"Error in separableConv2d: the second dimension of pointwise filter must be 1, but got "+u.shape[1]+"."});var h=l.shape[2],p=l.shape[3];_e(u.shape[2]===h*p,function(){return"Error in separableConv2d: the third dimension of pointwise filter must be "+h*p+", but got "+u.shape[2]+"."});var m=Yj(d,l,r,a,o,i),g=Rl(m,u,1,"valid",o);return f?g.as3D(g.shape[1],g.shape[2],g.shape[3]):g}}),FRe=Pe({conv2dTranspose_:function(e,t,n,r,a,i){return toe(n,xe(e,"x","conv2dTranspose"),xe(t,"filter","conv2dTranspose"),r,a,"NHWC",i)}}),LRe=Pe({conv3dTranspose_:function(e,t,n,r,a){return noe(n,xe(e,"x","conv3dTranspose"),xe(t,"filter","conv3dTranspose"),r,a)}}),Kj=Pe({matMul_:function(e,t,n,r){var a;n===void 0&&(n=!1),r===void 0&&(r=!1);var i=xe(e,"a","matMul"),o=xe(t,"b","matMul");a=Na(i,o),i=a[0],o=a[1];var s=n?i.shape[i.rank-2]:i.shape[i.rank-1],l=r?o.shape[o.rank-1]:o.shape[o.rank-2],u=n?i.shape[i.rank-1]:i.shape[i.rank-2],d=r?o.shape[o.rank-2]:o.shape[o.rank-1],f=i.shape.slice(0,-2),h=o.shape.slice(0,-2),p=un(f),m=un(h);_e(i.rank>=2&&o.rank>=2&&i.rank===o.rank,function(){return"Error in matMul: inputs must have the same rank of at least 2, got ranks "+i.rank+" and "+o.rank+"."}),_e(Pi(f,h),function(){return"Error in matMul: outer dimensions ("+f+") and ("+h+") of Tensors with shapes "+i.shape+" and "+o.shape+" must match."}),_e(s===l,function(){return"Error in matMul: inner shapes ("+s+") and ("+l+") of Tensors with shapes "+i.shape+" and "+o.shape+" and transposeA="+n+" and transposeB="+r+" must match."});var g=i.shape.slice(0,-2).concat([u,d]),y=n?i.as3D(p,s,u):i.as3D(p,u,s),x=r?o.as3D(m,d,l):o.as3D(m,l,d),b={transposeA:n,transposeB:r};return Ie.runKernelFunc(function(w,_){var S=w.batchMatMul(y,x,n,r);return _([y,x]),S},{a:y,b:x},function(w,_){var S=_,k=S[0],N=S[1];return n||r?!n&&r?{a:function(){return w.matMul(N,!1,!1)},b:function(){return w.matMul(k,!0,!1)}}:n&&!r?{a:function(){return N.matMul(w,!1,!0)},b:function(){return k.matMul(w,!1,!1)}}:{a:function(){return N.matMul(w,!0,!0)},b:function(){return w.matMul(k,!0,!0)}}:{a:function(){return w.matMul(N,!1,!0)},b:function(){return k.matMul(w,!0,!1)}}},"BatchMatMul",b).reshape(g)}}),$Re=Pe({dot_:function(e,t){var n=xe(e,"t1","dot"),r=xe(t,"t2","dot");_e(!(n.rank!==1&&n.rank!==2||r.rank!==1&&r.rank!==2),function(){return"Error in dot: inputs must all be rank 1 or 2, but got ranks "+n.rank+" and "+r.rank+"."});var a=n.rank===1?n.size:n.shape[1],i=r.rank===1?r.size:r.shape[0];return _e(a===i,function(){return"Error in dot: inner dimensions of inputs must match, but got "+a+" and "+i+"."}),n.rank===1&&r.rank===1?n.as2D(1,-1).matMul(r.as2D(-1,1)).asScalar():n.rank===1&&r.rank===2?n.as2D(1,-1).matMul(r.as2D(r.shape[0],r.shape[1])).as1D():n.rank===2&&r.rank===1?n.matMul(r.as2D(-1,1)).as1D():n.matMul(r.as2D(r.shape[0],r.shape[1]))}}),BRe=Pe({outerProduct_:function(e,t){var n=xe(e,"v1","outerProduct"),r=xe(t,"v2","outerProduct");return _e(n.rank===1&&r.rank===1,function(){return"Error in outerProduct: inputs must be rank 1, but got ranks "+n.rank+" and "+r.rank+"."}),n.as2D(-1,1).matMul(r.as2D(1,-1))}}),n2=Pe({reverse_:function(e,t){var n=xe(e,"x","reverse");if(n.rank===0)return n.clone();var r=vi(t,n.shape);return Ie.runKernelFunc(function(a){return a.reverse(n,r)},{$x:n},function(a){return{$x:function(){return a.reverse(r)}}}).reshapeAs(n)}}),zRe=Pe({reverse1d_:function(e){var t=xe(e,"x","reverse");return _e(t.rank===1,function(){return"Error in reverse1D: x must be rank 1 but got rank "+t.rank+"."}),n2(t,0)}}),URe=Pe({reverse2d_:function(e,t){var n=xe(e,"x","reverse");return _e(n.rank===2,function(){return"Error in reverse2D: x must be rank 2 but got rank "+n.rank+"."}),n2(n,t)}}),WRe=Pe({reverse3d_:function(e,t){var n=xe(e,"x","reverse");return _e(n.rank===3,function(){return"Error in reverse3D: x must be rank 3 but got rank "+n.rank+"."}),n2(n,t)}}),VRe=Pe({reverse4d_:function(e,t){var n=xe(e,"x","reverse");return _e(n.rank===4,function(){return"Error in reverse4D: x must be rank 4 but got rank "+n.rank+"."}),n2(n,t)}});function ooe(e,t,n,r,a,i){var o=xe(e,"x","maxPool"),s=o,l=!1;o.rank===3&&(l=!0,s=o.as4D(1,o.shape[0],o.shape[1],o.shape[2])),_e(s.rank===4,function(){return"Error in maxPool: input must be rank 4 but got rank "+s.rank+"."}),_e(ds(n,r),function(){return"Error in maxPool: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+r+"'"}),i!=null&&_e(qa(a),function(){return"Error in maxPool: pad must be an integer when using, dimRoundingMode "+i+" but got pad "+a+"."});var u=Sb(s.shape,t,n,r,a,i);if(u.filterWidth===1&&u.filterHeight===1&&Pi(u.inShape,u.outShape))return o.clone();var d=[s],f=Ie.runKernelFunc(function(h,p){var m=h.maxPool(s,u);return p([s,m]),m},{x:s},function(h,p){var m=p[0],g=p[1];return{x:function(){return function(y,x,b,w,_,S,k,N){var P=xe(y,"dy","maxPoolBackprop"),T=xe(x,"input","maxPoolBackprop"),j=xe(b,"output","maxPoolBackprop");_e(T.rank===P.rank,function(){return"Rank of input ("+T.rank+") does not match rank of dy ("+P.rank+")"}),_e(ds(_,S),function(){return"Error in maxPoolBackProp: Either strides or dilations must be 1. Got strides "+_+" and dilations '"+S+"'"}),_e(P.rank===4,function(){return"Error in maxPoolBackprop: dy must be rank 4 but got rank "+P.rank+"."}),_e(T.rank===4,function(){return"Error in maxPoolBackprop: input must be rank 4 but got rank "+T.rank+"."});var D=Sb(T.shape,w,_,S,k,N);return Ie.runKernelFunc(function(M){return M.maxPoolBackprop(P,T,j,D)},{$dy:P,$input:T})}(h,m,g,t,n,r,a)}}},"MaxPool",u,d);return l?f.as3D(f.shape[1],f.shape[2],f.shape[3]):f}function soe(e,t,n,r,a,i){var o=xe(e,"x","avgPool","float32");_e(ds(n,r),function(){return"Error in avgPool: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+r+"'"});var s=o,l=!1;o.rank===3&&(l=!0,s=o.as4D(1,o.shape[0],o.shape[1],o.shape[2])),_e(s.rank===4,function(){return"Error in avgPool: x must be rank 4 but got rank "+s.rank+"."}),i!=null&&_e(qa(a),function(){return"Error in avgPool: pad must be an integer when using, dimRoundingMode "+i+" but got pad "+a+"."});var u=Sb(s.shape,t,n,r,a,i);if(u.filterWidth===1&&u.filterHeight===1&&Pi(u.inShape,u.outShape))return o.clone();var d=Ie.runKernelFunc(function(f){return f.avgPool(s,u)},{x:s},function(f){return{x:function(){return function(h,p,m,g,y,x){var b=xe(h,"dy","avgPoolBackprop"),w=xe(p,"input","avgPoolBackprop");_e(w.rank===b.rank,function(){return"Rank of input ("+w.rank+") does not match rank of dy ("+b.rank+")"}),_e(ds(g,y),function(){return"Error in avgPoolBackprop: Either strides or dilations must be 1. Got strides "+g+" and dilations '"+y+"'"});var _=w,S=b,k=!1;w.rank===3&&(k=!0,_=w.as4D(1,w.shape[0],w.shape[1],w.shape[2]),S=b.as4D(1,b.shape[0],b.shape[1],b.shape[2])),_e(S.rank===4,function(){return"Error in avgPoolBackprop: dy must be rank 4 but got rank "+S.rank+"."}),_e(_.rank===4,function(){return"Error in avgPoolBackprop: input must be rank 4 but got rank "+_.rank+"."});var N=Sb(_.shape,m,g,y,x),P=Ie.runKernelFunc(function(T){return T.avgPoolBackprop(S,_,N)},{dy4D:S,input4D:_});return k?P.as3D(P.shape[1],P.shape[2],P.shape[3]):P}(f,s,t,n,r,a)}}},"AvgPool",u);return d=d.cast(o.dtype),l?d.as3D(d.shape[1],d.shape[2],d.shape[3]):d}var bi=Pe({maxPool_:function(e,t,n,r,a){return ooe(e,t,n,1,r,a)}}),r2=Pe({avgPool_:function(e,t,n,r,a){return soe(e,t,n,1,r,a)}}),HRe=Pe({pool_:function(e,t,n,r,a,i){a==null&&(a=[1,1]),i==null&&(i=1),r===0&&(r="valid");var o=xe(e,"x","maxPool"),s=o,l=!1;o.rank===3&&(l=!0,s=o.as4D(1,o.shape[0],o.shape[1],o.shape[2])),_e(ds(i,a),function(){return"Error in pool: Either strides or dilations must be 1. Got strides "+i+" and dilations '"+a+"'"});var u,d=Sb(s.shape,t,i,a,r),f=[d.dilationHeight,d.dilationWidth];u=r==="same"?function(_,S){var k=_.map(function(T,j){return T+(T-1)*(S[j]-1)}).map(function(T){return T-1}),N=k.map(function(T){return Math.floor(T/2)}),P=k.map(function(T,j){return T-N[j]});return k.map(function(T,j){return[N[j],P[j]]})}([d.filterHeight,d.filterWidth],f):[[0,0],[0,0]];var h=f[0]===1&&f[1]===1,p=function(_,S,k){var N=k.map(function(W){return W[0]}),P=k.map(function(W){return W[1]}),T=_.concat(N,P),j=S.map(function(W,B){return(W-T[B]%W)%W}),D=P.map(function(W,B){return W+j[B]}),M=S.map(function(W,B){return[N[B],D[B]]}),R=S.map(function(W,B){return[0,j[B]]});return[M,R]}([d.inHeight,d.inWidth],f,u),m=p[0],g=p[1],y=h?r:"valid",x=h?s:hie(s,f,m),b=(n==="avg"?function(){return soe(x,t,i,1,y)}:function(){return ooe(x,t,i,1,y)})(),w=h?b:uie(b,f,g);return l?w.as3D(w.shape[1],w.shape[2],w.shape[3]):w}}),qRe=Pe({maxPool3d_:function(e,t,n,r,a,i,o){i===void 0&&(i="NDHWC");var s=xe(e,"x","maxPool3d"),l=s,u=!1;s.rank===4&&(u=!0,l=s.as5D(1,s.shape[0],s.shape[1],s.shape[2],s.shape[3])),o==null&&(o=[1,1,1]),_e(l.rank===5,function(){return"Error in maxPool3d: x must be rank 5 but got rank "+l.rank+"."}),_e(i==="NDHWC",function(){return"Error in maxPool3d: Only NDHWC is currently supported, but got dataFormat of "+i}),_e(ds(n,o),function(){return"Error in maxPool3d: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+o+"'"}),a!=null&&_e(qa(r),function(){return"Error in maxPool3d: pad must be an integer when using, dimRoundingMode "+a+" but got pad "+r+"."});var d=CE(l.shape,t,n,o,r,a,i),f=Ie.runKernelFunc(function(h,p){var m=h.maxPool3d(l,d);return p([l,m]),m},{x:l},function(h,p){var m=p[0],g=p[1];return{x:function(){return function(y,x,b,w,_,S,k,N){var P=xe(y,"dy","maxPool3dBackprop"),T=xe(x,"input","maxPool3dBackprop"),j=xe(b,"output","maxPool3dBackprop"),D=P,M=T,R=j,W=!1;T.rank===4&&(W=!0,D=P.as5D(1,P.shape[0],P.shape[1],P.shape[2],P.shape[3]),M=T.as5D(1,T.shape[0],T.shape[1],T.shape[2],T.shape[3]),R=j.as5D(1,j.shape[0],j.shape[1],j.shape[2],j.shape[3])),_e(D.rank===5,function(){return"Error in maxPool3dBackprop: dy must be rank 5 but got rank "+D.rank+"."}),_e(M.rank===5,function(){return"Error in maxPool3dBackprop: input must be rank 5 but got rank "+M.rank+"."}),_e(R.rank===5,function(){return"Error in maxPool3dBackprop: output must be rank 5 but got rank "+R.rank+"."}),S==null&&(S=[1,1,1]),_e(ds(_,S),function(){return"Error in maxPool3dBackprop: Either strides or dilations must be 1. Got strides "+_+" and dilations '"+S+"'"}),N!=null&&_e(qa(k),function(){return"Error in maxPool3dBackprop: pad must be an integer when using, dimRoundingMode "+N+" but got pad "+k+"."});var B=CE(M.shape,w,_,S,k,N),V=Ie.runKernelFunc(function(q){return q.maxPool3dBackprop(D,M,R,B)},{dy5D:D,input5D:M});return W?V.as4D(V.shape[1],V.shape[2],V.shape[3],V.shape[4]):V}(h,m,g,t,n,o,r,a)}}});return u?f.as4D(f.shape[1],f.shape[2],f.shape[3],f.shape[4]):f}}),GRe=Pe({avgPool3d_:function(e,t,n,r,a,i,o){i===void 0&&(i="NDHWC");var s=xe(e,"x","avgPool3d","float32"),l=s,u=!1;s.rank===4&&(u=!0,l=s.as5D(1,s.shape[0],s.shape[1],s.shape[2],s.shape[3])),o==null&&(o=[1,1,1]),_e(l.rank===5,function(){return"Error in avgPool3d: x must be rank 5 but got rank "+l.rank+"."}),_e(i==="NDHWC",function(){return"Error in avgPool3d: Only NDHWC is currently supported, but got dataFormat of "+i}),_e(ds(n,o),function(){return"Error in avgPool3d: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+o+"'"}),a!=null&&_e(qa(r),function(){return"Error in avgPool3d: pad must be an integer when using, dimRoundingMode "+a+" but got pad "+r+"."});var d=CE(l.shape,t,n,o,r,a,i),f=Ie.runKernelFunc(function(h){return h.avgPool3d(l,d)},{x:l},function(h){return{x:function(){return function(p,m,g,y,x,b,w){var _=xe(p,"dy","avgPool3dBackprop"),S=xe(m,"input","avgPool3dBackprop"),k=_,N=S,P=!1;S.rank===4&&(P=!0,k=_.as5D(1,_.shape[0],_.shape[1],_.shape[2],_.shape[3]),N=S.as5D(1,S.shape[0],S.shape[1],S.shape[2],S.shape[3])),_e(k.rank===5,function(){return"Error in avgPool3dBackprop: dy must be rank 5 but got rank "+k.rank+"."}),_e(N.rank===5,function(){return"Error in avgPool3dBackprop: input must be rank 5 but got rank "+N.rank+"."}),x==null&&(x=[1,1,1]),_e(ds(y,x),function(){return"Error in avgPool3dBackprop: Either strides or dilations must be 1. Got strides "+y+" and dilations '"+x+"'"}),w!=null&&_e(qa(b),function(){return"Error in maxPool3dBackprop: pad must be an integer when using, dimRoundingMode "+w+" but got pad "+b+"."});var T=CE(N.shape,g,y,x,b,w),j=Ie.runKernelFunc(function(D){return D.avgPool3dBackprop(k,N,T)},{dy5D:k,input5D:N});return P?j.as4D(j.shape[1],j.shape[2],j.shape[3],j.shape[4]):j}(h,l,t,n,o,r,a)}}});return f=f.cast(l.dtype),u?f.as4D(f.shape[1],f.shape[2],f.shape[3],f.shape[4]):f}}),ju=Pe({slice_:function(e,t,n){var r,a,i=xe(e,"x","slice");if(i.rank===0)throw new Error("Slicing scalar is not possible");(r=typeof t=="number"?[t].concat(new Array(i.rank-1).fill(0)):t.length<i.rank?t.concat(new Array(i.rank-t.length).fill(0)):t.slice()).forEach(function(l){_e(l!==-1,function(){return"slice() does not support negative begin indexing."})}),a=(a=n==null?new Array(i.rank).fill(-1):typeof n=="number"?[n].concat(new Array(i.rank-1).fill(-1)):n.length<i.rank?n.concat(new Array(i.rank-n.length).fill(-1)):n).map(function(l,u){return l>=0?l:(_e(l===-1,function(){return"Negative size values should be exactly -1 but got "+l+" for the slice() size at index "+u+"."}),i.shape[u]-r[u])}),w3e(i,r,a);var o=i.shape,s={begin:r,size:a};return Ie.runKernelFunc(function(l){return l.slice(i,r,a)},{x:i},function(l){for(var u=[],d=0;d<l.rank;d++)u.push([r[d],o[d]-r[d]-a[d]]);return{x:function(){return l.pad(u)}}},"Slice",s)}}),YRe=Pe({slice1d_:function(e,t,n){var r=xe(e,"x","slice1d");return _e(r.rank===1,function(){return"slice1d expects a rank-1 tensor, but got a rank-"+r.rank+" tensor"}),ju(r,[t],[n])}}),KRe=Pe({slice2d_:function(e,t,n){var r=xe(e,"x","slice2d");return _e(r.rank===2,function(){return"slice2d expects a rank-2 tensor, but got a rank-"+r.rank+" tensor"}),ju(r,t,n)}}),loe=Pe({slice3d_:function(e,t,n){var r=xe(e,"x","slice3d");return _e(r.rank===3,function(){return"slice3d expects a rank-3 tensor, but got a rank-"+r.rank+" tensor"}),ju(r,t,n)}}),XRe=Pe({slice4d_:function(e,t,n){var r=xe(e,"x","slice4d");return _e(r.rank===4,function(){return"slice4d expects a rank-4 tensor, but got a rank-"+r.rank+" tensor"}),ju(r,t,n)}});function coe(e,t,n,r,a){return t.rank<n.rank&&(t=t.reshape(us(t.shape,r))),e.rank<n.rank&&(e=e.reshape(us(e.shape,r))),{x:function(){var i=e.mul(n.equal(t).cast(e.dtype));return a==null?i:i.transpose(a)}}}var ZRe=Pe({all_:function(e,t,n){t===void 0&&(t=null),n===void 0&&(n=!1);var r=xe(e,"x","all","bool"),a=vi(t,r.shape),i=a,o=Mu(i,r.rank);o!=null&&(r=r.transpose(o),i=Iu(i.length,r.rank));var s=Ie.runKernelFunc(function(u){return u.all(r,i)},{$x:r});if(n){var l=us(s.shape,a);return s.reshape(l)}return s}}),QRe=Pe({any_:function(e,t,n){t===void 0&&(t=null),n===void 0&&(n=!1);var r=xe(e,"x","any","bool"),a=vi(t,r.shape),i=a,o=Mu(i,r.rank);o!=null&&(r=r.transpose(o),i=Iu(i.length,r.rank));var s=Ie.runKernelFunc(function(u){return u.any(r,i)},{$x:r});if(n){var l=us(s.shape,a);return s.reshape(l)}return s}}),JRe=Pe({argMax_:function(e,t){t===void 0&&(t=0);var n=xe(e,"x","argMax");t==null&&(t=0);var r=vi(t,n.shape),a=Mu(r,n.rank);a!=null&&(n=n.transpose(a),r=Iu(r.length,n.rank));var i={axis:r[0]},o=[n];return Ie.runKernelFunc(function(s,l){var u=s.argMax(n,r[0]);return l([n]),u},{x:n},function(s,l){var u=l[0];return{x:function(){return or(u)}}},"ArgMax",i,o)}}),eFe=Pe({argMin_:function(e,t){t===void 0&&(t=0);var n=xe(e,"x","argMin");t==null&&(t=0);var r=vi(t,n.shape),a=Mu(r,n.rank);return a!=null&&(n=n.transpose(a),r=Iu(r.length,n.rank)),Ie.runKernelFunc(function(i,o){var s=i.argMin(n,r[0]);return o([n]),s},{$x:n},function(i,o){var s=o[0];return{$x:function(){return or(s)}}})}}),tFe=Pe({logSumExp_:function(e,t,n){t===void 0&&(t=null),n===void 0&&(n=!1);var r=xe(e,"x","logSumExp"),a=vi(t,r.shape),i=r.max(a,!0),o=r.sub(i).exp().sum(a).log(),s=i.reshape(o.shape).add(o);if(n){var l=us(s.shape,a);return s.reshape(l)}return s}}),Xj=Pe({max_:function(e,t,n){t===void 0&&(t=null),n===void 0&&(n=!1);var r=xe(e,"x","max"),a=r,i=vi(t,r.shape),o=i,s=Mu(o,r.rank);s!=null&&(r=r.transpose(s),o=Iu(o.length,r.rank));var l=[r],u=Ie.runKernelFunc(function(f,h){var p=f.max(r,o);return h([a,p]),p},{x:r},function(f,h){return coe(f,h[1],h[0],i,s)},"Max",{axes:o},l,[!0]);if(n){var d=us(u.shape,i);u=u.reshape(d)}return u}}),nFe=Pe({mean_:function(e,t,n){t===void 0&&(t=null),n===void 0&&(n=!1);var r=xe(e,"x","mean"),a=vi(t,r.shape),i=un(uo(r.shape,a)[1]);return Hj(function(o){var s=zt(i);return{value:(s.dtype===o.dtype?o:o.cast(s.dtype)).div(s).sum(t,n),gradFunc:function(l){var u=o.shape.slice();return a.forEach(function(d){u[d]=1}),l.reshape(u).mul(ey(o.shape,"float32")).div(i)}}})(r)}}),rFe=Pe({min_:function(e,t,n){t===void 0&&(t=null),n===void 0&&(n=!1);var r=xe(e,"x","min"),a=r,i=vi(t,r.shape),o=i,s=Mu(o,r.rank);s!=null&&(r=r.transpose(s),o=Iu(o.length,r.rank));var l=[r],u=Ie.runKernelFunc(function(f,h){var p=f.min(r,o);return h([a,p]),p},{x:r},function(f,h){return coe(f,h[1],h[0],i,s)},"Min",{axes:o},l,[!0]);if(n){var d=us(u.shape,i);u=u.reshape(d)}return u}}),aFe=Pe({moments_:function(e,t,n){t===void 0&&(t=null),n===void 0&&(n=!1);var r=vi(t,(e=xe(e,"x","moments")).shape),a=e.mean(r,n),i=a.shape;n||(i=us(a.shape,r));var o=e.toFloat().sub(a.reshape(i)).square();return{mean:a,variance:o.mean(r,n)}}}),uoe=Pe({sum_:function(e,t,n){t===void 0&&(t=null),n===void 0&&(n=!1);var r=xe(e,"x","sum");r.dtype==="bool"&&(r=r.toInt());var a=vi(t,r.shape);return Hj(function(i){var o=Mu(a,i.rank),s=a,l=i;o!=null&&(l=i.transpose(o),s=Iu(s.length,i.rank));var u=function(p){var m=i.shape.slice();return a.forEach(function(g){m[g]=1}),p.reshape(m).mul(ey(i.shape,"float32"))},d={axes:s},f=Ie.runKernelFunc(function(p){return p.sum(l,s)},{x:l},function(p){return{x:function(){return u(p)}}},"Sum",d);if(n){var h=us(f.shape,a);f=f.reshape(h)}return{value:f,gradFunc:u}})(r)}}),iFe=Pe({prod_:function(e,t,n){t===void 0&&(t=null),n===void 0&&(n=!1);var r=xe(e,"x","prod");r.dtype==="bool"&&(r=r.toInt());var a=vi(t,r.shape),i=Mu(a,r.rank),o=a,s=r;i!=null&&(s=r.transpose(i),o=Iu(o.length,r.rank));var l=Ie.runKernelFunc(function(d){return d.prod(s,o)},{permutedX:s});if(n){var u=us(l.shape,a);l=l.reshape(u)}return l}}),doe=Pe({elu_:function(e){var t=xe(e,"x","elu");return Ie.runKernelFunc(function(n,r){var a=n.elu(t);return r([a]),a},{$x:t},function(n,r){var a=r[0];return{$x:function(){return Ie.runKernelFunc(function(i){return i.eluDer(n,a)},{dy:n,y:a})}}})}}),oFe=Pe({leakyRelu_:function(e,t){t===void 0&&(t=.2);var n=xe(e,"x","leakyRelu");return A5(zt(t).mul(n),n)}}),foe=Pe({prelu_:function(e,t){var n=xe(e,"x","prelu"),r=xe(t,"alpha","prelu");return Ie.runKernelFunc(function(a,i){var o=a.prelu(n,r);return i([n,r]),o},{x:n,alpha:r},function(a,i){var o=i[0],s=i[1],l=o.greater(0);return{x:function(){return mm(l,a,a.mul(s))},alpha:function(){var u=mm(l,or(a),a.mul(o)),d=mi(s.shape,a.shape);return d.length>0&&(u=u.sum(d)),u.reshape(s.shape)}}},"Prelu")}}),Sa=Pe({relu_:function(e){var t=xe(e,"x","relu");return t.dtype==="bool"?t.toInt():Ie.runKernelFunc(function(n,r){var a=n.relu(t);return r([t]),a},{x:t},function(n,r){var a=r[0];return{x:function(){return n.mulStrict(a.step().toFloat())}}},"Relu")}}),hoe=Pe({relu6_:function(e){var t=xe(e,"x","relu6");return t.dtype==="bool"?t.toInt():Ie.runKernelFunc(function(n,r){var a=n.relu6(t);return r([t]),a},{x:t},function(n,r){var a=r[0],i=a.lessEqual(6).mul(a.step());return{x:function(){return n.mulStrict(i.toFloat())}}},"Relu6")}}),sFe=Pe({selu_:function(e){var t=xe(e,"x","selu");return Ie.runKernelFunc(function(n,r){var a=n.selu(t);return r([t]),a},{$x:t},function(n,r){var a=r[0];return{$x:function(){var i=a.greater(zt(0)),o=zt(j5),s=zt(T5),l=n.mul(s),u=n.mul(o).mul(a.toFloat().exp());return mm(i,l,u)}}})}}),fh=Pe({transpose_:function(e,t){var n=xe(e,"x","transpose");if(t==null&&(t=n.shape.map(function(a,i){return i}).reverse()),_e(n.rank===t.length,function(){return"Error in transpose: rank of input "+n.rank+" must match length of perm "+t+"."}),t.forEach(function(a){_e(a>=0&&a<n.rank,function(){return"All entries in 'perm' must be between 0 and "+(n.rank-1)+" but got "+t})}),n.rank<=1)return n.clone();var r={perm:t};return Ie.runKernelFunc(function(a){return a.transpose(n,t)},{x:n},function(a){var i=y5(t);return{x:function(){return a.transpose(i)}}},"Transpose",r)}}),lFe=Pe({localResponseNormalization_:function(e,t,n,r,a){t===void 0&&(t=5),n===void 0&&(n=1),r===void 0&&(r=1),a===void 0&&(a=.5);var i=xe(e,"x","localResponseNormalization");_e(i.rank===4||i.rank===3,function(){return`Error in localResponseNormalization: x must be rank 3 or 4 but got
               rank `+i.rank+"."}),_e(qa(t),function(){return"Error in localResponseNormalization: depthRadius must be an integer but got depthRadius "+t+"."});var o=i,s=!1;i.rank===3&&(s=!0,o=i.as4D(1,i.shape[0],i.shape[1],i.shape[2]));var l=Ie.runKernelFunc(function(u,d){var f=u.localResponseNormalization4D(o,t,n,r,a);return d([o,f]),f},{x4D:o},function(u,d){var f=d[0],h=d[1];return{x4D:function(){return Ie.runKernelFunc(function(p){return p.LRNGrad(u,f,h,t,n,r,a)},{})}}});return s?l.as3D(l.shape[1],l.shape[2],l.shape[3]):l}}),poe=Pe({norm_:function(e,t,n,r){t===void 0&&(t="euclidean"),n===void 0&&(n=null),r===void 0&&(r=!1);var a=function s(l,u,d){if(d===void 0&&(d=null),l.rank===0)return l.abs();if(l.rank!==1&&d===null)return s(l.reshape([-1]),u,d);if(l.rank===1||typeof d=="number"||Array.isArray(d)&&d.length===1){if(u===1)return l.abs().sum(d);if(u===1/0)return l.abs().max(d);if(u===-1/0)return l.abs().min(d);if(u==="euclidean"||u===2)return l.abs().pow(zt(2,"int32")).sum(d).sqrt();throw new Error("Error in norm: invalid ord value: "+u)}if(Array.isArray(d)&&d.length===2){if(u===1)return l.abs().sum(d[0]).max(d[1]-1);if(u===1/0)return l.abs().sum(d[1]).max(d[0]);if(u===-1/0)return l.abs().sum(d[1]).min(d[0]);if(u==="fro"||u==="euclidean")return l.square().sum(d).sqrt();throw new Error("Error in norm: invalid ord value: "+u)}throw new Error("Error in norm: invalid axis: "+d)}(e=xe(e,"x","norm"),t,n),i=a.shape;if(r){var o=vi(n,e.shape);i=us(a.shape,o)}return a.reshape(i)}}),cFe=Pe({basicLSTMCell_:function(e,t,n,r,a,i){var o=xe(e,"forgetBias","basicLSTMCell"),s=xe(t,"lstmKernel","basicLSTMCell"),l=xe(n,"lstmBias","basicLSTMCell"),u=xe(r,"data","basicLSTMCell"),d=xe(a,"c","basicLSTMCell"),f=xe(i,"h","basicLSTMCell"),h=u.concat(f,1).matMul(s).add(l),p=h.shape[0],m=h.shape[1]/4,g=[p,m],y=h.slice([0,0],g),x=h.slice([0,m],g),b=h.slice([0,2*m],g),w=h.slice([0,3*m],g),_=y.sigmoid().mulStrict(x.tanh()).addStrict(d.mulStrict(o.add(b).sigmoid())),S=_.tanh().mulStrict(w.sigmoid());return[_,S]}}),uFe=Pe({multiRNNCell_:function(e,t,n,r){for(var a=xe(t,"data","multiRNNCell"),i=yE(n,"c","multiRNNCell"),o=yE(r,"h","multiRNNCell"),s=a,l=[],u=0;u<e.length;u++){var d=e[u](s,i[u],o[u]);l.push(d[0]),l.push(d[1]),s=d[1]}var f=[],h=[];for(u=0;u<l.length;u+=2)f.push(l[u]),h.push(l[u+1]);return[f,h]}}),dFe=Pe({movingAverage_:function(e,t,n,r,a){a===void 0&&(a=!0);var i=xe(e,"v","movingAverage"),o=xe(t,"x","movingAverage"),s=xe(n,"decay","movingAverage");lOe(i,o),_e(Pi(i.shape,o.shape),function(){return"Shape mismatch in v and x"});var l=zt(1),u=l.sub(s),d=o.sub(i).mul(u);if(a){_e(r!=null,function(){return"When using zeroDebias: true, step is required."});var f=xe(r,"step","movingAverage");d=d.div(l.sub(jE(s,f)))}return i.add(d)}}),fFe=Pe({stridedSlice_:function(e,t,n,r,a,i,o,s,l){if(a===void 0&&(a=0),i===void 0&&(i=0),o===void 0&&(o=0),s===void 0&&(s=0),l===void 0&&(l=0),r==null&&(r=new Array(t.length)),o!==0)throw new Error("ellipsis mask is not yet supported");var u=xe(e,"x","stridedSlice"),d=DW(s),f=u.shape.slice();d.forEach(function(y){t[y]=0,n[y]=1,f.splice(y,0,1)}),u=u.reshape(f);for(var h=0;h<u.rank;h++)t[h]=_3e(a,t,r,u.shape,h),n[h]=S3e(i,n,r,u.shape,h),r[h]=r[h]||1;var p=DW(l);p.forEach(function(y){n[y]=t[y]+1,r[y]=1});var m=_5(t,n,r),g=m.filter(function(y,x){return p.indexOf(x)===-1});return r.every(function(y){return y===1})?ju(u,t,m).reshape(g):Ie.runKernelFunc(function(y){return y.stridedSlice(u,t,n,r)},{$x:u}).reshape(g)}}),hFe=Pe({topk_:function(e,t,n){t===void 0&&(t=1),n===void 0&&(n=!0);var r=xe(e,"x","topk");if(r.rank===0)throw new Error("topk() expects the input to be of rank 1 or higher");var a=r.shape[r.shape.length-1];if(t>a)throw new Error("'k' passed to topk() must be <= the last dimension ("+a+") but got "+t);var i=Ie.runKernelFunc(function(o){return o.topk(r,t,n)},{$x:r});return{values:i[0],indices:i[1]}}}),pFe=Pe({scatterND_:function(e,t,n){var r=xe(e,"indices","scatterND","int32"),a=xe(t,"updates","scatterND");return b3e(a,r,n),Ie.runKernelFunc(function(i){return i.scatterND(r,a,n)},{indices:r,updates:a},null,"ScatterNd",{shape:n})}}),I5=Pe({fft_:function(e){_e(e.dtype==="complex64",function(){return"The dtype for tf.spectral.fft() must be complex64 but got "+e.dtype+"."});var t=e.shape[e.shape.length-1],n=e.size/t,r=e.as2D(n,t);return Ie.runKernelFunc(function(a){return a.fft(r)},{input:e}).reshape(e.shape)}}),TE=Pe({ifft_:function(e){_e(e.dtype==="complex64",function(){return"The dtype for tf.spectral.ifft() must be complex64 but got "+e.dtype+"."});var t=e.shape[e.shape.length-1],n=e.size/t,r=e.as2D(n,t);return Ie.runKernelFunc(function(a){return a.ifft(r)},{input:e}).reshape(e.shape)}}),R5=Pe({rfft_:function(e,t){_e(e.dtype==="float32",function(){return"The dtype for rfft() must be real value but got "+e.dtype});var n,r=e.shape[e.shape.length-1],a=e.size/r;if(t!=null&&t<r){var i=e.shape.map(function(x){return 0}),o=e.shape.map(function(x){return x});o[e.shape.length-1]=t,n=e.slice(i,o),r=t}else if(t!=null&&t>r){var s=e.shape.map(function(x){return x});s[e.shape.length-1]=t-r,n=e.concat(ta(s),e.shape.length-1),r=t}else n=e;var l=n.zerosLike(),u=Wi(n,l).as2D(a,r),d=I5(u),f=Math.floor(r/2)+1,h=vl(d),p=tu(d),m=h.split([f,r-f],h.shape.length-1),g=p.split([f,r-f],p.shape.length-1),y=n.shape.slice();return y[n.shape.length-1]=f,Wi(m[0],g[0]).reshape(y)}}),moe=Pe({irfft_:function(e){var t=e.shape[e.shape.length-1],n=e.size/t;if(t<=2){var r=e.as2D(n,t),a=TE(r);return vl(a)}var i=[n,2*(t-1)],o=vl(e).as2D(n,t),s=tu(e).as2D(n,t),l=o.slice([0,1],[n,t-2]).reverse(1),u=s.slice([0,1],[n,t-2]).reverse(1).mul(zt(-1)),d=o.concat(l,1),f=s.concat(u,1);return r=Wi(d,f).as2D(i[0],i[1]),a=TE(r),vl(a)}}),mFe=Object.freeze({fft:I5,ifft:TE,rfft:R5,irfft:moe}),gFe=Pe({sparseToDense_:function(e,t,n,r){r===void 0&&(r=0);var a=xe(e,"sparseIndices","sparseToDense","int32"),i=xe(t,"sparseValues","sparseToDense"),o=xe(r,"defaultValue","sparseToDense",i.dtype);return function(s,l,u,d){if(s.dtype!=="int32")throw new Error("tf.sparseToDense() expects the indices to be int32 type, but the dtype was "+s.dtype+".");if(s.rank>2)throw new Error("sparseIndices should be a scalar, vector, or matrix, but got shape "+s.shape+".");var f=s.rank>0?s.shape[0]:1,h=s.rank>1?s.shape[1]:1;if(u.length!==h)throw new Error("outputShape has incorrect number of elements:, "+u.length+", should be: "+h+".");var p=l.size;if(l.rank!==0&&(l.rank!==1||p!==f))throw new Error("sparseValues has incorrect shape "+l.shape+", should be [] or ["+f+"]");if(l.dtype!==d.dtype)throw new Error("sparseValues.dtype must match defaultValues.dtype")}(a,i,n,o),Ie.runKernelFunc(function(s){return s.sparseToDense(a,i,n,o)},{$sparseIndices:a,$sparseValues:i,$defaultValue:o})}}),vFe=Pe({gatherND_:function(e,t){var n=xe(t,"indices","gatherND","int32"),r=xe(e,"x","gatherND");return Ie.runKernelFunc(function(a){return a.gatherND(r,n)},{x:r,indices:n},null,"GatherNd")}}),yFe=Pe({diag_:function(e){var t=xe(e,"x","diag").flatten(),n=e.shape.concat(e.shape);return Ie.runKernelFunc(function(r){return r.diag(t)},{$x:t}).reshape(n)}}),xFe=Pe({dropout_:function(e,t,n,r){var a=xe(e,"x","dropout");if(_e(a.dtype==="float32",function(){return"x has to be a floating point tensor since it's going to be scaled, but got a "+a.dtype+" tensor instead."}),_e(t>=0&&t<1,function(){return"rate must be a float in the range [0, 1), but got "+t+"."}),t===0)return e instanceof ba?a.clone():a;var i=function(l,u){if(u==null)return l.shape.slice();if(Pi(l.shape,u))return u;if(l.shape.length===u.length){for(var d=[],f=0;f<l.shape.length;f++)u[f]==null&&l.shape[f]!=null?d.push(l.shape[f]):d.push(u[f]);return d}return u}(a,n),o=1-t,s=fie(i,0,1,"float32",r).add(o).floor().div(o);return a.mul(s)}});function goe(e,t,n){for(var r=1-e%2,a=new Float32Array(e),i=0;i<e;++i){var o=2*Math.PI*i/(e+r-1);a[i]=t-n*Math.cos(o)}return ei(a,"float32")}var F5=Pe({hannWindow_:function(e){return goe(e,.5,.5)}}),voe=Pe({hammingWindow_:function(e){return goe(e,.54,.46)}}),L5=Pe({frame_:function(e,t,n,r,a){r===void 0&&(r=!1),a===void 0&&(a=0);for(var i=0,o=[];i+t<=e.size;)o.push(ju(e,i,t)),i+=n;if(r)for(;i<e.size;){var s=i+t-e.size,l=hi([ju(e,i,t-s),yu([s],a)]);o.push(l),i+=n}return o.length===0?eh([],[0,t]):hi(o).as2D(o.length,t)}}),yoe=Pe({stft_:function(e,t,n,r,a){var i;a===void 0&&(a=F5),r==null&&(i=t,r=Math.floor(Math.pow(2,Math.ceil(Math.log(i)/Math.log(2)))));for(var o=L5(e,t,n),s=bo(o,a(t)),l=[],u=0;u<o.shape[0];u++)l.push(R5(s.slice([u,0],[1,t]),r));return hi(l)}}),bFe=Object.freeze({hannWindow:F5,hammingWindow:voe,frame:L5,stft:yoe}),vo,wFe=function(e,t,n){return n===void 0&&(n=1),an(this,void 0,void 0,function(){var r,a,i,o,s,l,u,d,f,h,p,m,g,y;return on(this,function(x){switch(x.label){case 0:return r=xe(e,"predictions","inTopK"),a=xe(t,"targets","inTopK"),_e(r.rank>1,function(){return"inTopK() expects the predictions to be of rank 2 or higher, but got "+r.rank}),_e(r.rank-1===a.rank,function(){return"predictions rank should be 1 larger than targets rank, but got predictions rank "+r.rank+" and targets rank "+a.rank}),wr(r.shape.slice(0,r.shape.length-1),a.shape,"predictions's shape should be align with the targets' shape, except the last dimension."),i=r.shape[r.shape.length-1],_e(n>0&&n<=i,function(){return"'k' passed to inTopK() must be > 0 && <= the predictions last dimension ("+i+"), but got "+n}),[4,r.data()];case 1:return o=x.sent(),[4,a.data()];case 2:for(s=x.sent(),l=[o.length/i,i],d=l[1],f=bb("bool",u=l[0]),h=0;h<u;h++){for(p=h*d,m=o.subarray(p,p+d),g=[],y=0;y<m.length;y++)g.push({value:m[y],index:y});for(g.sort(function(b,w){return w.value-b.value}),f[h]=0,y=0;y<n;y++)if(g[y].index===s[h]){f[h]=1;break}}return e!==r&&r.dispose(),t!==a&&a.dispose(),[2,Gi(f,a.shape,"bool")]}})})};(function(e){e[e.NONE=0]="NONE",e[e.MEAN=1]="MEAN",e[e.SUM=2]="SUM",e[e.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"})(vo||(vo={}));var _Fe=Pe({absoluteDifference_:function(e,t,n,r){r===void 0&&(r=vo.SUM_BY_NONZERO_WEIGHTS);var a=xe(e,"labels","absoluteDifference"),i=xe(t,"predictions","absoluteDifference"),o=null;n!=null&&(o=xe(n,"weights","absoluteDifference")),wr(a.shape,i.shape,"Error in absoluteDifference: ");var s=a.sub(i).abs();return Wd(s,o,r)}}),Wd=Pe({computeWeightedLoss_:function(e,t,n){n===void 0&&(n=vo.SUM_BY_NONZERO_WEIGHTS);var r=xe(e,"losses","computeWeightedLoss"),a=null;t!=null&&(a=xe(t,"weights","computeWeightedLoss"));var i=a==null?r:r.mul(a);if(n===vo.NONE)return i;if(n===vo.SUM)return i.sum();if(n===vo.MEAN){if(a==null)return i.mean();var o=r.size/a.size,s=i.sum().div(a.sum());return o>1?s.div(zt(o)):s}if(n===vo.SUM_BY_NONZERO_WEIGHTS){if(a==null)return i.sum().div(zt(r.size));var l=a.mul(ey(r.shape)).notEqual(zt(0)).sum().toFloat();return i.sum().div(l)}throw Error("Unknown reduction: "+n)}}),SFe=Pe({cosineDistance_:function(e,t,n,r,a){a===void 0&&(a=vo.SUM_BY_NONZERO_WEIGHTS);var i=xe(e,"labels","cosineDistance"),o=xe(t,"predictions","cosineDistance"),s=null;r!=null&&(s=xe(r,"weights","cosineDistance")),wr(i.shape,o.shape,"Error in cosineDistance: ");var l=zt(1).sub(i.mul(o).sum(n,!0));return Wd(l,s,a)}}),CFe=Pe({hingeLoss_:function(e,t,n,r){r===void 0&&(r=vo.SUM_BY_NONZERO_WEIGHTS);var a=xe(e,"labels","hingeLoss"),i=xe(t,"predictions","hingeLoss"),o=null;n!=null&&(o=xe(n,"weights","hingeLoss")),wr(a.shape,i.shape,"Error in hingeLoss: ");var s=zt(1);a=zt(2).mul(a).sub(s);var l=s.sub(a.mul(i)).relu();return Wd(l,o,r)}}),EFe=Pe({huberLoss_:function(e,t,n,r,a){r===void 0&&(r=1),a===void 0&&(a=vo.SUM_BY_NONZERO_WEIGHTS);var i=xe(e,"labels","huberLoss"),o=xe(t,"predictions","huberLoss"),s=null;n!=null&&(s=xe(n,"weights","huberLoss")),wr(i.shape,o.shape,"Error in huberLoss: ");var l=zt(r),u=o.sub(i).abs(),d=Zie(u,l),f=u.sub(d),h=zt(.5).mul(d.square()).add(l.mul(f));return Wd(h,s,a)}}),NFe=Pe({logLoss_:function(e,t,n,r,a){r===void 0&&(r=1e-7),a===void 0&&(a=vo.SUM_BY_NONZERO_WEIGHTS);var i=xe(e,"labels","logLoss"),o=xe(t,"predictions","logLoss"),s=null;n!=null&&(s=xe(n,"weights","logLoss")),wr(i.shape,o.shape,"Error in logLoss: ");var l=zt(1),u=zt(r),d=i.mul(o.add(u).log()).neg().sub(l.sub(i).mul(l.sub(o).add(u).log()));return Wd(d,s,a)}}),kFe=Pe({meanSquaredError_:function(e,t,n,r){r===void 0&&(r=vo.SUM_BY_NONZERO_WEIGHTS);var a=xe(e,"labels","meanSquaredError"),i=xe(t,"predictions","meanSquaredError"),o=null;n!=null&&(o=xe(n,"weights","meanSquaredError")),wr(a.shape,i.shape,"Error in meanSquaredError: ");var s=a.squaredDifference(i);return Wd(s,o,r)}}),jFe=Pe({sigmoidCrossEntropy_:function(e,t,n,r,a){r===void 0&&(r=0),a===void 0&&(a=vo.SUM_BY_NONZERO_WEIGHTS);var i=xe(e,"multiClassLabels","sigmoidCrossEntropy"),o=xe(t,"logits","sigmoidCrossEntropy"),s=null;if(n!=null&&(s=xe(n,"weights","sigmoidCrossEntropy")),wr(i.shape,o.shape,"Error in sigmoidCrossEntropy: "),r>0){var l=zt(r),u=zt(1),d=zt(.5);i=i.mul(u.sub(l)).add(d.mul(l))}var f=function(h,p){var m=xe(h,"labels","sigmoidCrossEntropyWithLogits"),g=xe(p,"logits","sigmoidCrossEntropyWithLogits");wr(m.shape,g.shape,"Error in sigmoidCrossEntropyWithLogits: ");var y=g.relu(),x=g.mul(m),b=g.abs().neg().exp().log1p();return y.sub(x).add(b)}(i,o);return Wd(f,s,a)}}),TFe=Pe({softmaxCrossEntropy_:function(e,t,n,r,a){r===void 0&&(r=0),a===void 0&&(a=vo.SUM_BY_NONZERO_WEIGHTS);var i=xe(e,"onehotLabels","softmaxCrossEntropy"),o=xe(t,"logits","softmaxCrossEntropy"),s=null;if(n!=null&&(s=xe(n,"weights","softmaxCrossEntropy")),wr(i.shape,o.shape,"Error in softmaxCrossEntropy: "),r>0){var l=zt(r),u=zt(1),d=zt(i.shape[1]);i=i.mul(u.sub(l)).add(l.div(d))}var f=function(h,p,m){if(m===void 0&&(m=-1),m===-1&&(m=p.rank-1),m!==p.rank-1)throw Error("Softmax cross entropy along a non-last dimension is not yet supported. Labels / logits was rank "+p.rank+" and dim was "+m);return Hj(function(g,y,x){var b=y.logSumExp([m],!0),w=y.toFloat().sub(b);return x([g,w]),{value:w.mul(g).neg().sum([m]),gradFunc:function(_,S){var k=S[0],N=S[1],P=us(_.shape,[m]);return[_.reshape(P).mul(k.toFloat().sub(N.exp())),_.reshape(P).mul(N.exp().sub(k.toFloat()))]}}})(h,p)}(i,o);return Wd(f,s,a)}}),PFe=Object.freeze({get Reduction(){return vo},absoluteDifference:_Fe,computeWeightedLoss:Wd,cosineDistance:SFe,hingeLoss:CFe,huberLoss:EFe,logLoss:NFe,meanSquaredError:kFe,sigmoidCrossEntropy:jFe,softmaxCrossEntropy:TFe});function eV(e,t){return t===void 0&&(t=!1),Ie.tidy(function(){if(e.shape.length!==2)throw new Error("qr2d() requires a 2D Tensor, but got a "+e.shape.length+"D Tensor.");for(var n=e.shape[0],r=e.shape[1],a=die(n),i=e.clone(),o=eh([[1]],[1,1]),s=o.clone(),l=n>=r?r:n,u=function(f){var h,p=i,m=s,g=a;h=Ie.tidy(function(){var y=i.slice([f,f],[n-f,1]),x=y.norm(),b=i.slice([f,f],[1,1]),w=eh([[-1]]).where(b.greater(0),eh([[1]])),_=b.sub(w.mul(x)),S=y.div(_);s=S.shape[0]===1?o.clone():o.concat(S.slice([1,0],[S.shape[0]-1,S.shape[1]]),0);var k=w.matMul(_).div(x).neg(),N=i.slice([f,0],[n-f,r]),P=k.mul(s);if(f===0)i=N.sub(P.matMul(s.transpose().matMul(N)));else{var T=N.sub(P.matMul(s.transpose().matMul(N)));i=i.slice([0,0],[f,r]).concat(T,0)}var j=a.slice([0,f],[n,a.shape[1]-f]);if(f===0)a=j.sub(j.matMul(s).matMul(P.transpose()));else{var D=j.sub(j.matMul(s).matMul(P.transpose()));a=a.slice([0,0],[n,f]).concat(D,1)}return[s,i,a]}),s=h[0],i=h[1],a=h[2],ss([p,m,g])},d=0;d<l;++d)u(d);return!t&&n>r&&(a=a.slice([0,0],[n,r]),i=i.slice([0,0],[r,r])),[a,i]})}var AFe=Pe({bandPart_:function(e,t,n){if(t%1!=0)throw new Error("bandPart(): numLower must be an integer, got "+t+".");if(n%1!=0)throw new Error("bandPart(): numUpper must be an integer, got "+n+".");var r=xe(e,"a","bandPart");if(r.rank<2)throw new Error("bandPart(): Rank must be at least 2, got "+r.rank+".");var a=r.shape,i=r.shape.slice(-2),o=i[0],s=i[1];if(!(t<=o))throw new Error("bandPart(): numLower ("+t+") must not be greater than the number of rows ("+o+").");if(!(n<=s))throw new Error("bandPart(): numUpper ("+n+") must not be greater than the number of columns ("+s+").");t<0&&(t=o),n<0&&(n=s);var l=xE(0,o,1,"int32").reshape([-1,1]),u=xE(0,s,1,"int32"),d=gi(l,u),f=Gj(d.lessEqual(zt(+t,"int32")),d.greaterEqual(zt(-n,"int32"))),h=ta([o,s],r.dtype);return Fs(pi(r.reshape([-1,o,s])).map(function(p){return mm(f,p,h)})).reshape(a)}}),DFe=Pe({gramSchmidt_:function(e){var t;if(Array.isArray(e)){t=!1,_e(e!=null&&e.length>0,function(){return"Gram-Schmidt process: input must not be null, undefined, or empty"});for(var n=e[0].shape[0],r=function(l){_e(e[l].shape[0]===n,function(){return"Gram-Schmidt: Non-unique lengths found in the input vectors: ("+e[l].shape[0]+" vs. "+n+")"})},a=1;a<e.length;++a)r(a)}else t=!0,e=b5(e,e.shape[0],0).map(function(l){return pie(l,[0])});_e(e.length<=e[0].shape[0],function(){return"Gram-Schmidt: Number of vectors ("+e.length+") exceeds number of dimensions ("+e[0].shape[0]+")."});var i=[],o=e,s=function(l){i.push(Ie.tidy(function(){var u=o[l];if(l>0)for(var d=0;d<l;++d){var f=uoe(i[d].mulStrict(u)).mul(i[d]);u=u.sub(f)}return u.div(poe(u,"euclidean"))}))};for(a=0;a<e.length;++a)s(a);return t?Fs(i,0):i}}),OFe=Pe({qr_:function(e,t){if(t===void 0&&(t=!1),e.rank<2)throw new Error("qr() requires input tensor to have a rank >= 2, but got rank "+e.rank);if(e.rank===2)return eV(e,t);var n=e.shape.slice(0,e.shape.length-2).reduce(function(o,s){return o*s}),r=pi(e.reshape([n,e.shape[e.shape.length-2],e.shape[e.shape.length-1]]),0),a=[],i=[];return r.forEach(function(o){var s=eV(o,t),l=s[0],u=s[1];a.push(l),i.push(u)}),[Fs(a,0).reshape(e.shape),Fs(i,0).reshape(e.shape)]}}),MFe=Object.freeze({bandPart:AFe,gramSchmidt:DFe,qr:OFe});function Zj(e,t,n,r,a,i){r==null&&(r=.5),a==null&&(a=Number.NEGATIVE_INFINITY),i==null&&(i=0);var o=e.shape[0];return n=Math.min(n,o),_e(0<=r&&r<=1,function(){return"iouThreshold must be in [0, 1], but was '"+r+"'"}),_e(e.rank===2,function(){return"boxes must be a 2D tensor, but was of rank '"+e.rank+"'"}),_e(e.shape[1]===4,function(){return"boxes must have 4 columns, but 2nd dimension was "+e.shape[1]}),_e(t.rank===1,function(){return"scores must be a 1D tensor"}),_e(t.shape[0]===o,function(){return"scores has incompatible shape with boxes. Expected "+o+", but was "+t.shape[0]}),_e(0<=i&&i<=1,function(){return"softNmsSigma must be in [0, 1], but was '"+i+"'"}),{maxOutputSize:n,iouThreshold:r,scoreThreshold:a,softNmsSigma:i}}var IFe=Pe({resizeBilinear_:function(e,t,n){n===void 0&&(n=!1);var r=xe(e,"images","resizeBilinear");_e(r.rank===3||r.rank===4,function(){return"Error in resizeBilinear: x must be rank 3 or 4, but got rank "+r.rank+"."}),_e(t.length===2,function(){return"Error in resizeBilinear: new shape must 2D, but got shape "+t+"."});var a=r,i=!1;r.rank===3&&(i=!0,a=r.as4D(1,r.shape[0],r.shape[1],r.shape[2]));var o=t[0],s=t[1],l=Ie.runKernelFunc(function(u,d){return d([a]),u.resizeBilinear(a,o,s,n)},{x:a},function(u,d){return{x:function(){return Ie.runKernelFunc(function(f){return f.resizeBilinearBackprop(u,d[0],n)},{})}}},"ResizeBilinear",{alignCorners:n,newHeight:o,newWidth:s});return i?l.as3D(l.shape[1],l.shape[2],l.shape[3]):l}}),RFe=Pe({resizeNearestNeighbor_:function(e,t,n){n===void 0&&(n=!1);var r=xe(e,"images","resizeNearestNeighbor");_e(r.rank===3||r.rank===4,function(){return"Error in resizeNearestNeighbor: x must be rank 3 or 4, but got rank "+r.rank+"."}),_e(t.length===2,function(){return"Error in resizeNearestNeighbor: new shape must 2D, but got shape "+t+"."}),_e(r.dtype==="float32"||r.dtype==="int32",function(){return"`images` must have `int32` or `float32` as dtype"});var a=r,i=!1;r.rank===3&&(i=!0,a=r.as4D(1,r.shape[0],r.shape[1],r.shape[2]));var o=t[0],s=t[1],l=Ie.runKernelFunc(function(u,d){return d([a]),u.resizeNearestNeighbor(a,o,s,n)},{batchImages:a},function(u,d){return{batchImages:function(){return Ie.runKernelFunc(function(f){return f.resizeNearestNeighborBackprop(u,d[0],n)},{})}}});return i?l.as3D(l.shape[1],l.shape[2],l.shape[3]):l}}),FFe=Pe({nonMaxSuppression_:function(e,t,n,r,a){r===void 0&&(r=.5),a===void 0&&(a=Number.NEGATIVE_INFINITY);var i=xe(e,"boxes","nonMaxSuppression"),o=xe(t,"scores","nonMaxSuppression"),s=Zj(i,o,n,r,a);n=s.maxOutputSize,r=s.iouThreshold,a=s.scoreThreshold;var l={maxOutputSize:n,iouThreshold:r,scoreThreshold:a};return Ie.runKernelFunc(function(u){return u.nonMaxSuppression(i,o,n,r,a)},{boxes:i,scores:o},null,"NonMaxSuppressionV3",l)}}),LFe=function(e,t,n,r,a){return r===void 0&&(r=.5),a===void 0&&(a=Number.NEGATIVE_INFINITY),an(this,void 0,void 0,function(){var i,o,s,l,u,d,f;return on(this,function(h){switch(h.label){case 0:return i=xe(e,"boxes","nonMaxSuppressionAsync"),o=xe(t,"scores","nonMaxSuppressionAsync"),s=Zj(i,o,n,r,a),n=s.maxOutputSize,r=s.iouThreshold,a=s.scoreThreshold,[4,Promise.all([i.data(),o.data()])];case 1:return l=h.sent(),u=l[0],d=l[1],f=C5(u,d,n,r,a),i!==e&&i.dispose(),o!==t&&o.dispose(),[2,f]}})})},$Fe=Pe({nonMaxSuppressionWithScore_:function(e,t,n,r,a,i){r===void 0&&(r=.5),a===void 0&&(a=Number.NEGATIVE_INFINITY),i===void 0&&(i=0);var o=xe(e,"boxes","nonMaxSuppression"),s=xe(t,"scores","nonMaxSuppression"),l=Zj(o,s,n,r,a,i),u={maxOutputSize:n=l.maxOutputSize,iouThreshold:r=l.iouThreshold,scoreThreshold:a=l.scoreThreshold,softNmsSigma:i=l.softNmsSigma},d=Ie.runKernel("NonMaxSuppressionV5",{boxes:o,scores:s},u);return{selectedIndices:d[0],selectedScores:d[1]}}}),BFe=function(e,t,n,r,a,i){return r===void 0&&(r=.5),a===void 0&&(a=Number.NEGATIVE_INFINITY),i===void 0&&(i=0),an(this,void 0,void 0,function(){var o,s,l,u,d,f,h;return on(this,function(p){switch(p.label){case 0:return o=xe(e,"boxes","nonMaxSuppressionAsync"),s=xe(t,"scores","nonMaxSuppressionAsync"),l=Zj(o,s,n,r,a,i),n=l.maxOutputSize,r=l.iouThreshold,a=l.scoreThreshold,i=l.softNmsSigma,[4,Promise.all([o.data(),s.data()])];case 1:return u=p.sent(),d=u[0],f=u[1],h=E5(d,f,n,r,a,i),o!==e&&o.dispose(),s!==t&&s.dispose(),[2,h]}})})},zFe=Pe({cropAndResize_:function(e,t,n,r,a,i){var o=xe(e,"image","cropAndResize"),s=xe(t,"boxes","cropAndResize","float32"),l=xe(n,"boxInd","cropAndResize","int32");a=a||"bilinear",i=i||0;var u=s.shape[0];return _e(o.rank===4,function(){return"Error in cropAndResize: image must be rank 4,but got rank "+o.rank+"."}),_e(s.rank===2&&s.shape[1]===4,function(){return"Error in cropAndResize: boxes must be have size ["+u+",4] but had shape "+s.shape+"."}),_e(l.rank===1&&l.shape[0]===u,function(){return"Error in cropAndResize: boxInd must be have size ["+u+"] but had shape "+s.shape+"."}),_e(r.length===2,function(){return"Error in cropAndResize: cropSize must be of length 2, but got length "+r.length+"."}),_e(r[0]>=1&&r[1]>=1,function(){return"cropSize must be atleast [1,1], but was "+r}),_e(a==="bilinear"||a==="nearest",function(){return"method must be bilinear or nearest, but was "+a}),Ie.runKernelFunc(function(d,f){return d.cropAndResize(o,s,l,r,a,i)},{images:o,boxes:s,boxInd:l},null,"CropAndResize",{method:a,extrapolationValue:i,cropSize:r})}}),$5=Object.freeze({resizeBilinear:IFe,resizeNearestNeighbor:RFe,nonMaxSuppression:FFe,nonMaxSuppressionAsync:LFe,nonMaxSuppressionWithScore:$Fe,nonMaxSuppressionWithScoreAsync:BFe,cropAndResize:zFe}),B5=function(e,t){return!(e>0)||t==="linear"},z5=function(e,t,n){if(n==null||n==="linear")return e;if(n==="relu")return e.mul(t.step());throw new Error("Gradient for activation "+n+" has not been implemented yet.")},U5=function(e,t){var n=t,r=mi(e.shape,t.shape);return r.length>0&&(n=n.sum(r)),n.reshape(e.shape)},W5=function(e,t,n){if(t==="linear")return e;if(t==="relu")return Sa(e);if(t==="elu")return doe(e);if(t==="relu6")return hoe(e);if(t==="prelu")return foe(e,n);throw new Error("Unknown fused activation "+t+".")},UFe=Pe({fusedMatMul_:function(e){var t,n=e.a,r=e.b,a=e.transposeA,i=a!==void 0&&a,o=e.transposeB,s=o!==void 0&&o,l=e.bias,u=e.activation,d=u===void 0?"linear":u,f=e.preluActivationWeights;if(B5(Ie.state.gradientDepth,d)===!1){var h=Kj(n,r,i,s);return l!=null&&(h=Gn(h,l)),W5(h,d,f)}var p=xe(n,"a","fused matMul"),m=xe(r,"b","fused matMul");t=Na(p,m),p=t[0],m=t[1];var g=i?p.shape[p.rank-2]:p.shape[p.rank-1],y=s?m.shape[m.rank-1]:m.shape[m.rank-2],x=i?p.shape[p.rank-1]:p.shape[p.rank-2],b=s?m.shape[m.rank-2]:m.shape[m.rank-1],w=p.shape.slice(0,-2),_=m.shape.slice(0,-2),S=un(w),k=un(_);_e(p.rank>=2&&m.rank>=2&&p.rank===m.rank,function(){return"Error in fused matMul: inputs must have the same rank of at least 2, got ranks "+p.rank+" and "+m.rank+"."}),_e(Pi(w,_),function(){return"Error in fused matMul: outer dimensions ("+w+") and ("+_+") of Tensors with shapes "+p.shape+" and "+m.shape+" must match."}),_e(g===y,function(){return"Error in fused matMul: inner shapes ("+g+") and ("+y+") of Tensors with shapes "+p.shape+" and "+m.shape+" and transposeA="+i+" and transposeB="+s+" must match."});var N,P,T=p.shape.slice(0,-2).concat([x,b]),j=i?p.as3D(S,g,x):p.as3D(S,x,g),D=s?m.as3D(k,b,y):m.as3D(k,y,b);l!=null&&Xn(T,(N=Na(N=xe(l,"bias","fused matMul"),p)[0]).shape),f!=null&&(P=xe(f,"prelu weights","fused matMul"));var M={a:j,b:D};l!=null&&(M.bias=N),f!=null&&(M.preluActivationWeights=P);var R=[j,D];return Ie.runKernelFunc(function(W,B){var V=W.fusedBatchMatMul({a:j,b:D,transposeA:i,transposeB:s,bias:N,activation:d,preluActivationWeights:P});return B([j,D,V]),V},M,function(W,B){var V=B[0],q=B[1],I=B[2],O=z5(W,I,d),H={};return l!=null&&(H={bias:function(){return U5(N,O)}}),Object.assign(i||s?!i&&s?{a:function(){return O.matMul(q,!1,!1)},b:function(){return O.matMul(V,!0,!1)}}:i&&!s?{a:function(){return q.matMul(O,!1,!0)},b:function(){return V.matMul(O,!1,!1)}}:{a:function(){return q.matMul(O,!0,!0)},b:function(){return O.matMul(V,!0,!0)}}:{a:function(){return O.matMul(q,!1,!0)},b:function(){return V.matMul(O,!0,!1)}},H)},"_FusedMatMul",{transposeA:i,transposeB:s,activation:d},R,[!0]).reshape(T)}}),WFe=Pe({fusedConv2d_:function(e){var t=e.x,n=e.filter,r=e.strides,a=e.pad,i=e.dataFormat,o=i===void 0?"NHWC":i,s=e.dilations,l=s===void 0?[1,1]:s,u=e.dimRoundingMode,d=e.bias,f=e.activation,h=f===void 0?"linear":f,p=e.preluActivationWeights;if(h=h||"linear",B5(Ie.state.gradientDepth,h)===!1){var m=Rl(t,n,r,a,o,l,u);return d!=null&&(m=Gn(m,d)),W5(m,h,p)}var g=xe(t,"x","conv2d"),y=xe(n,"filter","conv2d"),x=g,b=!1;g.rank===3&&(b=!0,x=g.as4D(1,g.shape[0],g.shape[1],g.shape[2])),_e(x.rank===4,function(){return"Error in fused conv2d: input must be rank 4, but got rank "+x.rank+"."}),_e(y.rank===4,function(){return"Error in fused conv2d: filter must be rank 4, but got rank "+y.rank+"."}),u!=null&&_e(qa(a),function(){return"Error in fused conv2d: pad must be an integer when using, dimRoundingMode "+u+" but got pad "+a+"."}),_e(x.shape[3]===y.shape[2],function(){return"Error in conv2d: depth of input ("+x.shape[3]+") must match input depth for filter "+y.shape[2]+"."}),_e(ds(r,l),function(){return"Error in conv2D: Either strides or dilations must be 1. Got strides "+r+" and dilations '"+l+"'"}),_e(o==="NHWC",function(){return"Error in conv2d: got dataFormat of "+o+" but only NHWC is currently supported."});var w,_,S=Im(x.shape,y.shape,r,l,a,u);d!=null&&(w=Na(w=xe(d,"bias","fused conv2d"),g)[0],Xn(S.outShape,w.shape)),p!=null&&(_=xe(p,"prelu weights","fused conv2d"));var k={x,filter:y};d!=null&&(k.bias=w),p!=null&&(k.preluActivationWeights=_);var N=[y,x],P=Ie.runKernelFunc(function(T,j){var D=T.fusedConv2d({input:x,filter:y,convInfo:S,bias:w,activation:h,preluActivationWeights:_});return j([y,x,D]),D},k,function(T,j){var D=j,M=D[0],R=D[1],W=D[2],B=z5(T,W,h);_e(o0(l),function(){return"Error in gradient of fused conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '"+l+"'"});var V={};return d!=null&&(V={bias:function(){return U5(w,B)}}),Object.assign({x:function(){return roe(R.shape,B,M,r,a)},filter:function(){return O5(R,B,M.shape,r,a)}},V)},"FusedConv2D",{convInfo:S,activation:h},N,[!0]);return b?P.as3D(P.shape[1],P.shape[2],P.shape[3]):P}}),VFe=Pe({fusedDepthwiseConv2d_:function(e){var t=e.x,n=e.filter,r=e.strides,a=e.pad,i=e.dataFormat,o=i===void 0?"NHWC":i,s=e.dilations,l=s===void 0?[1,1]:s,u=e.dimRoundingMode,d=e.bias,f=e.activation,h=f===void 0?"linear":f,p=e.preluActivationWeights;if(B5(Ie.state.gradientDepth,h)===!1){var m=Yj(t,n,r,a,o,l,u);return d!=null&&(m=Gn(m,d)),W5(m,h,p)}var g=xe(t,"x","depthwiseConv2d"),y=xe(n,"filter","depthwiseConv2d"),x=g,b=!1;g.rank===3&&(b=!0,x=g.as4D(1,g.shape[0],g.shape[1],g.shape[2])),_e(x.rank===4,function(){return"Error in fused depthwiseConv2d: input must be rank 4, but got rank "+x.rank+"."}),_e(y.rank===4,function(){return"Error in fused depthwiseConv2d: filter must be rank 4, but got rank "+y.rank+"."}),_e(x.shape[3]===y.shape[2],function(){return"Error in fused depthwiseConv2d: number of input channels ("+x.shape[3]+") must match the inChannels dimension in filter "+y.shape[2]+"."}),l==null&&(l=[1,1]),_e(ds(r,l),function(){return"Error in fused depthwiseConv2d: Either strides or dilations must be 1. Got strides "+r+" and dilations '"+l+"'"}),u!=null&&_e(qa(a),function(){return"Error in fused depthwiseConv2d: pad must be an integer when using dimRoundingMode "+u+" but got pad "+a+"."});var w,_,S=Im(x.shape,y.shape,r,l,a,u,!0);d!=null&&(w=Na(w=xe(d,"bias","fused conv2d"),g)[0],Xn(S.outShape,w.shape)),p!=null&&(_=xe(p,"prelu weights","fused depthwiseConv2d"));var k={x,filter:y};d!=null&&(k.bias=w),p!=null&&(k.preluActivationWeights=_);var N=[y,x],P=Ie.runKernelFunc(function(T,j){var D=T.fusedDepthwiseConv2D({input:x,filter:y,convInfo:S,bias:w,activation:h,preluActivationWeights:_});return j([y,x,D]),D},k,function(T,j){_e(o0(l),function(){return"Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '"+l+"'"});var D=j[0],M=j[1],R=j[2],W=z5(T,R,h),B={};return d!=null&&(B={bias:function(){return U5(w,W)}}),Object.assign({x:function(){return aoe(M.shape,W,D,S)},filter:function(){return ioe(M,W,D.shape,S)}},B)},"FusedDepthwiseConv2D",{convInfo:S,activation:h},N,[!0]);return b?P.as3D(P.shape[1],P.shape[2],P.shape[3]):P}}),HFe=Object.freeze({matMul:UFe,conv2d:WFe,depthwiseConv2d:VFe}),qFe=Object.freeze({image:$5,linalg:MFe,losses:PFe,spectral:mFe,fused:HFe,signal:bFe,square:NIe,squaredDifference:zie,conv1d:IRe,conv2d:Rl,conv3d:RRe,depthwiseConv2d:Yj,separableConv2d:M5,conv2dTranspose:FRe,conv3dTranspose:LRe,op:Pe,batchNormalization2d:nRe,batchNormalization3d:rRe,batchNormalization4d:aRe,batchNormalization:iRe,batchNorm:Gie,batchNorm2d:oRe,batchNorm3d:sRe,batchNorm4d:lRe,booleanMaskAsync:MRe,complex:Wi,real:vl,imag:tu,concat:hi,concat1d:HOe,concat2d:qOe,concat3d:GOe,concat4d:YOe,split:b5,matMul:Kj,dot:$Re,outerProduct:BRe,reverse:n2,reverse1d:zRe,reverse2d:URe,reverse3d:WRe,reverse4d:VRe,maxPool:bi,avgPool:r2,pool:HRe,maxPool3d:qRe,avgPool3d:GRe,slice:ju,slice1d:YRe,slice2d:KRe,slice3d:loe,slice4d:XRe,abs:kIe,acos:jIe,acosh:TIe,asin:PIe,asinh:AIe,atan:DIe,atanh:OIe,ceil:MIe,clipByValue:P5,cos:IIe,cosh:RIe,erf:FIe,exp:cM,expm1:LIe,floor:$Ie,log:BIe,log1p:zIe,logSigmoid:UIe,neg:kE,reciprocal:WIe,round:VIe,rsqrt:Uie,sigmoid:Wie,sign:HIe,isNaN:qIe,isInf:GIe,isFinite:YIe,sin:KIe,sinh:XIe,softplus:ZIe,sqrt:QIe,step:JIe,tan:eRe,tanh:tRe,all:ZRe,any:QRe,argMax:JRe,argMin:eFe,logSumExp:tFe,max:Xj,mean:nFe,min:rFe,moments:aFe,sum:uoe,prod:iFe,equal:Qie,equalStrict:CRe,greater:ERe,greaterEqual:Jie,greaterEqualStrict:NRe,greaterStrict:kRe,less:jRe,lessEqual:TRe,lessEqualStrict:PRe,lessStrict:ARe,notEqual:DRe,notEqualStrict:ORe,add:Gn,addN:dRe,addStrict:fRe,atan2:hRe,div:ic,divNoNan:pRe,divStrict:mRe,floorDiv:Xie,maximum:A5,maximumStrict:gRe,minimum:Zie,minimumStrict:vRe,mod:yRe,modStrict:xRe,mul:bo,mulStrict:bRe,pow:jE,powStrict:wRe,squaredDifferenceStrict:_Re,sub:gi,subStrict:SRe,elu:doe,leakyRelu:oFe,prelu:foe,relu:Sa,relu6:hoe,selu:sFe,logicalAnd:Gj,logicalNot:cRe,logicalOr:Yie,logicalXor:uRe,where:mm,whereAsync:Kie,buffer:Pn,print:r3e,batchToSpaceND:uie,broadcastTo:a3e,cast:i3e,clone:o3e,cumsum:s3e,depthToSpace:l3e,expandDims:gl,eye:die,multinomial:c3e,oneHot:iM,pad:Mm,pad1d:u3e,pad2d:d3e,pad3d:f3e,pad4d:h3e,rand:p3e,randomNormal:m3e,randomGamma:g3e,randomUniform:fie,reshape:cc,spaceToBatchND:hie,squeeze:pie,stack:Fs,tile:mv,truncatedNormal:v3e,unstack:pi,setdiff1dAsync:y3e,fill:yu,linspace:VOe,ones:ey,range:xE,scalar:zt,tensor:Gi,tensor1d:ei,tensor2d:eh,tensor3d:x5,tensor4d:Go,tensor5d:zOe,tensor6d:UOe,variable:WOe,zeros:ta,onesLike:cie,zerosLike:or,transpose:fh,softmax:Ud,logSoftmax:E3e,localResponseNormalization:lFe,norm:poe,gather:D5,unsortedSegmentSum:eoe,basicLSTMCell:cFe,multiRNNCell:uFe,movingAverage:dFe,stridedSlice:fFe,topk:hFe,scatterND:pFe,fft:I5,ifft:TE,rfft:R5,irfft:moe,sparseToDense:gFe,gatherND:vFe,diag:yFe,dropout:xFe,hannWindow:F5,hammingWindow:voe,frame:L5,stft:yoe,inTopKAsync:wFe});function mt(e,t){Array.isArray(e)||(e=[e]),e.forEach(function(n){n!=null&&_e(n.dtype!=="complex64",function(){return t+" does not support complex64 tensors."})})}function _4(e,t,n,r){if(n==="linear")return e.linear(t);if(n==="relu")return e.relu(t);if(n==="elu")return e.elu(t);if(n==="relu6")return e.relu6(t);if(n==="prelu")return e.prelu(t,r);throw new Error("Activation "+n+" has not been implemented for the CPU backend.")}var GFe=function(e){function t(){var n=e.call(this)||this;return n.blockSize=48,n.firstUse=!0,n.data=new wie(n,Ie),n}return Cc(t,e),t.prototype.write=function(n,r,a){this.firstUse&&(this.firstUse=!1,lt().get("IS_NODE")&&vE(`
============================
Hi there . Looks like you are running TensorFlow.js in Node.js. To speed things up dramatically, install our node backend, which binds to TensorFlow C++, by running npm i @tensorflow/tfjs-node, or npm i @tensorflow/tfjs-node-gpu if you have CUDA. Then call require('@tensorflow/tfjs-node'); (-gpu suffix for CUDA) at the start of your program. Visit https://github.com/tensorflow/tfjs-node for more details.
============================`));var i={};return this.data.set(i,{values:n,dtype:a}),i},t.prototype.move=function(n,r,a,i){this.data.set(n,{values:r,dtype:i})},t.prototype.numDataIds=function(){return this.data.numDataIds()},t.prototype.read=function(n){return an(this,void 0,void 0,function(){return on(this,function(r){return[2,this.readSync(n)]})})},t.prototype.readSync=function(n){var r=this.data.get(n),a=r.dtype,i=r.complexTensors;return a==="complex64"?lM(this.readSync(i.real.dataId),this.readSync(i.imag.dataId)):this.data.get(n).values},t.prototype.bufferSync=function(n){var r=this.readSync(n.dataId),a=r;if(n.dtype==="string")try{a=r.map(function(i){return pE(i)})}catch{throw new Error("Failed to decode encoded string bytes into utf-8")}return Pn(n.shape,n.dtype,a)},t.prototype.makeOutput=function(n,r,a){var i=this.write(n,r,a);return Ie.makeTensorFromDataId(i,r,a,this)},t.prototype.disposeData=function(n){if(this.data.has(n)){var r=this.data.get(n).complexTensors;r!=null&&(r.real.dispose(),r.imag.dispose()),this.data.delete(n)}},t.prototype.time=function(n){return an(this,void 0,void 0,function(){var r;return on(this,function(a){return r=Xc(),n(),[2,{kernelMs:Xc()-r}]})})},t.prototype.memory=function(){return{unreliable:!0,reasons:["The reported memory is an upper bound. Due to automatic garbage collection, the true allocated memory may be less."]}},t.prototype.complex=function(n,r){var a=this.makeOutput(null,n.shape,"complex64");return this.data.get(a.dataId).complexTensors={real:Ie.keep(n.clone()),imag:Ie.keep(r.clone())},a},t.prototype.real=function(n){return this.data.get(n.dataId).complexTensors.real.clone()},t.prototype.imag=function(n){return this.data.get(n.dataId).complexTensors.imag.clone()},t.prototype.slice=function(n,r,a){if(mt(n,"slice"),xie(n.shape,r,a)){var i=bie(r,n.strides),o=un(a);return Gi(this.readSync(n.dataId).subarray(i,i+o),a,n.dtype)}for(var s=Pn(a,n.dtype),l=this.bufferSync(n),u=0;u<s.size;++u){var d=s.indexToLoc(u).map(function(f,h){return f+r[h]});s.values[u]=l.get.apply(l,d)}return s.toTensor()},t.prototype.stridedSlice=function(n,r,a,i){mt(n,"stridedSlice");var o=_5(r,a,i);if(o.some(function(p){return p===0}))return Gi([],o);for(var s=Pn(o,n.dtype),l=this.bufferSync(n),u=0;u<s.size;u++){for(var d=s.indexToLoc(u),f=new Array(d.length),h=0;h<f.length;h++)f[h]=d[h]*i[h]+r[h];s.set.apply(s,[l.get.apply(l,f)].concat(d))}return s.toTensor()},t.prototype.diag=function(n){for(var r=this.readSync(n.dataId),a=Pn([n.size,n.size],n.dtype),i=a.values,o=0;o<r.length;o++)i[o*n.size+o]=r[o];return a.toTensor()},t.prototype.unstack=function(n,r){for(var a=n.shape[r],i=new Array(n.rank-1),o=0,s=0;s<n.rank;s++)s!==r&&(i[o++]=n.shape[s]);var l=new Array(n.rank).fill(0),u=n.shape.slice();u[r]=1;var d=new Array(a);for(s=0;s<d.length;s++)l[r]=s,d[s]=this.slice(n,l,u).reshape(i);return d},t.prototype.reverse=function(n,r){mt(n,"reverse");for(var a=Pn(n.shape,n.dtype),i=this.bufferSync(n),o=function(l){var u=a.indexToLoc(l),d=u.slice();r.forEach(function(f){return d[f]=n.shape[f]-1-d[f]}),a.set.apply(a,[i.get.apply(i,d)].concat(u))},s=0;s<a.size;s++)o(s);return a.toTensor()},t.prototype.concat=function(n,r){var a=this;if(n[0].dtype==="complex64"){var i=n.map(function(p){return vl(p)}),o=n.map(function(p){return tu(p)});return Wi(this.concat(i,r),this.concat(o,r))}var s=n.map(function(p){var m=un(p.shape.slice(r));return p.as2D(-1,m)}),l=i0(s.map(function(p){return p.shape}),1),u=Pn(l,n[0].dtype).values;if(s[0].shape[0]===1){var d=0;s.forEach(function(p){u.set(a.readSync(p.dataId),d),d+=p.size})}else{var f=0;s.forEach(function(p){for(var m=a.readSync(p.dataId),g=0,y=0;y<p.shape[0];++y)for(var x=y*l[1]+f,b=0;b<p.shape[1];++b)u[x+b]=m[g++];f+=p.shape[1]})}var h=i0(n.map(function(p){return p.shape}),r);return Gi(u,h,n[0].dtype)},t.prototype.neg=function(n){return mt(n,"neg"),this.multiply(zt(-1),n)},t.prototype.add=function(n,r){return n.dtype==="complex64"||r.dtype==="complex64"?this.broadcastedBinaryComplexOp(n.cast("complex64"),r.cast("complex64"),function(a,i,o,s){return{real:a+o,imag:i+s}}):this.broadcastedBinaryOp(n,r,Hi(n.dtype,r.dtype),function(a,i){return a+i})},t.prototype.addN=function(n){var r=this;mt(n,"addN");for(var a=n.map(function(d){return r.readSync(d.dataId)}),i=Pn(n[0].shape,n[0].dtype),o=i.values,s=0;s<n.length;s++)for(var l=a[s],u=0;u<o.length;u++)o[u]+=l[u];return i.toTensor()},t.prototype.softmax=function(n,r){var a=vi([r],n.shape),i=this.max(n,a),o=us(i.shape,a),s=this.subtract(n,i.reshape(o)),l=this.exp(s),u=this.sum(l,a).reshape(o);return this.realDivide(l,u)},t.prototype.subtract=function(n,r){return n.dtype==="complex64"||r.dtype==="complex64"?this.broadcastedBinaryComplexOp(n.cast("complex64"),r.cast("complex64"),function(a,i,o,s){return{real:a-o,imag:i-s}}):this.broadcastedBinaryOp(n,r,Hi(n.dtype,r.dtype),function(a,i){return a-i})},t.prototype.pow=function(n,r){return mt([n,r],"pow"),this.broadcastedBinaryOp(n,r,n.dtype,function(a,i){return Math.pow(a,i)})},t.prototype.batchMatMul=function(n,r,a,i){mt([n,r],"matMul");for(var o=a?n.shape[1]:n.shape[2],s=a?n.shape[2]:n.shape[1],l=i?r.shape[1]:r.shape[2],u=n.shape[0],d=this.readSync(n.dataId),f=this.readSync(r.dataId),h=a?[n.strides[0],1,n.strides[1]]:[n.strides[0],n.strides[1],1],p=h[0],m=h[1],g=h[2],y=i?[1,r.strides[1],r.strides[0]]:[r.strides[1],1,r.strides[0]],x=y[0],b=y[1],w=y[2],_=s*l,S=Pn([u,s,l],n.dtype),k=S.values,N=this.blockSize,P=0;P<u;P++)for(var T=0;T<s;T+=N)for(var j=0;j<l;j+=N)for(var D=0;D<o;D+=N)for(var M=Math.min(T+N,s),R=Math.min(j+N,l),W=Math.min(D+N,o),B=T;B<M;B++)for(var V=j;V<R;V++){for(var q=0,I=D;I<W;I++)q+=d[P*p+B*m+I*g]*f[I*x+V*b+P*w];k[P*_+(B*l+V)]+=q}return S.toTensor()},t.prototype.fusedBatchMatMul=function(n){var r=n.a,a=n.b,i=n.transposeA,o=n.transposeB,s=n.bias,l=n.activation,u=n.preluActivationWeights,d=this.batchMatMul(r,a,i,o);return s&&(d=this.add(d,s)),l&&(d=_4(this,d,l,u)),d},t.prototype.multiply=function(n,r){return n.dtype==="complex64"||r.dtype==="complex64"?this.broadcastedBinaryComplexOp(n.cast("complex64"),r.cast("complex64"),function(a,i,o,s){return{real:a*o-i*s,imag:a*s+i*o}}):this.broadcastedBinaryOp(n,r,Hi(n.dtype,r.dtype),function(a,i){return a*i})},t.prototype.realDivide=function(n,r){return mt([n,r],"realDivide"),this.broadcastedBinaryOp(n,r,"float32",function(a,i){return a/i})},t.prototype.floorDiv=function(n,r){return mt([n,r],"floorDiv"),this.broadcastedBinaryOp(n,r,"int32",function(a,i){return Math.floor(a/i)})},t.prototype.sum=function(n,r){mt(n,"sum"),_s("sum",r,n.rank);for(var a=uo(n.shape,r),i=a[0],o=a[1],s=ta(i,Hi(n.dtype,"int32")),l=un(o),u=this.readSync(s.dataId),d=this.readSync(n.dataId),f=0;f<u.length;++f){for(var h=f*l,p=0,m=0;m<l;++m)p+=d[h+m];u[f]=p}return s},t.prototype.prod=function(n,r){mt(n,"sum");for(var a=uo(n.shape,r),i=a[0],o=a[1],s=ta(i,Hi(n.dtype,"int32")),l=un(o),u=this.readSync(s.dataId),d=this.readSync(n.dataId),f=0;f<u.length;++f){for(var h=f*l,p=1,m=0;m<l;++m)p*=d[h+m];u[f]=p}return s},t.prototype.unsortedSegmentSum=function(n,r,a){mt(n,"unsortedSegmentSum");for(var i=[],o=n.rank-r.rank,s=0;s<o;++s)r=r.expandDims(s+1);for(s=0;s<a;++s){var l=zt(s,"int32"),u=Qie(l,r).asType("float32").mul(n).sum(0);i.push(u)}return Fs(i)},t.prototype.argMin=function(n,r){mt(n,"argMin");var a=[r];_s("argMin",a,n.rank);for(var i=uo(n.shape,a),o=i[0],s=i[1],l=ta(o,"int32"),u=un(s),d=this.readSync(l.dataId),f=this.readSync(n.dataId),h=0;h<d.length;++h){for(var p=h*u,m=f[p],g=0,y=0;y<u;++y){var x=f[p+y];x<m&&(m=x,g=y)}d[h]=g}return l},t.prototype.argMax=function(n,r){mt(n,"argMax");var a=[r];_s("argMax",a,n.rank);for(var i=uo(n.shape,a),o=i[0],s=i[1],l=ta(o,"int32"),u=un(s),d=this.readSync(l.dataId),f=this.readSync(n.dataId),h=0;h<d.length;++h){for(var p=h*u,m=f[p],g=0,y=0;y<u;++y){var x=f[p+y];x>m&&(m=x,g=y)}d[h]=g}return l},t.prototype.cumsum=function(n,r,a,i){if(mt(n,"cumsum"),r!==n.rank-1)throw new Error("backend.cumsum in CPU expects an inner-most axis="+(n.rank-1)+" but got axis="+r);for(var o=Hi(n.dtype,"int32"),s=ta(n.shape,o),l=this.readSync(s.dataId),u=this.readSync(n.dataId),d=n.shape[n.rank-1],f=i?function(y,x){return y+d-x-1}:function(y,x){return y+x},h=0;h<u.length;h+=d)for(var p=0;p<d;p++){var m=f(h,p);if(p===0)l[m]=a?0:u[m];else{var g=f(h,p-1);l[m]=a?u[g]+l[g]:u[m]+l[g]}}return s},t.prototype.equal=function(n,r){return mt([n,r],"equal"),this.broadcastedBinaryOp(n,r,"bool",function(a,i){return a===i?1:0})},t.prototype.notEqual=function(n,r){return mt([n,r],"notEqual"),this.broadcastedBinaryOp(n,r,"bool",function(a,i){return a!==i?1:0})},t.prototype.less=function(n,r){return mt([n,r],"less"),this.broadcastedBinaryOp(n,r,"bool",function(a,i){return a<i?1:0})},t.prototype.lessEqual=function(n,r){return mt([n,r],"lessEqual"),this.broadcastedBinaryOp(n,r,"bool",function(a,i){return a<=i?1:0})},t.prototype.greater=function(n,r){return mt([n,r],"greater"),this.broadcastedBinaryOp(n,r,"bool",function(a,i){return a>i?1:0})},t.prototype.greaterEqual=function(n,r){return mt([n,r],"greaterEqual"),this.broadcastedBinaryOp(n,r,"bool",function(a,i){return a>=i?1:0})},t.prototype.logicalNot=function(n){mt(n,"logicalNot");for(var r=this.readSync(n.dataId),a=new Uint8Array(r.length),i=0;i<r.length;++i)a[i]=r[i]?0:1;return this.makeOutput(a,n.shape,"bool")},t.prototype.logicalAnd=function(n,r){return mt([n,r],"logicalAnd"),this.broadcastedBinaryOp(n,r,"bool",function(a,i){return a&&i})},t.prototype.logicalOr=function(n,r){return mt([n,r],"logicalOr"),this.broadcastedBinaryOp(n,r,"bool",function(a,i){return a||i})},t.prototype.select=function(n,r,a){mt([n,r,a],"select");for(var i=this.readSync(n.dataId),o=this.readSync(r.dataId),s=this.readSync(a.dataId),l=ta(r.shape,Hi(r.dtype,a.dtype)),u=this.readSync(l.dataId),d=0,f=n.rank===0||n.rank>1||r.rank===1?1:un(r.shape.slice(1)),h=0;h<i.length;h++)for(var p=0;p<f;p++)i[h]===1?u[d++]=o[h]:u[d++]=s[h];return l},t.prototype.where=function(n){mt([n],"where");var r=this.readSync(n.dataId);return N5(n.shape,r)},t.prototype.topk=function(n,r,a){return mt(n,"topk"),Tie(this.readSync(n.dataId),n.shape,n.dtype,r)},t.prototype.min=function(n,r){mt(n,"min"),_s("min",r,n.rank);for(var a=uo(n.shape,r),i=a[0],o=a[1],s=ta(i,n.dtype),l=un(o),u=this.readSync(s.dataId),d=this.readSync(n.dataId),f=0;f<u.length;++f){for(var h=f*l,p=d[h],m=0;m<l;++m){var g=d[h+m];g<p&&(p=g)}u[f]=p}return s},t.prototype.minimum=function(n,r){return mt([n,r],"minimum"),this.broadcastedBinaryOp(n,r,n.dtype,function(a,i){return Math.min(a,i)})},t.prototype.mod=function(n,r){return mt([n,r],"mod"),this.broadcastedBinaryOp(n,r,n.dtype,function(a,i){var o=a%i;return a<0&&i<0||a>=0&&i>=0?o:(o+i)%i})},t.prototype.max=function(n,r){mt(n,"max"),_s("max",r,n.rank);for(var a=uo(n.shape,r),i=a[0],o=a[1],s=ta(i,n.dtype),l=un(o),u=this.readSync(s.dataId),d=this.readSync(n.dataId),f=0;f<u.length;++f){for(var h=f*l,p=d[h],m=0;m<l;++m){var g=d[h+m];g>p&&(p=g)}u[f]=p}return s},t.prototype.maximum=function(n,r){return mt([n,r],"maximum"),this.broadcastedBinaryOp(n,r,n.dtype,function(a,i){return Math.max(a,i)})},t.prototype.all=function(n,r){mt(n,"all"),_s("all",r,n.rank);for(var a=uo(n.shape,r),i=a[0],o=a[1],s=ta(i,n.dtype),l=un(o),u=this.readSync(s.dataId),d=this.readSync(n.dataId),f=0;f<u.length;++f){for(var h=f*l,p=d[h],m=0;m<l;++m){var g=d[h+m];p=p&&g}u[f]=p}return s},t.prototype.any=function(n,r){mt(n,"any"),_s("any",r,n.rank);for(var a=uo(n.shape,r),i=a[0],o=a[1],s=ta(i,n.dtype),l=un(o),u=this.readSync(s.dataId),d=this.readSync(n.dataId),f=0;f<u.length;++f){for(var h=f*l,p=d[h],m=0;m<l;++m){var g=d[h+m];p=p||g}u[f]=p}return s},t.prototype.squaredDifference=function(n,r){return mt([n,r],"squaredDifference"),this.broadcastedBinaryOp(n,r,n.dtype,function(a,i){var o=a-i;return o*o})},t.prototype.ceil=function(n){mt(n,"ceil");for(var r=this.readSync(n.dataId),a=new Float32Array(r.length),i=0;i<r.length;++i)a[i]=Math.ceil(r[i]);return this.makeOutput(a,n.shape,"float32")},t.prototype.floor=function(n){mt(n,"floor");for(var r=this.readSync(n.dataId),a=new Float32Array(r.length),i=0;i<r.length;++i)a[i]=Math.floor(r[i]);return this.makeOutput(a,n.shape,"float32")},t.prototype.sign=function(n){mt(n,"x");for(var r=this.readSync(n.dataId),a=new Float32Array(r.length),i=0;i<r.length;++i)r[i]<0?a[i]=-1:r[i]>0?a[i]=1:a[i]=0;return this.makeOutput(a,n.shape,"float32")},t.prototype.isNaN=function(n){mt(n,"x");for(var r=this.readSync(n.dataId),a=new Uint8Array(r.length),i=0;i<r.length;++i)Number.isNaN(r[i])&&(a[i]=1);return this.makeOutput(a,n.shape,"bool")},t.prototype.isInf=function(n){mt(n,"x");for(var r=this.readSync(n.dataId),a=new Uint8Array(r.length),i=0;i<r.length;++i)Math.abs(r[i])===1/0&&(a[i]=1);return this.makeOutput(a,n.shape,"bool")},t.prototype.isFinite=function(n){mt(n,"x");for(var r=this.readSync(n.dataId),a=new Uint8Array(r.length),i=0;i<r.length;++i)Number.isFinite(r[i])&&(a[i]=1);return this.makeOutput(a,n.shape,"bool")},t.prototype.round=function(n){mt(n,"round");for(var r=this.readSync(n.dataId),a=new Float32Array(r.length),i=0;i<r.length;++i){var o=Math.floor(r[i]);r[i]-o<.5?a[i]=Math.floor(r[i]):r[i]-o>.5?a[i]=Math.ceil(r[i]):a[i]=o%2==0?o:o+1}return this.makeOutput(a,n.shape,"float32")},t.prototype.exp=function(n){mt(n,"exp");for(var r=this.readSync(n.dataId),a=new Float32Array(r.length),i=0;i<r.length;++i)a[i]=Math.exp(r[i]);return this.makeOutput(a,n.shape,"float32")},t.prototype.expm1=function(n){mt(n,"expm1");for(var r=this.readSync(n.dataId),a=new Float32Array(r.length),i=0;i<r.length;++i)a[i]=Math.expm1(r[i]);return this.makeOutput(a,n.shape,"float32")},t.prototype.log=function(n){mt(n,"log");for(var r=this.readSync(n.dataId),a=new Float32Array(r.length),i=0;i<r.length;++i){var o=r[i];a[i]=Math.log(o)}return this.makeOutput(a,n.shape,"float32")},t.prototype.log1p=function(n){mt(n,"log1p");for(var r=this.readSync(n.dataId),a=new Float32Array(r.length),i=0;i<r.length;++i){var o=r[i];a[i]=Math.log1p(o)}return this.makeOutput(a,n.shape,"float32")},t.prototype.sqrt=function(n){mt(n,"sqrt");for(var r=this.readSync(n.dataId),a=new Float32Array(r.length),i=0;i<r.length;++i){var o=r[i];a[i]=Math.sqrt(o)}return this.makeOutput(a,n.shape,"float32")},t.prototype.rsqrt=function(n){mt(n,"rsqrt");for(var r=this.readSync(n.dataId),a=new Float32Array(r.length),i=0;i<r.length;++i){var o=r[i];a[i]=1/Math.sqrt(o)}return this.makeOutput(a,n.shape,"float32")},t.prototype.reciprocal=function(n){mt(n,"reciprocal");for(var r=this.readSync(n.dataId),a=new Float32Array(r.length),i=0;i<r.length;++i)a[i]=1/r[i];return this.makeOutput(a,n.shape,"float32")},t.prototype.linear=function(n){return n},t.prototype.relu=function(n){mt(n,"relu");for(var r=ta(n.shape,n.dtype),a=this.readSync(r.dataId),i=this.readSync(n.dataId),o=0;o<i.length;++o)a[o]=Math.max(0,i[o]);return r},t.prototype.relu6=function(n){mt(n,"relu");for(var r=ta(n.shape,n.dtype),a=this.readSync(r.dataId),i=this.readSync(n.dataId),o=0;o<i.length;++o)a[o]=Math.min(Math.max(0,i[o]),6);return r},t.prototype.prelu=function(n,r){return mt([n,r],"prelu"),this.broadcastedBinaryOp(n,r,n.dtype,function(a,i){return a<0?i*a:a})},t.prototype.elu=function(n){mt(n,"elu");for(var r=new Float32Array(n.size),a=this.readSync(n.dataId),i=0;i<a.length;++i){var o=a[i];r[i]=o>=0?o:Math.exp(o)-1}return this.makeOutput(r,n.shape,"float32")},t.prototype.eluDer=function(n,r){mt([n,r],"eluDer");for(var a=new Float32Array(r.size),i=this.readSync(r.dataId),o=this.readSync(n.dataId),s=0;s<i.length;++s){var l=i[s];a[s]=l>=1?o[s]:o[s]*(l+1)}return this.makeOutput(a,r.shape,"float32")},t.prototype.selu=function(n){mt(n,"selu");for(var r=j5,a=T5,i=new Float32Array(n.size),o=this.readSync(n.dataId),s=0;s<o.length;++s){var l=o[s];i[s]=l>=0?a*l:r*(Math.exp(l)-1)}return this.makeOutput(i,n.shape,"float32")},t.prototype.clip=function(n,r,a){mt(n,"clip");for(var i=new Float32Array(n.size),o=this.readSync(n.dataId),s=0;s<o.length;++s){var l=o[s];i[s]=l>a?a:l<r?r:l}return this.makeOutput(i,n.shape,"float32")},t.prototype.abs=function(n){for(var r=new Float32Array(n.size),a=this.readSync(n.dataId),i=0;i<a.length;++i)r[i]=Math.abs(a[i]);return this.makeOutput(r,n.shape,"float32")},t.prototype.complexAbs=function(n){for(var r=new Float32Array(n.size),a=this.readSync(n.dataId),i=0;i<n.size;++i){var o=a[2*i],s=a[2*i+1];r[i]=Math.hypot(o,s)}return this.makeOutput(r,n.shape,"float32")},t.prototype.int=function(n){mt(n,"int");for(var r=new Int32Array(n.size),a=this.readSync(n.dataId),i=0;i<a.length;++i)r[i]=a[i];return this.makeOutput(r,n.shape,"int32")},t.prototype.sigmoid=function(n){mt(n,"sigmoid");for(var r=new Float32Array(n.size),a=this.readSync(n.dataId),i=0;i<a.length;++i)r[i]=1/(1+Math.exp(-a[i]));return this.makeOutput(r,n.shape,"float32")},t.prototype.softplus=function(n){mt(n,"softplus");for(var r=Math.log(11920928955078125e-23)+2,a=new Float32Array(n.size),i=this.readSync(n.dataId),o=0;o<i.length;++o){var s=i[o]>-r,l=i[o]<r,u=Math.exp(i[o]),d=void 0;d=l?u:s?i[o]:Math.log(1+u),a[o]=d}return this.makeOutput(a,n.shape,"float32")},t.prototype.sin=function(n){mt(n,"sin");for(var r=new Float32Array(n.size),a=this.readSync(n.dataId),i=0;i<a.length;++i)r[i]=Math.sin(a[i]);return this.makeOutput(r,n.shape,"float32")},t.prototype.cos=function(n){mt(n,"cos");for(var r=new Float32Array(n.size),a=this.readSync(n.dataId),i=0;i<a.length;++i)r[i]=Math.cos(a[i]);return this.makeOutput(r,n.shape,"float32")},t.prototype.tan=function(n){mt(n,"tan");for(var r=new Float32Array(n.size),a=this.readSync(n.dataId),i=0;i<a.length;++i)r[i]=Math.tan(a[i]);return this.makeOutput(r,n.shape,"float32")},t.prototype.asin=function(n){mt(n,"asin");for(var r=new Float32Array(n.size),a=this.readSync(n.dataId),i=0;i<a.length;++i)r[i]=Math.asin(a[i]);return this.makeOutput(r,n.shape,"float32")},t.prototype.acos=function(n){mt(n,"acos");for(var r=new Float32Array(n.size),a=this.readSync(n.dataId),i=0;i<a.length;++i)r[i]=Math.acos(a[i]);return this.makeOutput(r,n.shape,"float32")},t.prototype.atan=function(n){mt(n,"atan");for(var r=new Float32Array(n.size),a=this.readSync(n.dataId),i=0;i<a.length;++i)r[i]=Math.atan(a[i]);return this.makeOutput(r,n.shape,"float32")},t.prototype.atan2=function(n,r){return mt([n,r],"atan2"),this.broadcastedBinaryOp(n,r,n.dtype,function(a,i){return Math.atan2(a,i)})},t.prototype.sinh=function(n){mt(n,"sinh");for(var r=new Float32Array(n.size),a=this.readSync(n.dataId),i=0;i<a.length;++i)r[i]=Math.sinh(a[i]);return this.makeOutput(r,n.shape,"float32")},t.prototype.cosh=function(n){mt(n,"cosh");for(var r=new Float32Array(n.size),a=this.readSync(n.dataId),i=0;i<a.length;++i)r[i]=Math.cosh(a[i]);return this.makeOutput(r,n.shape,"float32")},t.prototype.tanh=function(n){mt(n,"tanh");for(var r=new Float32Array(n.size),a=this.readSync(n.dataId),i=0;i<a.length;++i)r[i]=YDe(a[i]);return this.makeOutput(r,n.shape,"float32")},t.prototype.asinh=function(n){mt(n,"asinh");for(var r=new Float32Array(n.size),a=this.readSync(n.dataId),i=0;i<a.length;++i)r[i]=Math.asinh(a[i]);return this.makeOutput(r,n.shape,"float32")},t.prototype.acosh=function(n){mt(n,"acosh");for(var r=new Float32Array(n.size),a=this.readSync(n.dataId),i=0;i<a.length;++i)r[i]=Math.acosh(a[i]);return this.makeOutput(r,n.shape,"float32")},t.prototype.atanh=function(n){mt(n,"atanh");for(var r=new Float32Array(n.size),a=this.readSync(n.dataId),i=0;i<a.length;++i)r[i]=Math.atanh(a[i]);return this.makeOutput(r,n.shape,"float32")},t.prototype.erf=function(n){mt(n,"erf");for(var r=new Float32Array(n.size),a=this.readSync(n.dataId),i=0;i<a.length;++i){var o=Math.sign(a[i]),s=Math.abs(a[i]),l=1/(1+.3275911*s);r[i]=o*(1-((((1.061405429*l-1.453152027)*l+1.421413741)*l-.284496736)*l+.254829592)*l*Math.exp(-s*s))}return this.makeOutput(r,n.shape,"float32")},t.prototype.step=function(n,r){r===void 0&&(r=0),mt(n,"step");for(var a=new Float32Array(n.size),i=this.readSync(n.dataId),o=0;o<i.length;++o){var s=i[o];isNaN(s)?a[o]=NaN:a[o]=s>0?1:r}return this.makeOutput(a,n.shape,"float32")},t.prototype.fusedConv2d=function(n){var r=n.input,a=n.filter,i=n.convInfo,o=n.bias,s=n.activation,l=n.preluActivationWeights,u=this.conv2d(r,a,i);return o&&(u=this.add(u,o)),s&&(u=_4(this,u,s,l)),u},t.prototype.conv2d=function(n,r,a){mt([n,r],"conv2d");for(var i=a.filterHeight,o=a.filterWidth,s=a.dilationHeight,l=a.dilationWidth,u=a.padInfo.left,d=a.padInfo.top,f=a.dataFormat==="channelsLast",h=Pn(a.outShape,n.dtype),p=n.strides[0],m=f?n.strides[1]:n.strides[2],g=f?n.strides[2]:1,y=f?1:n.strides[1],x=h.strides[0],b=f?h.strides[1]:h.strides[2],w=f?h.strides[2]:1,_=f?1:h.strides[1],S=this.readSync(n.dataId),k=this.readSync(r.dataId),N=h.values,P=0;P<a.batchSize;++P)for(var T=P*p,j=P*x,D=0;D<a.outHeight;++D)for(var M=j+D*b,R=D*a.strideHeight-d,W=0;W<i;W++){var B=R+W*s;if(!(B<0||B>=a.inHeight))for(var V=W*r.strides[0],q=T+B*m,I=0;I<a.outWidth;++I)for(var O=M+I*w,H=I*a.strideWidth-u,ne=0;ne<o;ne++){var z=H+ne*l;if(!(z<0||z>=a.inWidth))for(var J=q+z*g,ee=V+ne*r.strides[1],G=0;G<a.inChannels;++G){for(var Z=S[J+G*y],se=0;se<a.outChannels;++se)N[O+se*_]+=Z*k[ee+se];ee+=a.outChannels}}}return h.toTensor()},t.prototype.conv3d=function(n,r,a){for(var i=a.filterDepth,o=a.filterHeight,s=a.filterWidth,l=a.dilationDepth,u=a.dilationHeight,d=a.dilationWidth,f=a.padInfo.front,h=a.padInfo.left,p=a.padInfo.top,m=Pn(a.outShape,n.dtype),g=this.readSync(n.dataId),y=this.readSync(r.dataId),x=m.values,b=0;b<a.batchSize;++b)for(var w=b*n.strides[0],_=b*m.strides[0],S=0;S<a.outDepth;++S)for(var k=_+S*m.strides[1],N=S*a.strideDepth-f,P=0;P<i;P++){var T=N+P*l;if(!(T<0||T>=a.inDepth))for(var j=P*r.strides[0],D=w+T*n.strides[1],M=0;M<a.outHeight;++M)for(var R=k+M*m.strides[2],W=M*a.strideHeight-p,B=0;B<o;B++){var V=W+B*u;if(!(V<0||V>=a.inHeight))for(var q=j+B*r.strides[1],I=D+V*n.strides[2],O=0;O<a.outWidth;++O)for(var H=R+O*a.outChannels,ne=O*a.strideWidth-h,z=0;z<s;z++){var J=ne+z*d;if(!(J<0||J>=a.inWidth))for(var ee=q+z*r.strides[2],G=I+J*a.inChannels,Z=ee,se=0;se<a.inChannels;++se){for(var ae=g[G+se],Y=0;Y<a.outChannels;++Y)x[H+Y]+=ae*y[Z+Y];Z+=a.outChannels}}}}return m.toTensor()},t.prototype.conv2dDerInput=function(n,r,a){mt([n,r],"conv2dDerInput");for(var i=Pn(a.inShape,"float32"),o=i.values,s=this.readSync(n.dataId),l=this.readSync(r.dataId),u=r.strides,d=u[0],f=u[1],h=u[2],p=a.batchSize,m=a.filterHeight,g=a.filterWidth,y=a.inChannels,x=a.inHeight,b=a.inWidth,w=a.outChannels,_=a.outHeight,S=a.outWidth,k=a.strideHeight,N=a.strideWidth,P=a.dataFormat,T=m-1-a.padInfo.top,j=g-1-a.padInfo.left,D=P==="channelsLast",M=i.strides[0],R=D?i.strides[1]:i.strides[2],W=D?i.strides[2]:1,B=D?1:i.strides[1],V=n.strides[0],q=D?n.strides[1]:n.strides[2],I=D?n.strides[2]:1,O=D?1:n.strides[1],H=0;H<p;++H)for(var ne=0;ne<y;++ne)for(var z=0;z<x;++z)for(var J=z-T,ee=Math.max(0,Math.ceil(J/k)),G=Math.min(_,(m+J)/k),Z=0;Z<b;++Z){for(var se=Z-j,ae=Math.max(0,Math.ceil(se/N)),Y=Math.min(S,(g+se)/N),X=0,K=ee;K<G;++K)for(var F=K*k-J,re=ae;re<Y;++re)for(var Q=V*H+q*K+I*re,oe=d*(m-1-F)+f*(g-1-(re*N-se))+h*ne,me=0;me<w;++me)X+=s[Q+O*me]*l[oe+me];o[M*H+R*z+W*Z+B*ne]=X}return i.toTensor()},t.prototype.conv3dDerInput=function(n,r,a){for(var i=Pn(a.inShape,"float32"),o=i.values,s=i.strides,l=s[0],u=s[1],d=s[2],f=s[3],h=this.readSync(n.dataId),p=n.strides,m=p[0],g=p[1],y=p[2],x=p[3],b=this.readSync(r.dataId),w=r.strides,_=w[0],S=w[1],k=w[2],N=w[3],P=a.batchSize,T=a.filterDepth,j=a.filterHeight,D=a.filterWidth,M=a.inChannels,R=a.inDepth,W=a.inHeight,B=a.inWidth,V=a.outChannels,q=a.outDepth,I=a.outHeight,O=a.outWidth,H=a.strideDepth,ne=a.strideHeight,z=a.strideWidth,J=T-1-a.padInfo.front,ee=j-1-a.padInfo.top,G=D-1-a.padInfo.left,Z=0;Z<P;++Z)for(var se=0;se<M;++se)for(var ae=0;ae<R;++ae)for(var Y=ae-J,X=Math.max(0,Math.ceil(Y/H)),K=Math.min(q,(T+Y)/H),F=0;F<W;++F)for(var re=F-ee,Q=Math.max(0,Math.ceil(re/ne)),oe=Math.min(I,(j+re)/ne),me=0;me<B;++me){for(var be=me-G,ye=Math.max(0,Math.ceil(be/z)),de=Math.min(O,(D+be)/z),we=0,We=X;We<K;++We)for(var Me=We*H-Y,ze=Q;ze<oe;++ze)for(var He=ze*ne-re,dt=ye;dt<de;++dt)for(var qt=m*Z+g*We+y*ze+x*dt,Zt=_*(T-1-Me)+S*(j-1-He)+k*(D-1-(dt*z-be))+N*se,Wt=0;Wt<V;++Wt)we+=h[qt+Wt]*b[Zt+Wt];o[l*Z+u*ae+d*F+f*me+se]=we}return i.toTensor()},t.prototype.conv2dDerFilter=function(n,r,a){mt([n,r],"conv2dDerFilter");for(var i=a.strideHeight,o=a.strideWidth,s=a.filterHeight,l=a.filterWidth,u=a.dataFormat==="channelsLast",d=Pn(a.filterShape,"float32"),f=a.padInfo.left,h=a.padInfo.top,p=this.bufferSync(n),m=this.bufferSync(r),g=0;g<s;++g)for(var y=Math.max(0,Math.ceil((h-g)/i)),x=Math.min(a.outHeight,(a.inHeight+h-g)/i),b=0;b<l;++b)for(var w=Math.max(0,Math.ceil((f-b)/o)),_=Math.min(a.outWidth,(a.inWidth+f-b)/o),S=0;S<a.inChannels;++S)for(var k=0;k<a.outChannels;++k){for(var N=0,P=0;P<a.batchSize;++P)for(var T=y;T<x;++T)for(var j=g+T*i-h,D=w;D<_;++D){var M=b+D*o-f;N+=u?p.get(P,j,M,S)*m.get(P,T,D,k):p.get(P,S,j,M)*m.get(P,k,T,D)}d.set(N,g,b,S,k)}return d.toTensor()},t.prototype.conv3dDerFilter=function(n,r,a){for(var i=a.strideDepth,o=a.strideHeight,s=a.strideWidth,l=a.filterDepth,u=a.filterHeight,d=a.filterWidth,f=Pn(a.filterShape,"float32"),h=f.values,p=f.strides,m=p[0],g=p[1],y=p[2],x=p[3],b=this.readSync(r.dataId),w=r.strides,_=w[0],S=w[1],k=w[2],N=w[3],P=this.readSync(n.dataId),T=n.strides,j=T[0],D=T[1],M=T[2],R=T[3],W=a.padInfo.front,B=a.padInfo.left,V=a.padInfo.top,q=0;q<l;++q)for(var I=Math.max(0,Math.ceil((W-q)/i)),O=Math.min(a.outDepth,(a.inDepth+W-q)/i),H=q*m,ne=0;ne<u;++ne)for(var z=Math.max(0,Math.ceil((V-ne)/o)),J=Math.min(a.outHeight,(a.inHeight+V-ne)/o),ee=ne*g+H,G=0;G<d;++G)for(var Z=Math.max(0,Math.ceil((B-G)/s)),se=Math.min(a.outWidth,(a.inWidth+B-G)/s),ae=G*y+ee,Y=0;Y<a.inChannels;++Y)for(var X=Y*x+ae,K=0;K<a.outChannels;++K){for(var F=0,re=0;re<a.batchSize;++re)for(var Q=re*j,oe=re*_,me=I;me<O;++me)for(var be=(q+me*i-W)*D+Q,ye=me*S+oe,de=z;de<J;++de)for(var we=(ne+de*o-V)*M+be,We=de*k+ye,Me=Z;Me<se;++Me){var ze=Me*N+We;F+=P[(G+Me*s-B)*R+we+Y]*b[ze+K]}h[X+K]=F}return f.toTensor()},t.prototype.fusedDepthwiseConv2D=function(n){var r=n.input,a=n.filter,i=n.convInfo,o=n.bias,s=n.activation,l=n.preluActivationWeights,u=this.depthwiseConv2D(r,a,i);return o&&(u=this.add(u,o)),s&&(u=_4(this,u,s,l)),u},t.prototype.depthwiseConv2D=function(n,r,a){mt([n,r],"depthwiseConv2D");for(var i=a.filterHeight,o=a.filterWidth,s=a.dilationHeight,l=a.dilationWidth,u=a.padInfo.left,d=a.padInfo.top,f=a.outChannels/a.inChannels,h=Pn(a.outShape,n.dtype),p=this.readSync(n.dataId),m=this.readSync(r.dataId),g=h.values,y=0;y<a.batchSize;++y)for(var x=y*n.strides[0],b=y*h.strides[0],w=0;w<a.outHeight;++w)for(var _=b+w*h.strides[1],S=w*a.strideHeight-u,k=0;k<i;++k){var N=S+k*s;if(!(N<0||N>=a.inHeight))for(var P=k*r.strides[0],T=x+N*n.strides[1],j=0;j<a.outWidth;++j)for(var D=_+j*h.strides[2],M=j*a.strideWidth-d,R=0;R<o;++R){var W=M+R*l;if(!(W<0||W>=a.inWidth))for(var B=P+R*r.strides[1],V=T+W*a.inChannels,q=D,I=B,O=0;O<a.inChannels;++O){for(var H=p[V+O],ne=0;ne<f;++ne)g[q+ne]+=H*m[I+ne];q+=f,I+=f}}}return h.toTensor()},t.prototype.depthwiseConv2DDerInput=function(n,r,a){mt([n,r],"depthwiseConv2DDerInput");for(var i=Pn(a.inShape,"float32"),o=i.values,s=i.strides,l=s[0],u=s[1],d=s[2],f=this.readSync(n.dataId),h=n.strides,p=h[0],m=h[1],g=h[2],y=this.readSync(r.dataId),x=r.strides,b=x[0],w=x[1],_=x[2],S=a.batchSize,k=a.filterHeight,N=a.filterWidth,P=a.inChannels,T=a.inHeight,j=a.inWidth,D=a.outChannels,M=a.outHeight,R=a.outWidth,W=a.strideHeight,B=a.strideWidth,V=k-1-a.padInfo.top,q=N-1-a.padInfo.left,I=D/P,O=0;O<S;++O)for(var H=0;H<P;++H)for(var ne=0;ne<T;++ne)for(var z=ne-V,J=Math.max(0,Math.ceil(z/W)),ee=Math.min(M,(k+z)/W),G=0;G<j;++G){for(var Z=G-q,se=Math.max(0,Math.ceil(Z/B)),ae=Math.min(R,(N+Z)/B),Y=0,X=J;X<ee;++X)for(var K=X*W-z,F=se;F<ae;++F)for(var re=p*O+m*X+g*F,Q=b*(k-1-K)+w*(N-1-(F*B-Z))+_*H,oe=0;oe<I;++oe)Y+=f[re+(H*I+oe)]*y[Q+oe];o[l*O+u*ne+d*G+H]=Y}return i.toTensor()},t.prototype.depthwiseConv2DDerFilter=function(n,r,a){mt([n,r],"depthwiseConv2DDerFilter");for(var i=a.strideHeight,o=a.strideWidth,s=a.filterHeight,l=a.filterWidth,u=Pn(a.filterShape,"float32"),d=a.padInfo.left,f=a.padInfo.top,h=a.outChannels/a.inChannels,p=this.bufferSync(n),m=this.bufferSync(r),g=0;g<s;++g)for(var y=Math.max(0,Math.ceil((f-g)/i)),x=Math.min(a.outHeight,(a.inHeight+f-g)/i),b=0;b<l;++b)for(var w=Math.max(0,Math.ceil((d-b)/o)),_=Math.min(a.outWidth,(a.inWidth+d-b)/o),S=0;S<a.outChannels;++S){for(var k=Math.trunc(S/h),N=S%h,P=0,T=0;T<a.batchSize;++T)for(var j=y;j<x;++j)for(var D=g+j*i-f,M=w;M<_;++M){var R=b+M*o-d;P+=p.get(T,D,R,k)*m.get(T,j,M,S)}u.set(P,g,b,k,N)}return u.toTensor()},t.prototype.tile=function(n,r){return mt(n,"tile"),jie(this.bufferSync(n),r)},t.prototype.pad=function(n,r,a){mt(n,"pad");var i=r.map(function(h,p){return h[0]+n.shape[p]+h[1]}),o=r.map(function(h){return h[0]}),s=this.bufferSync(n),l=Pn(i,n.dtype);a!==0&&l.values.fill(a);for(var u=0;u<n.size;u++){var d=s.indexToLoc(u),f=d.map(function(h,p){return h+o[p]});l.set.apply(l,[s.get.apply(s,d)].concat(f))}return l.toTensor()},t.prototype.transpose=function(n,r){mt(n,"transpose");for(var a=new Array(n.rank),i=0;i<a.length;i++)a[i]=n.shape[r[i]];var o=this.readSync(n.dataId),s=Pn(a,n.dtype),l=this.bufferSync(n);for(i=0;i<n.size;++i){for(var u=l.indexToLoc(i),d=new Array(u.length),f=0;f<d.length;f++)d[f]=u[r[f]];var h=s.locToIndex(d);s.values[h]=o[i]}return s.toTensor()},t.prototype.gather=function(n,r,a){mt([n,r],"gather");var i=n.shape.slice(),o=this.readSync(r.dataId);i[a]=o.length;for(var s=Pn(i,n.dtype),l=this.bufferSync(n),u=0;u<s.size;++u){var d=s.indexToLoc(u),f=d.slice();f[a]=o[d[a]];var h=l.locToIndex(f);s.values[u]=l.values[h]}return s.toTensor()},t.prototype.batchToSpaceND=function(n,r,a){mt([n],"batchToSpaceND");var i=r.reduce(function(f,h){return f*h}),o=bE(n.shape,r,i),s=wE(o.length,r.length),l=_E(n.shape,r,i),u=mie(a,r.length),d=gie(l,a,r.length);return n.reshape(o).transpose(s).reshape(l).slice(u,d)},t.prototype.spaceToBatchND=function(n,r,a){mt([n],"spaceToBatchND");var i=r.reduce(function(h,p){return h*p}),o=[[0,0]];o.push.apply(o,a);for(var s=1+r.length;s<n.shape.length;++s)o.push([0,0]);var l=n.pad(o),u=bE(l.shape,r,i,!1),d=wE(u.length,r.length,!1),f=_E(l.shape,r,i,!1);return l.reshape(u).transpose(d).reshape(f)},t.prototype.pool=function(n,r,a){mt(n,"pool");for(var i=r.strideHeight,o=r.strideWidth,s=r.dilationHeight,l=r.dilationWidth,u=r.effectiveFilterHeight,d=r.effectiveFilterWidth,f=r.padInfo.top,h=r.padInfo.left,p=a==="max"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,m=this.readSync(n.dataId),g=Pn(r.outShape,n.dtype),y=g.values,x=r.outShape[1]*r.outShape[2]*r.outShape[3],b=r.outShape[2]*r.outShape[3],w=r.outShape[3],_=0;_<r.batchSize;++_)for(var S=_*x,k=_*n.strides[0],N=0;N<r.inChannels;++N)for(var P=0;P<r.outHeight;++P)for(var T=P*i-f,j=Math.max(0,T),D=Math.min(r.inHeight,u+T),M=S+P*b,R=0;R<r.outWidth;++R){for(var W=R*o-h,B=Math.max(0,W),V=Math.min(r.inWidth,d+W),q=p,I=0,O=0,H=j;H<D;H+=s){for(var ne=k+H*n.strides[1],z=B;z<V;z+=l){var J=m[ne+z*n.strides[2]+N];a==="max"&&J>q?q=J:a==="avg"&&(I+=J,O++)}if(isNaN(q))break}y[M+R*w+N]=a==="avg"?I/O:q}return g.toTensor()},t.prototype.maxPool=function(n,r){return this.pool(n,r,"max")},t.prototype.maxPoolPositions=function(n,r){for(var a=Pn(r.outShape,"int32"),i=r.strideHeight,o=r.strideWidth,s=r.dilationHeight,l=r.dilationWidth,u=r.effectiveFilterHeight,d=r.effectiveFilterWidth,f=r.padInfo.top,h=r.padInfo.left,p=this.bufferSync(n),m=0;m<r.batchSize;++m)for(var g=0;g<r.inChannels;++g)for(var y=0;y<r.outHeight;++y){for(var x=y*i-f,b=x;b<0;)b+=s;for(var w=Math.min(r.inHeight,u+x),_=0;_<r.outWidth;++_){for(var S=_*o-h,k=S;k<0;)k+=l;for(var N=Math.min(r.inWidth,d+S),P=Number.NEGATIVE_INFINITY,T=-1,j=b;j<w;j+=s)for(var D=j-x,M=k;M<N;M+=l){var R=M-S,W=p.get(m,j,M,g);W>P&&(P=W,T=D*d+R)}a.set(T,m,y,_,g)}}return a.toTensor()},t.prototype.maxPoolBackprop=function(n,r,a,i){mt([r,a],"maxPoolBackprop");for(var o=this.maxPoolPositions(r,i),s=i.strideHeight,l=i.strideWidth,u=i.dilationHeight,d=i.dilationWidth,f=i.effectiveFilterHeight,h=i.effectiveFilterWidth,p=h-1-i.padInfo.left,m=f-1-i.padInfo.top,g=Pn(r.shape,"float32"),y=this.bufferSync(o),x=this.bufferSync(n),b=0;b<i.batchSize;++b)for(var w=0;w<i.inChannels;++w)for(var _=0;_<i.inHeight;++_)for(var S=0;S<i.inWidth;++S){for(var k=_-m,N=S-p,P=0,T=0;T<f;T+=u){var j=(k+T)/s;if(!(j<0||j>=i.outHeight||Math.floor(j)!==j))for(var D=0;D<h;D+=d){var M=(N+D)/l;if(!(M<0||M>=i.outWidth||Math.floor(M)!==M)){var R=f*h-1-y.get(b,j,M,w)===T*h+D?1:0;R!==0&&(P+=x.get(b,j,M,w)*R)}}}g.set(P,b,_,S,w)}return g.toTensor()},t.prototype.avgPoolBackprop=function(n,r,a){mt([n,r],"avgPoolBackprop");for(var i=a.strideHeight,o=a.strideWidth,s=a.filterHeight,l=a.filterWidth,u=a.dilationHeight,d=a.dilationWidth,f=a.effectiveFilterHeight,h=a.effectiveFilterWidth,p=h-1-a.padInfo.left,m=f-1-a.padInfo.top,g=Pn(r.shape,"float32"),y=1/(s*l),x=this.bufferSync(n),b=0;b<a.batchSize;++b)for(var w=0;w<a.inChannels;++w)for(var _=0;_<a.inHeight;++_)for(var S=0;S<a.inWidth;++S){for(var k=_-m,N=S-p,P=0,T=0;T<f;T+=u){var j=(k+T)/i;if(!(j<0||j>=a.outHeight||Math.floor(j)!==j))for(var D=0;D<h;D+=d){var M=(N+D)/o;M<0||M>=a.outWidth||Math.floor(M)!==M||(P+=x.get(b,j,M,w))}}g.set(P*y,b,_,S,w)}return g.toTensor()},t.prototype.pool3d=function(n,r,a){mt(n,"pool3d");for(var i=r.strideDepth,o=r.strideHeight,s=r.strideWidth,l=r.dilationDepth,u=r.dilationHeight,d=r.dilationWidth,f=r.effectiveFilterDepth,h=r.effectiveFilterHeight,p=r.effectiveFilterWidth,m=r.padInfo.front,g=r.padInfo.top,y=r.padInfo.left,x=a==="max"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,b=this.readSync(n.dataId),w=Pn(r.outShape,n.dtype),_=w.values,S=r.outShape[1]*r.outShape[2]*r.outShape[3]*r.outShape[4],k=r.outShape[2]*r.outShape[3]*r.outShape[4],N=r.outShape[3]*r.outShape[4],P=r.outShape[4],T=0;T<r.batchSize;++T)for(var j=T*S,D=T*n.strides[0],M=0;M<r.inChannels;++M)for(var R=0;R<r.outDepth;++R){for(var W=R*i-m,B=W;B<0;)B+=l;for(var V=Math.min(r.inDepth,f+W),q=j+R*k,I=0;I<r.outHeight;++I){for(var O=I*o-g,H=O;H<0;)H+=u;for(var ne=Math.min(r.inHeight,h+O),z=q+I*N,J=0;J<r.outWidth;++J){for(var ee=J*s-y,G=ee;G<0;)G+=d;for(var Z=Math.min(r.inWidth,p+ee),se=z+J*P,ae=x,Y=0,X=0,K=B;K<V;K+=l){for(var F=D+K*n.strides[1],re=H;re<ne;re+=u){for(var Q=F+re*n.strides[2],oe=G;oe<Z;oe+=d){var me=b[Q+oe*n.strides[3]+M];if(a==="max"&&me>ae?ae=me:a==="avg"&&(Y+=me,X++),isNaN(ae))break}if(isNaN(ae))break}if(isNaN(ae))break}_[se+M]=a==="avg"?Y/X:ae}}}return w.toTensor()},t.prototype.avgPool3d=function(n,r){return mt(n,"avgPool3d"),this.pool3d(n,r,"avg").toFloat()},t.prototype.avgPool3dBackprop=function(n,r,a){mt([n,r],"avgPool3dBackprop");for(var i=a.strideDepth,o=a.strideHeight,s=a.strideWidth,l=a.filterDepth,u=a.filterHeight,d=a.filterWidth,f=a.dilationDepth,h=a.dilationHeight,p=a.dilationWidth,m=a.effectiveFilterDepth,g=a.effectiveFilterHeight,y=a.effectiveFilterWidth,x=m-1-a.padInfo.front,b=y-1-a.padInfo.left,w=g-1-a.padInfo.top,_=Pn(r.shape,"float32"),S=1/(l*u*d),k=this.bufferSync(n),N=0;N<a.batchSize;++N)for(var P=0;P<a.inChannels;++P)for(var T=0;T<a.inDepth;++T)for(var j=0;j<a.inHeight;++j)for(var D=0;D<a.inWidth;++D){for(var M=T-x,R=j-w,W=D-b,B=0,V=0;V<m;V+=f){var q=(M+V)/i;if(!(q<0||q>=a.outDepth||Math.floor(q)!==q))for(var I=0;I<g;I+=h){var O=(R+I)/o;if(!(O<0||O>=a.outHeight||Math.floor(O)!==O))for(var H=0;H<y;H+=p){var ne=(W+H)/s;ne<0||ne>=a.outWidth||Math.floor(ne)!==ne||(B+=k.get(N,q,O,ne,P))}}}_.set(B*S,N,T,j,D,P)}return _.toTensor()},t.prototype.maxPool3d=function(n,r){return mt(n,"maxPool3d"),this.pool3d(n,r,"max").toFloat()},t.prototype.maxPool3dPositions=function(n,r){for(var a=Pn(r.outShape,"int32"),i=r.strideDepth,o=r.strideHeight,s=r.strideWidth,l=r.dilationDepth,u=r.dilationHeight,d=r.dilationWidth,f=r.effectiveFilterDepth,h=r.effectiveFilterHeight,p=r.effectiveFilterWidth,m=r.padInfo.front,g=r.padInfo.top,y=r.padInfo.left,x=this.bufferSync(n),b=0;b<r.batchSize;++b)for(var w=0;w<r.inChannels;++w)for(var _=0;_<r.outDepth;++_){for(var S=_*i-m,k=S;k<0;)k+=l;for(var N=Math.min(r.inDepth,f+S),P=0;P<r.outHeight;++P){for(var T=P*o-g,j=T;j<0;)j+=u;for(var D=Math.min(r.inHeight,h+T),M=0;M<r.outWidth;++M){for(var R=M*s-y,W=R;W<0;)W+=d;for(var B=Math.min(r.inWidth,p+R),V=Number.NEGATIVE_INFINITY,q=-1,I=k;I<N;I+=l)for(var O=I-S,H=j;H<D;H+=u)for(var ne=H-T,z=W;z<B;z+=d){var J=z-R,ee=x.get(b,I,H,z,w);ee>=V&&(V=ee,q=O*h*p+ne*h+J)}a.set(q,b,_,P,M,w)}}}return a.toTensor()},t.prototype.maxPool3dBackprop=function(n,r,a,i){mt([r,a],"maxPool3dBackprop");for(var o=this.maxPool3dPositions(r,i),s=i.strideDepth,l=i.strideHeight,u=i.strideWidth,d=i.dilationDepth,f=i.dilationHeight,h=i.dilationWidth,p=i.effectiveFilterDepth,m=i.effectiveFilterHeight,g=i.effectiveFilterWidth,y=p-1-i.padInfo.front,x=g-1-i.padInfo.left,b=m-1-i.padInfo.top,w=Pn(r.shape,"float32"),_=this.bufferSync(o),S=this.bufferSync(n),k=0;k<i.batchSize;++k)for(var N=0;N<i.inChannels;++N)for(var P=0;P<i.inDepth;++P)for(var T=0;T<i.inHeight;++T)for(var j=0;j<i.inWidth;++j){for(var D=P-y,M=T-b,R=j-x,W=0,B=0;B<p;B+=d){var V=(D+B)/s;if(!(V<0||V>=i.outDepth||Math.floor(V)!==V))for(var q=0;q<m;q+=f){var I=(M+q)/l;if(!(I<0||I>=i.outHeight||Math.floor(I)!==I))for(var O=0;O<g;O+=h){var H=(R+O)/u;if(!(H<0||H>=i.outWidth||Math.floor(H)!==H)){var ne=p*m*g-1-_.get(k,V,I,H,N)===B*m*g+q*g+O?1:0;ne!==0&&(W+=S.get(k,V,I,H,N)*ne)}}}}w.set(W,k,P,T,j,N)}return w.toTensor()},t.prototype.cast=function(n,r){return Cie(n,r,this)},t.prototype.reshape=function(n,r){return sM(n,r)},t.prototype.avgPool=function(n,r){return mt(n,"avgPool"),this.pool(n,r,"avg").toFloat()},t.prototype.resizeBilinear=function(n,r,a,i){mt(n,"resizeBilinear");for(var o=n.shape,s=o[0],l=o[1],u=o[2],d=o[3],f=this.readSync(n.dataId),h=new Float32Array(un([s,r,a,d])),p=[i&&r>1?l-1:l,i&&a>1?u-1:u],m=[i&&r>1?r-1:r,i&&a>1?a-1:a],g=0,y=p[0]/m[0],x=p[1]/m[1],b=0;b<s;b++)for(var w=0;w<r;w++)for(var _=y*w,S=Math.floor(_),k=_-S,N=Math.min(l-1,Math.ceil(_)),P=b*n.strides[0]+S*n.strides[1],T=b*n.strides[0]+N*n.strides[1],j=0;j<a;j++)for(var D=x*j,M=Math.floor(D),R=D-M,W=Math.min(u-1,Math.ceil(D)),B=P+M*n.strides[2],V=T+M*n.strides[2],q=P+W*n.strides[2],I=T+W*n.strides[2],O=0;O<d;O++){var H=f[B+O],ne=f[V+O],z=H+(f[q+O]-H)*R,J=z+(ne+(f[I+O]-ne)*R-z)*k;h[g++]=J}return Gi(h,[s,r,a,d])},t.prototype.resizeBilinearBackprop=function(n,r,a){mt([n,r],"resizeBilinearBackprop");for(var i=r.shape,o=i[0],s=i[1],l=i[2],u=i[3],d=n.shape,f=d[1],h=d[2],p=new Float32Array(o*s*l*u),m=[a&&f>1?s-1:s,a&&h>1?l-1:l],g=[a&&f>1?f-1:f,a&&h>1?h-1:h],y=m[0]/g[0],x=m[1]/g[1],b=this.readSync(n.dataId),w=0,_=0;_<o;_++)for(var S=_*r.strides[0],k=0;k<f;k++)for(var N=k*y,P=Math.floor(N),T=Math.min(Math.ceil(N),s-1),j=S+P*r.strides[1],D=S+T*r.strides[1],M=N-P,R=1-M,W=0;W<h;W++)for(var B=W*x,V=Math.floor(B),q=Math.min(Math.ceil(B),l-1),I=B-V,O=1-I,H=j+V*r.strides[2],ne=j+q*r.strides[2],z=D+V*r.strides[2],J=D+q*r.strides[2],ee=R*O,G=R*I,Z=M*O,se=M*I,ae=0;ae<u;ae++){var Y=b[w++];p[H+ae]+=Y*ee,p[ne+ae]+=Y*G,p[z+ae]+=Y*Z,p[J+ae]+=Y*se}return Go(p,[o,l,s,u],r.dtype)},t.prototype.resizeNearestNeighbor=function(n,r,a,i){mt(n,"resizeNearestNeighbor");for(var o=n.shape,s=o[0],l=o[1],u=o[2],d=o[3],f=this.readSync(n.dataId),h=new Float32Array(s*r*a*d),p=[i&&r>1?l-1:l,i&&a>1?u-1:u],m=[i&&r>1?r-1:r,i&&a>1?a-1:a],g=p[0]/m[0],y=p[1]/m[1],x=0,b=0;b<s;b++)for(var w=b*n.strides[0],_=0;_<r;_++)for(var S=g*_,k=w+Math.min(l-1,i?Math.round(S):Math.floor(S))*n.strides[1],N=0;N<a;N++)for(var P=y*N,T=k+Math.min(u-1,i?Math.round(P):Math.floor(P))*n.strides[2],j=0;j<d;j++){var D=f[T+j];h[x++]=D}return Gi(h,[s,r,a,d],n.dtype)},t.prototype.resizeNearestNeighborBackprop=function(n,r,a){mt([n,r],"resizeNearestNeighborBackprop");for(var i=r.shape,o=i[0],s=i[1],l=i[2],u=i[3],d=n.shape,f=d[1],h=d[2],p=new Float32Array(o*s*l*u),m=this.readSync(n.dataId),g=[a&&f>1?s-1:s,a&&h>1?l-1:l],y=[a&&f>1?f-1:f,a&&h>1?h-1:h],x=g[0]/y[0],b=g[1]/y[1],w=1/x,_=1/b,S=2*Math.ceil(w)+2,k=2*Math.ceil(_)+2,N=0;N<o;N++)for(var P=N*r.strides[0],T=0;T<s;T++)for(var j=P+T*r.strides[1],D=Math.floor(T*w),M=Math.floor(D-S/2),R=0;R<l;R++)for(var W=j+R*r.strides[2],B=Math.floor(R*_),V=Math.floor(B-k/2),q=0;q<u;q++){for(var I=0,O=0;O<S;O++){var H=O+M;if(!(H<0||H>=f)){var ne=P+H*n.strides[1],z=H*x;if(T===Math.min(s-1,a?Math.round(z):Math.floor(z)))for(var J=0;J<k;J++){var ee=J+V;if(!(ee<0||ee>=h)){var G=ne+ee*n.strides[2],Z=ee*b;R===Math.min(l-1,a?Math.round(Z):Math.floor(Z))&&(I+=m[G+q])}}}}p[W+q]=I}return Go(p,r.shape,r.dtype)},t.prototype.batchNormalization=function(n,r,a,i,o,s){mt([n,r,a,o,s],"batchNorm");for(var l=this.readSync(n.dataId),u=this.readSync(r.dataId),d=this.readSync(a.dataId),f=o?this.readSync(o.dataId):new Float32Array([1]),h=s?this.readSync(s.dataId):new Float32Array([0]),p=new Float32Array(l.length),m=h.length,g=f.length,y=d.length,x=u.length,b=0,w=0,_=0,S=0,k=0;k<l.length;++k)p[k]=h[b++]+(l[k]-u[w++])*f[_++]/Math.sqrt(d[S++]+i),b>=m&&(b=0),w>=x&&(w=0),_>=g&&(_=0),S>=y&&(S=0);return Go(p,n.shape)},t.prototype.localResponseNormalization4D=function(n,r,a,i,o){mt(n,"localResponseNormalization4D");var s=n.shape[3],l=s-1,u=this.readSync(n.dataId),d=n.size,f=new Float32Array(d);function h(y){for(var x=y%s,b=y-x+Math.max(0,x-r),w=y-x+Math.min(x+r,l),_=0;b<=w;b++){var S=u[b];_+=S*S}return _}for(var p=0;p<d;p++){var m=h(p),g=u[p]*Math.pow(a+i*m,-o);f[p]=g}return Go(f,n.shape)},t.prototype.LRNGrad=function(n,r,a,i,o,s,l){mt(n,"LRNGrad");for(var u=n.shape[3],d=this.readSync(n.dataId),f=this.readSync(r.dataId),h=this.readSync(a.dataId),p=new Float32Array(n.size),m=n.size,g=0;g<m;g++){for(var y=g%u,x=g-y+Math.max(0,y-i),b=g-y+Math.min(u,y+i+1),w=0,_=x;_<b;_++)w+=Math.pow(f[_],2);for(w=s*w+o,_=x;_<b;_++){var S=-2*s*l*f[_]*h[g]/w;g===_&&(S+=Math.pow(w,-l)),S*=d[g],p[_]+=S}}return Go(p,n.shape)},t.prototype.multinomial=function(n,r,a,i){mt(n,"multinomial");for(var o=r?n:Ud(n),s=o.shape[0],l=o.shape[1],u=ta([s,a],"int32"),d=this.readSync(u.dataId),f=this.readSync(o.dataId),h=0;h<s;++h){var p=h*l,m=new Float32Array(l-1);m[0]=f[p];for(var g=1;g<m.length;++g)m[g]=m[g-1]+f[p+g];for(var y=Vj(i.toString()),x=h*a,b=0;b<a;++b){var w=y();d[x+b]=m.length;for(var _=0;_<m.length;_++)if(w<m[_]){d[x+b]=_;break}}}return u},t.prototype.oneHot=function(n,r,a,i){mt(n,"oneHot");var o=new Float32Array(n.size*r);o.fill(i);for(var s=this.readSync(n.dataId),l=0;l<n.size;++l)s[l]>=0&&s[l]<r&&(o[l*r+s[l]]=a);return eh(o,[n.size,r],"int32")},t.prototype.nonMaxSuppression=function(n,r,a,i,o){return mt(n,"nonMaxSuppression"),C5(this.readSync(n.dataId),this.readSync(r.dataId),a,i,o)},t.prototype.fft=function(n){return this.fftBatch(n,!1)},t.prototype.ifft=function(n){return this.fftBatch(n,!0)},t.prototype.fftBatch=function(n,r){for(var a=n.shape[0],i=n.shape[1],o=Pn(n.shape,"float32"),s=Pn(n.shape,"float32"),l=vl(n).as2D(a,i),u=tu(n).as2D(a,i),d=0;d<a;d++)for(var f=l.slice([d,0],[1,i]),h=u.slice([d,0],[1,i]),p=Wi(f,h),m=this.readSync(this.fftImpl(p,r).dataId),g=0;g<i;g++){var y=OW(m,g);o.values[d*i+g]=y.real,s.values[d*i+g]=y.imag}return Wi(o.toTensor(),s.toTensor()).as2D(a,i)},t.prototype.fftImpl=function(n,r){var a=n.as1D(),i=a.size;if(this.isExponentOf2(i)){var o=this.fftRadix2(a,i,r).as2D(n.shape[0],n.shape[1]);return r&&(o=Wi(vl(o).div(zt(i)),tu(o).div(zt(i)))),o}var s=this.readSync(n.dataId),l=function(u){for(var d=new Float32Array(u.length/2),f=new Float32Array(u.length/2),h=0;h<u.length;h+=2)d[h/2]=u[h],f[h/2]=u[h+1];return{real:d,imag:f}}(this.fourierTransformByMatmul(s,i,r));return Wi(l.real,l.imag).as2D(n.shape[0],n.shape[1])},t.prototype.isExponentOf2=function(n){return(n&n-1)==0},t.prototype.fftRadix2=function(n,r,a){if(r===1)return n;var i=this.readSync(n.dataId),o=r/2,s=function(x){for(var b=Math.ceil(x.length/4),w=new Float32Array(b),_=new Float32Array(b),S=0;S<x.length;S+=4)w[Math.floor(S/4)]=x[S],_[Math.floor(S/4)]=x[S+1];return{real:w,imag:_}}(i),l=Wi(s.real,s.imag).as1D(),u=function(x){for(var b=Math.floor(x.length/4),w=new Float32Array(b),_=new Float32Array(b),S=2;S<x.length;S+=4)w[Math.floor(S/4)]=x[S],_[Math.floor(S/4)]=x[S+1];return{real:w,imag:_}}(i),d=Wi(u.real,u.imag).as1D();l=this.fftRadix2(l,o,a),d=this.fftRadix2(d,o,a);var f=function(x,b){for(var w=new Float32Array(x/2),_=new Float32Array(x/2),S=0;S<Math.ceil(x/2);S++){var k=(b?2:-2)*Math.PI*(S/x);w[S]=Math.cos(k),_[S]=Math.sin(k)}return{real:w,imag:_}}(r,a),h=Wi(f.real,f.imag).mul(d),p=l.add(h),m=l.sub(h),g=vl(p).concat(vl(m)),y=tu(p).concat(tu(m));return Wi(g,y).as1D()},t.prototype.fourierTransformByMatmul=function(n,r,a){for(var i=new Float32Array(2*r),o=0;o<r;o++){for(var s=0,l=0,u=0;u<r;u++){var d=k3e(o*u,r,a),f=OW(n,u);s+=f.real*d.real-f.imag*d.imag,l+=f.real*d.imag+f.imag*d.real}a&&(s/=r,l/=r),N3e(i,s,l,o)}return i},t.prototype.depthToSpace=function(n,r,a){_e(a==="NHWC",function(){return"Only NHWC dataFormat supported on CPU for depthToSpace. Got "+a}),_e(r>1,function(){return"blockSize should be > 1 for depthToSpace, but was: "+r});for(var i=n.shape[0],o=n.shape[1],s=n.shape[2],l=n.shape[3],u=o*r,d=s*r,f=l/(r*r),h=this.readSync(n.dataId),p=new Float32Array(i*u*d*f),m=0,g=0;g<i;++g)for(var y=0;y<u;++y)for(var x=Math.floor(y/r),b=y%r,w=0;w<d;++w)for(var _=Math.floor(w/r),S=(b*r+w%r)*f,k=0;k<f;++k){var N=k+S+l*(_+s*(x+o*g));p[m++]=h[N]}return Go(p,[i,u,d,f])},t.prototype.broadcastedBinaryOp=function(n,r,a,i){var o=Xn(n.shape,r.shape),s=Pn(o,a),l=this.readSync(n.dataId),u=this.readSync(r.dataId),d=Mf(n.shape,o),f=Mf(r.shape,o),h=s.values;if(d.length+f.length===0)for(var p=0;p<h.length;++p)h[p]=i(l[p%l.length],u[p%u.length]);else{var m=this.bufferSync(n),g=this.bufferSync(r),y=function(x){var b=s.indexToLoc(x),w=b.slice(-n.rank);d.forEach(function(N){return w[N]=0});var _=m.locToIndex(w),S=b.slice(-r.rank);f.forEach(function(N){return S[N]=0});var k=g.locToIndex(S);h[x]=i(l[_],u[k])};for(p=0;p<h.length;++p)y(p)}return s.toTensor()},t.prototype.broadcastedBinaryComplexOp=function(n,r,a){var i=Xn(n.shape,r.shape),o=Pn(i,"float32"),s=Pn(i,"float32"),l=this.readSync(n.dataId),u=this.readSync(r.dataId),d=Mf(n.shape,i),f=Mf(r.shape,i),h=o.values,p=s.values;if(d.length+f.length===0)for(var m=0;m<h.length;m++){var g=m%l.length,y=m%u.length,x=a(l[2*g],l[2*g+1],u[2*y],u[2*y+1]);h[m]=x.real,p[m]=x.imag}else{var b=this.bufferSync(this.data.get(n.dataId).complexTensors.real),w=this.bufferSync(this.data.get(r.dataId).complexTensors.real),_=function(S){var k=o.indexToLoc(S),N=k.slice(-n.rank);d.forEach(function(M){return N[M]=0});var P=b.locToIndex(N),T=k.slice(-r.rank);f.forEach(function(M){return T[M]=0});var j=w.locToIndex(T),D=a(l[2*P],l[2*P+1],u[2*j],u[2*j+1]);h[S]=D.real,p[S]=D.imag};for(m=0;m<h.length;m++)_(m)}return this.complex(o.toTensor(),s.toTensor())},t.prototype.split=function(n,r,a){return kie(n,r,a)},t.prototype.dispose=function(){},t.prototype.floatPrecision=function(){return 32},t.prototype.epsilon=function(){return 1e-7},t.prototype.cropAndResize=function(n,r,a,i,o,s){for(var l=n.shape,u=l[0],d=l[1],f=l[2],h=l[3],p=r.shape[0],m=i[0],g=i[1],y=Pn([p,m,g,h],"float32"),x=this.readSync(r.dataId),b=this.readSync(a.dataId),w=this.readSync(n.dataId),_=n.strides,S=y.strides,k=0;k<p;k++){var N=4*k,P=x[N],T=x[N+1],j=x[N+2],D=x[N+3],M=b[k];if(!(M>=u))for(var R=m>1?(j-P)*(d-1)/(m-1):0,W=g>1?(D-T)*(f-1)/(g-1):0,B=0;B<m;B++){var V=m>1?P*(d-1)+B*R:.5*(P+j)*(d-1);if(V<0||V>d-1)for(var q=0;q<g;q++)for(var I=0;I<h;I++){var O=I+q*S[2]+B*S[1]+k*S[0];y.values[O]=s}else if(o==="bilinear"){var H=Math.floor(V),ne=Math.ceil(V),z=V-H;for(q=0;q<g;q++)if((K=g>1?T*(f-1)+q*W:.5*(T+D)*(f-1))<0||K>f-1)for(I=0;I<h;I++)O=I+q*S[2]+B*S[1]+k*S[0],y.values[O]=s;else{var J=Math.floor(K),ee=Math.ceil(K),G=K-J;for(I=0;I<h;I++){var Z=w[O=I+J*_[2]+H*_[1]+M*_[0]],se=w[O=I+ee*_[2]+H*_[1]+M*_[0]],ae=w[O=I+J*_[2]+ne*_[1]+M*_[0]],Y=Z+(se-Z)*G,X=ae+(w[O=I+ee*_[2]+ne*_[1]+M*_[0]]-ae)*G;O=I+q*S[2]+B*S[1]+k*S[0],y.values[O]=Y+(X-Y)*z}}}else for(q=0;q<g;++q){var K;if((K=g>1?T*(f-1)+q*W:.5*(T+D)*(f-1))<0||K>f-1)for(I=0;I<h;I++)O=I+q*S[2]+B*S[1]+k*S[0],y.values[O]=s;else{var F=Math.round(K),re=Math.round(V);for(I=0;I<h;I++){var Q=I+F*_[2]+re*_[1]+M*_[0],oe=I+q*S[2]+B*S[1]+k*S[0];y.values[oe]=w[Q]}}}}}return y.toTensor()},t.prototype.sparseToDense=function(n,r,a,i){var o=SE(0,n,a),s=o.sliceRank,l=o.numUpdates,u=o.sliceSize,d=o.strides,f=o.outputSize;return this.scatter(n,r,a,f,u,l,s,d,i,!1)},t.prototype.gatherND=function(n,r){var a=r.shape,i=a[a.length-1],o=vie(n,r),s=o[0],l=o[1],u=o[2],d=o[3];if(l===0)return Gi([],s,n.dtype);for(var f=new wb([l,u],n.dtype),h=this.readSync(r.dataId),p=this.readSync(n.dataId),m=0;m<l;m++){for(var g=[],y=0,x=0;x<i;x++){var b=h[m*i+x];y+=b*d[x],g.push(b)}if(y<0||y>=n.size/u)throw new Error("Invalid indices: "+g+" does not index into "+n.shape);for(var w=0;w<u;w++)f.values[m*u+w]=p[y*u+w]}return f.toTensor().reshape(s)},t.prototype.scatterND=function(n,r,a){var i=SE(0,n,a),o=i.sliceRank,s=i.numUpdates,l=i.sliceSize,u=i.strides,d=i.outputSize,f=zt(0);return this.scatter(n,r,a,d,l,s,o,u,f,!0)},t.prototype.fill=function(n,r,a){var i=hE(a=a||Zw(r),un(n));return i.fill(r),Ie.makeTensor(i,n,a,this)},t.prototype.onesLike=function(n){if(n.dtype==="string")throw new Error("onesLike is not supported for string tensors");return this.fill(n.shape,1,n.dtype)},t.prototype.zerosLike=function(n){var r=hE(n.dtype,un(n.shape));return this.makeOutput(r,n.shape,n.dtype)},t.prototype.linspace=function(n,r,a){return Eie(n,r,a)},t.prototype.scatter=function(n,r,a,i,o,s,l,u,d,f){var h=[i/o,o],p=this.readSync(n.dataId),m=this.readSync(r.dataId);if(i===0)return Gi([],a,r.dtype);var g=new wb(h,r.dtype);g.values.fill(this.readSync(d.dataId)[0]);for(var y=0;y<s;y++){for(var x=[],b=0,w=0;w<l;w++){var _=p[y*l+w];x.push(_),b+=_*u[w]}if(b<0||b>=i/o)throw new Error("Invalid indices: "+x+" does not index into "+a);for(var S=0;S<o;S++)f?g.values[b*o+S]+=m[y*o+S]:g.values[b*o+S]=r.rank===0?m[0]:m[y*o+S]}return g.toTensor().reshape(a)},t}(_ie);Ie.registerBackend("cpu",function(){return new GFe},1);for(var S4=0,tV=[{kernelName:"NonMaxSuppressionV5",backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t,i=a.boxes,o=a.scores,s=r,l=s.maxOutputSize,u=s.iouThreshold,d=s.scoreThreshold,f=s.softNmsSigma,h=n;mt(i,"NonMaxSuppressionWithScore");var p=E5(h.data.get(i.dataId).values,h.data.get(o.dataId).values,l,u,d,f);return[p.selectedIndices,p.selectedScores]}},{kernelName:"Square",backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.x,a=n;mt(r,"square");for(var i=a.data.get(r.dataId).values,o=new Float32Array(i.length),s=0;s<i.length;++s){var l=i[s];o[s]=l*l}return{dataId:a.write(o,r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}},{kernelName:Cb,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t,a=r.a,i=r.b,o=n;mt([a,i],Cb);var s=o.data.get(a.dataId).values,l=o.data.get(i.dataId).values,u=function(h,p,m,g,y,x){var b=Xn(h,p),w=b.length,_=vu(b),S=bb(y,un(b)),k=h.length,N=p.length,P=vu(h),T=vu(p),j=Mf(h,b),D=Mf(p,b);if(j.length+D.length===0)for(var M=0;M<S.length;++M)S[M]=x(m[M%m.length],g[M%g.length]);else{var R=function(W){var B=rOe(W,w,_),V=B.slice(-k);j.forEach(function(H){return V[H]=0});var q=CW(V,k,P),I=B.slice(-N);D.forEach(function(H){return I[H]=0});var O=CW(I,N,T);S[W]=x(m[q],g[O])};for(M=0;M<S.length;++M)R(M)}return[S,b]}(a.shape,i.shape,s,l,a.dtype,function(h,p){var m=h-p;return m*m}),d=u[0],f=u[1];return{dataId:o.write(d,f,a.dtype),shape:f,dtype:a.dtype}}}];S4<tV.length;S4++)Xae(tV[S4]);var dg,YFe=function(e){this.variableNames=["A"];var t=go(),n=e[0],r=e[1];this.outputShape=e,this.userCode=`
      void main() {
        ivec3 coords = getOutputCoords();
        int texR = coords[0];
        int texC = coords[1];
        int depth = coords[2];
        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(`+r+".0, "+n+`.0);

        vec4 values = `+t.texture2D+`(A, uv);
        float value;
        if (depth == 0) {
          value = values.r;
        } else if (depth == 1) {
          value = values.g;
        } else if (depth == 2) {
          value = values.b;
        } else if (depth == 3) {
          value = values.a;
        }

        setOutput(floor(value * 255.0 + 0.5));
      }
    `},KFe=function(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;var t=go(),n=e[0],r=e[1];this.outputShape=e,this.userCode=`
      void main() {
        ivec3 coords = getOutputCoords();
        int texR = coords[0];
        int texC = coords[1];
        int depth = coords[2];

        vec4 result = vec4(0.);

        for(int row=0; row<=1; row++) {
          for(int col=0; col<=1; col++) {
            texC = coords[1] + row;
            depth = coords[2] + col;

            vec2 uv = (vec2(texC, texR) + halfCR) /
                       vec2(`+r+".0, "+n+`.0);
            vec4 values = `+t.texture2D+`(A, uv);
            float value;
            if (depth == 0) {
              value = values.r;
            } else if (depth == 1) {
              value = values.g;
            } else if (depth == 2) {
              value = values.b;
            } else if (depth == 3) {
              value = values.a;
            }

            result[row * 2 + col] = floor(value * 255.0 + 0.5);
          }
        }

        `+t.output+` = result;
      }
    `};for(var C4=0,nV=[{kernelName:"FromPixels",backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.pixels,i=r.numChannels,o=typeof HTMLVideoElement<"u"&&a instanceof HTMLVideoElement,s=typeof HTMLImageElement<"u"&&a instanceof HTMLImageElement,l=o?[a.videoWidth,a.videoHeight]:[a.width,a.height],u=l[0],d=l[1],f=[d,u],h=[d,u,i];(s||o)&&(dg==null&&(dg=document.createElement("canvas").getContext("2d")),dg.canvas.width=u,dg.canvas.height=d,dg.drawImage(a,0,0,u,d),a=dg.canvas);var p=n.makeTensorInfo(f,"int32");n.texData.get(p.dataId).usage=As.PIXELS,n.gpgpu.uploadPixelDataToTexture(n.getTexture(p.dataId),a);var m=lt().getBool("WEBGL_PACK")?new KFe(h):new YFe(h),g=n.runWebGLProgram(m,[p],"int32");return n.disposeData(p.dataId),g}},{kernelName:"NonMaxSuppressionV5",backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs;vE("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");var a=t,i=a.boxes,o=a.scores,s=r,l=s.maxOutputSize,u=s.iouThreshold,d=s.scoreThreshold,f=s.softNmsSigma,h=n,p=E5(h.readSync(i.dataId),h.readSync(o.dataId),l,u,d,f);return[p.selectedIndices,p.selectedScores]}},{kernelName:"Square",backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.x,a=n,i=new Ln(r.shape,"return x * x;");return a.runWebGLProgram(i,[r],r.dtype)}},{kernelName:Cb,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t,a=r.a,i=r.b,o=n,s=lt().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Yu("return (a - b) * (a - b);",a.shape,i.shape):new ka("return (a - b) * (a - b);",a.shape,i.shape);return o.compileAndRun(s,[a,i])}}];C4<nV.length;C4++)Xae(nV[C4]);for(var E4=0,rV=[{kernelName:"Square",gradFunc:function(e,t){var n=t[0];return{x:function(){return e.mul(n.toFloat().mul(2))}}}},{kernelName:Cb,gradFunc:function(e,t){var n=t[0],r=t[1],a=zt(2);return{a:function(){return bo(e,bo(a,gi(n,r)))},b:function(){return bo(e,bo(a,gi(r,n)))}}}}];E4<rV.length;E4++)qDe(rV[E4]);var XFe=function(){function e(){}return e.prototype.fetch=function(t,n){return fetch(t,n)},e.prototype.now=function(){return performance.now()},e.prototype.encode=function(t,n){if(n!=="utf-8"&&n!=="utf8")throw new Error("Browser's encoder only supports utf-8, but got "+n);return this.textEncoder==null&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(t)},e.prototype.decode=function(t,n){return new TextDecoder(n).decode(t)},e}();lt().get("IS_BROWSER")&&lt().setPlatform("browser",new XFe);var N4,ZFe=function(){return require("node-fetch")},QFe=function(){function e(){this.util=require("util"),this.textEncoder=new this.util.TextEncoder}return e.prototype.fetch=function(t,n){return lt().global.fetch!=null?lt().global.fetch(t,n):(N4==null&&(N4=ZFe()),N4(t,n))},e.prototype.now=function(){var t=process.hrtime();return 1e3*t[0]+t[1]/1e6},e.prototype.encode=function(t,n){if(n!=="utf-8"&&n!=="utf8")throw new Error("Node built-in encoder only supports utf-8, but got "+n);return this.textEncoder.encode(t)},e.prototype.decode=function(t,n){return t.length===0?"":new this.util.TextDecoder(n).decode(t)},e}();lt().get("IS_NODE")&&lt().setPlatform("node",new QFe);var uM={float32:4,int32:4,uint16:2,uint8:1,bool:1},PE=4;function xoe(e,t){for(var n={},r=0,a=function(s){var l=s.name,u=s.dtype,d=s.shape,f=un(d),h=void 0;if("quantization"in s){var p=s.quantization;if(p.dtype!=="uint8"&&p.dtype!=="uint16")throw new Error("Weight "+s.name+" has unknown quantization dtype "+p.dtype+". Supported quantization dtypes are: 'uint8' and 'uint16'.");var m=uM[p.dtype],g=e.slice(r,r+f*m),y=p.dtype==="uint8"?new Uint8Array(g):new Uint16Array(g);if(u==="float32")h=Float32Array.from(y,function(k){return k*p.scale+p.min});else{if(u!=="int32")throw new Error("Unsupported dtype in weight '"+l+"': "+u);h=Int32Array.from(y,function(k){return Math.round(k*p.scale+p.min)})}r+=f*m}else if(u==="string"){var x=un(s.shape);h=[];for(var b=0;b<x;b++){var w=new Uint32Array(e.slice(r,r+PE))[0];r+=PE;var _=new Uint8Array(e.slice(r,r+w));h.push(_),r+=w}}else{var S=uM[u];if(g=e.slice(r,r+f*S),u==="float32")h=new Float32Array(g);else if(u==="int32")h=new Int32Array(g);else{if(u!=="bool")throw new Error("Unsupported dtype in weight '"+l+"': "+u);h=new Uint8Array(g)}r+=f*S}n[l]=Gi(h,d,u)},i=0,o=t;i<o.length;i++)a(o[i]);return n}function JFe(e){if(e===null)throw new Error("Invalid input value: "+JSON.stringify(e));var t=0,n=[];e.forEach(function(i){if(t+=i.byteLength,n.push(i.byteLength===i.buffer.byteLength?i:new i.constructor(i)),!(i instanceof Float32Array||i instanceof Int32Array||i instanceof Uint8Array))throw new Error("Unsupported TypedArray subtype: "+i.constructor.name)});var r=new Uint8Array(t),a=0;return n.forEach(function(i){r.set(new Uint8Array(i.buffer),a),a+=i.byteLength}),r.buffer}var dM=typeof Buffer<"u"&&(typeof Blob>"u"||typeof atob>"u"||typeof btoa>"u");function aV(e){return dM?Buffer.byteLength(e):new Blob([e]).size}function V5(e){var t=0;e.forEach(function(a){t+=a.byteLength});var n=new Uint8Array(t),r=0;return e.forEach(function(a){n.set(new Uint8Array(a),r),r+=a.byteLength}),n.buffer}function iV(e){for(e=e.trim();e.endsWith("/");)e=e.slice(0,e.length-1);var t=e.split("/");return t[t.length-1]}function a2(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:e.modelTopology==null?0:aV(JSON.stringify(e.modelTopology)),weightSpecsBytes:e.weightSpecs==null?0:aV(JSON.stringify(e.weightSpecs)),weightDataBytes:e.weightData==null?0:e.weightData.byteLength}}var Ds=function(){function e(){this.saveRouters=[],this.loadRouters=[]}return e.getInstance=function(){return e.instance==null&&(e.instance=new e),e.instance},e.registerSaveRouter=function(t){e.getInstance().saveRouters.push(t)},e.registerLoadRouter=function(t){e.getInstance().loadRouters.push(t)},e.getSaveHandlers=function(t){return e.getHandlers(t,"save")},e.getLoadHandlers=function(t,n){return e.getHandlers(t,"load",n)},e.getHandlers=function(t,n,r){var a=[];return(n==="load"?e.getInstance().loadRouters:e.getInstance().saveRouters).forEach(function(i){var o=i(t,r);o!==null&&a.push(o)}),a},e}(),vv="://",th=function(){function e(){this.managers={}}return e.getInstance=function(){return e.instance==null&&(e.instance=new e),e.instance},e.registerManager=function(t,n){_e(t!=null,function(){return"scheme must not be undefined or null."}),t.endsWith(vv)&&(t=t.slice(0,t.indexOf(vv))),_e(t.length>0,function(){return"scheme must not be an empty string."});var r=e.getInstance();_e(r.managers[t]==null,function(){return"A model store manager is already registered for scheme '"+t+"'."}),r.managers[t]=n},e.getManager=function(t){var n=this.getInstance().managers[t];if(n==null)throw new Error("Cannot find model manager for scheme '"+t+"'");return n},e.getSchemes=function(){return Object.keys(this.getInstance().managers)},e}();function eC(e){if(e.indexOf(vv)===-1)throw new Error("The url string provided does not contain a scheme. Supported schemes are: "+th.getSchemes().join(","));return{scheme:e.split(vv)[0],path:e.split(vv)[1]}}function oV(e,t,n){return n===void 0&&(n=!1),an(this,void 0,void 0,function(){var r,a,i,o,s,l,u,d,f;return on(this,function(h){switch(h.label){case 0:return _e(e!==t,function(){return"Old path and new path are the same: '"+e+"'"}),_e((r=Ds.getLoadHandlers(e)).length>0,function(){return"Copying failed because no load handler is found for source URL "+e+"."}),_e(r.length<2,function(){return"Copying failed because more than one ("+r.length+") load handlers for source URL "+e+"."}),a=r[0],_e((i=Ds.getSaveHandlers(t)).length>0,function(){return"Copying failed because no save handler is found for destination URL "+t+"."}),_e(i.length<2,function(){return"Copying failed because more than one ("+r.length+") save handlers for destination URL "+t+"."}),o=i[0],s=eC(e).scheme,l=eC(e).path,u=s===eC(e).scheme,[4,a.load()];case 1:return d=h.sent(),n&&u?[4,th.getManager(s).removeModel(l)]:[3,3];case 2:h.sent(),h.label=3;case 3:return[4,o.save(d)];case 4:return f=h.sent(),!n||u?[3,6]:[4,th.getManager(s).removeModel(l)];case 5:h.sent(),h.label=6;case 6:return[2,f.modelArtifactsInfo]}})})}var Ap="models_store",If="model_info_store";function boe(){if(!lt().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");var e=window||self,t=e.indexedDB||e.mozIndexedDB||e.webkitIndexedDB||e.msIndexedDB||e.shimIndexedDB;if(t==null)throw new Error("The current browser does not appear to support IndexedDB.");return t}function fM(e){var t=e.result;t.createObjectStore(Ap,{keyPath:"modelPath"}),t.createObjectStore(If,{keyPath:"modelPath"})}var yv=function(){function e(t){if(this.indexedDB=boe(),t==null||!t)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=t}return e.prototype.save=function(t){return an(this,void 0,void 0,function(){return on(this,function(n){if(t.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return[2,this.databaseAction(this.modelPath,t)]})})},e.prototype.load=function(){return an(this,void 0,void 0,function(){return on(this,function(t){return[2,this.databaseAction(this.modelPath)]})})},e.prototype.databaseAction=function(t,n){var r=this;return new Promise(function(a,i){var o=r.indexedDB.open("tensorflowjs",1);o.onupgradeneeded=function(){return fM(o)},o.onsuccess=function(){var s=o.result;if(n==null){var l=s.transaction(Ap,"readonly"),u=l.objectStore(Ap).get(r.modelPath);u.onsuccess=function(){if(u.result==null)return s.close(),i(new Error("Cannot find model with path '"+r.modelPath+"' in IndexedDB."));a(u.result.modelArtifacts)},u.onerror=function(g){return s.close(),i(u.error)},l.oncomplete=function(){return s.close()}}else{var d,f=a2(n),h=s.transaction(If,"readwrite"),p=h.objectStore(If),m=p.put({modelPath:r.modelPath,modelArtifactsInfo:f});m.onsuccess=function(){var g=(d=s.transaction(Ap,"readwrite")).objectStore(Ap).put({modelPath:r.modelPath,modelArtifacts:n,modelArtifactsInfo:f});g.onsuccess=function(){return a({modelArtifactsInfo:f})},g.onerror=function(y){var x=(p=h.objectStore(If)).delete(r.modelPath);x.onsuccess=function(){return s.close(),i(g.error)},x.onerror=function(b){return s.close(),i(g.error)}}},m.onerror=function(g){return s.close(),i(m.error)},h.oncomplete=function(){d==null?s.close():d.oncomplete=function(){return s.close()}}}},o.onerror=function(s){return i(o.error)}})},e.URL_SCHEME="indexeddb://",e}(),sV=function(e){return lt().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(yv.URL_SCHEME)?(t=e.slice(yv.URL_SCHEME.length),new yv(t)):null;var t};Ds.registerSaveRouter(sV),Ds.registerLoadRouter(sV);var eLe=function(){function e(){this.indexedDB=boe()}return e.prototype.listModels=function(){return an(this,void 0,void 0,function(){var t=this;return on(this,function(n){return[2,new Promise(function(r,a){var i=t.indexedDB.open("tensorflowjs",1);i.onupgradeneeded=function(){return fM(i)},i.onsuccess=function(){var o=i.result,s=o.transaction(If,"readonly"),l=s.objectStore(If).getAll();l.onsuccess=function(){for(var u={},d=0,f=l.result;d<f.length;d++){var h=f[d];u[h.modelPath]=h.modelArtifactsInfo}r(u)},l.onerror=function(u){return o.close(),a(l.error)},s.oncomplete=function(){return o.close()}},i.onerror=function(o){return a(i.error)}})]})})},e.prototype.removeModel=function(t){return an(this,void 0,void 0,function(){var n=this;return on(this,function(r){var a;return t=(a=t).startsWith(yv.URL_SCHEME)?a.slice(yv.URL_SCHEME.length):a,[2,new Promise(function(i,o){var s=n.indexedDB.open("tensorflowjs",1);s.onupgradeneeded=function(){return fM(s)},s.onsuccess=function(){var l,u=s.result,d=u.transaction(If,"readwrite"),f=d.objectStore(If),h=f.get(t);h.onsuccess=function(){if(h.result==null)return u.close(),o(new Error("Cannot find model with path '"+t+"' in IndexedDB."));var p=f.delete(t),m=function(){var g=(l=u.transaction(Ap,"readwrite")).objectStore(Ap).delete(t);g.onsuccess=function(){return i(h.result.modelArtifactsInfo)},g.onerror=function(y){return o(h.error)}};p.onsuccess=m,p.onerror=function(g){return m(),u.close(),o(h.error)}},h.onerror=function(p){return u.close(),o(h.error)},d.oncomplete=function(){l==null?u.close():l.oncomplete=function(){return u.close()}}},s.onerror=function(l){return o(s.error)}})]})})},e}();if(lt().getBool("IS_BROWSER"))try{th.registerManager(yv.URL_SCHEME,new eLe)}catch{}var rd="/",kg="tensorflowjs_models",woe="info",tLe="model_topology",nLe="weight_specs",rLe="weight_data",aLe="model_metadata";function _oe(e){return{info:[kg,e,woe].join(rd),topology:[kg,e,tLe].join(rd),weightSpecs:[kg,e,nLe].join(rd),weightData:[kg,e,rLe].join(rd),modelMetadata:[kg,e,aLe].join(rd)}}function iLe(e){var t=e.split(rd);if(t.length<3)throw new Error("Invalid key format: "+e);return t.slice(1,t.length-1).join(rd)}var xv=function(){function e(t){if(!lt().getBool("IS_BROWSER")||typeof window>"u"||window.localStorage===void 0)throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,t==null||!t)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=t,this.keys=_oe(this.modelPath)}return e.prototype.save=function(t){return an(this,void 0,void 0,function(){var n,r,a;return on(this,function(i){if(t.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");n=JSON.stringify(t.modelTopology),r=JSON.stringify(t.weightSpecs),a=a2(t);try{return this.LS.setItem(this.keys.info,JSON.stringify(a)),this.LS.setItem(this.keys.topology,n),this.LS.setItem(this.keys.weightSpecs,r),this.LS.setItem(this.keys.weightData,function(o){if(dM)return Buffer.from(o).toString("base64");for(var s=new Uint8Array(o),l="",u=0,d=s.length;u<d;u++)l+=String.fromCharCode(s[u]);return btoa(l)}(t.weightData)),this.LS.setItem(this.keys.modelMetadata,JSON.stringify({format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy,userDefinedMetadata:t.userDefinedMetadata})),[2,{modelArtifactsInfo:a}]}catch{throw this.LS.removeItem(this.keys.info),this.LS.removeItem(this.keys.topology),this.LS.removeItem(this.keys.weightSpecs),this.LS.removeItem(this.keys.weightData),this.LS.removeItem(this.keys.modelMetadata),new Error("Failed to save model '"+this.modelPath+"' to local storage: size quota being exceeded is a possible cause of this failure: modelTopologyBytes="+a.modelTopologyBytes+", weightSpecsBytes="+a.weightSpecsBytes+", weightDataBytes="+a.weightDataBytes+".")}return[2]})})},e.prototype.load=function(){return an(this,void 0,void 0,function(){var t,n,r,a,i,o,s;return on(this,function(l){if((t=JSON.parse(this.LS.getItem(this.keys.info)))==null)throw new Error("In local storage, there is no model with name '"+this.modelPath+"'");if(t.modelTopologyType!=="JSON")throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");if(n={},(r=JSON.parse(this.LS.getItem(this.keys.topology)))==null)throw new Error("In local storage, the topology of model '"+this.modelPath+"' is missing.");if(n.modelTopology=r,(a=JSON.parse(this.LS.getItem(this.keys.weightSpecs)))==null)throw new Error("In local storage, the weight specs of model '"+this.modelPath+"' are missing.");if(n.weightSpecs=a,(i=this.LS.getItem(this.keys.modelMetadata))!=null&&(o=JSON.parse(i),n.format=o.format,n.generatedBy=o.generatedBy,n.convertedBy=o.convertedBy,n.userDefinedMetadata=o.userDefinedMetadata),(s=this.LS.getItem(this.keys.weightData))==null)throw new Error("In local storage, the binary weight values of model '"+this.modelPath+"' are missing.");return n.weightData=function(u){if(dM){var d=Buffer.from(u,"base64");return d.buffer.slice(d.byteOffset,d.byteOffset+d.byteLength)}for(var f=atob(u),h=new Uint8Array(f.length),p=0;p<f.length;++p)h.set([f.charCodeAt(p)],p);return h.buffer}(s),[2,n]})})},e.URL_SCHEME="localstorage://",e}(),lV=function(e){return lt().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(xv.URL_SCHEME)?(t=e.slice(xv.URL_SCHEME.length),new xv(t)):null;var t};Ds.registerSaveRouter(lV),Ds.registerLoadRouter(lV);var oLe=function(){function e(){_e(lt().getBool("IS_BROWSER"),function(){return"Current environment is not a web browser"}),_e(typeof window>"u"||window.localStorage!==void 0,function(){return"Current browser does not appear to support localStorage"}),this.LS=window.localStorage}return e.prototype.listModels=function(){return an(this,void 0,void 0,function(){var t,n,r,a,i,o;return on(this,function(s){for(t={},n=kg+rd,r=rd+woe,a=0;a<this.LS.length;++a)(i=this.LS.key(a)).startsWith(n)&&i.endsWith(r)&&(o=iLe(i),t[o]=JSON.parse(this.LS.getItem(i)));return[2,t]})})},e.prototype.removeModel=function(t){return an(this,void 0,void 0,function(){var n,r;return on(this,function(a){var i;if(t=(i=t).startsWith(xv.URL_SCHEME)?i.slice(xv.URL_SCHEME.length):i,n=_oe(t),this.LS.getItem(n.info)==null)throw new Error("Cannot find model at path '"+t+"'");return r=JSON.parse(this.LS.getItem(n.info)),this.LS.removeItem(n.info),this.LS.removeItem(n.topology),this.LS.removeItem(n.weightSpecs),this.LS.removeItem(n.weightData),[2,r]})})},e}();if(lt().getBool("IS_BROWSER"))try{th.registerManager(xv.URL_SCHEME,new oLe)}catch{}var sLe="model",lLe=".json",cLe=".weights.bin";function cV(e){return new Promise(function(t){return setTimeout(t)}).then(e)}var k4=function(){function e(t){if(!lt().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");t.startsWith(e.URL_SCHEME)&&(t=t.slice(e.URL_SCHEME.length)),t!=null&&t.length!==0||(t=sLe),this.modelTopologyFileName=t+lLe,this.weightDataFileName=t+cLe}return e.prototype.save=function(t){return an(this,void 0,void 0,function(){var n,r,a,i,o,s;return on(this,function(l){switch(l.label){case 0:if(typeof document>"u")throw new Error("Browser downloads are not supported in this environment since `document` is not present");if(n=window.URL.createObjectURL(new Blob([t.weightData],{type:"application/octet-stream"})),!(t.modelTopology instanceof ArrayBuffer))return[3,1];throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");case 1:return r=[{paths:["./"+this.weightDataFileName],weights:t.weightSpecs}],a={modelTopology:t.modelTopology,format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy,weightsManifest:r},i=window.URL.createObjectURL(new Blob([JSON.stringify(a)],{type:"application/json"})),(o=this.jsonAnchor==null?document.createElement("a"):this.jsonAnchor).download=this.modelTopologyFileName,o.href=i,[4,cV(function(){return o.dispatchEvent(new MouseEvent("click"))})];case 2:return l.sent(),t.weightData==null?[3,4]:((s=this.weightDataAnchor==null?document.createElement("a"):this.weightDataAnchor).download=this.weightDataFileName,s.href=n,[4,cV(function(){return s.dispatchEvent(new MouseEvent("click"))})]);case 3:l.sent(),l.label=4;case 4:return[2,{modelArtifactsInfo:a2(t)}]}})})},e.URL_SCHEME="downloads://",e}(),uLe=function(){function e(t){if(t==null||t.length<1)throw new Error("When calling browserFiles, at least 1 file is required, but received "+t);this.files=t}return e.prototype.load=function(){return an(this,void 0,void 0,function(){var t,n,r=this;return on(this,function(a){return t=this.files[0],n=this.files.slice(1),[2,new Promise(function(i,o){var s=new FileReader;s.onload=function(l){var u=JSON.parse(l.target.result),d=u.modelTopology;if(d!=null){n.length===0&&i({modelTopology:d});var f=u.weightsManifest;if(f!=null){var h;try{h=r.checkManifestAndWeightFiles(f,n)}catch(y){return void o(y)}var p=[],m=[],g=[];f.forEach(function(y){y.paths.forEach(function(x){m.push(x),g.push(null)}),p.push.apply(p,y.weights)}),f.forEach(function(y){y.paths.forEach(function(x){var b=new FileReader;b.onload=function(w){var _=w.target.result,S=m.indexOf(x);g[S]=_,g.indexOf(null)===-1&&i({modelTopology:d,weightSpecs:p,weightData:V5(g),format:u.format,generatedBy:u.generatedBy,convertedBy:u.convertedBy,userDefinedMetadata:u.userDefinedMetadata})},b.onerror=function(w){return o("Failed to weights data from file of path '"+x+"'.")},b.readAsArrayBuffer(h[x])})})}else o(new Error("weightManifest field is missing from file "+t.name))}else o(new Error("modelTopology field is missing from file "+t.name))},s.onerror=function(l){return o("Failed to read model topology and weights manifest JSON from file '"+t.name+"'. BrowserFiles supports loading Keras-style tf.Model artifacts only.")},s.readAsText(t)})]})})},e.prototype.checkManifestAndWeightFiles=function(t,n){for(var r=[],a=n.map(function(l){return iV(l.name)}),i={},o=0,s=t;o<s.length;o++)s[o].paths.forEach(function(l){var u=iV(l);if(r.indexOf(u)!==-1)throw new Error("Duplicate file basename found in weights manifest: '"+u+"'");if(r.push(u),a.indexOf(u)===-1)throw new Error("Weight file with basename '"+u+"' is not provided.");i[l]=n[a.indexOf(u)]});if(r.length!==n.length)throw new Error("Mismatch in the number of files in weights manifest ("+r.length+") and the number of weight files provided ("+n.length+").");return i},e}();function uV(e,t,n,r){(function(i){_e(i!=null&&Array.isArray(i)&&i.length>0,function(){return"promises must be a none empty array"})})(e),function(i,o){_e(i>=0&&i<=1,function(){return"Progress fraction must be in range [0, 1], but got startFraction "+i}),_e(o>=0&&o<=1,function(){return"Progress fraction must be in range [0, 1], but got endFraction "+o}),_e(o>=i,function(){return"startFraction must be no more than endFraction, but got startFraction "+i+" and endFraction "+o})}(n=n??0,r=r??1);var a=0;return Promise.all(e.map(function(i){return i.then(function(o){var s=n+ ++a/e.length*(r-n);return t(s),o}),i}))}function Soe(e,t){return an(this,void 0,void 0,function(){var n,r,a,i,o,s,l,u,d;return on(this,function(f){switch(f.label){case 0:return t==null&&(t={}),n=t.fetchFunc==null?lt().platform.fetch:t.fetchFunc,r=e.map(function(h){return n(h,t.requestInit,{isBinary:!0})}),a=0,i=.5,t.onProgress!=null?[3,2]:[4,Promise.all(r)];case 1:return o=f.sent(),[3,4];case 2:return[4,uV(r,t.onProgress,a,i)];case 3:o=f.sent(),f.label=4;case 4:return s=o.map(function(h){return h.arrayBuffer()}),l=.5,u=1,t.onProgress!=null?[3,6]:[4,Promise.all(s)];case 5:return d=f.sent(),[3,8];case 6:return[4,uV(s,t.onProgress,l,u)];case 7:d=f.sent(),f.label=8;case 8:return[2,d]}})})}function dV(e){var t=this;return function(n,r,a){return r===void 0&&(r=""),an(t,void 0,void 0,function(){var i,o,s,l,u,d,f,h,p,m;return on(this,function(g){switch(g.label){case 0:if(i=n.map(function(){return!1}),o={},s=a!=null?a.map(function(){return!1}):[],l=[],n.forEach(function(y,x){var b=0;y.weights.forEach(function(w){var _="quantization"in w?w.quantization.dtype:w.dtype,S=uM[_]*un(w.shape),k=function(){i[x]=!0,o[x]==null&&(o[x]=[]),o[x].push({manifestEntry:w,groupOffset:b,sizeBytes:S})};a!=null?a.forEach(function(N,P){N===w.name&&(k(),s[P]=!0)}):k(),l.push(w.name),b+=S})}),!s.every(function(y){return y}))throw u=a.filter(function(y,x){return!s[x]}),new Error("Could not find weights in manifest with names: "+u.join(", ")+`. 
Manifest JSON has weights with names: `+l.join(", ")+".");return d=i.reduce(function(y,x,b){return x&&y.push(b),y},[]),f=[],d.forEach(function(y){n[y].paths.forEach(function(x){var b=r+(r.endsWith("/")?"":"/")+x;f.push(b)})}),[4,e(f)];case 1:return h=g.sent(),p={},m=0,d.forEach(function(y){for(var x=n[y].paths.length,b=0,w=0;w<x;w++)b+=h[m+w].byteLength;for(var _=new ArrayBuffer(b),S=new Uint8Array(_),k=0,N=0;N<x;N++){var P=new Uint8Array(h[m+N]);S.set(P,k),k+=P.byteLength}o[y].forEach(function(T){var j=xoe(_.slice(T.groupOffset,T.groupOffset+T.sizeBytes),[T.manifestEntry]);for(var D in j)p[D]=j[D]}),m+=x}),[2,p]}})})}}Ds.registerSaveRouter(function(e){return lt().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(k4.URL_SCHEME)?function(t){return t===void 0&&(t="model"),new k4(t)}(e.slice(k4.URL_SCHEME.length)):null});var Coe=function(){function e(t,n){if(this.DEFAULT_METHOD="POST",n==null&&(n={}),this.weightPathPrefix=n.weightPathPrefix,this.onProgress=n.onProgress,n.fetchFunc!=null?(_e(typeof n.fetchFunc=="function",function(){return"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)"}),this.fetch=n.fetchFunc):this.fetch=lt().platform.fetch,_e(t!=null&&t.length>0,function(){return"URL path for http must not be null, undefined or empty."}),Array.isArray(t)&&_e(t.length===2,function(){return"URL paths for http must have a length of 2, (actual length is "+t.length+")."}),this.path=t,n.requestInit!=null&&n.requestInit.body!=null)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=n.requestInit||{}}return e.prototype.save=function(t){return an(this,void 0,void 0,function(){var n,r,a,i;return on(this,function(o){switch(o.label){case 0:if(t.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");return(n=Object.assign({method:this.DEFAULT_METHOD},this.requestInit)).body=new FormData,r=[{paths:["./model.weights.bin"],weights:t.weightSpecs}],a={modelTopology:t.modelTopology,format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy,userDefinedMetadata:t.userDefinedMetadata,weightsManifest:r},n.body.append("model.json",new Blob([JSON.stringify(a)],{type:"application/json"}),"model.json"),t.weightData!=null&&n.body.append("model.weights.bin",new Blob([t.weightData],{type:"application/octet-stream"}),"model.weights.bin"),[4,this.fetch(this.path,n)];case 1:if((i=o.sent()).ok)return[2,{modelArtifactsInfo:a2(t),responses:[i]}];throw new Error("BrowserHTTPRequest.save() failed due to HTTP response status "+i.status+".")}})})},e.prototype.load=function(){return an(this,void 0,void 0,function(){var t,n,r,a,i,o,s,l,u,d,f,h;return on(this,function(p){switch(p.label){case 0:return[4,this.fetch(this.path,this.requestInit)];case 1:if(!(t=p.sent()).ok)throw new Error("Request to "+this.path+" failed with status code "+t.status+". Please verify this URL points to the model JSON of the model to load.");p.label=2;case 2:return p.trys.push([2,4,,5]),[4,t.json()];case 3:return n=p.sent(),[3,5];case 4:throw p.sent(),r="Failed to parse model JSON of response from "+this.path+".",this.path.endsWith(".pb")?r+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":r+=" Please make sure the server is serving valid JSON for this request.",new Error(r);case 5:if(a=n.modelTopology,i=n.weightsManifest,o=n.generatedBy,s=n.convertedBy,l=n.format,u=n.userDefinedMetadata,a==null&&i==null)throw new Error("The JSON from HTTP path "+this.path+" contains neither model topology or manifest for weights.");return i==null?[3,7]:[4,this.loadWeights(i)];case 6:h=p.sent(),d=h[0],f=h[1],p.label=7;case 7:return[2,{modelTopology:a,weightSpecs:d,weightData:f,userDefinedMetadata:u,generatedBy:o,convertedBy:s,format:l}]}})})},e.prototype.loadWeights=function(t){return an(this,void 0,void 0,function(){var n,r,a,i,o,s,l,u,d,f,h;return on(this,function(p){switch(p.label){case 0:for(n=Array.isArray(this.path)?this.path[1]:this.path,r=function(m){var g=m.lastIndexOf("/"),y=m.lastIndexOf("?"),x=m.substring(0,g),b=y>g?m.substring(y):"";return[x+"/",b]}(n),a=r[0],i=r[1],o=this.weightPathPrefix||a,s=[],l=0,u=t;l<u.length;l++)d=u[l],s.push.apply(s,d.weights);return f=[],t.forEach(function(m){m.paths.forEach(function(g){f.push(o+g+i)})}),[4,Soe(f,{requestInit:this.requestInit,fetchFunc:this.fetch,onProgress:this.onProgress})];case 1:return h=p.sent(),[2,[s,V5(h)]]}})})},e.URL_SCHEME_REGEX=/^https?:\/\//,e}();function hM(e){return e.match(Coe.URL_SCHEME_REGEX)!=null}var fV=function(e,t){return typeof fetch>"u"?null:(Array.isArray(e)?e.every(function(n){return hM(n)}):hM(e))?pM(e,{onProgress:t}):null};function pM(e,t){return new Coe(e,t)}Ds.registerSaveRouter(fV),Ds.registerLoadRouter(fV);var j4=function(){function e(t){this.modelArtifacts=t}return e.prototype.load=function(){return an(this,void 0,void 0,function(){return on(this,function(t){return[2,this.modelArtifacts]})})},e}(),dLe=function(){function e(t){this.saveHandler=t}return e.prototype.save=function(t){return an(this,void 0,void 0,function(){return on(this,function(n){return[2,this.saveHandler(t)]})})},e}(),Eoe=Object.freeze({browserFiles:function(e){return new uLe(e)},browserHTTPRequest:function(e,t){return pM(e,t)},concatenateArrayBuffers:V5,decodeWeights:xoe,encodeWeights:function(e,t){return an(this,void 0,void 0,function(){var n,r,a,i,o,s=this;return on(this,function(l){switch(l.label){case 0:for(n=[],r=[],a=Array.isArray(e)?e.map(function(u){return u.name}):Object.keys(e),i=function(u){var d=a[u],f=Array.isArray(e)?e[u].tensor:e[d];if(f.dtype!=="float32"&&f.dtype!=="int32"&&f.dtype!=="bool"&&f.dtype!=="string")throw new Error("Unsupported dtype in weight '"+d+"': "+f.dtype);var h={name:d,shape:f.shape,dtype:f.dtype};if(f.dtype==="string"){var p=new Promise(function(m){return an(s,void 0,void 0,function(){var g,y,x,b,w,_,S;return on(this,function(k){switch(k.label){case 0:return[4,f.bytes()];case 1:for(g=k.sent(),y=g.reduce(function(N,P){return N+P.length},0)+PE*g.length,x=new Uint8Array(y),b=0,w=0;w<g.length;w++)_=g[w],S=new Uint8Array(new Uint32Array([_.length]).buffer),x.set(S,b),b+=PE,x.set(_,b),b+=_.length;return m(x),[2]}})})});r.push(p)}else r.push(f.data());t!=null&&(h.group=t),n.push(h)},o=0;o<a.length;++o)i(o);return[4,Promise.all(r)];case 1:return[2,{data:JFe(l.sent()),specs:n}]}})})},fromMemory:function(e,t,n,r){return arguments.length===1?e.modelTopology!=null||e.weightSpecs!=null?new j4(e):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new j4({modelTopology:e})):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new j4({modelTopology:e,weightSpecs:t,weightData:n,trainingConfig:r}))},getLoadHandlers:function(e,t){return Ds.getLoadHandlers(e,t)},getModelArtifactsInfoForJSON:a2,getSaveHandlers:function(e){return Ds.getSaveHandlers(e)},http:pM,isHTTPScheme:hM,loadWeights:function(e,t,n,r){return t===void 0&&(t=""),an(this,void 0,void 0,function(){return on(this,function(a){return[2,dV(function(i){return Soe(i,{requestInit:r})})(e,t,n)]})})},registerLoadRouter:function(e){return Ds.registerLoadRouter(e)},registerSaveRouter:function(e){return Ds.registerSaveRouter(e)},weightsLoaderFactory:dV,withSaveHandler:function(e){return new dLe(e)},copyModel:function(e,t){return an(this,void 0,void 0,function(){return on(this,function(n){return[2,oV(e,t,!1)]})})},listModels:function(){return an(this,void 0,void 0,function(){var e,t,n,r,a,i,o;return on(this,function(s){switch(s.label){case 0:e=th.getSchemes(),t={},n=0,r=e,s.label=1;case 1:return n<r.length?(a=r[n],[4,th.getManager(a).listModels()]):[3,4];case 2:for(o in i=s.sent())t[a+vv+o]=i[o];s.label=3;case 3:return n++,[3,1];case 4:return[2,t]}})})},moveModel:function(e,t){return an(this,void 0,void 0,function(){return on(this,function(n){return[2,oV(e,t,!0)]})})},removeModel:function(e){return an(this,void 0,void 0,function(){var t;return on(this,function(n){return t=eC(e),[2,th.getManager(t.scheme).removeModel(t.path)]})})}}),fg;Pe({confusionMatrix_:function(e,t,n){var r=xe(e,"labels","confusionMatrix"),a=xe(t,"predictions","confusionMatrix");_e(n==null||n>0&&Number.isInteger(n),function(){return"If provided, numClasses must be a positive integer, but got "+n}),_e(r.rank===1,function(){return"Expected the rank of labels to be 1, but got "+r.rank}),_e(a.rank===1,function(){return"Expected the rank of predictions to be 1, but got "+a.rank}),_e(r.shape[0]===a.shape[0],function(){return"Mismatch in the number of examples: "+r.shape[0]+" vs. "+a.shape[0]+". Labels and predictions should have the same number of elements."}),_e(n>0&&Number.isInteger(n),function(){return"numClasses is required to be a positive integer, but got "+n});var i=iM(r.asType("int32"),n),o=iM(a.asType("int32"),n);return i.transpose().matMul(o).asType("int32")}});var fLe=Pe({fromPixels_:function(e,t){if(t===void 0&&(t=3),t>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");if(e==null)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");var n=!1,r=!1,a=!1,i=!1,o=!1;if(e.data instanceof Uint8Array)n=!0;else if(typeof ImageData<"u"&&e instanceof ImageData)r=!0;else if(typeof HTMLVideoElement<"u"&&e instanceof HTMLVideoElement)a=!0;else if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement)i=!0;else{if(e.getContext==null)throw new Error("pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, but was "+e.constructor.name);o=!0}if(a&&a&&e.readyState<2)throw new Error("The video element has not loaded data yet. Please wait for `loadeddata` event on the <video> element.");if(Kae("FromPixels",Ie.backendName)!=null)return Ie.runKernel("FromPixels",{pixels:e},{numChannels:t});var s,l,u=a?[e.videoWidth,e.videoHeight]:[e.width,e.height],d=u[0],f=u[1];if(o?s=e.getContext("2d").getImageData(0,0,d,f).data:r||n?s=e.data:(i||a)&&(fg==null&&(fg=document.createElement("canvas").getContext("2d")),fg.canvas.width=d,fg.canvas.height=f,fg.drawImage(e,0,0,d,f),s=fg.getImageData(0,0,d,f).data),t===4)l=new Int32Array(s);else{var h=d*f;l=new Int32Array(h*t);for(var p=0;p<h;p++)for(var m=0;m<t;++m)l[p*t+m]=s[4*p+m]}return x5(l,[f,d,t],"int32")}}),H5=Object.freeze({toPixels:function(e,t){return an(this,void 0,void 0,function(){var n,r,a,i,o,s,l,u,d,f,h,p,m,g,y,x,b,w,_,S,k,N,P;return on(this,function(T){switch(T.label){case 0:if(n=xe(e,"img","toPixels"),e instanceof ba||(n=n.toInt()),n.rank!==2&&n.rank!==3)throw new Error("toPixels only supports rank 2 or 3 tensors, got rank "+n.rank+".");if(r=n.shape.slice(0,2),a=r[0],i=r[1],(o=n.rank===2?1:n.shape[2])>4||o===2)throw new Error("toPixels only supports depth of size 1, 3 or 4 but got "+o);return[4,n.data()];case 1:return s=T.sent(),l=n.min(),u=n.max(),[4,Promise.all([l.data(),u.data()])];case 2:if(d=T.sent(),f=d[0],h=d[1],p=f[0],m=h[0],l.dispose(),u.dispose(),n.dtype==="float32"){if(p<0||m>1)throw new Error("Tensor values for a float32 Tensor must be in the range [0 - 1] but got range ["+p+" - "+m+"].")}else{if(n.dtype!=="int32")throw new Error("Unsupported type for toPixels: "+n.dtype+". Please use float32 or int32 tensors.");if(p<0||m>255)throw new Error("Tensor values for a int32 Tensor must be in the range [0 - 255] but got range ["+p+" - "+m+"].")}for(g=n.dtype==="float32"?255:1,y=new Uint8ClampedArray(i*a*4),x=0;x<a*i;++x)b=void 0,w=void 0,_=void 0,S=void 0,o===1?(b=s[x]*g,w=s[x]*g,_=s[x]*g,S=255):o===3?(b=s[3*x]*g,w=s[3*x+1]*g,_=s[3*x+2]*g,S=255):o===4&&(b=s[4*x]*g,w=s[4*x+1]*g,_=s[4*x+2]*g,S=s[4*x+3]*g),y[(k=4*x)+0]=Math.round(b),y[k+1]=Math.round(w),y[k+2]=Math.round(_),y[k+3]=Math.round(S);return t!=null&&(t.width=i,t.height=a,N=t.getContext("2d"),P=new ImageData(y,i,a),N.putImageData(P,0,0)),n!==e&&n.dispose(),[2,y]}})})},fromPixels:fLe}),hLe=function(){function e(){}return e.prototype.getClassName=function(){return this.constructor.className},e.fromConfig=function(t,n){return new t(n)},e}(),pLe=function(){function e(){this.classNameMap={}}return e.getMap=function(){return e.instance==null&&(e.instance=new e),e.instance},e.register=function(t){e.getMap().classNameMap[t.className]=[t,t.fromConfig]},e}();function Rm(e){_e(e.className!=null,function(){return"Class being registered does not have the static className property defined."}),_e(typeof e.className=="string",function(){return"className is required to be a string, but got type "+typeof e.className}),_e(e.className.length>0,function(){return"Class being registered has an empty-string as its className, which is disallowed."}),pLe.register(e)}var Fm=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Cc(t,e),t.prototype.minimize=function(n,r,a){r===void 0&&(r=!1);var i=this.computeGradients(n,a),o=i.value,s=i.grads;if(a!=null){var l=a.map(function(u){return{name:u.name,tensor:s[u.name]}});this.applyGradients(l)}else this.applyGradients(s);return ss(s),r?o:(o.dispose(),null)},Object.defineProperty(t.prototype,"iterations",{get:function(){return this.iterations_==null&&(this.iterations_=0),this.iterations_},enumerable:!0,configurable:!0}),t.prototype.incrementIterations=function(){this.iterations_=this.iterations+1},t.prototype.computeGradients=function(n,r){return C3e(n,r)},t.prototype.dispose=function(){this.iterations_!=null&&ss(this.iterations_)},t.prototype.saveIterations=function(){return an(this,void 0,void 0,function(){return on(this,function(n){return this.iterations_==null&&(this.iterations_=0),[2,{name:"iter",tensor:zt(this.iterations_,"int32")}]})})},t.prototype.getWeights=function(){return an(this,void 0,void 0,function(){return on(this,function(n){throw new Error("getWeights() is not implemented for this optimizer yet.")})})},t.prototype.setWeights=function(n){return an(this,void 0,void 0,function(){return on(this,function(r){throw new Error("setWeights() is not implemented for this optimizer class "+this.getClassName())})})},t.prototype.extractIterations=function(n){return an(this,void 0,void 0,function(){var r;return on(this,function(a){switch(a.label){case 0:return r=this,[4,n[0].tensor.data()];case 1:return r.iterations_=a.sent()[0],[2,n.slice(1)]}})})},t}(hLe);Object.defineProperty(Fm,Symbol.hasInstance,{value:function(e){return e.minimize!=null&&e.computeGradients!=null&&e.applyGradients!=null}});var mLe=function(e){function t(n,r,a){a===void 0&&(a=null);var i=e.call(this)||this;return i.learningRate=n,i.rho=r,i.epsilon=a,i.accumulatedGrads=[],i.accumulatedUpdates=[],a==null&&(i.epsilon=Ie.backend.epsilon()),i}return Cc(t,e),t.prototype.applyGradients=function(n){var r=this;(Array.isArray(n)?n.map(function(a){return a.name}):Object.keys(n)).forEach(function(a,i){var o=Ie.registeredVariables[a];r.accumulatedGrads[i]==null&&(r.accumulatedGrads[i]={originalName:a+"/accum_grad",variable:Qt(function(){return or(o).variable(!1)})}),r.accumulatedUpdates[i]==null&&(r.accumulatedUpdates[i]={originalName:a+"/accum_var",variable:Qt(function(){return or(o).variable(!1)})});var s=Array.isArray(n)?n[i].tensor:n[a];if(s!=null){var l=r.accumulatedGrads[i].variable,u=r.accumulatedUpdates[i].variable;Qt(function(){var d=l.mul(r.rho).add(s.square().mul(1-r.rho)),f=u.add(r.epsilon).sqrt().div(l.add(r.epsilon).sqrt()).mul(s),h=u.mul(r.rho).add(f.square().mul(1-r.rho));l.assign(d),u.assign(h);var p=f.mul(-r.learningRate).add(o);o.assign(p)})}}),this.incrementIterations()},t.prototype.dispose=function(){this.accumulatedUpdates!=null&&(ss(this.accumulatedGrads.map(function(n){return n.variable})),ss(this.accumulatedUpdates.map(function(n){return n.variable})))},t.prototype.getWeights=function(){return an(this,void 0,void 0,function(){var n;return on(this,function(r){switch(r.label){case 0:return n=this.accumulatedGrads.concat(this.accumulatedUpdates),[4,this.saveIterations()];case 1:return[2,[r.sent()].concat(n.map(function(a){return{name:a.originalName,tensor:a.variable}}))]}})})},t.prototype.setWeights=function(n){return an(this,void 0,void 0,function(){var r;return on(this,function(a){switch(a.label){case 0:return[4,this.extractIterations(n)];case 1:return n=a.sent(),r=n.length/2,this.accumulatedGrads=n.slice(0,r).map(function(i){return{originalName:i.name,variable:i.tensor.variable(!1)}}),this.accumulatedUpdates=n.slice(r,2*r).map(function(i){return{originalName:i.name,variable:i.tensor.variable(!1)}}),[2]}})})},t.prototype.getConfig=function(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}},t.fromConfig=function(n,r){return new n(r.learningRate,r.rho,r.epsilon)},t.className="Adadelta",t}(Fm);Rm(mLe);var gLe=function(e){function t(n,r){r===void 0&&(r=.1);var a=e.call(this)||this;return a.learningRate=n,a.initialAccumulatorValue=r,a.accumulatedGrads=[],a}return Cc(t,e),t.prototype.applyGradients=function(n){var r=this;(Array.isArray(n)?n.map(function(a){return a.name}):Object.keys(n)).forEach(function(a,i){var o=Ie.registeredVariables[a];r.accumulatedGrads[i]==null&&(r.accumulatedGrads[i]={originalName:a+"/accumulator",variable:Qt(function(){return yu(o.shape,r.initialAccumulatorValue).variable(!1)})});var s=Array.isArray(n)?n[i].tensor:n[a];if(s!=null){var l=r.accumulatedGrads[i].variable;Qt(function(){var u=l.add(s.square());l.assign(u);var d=s.div(u.add(Ie.backend.epsilon()).sqrt()).mul(-r.learningRate).add(o);o.assign(d)})}}),this.incrementIterations()},t.prototype.dispose=function(){this.accumulatedGrads!=null&&ss(this.accumulatedGrads.map(function(n){return n.variable}))},t.prototype.getWeights=function(){return an(this,void 0,void 0,function(){return on(this,function(n){switch(n.label){case 0:return[4,this.saveIterations()];case 1:return[2,[n.sent()].concat(this.accumulatedGrads.map(function(r){return{name:r.originalName,tensor:r.variable}}))]}})})},t.prototype.setWeights=function(n){return an(this,void 0,void 0,function(){return on(this,function(r){switch(r.label){case 0:return[4,this.extractIterations(n)];case 1:return n=r.sent(),this.accumulatedGrads=n.map(function(a){return{originalName:a.name,variable:a.tensor.variable(!1)}}),[2]}})})},t.prototype.getConfig=function(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}},t.fromConfig=function(n,r){return new n(r.learningRate,r.initialAccumulatorValue)},t.className="Adagrad",t}(Fm);Rm(gLe);var vLe=function(e){function t(n,r,a,i){i===void 0&&(i=null);var o=e.call(this)||this;return o.learningRate=n,o.beta1=r,o.beta2=a,o.epsilon=i,o.accumulatedFirstMoment=[],o.accumulatedSecondMoment=[],Qt(function(){o.accBeta1=zt(r).variable(),o.accBeta2=zt(a).variable()}),i==null&&(o.epsilon=Ie.backend.epsilon()),o}return Cc(t,e),t.prototype.applyGradients=function(n){var r=this,a=Array.isArray(n)?n.map(function(i){return i.name}):Object.keys(n);Qt(function(){var i=gi(1,r.accBeta1),o=gi(1,r.accBeta2);a.forEach(function(s,l){var u=Ie.registeredVariables[s];r.accumulatedFirstMoment[l]==null&&(r.accumulatedFirstMoment[l]={originalName:s+"/m",variable:Qt(function(){return or(u).variable(!1)})}),r.accumulatedSecondMoment[l]==null&&(r.accumulatedSecondMoment[l]={originalName:s+"/v",variable:Qt(function(){return or(u).variable(!1)})});var d=Array.isArray(n)?n[l].tensor:n[s];if(d!=null){var f=r.accumulatedFirstMoment[l].variable,h=r.accumulatedSecondMoment[l].variable,p=f.mul(r.beta1).add(d.mul(1-r.beta1)),m=h.mul(r.beta2).add(d.square().mul(1-r.beta2)),g=p.div(i),y=m.div(o);f.assign(p),h.assign(m);var x=g.div(y.sqrt().add(r.epsilon)).mul(-r.learningRate).add(u);u.assign(x)}}),r.accBeta1.assign(r.accBeta1.mul(r.beta1)),r.accBeta2.assign(r.accBeta2.mul(r.beta2))}),this.incrementIterations()},t.prototype.dispose=function(){this.accBeta1.dispose(),this.accBeta2.dispose(),this.accumulatedFirstMoment!=null&&ss(this.accumulatedFirstMoment.map(function(n){return n.variable})),this.accumulatedSecondMoment!=null&&ss(this.accumulatedSecondMoment.map(function(n){return n.variable}))},t.prototype.getWeights=function(){return an(this,void 0,void 0,function(){var n;return on(this,function(r){switch(r.label){case 0:return n=this.accumulatedFirstMoment.concat(this.accumulatedSecondMoment),[4,this.saveIterations()];case 1:return[2,[r.sent()].concat(n.map(function(a){return{name:a.originalName,tensor:a.variable}}))]}})})},t.prototype.setWeights=function(n){return an(this,void 0,void 0,function(){var r,a=this;return on(this,function(i){switch(i.label){case 0:return[4,this.extractIterations(n)];case 1:return n=i.sent(),Qt(function(){a.accBeta1.assign(jE(a.beta1,a.iterations_+1)),a.accBeta2.assign(jE(a.beta2,a.iterations_+1))}),r=n.length/2,this.accumulatedFirstMoment=n.slice(0,r).map(function(o){return{originalName:o.name,variable:o.tensor.variable(!1)}}),this.accumulatedSecondMoment=n.slice(r,2*r).map(function(o){return{originalName:o.name,variable:o.tensor.variable(!1)}}),[2]}})})},t.prototype.getConfig=function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}},t.fromConfig=function(n,r){return new n(r.learningRate,r.beta1,r.beta2,r.epsilon)},t.className="Adam",t}(Fm);Rm(vLe);var yLe=function(e){function t(n,r,a,i,o){i===void 0&&(i=null),o===void 0&&(o=0);var s=e.call(this)||this;return s.learningRate=n,s.beta1=r,s.beta2=a,s.epsilon=i,s.decay=o,s.accumulatedFirstMoment=[],s.accumulatedWeightedInfNorm=[],Qt(function(){s.iteration=zt(0).variable(),s.accBeta1=zt(r).variable()}),i==null&&(s.epsilon=Ie.backend.epsilon()),s}return Cc(t,e),t.prototype.applyGradients=function(n){var r=this,a=Array.isArray(n)?n.map(function(i){return i.name}):Object.keys(n);Qt(function(){var i=gi(1,r.accBeta1),o=ic(-r.learningRate,r.iteration.mul(r.decay).add(1));a.forEach(function(s,l){var u=Ie.registeredVariables[s];r.accumulatedFirstMoment[l]==null&&(r.accumulatedFirstMoment[l]={originalName:s+"/m",variable:or(u).variable(!1)}),r.accumulatedWeightedInfNorm[l]==null&&(r.accumulatedWeightedInfNorm[l]={originalName:s+"/v",variable:or(u).variable(!1)});var d=Array.isArray(n)?n[l].tensor:n[s];if(d!=null){var f=r.accumulatedFirstMoment[l].variable,h=r.accumulatedWeightedInfNorm[l].variable,p=f.mul(r.beta1).add(d.mul(1-r.beta1)),m=h.mul(r.beta2),g=d.abs(),y=m.maximum(g);f.assign(p),h.assign(y);var x=o.div(i).mul(p.div(y.add(r.epsilon))).add(u);u.assign(x)}}),r.iteration.assign(r.iteration.add(1)),r.accBeta1.assign(r.accBeta1.mul(r.beta1))}),this.incrementIterations()},t.prototype.dispose=function(){this.accBeta1.dispose(),this.iteration.dispose(),this.accumulatedFirstMoment!=null&&ss(this.accumulatedFirstMoment.map(function(n){return n.variable})),this.accumulatedWeightedInfNorm!=null&&ss(this.accumulatedWeightedInfNorm.map(function(n){return n.variable}))},t.prototype.getWeights=function(){return an(this,void 0,void 0,function(){return on(this,function(n){throw new Error("getWeights() is not implemented for Adamax yet.")})})},t.prototype.setWeights=function(n){return an(this,void 0,void 0,function(){return on(this,function(r){throw new Error("setWeights() is not implemented for Adamax yet.")})})},t.prototype.getConfig=function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}},t.fromConfig=function(n,r){return new n(r.learningRate,r.beta1,r.beta2,r.epsilon,r.decay)},t.className="Adamax",t}(Fm);Rm(yLe);var Noe=function(e){function t(n){var r=e.call(this)||this;return r.learningRate=n,r.setLearningRate(n),r}return Cc(t,e),t.prototype.applyGradients=function(n){var r=this;(Array.isArray(n)?n.map(function(a){return a.name}):Object.keys(n)).forEach(function(a,i){var o=Array.isArray(n)?n[i].tensor:n[a];if(o!=null){var s=Ie.registeredVariables[a];Qt(function(){var l=r.c.mul(o).add(s);s.assign(l)})}}),this.incrementIterations()},t.prototype.setLearningRate=function(n){this.learningRate=n,this.c!=null&&this.c.dispose(),this.c=LOe(zt(-n))},t.prototype.dispose=function(){this.c.dispose()},t.prototype.getWeights=function(){return an(this,void 0,void 0,function(){return on(this,function(n){switch(n.label){case 0:return[4,this.saveIterations()];case 1:return[2,[n.sent()]]}})})},t.prototype.setWeights=function(n){return an(this,void 0,void 0,function(){return on(this,function(r){switch(r.label){case 0:return[4,this.extractIterations(n)];case 1:if((n=r.sent()).length!==0)throw new Error("SGD optimizer does not have settable weights.");return[2]}})})},t.prototype.getConfig=function(){return{learningRate:this.learningRate}},t.fromConfig=function(n,r){return new n(r.learningRate)},t.className="SGD",t}(Fm);Rm(Noe);var xLe=function(e){function t(n,r,a){a===void 0&&(a=!1);var i=e.call(this,n)||this;return i.learningRate=n,i.momentum=r,i.useNesterov=a,i.accumulations=[],i.m=zt(i.momentum),i}return Cc(t,e),t.prototype.applyGradients=function(n){var r=this;(Array.isArray(n)?n.map(function(a){return a.name}):Object.keys(n)).forEach(function(a,i){var o=Ie.registeredVariables[a];r.accumulations[i]==null&&(r.accumulations[i]={originalName:a+"/momentum",variable:Qt(function(){return or(o).variable(!1)})});var s=r.accumulations[i].variable,l=Array.isArray(n)?n[i].tensor:n[a];l!=null&&Qt(function(){var u,d=r.m.mul(s).add(l);u=r.useNesterov?r.c.mul(l.add(d.mul(r.m))).add(o):r.c.mul(d).add(o),s.assign(d),o.assign(u)})}),this.incrementIterations()},t.prototype.dispose=function(){this.m.dispose(),this.accumulations!=null&&ss(this.accumulations.map(function(n){return n.variable}))},t.prototype.setMomentum=function(n){this.momentum=n},t.prototype.getWeights=function(){return an(this,void 0,void 0,function(){return on(this,function(n){switch(n.label){case 0:return[4,this.saveIterations()];case 1:return[2,[n.sent()].concat(this.accumulations.map(function(r){return{name:r.originalName,tensor:r.variable}}))]}})})},t.prototype.setWeights=function(n){return an(this,void 0,void 0,function(){return on(this,function(r){switch(r.label){case 0:return[4,this.extractIterations(n)];case 1:return n=r.sent(),this.accumulations=n.map(function(a){return{originalName:a.name,variable:a.tensor.variable(!1)}}),[2]}})})},t.prototype.getConfig=function(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}},t.fromConfig=function(n,r){return new n(r.learningRate,r.momentum,r.useNesterov)},t.className="Momentum",t}(Noe);Rm(xLe);var bLe=function(e){function t(n,r,a,i,o){r===void 0&&(r=.9),a===void 0&&(a=0),i===void 0&&(i=null),o===void 0&&(o=!1);var s=e.call(this)||this;if(s.learningRate=n,s.decay=r,s.momentum=a,s.epsilon=i,s.accumulatedMeanSquares=[],s.accumulatedMoments=[],s.accumulatedMeanGrads=[],s.centered=o,i==null&&(s.epsilon=Ie.backend.epsilon()),n==null)throw new Error("learningRate for RMSPropOptimizer must be defined.");return s}return Cc(t,e),t.prototype.applyGradients=function(n){var r=this;(Array.isArray(n)?n.map(function(a){return a.name}):Object.keys(n)).forEach(function(a,i){var o=Ie.registeredVariables[a];r.accumulatedMeanSquares[i]==null&&(r.accumulatedMeanSquares[i]={originalName:a+"/rms",variable:Qt(function(){return or(o).variable(!1)})}),r.accumulatedMoments[i]==null&&(r.accumulatedMoments[i]={originalName:a+"/momentum",variable:Qt(function(){return or(o).variable(!1)})}),r.accumulatedMeanGrads[i]==null&&r.centered&&(r.accumulatedMeanGrads[i]={originalName:a+"/mg",variable:Qt(function(){return or(o).variable(!1)})});var s=Array.isArray(n)?n[i].tensor:n[a];if(s!=null){var l=r.accumulatedMeanSquares[i].variable,u=r.accumulatedMoments[i].variable;Qt(function(){var d=l.mul(r.decay).add(s.square().mul(1-r.decay));if(r.centered){var f=r.accumulatedMeanGrads[i].variable,h=f.mul(r.decay).add(s.mul(1-r.decay)),p=u.mul(r.momentum).add(s.mul(r.learningRate).div(d.sub(h.square().add(r.epsilon)).sqrt()));l.assign(d),f.assign(h),u.assign(p);var m=o.sub(p);o.assign(m)}else{var g=l.mul(r.decay).add(s.square().mul(1-r.decay));p=u.mul(r.momentum).add(s.mul(r.learningRate).div(g.add(r.epsilon).sqrt())),l.assign(g),u.assign(p),m=o.sub(p),o.assign(m)}})}}),this.incrementIterations()},t.prototype.dispose=function(){this.accumulatedMeanSquares!=null&&ss(this.accumulatedMeanSquares.map(function(n){return n.variable})),this.accumulatedMeanGrads!=null&&this.centered&&ss(this.accumulatedMeanGrads.map(function(n){return n.variable})),this.accumulatedMoments!=null&&ss(this.accumulatedMoments.map(function(n){return n.variable}))},t.prototype.getWeights=function(){return an(this,void 0,void 0,function(){var n;return on(this,function(r){switch(r.label){case 0:return n=this.accumulatedMeanSquares.concat(this.accumulatedMoments),this.centered&&n.push.apply(n,this.accumulatedMeanGrads),[4,this.saveIterations()];case 1:return[2,[r.sent()].concat(n.map(function(a){return{name:a.originalName,tensor:a.variable}}))]}})})},t.prototype.setWeights=function(n){return an(this,void 0,void 0,function(){var r;return on(this,function(a){switch(a.label){case 0:return[4,this.extractIterations(n)];case 1:return n=a.sent(),r=this.centered?n.length/3:n.length/2,this.accumulatedMeanSquares=n.slice(0,r).map(function(i){return{originalName:i.name,variable:i.tensor.variable(!1)}}),this.accumulatedMoments=n.slice(r,2*r).map(function(i){return{originalName:i.name,variable:i.tensor.variable(!1)}}),this.centered&&(this.accumulatedMeanGrads=n.slice(2*r,3*r).map(function(i){return{originalName:i.name,variable:i.tensor.variable(!1)}})),[2]}})})},t.prototype.getConfig=function(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}},t.fromConfig=function(n,r){return new n(r.learningRate,r.decay,r.momentum,r.epsilon,r.centered)},t.className="RMSProp",t}(Fm);Rm(bLe);ba.prototype.squaredDifference=function(e){return zie(this,e)},nt=qFe;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var mM=function(e,t){return mM=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var a in r)r.hasOwnProperty(a)&&(n[a]=r[a])},mM(e,t)};function Tn(e,t){mM(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var po=function(){return po=Object.assign||function(t){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},po.apply(this,arguments)};function fn(e,t,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function s(d){try{u(r.next(d))}catch(f){o(f)}}function l(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(s,l)}u((r=r.apply(e,[])).next())})}function hn(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,a,i,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(u){return function(d){return l([u,d])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,a&&(i=u[0]&2?a.return:u[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,u[1])).done)return i;switch(a=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,a=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){n.label=u[1];break}if(u[0]===6&&n.label<i[1]){n.label=i[1],i=u;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(u);break}i[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(d){u=[6,d],a=0}finally{r=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function o1(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),a=0,t=0;t<n;t++)for(var i=arguments[t],o=0,s=i.length;o<s;o++,a++)r[a]=i[o];return r}var bv=function(){function e(t,n){if(!Kp(t)||!Kp(n))throw new Error("Dimensions.constructor - expected width and height to be valid numbers, instead have "+JSON.stringify({width:t,height:n}));this._width=t,this._height=n}return Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),e.prototype.reverse=function(){return new e(1/this.width,1/this.height)},e}();function Qj(e,t){return e instanceof ba&&e.shape.length===t}function wLe(e){return Qj(e,2)}function Jj(e){return Qj(e,3)}function nh(e){return Qj(e,4)}function _Le(e){return e%1!==0}function hV(e){return e%2===0}function SLe(e,t){t===void 0&&(t=2);var n=Math.pow(10,t);return Math.floor(e*n)/n}function pV(e){return e&&e.width&&e.height}function CLe(e,t){var n=e.width,r=e.height,a=t/Math.max(r,n);return new bv(Math.round(n*a),Math.round(r*a))}function q5(e){return e.reduce(function(t,n){return t.add(n)},new yr(0,0)).div(new yr(e.length,e.length))}function Eb(e,t,n){return Array(e).fill(0).map(function(r,a){return t+a*n})}function Kp(e){return!!e&&e!==1/0&&e!==-1/0&&!isNaN(e)||e===0}function mV(e){return Kp(e)&&0<=e&&e<=1}var yr=function(){function e(t,n){this._x=t,this._y=n}return Object.defineProperty(e.prototype,"x",{get:function(){return this._x},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},enumerable:!0,configurable:!0}),e.prototype.add=function(t){return new e(this.x+t.x,this.y+t.y)},e.prototype.sub=function(t){return new e(this.x-t.x,this.y-t.y)},e.prototype.mul=function(t){return new e(this.x*t.x,this.y*t.y)},e.prototype.div=function(t){return new e(this.x/t.x,this.y/t.y)},e.prototype.abs=function(){return new e(Math.abs(this.x),Math.abs(this.y))},e.prototype.magnitude=function(){return Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2))},e.prototype.floor=function(){return new e(Math.floor(this.x),Math.floor(this.y))},e}(),hh=function(){function e(t,n){n===void 0&&(n=!0);var r=t||{},a=[r.left,r.top,r.right,r.bottom].every(Kp),i=[r.x,r.y,r.width,r.height].every(Kp);if(!i&&!a)throw new Error("Box.constructor - expected box to be IBoundingBox | IRect, instead have "+JSON.stringify(r));var o=i?[r.x,r.y,r.width,r.height]:[r.left,r.top,r.right-r.left,r.bottom-r.top],s=o[0],l=o[1],u=o[2],d=o[3];e.assertIsValidBox({x:s,y:l,width:u,height:d},"Box.constructor",n),this._x=s,this._y=l,this._width=u,this._height=d}return e.isRect=function(t){return!!t&&[t.x,t.y,t.width,t.height].every(Kp)},e.assertIsValidBox=function(t,n,r){if(r===void 0&&(r=!1),!e.isRect(t))throw new Error(n+" - invalid box: "+JSON.stringify(t)+", expected object with properties x, y, width, height");if(!r&&(t.width<0||t.height<0))throw new Error(n+" - width ("+t.width+") and height ("+t.height+") must be positive numbers")},Object.defineProperty(e.prototype,"x",{get:function(){return this._x},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){return this.x},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"top",{get:function(){return this.y},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){return this.x+this.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"area",{get:function(){return this.width*this.height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"topLeft",{get:function(){return new yr(this.left,this.top)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"topRight",{get:function(){return new yr(this.right,this.top)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottomLeft",{get:function(){return new yr(this.left,this.bottom)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottomRight",{get:function(){return new yr(this.right,this.bottom)},enumerable:!0,configurable:!0}),e.prototype.round=function(){var t=[this.x,this.y,this.width,this.height].map(function(o){return Math.round(o)}),n=t[0],r=t[1],a=t[2],i=t[3];return new e({x:n,y:r,width:a,height:i})},e.prototype.floor=function(){var t=[this.x,this.y,this.width,this.height].map(function(o){return Math.floor(o)}),n=t[0],r=t[1],a=t[2],i=t[3];return new e({x:n,y:r,width:a,height:i})},e.prototype.toSquare=function(){var t=this,n=t.x,r=t.y,a=t.width,i=t.height,o=Math.abs(a-i);return a<i&&(n-=o/2,a+=o),i<a&&(r-=o/2,i+=o),new e({x:n,y:r,width:a,height:i})},e.prototype.rescale=function(t){var n=pV(t)?t.width:t,r=pV(t)?t.height:t;return new e({x:this.x*n,y:this.y*r,width:this.width*n,height:this.height*r})},e.prototype.pad=function(t,n){var r=[this.x-t/2,this.y-n/2,this.width+t,this.height+n],a=r[0],i=r[1],o=r[2],s=r[3];return new e({x:a,y:i,width:o,height:s})},e.prototype.clipAtImageBorders=function(t,n){var r=this,a=r.x,i=r.y,o=r.right,s=r.bottom,l=Math.max(a,0),u=Math.max(i,0),d=o-l,f=s-u,h=Math.min(d,t-l),p=Math.min(f,n-u);return new e({x:l,y:u,width:h,height:p}).floor()},e.prototype.shift=function(t,n){var r=this,a=r.width,i=r.height,o=this.x+t,s=this.y+n;return new e({x:o,y:s,width:a,height:i})},e.prototype.padAtBorders=function(t,n){var r=this.width+1,a=this.height+1,i=1,o=1,s=r,l=a,u=this.left,d=this.top,f=this.right,h=this.bottom;return f>n&&(s=-f+n+r,f=n),h>t&&(l=-h+t+a,h=t),u<1&&(l=2-u,u=1),d<1&&(l=2-d,d=1),{dy:o,edy:l,dx:i,edx:s,y:d,ey:h,x:u,ex:f,w:r,h:a}},e.prototype.calibrate=function(t){return new e({left:this.left+t.left*this.width,top:this.top+t.top*this.height,right:this.right+t.right*this.width,bottom:this.bottom+t.bottom*this.height}).toSquare().round()},e}(),eT=function(e){Tn(t,e);function t(n,r,a,i,o){return o===void 0&&(o=!1),e.call(this,{left:n,top:r,right:a,bottom:i},o)||this}return t}(hh),koe=function(){function e(t,n,r,a,i){this._imageDims=new bv(i.width,i.height),this._score=t,this._classScore=n,this._className=r,this._box=new hh(a).rescale(this._imageDims)}return Object.defineProperty(e.prototype,"score",{get:function(){return this._score},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"classScore",{get:function(){return this._classScore},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"className",{get:function(){return this._className},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"box",{get:function(){return this._box},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imageDims",{get:function(){return this._imageDims},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imageWidth",{get:function(){return this.imageDims.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imageHeight",{get:function(){return this.imageDims.height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"relativeBox",{get:function(){return new hh(this._box).rescale(this.imageDims.reverse())},enumerable:!0,configurable:!0}),e.prototype.forSize=function(t,n){return new e(this.score,this.classScore,this.className,this.relativeBox,{width:t,height:n})},e}(),Ru=function(e){Tn(t,e);function t(n,r,a){return e.call(this,n,n,"",r,a)||this}return t.prototype.forSize=function(n,r){var a=e.prototype.forSize.call(this,n,r),i=a.score,o=a.relativeBox,s=a.imageDims;return new t(i,o,s)},t}(koe);function ELe(e,t,n){n===void 0&&(n=!0);var r=Math.max(0,Math.min(e.right,t.right)-Math.max(e.left,t.left)),a=Math.max(0,Math.min(e.bottom,t.bottom)-Math.max(e.top,t.top)),i=r*a;return n?i/(e.area+t.area-i):i/Math.min(e.area,t.area)}function NLe(e){var t=e.map(function(s){return s.x}),n=e.map(function(s){return s.y}),r=t.reduce(function(s,l){return l<s?l:s},1/0),a=n.reduce(function(s,l){return l<s?l:s},1/0),i=t.reduce(function(s,l){return s<l?l:s},0),o=n.reduce(function(s,l){return s<l?l:s},0);return new eT(r,a,i,o)}function Nb(e,t,n,r){r===void 0&&(r=!0);for(var a=t.map(function(s,l){return{score:s,boxIndex:l}}).sort(function(s,l){return s.score-l.score}).map(function(s){return s.boxIndex}),i=[],o=function(){var s=a.pop();i.push(s);for(var l=a,u=[],d=0;d<l.length;d++){var f=l[d],h=e[s],p=e[f];u.push(ELe(h,p,r))}a=a.filter(function(m,g){return u[g]<=n})};a.length>0;)o();return i}function i2(e,t){return Qt(function(){var n=t[0],r=t[1],a=t[2],i=yu(o1(e.shape.slice(0,3),[1]),n),o=yu(o1(e.shape.slice(0,3),[1]),r),s=yu(o1(e.shape.slice(0,3),[1]),a),l=hi([i,o,s],3);return gi(e,l)})}function kLe(e,t){return t===void 0&&(t=!1),Qt(function(){var n=e.shape.slice(1),r=n[0],a=n[1];if(r===a)return e;var i=Math.abs(r-a),o=Math.round(i*(t?.5:1)),s=r>a?2:1,l=function(p){var m=e.shape.slice();return m[s]=p,yu(m,0)},u=l(o),d=i-u.shape[s],f=t&&d?l(d):null,h=[f,e,u].filter(function(p){return!!p}).map(function(p){return p.toFloat()});return hi(h,s)})}function T4(e){return 1/(1+Math.exp(-e))}var G5=function(e){Tn(t,e);function t(n,r,a,i,o){return o===void 0&&(o=!1),e.call(this,{x:n,y:r,width:a,height:i},o)||this}return t}(hh),jLe=.5,TLe=.43,PLe=.45,AE=function(){function e(t,n,r){r===void 0&&(r=new yr(0,0));var a=n.width,i=n.height;this._imgDims=new bv(a,i),this._shift=r,this._positions=t.map(function(o){return o.mul(new yr(a,i)).add(r)})}return Object.defineProperty(e.prototype,"shift",{get:function(){return new yr(this._shift.x,this._shift.y)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imageWidth",{get:function(){return this._imgDims.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imageHeight",{get:function(){return this._imgDims.height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"positions",{get:function(){return this._positions},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"relativePositions",{get:function(){var t=this;return this._positions.map(function(n){return n.sub(t._shift).div(new yr(t.imageWidth,t.imageHeight))})},enumerable:!0,configurable:!0}),e.prototype.forSize=function(t,n){return new this.constructor(this.relativePositions,{width:t,height:n})},e.prototype.shiftBy=function(t,n){return new this.constructor(this.relativePositions,this._imgDims,new yr(t,n))},e.prototype.shiftByPoint=function(t){return this.shiftBy(t.x,t.y)},e.prototype.align=function(t,n){if(n===void 0&&(n={}),t){var r=t instanceof Ru?t.box.floor():new hh(t);return this.shiftBy(r.x,r.y).align(null,n)}var a=Object.assign({},{useDlibAlignment:!1,minBoxPadding:.2},n),i=a.useDlibAlignment,o=a.minBoxPadding;return i?this.alignDlib():this.alignMinBbox(o)},e.prototype.alignDlib=function(){var t=this.getRefPointsForAlignment(),n=t[0],r=t[1],a=t[2],i=function(f){return a.sub(f).magnitude()},o=(i(n)+i(r))/2,s=Math.floor(o/PLe),l=q5(t),u=Math.floor(Math.max(0,l.x-jLe*s)),d=Math.floor(Math.max(0,l.y-TLe*s));return new G5(u,d,Math.min(s,this.imageWidth+u),Math.min(s,this.imageHeight+d))},e.prototype.alignMinBbox=function(t){var n=NLe(this.positions);return n.pad(n.width*t,n.height*t)},e.prototype.getRefPointsForAlignment=function(){throw new Error("getRefPointsForAlignment not implemented by base class")},e}(),ALe=function(e){Tn(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getRefPointsForAlignment=function(){var n=this.positions;return[n[0],n[1],q5([n[3],n[4]])]},t}(AE),DLe=function(e){Tn(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getJawOutline=function(){return this.positions.slice(0,17)},t.prototype.getLeftEyeBrow=function(){return this.positions.slice(17,22)},t.prototype.getRightEyeBrow=function(){return this.positions.slice(22,27)},t.prototype.getNose=function(){return this.positions.slice(27,36)},t.prototype.getLeftEye=function(){return this.positions.slice(36,42)},t.prototype.getRightEye=function(){return this.positions.slice(42,48)},t.prototype.getMouth=function(){return this.positions.slice(48,68)},t.prototype.getRefPointsForAlignment=function(){return[this.getLeftEye(),this.getRightEye(),this.getMouth()].map(q5)},t}(AE),gV=function(){function e(t,n){this._label=t,this._distance=n}return Object.defineProperty(e.prototype,"label",{get:function(){return this._label},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"distance",{get:function(){return this._distance},enumerable:!0,configurable:!0}),e.prototype.toString=function(t){return t===void 0&&(t=!0),""+this.label+(t?" ("+SLe(this.distance)+")":"")},e}(),vV=function(e){Tn(t,e);function t(n,r){var a=e.call(this,n)||this;return a._label=r,a}return t.assertIsValidLabeledBox=function(n,r){if(hh.assertIsValidBox(n,r),!Kp(n.label))throw new Error(r+" - expected property label ("+n.label+") to be a number")},Object.defineProperty(t.prototype,"label",{get:function(){return this._label},enumerable:!0,configurable:!0}),t}(hh),T_=function(){function e(t,n){if(typeof t!="string")throw new Error("LabeledFaceDescriptors - constructor expected label to be a string");if(!Array.isArray(n)||n.some(function(r){return!(r instanceof Float32Array)}))throw new Error("LabeledFaceDescriptors - constructor expected descriptors to be an array of Float32Array");this._label=t,this._descriptors=n}return Object.defineProperty(e.prototype,"label",{get:function(){return this._label},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"descriptors",{get:function(){return this._descriptors},enumerable:!0,configurable:!0}),e.prototype.toJSON=function(){return{label:this.label,descriptors:this.descriptors.map(function(t){return Array.from(t)})}},e.fromJSON=function(t){var n=t.descriptors.map(function(r){return new Float32Array(r)});return new e(t.label,n)},e}();(function(e){Tn(t,e);function t(n,r,a,i){var o=e.call(this,n,r)||this;return o._score=a,o._classScore=i,o}return t.assertIsValidPredictedBox=function(n,r){if(vV.assertIsValidLabeledBox(n,r),!mV(n.score)||!mV(n.classScore))throw new Error(r+" - expected properties score ("+n.score+") and ("+n.classScore+") to be a number between [0, 1]")},Object.defineProperty(t.prototype,"score",{get:function(){return this._score},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"classScore",{get:function(){return this._classScore},enumerable:!0,configurable:!0}),t})(vV);function OLe(e){return e.detection instanceof Ru}function Y5(e,t){var n={detection:t};return Object.assign({},e,n)}function joe(){var e=window.fetch||function(){throw new Error("fetch - missing fetch implementation for browser environment")},t=function(){throw new Error("readFile - filesystem not available for browser environment")};return{Canvas:HTMLCanvasElement,CanvasRenderingContext2D,Image:HTMLImageElement,ImageData,Video:HTMLVideoElement,createCanvasElement:function(){return document.createElement("canvas")},createImageElement:function(){return document.createElement("img")},fetch:e,readFile:t}}function Toe(e){var t="";if(!e)try{e=require("fs")}catch(r){t=r.toString()}var n=e?function(r){return new Promise(function(a,i){e.readFile(r,function(o,s){return o?i(o):a(s)})})}:function(){throw new Error("readFile - failed to require fs in nodejs environment with error: "+t)};return{readFile:n}}function Poe(){var e=global.Canvas||global.HTMLCanvasElement,t=global.Image||global.HTMLImageElement,n=function(){if(e)return new e;throw new Error("createCanvasElement - missing Canvas implementation for nodejs environment")},r=function(){if(t)return new t;throw new Error("createImageElement - missing Image implementation for nodejs environment")},a=global.fetch||function(){throw new Error("fetch - missing fetch implementation for nodejs environment")},i=Toe();return po({Canvas:e||function(){function o(){}return o}(),CanvasRenderingContext2D:global.CanvasRenderingContext2D||function(){function o(){}return o}(),Image:t||function(){function o(){}return o}(),ImageData:global.ImageData||function(){function o(){}return o}(),Video:global.HTMLVideoElement||function(){function o(){}return o}(),createCanvasElement:n,createImageElement:r,fetch:a},i)}function Aoe(){return typeof window=="object"&&typeof document<"u"&&typeof HTMLImageElement<"u"&&typeof HTMLCanvasElement<"u"&&typeof HTMLVideoElement<"u"&&typeof ImageData<"u"&&typeof CanvasRenderingContext2D<"u"}function Doe(){return typeof global=="object"&&typeof require=="function"&&typeof module<"u"&&typeof process<"u"&&!!process.version}var si;function MLe(){if(!si)throw new Error("getEnv - environment is not defined, check isNodejs() and isBrowser()");return si}function gM(e){si=e}function K5(){Aoe()&&gM(joe()),Doe()&&gM(Poe())}function ILe(e){if(si||K5(),!si)throw new Error("monkeyPatch - environment is not defined, check isNodejs() and isBrowser()");var t=e.Canvas,n=t===void 0?si.Canvas:t,r=e.Image,a=r===void 0?si.Image:r;si.Canvas=n,si.Image=a,si.createCanvasElement=e.createCanvasElement||function(){return new n},si.createImageElement=e.createImageElement||function(){return new a},si.ImageData=e.ImageData||si.ImageData,si.Video=e.Video||si.Video,si.fetch=e.fetch||si.fetch,si.readFile=e.readFile||si.readFile}var ko={getEnv:MLe,setEnv:gM,initialize:K5,createBrowserEnv:joe,createFileSystem:Toe,createNodejsEnv:Poe,monkeyPatch:ILe,isBrowser:Aoe,isNodejs:Doe};K5();function Ooe(e){return!ko.isNodejs()&&typeof e=="string"?document.getElementById(e):e}function gm(e){var t=ko.getEnv(),n=t.Canvas,r=t.CanvasRenderingContext2D;if(e instanceof r)return e;var a=Ooe(e);if(!(a instanceof n))throw new Error("resolveContext2d - expected canvas to be of instance of Canvas");var i=a.getContext("2d");if(!i)throw new Error("resolveContext2d - canvas 2d context is null");return i}var yV;(function(e){e.TOP_LEFT="TOP_LEFT",e.TOP_RIGHT="TOP_RIGHT",e.BOTTOM_LEFT="BOTTOM_LEFT",e.BOTTOM_RIGHT="BOTTOM_RIGHT"})(yV||(yV={}));function Moe(e){var t=ko.getEnv(),n=t.Image,r=t.Video;return e instanceof n&&e.complete||e instanceof r&&e.readyState>=3}function RLe(e){return new Promise(function(t,n){if(e instanceof ko.getEnv().Canvas||Moe(e))return t();function r(i){i.currentTarget&&(i.currentTarget.removeEventListener("load",r),i.currentTarget.removeEventListener("error",a),t(i))}function a(i){i.currentTarget&&(i.currentTarget.removeEventListener("load",r),i.currentTarget.removeEventListener("error",a),n(i))}e.addEventListener("load",r),e.addEventListener("error",a)})}function Ioe(e){var t=ko.getEnv(),n=t.Image,r=t.Video;return e instanceof n?new bv(e.naturalWidth,e.naturalHeight):e instanceof r?new bv(e.videoWidth,e.videoHeight):new bv(e.width,e.height)}function tT(e){var t=e.width,n=e.height,r=ko.getEnv().createCanvasElement,a=r();return a.width=t,a.height=n,a}function X5(e,t){var n=ko.getEnv().ImageData;if(!(e instanceof n)&&!Moe(e))throw new Error("createCanvasFromMedia - media has not finished loading yet");var r=Ioe(e),a=r.width,i=r.height,o=tT({width:a,height:i});return e instanceof n?gm(o).putImageData(e,0,0):gm(o).drawImage(e,0,0,a,i),o}function FLe(e,t){return fn(this,void 0,void 0,function(){var n,r,a,i,o,s;return hn(this,function(l){switch(l.label){case 0:return n=ko.getEnv().createCanvasElement(),r=e.shape.slice(nh(e)?1:0),a=r[0],i=r[1],o=r[2],s=Qt(function(){return e.as3D(a,i,o).toInt()}),[4,H5.toPixels(s,n)];case 1:return l.sent(),s.dispose(),[2,n]}})})}function xV(e){var t=ko.getEnv(),n=t.Image,r=t.Canvas,a=t.Video;return e instanceof n||e instanceof r||e instanceof a}function LLe(e,t,n){n===void 0&&(n=!1);var r=ko.getEnv(),a=r.Image,i=r.Canvas;if(!(e instanceof a||e instanceof i))throw new Error("imageToSquare - expected arg0 to be HTMLImageElement | HTMLCanvasElement");var o=Ioe(e),s=t/Math.max(o.height,o.width),l=s*o.width,u=s*o.height,d=tT({width:t,height:t}),f=e instanceof i?e:X5(e),h=Math.abs(l-u)/2,p=n&&l<u?h:0,m=n&&u<l?h:0;return gm(d).drawImage(f,p,m,l,u),d}var DE=function(){function e(t,n){var r=this;if(n===void 0&&(n=!1),this._imageTensors=[],this._canvases=[],this._treatAsBatchInput=!1,this._inputDimensions=[],!Array.isArray(t))throw new Error("NetInput.constructor - expected inputs to be an Array of TResolvedNetInput or to be instanceof tf.Tensor4D, instead have "+t);this._treatAsBatchInput=n,this._batchSize=t.length,t.forEach(function(a,i){if(Jj(a)){r._imageTensors[i]=a,r._inputDimensions[i]=a.shape;return}if(nh(a)){var o=a.shape[0];if(o!==1)throw new Error("NetInput - tf.Tensor4D with batchSize "+o+" passed, but not supported in input array");r._imageTensors[i]=a,r._inputDimensions[i]=a.shape.slice(1);return}var s=a instanceof ko.getEnv().Canvas?a:X5(a);r._canvases[i]=s,r._inputDimensions[i]=[s.height,s.width,3]})}return Object.defineProperty(e.prototype,"imageTensors",{get:function(){return this._imageTensors},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"canvases",{get:function(){return this._canvases},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isBatchInput",{get:function(){return this.batchSize>1||this._treatAsBatchInput},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"batchSize",{get:function(){return this._batchSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputDimensions",{get:function(){return this._inputDimensions},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputSize",{get:function(){return this._inputSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"reshapedInputDimensions",{get:function(){var t=this;return Eb(this.batchSize,0,1).map(function(n,r){return t.getReshapedInputDimensions(r)})},enumerable:!0,configurable:!0}),e.prototype.getInput=function(t){return this.canvases[t]||this.imageTensors[t]},e.prototype.getInputDimensions=function(t){return this._inputDimensions[t]},e.prototype.getInputHeight=function(t){return this._inputDimensions[t][0]},e.prototype.getInputWidth=function(t){return this._inputDimensions[t][1]},e.prototype.getReshapedInputDimensions=function(t){if(typeof this.inputSize!="number")throw new Error("getReshapedInputDimensions - inputSize not set, toBatchTensor has not been called yet");var n=this.getInputWidth(t),r=this.getInputHeight(t);return CLe({width:n,height:r},this.inputSize)},e.prototype.toBatchTensor=function(t,n){var r=this;return n===void 0&&(n=!0),this._inputSize=t,Qt(function(){var a=Eb(r.batchSize,0,1).map(function(o){var s=r.getInput(o);if(s instanceof ba){var l=nh(s)?s:s.expandDims();return l=kLe(l,n),(l.shape[1]!==t||l.shape[2]!==t)&&(l=$5.resizeBilinear(l,[t,t])),l.as3D(t,t,3)}if(s instanceof ko.getEnv().Canvas)return H5.fromPixels(LLe(s,t,n));throw new Error("toBatchTensor - at batchIdx "+o+", expected input to be instanceof tf.Tensor or instanceof HTMLCanvasElement, instead have "+s)}),i=Fs(a.map(function(o){return o.toFloat()})).as4D(r.batchSize,t,t,3);return i})},e}();function Ai(e){return fn(this,void 0,void 0,function(){var t,n,r;return hn(this,function(a){switch(a.label){case 0:if(e instanceof DE)return[2,e];if(t=Array.isArray(e)?e:[e],!t.length)throw new Error("toNetInput - empty array passed as input");return n=function(i){return Array.isArray(e)?" at input index "+i+":":""},r=t.map(Ooe),r.forEach(function(i,o){if(!xV(i)&&!Jj(i)&&!nh(i))throw typeof t[o]=="string"?new Error("toNetInput -"+n(o)+" string passed, but could not resolve HTMLElement for element id "+t[o]):new Error("toNetInput -"+n(o)+" expected media to be of type HTMLImageElement | HTMLVideoElement | HTMLCanvasElement | tf.Tensor3D, or to be an element id");if(nh(i)){var s=i.shape[0];if(s!==1)throw new Error("toNetInput -"+n(o)+" tf.Tensor4D with batchSize "+s+" passed, but not supported in input array")}}),[4,Promise.all(r.map(function(i){return xV(i)&&RLe(i)}))];case 1:return a.sent(),[2,new DE(r,Array.isArray(e))]}})})}function Z5(e,t){return fn(this,void 0,void 0,function(){var n,r,a,i,o,s,l;return hn(this,function(u){switch(u.label){case 0:return n=ko.getEnv().Canvas,r=e,e instanceof n?[3,5]:[4,Ai(e)];case 1:if(a=u.sent(),a.batchSize>1)throw new Error("extractFaces - batchSize > 1 not supported");return i=a.getInput(0),i instanceof n?(o=i,[3,4]):[3,2];case 2:return[4,FLe(i)];case 3:o=u.sent(),u.label=4;case 4:r=o,u.label=5;case 5:return s=gm(r),l=t.map(function(d){return d instanceof Ru?d.forSize(r.width,r.height).box.floor():d}).map(function(d){return d.clipAtImageBorders(r.width,r.height)}),[2,l.map(function(d){var f=d.x,h=d.y,p=d.width,m=d.height,g=tT({width:p,height:m});return gm(g).putImageData(s.getImageData(f,h,p,m),0,0),g})]}})})}function Q5(e,t){return fn(this,void 0,void 0,function(){return hn(this,function(n){if(!Jj(e)&&!nh(e))throw new Error("extractFaceTensors - expected image tensor to be 3D or 4D");if(nh(e)&&e.shape[0]>1)throw new Error("extractFaceTensors - batchSize > 1 not supported");return[2,Qt(function(){var r=e.shape.slice(nh(e)?1:0),a=r[0],i=r[1],o=r[2],s=t.map(function(u){return u instanceof Ru?u.forSize(i,a).box:u}).map(function(u){return u.clipAtImageBorders(i,a)}),l=s.map(function(u){var d=u.x,f=u.y,h=u.width,p=u.height;return loe(e.as3D(a,i,o),[f,d,0],[p,h,o])});return l})]})})}function $Le(e,t){return fn(this,void 0,void 0,function(){var n,r;return hn(this,function(a){switch(a.label){case 0:return n=ko.getEnv().fetch,[4,n(e,t)];case 1:if(r=a.sent(),!(r.status<400))throw new Error("failed to fetch: ("+r.status+") "+r.statusText+", from url: "+r.url);return[2,r]}})})}function BLe(e){return fn(this,void 0,void 0,function(){return hn(this,function(t){switch(t.label){case 0:return[4,$Le(e)];case 1:return[2,t.sent().json()]}})})}function Roe(e,t){var n=t+"-weights_manifest.json";if(!e)return{modelBaseUri:"",manifestUri:n};if(e==="/")return{modelBaseUri:"/",manifestUri:"/"+n};var r=e.startsWith("http://")?"http://":e.startsWith("https://")?"https://":"";e=e.replace(r,"");var a=e.split("/").filter(function(s){return s}),i=e.endsWith(".json")?a[a.length-1]:n,o=r+(e.endsWith(".json")?a.slice(0,a.length-1):a).join("/");return o=e.startsWith("/")?"/"+o:o,{modelBaseUri:o,manifestUri:o==="/"?"/"+i:o+"/"+i}}function zLe(e,t){return fn(this,void 0,void 0,function(){var n,r,a,i;return hn(this,function(o){switch(o.label){case 0:return n=Roe(e,t),r=n.manifestUri,a=n.modelBaseUri,[4,BLe(r)];case 1:return i=o.sent(),[2,Eoe.loadWeights(i,a)]}})})}var Vd=function(){function e(t){this._name=t,this._params=void 0,this._paramMappings=[]}return Object.defineProperty(e.prototype,"params",{get:function(){return this._params},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"paramMappings",{get:function(){return this._paramMappings},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isLoaded",{get:function(){return!!this.params},enumerable:!0,configurable:!0}),e.prototype.getParamFromPath=function(t){var n=this.traversePropertyPath(t),r=n.obj,a=n.objProp;return r[a]},e.prototype.reassignParamFromPath=function(t,n){var r=this.traversePropertyPath(t),a=r.obj,i=r.objProp;a[i].dispose(),a[i]=n},e.prototype.getParamList=function(){var t=this;return this._paramMappings.map(function(n){var r=n.paramPath;return{path:r,tensor:t.getParamFromPath(r)}})},e.prototype.getTrainableParams=function(){return this.getParamList().filter(function(t){return t.tensor instanceof a0})},e.prototype.getFrozenParams=function(){return this.getParamList().filter(function(t){return!(t.tensor instanceof a0)})},e.prototype.variable=function(){var t=this;this.getFrozenParams().forEach(function(n){var r=n.path,a=n.tensor;t.reassignParamFromPath(r,a.variable())})},e.prototype.freeze=function(){var t=this;this.getTrainableParams().forEach(function(n){var r=n.path,a=n.tensor,i=Gi(a.dataSync());a.dispose(),t.reassignParamFromPath(r,i)})},e.prototype.dispose=function(t){t===void 0&&(t=!0),this.getParamList().forEach(function(n){if(t&&n.tensor.isDisposed)throw new Error("param tensor has already been disposed for path "+n.path);n.tensor.dispose()}),this._params=void 0},e.prototype.serializeParams=function(){return new Float32Array(this.getParamList().map(function(t){var n=t.tensor;return Array.from(n.dataSync())}).reduce(function(t,n){return t.concat(n)}))},e.prototype.load=function(t){return fn(this,void 0,void 0,function(){return hn(this,function(n){switch(n.label){case 0:return t instanceof Float32Array?(this.extractWeights(t),[2]):[4,this.loadFromUri(t)];case 1:return n.sent(),[2]}})})},e.prototype.loadFromUri=function(t){return fn(this,void 0,void 0,function(){var n;return hn(this,function(r){switch(r.label){case 0:if(t&&typeof t!="string")throw new Error(this._name+".loadFromUri - expected model uri");return[4,zLe(t,this.getDefaultModelName())];case 1:return n=r.sent(),this.loadFromWeightMap(n),[2]}})})},e.prototype.loadFromDisk=function(t){return fn(this,void 0,void 0,function(){var n,r,a,i,o,s,l,u,d,f;return hn(this,function(h){switch(h.label){case 0:if(t&&typeof t!="string")throw new Error(this._name+".loadFromDisk - expected model file path");return n=ko.getEnv().readFile,r=Roe(t,this.getDefaultModelName()),a=r.manifestUri,i=r.modelBaseUri,o=function(p){return Promise.all(p.map(function(m){return n(m).then(function(g){return g.buffer})}))},s=Eoe.weightsLoaderFactory(o),d=(u=JSON).parse,[4,n(a)];case 1:return l=d.apply(u,[h.sent().toString()]),[4,s(l,i)];case 2:return f=h.sent(),this.loadFromWeightMap(f),[2]}})})},e.prototype.loadFromWeightMap=function(t){var n=this.extractParamsFromWeigthMap(t),r=n.paramMappings,a=n.params;this._paramMappings=r,this._params=a},e.prototype.extractWeights=function(t){var n=this.extractParams(t),r=n.paramMappings,a=n.params;this._paramMappings=r,this._params=a},e.prototype.traversePropertyPath=function(t){if(!this.params)throw new Error("traversePropertyPath - model has no loaded params");var n=t.split("/").reduce(function(i,o){if(!i.nextObj.hasOwnProperty(o))throw new Error("traversePropertyPath - object does not have property "+o+", for path "+t);return{obj:i.nextObj,objProp:o,nextObj:i.nextObj[o]}},{nextObj:this.params}),r=n.obj,a=n.objProp;if(!r||!a||!(r[a]instanceof ba))throw new Error("traversePropertyPath - parameter is not a tensor, for path "+t);return{obj:r,objProp:a}},e}();function Os(e,t,n){return Qt(function(){var r=M5(e,t.depthwise_filter,t.pointwise_filter,n,"same");return r=Gn(r,t.bias),r})}function P4(e,t,n){return n===void 0&&(n=!1),Qt(function(){var r=Sa(n?Gn(Rl(e,t.conv0.filters,[2,2],"same"),t.conv0.bias):Os(e,t.conv0,[2,2])),a=Os(r,t.conv1,[1,1]),i=Sa(Gn(r,a)),o=Os(i,t.conv2,[1,1]);return Sa(Gn(r,Gn(a,o)))})}function P_(e,t,n,r){return n===void 0&&(n=!1),r===void 0&&(r=!0),Qt(function(){var a=Sa(n?Gn(Rl(e,t.conv0.filters,r?[2,2]:[1,1],"same"),t.conv0.bias):Os(e,t.conv0,r?[2,2]:[1,1])),i=Os(a,t.conv1,[1,1]),o=Sa(Gn(a,i)),s=Os(o,t.conv2,[1,1]),l=Sa(Gn(a,Gn(i,s))),u=Os(l,t.conv3,[1,1]);return Sa(Gn(a,Gn(i,Gn(s,u))))})}function mc(e,t,n,r){return n===void 0&&(n="same"),r===void 0&&(r=!1),Qt(function(){var a=Gn(Rl(e,t.filters,[1,1],n),t.bias);return r?Sa(a):a})}function Hd(e,t){Object.keys(e).forEach(function(n){t.some(function(r){return r.originalPath===n})||e[n].dispose()})}function nT(e,t){return function(n,r,a,i){var o=Go(e(n*r*a*a),[a,a,n,r]),s=ei(e(r));return t.push({paramPath:i+"/filters"},{paramPath:i+"/bias"}),{filters:o,bias:s}}}function J5(e,t){return function(n,r,a){var i=eh(e(n*r),[n,r]),o=ei(e(r));return t.push({paramPath:a+"/weights"},{paramPath:a+"/bias"}),{weights:i,bias:o}}}var Foe=function(){function e(t,n,r){this.depthwise_filter=t,this.pointwise_filter=n,this.bias=r}return e}();function e6(e,t){return function(n,r,a){var i=Go(e(9*n),[3,3,n,1]),o=Go(e(n*r),[1,1,n,r]),s=ei(e(r));return t.push({paramPath:a+"/depthwise_filter"},{paramPath:a+"/pointwise_filter"},{paramPath:a+"/bias"}),new Foe(i,o,s)}}function t6(e){return function(t){var n=e(t+"/depthwise_filter",4),r=e(t+"/pointwise_filter",4),a=e(t+"/bias",1);return new Foe(n,r,a)}}function Dh(e,t){return function(n,r,a){var i=e[n];if(!Qj(i,r))throw new Error("expected weightMap["+n+"] to be a Tensor"+r+"D, instead have "+i);return t.push({originalPath:n,paramPath:a||n}),i}}function qd(e){var t=e;function n(a){var i=t.slice(0,a);return t=t.slice(a),i}function r(){return t}return{extractWeights:n,getRemainingWeights:r}}function Loe(e,t){var n=nT(e,t),r=e6(e,t);function a(o,s,l,u){u===void 0&&(u=!1);var d=u?n(o,s,3,l+"/conv0"):r(o,s,l+"/conv0"),f=r(s,s,l+"/conv1"),h=r(s,s,l+"/conv2");return{conv0:d,conv1:f,conv2:h}}function i(o,s,l,u){u===void 0&&(u=!1);var d=a(o,s,l,u),f=d.conv0,h=d.conv1,p=d.conv2,m=r(s,s,l+"/conv3");return{conv0:f,conv1:h,conv2:p,conv3:m}}return{extractDenseBlock3Params:a,extractDenseBlock4Params:i}}function ULe(e){var t=[],n=qd(e),r=n.extractWeights,a=n.getRemainingWeights,i=Loe(r,t).extractDenseBlock4Params,o=i(3,32,"dense0",!0),s=i(32,64,"dense1"),l=i(64,128,"dense2"),u=i(128,256,"dense3");if(a().length!==0)throw new Error("weights remaing after extract: "+a().length);return{paramMappings:t,params:{dense0:o,dense1:s,dense2:l,dense3:u}}}function $oe(e){return function(t){var n=e(t+"/filters",4),r=e(t+"/bias",1);return{filters:n,bias:r}}}function Boe(e,t){var n=Dh(e,t),r=$oe(n),a=t6(n);function i(s,l){l===void 0&&(l=!1);var u=l?r(s+"/conv0"):a(s+"/conv0"),d=a(s+"/conv1"),f=a(s+"/conv2");return{conv0:u,conv1:d,conv2:f}}function o(s,l){l===void 0&&(l=!1);var u=l?r(s+"/conv0"):a(s+"/conv0"),d=a(s+"/conv1"),f=a(s+"/conv2"),h=a(s+"/conv3");return{conv0:u,conv1:d,conv2:f,conv3:h}}return{extractDenseBlock3Params:i,extractDenseBlock4Params:o}}function WLe(e){var t=[],n=Boe(e,t).extractDenseBlock4Params,r={dense0:n("dense0",!0),dense1:n("dense1"),dense2:n("dense2"),dense3:n("dense3")};return Hd(e,t),{params:r,paramMappings:t}}var zoe=function(e){Tn(t,e);function t(){return e.call(this,"FaceFeatureExtractor")||this}return t.prototype.forwardInput=function(n){var r=this.params;if(!r)throw new Error("FaceFeatureExtractor - load model before inference");return Qt(function(){var a=n.toBatchTensor(112,!0),i=[122.782,117.001,104.298],o=i2(a,i).div(zt(255)),s=P_(o,r.dense0,!0);return s=P_(s,r.dense1),s=P_(s,r.dense2),s=P_(s,r.dense3),s=r2(s,[7,7],[2,2],"valid"),s})},t.prototype.forward=function(n){return fn(this,void 0,void 0,function(){var r;return hn(this,function(a){switch(a.label){case 0:return r=this.forwardInput,[4,Ai(n)];case 1:return[2,r.apply(this,[a.sent()])]}})})},t.prototype.getDefaultModelName=function(){return"face_feature_extractor_model"},t.prototype.extractParamsFromWeigthMap=function(n){return WLe(n)},t.prototype.extractParams=function(n){return ULe(n)},t}(Vd);function iu(e,t){return Qt(function(){return Gn(Kj(e,t.weights),t.bias)})}function VLe(e,t,n){var r=[],a=qd(e),i=a.extractWeights,o=a.getRemainingWeights,s=J5(i,r),l=s(t,n,"fc");if(o().length!==0)throw new Error("weights remaing after extract: "+o().length);return{paramMappings:r,params:{fc:l}}}function HLe(e){var t=[],n=Dh(e,t);function r(i){var o=n(i+"/weights",2),s=n(i+"/bias",1);return{weights:o,bias:s}}var a={fc:r("fc")};return Hd(e,t),{params:a,paramMappings:t}}function Uoe(e){var t={},n={};return Object.keys(e).forEach(function(r){var a=r.startsWith("fc")?n:t;a[r]=e[r]}),{featureExtractorMap:t,classifierMap:n}}var Woe=function(e){Tn(t,e);function t(n,r){var a=e.call(this,n)||this;return a._faceFeatureExtractor=r,a}return Object.defineProperty(t.prototype,"faceFeatureExtractor",{get:function(){return this._faceFeatureExtractor},enumerable:!0,configurable:!0}),t.prototype.runNet=function(n){var r=this,a=this.params;if(!a)throw new Error(this._name+" - load model before inference");return Qt(function(){var i=n instanceof DE?r.faceFeatureExtractor.forwardInput(n):n;return iu(i.as2D(i.shape[0],-1),a.fc)})},t.prototype.dispose=function(n){n===void 0&&(n=!0),this.faceFeatureExtractor.dispose(n),e.prototype.dispose.call(this,n)},t.prototype.loadClassifierParams=function(n){var r=this.extractClassifierParams(n),a=r.params,i=r.paramMappings;this._params=a,this._paramMappings=i},t.prototype.extractClassifierParams=function(n){return VLe(n,this.getClassifierChannelsIn(),this.getClassifierChannelsOut())},t.prototype.extractParamsFromWeigthMap=function(n){var r=Uoe(n),a=r.featureExtractorMap,i=r.classifierMap;return this.faceFeatureExtractor.loadFromWeightMap(a),HLe(i)},t.prototype.extractParams=function(n){var r=this.getClassifierChannelsIn(),a=this.getClassifierChannelsOut(),i=a*r+a,o=n.slice(0,n.length-i),s=n.slice(n.length-i);return this.faceFeatureExtractor.extractWeights(o),this.extractClassifierParams(s)},t}(Vd),bV=["neutral","happy","sad","angry","fearful","disgusted","surprised"],qLe=function(){function e(t){var n=this;if(t.length!==7)throw new Error("FaceExpressions.constructor - expected probabilities.length to be 7, have: "+t.length);bV.forEach(function(r,a){n[r]=t[a]})}return e.prototype.asSortedArray=function(){var t=this;return bV.map(function(n){return{expression:n,probability:t[n]}}).sort(function(n,r){return r.probability-n.probability})},e}(),GLe=function(e){Tn(t,e);function t(n){return n===void 0&&(n=new zoe),e.call(this,"FaceExpressionNet",n)||this}return t.prototype.forwardInput=function(n){var r=this;return Qt(function(){return Ud(r.runNet(n))})},t.prototype.forward=function(n){return fn(this,void 0,void 0,function(){var r;return hn(this,function(a){switch(a.label){case 0:return r=this.forwardInput,[4,Ai(n)];case 1:return[2,r.apply(this,[a.sent()])]}})})},t.prototype.predictExpressions=function(n){return fn(this,void 0,void 0,function(){var r,a,i,o,s=this;return hn(this,function(l){switch(l.label){case 0:return[4,Ai(n)];case 1:return r=l.sent(),[4,this.forwardInput(r)];case 2:return a=l.sent(),[4,Promise.all(pi(a).map(function(u){return fn(s,void 0,void 0,function(){var d;return hn(this,function(f){switch(f.label){case 0:return[4,u.data()];case 1:return d=f.sent(),u.dispose(),[2,d]}})})}))];case 3:return i=l.sent(),a.dispose(),o=i.map(function(u){return new qLe(u)}),[2,r.isBatchInput?o:o[0]]}})})},t.prototype.getDefaultModelName=function(){return"face_expression_model"},t.prototype.getClassifierChannelsIn=function(){return 256},t.prototype.getClassifierChannelsOut=function(){return 7},t}(Woe);function Voe(e,t){var n={expressions:t};return Object.assign({},e,n)}function YLe(e){return OLe(e)&&e.landmarks instanceof AE&&e.unshiftedLandmarks instanceof AE&&e.alignedRect instanceof Ru}function n6(e,t){var n=e.detection.box,r=t.shiftBy(n.x,n.y),a=r.align(),i=e.detection.imageDims,o=new Ru(e.detection.score,a.rescale(i.reverse()),i),s={landmarks:r,unshiftedLandmarks:t,alignedRect:o};return Object.assign({},e,s)}function KLe(e,t){var n=nT(e,t),r=e6(e,t);function a(o,s,l){var u=r(o,s,l+"/separable_conv0"),d=r(s,s,l+"/separable_conv1"),f=n(o,s,1,l+"/expansion_conv");return{separable_conv0:u,separable_conv1:d,expansion_conv:f}}function i(o,s){var l=r(o,o,s+"/separable_conv0"),u=r(o,o,s+"/separable_conv1"),d=r(o,o,s+"/separable_conv2");return{separable_conv0:l,separable_conv1:u,separable_conv2:d}}return{extractConvParams:n,extractSeparableConvParams:r,extractReductionBlockParams:a,extractMainBlockParams:i}}function XLe(e,t){var n=[],r=qd(e),a=r.extractWeights,i=r.getRemainingWeights,o=KLe(a,n),s=o.extractConvParams,l=o.extractSeparableConvParams,u=o.extractReductionBlockParams,d=o.extractMainBlockParams,f=s(3,32,3,"entry_flow/conv_in"),h=u(32,64,"entry_flow/reduction_block_0"),p=u(64,128,"entry_flow/reduction_block_1"),m={conv_in:f,reduction_block_0:h,reduction_block_1:p},g={};Eb(t,0,1).forEach(function(w){g["main_block_"+w]=d(128,"middle_flow/main_block_"+w)});var y=u(128,256,"exit_flow/reduction_block"),x=l(256,512,"exit_flow/separable_conv"),b={reduction_block:y,separable_conv:x};if(i().length!==0)throw new Error("weights remaing after extract: "+i().length);return{paramMappings:n,params:{entry_flow:m,middle_flow:g,exit_flow:b}}}function ZLe(e,t){var n=Dh(e,t),r=$oe(n),a=t6(n);function i(s){var l=a(s+"/separable_conv0"),u=a(s+"/separable_conv1"),d=r(s+"/expansion_conv");return{separable_conv0:l,separable_conv1:u,expansion_conv:d}}function o(s){var l=a(s+"/separable_conv0"),u=a(s+"/separable_conv1"),d=a(s+"/separable_conv2");return{separable_conv0:l,separable_conv1:u,separable_conv2:d}}return{extractConvParams:r,extractSeparableConvParams:a,extractReductionBlockParams:i,extractMainBlockParams:o}}function QLe(e,t){var n=[],r=ZLe(e,n),a=r.extractConvParams,i=r.extractSeparableConvParams,o=r.extractReductionBlockParams,s=r.extractMainBlockParams,l=a("entry_flow/conv_in"),u=o("entry_flow/reduction_block_0"),d=o("entry_flow/reduction_block_1"),f={conv_in:l,reduction_block_0:u,reduction_block_1:d},h={};Eb(t,0,1).forEach(function(y){h["main_block_"+y]=s("middle_flow/main_block_"+y)});var p=o("exit_flow/reduction_block"),m=i("exit_flow/separable_conv"),g={reduction_block:p,separable_conv:m};return Hd(e,n),{params:{entry_flow:f,middle_flow:h,exit_flow:g},paramMappings:n}}function Hoe(e,t,n){return Gn(Rl(e,t.filters,n,"same"),t.bias)}function A4(e,t,n){n===void 0&&(n=!0);var r=n?Sa(e):e;return r=Os(r,t.separable_conv0,[1,1]),r=Os(Sa(r),t.separable_conv1,[1,1]),r=bi(r,[3,3],[2,2],"same"),r=Gn(r,Hoe(e,t.expansion_conv,[2,2])),r}function JLe(e,t){var n=Os(Sa(e),t.separable_conv0,[1,1]);return n=Os(Sa(n),t.separable_conv1,[1,1]),n=Os(Sa(n),t.separable_conv2,[1,1]),n=Gn(n,e),n}var e5e=function(e){Tn(t,e);function t(n){var r=e.call(this,"TinyXception")||this;return r._numMainBlocks=n,r}return t.prototype.forwardInput=function(n){var r=this,a=this.params;if(!a)throw new Error("TinyXception - load model before inference");return Qt(function(){var i=n.toBatchTensor(112,!0),o=[122.782,117.001,104.298],s=i2(i,o).div(zt(256)),l=Sa(Hoe(s,a.entry_flow.conv_in,[2,2]));return l=A4(l,a.entry_flow.reduction_block_0,!1),l=A4(l,a.entry_flow.reduction_block_1),Eb(r._numMainBlocks,0,1).forEach(function(u){l=JLe(l,a.middle_flow["main_block_"+u])}),l=A4(l,a.exit_flow.reduction_block),l=Sa(Os(l,a.exit_flow.separable_conv,[1,1])),l})},t.prototype.forward=function(n){return fn(this,void 0,void 0,function(){var r;return hn(this,function(a){switch(a.label){case 0:return r=this.forwardInput,[4,Ai(n)];case 1:return[2,r.apply(this,[a.sent()])]}})})},t.prototype.getDefaultModelName=function(){return"tiny_xception_model"},t.prototype.extractParamsFromWeigthMap=function(n){return QLe(n,this._numMainBlocks)},t.prototype.extractParams=function(n){return XLe(n,this._numMainBlocks)},t}(Vd);function t5e(e){var t=[],n=qd(e),r=n.extractWeights,a=n.getRemainingWeights,i=J5(r,t),o=i(512,1,"fc/age"),s=i(512,2,"fc/gender");if(a().length!==0)throw new Error("weights remaing after extract: "+a().length);return{paramMappings:t,params:{fc:{age:o,gender:s}}}}function n5e(e){var t=[],n=Dh(e,t);function r(i){var o=n(i+"/weights",2),s=n(i+"/bias",1);return{weights:o,bias:s}}var a={fc:{age:r("fc/age"),gender:r("fc/gender")}};return Hd(e,t),{params:a,paramMappings:t}}var OE;(function(e){e.FEMALE="female",e.MALE="male"})(OE||(OE={}));var r5e=function(e){Tn(t,e);function t(n){n===void 0&&(n=new e5e(2));var r=e.call(this,"AgeGenderNet")||this;return r._faceFeatureExtractor=n,r}return Object.defineProperty(t.prototype,"faceFeatureExtractor",{get:function(){return this._faceFeatureExtractor},enumerable:!0,configurable:!0}),t.prototype.runNet=function(n){var r=this,a=this.params;if(!a)throw new Error(this._name+" - load model before inference");return Qt(function(){var i=n instanceof DE?r.faceFeatureExtractor.forwardInput(n):n,o=r2(i,[7,7],[2,2],"valid").as2D(i.shape[0],-1),s=iu(o,a.fc.age).as1D(),l=iu(o,a.fc.gender);return{age:s,gender:l}})},t.prototype.forwardInput=function(n){var r=this;return Qt(function(){var a=r.runNet(n),i=a.age,o=a.gender;return{age:i,gender:Ud(o)}})},t.prototype.forward=function(n){return fn(this,void 0,void 0,function(){var r;return hn(this,function(a){switch(a.label){case 0:return r=this.forwardInput,[4,Ai(n)];case 1:return[2,r.apply(this,[a.sent()])]}})})},t.prototype.predictAgeAndGender=function(n){return fn(this,void 0,void 0,function(){var r,a,i,o,s,l,u=this;return hn(this,function(d){switch(d.label){case 0:return[4,Ai(n)];case 1:return r=d.sent(),[4,this.forwardInput(r)];case 2:return a=d.sent(),i=pi(a.age),o=pi(a.gender),s=i.map(function(f,h){return{ageTensor:f,genderTensor:o[h]}}),[4,Promise.all(s.map(function(f){var h=f.ageTensor,p=f.genderTensor;return fn(u,void 0,void 0,function(){var m,g,y,x,b;return hn(this,function(w){switch(w.label){case 0:return[4,h.data()];case 1:return m=w.sent()[0],[4,p.data()];case 2:return g=w.sent()[0],y=g>.5,x=y?OE.MALE:OE.FEMALE,b=y?g:1-g,h.dispose(),p.dispose(),[2,{age:m,gender:x,genderProbability:b}]}})})}))];case 3:return l=d.sent(),a.age.dispose(),a.gender.dispose(),[2,r.isBatchInput?l:l[0]]}})})},t.prototype.getDefaultModelName=function(){return"age_gender_model"},t.prototype.dispose=function(n){n===void 0&&(n=!0),this.faceFeatureExtractor.dispose(n),e.prototype.dispose.call(this,n)},t.prototype.loadClassifierParams=function(n){var r=this.extractClassifierParams(n),a=r.params,i=r.paramMappings;this._params=a,this._paramMappings=i},t.prototype.extractClassifierParams=function(n){return t5e(n)},t.prototype.extractParamsFromWeigthMap=function(n){var r=Uoe(n),a=r.featureExtractorMap,i=r.classifierMap;return this.faceFeatureExtractor.loadFromWeightMap(a),n5e(i)},t.prototype.extractParams=function(n){var r=1539,a=n.slice(0,n.length-r),i=n.slice(n.length-r);return this.faceFeatureExtractor.extractWeights(a),this.extractClassifierParams(i)},t}(Vd),qoe=function(e){Tn(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.postProcess=function(n,r,a){var i=a.map(function(s){var l=s.width,u=s.height,d=r/Math.max(u,l);return{width:l*d,height:u*d}}),o=i.length;return Qt(function(){var s=function(h,p){return Fs([yu([68],h),yu([68],p)],1).as2D(1,136).as1D()},l=function(h,p){var m=i[h],g=m.width,y=m.height;return p(g,y)?Math.abs(g-y)/2:0},u=function(h){return l(h,function(p,m){return p<m})},d=function(h){return l(h,function(p,m){return m<p})},f=n.mul(yu([o,136],r)).sub(Fs(Array.from(Array(o),function(h,p){return s(u(p),d(p))}))).div(Fs(Array.from(Array(o),function(h,p){return s(i[p].width,i[p].height)})));return f})},t.prototype.forwardInput=function(n){var r=this;return Qt(function(){var a=r.runNet(n);return r.postProcess(a,n.inputSize,n.inputDimensions.map(function(i){var o=i[0],s=i[1];return{height:o,width:s}}))})},t.prototype.forward=function(n){return fn(this,void 0,void 0,function(){var r;return hn(this,function(a){switch(a.label){case 0:return r=this.forwardInput,[4,Ai(n)];case 1:return[2,r.apply(this,[a.sent()])]}})})},t.prototype.detectLandmarks=function(n){return fn(this,void 0,void 0,function(){var r,a,i,o=this;return hn(this,function(s){switch(s.label){case 0:return[4,Ai(n)];case 1:return r=s.sent(),a=Qt(function(){return pi(o.forwardInput(r))}),[4,Promise.all(a.map(function(l,u){return fn(o,void 0,void 0,function(){var d,f,h,p,m;return hn(this,function(g){switch(g.label){case 0:return h=(f=Array).from,[4,l.data()];case 1:return d=h.apply(f,[g.sent()]),p=d.filter(function(y,x){return hV(x)}),m=d.filter(function(y,x){return!hV(x)}),[2,new DLe(Array(68).fill(0).map(function(y,x){return new yr(p[x],m[x])}),{height:r.getInputHeight(u),width:r.getInputWidth(u)})]}})})}))];case 2:return i=s.sent(),a.forEach(function(l){return l.dispose()}),[2,r.isBatchInput?i:i[0]]}})})},t.prototype.getClassifierChannelsOut=function(){return 136},t}(Woe),Goe=function(e){Tn(t,e);function t(n){return n===void 0&&(n=new zoe),e.call(this,"FaceLandmark68Net",n)||this}return t.prototype.getDefaultModelName=function(){return"face_landmark_68_model"},t.prototype.getClassifierChannelsIn=function(){return 256},t}(qoe);function a5e(e){var t=[],n=Boe(e,t).extractDenseBlock3Params,r={dense0:n("dense0",!0),dense1:n("dense1"),dense2:n("dense2")};return Hd(e,t),{params:r,paramMappings:t}}function i5e(e){var t=[],n=qd(e),r=n.extractWeights,a=n.getRemainingWeights,i=Loe(r,t).extractDenseBlock3Params,o=i(3,32,"dense0",!0),s=i(32,64,"dense1"),l=i(64,128,"dense2");if(a().length!==0)throw new Error("weights remaing after extract: "+a().length);return{paramMappings:t,params:{dense0:o,dense1:s,dense2:l}}}var o5e=function(e){Tn(t,e);function t(){return e.call(this,"TinyFaceFeatureExtractor")||this}return t.prototype.forwardInput=function(n){var r=this.params;if(!r)throw new Error("TinyFaceFeatureExtractor - load model before inference");return Qt(function(){var a=n.toBatchTensor(112,!0),i=[122.782,117.001,104.298],o=i2(a,i).div(zt(255)),s=P4(o,r.dense0,!0);return s=P4(s,r.dense1),s=P4(s,r.dense2),s=r2(s,[14,14],[2,2],"valid"),s})},t.prototype.forward=function(n){return fn(this,void 0,void 0,function(){var r;return hn(this,function(a){switch(a.label){case 0:return r=this.forwardInput,[4,Ai(n)];case 1:return[2,r.apply(this,[a.sent()])]}})})},t.prototype.getDefaultModelName=function(){return"face_feature_extractor_tiny_model"},t.prototype.extractParamsFromWeigthMap=function(n){return a5e(n)},t.prototype.extractParams=function(n){return i5e(n)},t}(Vd),s5e=function(e){Tn(t,e);function t(n){return n===void 0&&(n=new o5e),e.call(this,"FaceLandmark68TinyNet",n)||this}return t.prototype.getDefaultModelName=function(){return"face_landmark_68_tiny_model"},t.prototype.getClassifierChannelsIn=function(){return 128},t}(qoe);(function(e){Tn(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t})(Goe);function l5e(e,t){return Gn(bo(e,t.weights),t.biases)}function r6(e,t,n,r,a){a===void 0&&(a="same");var i=t.conv,o=i.filters,s=i.bias,l=Rl(e,o,n,a);return l=Gn(l,s),l=l5e(l,t.scale),r?Sa(l):l}function c5e(e,t){return r6(e,t,[1,1],!0)}function Yoe(e,t){return r6(e,t,[1,1],!1)}function Koe(e,t){return r6(e,t,[2,2],!0,"valid")}function u5e(e,t){function n(s,l,u){var d=e(s),f=d.length/(l*u*u);if(_Le(f))throw new Error("depth has to be an integer: "+f+", weights.length: "+d.length+", numFilters: "+l+", filterSize: "+u);return Qt(function(){return fh(Go(d,[l,f,u,u]),[2,3,1,0])})}function r(s,l,u,d){var f=n(s,l,u),h=ei(e(l));return t.push({paramPath:d+"/filters"},{paramPath:d+"/bias"}),{filters:f,bias:h}}function a(s,l){var u=ei(e(s)),d=ei(e(s));return t.push({paramPath:l+"/weights"},{paramPath:l+"/biases"}),{weights:u,biases:d}}function i(s,l,u,d){var f=r(s,l,u,d+"/conv"),h=a(l,d+"/scale");return{conv:f,scale:h}}function o(s,l,u,d,f){f===void 0&&(f=!1);var h=i((f?.5:1)*s,l,u,d+"/conv1"),p=i(s,l,u,d+"/conv2");return{conv1:h,conv2:p}}return{extractConvLayerParams:i,extractResidualLayerParams:o}}function d5e(e){var t=qd(e),n=t.extractWeights,r=t.getRemainingWeights,a=[],i=u5e(n,a),o=i.extractConvLayerParams,s=i.extractResidualLayerParams,l=o(4704,32,7,"conv32_down"),u=s(9216,32,3,"conv32_1"),d=s(9216,32,3,"conv32_2"),f=s(9216,32,3,"conv32_3"),h=s(36864,64,3,"conv64_down",!0),p=s(36864,64,3,"conv64_1"),m=s(36864,64,3,"conv64_2"),g=s(36864,64,3,"conv64_3"),y=s(147456,128,3,"conv128_down",!0),x=s(147456,128,3,"conv128_1"),b=s(147456,128,3,"conv128_2"),w=s(589824,256,3,"conv256_down",!0),_=s(589824,256,3,"conv256_1"),S=s(589824,256,3,"conv256_2"),k=s(589824,256,3,"conv256_down_out"),N=Qt(function(){return fh(eh(n(256*128),[128,256]),[1,0])});if(a.push({paramPath:"fc"}),r().length!==0)throw new Error("weights remaing after extract: "+r().length);var P={conv32_down:l,conv32_1:u,conv32_2:d,conv32_3:f,conv64_down:h,conv64_1:p,conv64_2:m,conv64_3:g,conv128_down:y,conv128_1:x,conv128_2:b,conv256_down:w,conv256_1:_,conv256_2:S,conv256_down_out:k,fc:N};return{params:P,paramMappings:a}}function f5e(e,t){var n=Dh(e,t);function r(o){var s=n(o+"/scale/weights",1),l=n(o+"/scale/biases",1);return{weights:s,biases:l}}function a(o){var s=n(o+"/conv/filters",4),l=n(o+"/conv/bias",1),u=r(o);return{conv:{filters:s,bias:l},scale:u}}function i(o){return{conv1:a(o+"/conv1"),conv2:a(o+"/conv2")}}return{extractConvLayerParams:a,extractResidualLayerParams:i}}function h5e(e){var t=[],n=f5e(e,t),r=n.extractConvLayerParams,a=n.extractResidualLayerParams,i=r("conv32_down"),o=a("conv32_1"),s=a("conv32_2"),l=a("conv32_3"),u=a("conv64_down"),d=a("conv64_1"),f=a("conv64_2"),h=a("conv64_3"),p=a("conv128_down"),m=a("conv128_1"),g=a("conv128_2"),y=a("conv256_down"),x=a("conv256_1"),b=a("conv256_2"),w=a("conv256_down_out"),_=e.fc;if(t.push({originalPath:"fc",paramPath:"fc"}),!wLe(_))throw new Error("expected weightMap[fc] to be a Tensor2D, instead have "+_);var S={conv32_down:i,conv32_1:o,conv32_2:s,conv32_3:l,conv64_down:u,conv64_1:d,conv64_2:f,conv64_3:h,conv128_down:p,conv128_1:m,conv128_2:g,conv256_down:y,conv256_1:x,conv256_2:b,conv256_down_out:w,fc:_};return Hd(e,t),{params:S,paramMappings:t}}function Mc(e,t){var n=c5e(e,t.conv1);return n=Yoe(n,t.conv2),n=Gn(n,e),n=Sa(n),n}function A_(e,t){var n=Koe(e,t.conv1);n=Yoe(n,t.conv2);var r=r2(e,2,2,"valid"),a=ta(r.shape),i=r.shape[3]!==n.shape[3],o=r.shape[1]!==n.shape[1]||r.shape[2]!==n.shape[2];if(o){var s=o1(n.shape);s[1]=1;var l=ta(s);n=hi([n,l],1);var u=o1(n.shape);u[2]=1;var d=ta(u);n=hi([n,d],2)}return r=i?hi([r,a],3):r,n=Gn(r,n),n=Sa(n),n}var p5e=function(e){Tn(t,e);function t(){return e.call(this,"FaceRecognitionNet")||this}return t.prototype.forwardInput=function(n){var r=this.params;if(!r)throw new Error("FaceRecognitionNet - load model before inference");return Qt(function(){var a=n.toBatchTensor(150,!0).toFloat(),i=[122.782,117.001,104.298],o=i2(a,i).div(zt(256)),s=Koe(o,r.conv32_down);s=bi(s,3,2,"valid"),s=Mc(s,r.conv32_1),s=Mc(s,r.conv32_2),s=Mc(s,r.conv32_3),s=A_(s,r.conv64_down),s=Mc(s,r.conv64_1),s=Mc(s,r.conv64_2),s=Mc(s,r.conv64_3),s=A_(s,r.conv128_down),s=Mc(s,r.conv128_1),s=Mc(s,r.conv128_2),s=A_(s,r.conv256_down),s=Mc(s,r.conv256_1),s=Mc(s,r.conv256_2),s=A_(s,r.conv256_down_out);var l=s.mean([1,2]),u=Kj(l,r.fc);return u})},t.prototype.forward=function(n){return fn(this,void 0,void 0,function(){var r;return hn(this,function(a){switch(a.label){case 0:return r=this.forwardInput,[4,Ai(n)];case 1:return[2,r.apply(this,[a.sent()])]}})})},t.prototype.computeFaceDescriptor=function(n){return fn(this,void 0,void 0,function(){var r,a,i,o=this;return hn(this,function(s){switch(s.label){case 0:return[4,Ai(n)];case 1:return r=s.sent(),a=Qt(function(){return pi(o.forwardInput(r))}),[4,Promise.all(a.map(function(l){return l.data()}))];case 2:return i=s.sent(),a.forEach(function(l){return l.dispose()}),[2,r.isBatchInput?i:i[0]]}})})},t.prototype.getDefaultModelName=function(){return"face_recognition_model"},t.prototype.extractParamsFromWeigthMap=function(n){return h5e(n)},t.prototype.extractParams=function(n){return d5e(n)},t}(Vd);function Xoe(e,t){var n={descriptor:t};return Object.assign({},e,n)}function Zoe(e,t){var n={age:t};return Object.assign({},e,n)}function Qoe(e,t,n){var r={gender:t,genderProbability:n};return Object.assign({},e,r)}var Joe=function(){function e(t){var n=t===void 0?{}:t,r=n.minFaceSize,a=n.scaleFactor,i=n.maxNumScales,o=n.scoreThresholds,s=n.scaleSteps;if(this._name="MtcnnOptions",this._minFaceSize=r||20,this._scaleFactor=a||.709,this._maxNumScales=i||10,this._scoreThresholds=o||[.6,.7,.7],this._scaleSteps=s,typeof this._minFaceSize!="number"||this._minFaceSize<0)throw new Error(this._name+" - expected minFaceSize to be a number > 0");if(typeof this._scaleFactor!="number"||this._scaleFactor<=0||this._scaleFactor>=1)throw new Error(this._name+" - expected scaleFactor to be a number between 0 and 1");if(typeof this._maxNumScales!="number"||this._maxNumScales<0)throw new Error(this._name+" - expected maxNumScales to be a number > 0");if(!Array.isArray(this._scoreThresholds)||this._scoreThresholds.length!==3||this._scoreThresholds.some(function(l){return typeof l!="number"}))throw new Error(this._name+" - expected scoreThresholds to be an array of numbers of length 3");if(this._scaleSteps&&(!Array.isArray(this._scaleSteps)||this._scaleSteps.some(function(l){return typeof l!="number"})))throw new Error(this._name+" - expected scaleSteps to be an array of numbers")}return Object.defineProperty(e.prototype,"minFaceSize",{get:function(){return this._minFaceSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scaleFactor",{get:function(){return this._scaleFactor},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxNumScales",{get:function(){return this._maxNumScales},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scoreThresholds",{get:function(){return this._scoreThresholds},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scaleSteps",{get:function(){return this._scaleSteps},enumerable:!0,configurable:!0}),e}();function m5e(e,t){function n(l,u){var d=Go(e(9*l),[3,3,l,1]),f=ei(e(l)),h=ei(e(l)),p=ei(e(l)),m=ei(e(l));return t.push({paramPath:u+"/filters"},{paramPath:u+"/batch_norm_scale"},{paramPath:u+"/batch_norm_offset"},{paramPath:u+"/batch_norm_mean"},{paramPath:u+"/batch_norm_variance"}),{filters:d,batch_norm_scale:f,batch_norm_offset:h,batch_norm_mean:p,batch_norm_variance:m}}function r(l,u,d,f,h){var p=Go(e(l*u*d*d),[d,d,l,u]),m=ei(e(u));return t.push({paramPath:f+"/filters"},{paramPath:f+"/"+(h?"batch_norm_offset":"bias")}),{filters:p,bias:m}}function a(l,u,d,f){var h=r(l,u,d,f,!0),p=h.filters,m=h.bias;return{filters:p,batch_norm_offset:m}}function i(l,u,d){var f=n(l,d+"/depthwise_conv"),h=a(l,u,1,d+"/pointwise_conv");return{depthwise_conv:f,pointwise_conv:h}}function o(){var l=a(3,32,3,"mobilenetv1/conv_0"),u=i(32,64,"mobilenetv1/conv_1"),d=i(64,128,"mobilenetv1/conv_2"),f=i(128,128,"mobilenetv1/conv_3"),h=i(128,256,"mobilenetv1/conv_4"),p=i(256,256,"mobilenetv1/conv_5"),m=i(256,512,"mobilenetv1/conv_6"),g=i(512,512,"mobilenetv1/conv_7"),y=i(512,512,"mobilenetv1/conv_8"),x=i(512,512,"mobilenetv1/conv_9"),b=i(512,512,"mobilenetv1/conv_10"),w=i(512,512,"mobilenetv1/conv_11"),_=i(512,1024,"mobilenetv1/conv_12"),S=i(1024,1024,"mobilenetv1/conv_13");return{conv_0:l,conv_1:u,conv_2:d,conv_3:f,conv_4:h,conv_5:p,conv_6:m,conv_7:g,conv_8:y,conv_9:x,conv_10:b,conv_11:w,conv_12:_,conv_13:S}}function s(){var l=a(1024,256,1,"prediction_layer/conv_0"),u=a(256,512,3,"prediction_layer/conv_1"),d=a(512,128,1,"prediction_layer/conv_2"),f=a(128,256,3,"prediction_layer/conv_3"),h=a(256,128,1,"prediction_layer/conv_4"),p=a(128,256,3,"prediction_layer/conv_5"),m=a(256,64,1,"prediction_layer/conv_6"),g=a(64,128,3,"prediction_layer/conv_7"),y=r(512,12,1,"prediction_layer/box_predictor_0/box_encoding_predictor"),x=r(512,9,1,"prediction_layer/box_predictor_0/class_predictor"),b=r(1024,24,1,"prediction_layer/box_predictor_1/box_encoding_predictor"),w=r(1024,18,1,"prediction_layer/box_predictor_1/class_predictor"),_=r(512,24,1,"prediction_layer/box_predictor_2/box_encoding_predictor"),S=r(512,18,1,"prediction_layer/box_predictor_2/class_predictor"),k=r(256,24,1,"prediction_layer/box_predictor_3/box_encoding_predictor"),N=r(256,18,1,"prediction_layer/box_predictor_3/class_predictor"),P=r(256,24,1,"prediction_layer/box_predictor_4/box_encoding_predictor"),T=r(256,18,1,"prediction_layer/box_predictor_4/class_predictor"),j=r(128,24,1,"prediction_layer/box_predictor_5/box_encoding_predictor"),D=r(128,18,1,"prediction_layer/box_predictor_5/class_predictor"),M={box_encoding_predictor:y,class_predictor:x},R={box_encoding_predictor:b,class_predictor:w},W={box_encoding_predictor:_,class_predictor:S},B={box_encoding_predictor:k,class_predictor:N},V={box_encoding_predictor:P,class_predictor:T},q={box_encoding_predictor:j,class_predictor:D};return{conv_0:l,conv_1:u,conv_2:d,conv_3:f,conv_4:h,conv_5:p,conv_6:m,conv_7:g,box_predictor_0:M,box_predictor_1:R,box_predictor_2:W,box_predictor_3:B,box_predictor_4:V,box_predictor_5:q}}return{extractMobilenetV1Params:o,extractPredictionLayerParams:s}}function g5e(e){var t=[],n=qd(e),r=n.extractWeights,a=n.getRemainingWeights,i=m5e(r,t),o=i.extractMobilenetV1Params,s=i.extractPredictionLayerParams,l=o(),u=s(),d=x5(r(5118*4),[1,5118,4]),f={extra_dim:d};if(t.push({paramPath:"output_layer/extra_dim"}),a().length!==0)throw new Error("weights remaing after extract: "+a().length);return{params:{mobilenetv1:l,prediction_layer:u,output_layer:f},paramMappings:t}}function v5e(e,t){var n=Dh(e,t);function r(u,d,f){var h=n(u+"/Conv2d_"+d+"_pointwise/weights",4,f+"/filters"),p=n(u+"/Conv2d_"+d+"_pointwise/convolution_bn_offset",1,f+"/batch_norm_offset");return{filters:h,batch_norm_offset:p}}function a(u){var d="mobilenetv1/conv_"+u,f="MobilenetV1/Conv2d_"+u+"_depthwise",h=d+"/depthwise_conv",p=d+"/pointwise_conv",m=n(f+"/depthwise_weights",4,h+"/filters"),g=n(f+"/BatchNorm/gamma",1,h+"/batch_norm_scale"),y=n(f+"/BatchNorm/beta",1,h+"/batch_norm_offset"),x=n(f+"/BatchNorm/moving_mean",1,h+"/batch_norm_mean"),b=n(f+"/BatchNorm/moving_variance",1,h+"/batch_norm_variance");return{depthwise_conv:{filters:m,batch_norm_scale:g,batch_norm_offset:y,batch_norm_mean:x,batch_norm_variance:b},pointwise_conv:r("MobilenetV1",u,p)}}function i(){return{conv_0:r("MobilenetV1",0,"mobilenetv1/conv_0"),conv_1:a(1),conv_2:a(2),conv_3:a(3),conv_4:a(4),conv_5:a(5),conv_6:a(6),conv_7:a(7),conv_8:a(8),conv_9:a(9),conv_10:a(10),conv_11:a(11),conv_12:a(12),conv_13:a(13)}}function o(u,d){var f=n(u+"/weights",4,d+"/filters"),h=n(u+"/biases",1,d+"/bias");return{filters:f,bias:h}}function s(u){var d=o("Prediction/BoxPredictor_"+u+"/BoxEncodingPredictor","prediction_layer/box_predictor_"+u+"/box_encoding_predictor"),f=o("Prediction/BoxPredictor_"+u+"/ClassPredictor","prediction_layer/box_predictor_"+u+"/class_predictor");return{box_encoding_predictor:d,class_predictor:f}}function l(){return{conv_0:r("Prediction",0,"prediction_layer/conv_0"),conv_1:r("Prediction",1,"prediction_layer/conv_1"),conv_2:r("Prediction",2,"prediction_layer/conv_2"),conv_3:r("Prediction",3,"prediction_layer/conv_3"),conv_4:r("Prediction",4,"prediction_layer/conv_4"),conv_5:r("Prediction",5,"prediction_layer/conv_5"),conv_6:r("Prediction",6,"prediction_layer/conv_6"),conv_7:r("Prediction",7,"prediction_layer/conv_7"),box_predictor_0:s(0),box_predictor_1:s(1),box_predictor_2:s(2),box_predictor_3:s(3),box_predictor_4:s(4),box_predictor_5:s(5)}}return{extractMobilenetV1Params:i,extractPredictionLayerParams:l}}function y5e(e){var t=[],n=v5e(e,t),r=n.extractMobilenetV1Params,a=n.extractPredictionLayerParams,i=e["Output/extra_dim"];if(t.push({originalPath:"Output/extra_dim",paramPath:"output_layer/extra_dim"}),!Jj(i))throw new Error("expected weightMap['Output/extra_dim'] to be a Tensor3D, instead have "+i);var o={mobilenetv1:r(),prediction_layer:a(),output_layer:{extra_dim:i}};return Hd(e,t),{params:o,paramMappings:t}}function Uc(e,t,n){return Qt(function(){var r=Rl(e,t.filters,n,"same");return r=Gn(r,t.batch_norm_offset),P5(r,0,6)})}var x5e=.0010000000474974513;function b5e(e,t,n){return Qt(function(){var r=Yj(e,t.filters,n,"same");return r=Gie(r,t.batch_norm_mean,t.batch_norm_variance,t.batch_norm_offset,t.batch_norm_scale,x5e),P5(r,0,6)})}function w5e(e){return[2,4,6,12].some(function(t){return t===e})?[2,2]:[1,1]}function _5e(e,t){return Qt(function(){var n=null,r=Uc(e,t.conv_0,[2,2]),a=[t.conv_1,t.conv_2,t.conv_3,t.conv_4,t.conv_5,t.conv_6,t.conv_7,t.conv_8,t.conv_9,t.conv_10,t.conv_11,t.conv_12,t.conv_13];if(a.forEach(function(i,o){var s=o+1,l=w5e(s);r=b5e(r,i.depthwise_conv,l),r=Uc(r,i.pointwise_conv,[1,1]),s===11&&(n=r)}),n===null)throw new Error("mobileNetV1 - output of conv layer 11 is null");return{out:r,conv11:n}})}function S5e(e,t,n,r,a){var i=e.shape[0],o=Math.min(n,i),s=t.map(function(d,f){return{score:d,boxIndex:f}}).filter(function(d){return d.score>a}).sort(function(d,f){return f.score-d.score}),l=function(d){return d<=r?1:0},u=[];return s.forEach(function(d){if(!(u.length>=o)){for(var f=d.score,h=u.length-1;h>=0;--h){var p=C5e(e,d.boxIndex,u[h]);if(p!==0&&(d.score*=l(p),d.score<=a))break}f===d.score&&u.push(d.boxIndex)}}),u}function C5e(e,t,n){var r=e.arraySync(),a=Math.min(r[t][0],r[t][2]),i=Math.min(r[t][1],r[t][3]),o=Math.max(r[t][0],r[t][2]),s=Math.max(r[t][1],r[t][3]),l=Math.min(r[n][0],r[n][2]),u=Math.min(r[n][1],r[n][3]),d=Math.max(r[n][0],r[n][2]),f=Math.max(r[n][1],r[n][3]),h=(o-a)*(s-i),p=(d-l)*(f-u);if(h<=0||p<=0)return 0;var m=Math.max(a,l),g=Math.max(i,u),y=Math.min(o,d),x=Math.min(s,f),b=Math.max(y-m,0)*Math.max(x-g,0);return b/(h+p-b)}function E5e(e){var t=pi(fh(e,[1,0])),n=[gi(t[2],t[0]),gi(t[3],t[1])],r=[Gn(t[0],ic(n[0],zt(2))),Gn(t[1],ic(n[1],zt(2)))];return{sizes:n,centers:r}}function N5e(e,t){var n=E5e(e),r=n.sizes,a=n.centers,i=pi(fh(t,[1,0])),o=ic(bo(cM(ic(i[2],zt(5))),r[0]),zt(2)),s=Gn(bo(ic(i[0],zt(10)),r[0]),a[0]),l=ic(bo(cM(ic(i[3],zt(5))),r[1]),zt(2)),u=Gn(bo(ic(i[1],zt(10)),r[1]),a[1]);return fh(Fs([gi(s,o),gi(u,l),Gn(s,o),Gn(u,l)]),[1,0])}function k5e(e,t,n){return Qt(function(){var r=e.shape[0],a=N5e(cc(mv(n.extra_dim,[r,1,1]),[-1,4]),cc(e,[-1,4]));a=cc(a,[r,a.shape[0]/r,4]);var i=Wie(ju(t,[0,0,1],[-1,-1,-1])),o=ju(i,[0,0,0],[-1,-1,1]);o=cc(o,[r,o.shape[1]]);var s=pi(a),l=pi(o);return{boxes:s,scores:l}})}function hg(e,t){return Qt(function(){var n=e.shape[0],r=cc(mc(e,t.box_encoding_predictor),[n,-1,1,4]),a=cc(mc(e,t.class_predictor),[n,-1,3]);return{boxPredictionEncoding:r,classPrediction:a}})}function j5e(e,t,n){return Qt(function(){var r=Uc(e,n.conv_0,[1,1]),a=Uc(r,n.conv_1,[2,2]),i=Uc(a,n.conv_2,[1,1]),o=Uc(i,n.conv_3,[2,2]),s=Uc(o,n.conv_4,[1,1]),l=Uc(s,n.conv_5,[2,2]),u=Uc(l,n.conv_6,[1,1]),d=Uc(u,n.conv_7,[2,2]),f=hg(t,n.box_predictor_0),h=hg(e,n.box_predictor_1),p=hg(a,n.box_predictor_2),m=hg(o,n.box_predictor_3),g=hg(l,n.box_predictor_4),y=hg(d,n.box_predictor_5),x=hi([f.boxPredictionEncoding,h.boxPredictionEncoding,p.boxPredictionEncoding,m.boxPredictionEncoding,g.boxPredictionEncoding,y.boxPredictionEncoding],1),b=hi([f.classPrediction,h.classPrediction,p.classPrediction,m.classPrediction,g.classPrediction,y.classPrediction],1);return{boxPredictions:x,classPredictions:b}})}var rT=function(){function e(t){var n=t===void 0?{}:t,r=n.minConfidence,a=n.maxResults;if(this._name="SsdMobilenetv1Options",this._minConfidence=r||.5,this._maxResults=a||100,typeof this._minConfidence!="number"||this._minConfidence<=0||this._minConfidence>=1)throw new Error(this._name+" - expected minConfidence to be a number between 0 and 1");if(typeof this._maxResults!="number")throw new Error(this._name+" - expected maxResults to be a number")}return Object.defineProperty(e.prototype,"minConfidence",{get:function(){return this._minConfidence},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxResults",{get:function(){return this._maxResults},enumerable:!0,configurable:!0}),e}(),ese=function(e){Tn(t,e);function t(){return e.call(this,"SsdMobilenetv1")||this}return t.prototype.forwardInput=function(n){var r=this.params;if(!r)throw new Error("SsdMobilenetv1 - load model before inference");return Qt(function(){var a=n.toBatchTensor(512,!1).toFloat(),i=gi(bo(a,zt(.007843137718737125)),zt(1)),o=_5e(i,r.mobilenetv1),s=j5e(o.out,o.conv11,r.prediction_layer),l=s.boxPredictions,u=s.classPredictions;return k5e(l,u,r.output_layer)})},t.prototype.forward=function(n){return fn(this,void 0,void 0,function(){var r;return hn(this,function(a){switch(a.label){case 0:return r=this.forwardInput,[4,Ai(n)];case 1:return[2,r.apply(this,[a.sent()])]}})})},t.prototype.locateFaces=function(n,r){return r===void 0&&(r={}),fn(this,void 0,void 0,function(){var a,i,o,s,l,u,d,f,h,p,m,g,y,x,b,w,_,S,k,N,P;return hn(this,function(T){switch(T.label){case 0:return a=new rT(r),i=a.maxResults,o=a.minConfidence,[4,Ai(n)];case 1:for(s=T.sent(),l=this.forwardInput(s),u=l.boxes,d=l.scores,f=u[0],h=d[0],p=1;p<u.length;p++)u[p].dispose(),d[p].dispose();return y=(g=Array).from,[4,h.data()];case 2:return m=y.apply(g,[T.sent()]),x=.5,b=S5e(f,m,i,x,o),w=s.getReshapedInputDimensions(0),_=s.inputSize,S=_/w.width,k=_/w.height,N=f.arraySync(),P=b.map(function(j){var D=[Math.max(0,N[j][0]),Math.min(1,N[j][2])].map(function(q){return q*k}),M=D[0],R=D[1],W=[Math.max(0,N[j][1]),Math.min(1,N[j][3])].map(function(q){return q*S}),B=W[0],V=W[1];return new Ru(m[j],new G5(B,M,V-B,R-M),{height:s.getInputHeight(0),width:s.getInputWidth(0)})}),f.dispose(),h.dispose(),[2,P]}})})},t.prototype.getDefaultModelName=function(){return"ssd_mobilenetv1_model"},t.prototype.extractParamsFromWeigthMap=function(n){return y5e(n)},t.prototype.extractParams=function(n){return g5e(n)},t}(Vd);(function(e){Tn(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t})(ese);var T5e=.4,P5e=[new yr(.738768,.874946),new yr(2.42204,2.65704),new yr(4.30971,7.04493),new yr(10.246,4.59428),new yr(12.6868,11.8741)],A5e=[new yr(1.603231,2.094468),new yr(6.041143,7.080126),new yr(2.882459,3.518061),new yr(4.266906,5.178857),new yr(9.041765,10.66308)],D5e=[117.001,114.697,97.404],O5e="tiny_yolov2_model",M5e="tiny_yolov2_separable_conv_model",D_=function(e){return typeof e=="number"};function I5e(e){if(!e)throw new Error("invalid config: "+e);if(typeof e.withSeparableConvs!="boolean")throw new Error("config.withSeparableConvs has to be a boolean, have: "+e.withSeparableConvs);if(!D_(e.iouThreshold)||e.iouThreshold<0||e.iouThreshold>1)throw new Error("config.iouThreshold has to be a number between [0, 1], have: "+e.iouThreshold);if(!Array.isArray(e.classes)||!e.classes.length||!e.classes.every(function(t){return typeof t=="string"}))throw new Error("config.classes has to be an array class names: string[], have: "+JSON.stringify(e.classes));if(!Array.isArray(e.anchors)||!e.anchors.length||!e.anchors.map(function(t){return t||{}}).every(function(t){return D_(t.x)&&D_(t.y)}))throw new Error("config.anchors has to be an array of { x: number, y: number }, have: "+JSON.stringify(e.anchors));if(e.meanRgb&&(!Array.isArray(e.meanRgb)||e.meanRgb.length!==3||!e.meanRgb.every(D_)))throw new Error("config.meanRgb has to be an array of shape [number, number, number], have: "+JSON.stringify(e.meanRgb))}function a6(e){return Qt(function(){var t=bo(e,zt(.10000000149011612));return Gn(Sa(gi(e,t)),t)})}function of(e,t){return Qt(function(){var n=Mm(e,[[0,0],[1,1],[1,1],[0,0]]);return n=Rl(n,t.conv.filters,[1,1],"valid"),n=gi(n,t.bn.sub),n=bo(n,t.bn.truediv),n=Gn(n,t.conv.bias),a6(n)})}function sf(e,t){return Qt(function(){var n=Mm(e,[[0,0],[1,1],[1,1],[0,0]]);return n=M5(n,t.depthwise_filter,t.pointwise_filter,[1,1],"valid"),n=Gn(n,t.bias),a6(n)})}function R5e(e,t){var n=nT(e,t);function r(o,s){var l=ei(e(o)),u=ei(e(o));return t.push({paramPath:s+"/sub"},{paramPath:s+"/truediv"}),{sub:l,truediv:u}}function a(o,s,l){var u=n(o,s,3,l+"/conv"),d=r(s,l+"/bn");return{conv:u,bn:d}}var i=e6(e,t);return{extractConvParams:n,extractConvWithBatchNormParams:a,extractSeparableConvParams:i}}function F5e(e,t,n,r){var a=qd(e),i=a.extractWeights,o=a.getRemainingWeights,s=[],l=R5e(i,s),u=l.extractConvParams,d=l.extractConvWithBatchNormParams,f=l.extractSeparableConvParams,h;if(t.withSeparableConvs){var p=r[0],m=r[1],g=r[2],y=r[3],x=r[4],b=r[5],w=r[6],_=r[7],S=r[8],k=t.isFirstLayerConv2d?u(p,m,3,"conv0"):f(p,m,"conv0"),N=f(m,g,"conv1"),P=f(g,y,"conv2"),T=f(y,x,"conv3"),j=f(x,b,"conv4"),D=f(b,w,"conv5"),M=_?f(w,_,"conv6"):void 0,R=S?f(_,S,"conv7"):void 0,W=u(S||_||w,5*n,1,"conv8");h={conv0:k,conv1:N,conv2:P,conv3:T,conv4:j,conv5:D,conv6:M,conv7:R,conv8:W}}else{var p=r[0],m=r[1],g=r[2],y=r[3],x=r[4],b=r[5],w=r[6],_=r[7],S=r[8],k=d(p,m,"conv0"),N=d(m,g,"conv1"),P=d(g,y,"conv2"),T=d(y,x,"conv3"),j=d(x,b,"conv4"),D=d(b,w,"conv5"),M=d(w,_,"conv6"),R=d(_,S,"conv7"),W=u(S,5*n,1,"conv8");h={conv0:k,conv1:N,conv2:P,conv3:T,conv4:j,conv5:D,conv6:M,conv7:R,conv8:W}}if(o().length!==0)throw new Error("weights remaing after extract: "+o().length);return{params:h,paramMappings:s}}function L5e(e,t){var n=Dh(e,t);function r(s){var l=n(s+"/sub",1),u=n(s+"/truediv",1);return{sub:l,truediv:u}}function a(s){var l=n(s+"/filters",4),u=n(s+"/bias",1);return{filters:l,bias:u}}function i(s){var l=a(s+"/conv"),u=r(s+"/bn");return{conv:l,bn:u}}var o=t6(n);return{extractConvParams:a,extractConvWithBatchNormParams:i,extractSeparableConvParams:o}}function $5e(e,t){var n=[],r=L5e(e,n),a=r.extractConvParams,i=r.extractConvWithBatchNormParams,o=r.extractSeparableConvParams,s;if(t.withSeparableConvs){var l=t.filterSizes&&t.filterSizes.length||9;s={conv0:t.isFirstLayerConv2d?a("conv0"):o("conv0"),conv1:o("conv1"),conv2:o("conv2"),conv3:o("conv3"),conv4:o("conv4"),conv5:o("conv5"),conv6:l>7?o("conv6"):void 0,conv7:l>8?o("conv7"):void 0,conv8:a("conv8")}}else s={conv0:i("conv0"),conv1:i("conv1"),conv2:i("conv2"),conv3:i("conv3"),conv4:i("conv4"),conv5:i("conv5"),conv6:i("conv6"),conv7:i("conv7"),conv8:a("conv8")};return Hd(e,n),{params:s,paramMappings:n}}var wV;(function(e){e[e.XS=224]="XS",e[e.SM=320]="SM",e[e.MD=416]="MD",e[e.LG=608]="LG"})(wV||(wV={}));var i6=function(){function e(t){var n=t===void 0?{}:t,r=n.inputSize,a=n.scoreThreshold;if(this._name="TinyYolov2Options",this._inputSize=r||416,this._scoreThreshold=a||.5,typeof this._inputSize!="number"||this._inputSize%32!==0)throw new Error(this._name+" - expected inputSize to be a number divisible by 32");if(typeof this._scoreThreshold!="number"||this._scoreThreshold<=0||this._scoreThreshold>=1)throw new Error(this._name+" - expected scoreThreshold to be a number between 0 and 1")}return Object.defineProperty(e.prototype,"inputSize",{get:function(){return this._inputSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scoreThreshold",{get:function(){return this._scoreThreshold},enumerable:!0,configurable:!0}),e}(),tse=function(e){Tn(t,e);function t(n){var r=e.call(this,"TinyYolov2")||this;return I5e(n),r._config=n,r}return Object.defineProperty(t.prototype,"config",{get:function(){return this._config},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"withClassScores",{get:function(){return this.config.withClassScores||this.config.classes.length>1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"boxEncodingSize",{get:function(){return 5+(this.withClassScores?this.config.classes.length:0)},enumerable:!0,configurable:!0}),t.prototype.runTinyYolov2=function(n,r){var a=of(n,r.conv0);return a=bi(a,[2,2],[2,2],"same"),a=of(a,r.conv1),a=bi(a,[2,2],[2,2],"same"),a=of(a,r.conv2),a=bi(a,[2,2],[2,2],"same"),a=of(a,r.conv3),a=bi(a,[2,2],[2,2],"same"),a=of(a,r.conv4),a=bi(a,[2,2],[2,2],"same"),a=of(a,r.conv5),a=bi(a,[2,2],[1,1],"same"),a=of(a,r.conv6),a=of(a,r.conv7),mc(a,r.conv8,"valid",!1)},t.prototype.runMobilenet=function(n,r){var a=this.config.isFirstLayerConv2d?a6(mc(n,r.conv0,"valid",!1)):sf(n,r.conv0);return a=bi(a,[2,2],[2,2],"same"),a=sf(a,r.conv1),a=bi(a,[2,2],[2,2],"same"),a=sf(a,r.conv2),a=bi(a,[2,2],[2,2],"same"),a=sf(a,r.conv3),a=bi(a,[2,2],[2,2],"same"),a=sf(a,r.conv4),a=bi(a,[2,2],[2,2],"same"),a=sf(a,r.conv5),a=bi(a,[2,2],[1,1],"same"),a=r.conv6?sf(a,r.conv6):a,a=r.conv7?sf(a,r.conv7):a,mc(a,r.conv8,"valid",!1)},t.prototype.forwardInput=function(n,r){var a=this,i=this.params;if(!i)throw new Error("TinyYolov2 - load model before inference");return Qt(function(){var o=n.toBatchTensor(r,!1).toFloat();return o=a.config.meanRgb?i2(o,a.config.meanRgb):o,o=o.div(zt(256)),a.config.withSeparableConvs?a.runMobilenet(o,i):a.runTinyYolov2(o,i)})},t.prototype.forward=function(n,r){return fn(this,void 0,void 0,function(){var a;return hn(this,function(i){switch(i.label){case 0:return a=this.forwardInput,[4,Ai(n)];case 1:return[4,a.apply(this,[i.sent(),r])];case 2:return[2,i.sent()]}})})},t.prototype.detect=function(n,r){return r===void 0&&(r={}),fn(this,void 0,void 0,function(){var a,i,o,s,l,u,d,f,h,p,m,g,y,x,b=this;return hn(this,function(w){switch(w.label){case 0:return a=new i6(r),i=a.inputSize,o=a.scoreThreshold,[4,Ai(n)];case 1:return s=w.sent(),[4,this.forwardInput(s,i)];case 2:return l=w.sent(),u=Qt(function(){return pi(l)[0].expandDims()}),d={width:s.getInputWidth(0),height:s.getInputHeight(0)},[4,this.extractBoxes(u,s.getReshapedInputDimensions(0),o)];case 3:return f=w.sent(),l.dispose(),u.dispose(),h=f.map(function(_){return _.box}),p=f.map(function(_){return _.score}),m=f.map(function(_){return _.classScore}),g=f.map(function(_){return b.config.classes[_.label]}),y=Nb(h.map(function(_){return _.rescale(i)}),p,this.config.iouThreshold,!0),x=y.map(function(_){return new koe(p[_],m[_],g[_],h[_],d)}),[2,x]}})})},t.prototype.getDefaultModelName=function(){return""},t.prototype.extractParamsFromWeigthMap=function(n){return $5e(n,this.config)},t.prototype.extractParams=function(n){var r=this.config.filterSizes||t.DEFAULT_FILTER_SIZES,a=r?r.length:void 0;if(a!==7&&a!==8&&a!==9)throw new Error("TinyYolov2 - expected 7 | 8 | 9 convolutional filters, but found "+a+" filterSizes in config");return F5e(n,this.config,this.boxEncodingSize,r)},t.prototype.extractBoxes=function(n,r,a){return fn(this,void 0,void 0,function(){var i,o,s,l,u,d,f,h,p,m,g,y,x,b,w,_,S,k,N,P,T,j,D,M,R,W,B,V,q,I=this;return hn(this,function(O){switch(O.label){case 0:return i=r.width,o=r.height,s=Math.max(i,o),l=s/i,u=s/o,d=n.shape[1],f=this.config.anchors.length,h=Qt(function(){var H=n.reshape([d,d,f,I.boxEncodingSize]),ne=H.slice([0,0,0,0],[d,d,f,4]),z=H.slice([0,0,0,4],[d,d,f,1]),J=I.withClassScores?Ud(H.slice([0,0,0,5],[d,d,f,I.config.classes.length]),3):zt(0);return[ne,z,J]}),p=h[0],m=h[1],g=h[2],y=[],[4,m.array()];case 1:return x=O.sent(),[4,p.array()];case 2:b=O.sent(),w=0,O.label=3;case 3:if(!(w<d))return[3,12];_=0,O.label=4;case 4:if(!(_<d))return[3,11];S=0,O.label=5;case 5:return S<f?(k=T4(x[w][_][S][0]),!a||k>a?(N=(_+T4(b[w][_][S][0]))/d*l,P=(w+T4(b[w][_][S][1]))/d*u,T=Math.exp(b[w][_][S][2])*this.config.anchors[S].x/d*l,j=Math.exp(b[w][_][S][3])*this.config.anchors[S].y/d*u,D=N-T/2,M=P-j/2,R={row:w,col:_,anchor:S},this.withClassScores?[4,this.extractPredictedClass(g,R)]:[3,7]):[3,9]):[3,10];case 6:return q=O.sent(),[3,8];case 7:q={classScore:1,label:0},O.label=8;case 8:W=q,B=W.classScore,V=W.label,y.push(po({box:new eT(D,M,D+T,M+j),score:k,classScore:k*B,label:V},R)),O.label=9;case 9:return S++,[3,5];case 10:return _++,[3,4];case 11:return w++,[3,3];case 12:return p.dispose(),m.dispose(),g.dispose(),[2,y]}})})},t.prototype.extractPredictedClass=function(n,r){return fn(this,void 0,void 0,function(){var a,i,o,s;return hn(this,function(l){switch(l.label){case 0:return a=r.row,i=r.col,o=r.anchor,[4,n.array()];case 1:return s=l.sent(),[2,Array(this.config.classes.length).fill(0).map(function(u,d){return s[a][i][o][d]}).map(function(u,d){return{classScore:u,label:d}}).reduce(function(u,d){return u.classScore>d.classScore?u:d})]}})})},t.DEFAULT_FILTER_SIZES=[3,16,32,64,128,256,512,1024,1024],t}(Vd),B5e=function(e){Tn(t,e);function t(n){n===void 0&&(n=!0);var r=this,a=Object.assign({},{withSeparableConvs:n,iouThreshold:T5e,classes:["face"]},n?{anchors:A5e,meanRgb:D5e}:{anchors:P5e,withClassScores:!0});return r=e.call(this,a)||this,r}return Object.defineProperty(t.prototype,"withSeparableConvs",{get:function(){return this.config.withSeparableConvs},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"anchors",{get:function(){return this.config.anchors},enumerable:!0,configurable:!0}),t.prototype.locateFaces=function(n,r){return fn(this,void 0,void 0,function(){var a;return hn(this,function(i){switch(i.label){case 0:return[4,this.detect(n,r)];case 1:return a=i.sent(),[2,a.map(function(o){return new Ru(o.score,o.relativeBox,{width:o.imageWidth,height:o.imageHeight})})]}})})},t.prototype.getDefaultModelName=function(){return this.withSeparableConvs?M5e:O5e},t.prototype.extractParamsFromWeigthMap=function(n){return e.prototype.extractParamsFromWeigthMap.call(this,n)},t}(tse),ME=function(e){Tn(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n._name="TinyFaceDetectorOptions",n}return t}(i6),o2=function(){function e(){}return e.prototype.then=function(t){return fn(this,void 0,void 0,function(){var n;return hn(this,function(r){switch(r.label){case 0:return n=t,[4,this.run()];case 1:return[2,n.apply(void 0,[r.sent()])]}})})},e.prototype.run=function(){return fn(this,void 0,void 0,function(){return hn(this,function(t){throw new Error("ComposableTask - run is not implemented")})})},e}();function aT(e,t,n,r,a){return a===void 0&&(a=function(i){var o=i.alignedRect;return o}),fn(this,void 0,void 0,function(){var i,o,s,l,u;return hn(this,function(d){switch(d.label){case 0:return i=e.map(function(f){return YLe(f)?a(f):f.detection}),s=r,s?[3,5]:t instanceof ba?[4,Q5(t,i)]:[3,2];case 1:return l=d.sent(),[3,4];case 2:return[4,Z5(t,i)];case 3:l=d.sent(),d.label=4;case 4:s=l,d.label=5;case 5:return o=s,[4,n(o)];case 6:return u=d.sent(),o.forEach(function(f){return f instanceof ba&&f.dispose()}),[2,u]}})})}function o6(e,t,n,r,a){return fn(this,void 0,void 0,function(){var i=this;return hn(this,function(o){return[2,aT([e],t,function(s){return fn(i,void 0,void 0,function(){return hn(this,function(l){return[2,n(s[0])]})})},r,a)]})})}function z5e(e){return Qt(function(){return Fs(pi(e,3).reverse(),3)})}var O_=2,IE=12;function U5e(e,t){var n=nT(e,t),r=J5(e,t);function a(u,d){var f=ei(e(u));return t.push({paramPath:d}),f}function i(u,d,f){f===void 0&&(f=!1);var h=n(u[0],u[1],3,d+"/conv1"),p=a(u[1],d+"/prelu1_alpha"),m=n(u[1],u[2],3,d+"/conv2"),g=a(u[2],d+"/prelu2_alpha"),y=n(u[2],u[3],f?2:3,d+"/conv3"),x=a(u[3],d+"/prelu3_alpha");return{conv1:h,prelu1_alpha:p,conv2:m,prelu2_alpha:g,conv3:y,prelu3_alpha:x}}function o(){var u=i([3,10,16,32],"pnet"),d=n(32,2,1,"pnet/conv4_1"),f=n(32,4,1,"pnet/conv4_2");return po(po({},u),{conv4_1:d,conv4_2:f})}function s(){var u=i([3,28,48,64],"rnet",!0),d=r(576,128,"rnet/fc1"),f=a(128,"rnet/prelu4_alpha"),h=r(128,2,"rnet/fc2_1"),p=r(128,4,"rnet/fc2_2");return po(po({},u),{fc1:d,prelu4_alpha:f,fc2_1:h,fc2_2:p})}function l(){var u=i([3,32,64,64],"onet"),d=n(64,128,2,"onet/conv4"),f=a(128,"onet/prelu4_alpha"),h=r(1152,256,"onet/fc1"),p=a(256,"onet/prelu5_alpha"),m=r(256,2,"onet/fc2_1"),g=r(256,4,"onet/fc2_2"),y=r(256,10,"onet/fc2_3");return po(po({},u),{conv4:d,prelu4_alpha:f,fc1:h,prelu5_alpha:p,fc2_1:m,fc2_2:g,fc2_3:y})}return{extractPNetParams:o,extractRNetParams:s,extractONetParams:l}}function W5e(e){var t=qd(e),n=t.extractWeights,r=t.getRemainingWeights,a=[],i=U5e(n,a),o=i.extractPNetParams,s=i.extractRNetParams,l=i.extractONetParams,u=o(),d=s(),f=l();if(r().length!==0)throw new Error("weights remaing after extract: "+r().length);return{params:{pnet:u,rnet:d,onet:f},paramMappings:a}}function V5e(e,t){var n=Dh(e,t);function r(d){var f=n(d+"/weights",4,d+"/filters"),h=n(d+"/bias",1);return{filters:f,bias:h}}function a(d){var f=n(d+"/weights",2),h=n(d+"/bias",1);return{weights:f,bias:h}}function i(d){return n(d,1)}function o(d){var f=r(d+"/conv1"),h=i(d+"/prelu1_alpha"),p=r(d+"/conv2"),m=i(d+"/prelu2_alpha"),g=r(d+"/conv3"),y=i(d+"/prelu3_alpha");return{conv1:f,prelu1_alpha:h,conv2:p,prelu2_alpha:m,conv3:g,prelu3_alpha:y}}function s(){var d=o("pnet"),f=r("pnet/conv4_1"),h=r("pnet/conv4_2");return po(po({},d),{conv4_1:f,conv4_2:h})}function l(){var d=o("rnet"),f=a("rnet/fc1"),h=i("rnet/prelu4_alpha"),p=a("rnet/fc2_1"),m=a("rnet/fc2_2");return po(po({},d),{fc1:f,prelu4_alpha:h,fc2_1:p,fc2_2:m})}function u(){var d=o("onet"),f=r("onet/conv4"),h=i("onet/prelu4_alpha"),p=a("onet/fc1"),m=i("onet/prelu5_alpha"),g=a("onet/fc2_1"),y=a("onet/fc2_2"),x=a("onet/fc2_3");return po(po({},d),{conv4:f,prelu4_alpha:h,fc1:p,prelu5_alpha:m,fc2_1:g,fc2_2:y,fc2_3:x})}return{extractPNetParams:s,extractRNetParams:l,extractONetParams:u}}function H5e(e){var t=[],n=V5e(e,t),r=n.extractPNetParams,a=n.extractRNetParams,i=n.extractONetParams,o=r(),s=a(),l=i();return Hd(e,t),{params:{pnet:o,rnet:s,onet:l},paramMappings:t}}function vM(e,t){var n=t[0],r=t[1];return{height:Math.floor(n*e),width:Math.floor(r*e)}}function q5e(e,t,n){for(var r=n[0],a=n[1],i=IE/e,o=[],s=Math.min(r,a)*i,l=0;s>=12;)o.push(i*Math.pow(t,l)),s=s*t,l+=1;return o}var s6=function(e){Tn(t,e);function t(n,r,a,i){return e.call(this,{left:n,top:r,right:a,bottom:i},!0)||this}return t}(hh);function nse(e){return Qt(function(){return bo(gi(e,zt(127.5)),zt(.0078125))})}function wv(e,t){return Qt(function(){return Gn(Sa(e),bo(t,kE(Sa(kE(e)))))})}function l6(e,t,n){return n===void 0&&(n=!1),Qt(function(){var r=mc(e,t.conv1,"valid");return r=wv(r,t.prelu1_alpha),r=bi(r,n?[2,2]:[3,3],[2,2],"same"),r=mc(r,t.conv2,"valid"),r=wv(r,t.prelu2_alpha),r=n?r:bi(r,[3,3],[2,2],"valid"),r=mc(r,t.conv3,"valid"),r=wv(r,t.prelu3_alpha),r})}function G5e(e,t){return Qt(function(){var n=l6(e,t,!0),r=mc(n,t.conv4_1,"valid"),a=gl(Xj(r,3),3),i=Ud(gi(r,a),3),o=mc(n,t.conv4_2,"valid");return{prob:i,regions:o}})}function Y5e(e,t){return Qt(function(){var n=vM(t,e.shape.slice(1)),r=n.height,a=n.width,i=$5.resizeBilinear(e,[r,a]),o=nse(i);return fh(o,[0,2,1,3])})}function K5e(e,t,n,r){for(var a=[],i=e.arraySync(),o=0;o<e.shape[0];o++)for(var s=0;s<e.shape[1];s++)i[o][s]>=r&&a.push(new yr(s,o));var l=a.map(function(u){var d=new eT(Math.round((u.y*O_+1)/n),Math.round((u.x*O_+1)/n),Math.round((u.y*O_+IE)/n),Math.round((u.x*O_+IE)/n)),f=i[u.y][u.x],h=t.arraySync(),p=new s6(h[u.y][u.x][0],h[u.y][u.x][1],h[u.y][u.x][2],h[u.y][u.x][3]);return{cell:d,score:f,region:p}});return l}function X5e(e,t,n,r,a){a.stage1=[];var i=t.map(function(h){return Qt(function(){var p={scale:h},m=Y5e(e,h),g=Date.now(),y=G5e(m,r),x=y.prob,b=y.regions;p.pnet=Date.now()-g;var w=pi(pi(x,3)[1])[0],_=pi(b)[0];return{scoresTensor:w,regionsTensor:_,scale:h,statsForScale:p}})}),o=i.map(function(h){var p=h.scoresTensor,m=h.regionsTensor,g=h.scale,y=h.statsForScale,x=K5e(p,m,g,n);if(p.dispose(),m.dispose(),!x.length)return a.stage1.push(y),[];var b=Date.now(),w=Nb(x.map(function(_){return _.cell}),x.map(function(_){return _.score}),.5);return y.nms=Date.now()-b,y.numBoxes=w.length,a.stage1.push(y),w.map(function(_){return x[_]})}),s=o.reduce(function(h,p){return h.concat(p)},[]),l=[],u=[];if(s.length>0){var d=Date.now(),f=Nb(s.map(function(h){return h.cell}),s.map(function(h){return h.score}),.7);a.stage1_nms=Date.now()-d,u=f.map(function(h){return s[h].score}),l=f.map(function(h){return s[h]}).map(function(h){var p=h.cell,m=h.region;return new eT(p.left+m.left*p.width,p.top+m.top*p.height,p.right+m.right*p.width,p.bottom+m.bottom*p.height).toSquare().round()})}return{boxes:l,scores:u}}function rse(e,t,n){var r=n.width,a=n.height;return fn(this,void 0,void 0,function(){var i,o,s,l=this;return hn(this,function(u){switch(u.label){case 0:return i=gm(e),[4,Promise.all(t.map(function(d){return fn(l,void 0,void 0,function(){var f,h,p,m,g,y,x,b;return hn(this,function(w){return f=d.padAtBorders(e.height,e.width),h=f.y,p=f.ey,m=f.x,g=f.ex,y=m-1,x=h-1,b=i.getImageData(y,x,g-y,p-x),[2,ko.isNodejs()?X5(b):createImageBitmap(b)]})})}))];case 1:return o=u.sent(),s=[],o.forEach(function(d){var f=tT({width:r,height:a}),h=gm(f);h.drawImage(d,0,0,r,a);for(var p=h.getImageData(0,0,r,a).data,m=[],g=0;g<p.length;g+=4)m.push(p[g+2]),m.push(p[g+1]),m.push(p[g]);s.push(m)}),[2,s.map(function(d){var f=Qt(function(){var h=fh(Go(d,[1,r,a,3]),[0,2,1,3]).toFloat();return nse(h)});return f})]}})})}function Z5e(e,t){return Qt(function(){var n=l6(e,t),r=cc(n,[n.shape[0],t.fc1.weights.shape[0]]),a=iu(r,t.fc1),i=wv(a,t.prelu4_alpha),o=iu(i,t.fc2_1),s=gl(Xj(o,1),1),l=Ud(gi(o,s),1),u=iu(i,t.fc2_2),d=pi(l,1)[1];return{scores:d,regions:u}})}function Q5e(e,t,n,r,a){return fn(this,void 0,void 0,function(){var i,o,s,l,u,d,f,h,p,m,g,y,x,b;return hn(this,function(w){switch(w.label){case 0:return i=Date.now(),[4,rse(e,t,{width:24,height:24})];case 1:return o=w.sent(),a.stage2_extractImagePatches=Date.now()-i,i=Date.now(),s=o.map(function(_){var S=Z5e(_,r);return _.dispose(),S}),a.stage2_rnet=Date.now()-i,l=s.length>1?hi(s.map(function(_){return _.scores})):s[0].scores,f=(d=Array).from,[4,l.data()];case 2:return u=f.apply(d,[w.sent()]),l.dispose(),h=u.map(function(_,S){return{score:_,idx:S}}).filter(function(_){return _.score>n}).map(function(_){var S=_.idx;return S}),p=h.map(function(_){return t[_]}),m=h.map(function(_){return u[_]}),g=[],y=[],p.length>0&&(i=Date.now(),x=Nb(p,m,.7),a.stage2_nms=Date.now()-i,b=x.map(function(_){var S=s[h[_]].regions.arraySync();return new s6(S[0][0],S[0][1],S[0][2],S[0][3])}),y=x.map(function(_){return m[_]}),g=x.map(function(_,S){return p[_].calibrate(b[S])})),s.forEach(function(_){_.regions.dispose(),_.scores.dispose()}),[2,{boxes:g,scores:y}]}})})}function J5e(e,t){return Qt(function(){var n=l6(e,t);n=bi(n,[2,2],[2,2],"same"),n=mc(n,t.conv4,"valid"),n=wv(n,t.prelu4_alpha);var r=cc(n,[n.shape[0],t.fc1.weights.shape[0]]),a=iu(r,t.fc1),i=wv(a,t.prelu5_alpha),o=iu(i,t.fc2_1),s=gl(Xj(o,1),1),l=Ud(gi(o,s),1),u=iu(i,t.fc2_2),d=iu(i,t.fc2_3),f=pi(l,1)[1];return{scores:f,regions:u,points:d}})}function e6e(e,t,n,r,a){return fn(this,void 0,void 0,function(){var i,o,s,l,u,d,f,h,p,m,g,y,x,b,w;return hn(this,function(_){switch(_.label){case 0:return i=Date.now(),[4,rse(e,t,{width:48,height:48})];case 1:return o=_.sent(),a.stage3_extractImagePatches=Date.now()-i,i=Date.now(),s=o.map(function(S){var k=J5e(S,r);return S.dispose(),k}),a.stage3_onet=Date.now()-i,l=s.length>1?hi(s.map(function(S){return S.scores})):s[0].scores,f=(d=Array).from,[4,l.data()];case 2:return u=f.apply(d,[_.sent()]),l.dispose(),h=u.map(function(S,k){return{score:S,idx:k}}).filter(function(S){return S.score>n}).map(function(S){var k=S.idx;return k}),p=h.map(function(S){var k=s[S].regions.arraySync();return new s6(k[0][0],k[0][1],k[0][2],k[0][3])}),m=h.map(function(S,k){return t[S].calibrate(p[k])}),g=h.map(function(S){return u[S]}),y=[],x=[],b=[],m.length>0&&(i=Date.now(),w=Nb(m,g,.7,!1),a.stage3_nms=Date.now()-i,y=w.map(function(S){return m[S]}),x=w.map(function(S){return g[S]}),b=w.map(function(S,k){return Array(5).fill(0).map(function(N,P){var T=s[S].points.arraySync();return new yr(T[0][P]*(y[k].width+1)+y[k].left,T[0][P+5]*(y[k].height+1)+y[k].top)})})),s.forEach(function(S){S.regions.dispose(),S.scores.dispose(),S.points.dispose()}),[2,{boxes:y,scores:x,points:b}]}})})}var t6e=function(e){Tn(t,e);function t(){return e.call(this,"Mtcnn")||this}return t.prototype.load=function(n){return fn(this,void 0,void 0,function(){return hn(this,function(r){return console.warn("mtcnn is deprecated and will be removed soon"),[2,e.prototype.load.call(this,n)]})})},t.prototype.loadFromDisk=function(n){return fn(this,void 0,void 0,function(){return hn(this,function(r){return console.warn("mtcnn is deprecated and will be removed soon"),[2,e.prototype.loadFromDisk.call(this,n)]})})},t.prototype.forwardInput=function(n,r){return r===void 0&&(r={}),fn(this,void 0,void 0,function(){var a,i,o,s,l,u,d,f,h,p,m,g,y,x,b,w,_,S,k,N,P;return hn(this,function(T){switch(T.label){case 0:if(a=this.params,!a)throw new Error("Mtcnn - load model before inference");if(i=n.canvases[0],!i)throw new Error("Mtcnn - inputCanvas is not defined, note that passing tensors into Mtcnn.forwardInput is not supported yet.");return o={},s=Date.now(),l=Qt(function(){return z5e(gl(H5.fromPixels(i)).toFloat())}),u=function(j){return l.dispose(),o.total=Date.now()-s,j},d=l.shape.slice(1),f=d[0],h=d[1],p=new Joe(r),m=p.minFaceSize,g=p.scaleFactor,y=p.maxNumScales,x=p.scoreThresholds,b=p.scaleSteps,w=(b||q5e(m,g,[f,h])).filter(function(j){var D=vM(j,[f,h]);return Math.min(D.width,D.height)>IE}).slice(0,y),o.scales=w,o.pyramid=w.map(function(j){return vM(j,[f,h])}),_=Date.now(),[4,X5e(l,w,x[0],a.pnet,o)];case 1:return S=T.sent(),o.total_stage1=Date.now()-_,S.boxes.length?(o.stage2_numInputBoxes=S.boxes.length,_=Date.now(),[4,Q5e(i,S.boxes,x[1],a.rnet,o)]):[2,u({results:[],stats:o})];case 2:return k=T.sent(),o.total_stage2=Date.now()-_,k.boxes.length?(o.stage3_numInputBoxes=k.boxes.length,_=Date.now(),[4,e6e(i,k.boxes,x[2],a.onet,o)]):[2,u({results:[],stats:o})];case 3:return N=T.sent(),o.total_stage3=Date.now()-_,P=N.boxes.map(function(j,D){return n6(Y5({},new Ru(N.scores[D],new G5(j.left/h,j.top/f,j.width/h,j.height/f),{height:f,width:h})),new ALe(N.points[D].map(function(M){return M.sub(new yr(j.left,j.top)).div(new yr(j.width,j.height))}),{width:j.width,height:j.height}))}),[2,u({results:P,stats:o})]}})})},t.prototype.forward=function(n,r){return r===void 0&&(r={}),fn(this,void 0,void 0,function(){var a;return hn(this,function(i){switch(i.label){case 0:return a=this.forwardInput,[4,Ai(n)];case 1:return[4,a.apply(this,[i.sent(),r])];case 2:return[2,i.sent().results]}})})},t.prototype.forwardWithStats=function(n,r){return r===void 0&&(r={}),fn(this,void 0,void 0,function(){var a;return hn(this,function(i){switch(i.label){case 0:return a=this.forwardInput,[4,Ai(n)];case 1:return[2,a.apply(this,[i.sent(),r])]}})})},t.prototype.getDefaultModelName=function(){return"mtcnn_model"},t.prototype.extractParamsFromWeigthMap=function(n){return H5e(n)},t.prototype.extractParams=function(n){return W5e(n)},t}(Vd),n6e=.4,r6e=[new yr(1.603231,2.094468),new yr(6.041143,7.080126),new yr(2.882459,3.518061),new yr(4.266906,5.178857),new yr(9.041765,10.66308)],a6e=[117.001,114.697,97.404],i6e=function(e){Tn(t,e);function t(){var n=this,r={withSeparableConvs:!0,iouThreshold:n6e,classes:["face"],anchors:r6e,meanRgb:a6e,isFirstLayerConv2d:!0,filterSizes:[3,16,32,64,128,256,512]};return n=e.call(this,r)||this,n}return Object.defineProperty(t.prototype,"anchors",{get:function(){return this.config.anchors},enumerable:!0,configurable:!0}),t.prototype.locateFaces=function(n,r){return fn(this,void 0,void 0,function(){var a;return hn(this,function(i){switch(i.label){case 0:return[4,this.detect(n,r)];case 1:return a=i.sent(),[2,a.map(function(o){return new Ru(o.score,o.relativeBox,{width:o.imageWidth,height:o.imageHeight})})]}})})},t.prototype.getDefaultModelName=function(){return"tiny_face_detector_model"},t.prototype.extractParamsFromWeigthMap=function(n){return e.prototype.extractParamsFromWeigthMap.call(this,n)},t}(tse),Ci={ssdMobilenetv1:new ese,tinyFaceDetector:new i6e,tinyYolov2:new B5e,mtcnn:new t6e,faceLandmark68Net:new Goe,faceLandmark68TinyNet:new s5e,faceRecognitionNet:new p5e,faceExpressionNet:new GLe,ageGenderNet:new r5e},ase=function(e){Tn(t,e);function t(n,r,a){var i=e.call(this)||this;return i.parentTask=n,i.input=r,i.extractedFaces=a,i}return t}(o2),c6=function(e){Tn(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.run=function(){return fn(this,void 0,void 0,function(){var n,r,a=this;return hn(this,function(i){switch(i.label){case 0:return[4,this.parentTask];case 1:return n=i.sent(),[4,aT(n,this.input,function(o){return fn(a,void 0,void 0,function(){return hn(this,function(s){switch(s.label){case 0:return[4,Promise.all(o.map(function(l){return Ci.faceExpressionNet.predictExpressions(l)}))];case 1:return[2,s.sent()]}})})},this.extractedFaces)];case 2:return r=i.sent(),[2,n.map(function(o,s){return Voe(o,r[s])})]}})})},t.prototype.withAgeAndGender=function(){return new h6(this,this.input)},t}(ase),u6=function(e){Tn(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.run=function(){return fn(this,void 0,void 0,function(){var n,r;return hn(this,function(a){switch(a.label){case 0:return[4,this.parentTask];case 1:return n=a.sent(),n?[4,o6(n,this.input,function(i){return Ci.faceExpressionNet.predictExpressions(i)},this.extractedFaces)]:[2];case 2:return r=a.sent(),[2,Voe(n,r)]}})})},t.prototype.withAgeAndGender=function(){return new p6(this,this.input)},t}(ase),d6=function(e){Tn(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.withAgeAndGender=function(){return new m6(this,this.input)},t.prototype.withFaceDescriptors=function(){return new v6(this,this.input)},t}(c6),f6=function(e){Tn(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.withAgeAndGender=function(){return new g6(this,this.input)},t.prototype.withFaceDescriptor=function(){return new y6(this,this.input)},t}(u6),ise=function(e){Tn(t,e);function t(n,r,a){var i=e.call(this)||this;return i.parentTask=n,i.input=r,i.extractedFaces=a,i}return t}(o2),h6=function(e){Tn(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.run=function(){return fn(this,void 0,void 0,function(){var n,r,a=this;return hn(this,function(i){switch(i.label){case 0:return[4,this.parentTask];case 1:return n=i.sent(),[4,aT(n,this.input,function(o){return fn(a,void 0,void 0,function(){return hn(this,function(s){switch(s.label){case 0:return[4,Promise.all(o.map(function(l){return Ci.ageGenderNet.predictAgeAndGender(l)}))];case 1:return[2,s.sent()]}})})},this.extractedFaces)];case 2:return r=i.sent(),[2,n.map(function(o,s){var l=r[s],u=l.age,d=l.gender,f=l.genderProbability;return Zoe(Qoe(o,d,f),u)})]}})})},t.prototype.withFaceExpressions=function(){return new c6(this,this.input)},t}(ise),p6=function(e){Tn(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.run=function(){return fn(this,void 0,void 0,function(){var n,r,a,i,o;return hn(this,function(s){switch(s.label){case 0:return[4,this.parentTask];case 1:return n=s.sent(),n?[4,o6(n,this.input,function(l){return Ci.ageGenderNet.predictAgeAndGender(l)},this.extractedFaces)]:[2];case 2:return r=s.sent(),a=r.age,i=r.gender,o=r.genderProbability,[2,Zoe(Qoe(n,i,o),a)]}})})},t.prototype.withFaceExpressions=function(){return new u6(this,this.input)},t}(ise),m6=function(e){Tn(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.withFaceExpressions=function(){return new d6(this,this.input)},t.prototype.withFaceDescriptors=function(){return new v6(this,this.input)},t}(h6),g6=function(e){Tn(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.withFaceExpressions=function(){return new f6(this,this.input)},t.prototype.withFaceDescriptor=function(){return new y6(this,this.input)},t}(p6),ose=function(e){Tn(t,e);function t(n,r){var a=e.call(this)||this;return a.parentTask=n,a.input=r,a}return t}(o2),v6=function(e){Tn(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.run=function(){return fn(this,void 0,void 0,function(){var n,r;return hn(this,function(a){switch(a.label){case 0:return[4,this.parentTask];case 1:return n=a.sent(),[4,aT(n,this.input,function(i){return Promise.all(i.map(function(o){return Ci.faceRecognitionNet.computeFaceDescriptor(o)}))},null,function(i){return i.landmarks.align(null,{useDlibAlignment:!0})})];case 2:return r=a.sent(),[2,r.map(function(i,o){return Xoe(n[o],i)})]}})})},t.prototype.withFaceExpressions=function(){return new d6(this,this.input)},t.prototype.withAgeAndGender=function(){return new m6(this,this.input)},t}(ose),y6=function(e){Tn(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.run=function(){return fn(this,void 0,void 0,function(){var n,r;return hn(this,function(a){switch(a.label){case 0:return[4,this.parentTask];case 1:return n=a.sent(),n?[4,o6(n,this.input,function(i){return Ci.faceRecognitionNet.computeFaceDescriptor(i)},null,function(i){return i.landmarks.align(null,{useDlibAlignment:!0})})]:[2];case 2:return r=a.sent(),[2,Xoe(n,r)]}})})},t.prototype.withFaceExpressions=function(){return new f6(this,this.input)},t.prototype.withAgeAndGender=function(){return new g6(this,this.input)},t}(ose),sse=function(e){Tn(t,e);function t(n,r,a){var i=e.call(this)||this;return i.parentTask=n,i.input=r,i.useTinyLandmarkNet=a,i}return Object.defineProperty(t.prototype,"landmarkNet",{get:function(){return this.useTinyLandmarkNet?Ci.faceLandmark68TinyNet:Ci.faceLandmark68Net},enumerable:!0,configurable:!0}),t}(o2),o6e=function(e){Tn(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.run=function(){return fn(this,void 0,void 0,function(){var n,r,a,i,o,s=this;return hn(this,function(l){switch(l.label){case 0:return[4,this.parentTask];case 1:return n=l.sent(),r=n.map(function(u){return u.detection}),this.input instanceof ba?[4,Q5(this.input,r)]:[3,3];case 2:return i=l.sent(),[3,5];case 3:return[4,Z5(this.input,r)];case 4:i=l.sent(),l.label=5;case 5:return a=i,[4,Promise.all(a.map(function(u){return s.landmarkNet.detectLandmarks(u)}))];case 6:return o=l.sent(),a.forEach(function(u){return u instanceof ba&&u.dispose()}),[2,n.map(function(u,d){return n6(u,o[d])})]}})})},t.prototype.withFaceExpressions=function(){return new d6(this,this.input)},t.prototype.withAgeAndGender=function(){return new m6(this,this.input)},t.prototype.withFaceDescriptors=function(){return new v6(this,this.input)},t}(sse),s6e=function(e){Tn(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.run=function(){return fn(this,void 0,void 0,function(){var n,r,a,i,o;return hn(this,function(s){switch(s.label){case 0:return[4,this.parentTask];case 1:return n=s.sent(),n?(r=n.detection,this.input instanceof ba?[4,Q5(this.input,[r])]:[3,3]):[2];case 2:return i=s.sent(),[3,5];case 3:return[4,Z5(this.input,[r])];case 4:i=s.sent(),s.label=5;case 5:return a=i,[4,this.landmarkNet.detectLandmarks(a[0])];case 6:return o=s.sent(),a.forEach(function(l){return l instanceof ba&&l.dispose()}),[2,n6(n,o)]}})})},t.prototype.withFaceExpressions=function(){return new f6(this,this.input)},t.prototype.withAgeAndGender=function(){return new g6(this,this.input)},t.prototype.withFaceDescriptor=function(){return new y6(this,this.input)},t}(sse),lse=function(e){Tn(t,e);function t(n,r){r===void 0&&(r=new rT);var a=e.call(this)||this;return a.input=n,a.options=r,a}return t}(o2),l6e=function(e){Tn(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.run=function(){return fn(this,void 0,void 0,function(){var n,r,a,i;return hn(this,function(o){switch(o.label){case 0:return n=this,r=n.input,a=n.options,a instanceof Joe?[4,Ci.mtcnn.forward(r,a)]:[3,2];case 1:return[2,o.sent().map(function(s){return s.detection})];case 2:if(i=a instanceof ME?function(s){return Ci.tinyFaceDetector.locateFaces(s,a)}:a instanceof rT?function(s){return Ci.ssdMobilenetv1.locateFaces(s,a)}:a instanceof i6?function(s){return Ci.tinyYolov2.locateFaces(s,a)}:null,!i)throw new Error("detectFaces - expected options to be instance of TinyFaceDetectorOptions | SsdMobilenetv1Options | MtcnnOptions | TinyYolov2Options");return[2,i(r)]}})})},t.prototype.runAndExtendWithFaceDetections=function(){var n=this;return new Promise(function(r){return fn(n,void 0,void 0,function(){var a;return hn(this,function(i){switch(i.label){case 0:return[4,this.run()];case 1:return a=i.sent(),[2,r(a.map(function(o){return Y5({},o)}))]}})})})},t.prototype.withFaceLandmarks=function(n){return n===void 0&&(n=!1),new o6e(this.runAndExtendWithFaceDetections(),this.input,n)},t.prototype.withFaceExpressions=function(){return new c6(this.runAndExtendWithFaceDetections(),this.input)},t.prototype.withAgeAndGender=function(){return new h6(this.runAndExtendWithFaceDetections(),this.input)},t}(lse),c6e=function(e){Tn(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.run=function(){return fn(this,void 0,void 0,function(){var n,r;return hn(this,function(a){switch(a.label){case 0:return[4,new l6e(this.input,this.options)];case 1:return n=a.sent(),r=n[0],n.forEach(function(i){i.score>r.score&&(r=i)}),[2,r]}})})},t.prototype.runAndExtendWithFaceDetection=function(){var n=this;return new Promise(function(r){return fn(n,void 0,void 0,function(){var a;return hn(this,function(i){switch(i.label){case 0:return[4,this.run()];case 1:return a=i.sent(),[2,r(a?Y5({},a):void 0)]}})})})},t.prototype.withFaceLandmarks=function(n){return n===void 0&&(n=!1),new s6e(this.runAndExtendWithFaceDetection(),this.input,n)},t.prototype.withFaceExpressions=function(){return new u6(this.runAndExtendWithFaceDetection(),this.input)},t.prototype.withAgeAndGender=function(){return new p6(this.runAndExtendWithFaceDetection(),this.input)},t}(lse);function yM(e,t){return t===void 0&&(t=new rT),new c6e(e,t)}function u6e(e,t){if(e.length!==t.length)throw new Error("euclideanDistance: arr1.length !== arr2.length");var n=Array.from(e),r=Array.from(t);return Math.sqrt(n.map(function(a,i){return a-r[i]}).reduce(function(a,i){return a+Math.pow(i,2)},0))}(function(){function e(t,n){n===void 0&&(n=.6),this._distanceThreshold=n;var r=Array.isArray(t)?t:[t];if(!r.length)throw new Error("FaceRecognizer.constructor - expected atleast one input");var a=1,i=function(){return"person "+a++};this._labeledDescriptors=r.map(function(o){if(o instanceof T_)return o;if(o instanceof Float32Array)return new T_(i(),[o]);if(o.descriptor&&o.descriptor instanceof Float32Array)return new T_(i(),[o.descriptor]);throw new Error("FaceRecognizer.constructor - expected inputs to be of type LabeledFaceDescriptors | WithFaceDescriptor<any> | Float32Array | Array<LabeledFaceDescriptors | WithFaceDescriptor<any> | Float32Array>")})}return Object.defineProperty(e.prototype,"labeledDescriptors",{get:function(){return this._labeledDescriptors},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"distanceThreshold",{get:function(){return this._distanceThreshold},enumerable:!0,configurable:!0}),e.prototype.computeMeanDistance=function(t,n){return n.map(function(r){return u6e(r,t)}).reduce(function(r,a){return r+a},0)/(n.length||1)},e.prototype.matchDescriptor=function(t){var n=this;return this.labeledDescriptors.map(function(r){var a=r.descriptors,i=r.label;return new gV(i,n.computeMeanDistance(t,a))}).reduce(function(r,a){return r.distance<a.distance?r:a})},e.prototype.findBestMatch=function(t){var n=this.matchDescriptor(t);return n.distance<this.distanceThreshold?n:new gV("unknown",n.distance)},e.prototype.toJSON=function(){return{distanceThreshold:this.distanceThreshold,labeledDescriptors:this.labeledDescriptors.map(function(t){return t.toJSON()})}},e.fromJSON=function(t){var n=t.labeledDescriptors.map(function(r){return T_.fromJSON(r)});return new e(n,t.distanceThreshold)},e})();/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */function d6e(e,t,n){return(t=h6e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function jt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_V(Object(n),!0).forEach(function(r){d6e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_V(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function f6e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function h6e(e){var t=f6e(e,"string");return typeof t=="symbol"?t:t+""}const SV=()=>{};let x6={},cse={},use=null,dse={mark:SV,measure:SV};try{typeof window<"u"&&(x6=window),typeof document<"u"&&(cse=document),typeof MutationObserver<"u"&&(use=MutationObserver),typeof performance<"u"&&(dse=performance)}catch{}const{userAgent:CV=""}=x6.navigator||{},ph=x6,aa=cse,EV=use,M_=dse;ph.document;const Gd=!!aa.documentElement&&!!aa.head&&typeof aa.addEventListener=="function"&&typeof aa.createElement=="function",fse=~CV.indexOf("MSIE")||~CV.indexOf("Trident/");var p6e=/fa(s|r|l|t|d|dr|dl|dt|b|k|kd|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,m6e=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,hse={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"}},g6e={GROUP:"duotone-group",PRIMARY:"primary",SECONDARY:"secondary"},pse=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],jo="classic",iT="duotone",v6e="sharp",y6e="sharp-duotone",mse=[jo,iT,v6e,y6e],x6e={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"}},b6e={"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"}},w6e=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}]]),_6e={classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",brands:"fab"},duotone:{solid:"fad",regular:"fadr",light:"fadl",thin:"fadt"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds",regular:"fasdr",light:"fasdl",thin:"fasdt"}},S6e=["fak","fa-kit","fakd","fa-kit-duotone"],NV={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},C6e=["kit"],E6e={kit:{"fa-kit":"fak"}},N6e=["fak","fakd"],k6e={kit:{fak:"fa-kit"}},kV={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}},I_={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},j6e=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],T6e=["fak","fa-kit","fakd","fa-kit-duotone"],P6e={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},A6e={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"}},D6e={classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"]},xM={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"}},O6e=["fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands"],bM=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt",...j6e,...O6e],M6e=["solid","regular","light","thin","duotone","brands"],gse=[1,2,3,4,5,6,7,8,9,10],I6e=gse.concat([11,12,13,14,15,16,17,18,19,20]),R6e=[...Object.keys(D6e),...M6e,"2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",I_.GROUP,I_.SWAP_OPACITY,I_.PRIMARY,I_.SECONDARY].concat(gse.map(e=>"".concat(e,"x"))).concat(I6e.map(e=>"w-".concat(e))),F6e={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}};const Dd="___FONT_AWESOME___",wM=16,vse="fa",yse="svg-inline--fa",vm="data-fa-i2svg",_M="data-fa-pseudo-element",L6e="data-fa-pseudo-element-pending",b6="data-prefix",w6="data-icon",jV="fontawesome-i2svg",$6e="async",B6e=["HTML","HEAD","STYLE","SCRIPT"],xse=(()=>{try{return!0}catch{return!1}})();function s2(e){return new Proxy(e,{get(t,n){return n in t?t[n]:t[jo]}})}const bse=jt({},hse);bse[jo]=jt(jt(jt(jt({},{"fa-duotone":"duotone"}),hse[jo]),NV.kit),NV["kit-duotone"]);const z6e=s2(bse),SM=jt({},_6e);SM[jo]=jt(jt(jt(jt({},{duotone:"fad"}),SM[jo]),kV.kit),kV["kit-duotone"]);const TV=s2(SM),CM=jt({},xM);CM[jo]=jt(jt({},CM[jo]),k6e.kit);const _6=s2(CM),EM=jt({},A6e);EM[jo]=jt(jt({},EM[jo]),E6e.kit);s2(EM);const U6e=p6e,wse="fa-layers-text",W6e=m6e,V6e=jt({},x6e);s2(V6e);const H6e=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],D4=g6e,q6e=[...C6e,...R6e],s1=ph.FontAwesomeConfig||{};function G6e(e){var t=aa.querySelector("script["+e+"]");if(t)return t.getAttribute(e)}function Y6e(e){return e===""?!0:e==="false"?!1:e==="true"?!0:e}aa&&typeof aa.querySelector=="function"&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(t=>{let[n,r]=t;const a=Y6e(G6e(n));a!=null&&(s1[r]=a)});const _se={styleDefault:"solid",familyDefault:jo,cssPrefix:vse,replacementClass:yse,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};s1.familyPrefix&&(s1.cssPrefix=s1.familyPrefix);const s0=jt(jt({},_se),s1);s0.autoReplaceSvg||(s0.observeMutations=!1);const pn={};Object.keys(_se).forEach(e=>{Object.defineProperty(pn,e,{enumerable:!0,set:function(t){s0[e]=t,l1.forEach(n=>n(pn))},get:function(){return s0[e]}})});Object.defineProperty(pn,"familyPrefix",{enumerable:!0,set:function(e){s0.cssPrefix=e,l1.forEach(t=>t(pn))},get:function(){return s0.cssPrefix}});ph.FontAwesomeConfig=pn;const l1=[];function K6e(e){return l1.push(e),()=>{l1.splice(l1.indexOf(e),1)}}const lf=wM,ou={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function X6e(e){if(!e||!Gd)return;const t=aa.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e;const n=aa.head.childNodes;let r=null;for(let a=n.length-1;a>-1;a--){const i=n[a],o=(i.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(r=i)}return aa.head.insertBefore(t,r),e}const Z6e="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function kb(){let e=12,t="";for(;e-- >0;)t+=Z6e[Math.random()*62|0];return t}function ty(e){const t=[];for(let n=(e||[]).length>>>0;n--;)t[n]=e[n];return t}function S6(e){return e.classList?ty(e.classList):(e.getAttribute("class")||"").split(" ").filter(t=>t)}function Sse(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Q6e(e){return Object.keys(e||{}).reduce((t,n)=>t+"".concat(n,'="').concat(Sse(e[n]),'" '),"").trim()}function oT(e){return Object.keys(e||{}).reduce((t,n)=>t+"".concat(n,": ").concat(e[n].trim(),";"),"")}function C6(e){return e.size!==ou.size||e.x!==ou.x||e.y!==ou.y||e.rotate!==ou.rotate||e.flipX||e.flipY}function J6e(e){let{transform:t,containerWidth:n,iconWidth:r}=e;const a={transform:"translate(".concat(n/2," 256)")},i="translate(".concat(t.x*32,", ").concat(t.y*32,") "),o="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),s="rotate(".concat(t.rotate," 0 0)"),l={transform:"".concat(i," ").concat(o," ").concat(s)},u={transform:"translate(".concat(r/2*-1," -256)")};return{outer:a,inner:l,path:u}}function e$e(e){let{transform:t,width:n=wM,height:r=wM,startCentered:a=!1}=e,i="";return a&&fse?i+="translate(".concat(t.x/lf-n/2,"em, ").concat(t.y/lf-r/2,"em) "):a?i+="translate(calc(-50% + ".concat(t.x/lf,"em), calc(-50% + ").concat(t.y/lf,"em)) "):i+="translate(".concat(t.x/lf,"em, ").concat(t.y/lf,"em) "),i+="scale(".concat(t.size/lf*(t.flipX?-1:1),", ").concat(t.size/lf*(t.flipY?-1:1),") "),i+="rotate(".concat(t.rotate,"deg) "),i}var t$e=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 6 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 6 Sharp Duotone";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    animation-delay: -1ms;
    animation-duration: 1ms;
    animation-iteration-count: 1;
    transition-delay: 0s;
    transition-duration: 0s;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}`;function Cse(){const e=vse,t=yse,n=pn.cssPrefix,r=pn.replacementClass;let a=t$e;if(n!==e||r!==t){const i=new RegExp("\\.".concat(e,"\\-"),"g"),o=new RegExp("\\--".concat(e,"\\-"),"g"),s=new RegExp("\\.".concat(t),"g");a=a.replace(i,".".concat(n,"-")).replace(o,"--".concat(n,"-")).replace(s,".".concat(r))}return a}let PV=!1;function O4(){pn.autoAddCss&&!PV&&(X6e(Cse()),PV=!0)}var n$e={mixout(){return{dom:{css:Cse,insertCss:O4}}},hooks(){return{beforeDOMElementCreation(){O4()},beforeI2svg(){O4()}}}};const Od=ph||{};Od[Dd]||(Od[Dd]={});Od[Dd].styles||(Od[Dd].styles={});Od[Dd].hooks||(Od[Dd].hooks={});Od[Dd].shims||(Od[Dd].shims=[]);var su=Od[Dd];const Ese=[],Nse=function(){aa.removeEventListener("DOMContentLoaded",Nse),RE=1,Ese.map(e=>e())};let RE=!1;Gd&&(RE=(aa.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(aa.readyState),RE||aa.addEventListener("DOMContentLoaded",Nse));function r$e(e){Gd&&(RE?setTimeout(e,0):Ese.push(e))}function l2(e){const{tag:t,attributes:n={},children:r=[]}=e;return typeof e=="string"?Sse(e):"<".concat(t," ").concat(Q6e(n),">").concat(r.map(l2).join(""),"</").concat(t,">")}function AV(e,t,n){if(e&&e[t]&&e[t][n])return{prefix:t,iconName:n,icon:e[t][n]}}var M4=function(t,n,r,a){var i=Object.keys(t),o=i.length,s=n,l,u,d;for(r===void 0?(l=1,d=t[i[0]]):(l=0,d=r);l<o;l++)u=i[l],d=s(d,t[u],u,t);return d};function a$e(e){const t=[];let n=0;const r=e.length;for(;n<r;){const a=e.charCodeAt(n++);if(a>=55296&&a<=56319&&n<r){const i=e.charCodeAt(n++);(i&64512)==56320?t.push(((a&1023)<<10)+(i&1023)+65536):(t.push(a),n--)}else t.push(a)}return t}function NM(e){const t=a$e(e);return t.length===1?t[0].toString(16):null}function i$e(e,t){const n=e.length;let r=e.charCodeAt(t),a;return r>=55296&&r<=56319&&n>t+1&&(a=e.charCodeAt(t+1),a>=56320&&a<=57343)?(r-55296)*1024+a-56320+65536:r}function DV(e){return Object.keys(e).reduce((t,n)=>{const r=e[n];return!!r.icon?t[r.iconName]=r.icon:t[n]=r,t},{})}function kM(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{skipHooks:r=!1}=n,a=DV(t);typeof su.hooks.addPack=="function"&&!r?su.hooks.addPack(e,DV(t)):su.styles[e]=jt(jt({},su.styles[e]||{}),a),e==="fas"&&kM("fa",t)}const{styles:jb,shims:o$e}=su,kse=Object.keys(_6),s$e=kse.reduce((e,t)=>(e[t]=Object.keys(_6[t]),e),{});let E6=null,jse={},Tse={},Pse={},Ase={},Dse={};function l$e(e){return~q6e.indexOf(e)}function c$e(e,t){const n=t.split("-"),r=n[0],a=n.slice(1).join("-");return r===e&&a!==""&&!l$e(a)?a:null}const Ose=()=>{const e=r=>M4(jb,(a,i,o)=>(a[o]=M4(i,r,{}),a),{});jse=e((r,a,i)=>(a[3]&&(r[a[3]]=i),a[2]&&a[2].filter(s=>typeof s=="number").forEach(s=>{r[s.toString(16)]=i}),r)),Tse=e((r,a,i)=>(r[i]=i,a[2]&&a[2].filter(s=>typeof s=="string").forEach(s=>{r[s]=i}),r)),Dse=e((r,a,i)=>{const o=a[2];return r[i]=i,o.forEach(s=>{r[s]=i}),r});const t="far"in jb||pn.autoFetchSvg,n=M4(o$e,(r,a)=>{const i=a[0];let o=a[1];const s=a[2];return o==="far"&&!t&&(o="fas"),typeof i=="string"&&(r.names[i]={prefix:o,iconName:s}),typeof i=="number"&&(r.unicodes[i.toString(16)]={prefix:o,iconName:s}),r},{names:{},unicodes:{}});Pse=n.names,Ase=n.unicodes,E6=sT(pn.styleDefault,{family:pn.familyDefault})};K6e(e=>{E6=sT(e.styleDefault,{family:pn.familyDefault})});Ose();function N6(e,t){return(jse[e]||{})[t]}function u$e(e,t){return(Tse[e]||{})[t]}function Dp(e,t){return(Dse[e]||{})[t]}function Mse(e){return Pse[e]||{prefix:null,iconName:null}}function d$e(e){const t=Ase[e],n=N6("fas",e);return t||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}function mh(){return E6}const Ise=()=>({prefix:null,iconName:null,rest:[]});function f$e(e){let t=jo;const n=kse.reduce((r,a)=>(r[a]="".concat(pn.cssPrefix,"-").concat(a),r),{});return mse.forEach(r=>{(e.includes(n[r])||e.some(a=>s$e[r].includes(a)))&&(t=r)}),t}function sT(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{family:n=jo}=t,r=z6e[n][e];if(n===iT&&!e)return"fad";const a=TV[n][e]||TV[n][r],i=e in su.styles?e:null;return a||i||null}function h$e(e){let t=[],n=null;return e.forEach(r=>{const a=c$e(pn.cssPrefix,r);a?n=a:r&&t.push(r)}),{iconName:n,rest:t}}function OV(e){return e.sort().filter((t,n,r)=>r.indexOf(t)===n)}function lT(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{skipLookups:n=!1}=t;let r=null;const a=bM.concat(T6e),i=OV(e.filter(f=>a.includes(f))),o=OV(e.filter(f=>!bM.includes(f))),s=i.filter(f=>(r=f,!pse.includes(f))),[l=null]=s,u=f$e(i),d=jt(jt({},h$e(o)),{},{prefix:sT(l,{family:u})});return jt(jt(jt({},d),v$e({values:e,family:u,styles:jb,config:pn,canonical:d,givenPrefix:r})),p$e(n,r,d))}function p$e(e,t,n){let{prefix:r,iconName:a}=n;if(e||!r||!a)return{prefix:r,iconName:a};const i=t==="fa"?Mse(a):{},o=Dp(r,a);return a=i.iconName||o||a,r=i.prefix||r,r==="far"&&!jb.far&&jb.fas&&!pn.autoFetchSvg&&(r="fas"),{prefix:r,iconName:a}}const m$e=mse.filter(e=>e!==jo||e!==iT),g$e=Object.keys(xM).filter(e=>e!==jo).map(e=>Object.keys(xM[e])).flat();function v$e(e){const{values:t,family:n,canonical:r,givenPrefix:a="",styles:i={},config:o={}}=e,s=n===iT,l=t.includes("fa-duotone")||t.includes("fad"),u=o.familyDefault==="duotone",d=r.prefix==="fad"||r.prefix==="fa-duotone";if(!s&&(l||u||d)&&(r.prefix="fad"),(t.includes("fa-brands")||t.includes("fab"))&&(r.prefix="fab"),!r.prefix&&m$e.includes(n)&&(Object.keys(i).find(h=>g$e.includes(h))||o.autoFetchSvg)){const h=w6e.get(n).defaultShortPrefixId;r.prefix=h,r.iconName=Dp(r.prefix,r.iconName)||r.iconName}return(r.prefix==="fa"||a==="fa")&&(r.prefix=mh()||"fas"),r}class y$e{constructor(){this.definitions={}}add(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];const a=n.reduce(this._pullDefinitions,{});Object.keys(a).forEach(i=>{this.definitions[i]=jt(jt({},this.definitions[i]||{}),a[i]),kM(i,a[i]);const o=_6[jo][i];o&&kM(o,a[i]),Ose()})}reset(){this.definitions={}}_pullDefinitions(t,n){const r=n.prefix&&n.iconName&&n.icon?{0:n}:n;return Object.keys(r).map(a=>{const{prefix:i,iconName:o,icon:s}=r[a],l=s[2];t[i]||(t[i]={}),l.length>0&&l.forEach(u=>{typeof u=="string"&&(t[i][u]=s)}),t[i][o]=s}),t}}let MV=[],Yg={};const _v={},x$e=Object.keys(_v);function b$e(e,t){let{mixoutsTo:n}=t;return MV=e,Yg={},Object.keys(_v).forEach(r=>{x$e.indexOf(r)===-1&&delete _v[r]}),MV.forEach(r=>{const a=r.mixout?r.mixout():{};if(Object.keys(a).forEach(i=>{typeof a[i]=="function"&&(n[i]=a[i]),typeof a[i]=="object"&&Object.keys(a[i]).forEach(o=>{n[i]||(n[i]={}),n[i][o]=a[i][o]})}),r.hooks){const i=r.hooks();Object.keys(i).forEach(o=>{Yg[o]||(Yg[o]=[]),Yg[o].push(i[o])})}r.provides&&r.provides(_v)}),n}function jM(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];return(Yg[e]||[]).forEach(o=>{t=o.apply(null,[t,...r])}),t}function ym(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];(Yg[e]||[]).forEach(i=>{i.apply(null,n)})}function gh(){const e=arguments[0],t=Array.prototype.slice.call(arguments,1);return _v[e]?_v[e].apply(null,t):void 0}function TM(e){e.prefix==="fa"&&(e.prefix="fas");let{iconName:t}=e;const n=e.prefix||mh();if(t)return t=Dp(n,t)||t,AV(Rse.definitions,n,t)||AV(su.styles,n,t)}const Rse=new y$e,w$e=()=>{pn.autoReplaceSvg=!1,pn.observeMutations=!1,ym("noAuto")},_$e={i2svg:function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Gd?(ym("beforeI2svg",e),gh("pseudoElements2svg",e),gh("i2svg",e)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:t}=e;pn.autoReplaceSvg===!1&&(pn.autoReplaceSvg=!0),pn.observeMutations=!0,r$e(()=>{C$e({autoReplaceSvgRoot:t}),ym("watch",e)})}},S$e={icon:e=>{if(e===null)return null;if(typeof e=="object"&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:Dp(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&e.length===2){const t=e[1].indexOf("fa-")===0?e[1].slice(3):e[1],n=sT(e[0]);return{prefix:n,iconName:Dp(n,t)||t}}if(typeof e=="string"&&(e.indexOf("".concat(pn.cssPrefix,"-"))>-1||e.match(U6e))){const t=lT(e.split(" "),{skipLookups:!0});return{prefix:t.prefix||mh(),iconName:Dp(t.prefix,t.iconName)||t.iconName}}if(typeof e=="string"){const t=mh();return{prefix:t,iconName:Dp(t,e)||e}}}},qs={noAuto:w$e,config:pn,dom:_$e,parse:S$e,library:Rse,findIconDefinition:TM,toHtml:l2},C$e=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:t=aa}=e;(Object.keys(su.styles).length>0||pn.autoFetchSvg)&&Gd&&pn.autoReplaceSvg&&qs.dom.i2svg({node:t})};function cT(e,t){return Object.defineProperty(e,"abstract",{get:t}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map(n=>l2(n))}}),Object.defineProperty(e,"node",{get:function(){if(!Gd)return;const n=aa.createElement("div");return n.innerHTML=e.html,n.children}}),e}function E$e(e){let{children:t,main:n,mask:r,attributes:a,styles:i,transform:o}=e;if(C6(o)&&n.found&&!r.found){const{width:s,height:l}=n,u={x:s/l/2,y:.5};a.style=oT(jt(jt({},i),{},{"transform-origin":"".concat(u.x+o.x/16,"em ").concat(u.y+o.y/16,"em")}))}return[{tag:"svg",attributes:a,children:t}]}function N$e(e){let{prefix:t,iconName:n,children:r,attributes:a,symbol:i}=e;const o=i===!0?"".concat(t,"-").concat(pn.cssPrefix,"-").concat(n):i;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:jt(jt({},a),{},{id:o}),children:r}]}]}function k6(e){const{icons:{main:t,mask:n},prefix:r,iconName:a,transform:i,symbol:o,title:s,maskId:l,titleId:u,extra:d,watchable:f=!1}=e,{width:h,height:p}=n.found?n:t,m=N6e.includes(r),g=[pn.replacementClass,a?"".concat(pn.cssPrefix,"-").concat(a):""].filter(S=>d.classes.indexOf(S)===-1).filter(S=>S!==""||!!S).concat(d.classes).join(" ");let y={children:[],attributes:jt(jt({},d.attributes),{},{"data-prefix":r,"data-icon":a,class:g,role:d.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(h," ").concat(p)})};const x=m&&!~d.classes.indexOf("fa-fw")?{width:"".concat(h/p*16*.0625,"em")}:{};f&&(y.attributes[vm]=""),s&&(y.children.push({tag:"title",attributes:{id:y.attributes["aria-labelledby"]||"title-".concat(u||kb())},children:[s]}),delete y.attributes.title);const b=jt(jt({},y),{},{prefix:r,iconName:a,main:t,mask:n,maskId:l,transform:i,symbol:o,styles:jt(jt({},x),d.styles)}),{children:w,attributes:_}=n.found&&t.found?gh("generateAbstractMask",b)||{children:[],attributes:{}}:gh("generateAbstractIcon",b)||{children:[],attributes:{}};return b.children=w,b.attributes=_,o?N$e(b):E$e(b)}function IV(e){const{content:t,width:n,height:r,transform:a,title:i,extra:o,watchable:s=!1}=e,l=jt(jt(jt({},o.attributes),i?{title:i}:{}),{},{class:o.classes.join(" ")});s&&(l[vm]="");const u=jt({},o.styles);C6(a)&&(u.transform=e$e({transform:a,startCentered:!0,width:n,height:r}),u["-webkit-transform"]=u.transform);const d=oT(u);d.length>0&&(l.style=d);const f=[];return f.push({tag:"span",attributes:l,children:[t]}),i&&f.push({tag:"span",attributes:{class:"sr-only"},children:[i]}),f}function k$e(e){const{content:t,title:n,extra:r}=e,a=jt(jt(jt({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),i=oT(r.styles);i.length>0&&(a.style=i);const o=[];return o.push({tag:"span",attributes:a,children:[t]}),n&&o.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),o}const{styles:I4}=su;function PM(e){const t=e[0],n=e[1],[r]=e.slice(4);let a=null;return Array.isArray(r)?a={tag:"g",attributes:{class:"".concat(pn.cssPrefix,"-").concat(D4.GROUP)},children:[{tag:"path",attributes:{class:"".concat(pn.cssPrefix,"-").concat(D4.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(pn.cssPrefix,"-").concat(D4.PRIMARY),fill:"currentColor",d:r[1]}}]}:a={tag:"path",attributes:{fill:"currentColor",d:r}},{found:!0,width:t,height:n,icon:a}}const j$e={found:!1,width:512,height:512};function T$e(e,t){!xse&&!pn.showMissingIcons&&e&&console.error('Icon with name "'.concat(e,'" and prefix "').concat(t,'" is missing.'))}function AM(e,t){let n=t;return t==="fa"&&pn.styleDefault!==null&&(t=mh()),new Promise((r,a)=>{if(n==="fa"){const i=Mse(e)||{};e=i.iconName||e,t=i.prefix||t}if(e&&t&&I4[t]&&I4[t][e]){const i=I4[t][e];return r(PM(i))}T$e(e,t),r(jt(jt({},j$e),{},{icon:pn.showMissingIcons&&e?gh("missingIconAbstract")||{}:{}}))})}const RV=()=>{},DM=pn.measurePerformance&&M_&&M_.mark&&M_.measure?M_:{mark:RV,measure:RV},jx='FA "6.7.2"',P$e=e=>(DM.mark("".concat(jx," ").concat(e," begins")),()=>Fse(e)),Fse=e=>{DM.mark("".concat(jx," ").concat(e," ends")),DM.measure("".concat(jx," ").concat(e),"".concat(jx," ").concat(e," begins"),"".concat(jx," ").concat(e," ends"))};var j6={begin:P$e,end:Fse};const tC=()=>{};function FV(e){return typeof(e.getAttribute?e.getAttribute(vm):null)=="string"}function A$e(e){const t=e.getAttribute?e.getAttribute(b6):null,n=e.getAttribute?e.getAttribute(w6):null;return t&&n}function D$e(e){return e&&e.classList&&e.classList.contains&&e.classList.contains(pn.replacementClass)}function O$e(){return pn.autoReplaceSvg===!0?nC.replace:nC[pn.autoReplaceSvg]||nC.replace}function M$e(e){return aa.createElementNS("http://www.w3.org/2000/svg",e)}function I$e(e){return aa.createElement(e)}function Lse(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{ceFn:n=e.tag==="svg"?M$e:I$e}=t;if(typeof e=="string")return aa.createTextNode(e);const r=n(e.tag);return Object.keys(e.attributes||[]).forEach(function(i){r.setAttribute(i,e.attributes[i])}),(e.children||[]).forEach(function(i){r.appendChild(Lse(i,{ceFn:n}))}),r}function R$e(e){let t=" ".concat(e.outerHTML," ");return t="".concat(t,"Font Awesome fontawesome.com "),t}const nC={replace:function(e){const t=e[0];if(t.parentNode)if(e[1].forEach(n=>{t.parentNode.insertBefore(Lse(n),t)}),t.getAttribute(vm)===null&&pn.keepOriginalSource){let n=aa.createComment(R$e(t));t.parentNode.replaceChild(n,t)}else t.remove()},nest:function(e){const t=e[0],n=e[1];if(~S6(t).indexOf(pn.replacementClass))return nC.replace(e);const r=new RegExp("".concat(pn.cssPrefix,"-.*"));if(delete n[0].attributes.id,n[0].attributes.class){const i=n[0].attributes.class.split(" ").reduce((o,s)=>(s===pn.replacementClass||s.match(r)?o.toSvg.push(s):o.toNode.push(s),o),{toNode:[],toSvg:[]});n[0].attributes.class=i.toSvg.join(" "),i.toNode.length===0?t.removeAttribute("class"):t.setAttribute("class",i.toNode.join(" "))}const a=n.map(i=>l2(i)).join(`
`);t.setAttribute(vm,""),t.innerHTML=a}};function LV(e){e()}function $se(e,t){const n=typeof t=="function"?t:tC;if(e.length===0)n();else{let r=LV;pn.mutateApproach===$6e&&(r=ph.requestAnimationFrame||LV),r(()=>{const a=O$e(),i=j6.begin("mutate");e.map(a),i(),n()})}}let T6=!1;function Bse(){T6=!0}function OM(){T6=!1}let FE=null;function $V(e){if(!EV||!pn.observeMutations)return;const{treeCallback:t=tC,nodeCallback:n=tC,pseudoElementsCallback:r=tC,observeMutationsRoot:a=aa}=e;FE=new EV(i=>{if(T6)return;const o=mh();ty(i).forEach(s=>{if(s.type==="childList"&&s.addedNodes.length>0&&!FV(s.addedNodes[0])&&(pn.searchPseudoElements&&r(s.target),t(s.target)),s.type==="attributes"&&s.target.parentNode&&pn.searchPseudoElements&&r(s.target.parentNode),s.type==="attributes"&&FV(s.target)&&~H6e.indexOf(s.attributeName))if(s.attributeName==="class"&&A$e(s.target)){const{prefix:l,iconName:u}=lT(S6(s.target));s.target.setAttribute(b6,l||o),u&&s.target.setAttribute(w6,u)}else D$e(s.target)&&n(s.target)})}),Gd&&FE.observe(a,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function F$e(){FE&&FE.disconnect()}function L$e(e){const t=e.getAttribute("style");let n=[];return t&&(n=t.split(";").reduce((r,a)=>{const i=a.split(":"),o=i[0],s=i.slice(1);return o&&s.length>0&&(r[o]=s.join(":").trim()),r},{})),n}function $$e(e){const t=e.getAttribute("data-prefix"),n=e.getAttribute("data-icon"),r=e.innerText!==void 0?e.innerText.trim():"";let a=lT(S6(e));return a.prefix||(a.prefix=mh()),t&&n&&(a.prefix=t,a.iconName=n),a.iconName&&a.prefix||(a.prefix&&r.length>0&&(a.iconName=u$e(a.prefix,e.innerText)||N6(a.prefix,NM(e.innerText))),!a.iconName&&pn.autoFetchSvg&&e.firstChild&&e.firstChild.nodeType===Node.TEXT_NODE&&(a.iconName=e.firstChild.data)),a}function B$e(e){const t=ty(e.attributes).reduce((a,i)=>(a.name!=="class"&&a.name!=="style"&&(a[i.name]=i.value),a),{}),n=e.getAttribute("title"),r=e.getAttribute("data-fa-title-id");return pn.autoA11y&&(n?t["aria-labelledby"]="".concat(pn.replacementClass,"-title-").concat(r||kb()):(t["aria-hidden"]="true",t.focusable="false")),t}function z$e(){return{iconName:null,title:null,titleId:null,prefix:null,transform:ou,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function BV(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0};const{iconName:n,prefix:r,rest:a}=$$e(e),i=B$e(e),o=jM("parseNodeAttributes",{},e);let s=t.styleParser?L$e(e):[];return jt({iconName:n,title:e.getAttribute("title"),titleId:e.getAttribute("data-fa-title-id"),prefix:r,transform:ou,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:a,styles:s,attributes:i}},o)}const{styles:U$e}=su;function zse(e){const t=pn.autoReplaceSvg==="nest"?BV(e,{styleParser:!1}):BV(e);return~t.extra.classes.indexOf(wse)?gh("generateLayersText",e,t):gh("generateSvgReplacementMutation",e,t)}function W$e(){return[...S6e,...bM]}function zV(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!Gd)return Promise.resolve();const n=aa.documentElement.classList,r=d=>n.add("".concat(jV,"-").concat(d)),a=d=>n.remove("".concat(jV,"-").concat(d)),i=pn.autoFetchSvg?W$e():pse.concat(Object.keys(U$e));i.includes("fa")||i.push("fa");const o=[".".concat(wse,":not([").concat(vm,"])")].concat(i.map(d=>".".concat(d,":not([").concat(vm,"])"))).join(", ");if(o.length===0)return Promise.resolve();let s=[];try{s=ty(e.querySelectorAll(o))}catch{}if(s.length>0)r("pending"),a("complete");else return Promise.resolve();const l=j6.begin("onTree"),u=s.reduce((d,f)=>{try{const h=zse(f);h&&d.push(h)}catch(h){xse||h.name==="MissingIcon"&&console.error(h)}return d},[]);return new Promise((d,f)=>{Promise.all(u).then(h=>{$se(h,()=>{r("active"),r("complete"),a("pending"),typeof t=="function"&&t(),l(),d()})}).catch(h=>{l(),f(h)})})}function V$e(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;zse(e).then(n=>{n&&$se([n],t)})}function H$e(e){return function(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=(t||{}).icon?t:TM(t||{});let{mask:a}=n;return a&&(a=(a||{}).icon?a:TM(a||{})),e(r,jt(jt({},n),{},{mask:a}))}}const q$e=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:n=ou,symbol:r=!1,mask:a=null,maskId:i=null,title:o=null,titleId:s=null,classes:l=[],attributes:u={},styles:d={}}=t;if(!e)return;const{prefix:f,iconName:h,icon:p}=e;return cT(jt({type:"icon"},e),()=>(ym("beforeDOMElementCreation",{iconDefinition:e,params:t}),pn.autoA11y&&(o?u["aria-labelledby"]="".concat(pn.replacementClass,"-title-").concat(s||kb()):(u["aria-hidden"]="true",u.focusable="false")),k6({icons:{main:PM(p),mask:a?PM(a.icon):{found:!1,width:null,height:null,icon:{}}},prefix:f,iconName:h,transform:jt(jt({},ou),n),symbol:r,title:o,maskId:i,titleId:s,extra:{attributes:u,styles:d,classes:l}})))};var G$e={mixout(){return{icon:H$e(q$e)}},hooks(){return{mutationObserverCallbacks(e){return e.treeCallback=zV,e.nodeCallback=V$e,e}}},provides(e){e.i2svg=function(t){const{node:n=aa,callback:r=()=>{}}=t;return zV(n,r)},e.generateSvgReplacementMutation=function(t,n){const{iconName:r,title:a,titleId:i,prefix:o,transform:s,symbol:l,mask:u,maskId:d,extra:f}=n;return new Promise((h,p)=>{Promise.all([AM(r,o),u.iconName?AM(u.iconName,u.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(m=>{let[g,y]=m;h([t,k6({icons:{main:g,mask:y},prefix:o,iconName:r,transform:s,symbol:l,maskId:d,title:a,titleId:i,extra:f,watchable:!0})])}).catch(p)})},e.generateAbstractIcon=function(t){let{children:n,attributes:r,main:a,transform:i,styles:o}=t;const s=oT(o);s.length>0&&(r.style=s);let l;return C6(i)&&(l=gh("generateAbstractTransformGrouping",{main:a,transform:i,containerWidth:a.width,iconWidth:a.width})),n.push(l||a.icon),{children:n,attributes:r}}}},Y$e={mixout(){return{layer(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{classes:n=[]}=t;return cT({type:"layer"},()=>{ym("beforeDOMElementCreation",{assembler:e,params:t});let r=[];return e(a=>{Array.isArray(a)?a.map(i=>{r=r.concat(i.abstract)}):r=r.concat(a.abstract)}),[{tag:"span",attributes:{class:["".concat(pn.cssPrefix,"-layers"),...n].join(" ")},children:r}]})}}}},K$e={mixout(){return{counter(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{title:n=null,classes:r=[],attributes:a={},styles:i={}}=t;return cT({type:"counter",content:e},()=>(ym("beforeDOMElementCreation",{content:e,params:t}),k$e({content:e.toString(),title:n,extra:{attributes:a,styles:i,classes:["".concat(pn.cssPrefix,"-layers-counter"),...r]}})))}}}},X$e={mixout(){return{text(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:n=ou,title:r=null,classes:a=[],attributes:i={},styles:o={}}=t;return cT({type:"text",content:e},()=>(ym("beforeDOMElementCreation",{content:e,params:t}),IV({content:e,transform:jt(jt({},ou),n),title:r,extra:{attributes:i,styles:o,classes:["".concat(pn.cssPrefix,"-layers-text"),...a]}})))}}},provides(e){e.generateLayersText=function(t,n){const{title:r,transform:a,extra:i}=n;let o=null,s=null;if(fse){const l=parseInt(getComputedStyle(t).fontSize,10),u=t.getBoundingClientRect();o=u.width/l,s=u.height/l}return pn.autoA11y&&!r&&(i.attributes["aria-hidden"]="true"),Promise.resolve([t,IV({content:t.innerHTML,width:o,height:s,transform:a,title:r,extra:i,watchable:!0})])}}};const Z$e=new RegExp('"',"ug"),UV=[1105920,1112319],WV=jt(jt(jt(jt({},{FontAwesome:{normal:"fas",400:"fas"}}),b6e),F6e),P6e),MM=Object.keys(WV).reduce((e,t)=>(e[t.toLowerCase()]=WV[t],e),{}),Q$e=Object.keys(MM).reduce((e,t)=>{const n=MM[t];return e[t]=n[900]||[...Object.entries(n)][0][1],e},{});function J$e(e){const t=e.replace(Z$e,""),n=i$e(t,0),r=n>=UV[0]&&n<=UV[1],a=t.length===2?t[0]===t[1]:!1;return{value:NM(a?t[0]:t),isSecondary:r||a}}function e8e(e,t){const n=e.replace(/^['"]|['"]$/g,"").toLowerCase(),r=parseInt(t),a=isNaN(r)?"normal":r;return(MM[n]||{})[a]||Q$e[n]}function VV(e,t){const n="".concat(L6e).concat(t.replace(":","-"));return new Promise((r,a)=>{if(e.getAttribute(n)!==null)return r();const o=ty(e.children).filter(h=>h.getAttribute(_M)===t)[0],s=ph.getComputedStyle(e,t),l=s.getPropertyValue("font-family"),u=l.match(W6e),d=s.getPropertyValue("font-weight"),f=s.getPropertyValue("content");if(o&&!u)return e.removeChild(o),r();if(u&&f!=="none"&&f!==""){const h=s.getPropertyValue("content");let p=e8e(l,d);const{value:m,isSecondary:g}=J$e(h),y=u[0].startsWith("FontAwesome");let x=N6(p,m),b=x;if(y){const w=d$e(m);w.iconName&&w.prefix&&(x=w.iconName,p=w.prefix)}if(x&&!g&&(!o||o.getAttribute(b6)!==p||o.getAttribute(w6)!==b)){e.setAttribute(n,b),o&&e.removeChild(o);const w=z$e(),{extra:_}=w;_.attributes[_M]=t,AM(x,p).then(S=>{const k=k6(jt(jt({},w),{},{icons:{main:S,mask:Ise()},prefix:p,iconName:b,extra:_,watchable:!0})),N=aa.createElementNS("http://www.w3.org/2000/svg","svg");t==="::before"?e.insertBefore(N,e.firstChild):e.appendChild(N),N.outerHTML=k.map(P=>l2(P)).join(`
`),e.removeAttribute(n),r()}).catch(a)}else r()}else r()})}function t8e(e){return Promise.all([VV(e,"::before"),VV(e,"::after")])}function n8e(e){return e.parentNode!==document.head&&!~B6e.indexOf(e.tagName.toUpperCase())&&!e.getAttribute(_M)&&(!e.parentNode||e.parentNode.tagName!=="svg")}function HV(e){if(Gd)return new Promise((t,n)=>{const r=ty(e.querySelectorAll("*")).filter(n8e).map(t8e),a=j6.begin("searchPseudoElements");Bse(),Promise.all(r).then(()=>{a(),OM(),t()}).catch(()=>{a(),OM(),n()})})}var r8e={hooks(){return{mutationObserverCallbacks(e){return e.pseudoElementsCallback=HV,e}}},provides(e){e.pseudoElements2svg=function(t){const{node:n=aa}=t;pn.searchPseudoElements&&HV(n)}}};let qV=!1;var a8e={mixout(){return{dom:{unwatch(){Bse(),qV=!0}}}},hooks(){return{bootstrap(){$V(jM("mutationObserverCallbacks",{}))},noAuto(){F$e()},watch(e){const{observeMutationsRoot:t}=e;qV?OM():$V(jM("mutationObserverCallbacks",{observeMutationsRoot:t}))}}}};const GV=e=>{let t={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return e.toLowerCase().split(" ").reduce((n,r)=>{const a=r.toLowerCase().split("-"),i=a[0];let o=a.slice(1).join("-");if(i&&o==="h")return n.flipX=!0,n;if(i&&o==="v")return n.flipY=!0,n;if(o=parseFloat(o),isNaN(o))return n;switch(i){case"grow":n.size=n.size+o;break;case"shrink":n.size=n.size-o;break;case"left":n.x=n.x-o;break;case"right":n.x=n.x+o;break;case"up":n.y=n.y-o;break;case"down":n.y=n.y+o;break;case"rotate":n.rotate=n.rotate+o;break}return n},t)};var i8e={mixout(){return{parse:{transform:e=>GV(e)}}},hooks(){return{parseNodeAttributes(e,t){const n=t.getAttribute("data-fa-transform");return n&&(e.transform=GV(n)),e}}},provides(e){e.generateAbstractTransformGrouping=function(t){let{main:n,transform:r,containerWidth:a,iconWidth:i}=t;const o={transform:"translate(".concat(a/2," 256)")},s="translate(".concat(r.x*32,", ").concat(r.y*32,") "),l="scale(".concat(r.size/16*(r.flipX?-1:1),", ").concat(r.size/16*(r.flipY?-1:1),") "),u="rotate(".concat(r.rotate," 0 0)"),d={transform:"".concat(s," ").concat(l," ").concat(u)},f={transform:"translate(".concat(i/2*-1," -256)")},h={outer:o,inner:d,path:f};return{tag:"g",attributes:jt({},h.outer),children:[{tag:"g",attributes:jt({},h.inner),children:[{tag:n.icon.tag,children:n.icon.children,attributes:jt(jt({},n.icon.attributes),h.path)}]}]}}}};const R4={x:0,y:0,width:"100%",height:"100%"};function YV(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return e.attributes&&(e.attributes.fill||t)&&(e.attributes.fill="black"),e}function o8e(e){return e.tag==="g"?e.children:[e]}var s8e={hooks(){return{parseNodeAttributes(e,t){const n=t.getAttribute("data-fa-mask"),r=n?lT(n.split(" ").map(a=>a.trim())):Ise();return r.prefix||(r.prefix=mh()),e.mask=r,e.maskId=t.getAttribute("data-fa-mask-id"),e}}},provides(e){e.generateAbstractMask=function(t){let{children:n,attributes:r,main:a,mask:i,maskId:o,transform:s}=t;const{width:l,icon:u}=a,{width:d,icon:f}=i,h=J6e({transform:s,containerWidth:d,iconWidth:l}),p={tag:"rect",attributes:jt(jt({},R4),{},{fill:"white"})},m=u.children?{children:u.children.map(YV)}:{},g={tag:"g",attributes:jt({},h.inner),children:[YV(jt({tag:u.tag,attributes:jt(jt({},u.attributes),h.path)},m))]},y={tag:"g",attributes:jt({},h.outer),children:[g]},x="mask-".concat(o||kb()),b="clip-".concat(o||kb()),w={tag:"mask",attributes:jt(jt({},R4),{},{id:x,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[p,y]},_={tag:"defs",children:[{tag:"clipPath",attributes:{id:b},children:o8e(f)},w]};return n.push(_,{tag:"rect",attributes:jt({fill:"currentColor","clip-path":"url(#".concat(b,")"),mask:"url(#".concat(x,")")},R4)}),{children:n,attributes:r}}}},l8e={provides(e){let t=!1;ph.matchMedia&&(t=ph.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){const n=[],r={fill:"currentColor"},a={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};n.push({tag:"path",attributes:jt(jt({},r),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});const i=jt(jt({},a),{},{attributeName:"opacity"}),o={tag:"circle",attributes:jt(jt({},r),{},{cx:"256",cy:"364",r:"28"}),children:[]};return t||o.children.push({tag:"animate",attributes:jt(jt({},a),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:jt(jt({},i),{},{values:"1;0;1;1;0;1;"})}),n.push(o),n.push({tag:"path",attributes:jt(jt({},r),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:t?[]:[{tag:"animate",attributes:jt(jt({},i),{},{values:"1;0;0;0;0;1;"})}]}),t||n.push({tag:"path",attributes:jt(jt({},r),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:jt(jt({},i),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:n}}}},c8e={hooks(){return{parseNodeAttributes(e,t){const n=t.getAttribute("data-fa-symbol"),r=n===null?!1:n===""?!0:n;return e.symbol=r,e}}}},u8e=[n$e,G$e,Y$e,K$e,X$e,r8e,a8e,i8e,s8e,l8e,c8e];b$e(u8e,{mixoutsTo:qs});qs.noAuto;qs.config;qs.library;qs.dom;const IM=qs.parse;qs.findIconDefinition;qs.toHtml;const d8e=qs.icon;qs.layer;qs.text;qs.counter;function KV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Zc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KV(Object(n),!0).forEach(function(r){Kg(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KV(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function LE(e){"@babel/helpers - typeof";return LE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},LE(e)}function Kg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f8e(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,i;for(i=0;i<r.length;i++)a=r[i],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function h8e(e,t){if(e==null)return{};var n=f8e(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function RM(e){return p8e(e)||m8e(e)||g8e(e)||v8e()}function p8e(e){if(Array.isArray(e))return FM(e)}function m8e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function g8e(e,t){if(e){if(typeof e=="string")return FM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return FM(e,t)}}function FM(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y8e(e){var t,n=e.beat,r=e.fade,a=e.beatFade,i=e.bounce,o=e.shake,s=e.flash,l=e.spin,u=e.spinPulse,d=e.spinReverse,f=e.pulse,h=e.fixedWidth,p=e.inverse,m=e.border,g=e.listItem,y=e.flip,x=e.size,b=e.rotation,w=e.pull,_=(t={"fa-beat":n,"fa-fade":r,"fa-beat-fade":a,"fa-bounce":i,"fa-shake":o,"fa-flash":s,"fa-spin":l,"fa-spin-reverse":d,"fa-spin-pulse":u,"fa-pulse":f,"fa-fw":h,"fa-inverse":p,"fa-border":m,"fa-li":g,"fa-flip":y===!0,"fa-flip-horizontal":y==="horizontal"||y==="both","fa-flip-vertical":y==="vertical"||y==="both"},Kg(t,"fa-".concat(x),typeof x<"u"&&x!==null),Kg(t,"fa-rotate-".concat(b),typeof b<"u"&&b!==null&&b!==0),Kg(t,"fa-pull-".concat(w),typeof w<"u"&&w!==null),Kg(t,"fa-swap-opacity",e.swapOpacity),t);return Object.keys(_).map(function(S){return _[S]?S:null}).filter(function(S){return S})}function x8e(e){return e=e-0,e===e}function Use(e){return x8e(e)?e:(e=e.replace(/[\-_\s]+(.)?/g,function(t,n){return n?n.toUpperCase():""}),e.substr(0,1).toLowerCase()+e.substr(1))}var b8e=["style"];function w8e(e){return e.charAt(0).toUpperCase()+e.slice(1)}function _8e(e){return e.split(";").map(function(t){return t.trim()}).filter(function(t){return t}).reduce(function(t,n){var r=n.indexOf(":"),a=Use(n.slice(0,r)),i=n.slice(r+1).trim();return a.startsWith("webkit")?t[w8e(a)]=i:t[a]=i,t},{})}function Wse(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof t=="string")return t;var r=(t.children||[]).map(function(l){return Wse(e,l)}),a=Object.keys(t.attributes||{}).reduce(function(l,u){var d=t.attributes[u];switch(u){case"class":l.attrs.className=d,delete t.attributes.class;break;case"style":l.attrs.style=_8e(d);break;default:u.indexOf("aria-")===0||u.indexOf("data-")===0?l.attrs[u.toLowerCase()]=d:l.attrs[Use(u)]=d}return l},{attrs:{}}),i=n.style,o=i===void 0?{}:i,s=h8e(n,b8e);return a.attrs.style=Zc(Zc({},a.attrs.style),o),e.apply(void 0,[t.tag,Zc(Zc({},a.attrs),s)].concat(RM(r)))}var Vse=!1;try{Vse=!0}catch{}function S8e(){if(!Vse&&console&&typeof console.error=="function"){var e;(e=console).error.apply(e,arguments)}}function XV(e){if(e&&LE(e)==="object"&&e.prefix&&e.iconName&&e.icon)return e;if(IM.icon)return IM.icon(e);if(e===null)return null;if(e&&LE(e)==="object"&&e.prefix&&e.iconName)return e;if(Array.isArray(e)&&e.length===2)return{prefix:e[0],iconName:e[1]};if(typeof e=="string")return{prefix:"fas",iconName:e}}function F4(e,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?Kg({},e,t):{}}var ZV={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1},uT=le.forwardRef(function(e,t){var n=Zc(Zc({},ZV),e),r=n.icon,a=n.mask,i=n.symbol,o=n.className,s=n.title,l=n.titleId,u=n.maskId,d=XV(r),f=F4("classes",[].concat(RM(y8e(n)),RM((o||"").split(" ")))),h=F4("transform",typeof n.transform=="string"?IM.transform(n.transform):n.transform),p=F4("mask",XV(a)),m=d8e(d,Zc(Zc(Zc(Zc({},f),h),p),{},{symbol:i,title:s,titleId:l,maskId:u}));if(!m)return S8e("Could not find icon",d),null;var g=m.abstract,y={ref:t};return Object.keys(n).forEach(function(x){ZV.hasOwnProperty(x)||(y[x]=n[x])}),C8e(g[0],y)});uT.displayName="FontAwesomeIcon";uT.propTypes={beat:Vt.bool,border:Vt.bool,beatFade:Vt.bool,bounce:Vt.bool,className:Vt.string,fade:Vt.bool,flash:Vt.bool,mask:Vt.oneOfType([Vt.object,Vt.array,Vt.string]),maskId:Vt.string,fixedWidth:Vt.bool,inverse:Vt.bool,flip:Vt.oneOf([!0,!1,"horizontal","vertical","both"]),icon:Vt.oneOfType([Vt.object,Vt.array,Vt.string]),listItem:Vt.bool,pull:Vt.oneOf(["right","left"]),pulse:Vt.bool,rotation:Vt.oneOf([0,90,180,270]),shake:Vt.bool,size:Vt.oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:Vt.bool,spinPulse:Vt.bool,spinReverse:Vt.bool,symbol:Vt.oneOfType([Vt.bool,Vt.string]),title:Vt.string,titleId:Vt.string,transform:Vt.oneOfType([Vt.string,Vt.object]),swapOpacity:Vt.bool};var C8e=Wse.bind(null,le.createElement);/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */const Hse={prefix:"fas",iconName:"spinner",icon:[512,512,[],"f110","M304 48a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zm0 416a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zM48 304a48 48 0 1 0 0-96 48 48 0 1 0 0 96zm464-48a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zM142.9 437A48 48 0 1 0 75 369.1 48 48 0 1 0 142.9 437zm0-294.2A48 48 0 1 0 75 75a48 48 0 1 0 67.9 67.9zM369.1 437A48 48 0 1 0 437 369.1 48 48 0 1 0 369.1 437z"]},E8e=({onClose:e,onSuccess:t,onFailure:n})=>{const r=E.useRef(null),[a,i]=E.useState(!0),[o,s]=E.useState("Loading face detection models..."),[l,u]=E.useState(!1),[d,f]=E.useState(!1),h=E.useRef(null),p=E.useRef(0),m=3,g=E.useRef(null),y=E.useRef(!1);E.useEffect(()=>(x(),()=>{h.current&&clearInterval(h.current)}),[]);const x=async()=>{try{const N="https://justadudewhohacks.github.io/face-api.js/models";await Ci.tinyFaceDetector.loadFromUri(N),await Ci.faceLandmark68Net.loadFromUri(N),await Ci.faceRecognitionNet.loadFromUri(N),i(!1),s("Please look at the camera"),b()}catch(N){console.error("Error loading models:",N),s("Error loading face detection. Please refresh."),n==null||n()}},b=()=>{h.current=setInterval(_,100)},w=()=>{var P;if(!((P=r.current)!=null&&P.video))return;const N=r.current.video;N.onloadedmetadata=()=>{N.width=N.videoWidth,N.height=N.videoHeight,g.current&&(g.current.width=N.videoWidth,g.current.height=N.videoHeight),y.current=!0}},_=async()=>{var N;if(!(d||!((N=r.current)!=null&&N.video)||!y.current))try{const P=r.current.video,T=document.createElement("canvas");T.width=P.videoWidth||640,T.height=P.videoHeight||480;const j=T.getContext("2d",{willReadFrequently:!0});if(!j)return;if(P.readyState===4){j.drawImage(P,0,0);const D=await yM(T,new ME({inputSize:224,scoreThreshold:.5})).withFaceLandmarks().withFaceDescriptor();D?(u(!0),S(D)&&await k(D)):u(!1)}}catch(P){console.error("Face detection error:",P)}},S=N=>{const{width:P,height:T}=N.detection.box;return Math.min(P,T)>=100},k=async N=>{f(!0),p.current++;try{const P={descriptor:Array.from(N.descriptor),landmarks:N.landmarks.positions};t(JSON.stringify(P))}catch(P){console.error("Error processing face data:",P),p.current>=m&&(n==null||n())}finally{f(!1)}};return c.jsx("div",{className:"face-verification-container",children:c.jsxs("div",{className:"face-verification-content",children:[c.jsx("button",{className:"close-button",onClick:e,children:""}),a?c.jsxs("div",{className:"loading",children:[c.jsx(uT,{icon:Hse,spin:!0}),c.jsx("p",{children:o})]}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"webcam-container",children:[c.jsx(qae,{ref:r,audio:!1,screenshotFormat:"image/jpeg",mirrored:!0,onUserMedia:()=>{var N;w(),(N=r.current)!=null&&N.video&&(r.current.video.width=640,r.current.video.height=480)},videoConstraints:{width:640,height:480,facingMode:"user",aspectRatio:1.333333}}),c.jsx("canvas",{ref:g,style:{display:"none"}}),c.jsx("div",{className:`face-guide-overlay ${l?"detected":""}`,children:c.jsx("div",{className:"face-guide-box"})})]}),c.jsxs("div",{className:"status-container",children:[c.jsx("p",{className:"status-message",children:o}),d&&c.jsx("p",{children:"Processing..."})]})]})]})})},N8e=()=>{const[e,t]=E.useState(""),[n,r]=E.useState(""),[a,i]=E.useState(""),[o,s]=E.useState(!1),[l,u]=E.useState(0),[d,f]=E.useState(!1),[h,p]=E.useState(!1),m=3,g=Zr(),{login:y}=Sc(),[x,b]=E.useState(!1),[w,_]=E.useState(""),[S,k]=E.useState(""),[N,P]=E.useState(null),T=E.useRef(null),[j,D]=E.useState(!1),[M,R]=E.useState(!1),W={initial:{opacity:0},in:{opacity:1},out:{opacity:0}},B={type:"tween",ease:"easeInOut",duration:.3},V=async ne=>{var z,J;if(ne.preventDefault(),k(""),!w||w.length!==4||!/^\d+$/.test(w)){k("Please enter a valid 4-digit MPIN");return}f(!0);try{(await Le.post("/admin/auth/verify-mpin",{mpin:w,token:N==null?void 0:N.token})).data.verified&&N&&(y(N.user,N.token),g(Nt.ADMIN.DASHBOARD))}catch(ee){k(((J=(z=ee.response)==null?void 0:z.data)==null?void 0:J.error)||"MPIN verification failed")}finally{f(!1)}},q=async ne=>{var z,J,ee,G,Z,se;if(ne.preventDefault(),!d){i(""),D(!1),f(!0);try{let ae;e.includes("@kkmk.com")?e.startsWith("staff.")?(ae=await Le.post("/staff/auth/login",{email:e,password:n}),ae.data.token&&ae.data.user&&(y(ae.data.user,ae.data.token),g("/staff/dashboard"))):(ae=await Le.post("/admin/auth/login",{email:e,password:n}),ae.data.requireMpin?(P({token:ae.data.token,user:ae.data.user}),b(!0)):(y(ae.data.user,ae.data.token),g(Nt.ADMIN.DASHBOARD))):(ae=await Le.post("/login",{email:e,password:n}),ae.data.token&&ae.data.user&&(localStorage.setItem("token",ae.data.token),localStorage.setItem("user",JSON.stringify(ae.data.user)),await y(ae.data.user,ae.data.token),ae.data.user.role==="admin"?g("/admin/dashboard"):ae.data.user.role==="staff"?g("/staff/dashboard"):g(Nt.VOLUNTEER_PROFILE)))}catch(ae){(J=(z=ae.response)==null?void 0:z.data)!=null&&J.inactive?(D(!0),i(ae.response.data.error)):(G=(ee=ae.response)==null?void 0:ee.data)!=null&&G.needsAdminApproval?i(ae.response.data.error):i(((se=(Z=ae.response)==null?void 0:Z.data)==null?void 0:se.error)||"Login failed")}finally{f(!1)}}},I=E.useCallback(async ne=>{var z,J,ee,G,Z,se,ae;if(!h)try{i(""),D(!1),p(!0);const Y=await Le.post("/login/face",{faceData:ne,attemptNumber:l+1});if(Y.data.needsRescan){u(X=>X+1),l<m?(s(!0),i(Y.data.message||"Please try face verification again")):(i("Maximum face login attempts reached. Please use password login"),s(!1));return}if(Y.data.token&&Y.data.user)localStorage.setItem("token",Y.data.token),localStorage.setItem("user",JSON.stringify(Y.data.user)),await y(Y.data.user,Y.data.token),g(Y.data.user.role==="admin"?Nt.ADMIN.DASHBOARD:Nt.VOLUNTEER_PROFILE);else throw new Error("Invalid response format")}catch(Y){if((J=(z=Y.response)==null?void 0:z.data)!=null&&J.inactive)D(!0),i(Y.response.data.error);else{const X=((G=(ee=Y.response)==null?void 0:ee.data)==null?void 0:G.message)||((se=(Z=Y.response)==null?void 0:Z.data)==null?void 0:se.error)||"Face login failed";i(X),((ae=Y.response)==null?void 0:ae.status)===401&&(u(K=>K+1),l>=m&&s(!1))}}finally{p(!1)}},[l,h,y,g]),O=()=>{i("Face login failed after multiple attempts. Please use password login."),s(!1)},H=()=>{T.current&&T.current.focus()};return c.jsx("div",{className:"auth-container full-screen",children:c.jsx("div",{className:"auth-inner-container",children:c.jsx(pb,{mode:"wait",children:c.jsxs(gd.div,{initial:"initial",animate:"in",exit:"out",variants:W,transition:B,children:[c.jsx("img",{src:bj,alt:"KKMK Logo",className:"auth-logo",onClick:()=>g("/"),style:{cursor:"pointer"}}),x?c.jsxs(c.Fragment,{children:[c.jsx("h1",{children:"Enter MPIN"}),c.jsx("p",{children:"Please enter your 4-digit MPIN to complete login"}),S&&c.jsx("p",{className:"error-message",children:S}),c.jsxs("form",{onSubmit:V,className:"auth-form mpin-form",children:[c.jsxs("div",{className:"mpin-input-container",onClick:H,children:[c.jsx("input",{ref:T,type:"text",inputMode:"numeric",maxLength:4,value:w,onChange:ne=>{const z=ne.target.value;(z===""||/^\d+$/.test(z)&&z.length<=4)&&_(z)},className:"mpin-hidden-input",autoFocus:!0,disabled:d}),c.jsx("div",{className:"mpin-display",children:[...Array(4)].map((ne,z)=>c.jsx("div",{className:`mpin-digit ${z<w.length?"filled":""}`},z))})]}),c.jsx("button",{type:"submit",className:"auth-button",disabled:d,children:d?"Verifying...":"Verify MPIN"}),c.jsx("button",{type:"button",className:"auth-button secondary",onClick:()=>{b(!1),P(null),_("")},disabled:d,children:"Back to Login"})]})]}):c.jsxs(c.Fragment,{children:[c.jsx("h1",{children:"Welcome"}),c.jsx("p",{children:"Sign in to KMFI"}),a&&c.jsxs("p",{className:`error-message ${j?"inactive-account":""}`,children:[a,j&&c.jsx("button",{className:"contact-admin-link",onClick:()=>g("/contact"),children:"Contact Administrator"})]}),c.jsxs("form",{onSubmit:q,className:"auth-form",children:[c.jsx("div",{className:"form-groups",children:c.jsx("input",{type:"text",value:e,onChange:ne=>t(ne.target.value),placeholder:"Username or Email",disabled:d})}),c.jsx("div",{className:"form-groups",children:c.jsxs("div",{className:"password-input-wrapper",children:[c.jsx("input",{type:M?"text":"password",value:n,onChange:ne=>r(ne.target.value),placeholder:"Password",disabled:d,className:"password-input"}),n.length>0&&c.jsx("span",{className:"password-toggle-icon",onClick:()=>R(!M),children:M?c.jsx("svg",{viewBox:"0 0 24 24",children:c.jsx("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"})}):c.jsx("svg",{viewBox:"0 0 24 24",children:c.jsx("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"})})})]})}),c.jsx("p",{className:"forgot-password",children:c.jsx($s,{to:Nt.FORGOT_PASSWORD,children:"Forgot Password?"})}),c.jsx("button",{type:"submit",className:"auth-button",disabled:d,children:d?"Logging in...":"Login"})]}),c.jsx("button",{type:"button",className:"face-login-button",onClick:()=>s(!0),disabled:h,children:h?"Processing...":"Login with Face"}),o&&c.jsx(E8e,{onClose:()=>s(!1),onSuccess:I,onFailure:O}),c.jsxs("p",{className:"auth-link",children:["Don't have an account? ",c.jsx($s,{to:Nt.REGISTER,children:"Sign up"})]})]})]},x?"mpin-form":"login-form")})})})},k8e=({onClose:e,onSuccess:t})=>{const n=E.useRef(null),[r,a]=E.useState(!0),[i,o]=E.useState(!1),[s,l]=E.useState(!1),[u,d]=E.useState("Loading face detection models..."),f=E.useRef(null);E.useRef([]);const h=E.useRef([]),p=3,m=.8,g=E.useRef(null),y=E.useRef(!1),[x,b]=E.useState(!1);E.useEffect(()=>(w(),()=>{f.current&&clearInterval(f.current)}),[]);const w=async()=>{try{const T="https://justadudewhohacks.github.io/face-api.js/models";await Ci.tinyFaceDetector.loadFromUri(T),await Ci.faceLandmark68Net.loadFromUri(T),await Ci.faceRecognitionNet.loadFromUri(T);const j=.5;yM(new Image,new ME({scoreThreshold:j})),a(!1),d("Please look at the camera"),_()}catch(T){console.error("Error loading models:",T),d("Error loading face detection. Please refresh.")}},_=()=>{f.current=setInterval(k,100)},S=()=>{var j;if(!((j=n.current)!=null&&j.video))return;const T=n.current.video;T.onloadedmetadata=()=>{T.width=T.videoWidth,T.height=T.videoHeight,g.current&&(g.current.width=T.videoWidth,g.current.height=T.videoHeight),y.current=!0}},k=async()=>{var T;if(!(s||!((T=n.current)!=null&&T.video)||!y.current))try{const j=n.current.video,D=document.createElement("canvas");D.width=j.videoWidth||640,D.height=j.videoHeight||480;const M=D.getContext("2d",{willReadFrequently:!0});if(!M)return;if(j.readyState===4){M.drawImage(j,0,0);const R=await yM(D,new ME({inputSize:224,scoreThreshold:.5})).withFaceLandmarks().withFaceDescriptor();R?(o(!0),N(R)&&await P(R)):o(!1)}}catch(j){console.error("Face detection error:",j)}},N=T=>{const{width:j,height:D}=T.detection.box;return Math.min(j,D)>=100},P=async T=>{var j;if((j=n.current)!=null&&j.video)try{if(T&&T.detection.score>m){const D=Array.from(T.descriptor),M=T.landmarks.positions.map(R=>({x:R.x,y:R.y}));if(h.current.push({descriptor:D,landmarks:M}),d(`Capturing face ${h.current.length}/${p}`),h.current.length>=p){l(!0),d("Processing verification..."),await new Promise(W=>setTimeout(W,2e3)),d("Analyzing facial features..."),await new Promise(W=>setTimeout(W,1500)),d("Finalizing verification..."),await new Promise(W=>setTimeout(W,1500));const R={descriptors:h.current.map(W=>W.descriptor),landmarks:h.current.map(W=>W.landmarks)};b(!0),d("Verification successful! "),setTimeout(()=>{t(JSON.stringify(R))},1e3)}}}catch(D){console.error("Face capture error:",D)}};return c.jsx("div",{className:"face-verification-container",children:c.jsxs("div",{className:"face-verification-content",children:[c.jsx("button",{className:"close-button",onClick:e,children:""}),r?c.jsxs("div",{className:"loading",children:[c.jsx(uT,{icon:Hse,spin:!0}),c.jsx("p",{children:u})]}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"webcam-container",children:[c.jsx(qae,{ref:n,audio:!1,screenshotFormat:"image/jpeg",mirrored:!0,onUserMedia:()=>{var T;S(),(T=n.current)!=null&&T.video&&(n.current.video.width=640,n.current.video.height=480)},videoConstraints:{width:640,height:480,facingMode:"user",aspectRatio:1.333333}}),c.jsx("canvas",{ref:g,style:{display:"none"}}),c.jsxs("div",{className:`face-guide-overlay ${i?"detected":""} ${x?"success":""}`,children:[c.jsx("div",{className:"face-guide-box"}),x&&c.jsx("div",{className:"success-checkmark",children:""})]})]}),c.jsxs("div",{className:"status-container",children:[c.jsx("p",{className:`status-message ${x?"success":""}`,children:u}),c.jsx("div",{className:"capture-progress",children:Array(p).fill(0).map((T,j)=>c.jsx("div",{className:`capture-dot ${j<h.current.length?"active":""}`},j))})]})]})]})})},j8e=()=>{const e=Dl(),[t,n]=E.useState("role"),[r,a]=E.useState(),[i,o]=E.useState(""),[s,l]=E.useState(""),[u,d]=E.useState(""),[f,h]=E.useState(""),[p,m]=E.useState("male"),[g,y]=E.useState(""),[x,b]=E.useState(""),[w,_]=E.useState(""),[S,k]=E.useState(""),[N,P]=E.useState(""),[T,j]=E.useState(""),[D,M]=E.useState(!1),[R,W]=E.useState({}),[B,V]=E.useState(!1),[q,I]=E.useState(!1),[O,H]=E.useState(!1),[ne,z]=E.useState(!1),[J,ee]=E.useState(!1),[G,Z]=E.useState(!1),[se,ae]=E.useState(""),[Y,X]=E.useState(!1),[K,F]=E.useState(""),[re,Q]=E.useState(""),[oe,me]=E.useState(""),[be,ye]=E.useState(""),[de,we]=E.useState(""),[We,Me]=E.useState(""),[ze,He]=E.useState(""),[dt,qt]=E.useState(null),[Zt,Wt]=E.useState(null),[mn,Re]=E.useState(null),[Ge,at]=E.useState(null),[Ke,Qe]=E.useState([]),[yt,ft]=E.useState(null),[pt,Lt]=E.useState([]),[ln,rr]=E.useState(""),[Fr,Qr]=E.useState(null),[la,ai]=E.useState(""),[je,At]=E.useState(""),wt=Zr(),cn=["Elementary","Junior High School","Senior High School","Vocational","College","Graduate School"],kt=[{value:"tutoring",label:"Tutoring/Academic Support",description:"Helping students with homework, teaching subjects, conducting study sessions"},{value:"mentoring",label:"Mentoring",description:"Providing guidance, career advice, and personal development support"},{value:"counseling",label:"Community Counseling",description:"Offering emotional support, conflict resolution, and basic mental health services"},{value:"healthcare",label:"Healthcare Support",description:"First aid, health education, medical assistance, health awareness programs"},{value:"arts_culture",label:"Arts & Culture Programs",description:"Teaching music, art, dance, theater, organizing cultural events"},{value:"sports_recreation",label:"Sports & Recreation",description:"Coaching sports, organizing games, planning recreational activities"},{value:"environmental",label:"Environmental Projects",description:"Clean-ups, recycling initiatives, environmental education"},{value:"food_distribution",label:"Food Distribution",description:"Preparing meals, distributing food packages, managing food banks"},{value:"shelter_support",label:"Shelter Support",description:"Working in shelters, housing programs, construction assistance"},{value:"administrative",label:"Administrative Support",description:"Office management, data entry, record keeping, documentation"},{value:"event_planning",label:"Event Planning",description:"Organizing community events, fundraisers, awareness programs"},{value:"technical",label:"Technical Support",description:"Computer skills training, tech troubleshooting, digital literacy programs"},{value:"elderly_support",label:"Elderly Support",description:"Elder care, companionship, assistance with daily activities"},{value:"child_care",label:"Child Care",description:"Childcare services, after-school programs, recreational activities for children"},{value:"translation",label:"Translation/Interpretation",description:"Language services for non-native speakers in the community"}],Cn=["Physical","Mental","Psychological","Learning","Other"];E.useEffect(()=>{var Fe;if((Fe=e.state)!=null&&Fe.preselectedRole)a(e.state.preselectedRole),n("form");else{const _t=localStorage.getItem("preselectedRole");(_t==="scholar"||_t==="volunteer"||_t==="sponsor")&&(a(_t),n("form"),localStorage.removeItem("preselectedRole"))}},[e.state]);const ke={initial:{opacity:0},in:{opacity:1},out:{opacity:0}},De={type:"tween",ease:"easeInOut",duration:.3},Xe=()=>{t==="form"?(o(""),l(""),d(""),h(""),m("male"),y(""),b(""),_(""),k(""),P(""),W({}),V(!1),Z(!1),ae(""),Q(""),me(""),ye(""),we(""),Me(""),Qe([]),F(""),He(""),ft(null),Lt([]),rr(""),n("role"),a(void 0)):wt(-1)},it=()=>{const Fe={};if(i.trim()?(i.length<2||i.length>50)&&(Fe.firstName="First name must be between 2 and 50 characters"):Fe.firstName="First name is required",u.trim()?(u.length<2||u.length>50)&&(Fe.lastName="Last name must be between 2 and 50 characters"):Fe.lastName="Last name is required",p||(Fe.gender="Gender is required"),g.trim()?g.length<3||g.length>20?Fe.username="Username must be between 3 and 20 characters":/^[a-zA-Z0-9_]+$/.test(g)||(Fe.username="Username can only contain letters, numbers, and underscores"):Fe.username="Username is required",x.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(x)||(Fe.email="Please enter a valid email address"):Fe.email="Email is required",w?w.length<6?Fe.password="Password must be at least 6 characters long":/(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/.test(w)||(Fe.password="Password must contain at least one uppercase letter, one lowercase letter, and one number"):Fe.password="Password is required",!S.trim())Fe.dateOfBirth="Date of Birth is required";else{const _t=new Date(S),rn=new Date;let Or=5;r==="volunteer"?Or=16:r==="sponsor"&&(Or=18);const _r=new Date;_r.setFullYear(rn.getFullYear()-Or),_t>_r&&(Fe.dateOfBirth=`You must be at least ${Or} years old to register as a ${r}`)}if(r||(Fe.role="Role is required"),r==="scholar"&&(re.trim()||(Fe.guardianName="Guardian name is required"),oe.trim()?/^\d{10,15}$/.test(oe.replace(/\D/g,""))||(Fe.guardianPhone="Please enter a valid phone number"):Fe.guardianPhone="Guardian phone is required",be.trim()||(Fe.address="Address is required"),de||(Fe.educationLevel="Education level is required"),We.trim()||(Fe.school="School is required"),ze||(Fe.parentsIncome="Parents' income is required"),dt?dt.size>5*1024*1024&&(Fe.schoolRegistrationForm="File is too large (max 5MB)"):Fe.schoolRegistrationForm="School registration form is required",Zt?Zt.size>5*1024*1024&&(Fe.psaDocument="File is too large (max 5MB)"):Fe.psaDocument="PSA Birth Certificate is required",mn?mn.size>5*1024*1024&&(Fe.parentsId="File is too large (max 5MB)"):Fe.parentsId="Parent's ID is required",Ge?Ge.size>5*1024*1024&&(Fe.reportCard="File is too large (max 5MB)"):Fe.reportCard="Latest report card or grade slip is required"),r==="volunteer"&&(Ke.length===0&&(Fe.skills="Please select at least one skill"),Ke.length>0&&!Fr?Fe.skillEvidence="Please upload evidence for at least one of your skills":Fr&&Fr.size>5*1024*1024&&(Fe.skillEvidence="File is too large (max 5MB)"),yt===null&&(Fe.disability="Please specify if you have any disability"),yt===!0&&pt.length===0&&(Fe.disability="Please select at least one disability type"),yt===!0&&pt.length>0&&!ln.trim()&&(Fe.disabilityDetails="Please provide details about your disability")),r==="sponsor"&&(je||(Fe.salaryRange="Salary range is required")),K.trim()?/^\d{10,15}$/.test(K.replace(/\D/g,""))||(Fe.phone="Please enter a valid phone number"):Fe.phone="Phone number is required",B||(Fe.terms="You must accept the terms and conditions"),W(Fe),Object.keys(Fe).length>0){setTimeout(()=>{window.scrollTo({top:0,behavior:"smooth"})},100);const _t=Object.keys(Fe)[0],rn=document.getElementById(_t);rn&&rn.scrollIntoView({behavior:"smooth",block:"center"})}return Object.keys(Fe).length===0},et=async Fe=>{var _t,rn,Or,_r,Gs;if(Fe.preventDefault(),P(""),j(""),!!it())try{const Ys=[i,s,u,f].filter(Boolean).join(" "),_n=new FormData;if(_n.append("firstName",i),_n.append("middleName",s),_n.append("lastName",u),_n.append("extension",f),_n.append("fullName",Ys),_n.append("gender",p),_n.append("username",g),_n.append("email",x),_n.append("password",w),_n.append("dateOfBirth",S),_n.append("role",r||""),_n.append("phone",K),se&&_n.append("faceData",se),r==="scholar")_n.append("guardianName",re),_n.append("guardianPhone",oe),_n.append("address",be),_n.append("educationLevel",de),_n.append("school",We),_n.append("parentsIncome",ze),dt&&_n.append("schoolRegistrationForm",dt),Zt&&_n.append("psaDocument",Zt),mn&&_n.append("parentsId",mn),Ge&&_n.append("reportCard",Ge);else if(r==="volunteer")if(_n.append("skills",JSON.stringify(Ke)),Fr&&_n.append("skillEvidence",Fr),yt===!0){const zl={hasDisability:!0,types:pt,details:ln};_n.append("disability",JSON.stringify(zl))}else yt===!1&&_n.append("disability",JSON.stringify({hasDisability:!1}));else r==="sponsor"&&_n.append("salaryRange",je);let ii=!1;try{(await Le.get(`/check-email?email=${encodeURIComponent(x)}`)).data.available||(W(Ks=>({...Ks,email:"This email is already registered. Please use another email or try to login.",username:void 0})),P("Email is already registered"),ii=!0)}catch(zl){((_t=zl.response)==null?void 0:_t.status)===409&&(W(Ks=>({...Ks,email:"This email is already registered. Please use another email or try to login.",username:void 0})),P("Email is already registered"),ii=!0)}if(!ii)try{(await Le.get(`/check-username?username=${encodeURIComponent(g)}`)).data.available||(W(Ks=>({...Ks,username:"This username is already taken. Please choose another username.",email:void 0})),P("Username is already taken"),ii=!0)}catch(zl){((rn=zl.response)==null?void 0:rn.status)===409&&(W(Ks=>({...Ks,username:"This username is already taken. Please choose another username.",email:void 0})),P("Username is already taken"),ii=!0)}if(ii){window.scrollTo({top:0,behavior:"smooth"});return}const Bl=await Le.post("/register",_n,{headers:{"Content-Type":"multipart/form-data"}});j(r==="scholar"?"Registration successful. Please wait for admin to verify your account.":Bl.data.message||"Registration successful. Please check your email to verify your account and also check the spam folder");const xy=window.scrollY;document.documentElement.style.setProperty("--popup-scroll-y",`${xy}px`),M(!0),(r==="volunteer"||r==="sponsor")&&setTimeout(()=>{n("role"),a(void 0)},3e3)}catch(Ys){console.error("Registration error:",Ys),console.log("Error response data:",(Or=Ys.response)==null?void 0:Or.data),console.log("Error status:",(_r=Ys.response)==null?void 0:_r.status);const _n=((Gs=Ys.response)==null?void 0:Gs.data)||{};if(W(ii=>({...ii,email:void 0,username:void 0})),_n.field==="email")W(ii=>({...ii,email:_n.detail||_n.error||"Email already registered"})),P("Email is already registered. Please use a different email.");else if(_n.field==="username")W(ii=>({...ii,username:_n.detail||_n.error||"Username already taken"})),P("Username is already taken. Please choose another username.");else if(_n.error){const ii=_n.error.toLowerCase();ii.includes("email")?(W(Bl=>({...Bl,email:_n.detail||"Email already registered"})),P("Email is already registered. Please use a different email.")):ii.includes("username")?(W(Bl=>({...Bl,username:_n.detail||"Username already taken"})),P("Username is already taken. Please choose another username.")):P(_n.error||"Registration failed. Please try again.")}else P("Registration failed. Please try again or contact support.");window.scrollTo({top:0,behavior:"smooth"})}},ie=async Fe=>{var _t;try{return(await Le.get(`/check-email?email=${encodeURIComponent(Fe)}`)).data.available}catch(rn){return((_t=rn.response)==null?void 0:_t.status)===409?!1:(console.error("Error checking email availability:",rn),!0)}},ge=async Fe=>{var _t;try{return(await Le.get(`/check-username?username=${encodeURIComponent(Fe)}`)).data.available}catch(rn){return((_t=rn.response)==null?void 0:_t.status)===409?!1:(console.error("Error checking username availability:",rn),!0)}},ce=Fe=>{if(Fe==="scholar"&&!window.confirm(`KMFI Scholar Program Eligibility Check

Scholars must be residents of Payatas, Quezon City to be eligible.

Are you a resident of Payatas area?`)){alert(`We're sorry, but KMFI's scholar program is currently only available to residents of Payatas, Quezon City.

Thank you for your interest. You may still explore other ways to get involved with our organization.`),wt("/");return}o(""),l(""),d(""),h(""),m("male"),y(""),b(""),_(""),k(""),P(""),W({}),V(!1),Z(!1),ae(""),Q(""),me(""),ye(""),we(""),Me(""),Qe([]),F(""),He(""),ft(null),Lt([]),rr(""),console.log("Selected role:",Fe),a(Fe),setTimeout(()=>n("form"),50)},fe=Fe=>{const _t=Fe.target.value;_t&&!Ke.includes(_t)&&(ai(_t),Qe(rn=>[...rn,_t]),R.skills&&W(rn=>({...rn,skills:void 0})))},pe=Fe=>{Qe(_t=>_t.filter(rn=>rn!==Fe)),Ke.length<=1&&Qr(null)},ve=Fe=>{var rn;const _t=((rn=Fe.target.files)==null?void 0:rn[0])||null;Qr(_t),_t&&R.skillEvidence&&W(Or=>({...Or,skillEvidence:void 0}))},Oe=Fe=>{const _t=Fe.target.value;Fe.target.checked?Lt(rn=>[...rn,_t]):Lt(rn=>rn.filter(Or=>Or!==_t))},Ve=Fe=>{z(!0),setTimeout(()=>{Fe(!1),z(!1)},300)},Ue=Fe=>{Fe.preventDefault(),Fe.stopPropagation(),I(!0)},$e=Fe=>{Fe.preventDefault(),Fe.stopPropagation(),H(!0)},Be=Fe=>{ae(Fe),Z(!0),ee(!1)},ut=()=>c.jsxs("div",{className:"role-selection",children:[c.jsx("h4",{children:"Choose your role"}),c.jsx("p",{children:"Select how you want to join KMFI"}),c.jsxs("div",{className:"role-buttons",children:[c.jsxs("button",{className:`role-button ${r==="volunteer"?"selected":""}`,onClick:()=>ce("volunteer"),children:[c.jsx("h5",{children:"Volunteer"}),c.jsx("p",{children:"Join as a volunteer to help and support"})]}),c.jsxs("button",{className:`role-button ${r==="scholar"?"selected":""}`,onClick:()=>ce("scholar"),children:[c.jsx("h5",{children:"Scholar"}),c.jsx("p",{children:"Apply as a scholar to receive support"})]}),c.jsxs("button",{className:`role-button ${r==="sponsor"?"selected":""}`,onClick:()=>ce("sponsor"),children:[c.jsx("h5",{children:"Sponsor"}),c.jsx("p",{children:"Register as a sponsor to provide support"})]})]})]}),Et=()=>c.jsx("div",{className:`modal-overlay ${ne?"closing":""}`,onClick:()=>Ve(I),children:c.jsxs("div",{className:`modal-content ${ne?"closing":""}`,onClick:Fe=>Fe.stopPropagation(),children:[c.jsx("h2",{children:"Terms of Service"}),c.jsx("div",{className:"modal-body",children:c.jsxs("div",{className:"terms-content",children:[c.jsx("h3",{children:"1. Acceptance of Terms"}),c.jsx("p",{children:"By accessing and using KKMK's services, you agree to be bound by these Terms of Service."}),c.jsx("h3",{children:"2. User Responsibilities"}),c.jsx("p",{children:"Users must:"}),c.jsxs("ul",{children:[c.jsx("li",{children:"Provide accurate and truthful information"}),c.jsx("li",{children:"Maintain the confidentiality of their account"}),c.jsx("li",{children:"Use the service in accordance with all applicable laws"})]}),c.jsx("h3",{children:"3. Role-Specific Terms"}),c.jsx("h4",{children:"For Volunteers:"}),c.jsxs("ul",{children:[c.jsx("li",{children:"Commit to assigned responsibilities"}),c.jsx("li",{children:"Maintain professional conduct"}),c.jsx("li",{children:"Respect confidentiality of scholars"})]}),c.jsx("h4",{children:"For Scholars:"}),c.jsxs("ul",{children:[c.jsx("li",{children:"Maintain academic requirements"}),c.jsx("li",{children:"Provide progress reports as requested"}),c.jsx("li",{children:"Use support resources responsibly"})]}),c.jsx("h4",{children:"For Sponsors:"}),c.jsxs("ul",{children:[c.jsx("li",{children:"Fulfill committed support obligations"}),c.jsx("li",{children:"Respect privacy of scholars"}),c.jsx("li",{children:"Adhere to sponsorship guidelines"})]}),c.jsx("h3",{children:"4. Privacy"}),c.jsx("p",{children:"We are committed to protecting your privacy. Your personal information will be handled as described in our Privacy Policy."}),c.jsx("h3",{children:"5. Code of Conduct"}),c.jsx("p",{children:"Users must not:"}),c.jsxs("ul",{children:[c.jsx("li",{children:"Harass or discriminate against others"}),c.jsx("li",{children:"Share inappropriate or offensive content"}),c.jsx("li",{children:"Misuse platform resources"})]}),c.jsx("h3",{children:"6. Termination"}),c.jsx("p",{children:"We reserve the right to terminate or suspend accounts that violate these terms."}),c.jsx("h3",{children:"7. Changes to Terms"}),c.jsx("p",{children:"We may modify these terms at any time. Continued use of the service implies acceptance of changes."})]})}),c.jsx("div",{style:{textAlign:"right"},children:c.jsx("button",{onClick:()=>Ve(I),children:"Close"})})]})}),$t=()=>c.jsx("div",{className:`modal-overlay ${ne?"closing":""}`,onClick:()=>Ve(H),children:c.jsxs("div",{className:`modal-content ${ne?"closing":""}`,onClick:Fe=>Fe.stopPropagation(),children:[c.jsx("h2",{children:"Notification Settings"}),c.jsx("div",{className:"modal-body",children:c.jsx("p",{children:"Your notification settings content goes here..."})}),c.jsx("button",{onClick:()=>Ve(H),children:"Close"})]})}),he=()=>c.jsx(gd.div,{className:"success-popup-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},onAnimationComplete:()=>{setTimeout(()=>{M(!1)},8e3)},children:c.jsx(gd.div,{className:`success-popup ${ne?"closing":""}`,initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",stiffness:300,damping:25,duration:.3},children:c.jsxs("div",{className:"success-popup-content",children:[c.jsx("div",{className:"success-icon",children:""}),c.jsx("p",{children:T||"Registration successful. Please check your email to verify your account."}),c.jsx("button",{className:"close-popup-btn",onClick:()=>M(!1),children:c.jsx("svg",{viewBox:"0 0 24 24",width:"24",height:"24",children:c.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})})]})})}),Ee=(Fe,_t)=>{const rn=Fe.target.value;(/^[a-zA-Z---\s'.,-]*$/.test(rn)||rn==="")&&(_t(rn),R[Fe.target.id]&&W(Or=>({...Or,[Fe.target.id]:void 0})))},Ae=Fe=>{const _t=Fe.target.value;(/^[a-zA-Z0-9_]*$/.test(_t)||_t==="")&&(y(_t),(R.username||N.includes("Username is already taken"))&&(W(rn=>({...rn,username:void 0})),N.includes("Username is already taken")&&P("")),_t&&_t.length>=3&&(window.usernameCheckTimeout&&clearTimeout(window.usernameCheckTimeout),window.usernameCheckTimeout=setTimeout(async()=>{try{!await ge(_t)&&g===_t&&W(Or=>({...Or,username:"This username is already taken. Please choose another username."}))}catch(rn){console.error("Username availability check failed:",rn)}},600)))},Ze=Fe=>{const _t=Fe.target.value;b(_t),(R.email||N.includes("Email is already registered"))&&(W(rn=>({...rn,email:void 0})),N.includes("Email is already registered")&&P("")),_t&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(_t)&&(window.emailCheckTimeout&&clearTimeout(window.emailCheckTimeout),window.emailCheckTimeout=setTimeout(async()=>{try{!await ie(_t)&&x===_t&&W(Or=>({...Or,email:"This email is already registered. Please use another email or try to login."}))}catch(rn){console.error("Email availability check failed:",rn)}},600))},qe=Fe=>{_(Fe.target.value),R.password&&W(_t=>({..._t,password:void 0}))},Ht=Fe=>{const _t=Fe.target.value;(/^[0-9+\s]*$/.test(_t)||_t==="")&&(F(_t),R.phone&&W(rn=>({...rn,phone:void 0})))},gt=Fe=>{const _t=Fe.target.value;(/^[0-9+\s]*$/.test(_t)||_t==="")&&(me(_t),R.guardianPhone&&W(rn=>({...rn,guardianPhone:void 0})))},Rt=Fe=>{Me(Fe.target.value),R.school&&W(_t=>({..._t,school:void 0}))},wn=Fe=>{const _t=Fe.target.value;(/^[a-zA-Z---\s'.,-]*$/.test(_t)||_t==="")&&(Q(_t),R.guardianName&&W(rn=>({...rn,guardianName:void 0})))},ca=Fe=>{ye(Fe.target.value),R.address&&W(_t=>({..._t,address:void 0}))},ar=Fe=>{we(Fe.target.value),R.educationLevel&&W(_t=>({..._t,educationLevel:void 0}))},Yt=Fe=>{He(Fe.target.value),R.parentsIncome&&W(_t=>({..._t,parentsIncome:void 0}))},Ce=Fe=>{k(Fe.target.value),R.dateOfBirth&&W(_t=>({..._t,dateOfBirth:void 0}))},St=Fe=>{m(Fe.target.value),R.gender&&W(_t=>({..._t,gender:void 0}))},Bt=Fe=>{rr(Fe.target.value),R.disabilityDetails&&W(_t=>({..._t,disabilityDetails:void 0}))},Ct=Fe=>{V(Fe.target.checked),R.terms&&Fe.target.checked&&W(_t=>({..._t,terms:void 0}))},En=(Fe,_t,rn)=>{var _r;const Or=((_r=Fe.target.files)==null?void 0:_r[0])||null;_t(Or),Or&&R[rn]&&W(Gs=>({...Gs,[rn]:void 0}))},Dt=(Fe,_t)=>{Fe(null),R[_t]&&W(rn=>({...rn,[_t]:void 0}))},xn=Fe=>{At(Fe.target.value),R.salaryRange&&W(_t=>({..._t,salaryRange:void 0}))},ms=Fe=>{const _t=kt.find(rn=>rn.value===Fe);return c.jsxs("div",{className:"skill-badge",children:[c.jsx("span",{className:"skill-label",children:(_t==null?void 0:_t.label)||Fe}),c.jsx("button",{type:"button",className:"remove-skill-btn",onClick:()=>pe(Fe),title:"Remove skill",children:""})]},Fe)},gs=()=>c.jsxs("div",{className:"registration-form",children:[c.jsx("h4",{children:"Complete your registration"}),c.jsx("p",{children:"Please fill in your details"}),N&&c.jsx("p",{className:"error-message",id:"error-message",children:N}),c.jsxs("form",{onSubmit:et,className:"auth-form",noValidate:!0,children:[c.jsxs("div",{className:"form-section",children:[c.jsx("h5",{children:"Personal Information"}),c.jsxs("div",{className:"form-group-row",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"firstName",children:"First Name *"}),c.jsx("input",{type:"text",id:"firstName",value:i,onChange:Fe=>Ee(Fe,o),placeholder:"First name",className:R.firstName?"error-input":""}),R.firstName&&c.jsx("span",{className:"error-text",children:R.firstName})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"middleName",children:"Middle Name"}),c.jsx("input",{type:"text",id:"middleName",value:s,onChange:Fe=>Ee(Fe,l),placeholder:"Middle name (optional)"})]})]}),c.jsxs("div",{className:"form-group-row",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"lastName",children:"Last Name *"}),c.jsx("input",{type:"text",id:"lastName",value:u,onChange:Fe=>Ee(Fe,d),placeholder:"Last name",className:R.lastName?"error-input":""}),R.lastName&&c.jsx("span",{className:"error-text",children:R.lastName})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"extension",children:"Extension"}),c.jsx("input",{type:"text",id:"extension",value:f,onChange:Fe=>Ee(Fe,h),placeholder:"Jr., Sr., III, etc. (optional)"})]})]}),c.jsxs("div",{className:"form-group-row",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"gender",children:"Gender *"}),c.jsxs("select",{id:"gender",value:p,onChange:St,className:R.gender?"error-input":"",children:[c.jsx("option",{value:"male",children:"Male"}),c.jsx("option",{value:"female",children:"Female"}),c.jsx("option",{value:"other",children:"Other"})]}),R.gender&&c.jsx("span",{className:"error-text",children:R.gender})]}),c.jsxs("div",{className:"form-group",children:[c.jsxs("label",{htmlFor:"dateOfBirth",children:["Date of Birth *",r==="volunteer"&&c.jsx("span",{className:"age-hint",children:"(16+ years old)"}),r==="sponsor"&&c.jsx("span",{className:"age-hint",children:"(18+ years old)"})]}),c.jsx("input",{type:"date",id:"dateOfBirth",value:S,onChange:Ce,placeholder:"Date of Birth",max:(()=>{const Fe=new Date;let _t=r==="volunteer"?16:r==="sponsor"?18:5;return Fe.setFullYear(Fe.getFullYear()-_t),Fe.toISOString().split("T")[0]})(),className:R.dateOfBirth?"error-input":""}),R.dateOfBirth&&c.jsx("span",{className:"error-text",children:R.dateOfBirth})]})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"phone",children:"Phone Number *"}),c.jsx("input",{type:"tel",id:"phone",value:K,onChange:Ht,placeholder:"Phone number",className:R.phone?"error-input":""}),R.phone&&c.jsx("span",{className:"error-text",children:R.phone})]})]}),c.jsxs("div",{className:"form-section",children:[c.jsx("h5",{children:"Account Information"}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"username",children:"Username *"}),c.jsx("input",{type:"text",id:"username",value:g,onChange:Ae,placeholder:"Choose a username",className:R.username?"error-input":""}),R.username&&c.jsx("span",{className:"error-text",children:R.username})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"email",children:"Email *"}),c.jsx("input",{type:"email",id:"email",value:x,onChange:Ze,placeholder:"Email",className:R.email?"error-input":""}),R.email&&c.jsx("span",{className:"error-text",children:R.email})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"password",children:"Password *"}),c.jsxs("div",{className:"password-input-wrapper",children:[c.jsx("input",{type:Y?"text":"password",id:"password",value:w,onChange:qe,placeholder:"Password",className:`password-input ${R.password?"error-input":""}`}),w.length>0&&c.jsx("span",{className:"password-toggle-icon",onClick:()=>X(!Y),children:Y?c.jsx("svg",{viewBox:"0 0 24 24",children:c.jsx("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"})}):c.jsx("svg",{viewBox:"0 0 24 24",children:c.jsx("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"})})})]}),R.password&&c.jsx("span",{className:"error-text",children:R.password})]})]}),r==="scholar"&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"form-section",children:[c.jsx("h5",{children:"Scholar Information"}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"guardianName",children:"Guardian Name *"}),c.jsx("input",{type:"text",id:"guardianName",value:re,onChange:wn,placeholder:"Guardian's full name",className:R.guardianName?"error-input":""}),R.guardianName&&c.jsx("span",{className:"error-text",children:R.guardianName})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"guardianPhone",children:"Guardian Phone *"}),c.jsx("input",{type:"tel",id:"guardianPhone",value:oe,onChange:gt,placeholder:"Guardian's phone number",className:R.guardianPhone?"error-input":""}),R.guardianPhone&&c.jsx("span",{className:"error-text",children:R.guardianPhone})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"address",children:"Address *"}),c.jsx("textarea",{id:"address",value:be,onChange:ca,placeholder:"Complete address",rows:3,className:R.address?"error-input":""}),R.address&&c.jsx("span",{className:"error-text",children:R.address})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"parentsIncome",children:"Parents' total monthly income *"}),c.jsxs("select",{id:"parentsIncome",value:ze,onChange:Yt,className:R.parentsIncome?"error-input":"",children:[c.jsx("option",{value:"",children:"Select income range"}),c.jsx("option",{value:"below P10,000",children:"below P10,000"}),c.jsx("option",{value:"P10,001 - P15,000",children:"P10,001 - P15,000"}),c.jsx("option",{value:"P15,001 - P20,000",children:"P15,001 - P20,000"}),c.jsx("option",{value:"P20,001 - P25,000",children:"P20,001 - P25,000"}),c.jsx("option",{value:"P25,001 - P30,000",children:"P25,001 - P30,000"}),c.jsx("option",{value:"P30,001 and above",children:"P30,001 and above"})]}),R.parentsIncome&&c.jsx("span",{className:"error-text",children:R.parentsIncome})]}),c.jsxs("div",{className:"form-group-row",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"educationLevel",children:"Education Level *"}),c.jsxs("select",{id:"educationLevel",value:de,onChange:ar,className:R.educationLevel?"error-input":"",children:[c.jsx("option",{value:"",children:"Select Education Level"}),cn.map(Fe=>c.jsx("option",{value:Fe,children:Fe},Fe))]}),R.educationLevel&&c.jsx("span",{className:"error-text",children:R.educationLevel})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"school",children:"School *"}),c.jsx("input",{type:"text",id:"school",value:We,onChange:Rt,placeholder:"School name",className:R.school?"error-input":""}),R.school&&c.jsx("span",{className:"error-text",children:R.school})]})]})]}),c.jsxs("div",{className:"form-section",children:[c.jsx("h5",{children:"Required Documents"}),c.jsx("p",{className:"document-info",children:"Please upload the following required documents (PDF, JPG, or PNG files, max 5MB each):"}),c.jsxs("div",{className:"form-group document-upload-container",children:[c.jsx("label",{htmlFor:"schoolRegistrationForm",children:"School Registration Form *"}),c.jsx("div",{className:`file-upload-wrapper ${R.schoolRegistrationForm?"has-error":""}`,children:dt?c.jsxs("div",{className:"file-preview",children:[c.jsxs("div",{className:"file-info",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",children:c.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm-1 1.5V8H19v12H5V4h8v-.5zM7 13h10v1H7v-1zm0 3h10v1H7v-1zm0-6h5v1H7v-1z"})}),c.jsx("span",{className:"file-name",children:dt.name})]}),c.jsx("button",{type:"button",className:"remove-file-btn",onClick:()=>Dt(qt,"schoolRegistrationForm"),title:"Remove file",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"20",height:"20",children:c.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})})]}):c.jsxs(c.Fragment,{children:[c.jsxs("label",{htmlFor:"schoolRegistrationForm",className:"file-upload-label",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",children:c.jsx("path",{d:"M19.35 10.04A7.49 7.49 0 0 0 12 4C9.11 4 6.6 5.64 5.35 8.04A5.994 5.994 0 0 0 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM14 13v4h-4v-4H7l5-5 5 5h-3z"})}),c.jsx("span",{children:"Click to upload"})]}),c.jsx("input",{type:"file",id:"schoolRegistrationForm",accept:".pdf,.jpg,.jpeg,.png",onChange:Fe=>En(Fe,qt,"schoolRegistrationForm"),className:"file-input"})]})}),R.schoolRegistrationForm&&c.jsx("span",{className:"error-text",children:R.schoolRegistrationForm})]}),c.jsxs("div",{className:"form-group document-upload-container",children:[c.jsx("label",{htmlFor:"psaDocument",children:"PSA Birth Certificate *"}),c.jsx("div",{className:`file-upload-wrapper ${R.psaDocument?"has-error":""}`,children:Zt?c.jsxs("div",{className:"file-preview",children:[c.jsxs("div",{className:"file-info",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",children:c.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm-1 1.5V8H19v12H5V4h8v-.5zM7 13h10v1H7v-1zm0 3h10v1H7v-1zm0-6h5v1H7v-1z"})}),c.jsx("span",{className:"file-name",children:Zt.name})]}),c.jsx("button",{type:"button",className:"remove-file-btn",onClick:()=>Dt(Wt,"psaDocument"),title:"Remove file",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"20",height:"20",children:c.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})})]}):c.jsxs(c.Fragment,{children:[c.jsxs("label",{htmlFor:"psaDocument",className:"file-upload-label",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",children:c.jsx("path",{d:"M19.35 10.04A7.49 7.49 0 0 0 12 4C9.11 4 6.6 5.64 5.35 8.04A5.994 5.994 0 0 0 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM14 13v4h-4v-4H7l5-5 5 5h-3z"})}),c.jsx("span",{children:"Click to upload"})]}),c.jsx("input",{type:"file",id:"psaDocument",accept:".pdf,.jpg,.jpeg,.png",onChange:Fe=>En(Fe,Wt,"psaDocument"),className:"file-input"})]})}),R.psaDocument&&c.jsx("span",{className:"error-text",children:R.psaDocument})]}),c.jsxs("div",{className:"form-group document-upload-container",children:[c.jsx("label",{htmlFor:"parentsId",children:"Parent's ID *"}),c.jsx("div",{className:`file-upload-wrapper ${R.parentsId?"has-error":""}`,children:mn?c.jsxs("div",{className:"file-preview",children:[c.jsxs("div",{className:"file-info",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",children:c.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm-1 1.5V8H19v12H5V4h8v-.5zM7 13h10v1H7v-1zm0 3h10v1H7v-1zm0-6h5v1H7v-1z"})}),c.jsx("span",{className:"file-name",children:mn.name})]}),c.jsx("button",{type:"button",className:"remove-file-btn",onClick:()=>Dt(Re,"parentsId"),title:"Remove file",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"20",height:"20",children:c.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})})]}):c.jsxs(c.Fragment,{children:[c.jsxs("label",{htmlFor:"parentsId",className:"file-upload-label",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",children:c.jsx("path",{d:"M19.35 10.04A7.49 7.49 0 0 0 12 4C9.11 4 6.6 5.64 5.35 8.04A5.994 5.994 0 0 0 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM14 13v4h-4v-4H7l5-5 5 5h-3z"})}),c.jsx("span",{children:"Click to upload"})]}),c.jsx("input",{type:"file",id:"parentsId",accept:".pdf,.jpg,.jpeg,.png",onChange:Fe=>En(Fe,Re,"parentsId"),className:"file-input"})]})}),R.parentsId&&c.jsx("span",{className:"error-text",children:R.parentsId})]}),c.jsxs("div",{className:"form-group document-upload-container",children:[c.jsx("label",{htmlFor:"reportCard",children:"Latest Report Card/Grade Slip *"}),c.jsx("div",{className:`file-upload-wrapper ${R.reportCard?"has-error":""}`,children:Ge?c.jsxs("div",{className:"file-preview",children:[c.jsxs("div",{className:"file-info",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",children:c.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm-1 1.5V8H19v12H5V4h8v-.5zM7 13h10v1H7v-1zm0 3h10v1H7v-1zm0-6h5v1H7v-1z"})}),c.jsx("span",{className:"file-name",children:Ge.name})]}),c.jsx("button",{type:"button",className:"remove-file-btn",onClick:()=>Dt(at,"reportCard"),title:"Remove file",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"20",height:"20",children:c.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})})]}):c.jsxs(c.Fragment,{children:[c.jsxs("label",{htmlFor:"reportCard",className:"file-upload-label",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",children:c.jsx("path",{d:"M19.35 10.04A7.49 7.49 0 0 0 12 4C9.11 4 6.6 5.64 5.35 8.04A5.994 5.994 0 0 0 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM14 13v4h-4v-4H7l5-5 5 5h-3z"})}),c.jsx("span",{children:"Click to upload"})]}),c.jsx("input",{type:"file",id:"reportCard",accept:".pdf,.jpg,.jpeg,.png",onChange:Fe=>En(Fe,at,"reportCard"),className:"file-input"})]})}),R.reportCard&&c.jsx("span",{className:"error-text",children:R.reportCard})]})]})]}),r==="volunteer"&&c.jsxs("div",{className:"form-section",children:[c.jsx("h5",{children:"Volunteer Skills"}),c.jsx("p",{className:"skills-info",children:"Select skills that you would like to volunteer in our community support events:"}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"skills",children:"Select Skills *"}),c.jsxs("select",{id:"skills",value:la,onChange:fe,className:R.skills?"error-input":"",children:[c.jsx("option",{value:"",children:"-- Select a skill to add --"}),kt.map(Fe=>c.jsx("option",{value:Fe.value,disabled:Ke.includes(Fe.value),children:Fe.label},Fe.value))]}),R.skills&&c.jsx("span",{className:"error-text",children:R.skills})]}),Ke.length>0&&c.jsxs("div",{className:"selected-skills",children:[c.jsx("label",{children:"Your selected skills:"}),c.jsx("div",{className:"skill-badges",children:Ke.map(Fe=>ms(Fe))}),c.jsx("div",{className:"skills-description",children:Ke.map(Fe=>{const _t=kt.find(rn=>rn.value===Fe);return _t?c.jsxs("div",{className:"skill-description-item",children:[c.jsxs("strong",{children:[_t.label,":"]})," ",_t.description]},Fe):null})})]}),Ke.length>0&&c.jsxs("div",{className:"form-group document-upload-container",children:[c.jsxs("label",{htmlFor:"skillEvidence",children:["Skill Evidence/Certificate * ",c.jsx("span",{className:"upload-hint",children:"(Certificate, proof of training, or other evidence)"})]}),c.jsx("div",{className:`file-upload-wrapper ${R.skillEvidence?"has-error":""}`,children:Fr?c.jsxs("div",{className:"file-preview",children:[c.jsxs("div",{className:"file-info",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",children:c.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm-1 1.5V8H19v12H5V4h8v-.5zM7 13h10v1H7v-1zm0 3h10v1H7v-1zm0-6h5v1H7v-1z"})}),c.jsx("span",{className:"file-name",children:Fr.name})]}),c.jsx("button",{type:"button",className:"remove-file-btn",onClick:()=>{Qr(null),R.skillEvidence&&W(Fe=>({...Fe,skillEvidence:void 0}))},title:"Remove file",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"20",height:"20",children:c.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})})]}):c.jsxs(c.Fragment,{children:[c.jsxs("label",{htmlFor:"skillEvidence",className:"file-upload-label",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",children:c.jsx("path",{d:"M19.35 10.04A7.49 7.49 0 0 0 12 4C9.11 4 6.6 5.64 5.35 8.04A5.994 5.994 0 0 0 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM14 13v4h-4v-4H7l5-5 5 5h-3z"})}),c.jsx("span",{children:"Upload evidence of your skills"})]}),c.jsx("input",{type:"file",id:"skillEvidence",accept:".pdf,.jpg,.jpeg,.png",onChange:ve,className:"file-input"})]})}),c.jsx("p",{className:"evidence-hint",children:"Upload a certificate, training record, or proof of experience for your primary skill."}),R.skillEvidence&&c.jsx("span",{className:"error-text",children:R.skillEvidence})]}),c.jsx("h5",{className:"mt-4",children:"Disability Information"}),c.jsx("p",{className:"disability-info",children:"As an inclusive organization, we welcome volunteers of all abilities. This information helps us provide appropriate support."}),c.jsxs("div",{className:"disability-question",children:[c.jsx("label",{children:"Do you have any disability?"}),c.jsxs("div",{className:"radio-group",children:[c.jsxs("div",{className:"radio-option",children:[c.jsx("input",{type:"radio",id:"disability-yes",name:"hasDisability",checked:yt===!0,onChange:()=>{ft(!0),R.disability&&W(Fe=>({...Fe,disability:void 0}))}}),c.jsx("label",{htmlFor:"disability-yes",children:"Yes"})]}),c.jsxs("div",{className:"radio-option",children:[c.jsx("input",{type:"radio",id:"disability-no",name:"hasDisability",checked:yt===!1,onChange:()=>{ft(!1),R.disability&&W(Fe=>({...Fe,disability:void 0}))}}),c.jsx("label",{htmlFor:"disability-no",children:"No"})]})]}),R.disability&&c.jsx("span",{className:"error-text",children:R.disability})]}),yt===!0&&c.jsxs("div",{className:"disability-types",children:[c.jsx("label",{children:"Type of disability (select all that apply):"}),c.jsx("div",{className:"disability-checkbox-grid",children:Cn.map(Fe=>c.jsxs("div",{className:"disability-checkbox",children:[c.jsx("input",{type:"checkbox",id:`disability-${Fe}`,value:Fe,checked:pt.includes(Fe),onChange:_t=>{Oe(_t),R.disability&&pt.length===0&&_t.target.checked&&W(rn=>({...rn,disability:void 0}))}}),c.jsx("label",{htmlFor:`disability-${Fe}`,children:Fe})]},Fe))}),pt.length>0&&c.jsxs("div",{className:"form-group mt-2",children:[c.jsx("label",{htmlFor:"otherDisabilityDetails",children:"Please specify details about your disability:"}),c.jsx("textarea",{id:"otherDisabilityDetails",value:ln,onChange:Bt,placeholder:"Please provide details about your disability (nature, accommodations needed, etc.)",rows:3,className:R.disabilityDetails?"error-input":""}),R.disabilityDetails&&c.jsx("span",{className:"error-text",children:R.disabilityDetails})]})]})]}),r==="sponsor"&&c.jsxs("div",{className:"form-section",children:[c.jsx("h5",{children:"Sponsor Information"}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"salaryRange",children:"Monthly Income/Salary Range *"}),c.jsxs("select",{id:"salaryRange",value:je,onChange:xn,className:R.salaryRange?"error-input":"",children:[c.jsx("option",{value:"",children:"Select income range"}),c.jsx("option",{value:"P20,000 - P30,000",children:"P20,000 - P30,000"}),c.jsx("option",{value:"P30,001 - P50,000",children:"P30,001 - P50,000"}),c.jsx("option",{value:"P50,001 - P70,000",children:"P50,001 - P70,000"}),c.jsx("option",{value:"P70,001 - P100,000",children:"P70,001 - P100,000"}),c.jsx("option",{value:"P100,001 - P150,000",children:"P100,001 - P150,000"}),c.jsx("option",{value:"P150,001 and above",children:"P150,001 and above"})]}),R.salaryRange&&c.jsx("span",{className:"error-text",children:R.salaryRange})]})]}),c.jsxs("div",{className:"terms-checkbox",children:[c.jsx("input",{type:"checkbox",id:"terms",checked:B,onChange:Ct,className:R.terms?"error-input":""}),c.jsxs("label",{htmlFor:"terms",children:["I agree with KMFI's"," ",c.jsx("span",{className:"terms-link",onClick:Ue,children:"Terms of Service"}),", Privacy Policy, and default"," ",c.jsx("span",{className:"terms-link",onClick:$e,children:"Notification Settings"}),"."]}),R.terms&&c.jsx("span",{className:"error-text",children:R.terms})]}),c.jsx("div",{className:"face-verification-section",children:c.jsx("button",{type:"button",className:`face-verify-button ${G?"verified":""}`,onClick:()=>{ee(!0),R.face&&W(Fe=>({...Fe,face:void 0}))},disabled:G,children:G?"Face Verified ":"Verify Face"})}),J&&c.jsx(k8e,{onClose:()=>ee(!1),onSuccess:Be}),c.jsx("button",{type:"submit",className:"auth-button-register",children:"Register"})]}),q&&Et(),O&&$t()]});return c.jsx("div",{className:"auth-container full-screen",children:c.jsxs("div",{className:"auth-inner-container-register",children:[c.jsx("div",{className:"back-button",onClick:Xe,children:c.jsx("svg",{viewBox:"0 0 24 24",fill:"#242424",children:c.jsx("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"})})}),c.jsx(pb,{mode:"wait",children:c.jsx(gd.div,{initial:"initial",animate:"in",exit:"out",variants:ke,transition:De,style:{width:"100%"},children:t==="role"?ut():c.jsxs(c.Fragment,{children:[gs(),c.jsxs("p",{className:"auth-account-link",children:["Already have an account? ",c.jsx($s,{to:"/login",children:"Sign In"})]})]})},t)}),c.jsx(pb,{children:D&&he()})]})})},T8e="/assets/coverphoto.B1MNh3sZpng",P8e="/assets/donatepicture.BvAuFE22png",A8e="/assets/volunteer.C7fo8GTWsvg",D8e="/assets/partnerwithus.DpRKKmQRsvg",O8e=[{value:"Piece",label:"Piece(s)"},{value:"Pack",label:"Pack(s)"},{value:"Box",label:"Box(es)"},{value:"Kilogram",label:"Kilogram(s)"},{value:"Liter",label:"Liter(s)"},{value:"Dozen",label:"Dozen(s)"},{value:"Set",label:"Set(s)"}],QV=["Food & Nutrition","Medical Supplies & Medicines"],Zy=[{country:"Philippines",code:"+63",format:"+63 XXX XXX XXXX",regex:"^(\\+?63|0)[0-9]{10}$",placeholder:"9XX XXX XXXX"},{country:"United States",code:"+1",format:"+1 (XXX) XXX-XXXX",regex:"^\\+?1\\s?\\(?\\d{3}\\)?[-\\s]?\\d{3}[-\\s]?\\d{4}$",placeholder:"(XXX) XXX-XXXX"},{country:"United Kingdom",code:"+44",format:"+44 XXXX XXXXXX",regex:"^\\+?44[0-9]{10}$",placeholder:"XXXX XXXXXX"},{country:"Australia",code:"+61",format:"+61 XXX XXX XXX",regex:"^\\+?61[0-9]{9}$",placeholder:"XXX XXX XXX"},{country:"Singapore",code:"+65",format:"+65 XXXX XXXX",regex:"^\\+?65[0-9]{8}$",placeholder:"XXXX XXXX"}],M8e=()=>{const{user:e}=Fk(),[t,n]=Mxe(),r=t.get("tab")||"partner",[a,i]=E.useState(r),[o,s]=E.useState("fade-in"),[l,u]=E.useState("one-time"),[d,f]=E.useState(""),[h,p]=E.useState("gcash"),[m,g]=E.useState([]),[y,x]=E.useState("Piece"),[b,w]=E.useState(null),[_,S]=E.useState(null),[k,N]=E.useState({fullName:"",email:"",contactNumber:"",item:"",amount:0,quantity:0,category:"",frequency:"monthly",expirationDate:"",message:"",selectedCountry:"Philippines"});E.useEffect(()=>{i(r)},[r]),E.useEffect(()=>{e&&N(q=>({...q,fullName:e.name||"",email:e.email||"",contactNumber:e.phone||"",selectedCountry:"Philippines"}))},[e]);const P=q=>{q!==a&&(s("fade-out"),setTimeout(()=>{i(q),s("fade-in"),n({tab:q})},300))},T=()=>{const q=/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,6}$/;if(!k.email)return"Email is required";if(!q.test(k.email))return"Please enter a valid email address (e.g., example@domain.com)";const I=Zy.find(ne=>ne.country===k.selectedCountry);if(!I)return"Invalid country selection";const O=new RegExp(I.regex);if(!k.contactNumber)return"Contact number is required";const H=k.contactNumber.replace(/[\s-]/g,"");return O.test(H)?!k.fullName||k.fullName.trim().length<2?"Full name is required and must be at least 2 characters":null:`Please enter a valid ${k.selectedCountry} phone number format: ${I.format}`},j=()=>{var q;if(l==="regular"||l==="in-kind"){if(!k.item||k.item.trim().length<2)return"Item name is required and must be at least 2 characters";if(!k.category)return"Please select a category";const I=parseInt(((q=k.quantity)==null?void 0:q.toString())||"0");if(!I||I<=0||!Number.isInteger(I))return"Quantity must be a positive integer";if(QV.includes(k.category||"")){if(!k.expirationDate)return"Expiration date is required for food and medical items";const O=new Date;if(O.setHours(0,0,0,0),new Date(k.expirationDate)<=O)return"Expiration date must be in the future"}}return null},D=()=>{var H;const q=T();if(q){alert(q);return}const I=j();if(I){alert(I);return}b||w({fullName:k.fullName||"",email:k.email||"",contactNumber:k.contactNumber||""});const O={id:Date.now().toString(),itemName:k.item||"",quantity:parseInt(((H=k.quantity)==null?void 0:H.toString())||"0"),unit:y,category:k.category||"",type:l,...l==="regular"&&{frequency:k.frequency},...k.expirationDate&&{expirationDate:k.expirationDate}};g(ne=>[...ne,O]),N(ne=>({...ne,fullName:ne.fullName,email:ne.email,contactNumber:ne.contactNumber,item:"",amount:0,quantity:0,category:"",frequency:"monthly",expirationDate:"",message:"",selectedCountry:ne.selectedCountry})),x("Piece"),alert("Item added to cart!")},M=async q=>{q.preventDefault();const I=T();if(I){alert(I);return}try{if(l==="one-time"){if(!k.amount||k.amount<=0){alert("Please enter a valid donation amount");return}const O=new FormData;O.append("fullName",k.fullName||""),O.append("email",k.email||""),O.append("contactNumber",k.contactNumber||""),O.append("amount",k.amount.toString()),O.append("message",k.message||""),O.append("paymentMethod",h),k.proofOfPayment&&O.append("proofOfPayment",k.proofOfPayment),await Le.post("/donations/monetary",O,{headers:{"Content-Type":"multipart/form-data"}}),alert("One-time donation submitted successfully!"),N({fullName:"",email:"",contactNumber:"",item:"",amount:0,quantity:0,category:"",frequency:"monthly",expirationDate:"",message:"",selectedCountry:"Philippines"}),p("gcash"),f("")}else if(l==="regular"||l==="in-kind"){if(m.length===0){alert("Please add at least one item to cart before submitting");return}const O={donatorName:k.fullName,email:k.email,contactNumber:k.contactNumber||""},H=[];for(const ne of m){const z={...O,item:ne.itemName,quantity:ne.quantity,unit:ne.unit,category:ne.category,type:ne.type,expirationDate:ne.expirationDate,...ne.frequency&&{frequency:ne.frequency}},J=ne.type==="regular"?"/inventory/regular":"/inventory/inkind";await Le.post(J,z),H.push(ne)}await Le.post("/notifications/donation-submission",{email:k.email,donorName:k.fullName,items:H,submissionDate:new Date}),alert("All donations submitted successfully!"),N({fullName:"",email:"",contactNumber:"",item:"",amount:0,quantity:0,category:"",frequency:"monthly",expirationDate:"",message:"",selectedCountry:"Philippines"}),g([]),w(null),x("Piece"),u("one-time")}}catch(O){console.error("Error submitting donation:",O),alert("Error submitting donation. Please try again.")}},R=q=>{const I=q.target.value;(I===""||Number(I)>=0)&&N(O=>({...O,amount:I===""?void 0:Number(I)}))},W=q=>{S(_===q?null:q)},B=()=>{var q,I;return c.jsxs("form",{className:"donation-form",onSubmit:M,children:[c.jsxs("div",{className:"form-main-fields",children:[c.jsxs("div",{className:"form-groupss",children:[c.jsx("label",{children:"Full Name:"}),c.jsx("input",{name:"fullName",type:"text",required:!0,placeholder:"Enter your full name",onChange:O=>N(H=>({...H,fullName:O.target.value})),value:k.fullName||""})]}),c.jsxs("div",{className:"form-groupss",children:[c.jsx("label",{children:"Email:"}),c.jsx("input",{name:"email",type:"email",required:!0,placeholder:"Enter your email",onChange:O=>N(H=>({...H,email:O.target.value})),value:k.email||""}),c.jsx("small",{className:"email-caution",children:"Use a valid email address to receive feedback about your donation"})]}),c.jsxs("div",{className:"form-groupss contact-number-group",children:[c.jsx("label",{children:"Contact Number:"}),c.jsxs("div",{className:"contact-number-input",children:[c.jsx("select",{value:k.selectedCountry,onChange:O=>N(H=>({...H,selectedCountry:O.target.value,contactNumber:""})),className:"country-select",children:Zy.map(O=>c.jsxs("option",{value:O.country,children:[O.country," (",O.code,")"]},O.code))}),c.jsx("input",{name:"contactNumber",type:"tel",required:!0,placeholder:(q=Zy.find(O=>O.country===k.selectedCountry))==null?void 0:q.placeholder,onChange:O=>{let H=O.target.value.replace(/\D/g,"");if(Zy.find(z=>z.country===k.selectedCountry))switch(k.selectedCountry){case"Philippines":H.startsWith("0")&&(H=H.substring(1)),H.startsWith("63")||(H="63"+H),H.length>12&&(H=H.slice(0,12));break;case"United States":H.length>10&&(H=H.slice(0,10)),H.length>=6&&(H=`(${H.slice(0,3)}) ${H.slice(3,6)}-${H.slice(6)}`);break}N(z=>({...z,contactNumber:H}))},value:k.contactNumber||"",className:"phone-input"})]}),c.jsxs("small",{className:"format-hint",children:[c.jsx("i",{className:"fas fa-info-circle"}),"Format: ",(I=Zy.find(O=>O.country===k.selectedCountry))==null?void 0:I.format]})]}),c.jsxs("div",{className:"form-groupss",style:{gridColumn:"1 / -1"},children:[c.jsx("label",{children:"Donation Type:"}),c.jsxs("select",{required:!0,value:l,onChange:O=>{const H=O.target.value;u(H),H==="one-time"&&m.length>0&&g([])},children:[c.jsx("option",{value:"one-time",children:"One-time Donation"}),c.jsx("option",{value:"regular",children:"Regular Donation"}),c.jsx("option",{value:"in-kind",children:"In-kind Donation"})]})]}),l==="one-time"&&c.jsxs("div",{className:"form-groupss",children:[c.jsx("label",{children:"Donation Amount:"}),c.jsx("div",{className:"form-row",children:c.jsxs("div",{className:"half-width",children:[c.jsx("input",{type:"number",name:"amount",required:!0,min:"1",placeholder:"Enter donation amount",onChange:R,value:k.amount||""}),c.jsx("small",{children:"Enter amount in PHP"})]})})]}),(l==="in-kind"||l==="regular")&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"form-groupss",children:[c.jsx("label",{children:"Item Name:"}),c.jsx("input",{name:"item",type:"text",required:!0,placeholder:"Enter item name",onChange:O=>N(H=>({...H,item:O.target.value})),value:k.item||""})]}),c.jsxs("div",{className:"form-groupss",children:[c.jsx("label",{children:"Category:"}),c.jsxs("select",{name:"category",required:!0,value:k.category||"",onChange:O=>N(H=>({...H,category:O.target.value})),children:[c.jsx("option",{value:"",children:"Select a category"}),c.jsx("option",{value:"Food & Nutrition",children:"Food & Nutrition"}),c.jsx("option",{value:"Clothing & Footwear",children:"Clothing & Footwear"}),c.jsx("option",{value:"Medical Supplies & Medicines",children:"Medical Supplies & Medicines"}),c.jsx("option",{value:"School Supplies & Educational Materials",children:"School Supplies & Educational Materials"}),c.jsx("option",{value:"Disaster Relief Essentials",children:"Disaster Relief Essentials"}),c.jsx("option",{value:"Household & Hygiene Products",children:"Household & Hygiene Products"}),c.jsx("option",{value:"Technology & Learning Tools",children:"Technology & Learning Tools"}),c.jsx("option",{value:"Others",children:"Others"})]})]})]}),(l==="regular"||l==="in-kind")&&k.category&&QV.includes(k.category)&&c.jsxs("div",{className:"form-groupss",children:[c.jsx("label",{children:"Expiration Date:"}),c.jsx("input",{type:"date",name:"expirationDate",required:!0,min:new Date().toISOString().split("T")[0],value:k.expirationDate||"",onChange:O=>N(H=>({...H,expirationDate:O.target.value})),className:"form-control"}),c.jsx("small",{children:"Required for food and medical items"})]}),(l==="in-kind"||l==="regular")&&c.jsxs("div",{className:"form-groupss quantity-unit-container",children:[c.jsx("label",{children:"Quantity:"}),c.jsxs("div",{className:"quantity-input-group",children:[c.jsx("input",{type:"number",required:!0,min:"1",placeholder:"Enter quantity",className:"quantity-input",name:"itemQuantity",onChange:O=>N(H=>({...H,quantity:Number(O.target.value)})),value:k.quantity||""}),c.jsx("select",{value:y,onChange:O=>x(O.target.value),className:"unit-select",children:O8e.map(O=>c.jsx("option",{value:O.value,children:O.label},O.value))}),l==="regular"&&c.jsxs("select",{name:"frequency",required:!0,className:"frequency-select",value:k.frequency||"monthly",onChange:O=>N(H=>({...H,frequency:O.target.value})),children:[c.jsx("option",{value:"monthly",children:"Monthly"}),c.jsx("option",{value:"quarterly",children:"Quarterly"}),c.jsx("option",{value:"annually",children:"Annually"})]})]}),c.jsx("button",{type:"button",onClick:D,className:"add-to-cart-btn",children:"Add to Cart"})]}),m.length>0&&c.jsxs("div",{className:"cart-summary",children:[c.jsx("h3",{children:"Donation Cart"}),m.map(O=>c.jsxs("div",{className:"cart-item",children:[c.jsxs("div",{className:"cart-item-details",children:[c.jsx("span",{className:"item-name",children:O.itemName}),c.jsxs("span",{className:"item-quantity",children:[O.quantity," ",O.unit,"(s)"]}),O.frequency&&c.jsxs("span",{className:"item-frequency",children:["Frequency: ",O.frequency]}),c.jsx("span",{className:"item-category",children:O.category})]}),c.jsx("button",{type:"button",onClick:()=>g(H=>H.filter(ne=>ne.id!==O.id)),className:"remove-item-btn",children:"Remove"})]},O.id)),c.jsxs("div",{className:"cart-actions",children:[l==="regular"&&c.jsx("button",{type:"button",className:"add-donation-btn",onClick:()=>{const O=document.querySelector(".donation-form"),H=new Event("submit",{bubbles:!0,cancelable:!0});O.dispatchEvent(H)},children:"Submit Donation"}),l==="in-kind"&&c.jsx("button",{type:"button",className:"add-donation-btn",onClick:()=>{const O=document.querySelector(".donation-form"),H=new Event("submit",{bubbles:!0,cancelable:!0});O.dispatchEvent(H)},children:"Submit Donation"})]})]}),l==="one-time"&&c.jsxs("div",{className:"form-groupss",children:[c.jsx("label",{children:"Payment Method:"}),c.jsxs("div",{className:"payment-method-tabs",children:[c.jsx("div",{className:`payment-tab payment-tab-gcash ${h==="gcash"?"active":""}`,onClick:()=>{p("gcash"),f(""),N(O=>({...O,proofOfPayment:void 0}))},children:"GCash"}),c.jsx("div",{className:`payment-tab payment-tab-bank ${h==="bank"?"active":""}`,onClick:()=>{p("bank"),f(""),N(O=>({...O,proofOfPayment:void 0}))},children:"Bank Transfer"})]}),c.jsxs("div",{className:"payment-detailss",children:[h==="gcash"&&c.jsxs("div",{className:"gcash-details",children:[c.jsx("h4",{children:"GCash Information"}),c.jsxs("p",{children:[c.jsx("strong",{children:"Account Name:"})," KM Foundation"]}),c.jsxs("p",{children:[c.jsx("strong",{children:"GCash Number:"})," +63-939-3031-767"]}),c.jsx("p",{children:"Please send your donation to the GCash account above and upload your screenshot as proof of payment."})]}),h==="bank"&&c.jsxs("div",{className:"bank-details",children:[c.jsx("h4",{children:"Bank Information"}),c.jsxs("p",{children:[c.jsx("strong",{children:"Bank Name:"})," BDO"]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Account Name:"})," KM Foundation"]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Account Number:"})," 5125-7178-1234-5678"]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Branch:"})," Main Branch"]}),c.jsx("p",{children:"Please transfer your donation to the bank account above and upload your receipt as proof of payment."})]})]})]}),l==="one-time"&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"form-groupss",style:{gridColumn:"1 / -1"},children:[c.jsx("label",{children:"Proof of Donation (Optional):"}),c.jsx("div",{className:`file-input-container ${d?"has-file":""}`,"data-file-name":d||"Choose File",children:c.jsx("input",{type:"file",name:"proofOfDonation",accept:"image/*",onChange:O=>{var ne;const H=(ne=O.target.files)==null?void 0:ne[0];H?H.size>5*1024*1024?(alert("File size should be less than 5MB"),O.target.value="",f(""),N(z=>({...z,proofOfPayment:void 0}))):(f(H.name),N(z=>({...z,proofOfPayment:H}))):(f(""),N(z=>({...z,proofOfPayment:void 0})))}})}),c.jsx("small",{children:"Supported formats: JPG, PNG. Max size: 5MB"})]}),c.jsxs("div",{className:"form-groupss",children:[c.jsx("label",{children:"Message (Optional):"}),c.jsx("textarea",{name:"message",placeholder:"Enter your message or special instructions",rows:4,onChange:O=>N(H=>({...H,message:O.target.value})),value:k.message||""})]})]})]}),(l==="one-time"||m.length===0)&&c.jsx("button",{type:"submit",className:"submit-button",children:"Submit Donation Form"})]})},V=()=>{switch(a){case"partner":return c.jsx("div",{className:`tab-content ${o}`,children:c.jsxs("div",{className:"partner-section",children:[c.jsxs("div",{className:"partner-content",children:[c.jsx("h1",{children:"Partner with Us"}),c.jsx("p",{children:"We welcome collaborations with organizations, corporations, and individuals who share our vision of empowering underprivileged communities through education and support."}),c.jsx("p",{children:"We offer flexible partnership options tailored to suit your specific goals and preferences. Whether youre looking to sponsor a student, organize a fundraising event, or initiate a corporate giving program, were here to work with you every step of the way."}),c.jsx("p",{children:"Together, we can create positive change and build a brighter future for those in need. Partner with us today and be a part of something truly impactful."})]}),c.jsx("img",{src:D8e,alt:"Partner with Us",className:"partner-icon"})]})});case"sponsor":return c.jsx("div",{className:`tab-content ${o}`,children:c.jsxs("div",{className:"page-container",children:[c.jsx("div",{className:"sponsor-container",children:c.jsxs("div",{className:"sponsor-text",children:[c.jsx("h1",{children:"Sponsor a Student"}),c.jsx("p",{children:"By sponsoring one of the following students, you will give them the opportunity to get an education so they can escape the cycle of poverty. Your contribution pays for their transportation to school, uniforms, books, tuition, and other school-related expenses."}),c.jsx("p",{children:"Once youve chosen the student you would like to sponsor, we will send you a more detailed student profile. At that point, we will start your student sponsorship based on a donation of:"})]})}),c.jsxs("div",{className:"shape-container",children:[c.jsxs("div",{className:"shape",children:[c.jsx("h1",{children:"PHP 12,000 / School year"}),c.jsx("h1",{children:"for k - Grade 6 Students"})]}),c.jsxs("div",{className:"shape",children:[c.jsx("h1",{children:"PHP 12,000 / School year"}),c.jsx("h1",{children:"for k - Grade 6 Students"})]}),c.jsxs("div",{className:"shape",children:[c.jsx("h1",{children:"PHP 12,000 / School year"}),c.jsx("h1",{children:"for k - Grade 6 Students"})]}),c.jsxs("div",{className:"shape",children:[c.jsx("h1",{children:"PHP 12,000 / School year"}),c.jsx("h1",{children:"for k - Grade 6 Students"})]})]}),c.jsx("div",{className:"sponsorp-text",children:c.jsx("p",{children:"You may either set up a recurring monthly donation, or you may make a one-time payment for an annual sponsorship. If you choose an annual sponsorship, we will send you a renewal request when its about to expire. Our hope is that, like almost all of our sponsors, you will opt to continue helping your student. Your commitment means the world to these children and, in turn, they will strive to honor your participation in their education."})})]})});case"donate":return c.jsxs("div",{className:`tab-content ${o}`,children:[c.jsxs("div",{className:"donate-container",children:[c.jsxs("div",{className:"donate-text",children:[c.jsx("h1",{className:"donate-text",children:"Donate"}),c.jsx("p",{children:"By making a donation to KM Foundation, you can support our various programs and initiatives aimed at uplifting underprivileged communities. Whether you choose to make a one-time donation, a regular contribution, or an in-kind donation, your generosity will make a meaningful difference in the lives of those in need."}),c.jsxs("ul",{children:[c.jsxs("li",{children:[c.jsx("b",{children:"One-time Donation:"}),c.jsxs("ul",{children:[c.jsx("li",{children:"Housing Assistance/Repair"}),c.jsx("li",{children:"Recreational Activities of Children (Educational Tour)"}),c.jsx("li",{children:"Scholarship Assistance"}),c.jsx("li",{children:"General/Administrative Fund of the Foundation"})]})]}),c.jsxs("li",{children:[c.jsx("b",{children:"Regular Donation:"}),c.jsx("ul",{children:c.jsx("li",{children:"Feeding Programs"})})]}),c.jsxs("li",{children:[c.jsx("b",{children:"In-kind Donation:"}),c.jsx("ul",{children:c.jsx("li",{children:"Contribute by donating essential items such as food, clothing, medicines, and more. Your thoughtful donations can make a meaningful impact on the lives of those in need."})})]})]})]}),c.jsx("div",{className:"donate-picture",children:c.jsx("img",{src:P8e,alt:"Donate"})})]}),c.jsxs("div",{className:"donation-form-container",children:[c.jsx("h2",{children:"Donation Form"}),B(),c.jsx("div",{className:"donation-note",children:c.jsxs("p",{children:[c.jsx("strong",{children:"Note:"})," After submitting this form, our team will contact you with further instructions for completing your donation."]})})]})]});case"volunteer":return c.jsx("div",{className:`tab-content ${o}`,children:c.jsxs("div",{className:"volunteer-container",children:[c.jsxs("div",{className:"volunteer-text",children:[c.jsx("h1",{className:"volunteer-text",children:"Become a Volunteer"}),c.jsx("p",{children:"Volunteering is a rewarding opportunity to make a positive impact in the lives of others while contributing to meaningful projects and initiatives. Whether you're passionate about education, the arts, digital media, or community engagement, there are various ways you can get involved and lend your skills and expertise to support our mission."}),c.jsx("p",{children:"These volunteer activities are just a few examples of how you can get involved and contribute your time and talents to support our organization's mission. We welcome individuals with diverse skills, backgrounds, and interests to join us in creating positive change and empowering communities in need. If you're interested in volunteering with us or learning more about our volunteer opportunities, please contact us for further information."})]}),c.jsx("div",{className:"volunteer-picture",children:c.jsx("img",{src:A8e,alt:"Volunteer"})})]})});case"faq":return c.jsx("div",{className:`tab-content ${o}`,children:c.jsxs("div",{className:"faq-section minimal",children:[c.jsx("h2",{children:"Frequently Asked Questions"}),c.jsxs("div",{className:"faq-category",children:[c.jsx("h3",{children:"About Donations"}),c.jsxs("div",{id:"safe-online-donation",className:"faq-item",children:[c.jsxs("div",{className:`faq-question ${_==="faq-1"?"active":""}`,onClick:()=>W("faq-1"),children:[c.jsx("h4",{children:"How can I donate safely online?"}),_==="faq-1"?c.jsx(rf,{}):c.jsx(zc,{})]}),_==="faq-1"&&c.jsxs("div",{className:"faq-answer fixed-width",children:[c.jsx("p",{children:"To donate safely online with KKMK Foundation:"}),c.jsxs("ol",{children:[c.jsx("li",{children:"Always verify you're on our official website (look for https:// in the URL)"}),c.jsx("li",{children:"Use secure payment methods like credit cards or trusted platforms (GCash, Bank Transfer)"}),c.jsx("li",{children:"Check for security certifications on our payment pages"}),c.jsx("li",{children:"Keep receipts and confirmation emails for your records"}),c.jsx("li",{children:"Never share banking details via email or text"}),c.jsx("li",{children:"Look for acknowledgment of your donation within a reasonable timeframe"})]}),c.jsx("p",{children:"If you have any concerns about donation safety, contact our team directly through our official channels."})]})]}),c.jsxs("div",{className:"faq-item",children:[c.jsxs("div",{className:`faq-question ${_==="faq-2"?"active":""}`,onClick:()=>W("faq-2"),children:[c.jsx("h4",{children:"Is my donation tax-deductible?"}),_==="faq-2"?c.jsx(rf,{}):c.jsx(zc,{})]}),_==="faq-2"&&c.jsxs("div",{className:"faq-answer fixed-width",children:[c.jsx("p",{children:"Yes, KKMK Foundation is a registered non-profit organization, and donations are typically tax-deductible. We provide official receipts for all donations that can be used for tax purposes. The specific tax benefits may vary depending on your country's regulations."}),c.jsx("p",{children:"For Philippine donors: We are registered with the BIR and can provide BIR Form 2322 for tax deductibility purposes."})]})]}),c.jsxs("div",{className:"faq-item",children:[c.jsxs("div",{className:`faq-question ${_==="faq-3"?"active":""}`,onClick:()=>W("faq-3"),children:[c.jsx("h4",{children:"How is my donation used?"}),_==="faq-3"?c.jsx(rf,{}):c.jsx(zc,{})]}),_==="faq-3"&&c.jsxs("div",{className:"faq-answer fixed-width",children:[c.jsx("p",{children:"Your donations directly support our programs focused on education, poverty alleviation, and community development. Specifically:"}),c.jsxs("ul",{children:[c.jsx("li",{children:"85% goes directly to program services (student scholarships, community programs, etc.)"}),c.jsx("li",{children:"10% covers administrative costs (staff, facilities, etc.)"}),c.jsx("li",{children:"5% is allocated to fundraising efforts to ensure sustainability"})]}),c.jsx("p",{children:"We publish annual reports detailing how funds are utilized, which you can find in the Transparency section of our website."})]})]})]}),c.jsxs("div",{className:"faq-category",children:[c.jsx("h3",{children:"Ways to Help"}),c.jsxs("div",{id:"ways-to-help",className:"faq-item",children:[c.jsxs("div",{className:`faq-question ${_==="faq-4"?"active":""}`,onClick:()=>W("faq-4"),children:[c.jsx("h4",{children:"What are other ways I can help beyond donating money?"}),_==="faq-4"?c.jsx(rf,{}):c.jsx(zc,{})]}),_==="faq-4"&&c.jsxs("div",{className:"faq-answer fixed-width",children:[c.jsx("p",{children:"There are many ways to support our mission beyond financial contributions:"}),c.jsxs("ul",{children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Volunteer your time:"})," Depending on your skills, you can help with teaching, mentoring, event organizing, or administrative tasks"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Donate in-kind goods:"})," School supplies, books, computers, clothing, food items, and other essentials"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Fundraise:"})," Organize a fundraising event or campaign in your community or workplace"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Spread awareness:"})," Share our work on social media, tell friends and family about our mission"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Offer professional services:"})," If you're a professional (doctor, lawyer, accountant, etc.), consider offering pro bono services"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Corporate partnerships:"})," Suggest your company partner with us through CSR initiatives or matching gift programs"]})]}),c.jsx("p",{children:"Visit our Volunteer page to learn more about specific opportunities currently available."})]})]}),c.jsxs("div",{className:"faq-item",children:[c.jsxs("div",{className:`faq-question ${_==="faq-5"?"active":""}`,onClick:()=>W("faq-5"),children:[c.jsx("h4",{children:"Can I sponsor a specific child or project?"}),_==="faq-5"?c.jsx(rf,{}):c.jsx(zc,{})]}),_==="faq-5"&&c.jsxs("div",{className:"faq-answer fixed-width",children:[c.jsx("p",{children:"Yes! Our Student Sponsorship Program allows you to directly support a specific child's education. For PHP 12,000 per school year, you can provide:"}),c.jsxs("ul",{children:[c.jsx("li",{children:"School tuition and fees"}),c.jsx("li",{children:"School supplies and books"}),c.jsx("li",{children:"Uniforms and shoes"}),c.jsx("li",{children:"Transportation assistance"})]}),c.jsx("p",{children:"Sponsors receive regular updates about their student's progress, including photos, letters, and academic performance."}),c.jsx("p",{children:"For project-specific sponsorship, please contact our partnerships team to discuss available opportunities for community initiatives, infrastructure projects, or program development."})]})]})]}),c.jsxs("div",{className:"faq-category",children:[c.jsx("h3",{children:"About Our Programs"}),c.jsxs("div",{className:"faq-item",children:[c.jsxs("div",{className:`faq-question ${_==="faq-6"?"active":""}`,onClick:()=>W("faq-6"),children:[c.jsx("h4",{children:"What communities does KKMK Foundation serve?"}),_==="faq-6"?c.jsx(rf,{}):c.jsx(zc,{})]}),_==="faq-6"&&c.jsxs("div",{className:"faq-answer fixed-width",children:[c.jsx("p",{children:"KKMK Foundation primarily serves underprivileged communities in the Philippines, with a focus on:"}),c.jsxs("ul",{children:[c.jsx("li",{children:"Urban poor communities in Metro Manila"}),c.jsx("li",{children:"Indigenous communities in remote areas"}),c.jsx("li",{children:"Disaster-affected regions"})]}),c.jsx("p",{children:"Our programs specifically target children and families living below the poverty line, with particular attention to those who lack access to quality education and basic necessities."})]})]}),c.jsxs("div",{className:"faq-item",children:[c.jsxs("div",{className:`faq-question ${_==="faq-7"?"active":""}`,onClick:()=>W("faq-7"),children:[c.jsx("h4",{children:"How can I apply for assistance from KKMK Foundation?"}),_==="faq-7"?c.jsx(rf,{}):c.jsx(zc,{})]}),_==="faq-7"&&c.jsxs("div",{className:"faq-answer fixed-width",children:[c.jsx("p",{children:"If you or someone you know needs assistance from our foundation:"}),c.jsxs("ol",{children:[c.jsx("li",{children:"Visit our main office or contact us through our official channels"}),c.jsx("li",{children:"Complete an assistance application form (available online or at our office)"}),c.jsx("li",{children:"Submit required documentation (varies by program)"}),c.jsx("li",{children:"Wait for assessment by our social workers"})]}),c.jsx("p",{children:"Our team evaluates applications based on need and program availability. Please note that we may have limited resources and waiting periods for certain programs."})]})]})]}),c.jsxs("div",{className:"faq-category",children:[c.jsx("h3",{children:"Volunteering"}),c.jsxs("div",{className:"faq-item",children:[c.jsxs("div",{className:`faq-question ${_==="faq-8"?"active":""}`,onClick:()=>W("faq-8"),children:[c.jsx("h4",{children:"What volunteer opportunities are available?"}),_==="faq-8"?c.jsx(rf,{}):c.jsx(zc,{})]}),_==="faq-8"&&c.jsxs("div",{className:"faq-answer fixed-width",children:[c.jsx("p",{children:"We offer various volunteer opportunities based on your skills, interests, and availability:"}),c.jsxs("ul",{children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Education volunteers:"})," Tutoring, teaching, curriculum development"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Event volunteers:"})," Helping with fundraisers, community outreach events"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Administrative volunteers:"})," Office assistance, data entry, documentation"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Creative volunteers:"})," Graphic design, photography, content creation"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Professional volunteers:"})," Medical, legal, accounting, counseling services"]})]}),c.jsx("p",{children:"Volunteers can commit to regular schedules or one-time events. Visit our Volunteer page to see current opportunities and application process."})]})]})]})]})});default:return null}};return c.jsxs("div",{className:"home-container",children:[c.jsx("img",{src:T8e,className:"banner-image"}),c.jsx("div",{className:"page-container",children:c.jsxs("div",{className:"help-tabs",children:[c.jsxs("div",{className:"tabs-header",children:[c.jsx("button",{className:`tab-button ${a==="partner"?"active":""}`,onClick:()=>P("partner"),children:"PARTNER WITH US"}),c.jsx("button",{className:`tab-button ${a==="sponsor"?"active":""}`,onClick:()=>P("sponsor"),children:"SPONSOR A STUDENT"}),c.jsx("button",{className:`tab-button ${a==="donate"?"active":""}`,onClick:()=>P("donate"),children:"DONATE"}),c.jsx("button",{className:`tab-button ${a==="volunteer"?"active":""}`,onClick:()=>P("volunteer"),children:"VOLUNTEER"}),c.jsx("button",{className:`tab-button ${a==="faq"?"active":""}`,onClick:()=>P("faq"),children:"FAQ"})]}),c.jsx("div",{className:"tabs-content",children:V()})]})})]})},I8e="/assets/life.CJPoUD3apng",L4="/images/default-avatar.jpg",R8e=({children:e,value:t,index:n})=>c.jsx("div",{role:"tabpanel",hidden:t!==n,id:`tabpanel-${n}`,"aria-labelledby":`tab-${n}`,className:"tab-panel",style:{display:t===n?"block":"none"},children:e}),F8e=()=>{const[e,t]=E.useState(0),[n,r]=E.useState(!1),[a,i]=E.useState(!1),[o,s]=E.useState(null),[l,u]=E.useState({bannerImage:I8e,headerText:"Welcome to the heart of KM Foundation",description:"where every individual  staff, sponsored students, and sponsors  plays a vital role...",tabs:["All","Educating the Young","Health and Nutrition","Special Programs"],galleryImages:[]}),[d,f]=E.useState(0),[h,p]=E.useState(1),m=E.useRef(null),[g,y]=E.useState(0),x=N=>N?N.startsWith("data:")||N.startsWith("http")?N:N.startsWith("/uploads")?`https://kmfi.netlify.app/${N}`:N:L4;E.useEffect(()=>{(async()=>{var P;try{const T=await Le.get("/content/life");if((P=T.data)!=null&&P.content){const j=T.data.content;u(D=>{var M;return{bannerImage:j.bannerImage?x(j.bannerImage):D.bannerImage,headerText:j.headerText||D.headerText,description:j.description||D.description,tabs:j.tabs||D.tabs,galleryImages:((M=j.galleryImages)==null?void 0:M.map(R=>({...R,src:R.src?x(R.src):""})))||[]}})}}catch(T){console.error("Failed to load content:",T)}})()},[]);const b=N=>{N!==e&&(t(N),f(P=>P+1))},w=E.useCallback(N=>{const P=window.scrollY;document.documentElement.style.setProperty("--scroll-y",`${P}px`),s(N),r(!0),p(1)},[]),_=E.useCallback(()=>{i(!0),setTimeout(()=>{r(!1),i(!1),s(null),p(1)},300)},[]),S=N=>{const P=new Date().getTime();P-g<300&&(h>1?p(1):p(2.5)),y(P)},k=N=>{N.preventDefault(),N.deltaY<0?p(P=>Math.min(P+.2,4)):p(P=>Math.max(P-.2,1))};return E.useEffect(()=>{const N=P=>{n&&P.key==="Escape"&&_()};return window.addEventListener("keydown",N),()=>window.removeEventListener("keydown",N)},[n,_]),c.jsxs("div",{className:"home-container",children:[c.jsxs("div",{className:"life-banner-container",children:[c.jsx("img",{src:l.bannerImage,alt:"Banner",className:"life-image"}),c.jsxs("div",{className:"life-text-overlay",children:[c.jsx("h1",{children:l.headerText}),c.jsx("p",{className:"lifetext",children:l.description})]})]}),c.jsxs("div",{className:"app-container",children:[c.jsx("div",{className:"tabs",children:l.tabs.map((N,P)=>c.jsx("button",{className:`tab-button ${e===P?"active":""}`,onClick:()=>b(P),children:N},P))}),l.tabs.map((N,P)=>c.jsx(R8e,{value:e,index:P,children:c.jsx("div",{className:"image-grid",children:l.galleryImages.filter(T=>N==="All"||T.tags.includes(N)).map((T,j)=>c.jsxs("div",{className:"image-wrapper",onClick:()=>w(T),children:[c.jsx("img",{src:x(T.src),alt:T.title||"Gallery image",className:"gallery-image",onError:D=>{D.target.src=L4}}),c.jsxs("div",{className:"image-info",children:[c.jsx("h3",{children:T.title||"Untitled"}),c.jsx("p",{children:T.description||"No description available."}),c.jsx("div",{className:"tags",children:T.tags.map((D,M)=>c.jsx("span",{className:"tag",children:D},M))})]})]},j))})},`tab-panel-${P}-${d}`))]}),n&&o&&c.jsx("div",{className:`life-modal-overlay ${a?"life-modal-closing":"life-modal-opening"}`,onClick:_,children:c.jsxs("div",{className:`life-modal-box ${a?"life-modal-box-closing":"life-modal-box-opening"}`,onClick:N=>N.stopPropagation(),children:[c.jsx("span",{className:"life-modal-close",onClick:_,children:""}),c.jsxs("div",{className:"life-modal-content",children:[c.jsx("div",{className:"life-modal-image-hint",children:"Double-click to zoom"}),c.jsx("div",{className:"life-modal-image-container",ref:m,onClick:S,onWheel:k,style:{cursor:"pointer"},children:c.jsx("div",{className:"life-modal-image-wrapper",style:{transform:`scale(${h})`,transition:"transform 0.2s ease"},children:c.jsx("img",{src:x(o.src),alt:o.title||"Gallery image",className:"life-modal-image",draggable:"false",onError:N=>{N.target.src=L4}})})}),c.jsxs("div",{className:"life-modal-text",children:[c.jsx("h2",{className:"life-modal-title",children:o.title||"Untitled"}),c.jsx("p",{className:"life-modal-description",children:o.description||"No description available."}),c.jsx("div",{className:"life-modal-tags",children:o.tags.map((N,P)=>c.jsx("span",{className:"tag",children:N},P))})]})]})]})})]})},qse="/assets/coverphoto1.CL91sXwwpng",L8e=()=>{const[e,t]=E.useState(!1),[n,r]=E.useState(null),[a,i]=E.useState({bannerImage:qse,headerText:"Our Community",subText:"The KM Foundation's community initiatives aim to empower and support Payatas residents...",testimonials:[]}),o=u=>u?u.startsWith("data:")||u.startsWith("http")?u:u.startsWith("/uploads")?`https://kmfi.netlify.app/${u}`:u:"";E.useEffect(()=>{(async()=>{var d;try{const f=await Le.get("/content/community");if((d=f.data)!=null&&d.content){const h=f.data.content;i(p=>{var m;return{bannerImage:h.bannerImage?o(h.bannerImage):p.bannerImage,headerText:h.headerText||p.headerText,subText:h.subText||p.subText,testimonials:((m=h.testimonials)==null?void 0:m.map(g=>({...g,image:g.image?o(g.image):""})))||p.testimonials}})}}catch(f){console.error("Failed to load content:",f)}})()},[]);const s=u=>{const d=window.scrollY;document.documentElement.style.setProperty("--scroll-y",`${d}px`),r(u),t(!0)},l=()=>{t(!1),r(null)};return c.jsxs("div",{className:"home-container",children:[c.jsx("img",{src:a.bannerImage,alt:"Banner",className:"banner-image"}),c.jsxs("div",{className:"introduction",children:[c.jsx("h1",{className:"Testimonial",children:a.headerText}),c.jsx("h4",{className:"h4-testimonial",children:a.subText})]}),c.jsx("div",{className:"image-grid2",children:a.testimonials.map((u,d)=>c.jsx("div",{className:"image-wrapper2",onClick:()=>s(u),children:c.jsx("img",{src:u.image,alt:u.name,className:"gallery-image2"})},d))}),e&&n&&c.jsx("div",{className:"modal-overlay",onClick:l,children:c.jsxs("div",{className:"modal-box",onClick:u=>u.stopPropagation(),children:[c.jsx("span",{className:"modal-close",onClick:l,children:""}),c.jsxs("div",{className:"modal-content-testimonials",children:[c.jsx("img",{src:n.image,alt:n.name,className:"modal-image2"}),c.jsxs("div",{className:"modal-text",children:[c.jsx("h2",{className:"modal-title",children:n.name}),c.jsx("h5",{className:"modal-subtitle",children:n.subtitle})]}),c.jsx("div",{className:"modal-description",dangerouslySetInnerHTML:{__html:n.description}})]})]})})]})};function Gse(e,t){const n=E.useRef(t);E.useEffect(function(){t!==n.current&&e.attributionControl!=null&&(n.current!=null&&e.attributionControl.removeAttribution(n.current),t!=null&&e.attributionControl.addAttribution(t)),n.current=t},[e,t])}const $8e=1;function B8e(e){return Object.freeze({__version:$8e,map:e})}function Yse(e,t){return Object.freeze({...e,...t})}const P6=E.createContext(null);function dT(){const e=E.use(P6);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function Kse(e){function t(n,r){const{instance:a,context:i}=e(n).current;E.useImperativeHandle(r,()=>a);const{children:o}=n;return o==null?null:le.createElement(P6,{value:i},o)}return E.forwardRef(t)}function z8e(e){function t(n,r){const[a,i]=E.useState(!1),{instance:o}=e(n,i).current;E.useImperativeHandle(r,()=>o),E.useEffect(function(){a&&o.update()},[o,a,n.children]);const s=o._contentNode;return s?jm.createPortal(n.children,s):null}return E.forwardRef(t)}function U8e(e){function t(n,r){const{instance:a}=e(n).current;return E.useImperativeHandle(r,()=>a),null}return E.forwardRef(t)}function A6(e,t){const n=E.useRef(void 0);E.useEffect(function(){return t!=null&&e.instance.on(t),n.current=t,function(){n.current!=null&&e.instance.off(n.current),n.current=null}},[e,t])}function fT(e,t){const n=e.pane??t.pane;return n?{...e,pane:n}:e}function W8e(e,t){return function(r,a){const i=dT(),o=e(fT(r,i),i);return Gse(i.map,r.attribution),A6(o.current,r.eventHandlers),t(o.current,i,r,a),o}}var LM={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(e,t){(function(n,r){r(t)})(Pg,function(n){var r="1.9.4";function a(v){var C,A,U,te;for(A=1,U=arguments.length;A<U;A++){te=arguments[A];for(C in te)v[C]=te[C]}return v}var i=Object.create||function(){function v(){}return function(C){return v.prototype=C,new v}}();function o(v,C){var A=Array.prototype.slice;if(v.bind)return v.bind.apply(v,A.call(arguments,1));var U=A.call(arguments,2);return function(){return v.apply(C,U.length?U.concat(A.call(arguments)):arguments)}}var s=0;function l(v){return"_leaflet_id"in v||(v._leaflet_id=++s),v._leaflet_id}function u(v,C,A){var U,te,ue,Te;return Te=function(){U=!1,te&&(ue.apply(A,te),te=!1)},ue=function(){U?te=arguments:(v.apply(A,arguments),setTimeout(Te,C),U=!0)},ue}function d(v,C,A){var U=C[1],te=C[0],ue=U-te;return v===U&&A?v:((v-te)%ue+ue)%ue+te}function f(){return!1}function h(v,C){if(C===!1)return v;var A=Math.pow(10,C===void 0?6:C);return Math.round(v*A)/A}function p(v){return v.trim?v.trim():v.replace(/^\s+|\s+$/g,"")}function m(v){return p(v).split(/\s+/)}function g(v,C){Object.prototype.hasOwnProperty.call(v,"options")||(v.options=v.options?i(v.options):{});for(var A in C)v.options[A]=C[A];return v.options}function y(v,C,A){var U=[];for(var te in v)U.push(encodeURIComponent(A?te.toUpperCase():te)+"="+encodeURIComponent(v[te]));return(!C||C.indexOf("?")===-1?"?":"&")+U.join("&")}var x=/\{ *([\w_ -]+) *\}/g;function b(v,C){return v.replace(x,function(A,U){var te=C[U];if(te===void 0)throw new Error("No value provided for variable "+A);return typeof te=="function"&&(te=te(C)),te})}var w=Array.isArray||function(v){return Object.prototype.toString.call(v)==="[object Array]"};function _(v,C){for(var A=0;A<v.length;A++)if(v[A]===C)return A;return-1}var S="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function k(v){return window["webkit"+v]||window["moz"+v]||window["ms"+v]}var N=0;function P(v){var C=+new Date,A=Math.max(0,16-(C-N));return N=C+A,window.setTimeout(v,A)}var T=window.requestAnimationFrame||k("RequestAnimationFrame")||P,j=window.cancelAnimationFrame||k("CancelAnimationFrame")||k("CancelRequestAnimationFrame")||function(v){window.clearTimeout(v)};function D(v,C,A){if(A&&T===P)v.call(C);else return T.call(window,o(v,C))}function M(v){v&&j.call(window,v)}var R={__proto__:null,extend:a,create:i,bind:o,get lastId(){return s},stamp:l,throttle:u,wrapNum:d,falseFn:f,formatNum:h,trim:p,splitWords:m,setOptions:g,getParamString:y,template:b,isArray:w,indexOf:_,emptyImageUrl:S,requestFn:T,cancelFn:j,requestAnimFrame:D,cancelAnimFrame:M};function W(){}W.extend=function(v){var C=function(){g(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},A=C.__super__=this.prototype,U=i(A);U.constructor=C,C.prototype=U;for(var te in this)Object.prototype.hasOwnProperty.call(this,te)&&te!=="prototype"&&te!=="__super__"&&(C[te]=this[te]);return v.statics&&a(C,v.statics),v.includes&&(B(v.includes),a.apply(null,[U].concat(v.includes))),a(U,v),delete U.statics,delete U.includes,U.options&&(U.options=A.options?i(A.options):{},a(U.options,v.options)),U._initHooks=[],U.callInitHooks=function(){if(!this._initHooksCalled){A.callInitHooks&&A.callInitHooks.call(this),this._initHooksCalled=!0;for(var ue=0,Te=U._initHooks.length;ue<Te;ue++)U._initHooks[ue].call(this)}},C},W.include=function(v){var C=this.prototype.options;return a(this.prototype,v),v.options&&(this.prototype.options=C,this.mergeOptions(v.options)),this},W.mergeOptions=function(v){return a(this.prototype.options,v),this},W.addInitHook=function(v){var C=Array.prototype.slice.call(arguments,1),A=typeof v=="function"?v:function(){this[v].apply(this,C)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(A),this};function B(v){if(!(typeof L>"u"||!L||!L.Mixin)){v=w(v)?v:[v];for(var C=0;C<v.length;C++)v[C]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var V={on:function(v,C,A){if(typeof v=="object")for(var U in v)this._on(U,v[U],C);else{v=m(v);for(var te=0,ue=v.length;te<ue;te++)this._on(v[te],C,A)}return this},off:function(v,C,A){if(!arguments.length)delete this._events;else if(typeof v=="object")for(var U in v)this._off(U,v[U],C);else{v=m(v);for(var te=arguments.length===1,ue=0,Te=v.length;ue<Te;ue++)te?this._off(v[ue]):this._off(v[ue],C,A)}return this},_on:function(v,C,A,U){if(typeof C!="function"){console.warn("wrong listener type: "+typeof C);return}if(this._listens(v,C,A)===!1){A===this&&(A=void 0);var te={fn:C,ctx:A};U&&(te.once=!0),this._events=this._events||{},this._events[v]=this._events[v]||[],this._events[v].push(te)}},_off:function(v,C,A){var U,te,ue;if(this._events&&(U=this._events[v],!!U)){if(arguments.length===1){if(this._firingCount)for(te=0,ue=U.length;te<ue;te++)U[te].fn=f;delete this._events[v];return}if(typeof C!="function"){console.warn("wrong listener type: "+typeof C);return}var Te=this._listens(v,C,A);if(Te!==!1){var Ye=U[Te];this._firingCount&&(Ye.fn=f,this._events[v]=U=U.slice()),U.splice(Te,1)}}},fire:function(v,C,A){if(!this.listens(v,A))return this;var U=a({},C,{type:v,target:this,sourceTarget:C&&C.sourceTarget||this});if(this._events){var te=this._events[v];if(te){this._firingCount=this._firingCount+1||1;for(var ue=0,Te=te.length;ue<Te;ue++){var Ye=te[ue],tt=Ye.fn;Ye.once&&this.off(v,tt,Ye.ctx),tt.call(Ye.ctx||this,U)}this._firingCount--}}return A&&this._propagateEvent(U),this},listens:function(v,C,A,U){typeof v!="string"&&console.warn('"string" type argument expected');var te=C;typeof C!="function"&&(U=!!C,te=void 0,A=void 0);var ue=this._events&&this._events[v];if(ue&&ue.length&&this._listens(v,te,A)!==!1)return!0;if(U){for(var Te in this._eventParents)if(this._eventParents[Te].listens(v,C,A,U))return!0}return!1},_listens:function(v,C,A){if(!this._events)return!1;var U=this._events[v]||[];if(!C)return!!U.length;A===this&&(A=void 0);for(var te=0,ue=U.length;te<ue;te++)if(U[te].fn===C&&U[te].ctx===A)return te;return!1},once:function(v,C,A){if(typeof v=="object")for(var U in v)this._on(U,v[U],C,!0);else{v=m(v);for(var te=0,ue=v.length;te<ue;te++)this._on(v[te],C,A,!0)}return this},addEventParent:function(v){return this._eventParents=this._eventParents||{},this._eventParents[l(v)]=v,this},removeEventParent:function(v){return this._eventParents&&delete this._eventParents[l(v)],this},_propagateEvent:function(v){for(var C in this._eventParents)this._eventParents[C].fire(v.type,a({layer:v.target,propagatedFrom:v.target},v),!0)}};V.addEventListener=V.on,V.removeEventListener=V.clearAllEventListeners=V.off,V.addOneTimeEventListener=V.once,V.fireEvent=V.fire,V.hasEventListeners=V.listens;var q=W.extend(V);function I(v,C,A){this.x=A?Math.round(v):v,this.y=A?Math.round(C):C}var O=Math.trunc||function(v){return v>0?Math.floor(v):Math.ceil(v)};I.prototype={clone:function(){return new I(this.x,this.y)},add:function(v){return this.clone()._add(H(v))},_add:function(v){return this.x+=v.x,this.y+=v.y,this},subtract:function(v){return this.clone()._subtract(H(v))},_subtract:function(v){return this.x-=v.x,this.y-=v.y,this},divideBy:function(v){return this.clone()._divideBy(v)},_divideBy:function(v){return this.x/=v,this.y/=v,this},multiplyBy:function(v){return this.clone()._multiplyBy(v)},_multiplyBy:function(v){return this.x*=v,this.y*=v,this},scaleBy:function(v){return new I(this.x*v.x,this.y*v.y)},unscaleBy:function(v){return new I(this.x/v.x,this.y/v.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=O(this.x),this.y=O(this.y),this},distanceTo:function(v){v=H(v);var C=v.x-this.x,A=v.y-this.y;return Math.sqrt(C*C+A*A)},equals:function(v){return v=H(v),v.x===this.x&&v.y===this.y},contains:function(v){return v=H(v),Math.abs(v.x)<=Math.abs(this.x)&&Math.abs(v.y)<=Math.abs(this.y)},toString:function(){return"Point("+h(this.x)+", "+h(this.y)+")"}};function H(v,C,A){return v instanceof I?v:w(v)?new I(v[0],v[1]):v==null?v:typeof v=="object"&&"x"in v&&"y"in v?new I(v.x,v.y):new I(v,C,A)}function ne(v,C){if(v)for(var A=C?[v,C]:v,U=0,te=A.length;U<te;U++)this.extend(A[U])}ne.prototype={extend:function(v){var C,A;if(!v)return this;if(v instanceof I||typeof v[0]=="number"||"x"in v)C=A=H(v);else if(v=z(v),C=v.min,A=v.max,!C||!A)return this;return!this.min&&!this.max?(this.min=C.clone(),this.max=A.clone()):(this.min.x=Math.min(C.x,this.min.x),this.max.x=Math.max(A.x,this.max.x),this.min.y=Math.min(C.y,this.min.y),this.max.y=Math.max(A.y,this.max.y)),this},getCenter:function(v){return H((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,v)},getBottomLeft:function(){return H(this.min.x,this.max.y)},getTopRight:function(){return H(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(v){var C,A;return typeof v[0]=="number"||v instanceof I?v=H(v):v=z(v),v instanceof ne?(C=v.min,A=v.max):C=A=v,C.x>=this.min.x&&A.x<=this.max.x&&C.y>=this.min.y&&A.y<=this.max.y},intersects:function(v){v=z(v);var C=this.min,A=this.max,U=v.min,te=v.max,ue=te.x>=C.x&&U.x<=A.x,Te=te.y>=C.y&&U.y<=A.y;return ue&&Te},overlaps:function(v){v=z(v);var C=this.min,A=this.max,U=v.min,te=v.max,ue=te.x>C.x&&U.x<A.x,Te=te.y>C.y&&U.y<A.y;return ue&&Te},isValid:function(){return!!(this.min&&this.max)},pad:function(v){var C=this.min,A=this.max,U=Math.abs(C.x-A.x)*v,te=Math.abs(C.y-A.y)*v;return z(H(C.x-U,C.y-te),H(A.x+U,A.y+te))},equals:function(v){return v?(v=z(v),this.min.equals(v.getTopLeft())&&this.max.equals(v.getBottomRight())):!1}};function z(v,C){return!v||v instanceof ne?v:new ne(v,C)}function J(v,C){if(v)for(var A=C?[v,C]:v,U=0,te=A.length;U<te;U++)this.extend(A[U])}J.prototype={extend:function(v){var C=this._southWest,A=this._northEast,U,te;if(v instanceof G)U=v,te=v;else if(v instanceof J){if(U=v._southWest,te=v._northEast,!U||!te)return this}else return v?this.extend(Z(v)||ee(v)):this;return!C&&!A?(this._southWest=new G(U.lat,U.lng),this._northEast=new G(te.lat,te.lng)):(C.lat=Math.min(U.lat,C.lat),C.lng=Math.min(U.lng,C.lng),A.lat=Math.max(te.lat,A.lat),A.lng=Math.max(te.lng,A.lng)),this},pad:function(v){var C=this._southWest,A=this._northEast,U=Math.abs(C.lat-A.lat)*v,te=Math.abs(C.lng-A.lng)*v;return new J(new G(C.lat-U,C.lng-te),new G(A.lat+U,A.lng+te))},getCenter:function(){return new G((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new G(this.getNorth(),this.getWest())},getSouthEast:function(){return new G(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(v){typeof v[0]=="number"||v instanceof G||"lat"in v?v=Z(v):v=ee(v);var C=this._southWest,A=this._northEast,U,te;return v instanceof J?(U=v.getSouthWest(),te=v.getNorthEast()):U=te=v,U.lat>=C.lat&&te.lat<=A.lat&&U.lng>=C.lng&&te.lng<=A.lng},intersects:function(v){v=ee(v);var C=this._southWest,A=this._northEast,U=v.getSouthWest(),te=v.getNorthEast(),ue=te.lat>=C.lat&&U.lat<=A.lat,Te=te.lng>=C.lng&&U.lng<=A.lng;return ue&&Te},overlaps:function(v){v=ee(v);var C=this._southWest,A=this._northEast,U=v.getSouthWest(),te=v.getNorthEast(),ue=te.lat>C.lat&&U.lat<A.lat,Te=te.lng>C.lng&&U.lng<A.lng;return ue&&Te},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(v,C){return v?(v=ee(v),this._southWest.equals(v.getSouthWest(),C)&&this._northEast.equals(v.getNorthEast(),C)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ee(v,C){return v instanceof J?v:new J(v,C)}function G(v,C,A){if(isNaN(v)||isNaN(C))throw new Error("Invalid LatLng object: ("+v+", "+C+")");this.lat=+v,this.lng=+C,A!==void 0&&(this.alt=+A)}G.prototype={equals:function(v,C){if(!v)return!1;v=Z(v);var A=Math.max(Math.abs(this.lat-v.lat),Math.abs(this.lng-v.lng));return A<=(C===void 0?1e-9:C)},toString:function(v){return"LatLng("+h(this.lat,v)+", "+h(this.lng,v)+")"},distanceTo:function(v){return ae.distance(this,Z(v))},wrap:function(){return ae.wrapLatLng(this)},toBounds:function(v){var C=180*v/40075017,A=C/Math.cos(Math.PI/180*this.lat);return ee([this.lat-C,this.lng-A],[this.lat+C,this.lng+A])},clone:function(){return new G(this.lat,this.lng,this.alt)}};function Z(v,C,A){return v instanceof G?v:w(v)&&typeof v[0]!="object"?v.length===3?new G(v[0],v[1],v[2]):v.length===2?new G(v[0],v[1]):null:v==null?v:typeof v=="object"&&"lat"in v?new G(v.lat,"lng"in v?v.lng:v.lon,v.alt):C===void 0?null:new G(v,C,A)}var se={latLngToPoint:function(v,C){var A=this.projection.project(v),U=this.scale(C);return this.transformation._transform(A,U)},pointToLatLng:function(v,C){var A=this.scale(C),U=this.transformation.untransform(v,A);return this.projection.unproject(U)},project:function(v){return this.projection.project(v)},unproject:function(v){return this.projection.unproject(v)},scale:function(v){return 256*Math.pow(2,v)},zoom:function(v){return Math.log(v/256)/Math.LN2},getProjectedBounds:function(v){if(this.infinite)return null;var C=this.projection.bounds,A=this.scale(v),U=this.transformation.transform(C.min,A),te=this.transformation.transform(C.max,A);return new ne(U,te)},infinite:!1,wrapLatLng:function(v){var C=this.wrapLng?d(v.lng,this.wrapLng,!0):v.lng,A=this.wrapLat?d(v.lat,this.wrapLat,!0):v.lat,U=v.alt;return new G(A,C,U)},wrapLatLngBounds:function(v){var C=v.getCenter(),A=this.wrapLatLng(C),U=C.lat-A.lat,te=C.lng-A.lng;if(U===0&&te===0)return v;var ue=v.getSouthWest(),Te=v.getNorthEast(),Ye=new G(ue.lat-U,ue.lng-te),tt=new G(Te.lat-U,Te.lng-te);return new J(Ye,tt)}},ae=a({},se,{wrapLng:[-180,180],R:6371e3,distance:function(v,C){var A=Math.PI/180,U=v.lat*A,te=C.lat*A,ue=Math.sin((C.lat-v.lat)*A/2),Te=Math.sin((C.lng-v.lng)*A/2),Ye=ue*ue+Math.cos(U)*Math.cos(te)*Te*Te,tt=2*Math.atan2(Math.sqrt(Ye),Math.sqrt(1-Ye));return this.R*tt}}),Y=6378137,X={R:Y,MAX_LATITUDE:85.0511287798,project:function(v){var C=Math.PI/180,A=this.MAX_LATITUDE,U=Math.max(Math.min(A,v.lat),-A),te=Math.sin(U*C);return new I(this.R*v.lng*C,this.R*Math.log((1+te)/(1-te))/2)},unproject:function(v){var C=180/Math.PI;return new G((2*Math.atan(Math.exp(v.y/this.R))-Math.PI/2)*C,v.x*C/this.R)},bounds:function(){var v=Y*Math.PI;return new ne([-v,-v],[v,v])}()};function K(v,C,A,U){if(w(v)){this._a=v[0],this._b=v[1],this._c=v[2],this._d=v[3];return}this._a=v,this._b=C,this._c=A,this._d=U}K.prototype={transform:function(v,C){return this._transform(v.clone(),C)},_transform:function(v,C){return C=C||1,v.x=C*(this._a*v.x+this._b),v.y=C*(this._c*v.y+this._d),v},untransform:function(v,C){return C=C||1,new I((v.x/C-this._b)/this._a,(v.y/C-this._d)/this._c)}};function F(v,C,A,U){return new K(v,C,A,U)}var re=a({},ae,{code:"EPSG:3857",projection:X,transformation:function(){var v=.5/(Math.PI*X.R);return F(v,.5,-v,.5)}()}),Q=a({},re,{code:"EPSG:900913"});function oe(v){return document.createElementNS("http://www.w3.org/2000/svg",v)}function me(v,C){var A="",U,te,ue,Te,Ye,tt;for(U=0,ue=v.length;U<ue;U++){for(Ye=v[U],te=0,Te=Ye.length;te<Te;te++)tt=Ye[te],A+=(te?"L":"M")+tt.x+" "+tt.y;A+=C?et.svg?"z":"x":""}return A||"M0 0"}var be=document.documentElement.style,ye="ActiveXObject"in window,de=ye&&!document.addEventListener,we="msLaunchUri"in navigator&&!("documentMode"in document),We=it("webkit"),Me=it("android"),ze=it("android 2")||it("android 3"),He=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),dt=Me&&it("Google")&&He<537&&!("AudioNode"in window),qt=!!window.opera,Zt=!we&&it("chrome"),Wt=it("gecko")&&!We&&!qt&&!ye,mn=!Zt&&it("safari"),Re=it("phantom"),Ge="OTransition"in be,at=navigator.platform.indexOf("Win")===0,Ke=ye&&"transition"in be,Qe="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!ze,yt="MozPerspective"in be,ft=!window.L_DISABLE_3D&&(Ke||Qe||yt)&&!Ge&&!Re,pt=typeof orientation<"u"||it("mobile"),Lt=pt&&We,ln=pt&&Qe,rr=!window.PointerEvent&&window.MSPointerEvent,Fr=!!(window.PointerEvent||rr),Qr="ontouchstart"in window||!!window.TouchEvent,la=!window.L_NO_TOUCH&&(Qr||Fr),ai=pt&&qt,je=pt&&Wt,At=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,wt=function(){var v=!1;try{var C=Object.defineProperty({},"passive",{get:function(){v=!0}});window.addEventListener("testPassiveEventSupport",f,C),window.removeEventListener("testPassiveEventSupport",f,C)}catch{}return v}(),cn=function(){return!!document.createElement("canvas").getContext}(),kt=!!(document.createElementNS&&oe("svg").createSVGRect),Cn=!!kt&&function(){var v=document.createElement("div");return v.innerHTML="<svg/>",(v.firstChild&&v.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),ke=!kt&&function(){try{var v=document.createElement("div");v.innerHTML='<v:shape adj="1"/>';var C=v.firstChild;return C.style.behavior="url(#default#VML)",C&&typeof C.adj=="object"}catch{return!1}}(),De=navigator.platform.indexOf("Mac")===0,Xe=navigator.platform.indexOf("Linux")===0;function it(v){return navigator.userAgent.toLowerCase().indexOf(v)>=0}var et={ie:ye,ielt9:de,edge:we,webkit:We,android:Me,android23:ze,androidStock:dt,opera:qt,chrome:Zt,gecko:Wt,safari:mn,phantom:Re,opera12:Ge,win:at,ie3d:Ke,webkit3d:Qe,gecko3d:yt,any3d:ft,mobile:pt,mobileWebkit:Lt,mobileWebkit3d:ln,msPointer:rr,pointer:Fr,touch:la,touchNative:Qr,mobileOpera:ai,mobileGecko:je,retina:At,passiveEvents:wt,canvas:cn,svg:kt,vml:ke,inlineSvg:Cn,mac:De,linux:Xe},ie=et.msPointer?"MSPointerDown":"pointerdown",ge=et.msPointer?"MSPointerMove":"pointermove",ce=et.msPointer?"MSPointerUp":"pointerup",fe=et.msPointer?"MSPointerCancel":"pointercancel",pe={touchstart:ie,touchmove:ge,touchend:ce,touchcancel:fe},ve={touchstart:Ee,touchmove:he,touchend:he,touchcancel:he},Oe={},Ve=!1;function Ue(v,C,A){return C==="touchstart"&&$t(),ve[C]?(A=ve[C].bind(this,A),v.addEventListener(pe[C],A,!1),A):(console.warn("wrong event specified:",C),f)}function $e(v,C,A){if(!pe[C]){console.warn("wrong event specified:",C);return}v.removeEventListener(pe[C],A,!1)}function Be(v){Oe[v.pointerId]=v}function ut(v){Oe[v.pointerId]&&(Oe[v.pointerId]=v)}function Et(v){delete Oe[v.pointerId]}function $t(){Ve||(document.addEventListener(ie,Be,!0),document.addEventListener(ge,ut,!0),document.addEventListener(ce,Et,!0),document.addEventListener(fe,Et,!0),Ve=!0)}function he(v,C){if(C.pointerType!==(C.MSPOINTER_TYPE_MOUSE||"mouse")){C.touches=[];for(var A in Oe)C.touches.push(Oe[A]);C.changedTouches=[C],v(C)}}function Ee(v,C){C.MSPOINTER_TYPE_TOUCH&&C.pointerType===C.MSPOINTER_TYPE_TOUCH&&Li(C),he(v,C)}function Ae(v){var C={},A,U;for(U in v)A=v[U],C[U]=A&&A.bind?A.bind(v):A;return v=C,C.type="dblclick",C.detail=2,C.isTrusted=!1,C._simulated=!0,C}var Ze=200;function qe(v,C){v.addEventListener("dblclick",C);var A=0,U;function te(ue){if(ue.detail!==1){U=ue.detail;return}if(!(ue.pointerType==="mouse"||ue.sourceCapabilities&&!ue.sourceCapabilities.firesTouchEvents)){var Te=H8(ue);if(!(Te.some(function(tt){return tt instanceof HTMLLabelElement&&tt.attributes.for})&&!Te.some(function(tt){return tt instanceof HTMLInputElement||tt instanceof HTMLSelectElement}))){var Ye=Date.now();Ye-A<=Ze?(U++,U===2&&C(Ae(ue))):U=1,A=Ye}}}return v.addEventListener("click",te),{dblclick:C,simDblclick:te}}function Ht(v,C){v.removeEventListener("dblclick",C.dblclick),v.removeEventListener("click",C.simDblclick)}var gt=rn(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Rt=rn(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),wn=Rt==="webkitTransition"||Rt==="OTransition"?Rt+"End":"transitionend";function ca(v){return typeof v=="string"?document.getElementById(v):v}function ar(v,C){var A=v.style[C]||v.currentStyle&&v.currentStyle[C];if((!A||A==="auto")&&document.defaultView){var U=document.defaultView.getComputedStyle(v,null);A=U?U[C]:null}return A==="auto"?null:A}function Yt(v,C,A){var U=document.createElement(v);return U.className=C||"",A&&A.appendChild(U),U}function Ce(v){var C=v.parentNode;C&&C.removeChild(v)}function St(v){for(;v.firstChild;)v.removeChild(v.firstChild)}function Bt(v){var C=v.parentNode;C&&C.lastChild!==v&&C.appendChild(v)}function Ct(v){var C=v.parentNode;C&&C.firstChild!==v&&C.insertBefore(v,C.firstChild)}function En(v,C){if(v.classList!==void 0)return v.classList.contains(C);var A=gs(v);return A.length>0&&new RegExp("(^|\\s)"+C+"(\\s|$)").test(A)}function Dt(v,C){if(v.classList!==void 0)for(var A=m(C),U=0,te=A.length;U<te;U++)v.classList.add(A[U]);else if(!En(v,C)){var ue=gs(v);ms(v,(ue?ue+" ":"")+C)}}function xn(v,C){v.classList!==void 0?v.classList.remove(C):ms(v,p((" "+gs(v)+" ").replace(" "+C+" "," ")))}function ms(v,C){v.className.baseVal===void 0?v.className=C:v.className.baseVal=C}function gs(v){return v.correspondingElement&&(v=v.correspondingElement),v.className.baseVal===void 0?v.className:v.className.baseVal}function Fe(v,C){"opacity"in v.style?v.style.opacity=C:"filter"in v.style&&_t(v,C)}function _t(v,C){var A=!1,U="DXImageTransform.Microsoft.Alpha";try{A=v.filters.item(U)}catch{if(C===1)return}C=Math.round(C*100),A?(A.Enabled=C!==100,A.Opacity=C):v.style.filter+=" progid:"+U+"(opacity="+C+")"}function rn(v){for(var C=document.documentElement.style,A=0;A<v.length;A++)if(v[A]in C)return v[A];return!1}function Or(v,C,A){var U=C||new I(0,0);v.style[gt]=(et.ie3d?"translate("+U.x+"px,"+U.y+"px)":"translate3d("+U.x+"px,"+U.y+"px,0)")+(A?" scale("+A+")":"")}function _r(v,C){v._leaflet_pos=C,et.any3d?Or(v,C):(v.style.left=C.x+"px",v.style.top=C.y+"px")}function Gs(v){return v._leaflet_pos||new I(0,0)}var Ys,_n,ii;if("onselectstart"in document)Ys=function(){In(window,"selectstart",Li)},_n=function(){Wr(window,"selectstart",Li)};else{var Bl=rn(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Ys=function(){if(Bl){var v=document.documentElement.style;ii=v[Bl],v[Bl]="none"}},_n=function(){Bl&&(document.documentElement.style[Bl]=ii,ii=void 0)}}function xy(){In(window,"dragstart",Li)}function zl(){Wr(window,"dragstart",Li)}var Ks,AP;function DP(v){for(;v.tabIndex===-1;)v=v.parentNode;v.style&&(C2(),Ks=v,AP=v.style.outlineStyle,v.style.outlineStyle="none",In(window,"keydown",C2))}function C2(){Ks&&(Ks.style.outlineStyle=AP,Ks=void 0,AP=void 0,Wr(window,"keydown",C2))}function W8(v){do v=v.parentNode;while((!v.offsetWidth||!v.offsetHeight)&&v!==document.body);return v}function OP(v){var C=v.getBoundingClientRect();return{x:C.width/v.offsetWidth||1,y:C.height/v.offsetHeight||1,boundingClientRect:C}}var ame={__proto__:null,TRANSFORM:gt,TRANSITION:Rt,TRANSITION_END:wn,get:ca,getStyle:ar,create:Yt,remove:Ce,empty:St,toFront:Bt,toBack:Ct,hasClass:En,addClass:Dt,removeClass:xn,setClass:ms,getClass:gs,setOpacity:Fe,testProp:rn,setTransform:Or,setPosition:_r,getPosition:Gs,get disableTextSelection(){return Ys},get enableTextSelection(){return _n},disableImageDrag:xy,enableImageDrag:zl,preventOutline:DP,restoreOutline:C2,getSizedParentNode:W8,getScale:OP};function In(v,C,A,U){if(C&&typeof C=="object")for(var te in C)IP(v,te,C[te],A);else{C=m(C);for(var ue=0,Te=C.length;ue<Te;ue++)IP(v,C[ue],A,U)}return this}var kc="_leaflet_events";function Wr(v,C,A,U){if(arguments.length===1)V8(v),delete v[kc];else if(C&&typeof C=="object")for(var te in C)RP(v,te,C[te],A);else if(C=m(C),arguments.length===2)V8(v,function(Ye){return _(C,Ye)!==-1});else for(var ue=0,Te=C.length;ue<Te;ue++)RP(v,C[ue],A,U);return this}function V8(v,C){for(var A in v[kc]){var U=A.split(/\d/)[0];(!C||C(U))&&RP(v,U,null,null,A)}}var MP={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function IP(v,C,A,U){var te=C+l(A)+(U?"_"+l(U):"");if(v[kc]&&v[kc][te])return this;var ue=function(Ye){return A.call(U||v,Ye||window.event)},Te=ue;!et.touchNative&&et.pointer&&C.indexOf("touch")===0?ue=Ue(v,C,ue):et.touch&&C==="dblclick"?ue=qe(v,ue):"addEventListener"in v?C==="touchstart"||C==="touchmove"||C==="wheel"||C==="mousewheel"?v.addEventListener(MP[C]||C,ue,et.passiveEvents?{passive:!1}:!1):C==="mouseenter"||C==="mouseleave"?(ue=function(Ye){Ye=Ye||window.event,LP(v,Ye)&&Te(Ye)},v.addEventListener(MP[C],ue,!1)):v.addEventListener(C,Te,!1):v.attachEvent("on"+C,ue),v[kc]=v[kc]||{},v[kc][te]=ue}function RP(v,C,A,U,te){te=te||C+l(A)+(U?"_"+l(U):"");var ue=v[kc]&&v[kc][te];if(!ue)return this;!et.touchNative&&et.pointer&&C.indexOf("touch")===0?$e(v,C,ue):et.touch&&C==="dblclick"?Ht(v,ue):"removeEventListener"in v?v.removeEventListener(MP[C]||C,ue,!1):v.detachEvent("on"+C,ue),v[kc][te]=null}function zh(v){return v.stopPropagation?v.stopPropagation():v.originalEvent?v.originalEvent._stopped=!0:v.cancelBubble=!0,this}function FP(v){return IP(v,"wheel",zh),this}function by(v){return In(v,"mousedown touchstart dblclick contextmenu",zh),v._leaflet_disable_click=!0,this}function Li(v){return v.preventDefault?v.preventDefault():v.returnValue=!1,this}function Uh(v){return Li(v),zh(v),this}function H8(v){if(v.composedPath)return v.composedPath();for(var C=[],A=v.target;A;)C.push(A),A=A.parentNode;return C}function q8(v,C){if(!C)return new I(v.clientX,v.clientY);var A=OP(C),U=A.boundingClientRect;return new I((v.clientX-U.left)/A.x-C.clientLeft,(v.clientY-U.top)/A.y-C.clientTop)}var ime=et.linux&&et.chrome?window.devicePixelRatio:et.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function G8(v){return et.edge?v.wheelDeltaY/2:v.deltaY&&v.deltaMode===0?-v.deltaY/ime:v.deltaY&&v.deltaMode===1?-v.deltaY*20:v.deltaY&&v.deltaMode===2?-v.deltaY*60:v.deltaX||v.deltaZ?0:v.wheelDelta?(v.wheelDeltaY||v.wheelDelta)/2:v.detail&&Math.abs(v.detail)<32765?-v.detail*20:v.detail?v.detail/-32765*60:0}function LP(v,C){var A=C.relatedTarget;if(!A)return!0;try{for(;A&&A!==v;)A=A.parentNode}catch{return!1}return A!==v}var ome={__proto__:null,on:In,off:Wr,stopPropagation:zh,disableScrollPropagation:FP,disableClickPropagation:by,preventDefault:Li,stop:Uh,getPropagationPath:H8,getMousePosition:q8,getWheelDelta:G8,isExternalTarget:LP,addListener:In,removeListener:Wr},Y8=q.extend({run:function(v,C,A,U){this.stop(),this._el=v,this._inProgress=!0,this._duration=A||.25,this._easeOutPower=1/Math.max(U||.5,.2),this._startPos=Gs(v),this._offset=C.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=D(this._animate,this),this._step()},_step:function(v){var C=+new Date-this._startTime,A=this._duration*1e3;C<A?this._runFrame(this._easeOut(C/A),v):(this._runFrame(1),this._complete())},_runFrame:function(v,C){var A=this._startPos.add(this._offset.multiplyBy(v));C&&A._round(),_r(this._el,A),this.fire("step")},_complete:function(){M(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(v){return 1-Math.pow(1-v,this._easeOutPower)}}),ir=q.extend({options:{crs:re,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(v,C){C=g(this,C),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(v),this._initLayout(),this._onResize=o(this._onResize,this),this._initEvents(),C.maxBounds&&this.setMaxBounds(C.maxBounds),C.zoom!==void 0&&(this._zoom=this._limitZoom(C.zoom)),C.center&&C.zoom!==void 0&&this.setView(Z(C.center),C.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Rt&&et.any3d&&!et.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),In(this._proxy,wn,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(v,C,A){if(C=C===void 0?this._zoom:this._limitZoom(C),v=this._limitCenter(Z(v),C,this.options.maxBounds),A=A||{},this._stop(),this._loaded&&!A.reset&&A!==!0){A.animate!==void 0&&(A.zoom=a({animate:A.animate},A.zoom),A.pan=a({animate:A.animate,duration:A.duration},A.pan));var U=this._zoom!==C?this._tryAnimatedZoom&&this._tryAnimatedZoom(v,C,A.zoom):this._tryAnimatedPan(v,A.pan);if(U)return clearTimeout(this._sizeTimer),this}return this._resetView(v,C,A.pan&&A.pan.noMoveStart),this},setZoom:function(v,C){return this._loaded?this.setView(this.getCenter(),v,{zoom:C}):(this._zoom=v,this)},zoomIn:function(v,C){return v=v||(et.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+v,C)},zoomOut:function(v,C){return v=v||(et.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-v,C)},setZoomAround:function(v,C,A){var U=this.getZoomScale(C),te=this.getSize().divideBy(2),ue=v instanceof I?v:this.latLngToContainerPoint(v),Te=ue.subtract(te).multiplyBy(1-1/U),Ye=this.containerPointToLatLng(te.add(Te));return this.setView(Ye,C,{zoom:A})},_getBoundsCenterZoom:function(v,C){C=C||{},v=v.getBounds?v.getBounds():ee(v);var A=H(C.paddingTopLeft||C.padding||[0,0]),U=H(C.paddingBottomRight||C.padding||[0,0]),te=this.getBoundsZoom(v,!1,A.add(U));if(te=typeof C.maxZoom=="number"?Math.min(C.maxZoom,te):te,te===1/0)return{center:v.getCenter(),zoom:te};var ue=U.subtract(A).divideBy(2),Te=this.project(v.getSouthWest(),te),Ye=this.project(v.getNorthEast(),te),tt=this.unproject(Te.add(Ye).divideBy(2).add(ue),te);return{center:tt,zoom:te}},fitBounds:function(v,C){if(v=ee(v),!v.isValid())throw new Error("Bounds are not valid.");var A=this._getBoundsCenterZoom(v,C);return this.setView(A.center,A.zoom,C)},fitWorld:function(v){return this.fitBounds([[-90,-180],[90,180]],v)},panTo:function(v,C){return this.setView(v,this._zoom,{pan:C})},panBy:function(v,C){if(v=H(v).round(),C=C||{},!v.x&&!v.y)return this.fire("moveend");if(C.animate!==!0&&!this.getSize().contains(v))return this._resetView(this.unproject(this.project(this.getCenter()).add(v)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Y8,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),C.noMoveStart||this.fire("movestart"),C.animate!==!1){Dt(this._mapPane,"leaflet-pan-anim");var A=this._getMapPanePos().subtract(v).round();this._panAnim.run(this._mapPane,A,C.duration||.25,C.easeLinearity)}else this._rawPanBy(v),this.fire("move").fire("moveend");return this},flyTo:function(v,C,A){if(A=A||{},A.animate===!1||!et.any3d)return this.setView(v,C,A);this._stop();var U=this.project(this.getCenter()),te=this.project(v),ue=this.getSize(),Te=this._zoom;v=Z(v),C=C===void 0?Te:C;var Ye=Math.max(ue.x,ue.y),tt=Ye*this.getZoomScale(Te,C),xt=te.distanceTo(U)||1,Kt=1.42,bn=Kt*Kt;function Vn(Ka){var R2=Ka?-1:1,Yme=Ka?tt:Ye,Kme=tt*tt-Ye*Ye+R2*bn*bn*xt*xt,Xme=2*Yme*bn*xt,KP=Kme/Xme,jB=Math.sqrt(KP*KP+1)-KP,Zme=jB<1e-9?-18:Math.log(jB);return Zme}function Po(Ka){return(Math.exp(Ka)-Math.exp(-Ka))/2}function xi(Ka){return(Math.exp(Ka)+Math.exp(-Ka))/2}function Zs(Ka){return Po(Ka)/xi(Ka)}var Wo=Vn(0);function tg(Ka){return Ye*(xi(Wo)/xi(Wo+Kt*Ka))}function Vme(Ka){return Ye*(xi(Wo)*Zs(Wo+Kt*Ka)-Po(Wo))/bn}function Hme(Ka){return 1-Math.pow(1-Ka,1.5)}var qme=Date.now(),NB=(Vn(1)-Wo)/Kt,Gme=A.duration?1e3*A.duration:1e3*NB*.8;function kB(){var Ka=(Date.now()-qme)/Gme,R2=Hme(Ka)*NB;Ka<=1?(this._flyToFrame=D(kB,this),this._move(this.unproject(U.add(te.subtract(U).multiplyBy(Vme(R2)/xt)),Te),this.getScaleZoom(Ye/tg(R2),Te),{flyTo:!0})):this._move(v,C)._moveEnd(!0)}return this._moveStart(!0,A.noMoveStart),kB.call(this),this},flyToBounds:function(v,C){var A=this._getBoundsCenterZoom(v,C);return this.flyTo(A.center,A.zoom,C)},setMaxBounds:function(v){return v=ee(v),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),v.isValid()?(this.options.maxBounds=v,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(v){var C=this.options.minZoom;return this.options.minZoom=v,this._loaded&&C!==v&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(v):this},setMaxZoom:function(v){var C=this.options.maxZoom;return this.options.maxZoom=v,this._loaded&&C!==v&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(v):this},panInsideBounds:function(v,C){this._enforcingBounds=!0;var A=this.getCenter(),U=this._limitCenter(A,this._zoom,ee(v));return A.equals(U)||this.panTo(U,C),this._enforcingBounds=!1,this},panInside:function(v,C){C=C||{};var A=H(C.paddingTopLeft||C.padding||[0,0]),U=H(C.paddingBottomRight||C.padding||[0,0]),te=this.project(this.getCenter()),ue=this.project(v),Te=this.getPixelBounds(),Ye=z([Te.min.add(A),Te.max.subtract(U)]),tt=Ye.getSize();if(!Ye.contains(ue)){this._enforcingBounds=!0;var xt=ue.subtract(Ye.getCenter()),Kt=Ye.extend(ue).getSize().subtract(tt);te.x+=xt.x<0?-Kt.x:Kt.x,te.y+=xt.y<0?-Kt.y:Kt.y,this.panTo(this.unproject(te),C),this._enforcingBounds=!1}return this},invalidateSize:function(v){if(!this._loaded)return this;v=a({animate:!1,pan:!0},v===!0?{animate:!0}:v);var C=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var A=this.getSize(),U=C.divideBy(2).round(),te=A.divideBy(2).round(),ue=U.subtract(te);return!ue.x&&!ue.y?this:(v.animate&&v.pan?this.panBy(ue):(v.pan&&this._rawPanBy(ue),this.fire("move"),v.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(o(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:C,newSize:A}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(v){if(v=this._locateOptions=a({timeout:1e4,watch:!1},v),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var C=o(this._handleGeolocationResponse,this),A=o(this._handleGeolocationError,this);return v.watch?this._locationWatchId=navigator.geolocation.watchPosition(C,A,v):navigator.geolocation.getCurrentPosition(C,A,v),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(v){if(this._container._leaflet_id){var C=v.code,A=v.message||(C===1?"permission denied":C===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:C,message:"Geolocation error: "+A+"."})}},_handleGeolocationResponse:function(v){if(this._container._leaflet_id){var C=v.coords.latitude,A=v.coords.longitude,U=new G(C,A),te=U.toBounds(v.coords.accuracy*2),ue=this._locateOptions;if(ue.setView){var Te=this.getBoundsZoom(te);this.setView(U,ue.maxZoom?Math.min(Te,ue.maxZoom):Te)}var Ye={latlng:U,bounds:te,timestamp:v.timestamp};for(var tt in v.coords)typeof v.coords[tt]=="number"&&(Ye[tt]=v.coords[tt]);this.fire("locationfound",Ye)}},addHandler:function(v,C){if(!C)return this;var A=this[v]=new C(this);return this._handlers.push(A),this.options[v]&&A.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Ce(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(M(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var v;for(v in this._layers)this._layers[v].remove();for(v in this._panes)Ce(this._panes[v]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(v,C){var A="leaflet-pane"+(v?" leaflet-"+v.replace("Pane","")+"-pane":""),U=Yt("div",A,C||this._mapPane);return v&&(this._panes[v]=U),U},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var v=this.getPixelBounds(),C=this.unproject(v.getBottomLeft()),A=this.unproject(v.getTopRight());return new J(C,A)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(v,C,A){v=ee(v),A=H(A||[0,0]);var U=this.getZoom()||0,te=this.getMinZoom(),ue=this.getMaxZoom(),Te=v.getNorthWest(),Ye=v.getSouthEast(),tt=this.getSize().subtract(A),xt=z(this.project(Ye,U),this.project(Te,U)).getSize(),Kt=et.any3d?this.options.zoomSnap:1,bn=tt.x/xt.x,Vn=tt.y/xt.y,Po=C?Math.max(bn,Vn):Math.min(bn,Vn);return U=this.getScaleZoom(Po,U),Kt&&(U=Math.round(U/(Kt/100))*(Kt/100),U=C?Math.ceil(U/Kt)*Kt:Math.floor(U/Kt)*Kt),Math.max(te,Math.min(ue,U))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new I(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(v,C){var A=this._getTopLeftPoint(v,C);return new ne(A,A.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(v){return this.options.crs.getProjectedBounds(v===void 0?this.getZoom():v)},getPane:function(v){return typeof v=="string"?this._panes[v]:v},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(v,C){var A=this.options.crs;return C=C===void 0?this._zoom:C,A.scale(v)/A.scale(C)},getScaleZoom:function(v,C){var A=this.options.crs;C=C===void 0?this._zoom:C;var U=A.zoom(v*A.scale(C));return isNaN(U)?1/0:U},project:function(v,C){return C=C===void 0?this._zoom:C,this.options.crs.latLngToPoint(Z(v),C)},unproject:function(v,C){return C=C===void 0?this._zoom:C,this.options.crs.pointToLatLng(H(v),C)},layerPointToLatLng:function(v){var C=H(v).add(this.getPixelOrigin());return this.unproject(C)},latLngToLayerPoint:function(v){var C=this.project(Z(v))._round();return C._subtract(this.getPixelOrigin())},wrapLatLng:function(v){return this.options.crs.wrapLatLng(Z(v))},wrapLatLngBounds:function(v){return this.options.crs.wrapLatLngBounds(ee(v))},distance:function(v,C){return this.options.crs.distance(Z(v),Z(C))},containerPointToLayerPoint:function(v){return H(v).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(v){return H(v).add(this._getMapPanePos())},containerPointToLatLng:function(v){var C=this.containerPointToLayerPoint(H(v));return this.layerPointToLatLng(C)},latLngToContainerPoint:function(v){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Z(v)))},mouseEventToContainerPoint:function(v){return q8(v,this._container)},mouseEventToLayerPoint:function(v){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(v))},mouseEventToLatLng:function(v){return this.layerPointToLatLng(this.mouseEventToLayerPoint(v))},_initContainer:function(v){var C=this._container=ca(v);if(C){if(C._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");In(C,"scroll",this._onScroll,this),this._containerId=l(C)},_initLayout:function(){var v=this._container;this._fadeAnimated=this.options.fadeAnimation&&et.any3d,Dt(v,"leaflet-container"+(et.touch?" leaflet-touch":"")+(et.retina?" leaflet-retina":"")+(et.ielt9?" leaflet-oldie":"")+(et.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var C=ar(v,"position");C!=="absolute"&&C!=="relative"&&C!=="fixed"&&C!=="sticky"&&(v.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var v=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),_r(this._mapPane,new I(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Dt(v.markerPane,"leaflet-zoom-hide"),Dt(v.shadowPane,"leaflet-zoom-hide"))},_resetView:function(v,C,A){_r(this._mapPane,new I(0,0));var U=!this._loaded;this._loaded=!0,C=this._limitZoom(C),this.fire("viewprereset");var te=this._zoom!==C;this._moveStart(te,A)._move(v,C)._moveEnd(te),this.fire("viewreset"),U&&this.fire("load")},_moveStart:function(v,C){return v&&this.fire("zoomstart"),C||this.fire("movestart"),this},_move:function(v,C,A,U){C===void 0&&(C=this._zoom);var te=this._zoom!==C;return this._zoom=C,this._lastCenter=v,this._pixelOrigin=this._getNewPixelOrigin(v),U?A&&A.pinch&&this.fire("zoom",A):((te||A&&A.pinch)&&this.fire("zoom",A),this.fire("move",A)),this},_moveEnd:function(v){return v&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return M(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(v){_r(this._mapPane,this._getMapPanePos().subtract(v))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(v){this._targets={},this._targets[l(this._container)]=this;var C=v?Wr:In;C(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&C(window,"resize",this._onResize,this),et.any3d&&this.options.transform3DLimit&&(v?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){M(this._resizeRequest),this._resizeRequest=D(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var v=this._getMapPanePos();Math.max(Math.abs(v.x),Math.abs(v.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(v,C){for(var A=[],U,te=C==="mouseout"||C==="mouseover",ue=v.target||v.srcElement,Te=!1;ue;){if(U=this._targets[l(ue)],U&&(C==="click"||C==="preclick")&&this._draggableMoved(U)){Te=!0;break}if(U&&U.listens(C,!0)&&(te&&!LP(ue,v)||(A.push(U),te))||ue===this._container)break;ue=ue.parentNode}return!A.length&&!Te&&!te&&this.listens(C,!0)&&(A=[this]),A},_isClickDisabled:function(v){for(;v&&v!==this._container;){if(v._leaflet_disable_click)return!0;v=v.parentNode}},_handleDOMEvent:function(v){var C=v.target||v.srcElement;if(!(!this._loaded||C._leaflet_disable_events||v.type==="click"&&this._isClickDisabled(C))){var A=v.type;A==="mousedown"&&DP(C),this._fireDOMEvent(v,A)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(v,C,A){if(v.type==="click"){var U=a({},v);U.type="preclick",this._fireDOMEvent(U,U.type,A)}var te=this._findEventTargets(v,C);if(A){for(var ue=[],Te=0;Te<A.length;Te++)A[Te].listens(C,!0)&&ue.push(A[Te]);te=ue.concat(te)}if(te.length){C==="contextmenu"&&Li(v);var Ye=te[0],tt={originalEvent:v};if(v.type!=="keypress"&&v.type!=="keydown"&&v.type!=="keyup"){var xt=Ye.getLatLng&&(!Ye._radius||Ye._radius<=10);tt.containerPoint=xt?this.latLngToContainerPoint(Ye.getLatLng()):this.mouseEventToContainerPoint(v),tt.layerPoint=this.containerPointToLayerPoint(tt.containerPoint),tt.latlng=xt?Ye.getLatLng():this.layerPointToLatLng(tt.layerPoint)}for(Te=0;Te<te.length;Te++)if(te[Te].fire(C,tt,!0),tt.originalEvent._stopped||te[Te].options.bubblingMouseEvents===!1&&_(this._mouseEvents,C)!==-1)return}},_draggableMoved:function(v){return v=v.dragging&&v.dragging.enabled()?v:this,v.dragging&&v.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var v=0,C=this._handlers.length;v<C;v++)this._handlers[v].disable()},whenReady:function(v,C){return this._loaded?v.call(C||this,{target:this}):this.on("load",v,C),this},_getMapPanePos:function(){return Gs(this._mapPane)||new I(0,0)},_moved:function(){var v=this._getMapPanePos();return v&&!v.equals([0,0])},_getTopLeftPoint:function(v,C){var A=v&&C!==void 0?this._getNewPixelOrigin(v,C):this.getPixelOrigin();return A.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(v,C){var A=this.getSize()._divideBy(2);return this.project(v,C)._subtract(A)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(v,C,A){var U=this._getNewPixelOrigin(A,C);return this.project(v,C)._subtract(U)},_latLngBoundsToNewLayerBounds:function(v,C,A){var U=this._getNewPixelOrigin(A,C);return z([this.project(v.getSouthWest(),C)._subtract(U),this.project(v.getNorthWest(),C)._subtract(U),this.project(v.getSouthEast(),C)._subtract(U),this.project(v.getNorthEast(),C)._subtract(U)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(v){return this.latLngToLayerPoint(v).subtract(this._getCenterLayerPoint())},_limitCenter:function(v,C,A){if(!A)return v;var U=this.project(v,C),te=this.getSize().divideBy(2),ue=new ne(U.subtract(te),U.add(te)),Te=this._getBoundsOffset(ue,A,C);return Math.abs(Te.x)<=1&&Math.abs(Te.y)<=1?v:this.unproject(U.add(Te),C)},_limitOffset:function(v,C){if(!C)return v;var A=this.getPixelBounds(),U=new ne(A.min.add(v),A.max.add(v));return v.add(this._getBoundsOffset(U,C))},_getBoundsOffset:function(v,C,A){var U=z(this.project(C.getNorthEast(),A),this.project(C.getSouthWest(),A)),te=U.min.subtract(v.min),ue=U.max.subtract(v.max),Te=this._rebound(te.x,-ue.x),Ye=this._rebound(te.y,-ue.y);return new I(Te,Ye)},_rebound:function(v,C){return v+C>0?Math.round(v-C)/2:Math.max(0,Math.ceil(v))-Math.max(0,Math.floor(C))},_limitZoom:function(v){var C=this.getMinZoom(),A=this.getMaxZoom(),U=et.any3d?this.options.zoomSnap:1;return U&&(v=Math.round(v/U)*U),Math.max(C,Math.min(A,v))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){xn(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(v,C){var A=this._getCenterOffset(v)._trunc();return(C&&C.animate)!==!0&&!this.getSize().contains(A)?!1:(this.panBy(A,C),!0)},_createAnimProxy:function(){var v=this._proxy=Yt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(v),this.on("zoomanim",function(C){var A=gt,U=this._proxy.style[A];Or(this._proxy,this.project(C.center,C.zoom),this.getZoomScale(C.zoom,1)),U===this._proxy.style[A]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Ce(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var v=this.getCenter(),C=this.getZoom();Or(this._proxy,this.project(v,C),this.getZoomScale(C,1))},_catchTransitionEnd:function(v){this._animatingZoom&&v.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(v,C,A){if(this._animatingZoom)return!0;if(A=A||{},!this._zoomAnimated||A.animate===!1||this._nothingToAnimate()||Math.abs(C-this._zoom)>this.options.zoomAnimationThreshold)return!1;var U=this.getZoomScale(C),te=this._getCenterOffset(v)._divideBy(1-1/U);return A.animate!==!0&&!this.getSize().contains(te)?!1:(D(function(){this._moveStart(!0,A.noMoveStart||!1)._animateZoom(v,C,!0)},this),!0)},_animateZoom:function(v,C,A,U){this._mapPane&&(A&&(this._animatingZoom=!0,this._animateToCenter=v,this._animateToZoom=C,Dt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:v,zoom:C,noUpdate:U}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(o(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&xn(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function sme(v,C){return new ir(v,C)}var Ul=W.extend({options:{position:"topright"},initialize:function(v){g(this,v)},getPosition:function(){return this.options.position},setPosition:function(v){var C=this._map;return C&&C.removeControl(this),this.options.position=v,C&&C.addControl(this),this},getContainer:function(){return this._container},addTo:function(v){this.remove(),this._map=v;var C=this._container=this.onAdd(v),A=this.getPosition(),U=v._controlCorners[A];return Dt(C,"leaflet-control"),A.indexOf("bottom")!==-1?U.insertBefore(C,U.firstChild):U.appendChild(C),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Ce(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(v){this._map&&v&&v.screenX>0&&v.screenY>0&&this._map.getContainer().focus()}}),wy=function(v){return new Ul(v)};ir.include({addControl:function(v){return v.addTo(this),this},removeControl:function(v){return v.remove(),this},_initControlPos:function(){var v=this._controlCorners={},C="leaflet-",A=this._controlContainer=Yt("div",C+"control-container",this._container);function U(te,ue){var Te=C+te+" "+C+ue;v[te+ue]=Yt("div",Te,A)}U("top","left"),U("top","right"),U("bottom","left"),U("bottom","right")},_clearControlPos:function(){for(var v in this._controlCorners)Ce(this._controlCorners[v]);Ce(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var K8=Ul.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(v,C,A,U){return A<U?-1:U<A?1:0}},initialize:function(v,C,A){g(this,A),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var U in v)this._addLayer(v[U],U);for(U in C)this._addLayer(C[U],U,!0)},onAdd:function(v){this._initLayout(),this._update(),this._map=v,v.on("zoomend",this._checkDisabledLayers,this);for(var C=0;C<this._layers.length;C++)this._layers[C].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(v){return Ul.prototype.addTo.call(this,v),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var v=0;v<this._layers.length;v++)this._layers[v].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(v,C){return this._addLayer(v,C),this._map?this._update():this},addOverlay:function(v,C){return this._addLayer(v,C,!0),this._map?this._update():this},removeLayer:function(v){v.off("add remove",this._onLayerChange,this);var C=this._getLayer(l(v));return C&&this._layers.splice(this._layers.indexOf(C),1),this._map?this._update():this},expand:function(){Dt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var v=this._map.getSize().y-(this._container.offsetTop+50);return v<this._section.clientHeight?(Dt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=v+"px"):xn(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return xn(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var v="leaflet-control-layers",C=this._container=Yt("div",v),A=this.options.collapsed;C.setAttribute("aria-haspopup",!0),by(C),FP(C);var U=this._section=Yt("section",v+"-list");A&&(this._map.on("click",this.collapse,this),In(C,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var te=this._layersLink=Yt("a",v+"-toggle",C);te.href="#",te.title="Layers",te.setAttribute("role","button"),In(te,{keydown:function(ue){ue.keyCode===13&&this._expandSafely()},click:function(ue){Li(ue),this._expandSafely()}},this),A||this.expand(),this._baseLayersList=Yt("div",v+"-base",U),this._separator=Yt("div",v+"-separator",U),this._overlaysList=Yt("div",v+"-overlays",U),C.appendChild(U)},_getLayer:function(v){for(var C=0;C<this._layers.length;C++)if(this._layers[C]&&l(this._layers[C].layer)===v)return this._layers[C]},_addLayer:function(v,C,A){this._map&&v.on("add remove",this._onLayerChange,this),this._layers.push({layer:v,name:C,overlay:A}),this.options.sortLayers&&this._layers.sort(o(function(U,te){return this.options.sortFunction(U.layer,te.layer,U.name,te.name)},this)),this.options.autoZIndex&&v.setZIndex&&(this._lastZIndex++,v.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;St(this._baseLayersList),St(this._overlaysList),this._layerControlInputs=[];var v,C,A,U,te=0;for(A=0;A<this._layers.length;A++)U=this._layers[A],this._addItem(U),C=C||U.overlay,v=v||!U.overlay,te+=U.overlay?0:1;return this.options.hideSingleBase&&(v=v&&te>1,this._baseLayersList.style.display=v?"":"none"),this._separator.style.display=C&&v?"":"none",this},_onLayerChange:function(v){this._handlingClick||this._update();var C=this._getLayer(l(v.target)),A=C.overlay?v.type==="add"?"overlayadd":"overlayremove":v.type==="add"?"baselayerchange":null;A&&this._map.fire(A,C)},_createRadioElement:function(v,C){var A='<input type="radio" class="leaflet-control-layers-selector" name="'+v+'"'+(C?' checked="checked"':"")+"/>",U=document.createElement("div");return U.innerHTML=A,U.firstChild},_addItem:function(v){var C=document.createElement("label"),A=this._map.hasLayer(v.layer),U;v.overlay?(U=document.createElement("input"),U.type="checkbox",U.className="leaflet-control-layers-selector",U.defaultChecked=A):U=this._createRadioElement("leaflet-base-layers_"+l(this),A),this._layerControlInputs.push(U),U.layerId=l(v.layer),In(U,"click",this._onInputClick,this);var te=document.createElement("span");te.innerHTML=" "+v.name;var ue=document.createElement("span");C.appendChild(ue),ue.appendChild(U),ue.appendChild(te);var Te=v.overlay?this._overlaysList:this._baseLayersList;return Te.appendChild(C),this._checkDisabledLayers(),C},_onInputClick:function(){if(!this._preventClick){var v=this._layerControlInputs,C,A,U=[],te=[];this._handlingClick=!0;for(var ue=v.length-1;ue>=0;ue--)C=v[ue],A=this._getLayer(C.layerId).layer,C.checked?U.push(A):C.checked||te.push(A);for(ue=0;ue<te.length;ue++)this._map.hasLayer(te[ue])&&this._map.removeLayer(te[ue]);for(ue=0;ue<U.length;ue++)this._map.hasLayer(U[ue])||this._map.addLayer(U[ue]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var v=this._layerControlInputs,C,A,U=this._map.getZoom(),te=v.length-1;te>=0;te--)C=v[te],A=this._getLayer(C.layerId).layer,C.disabled=A.options.minZoom!==void 0&&U<A.options.minZoom||A.options.maxZoom!==void 0&&U>A.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var v=this._section;this._preventClick=!0,In(v,"click",Li),this.expand();var C=this;setTimeout(function(){Wr(v,"click",Li),C._preventClick=!1})}}),lme=function(v,C,A){return new K8(v,C,A)},$P=Ul.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(v){var C="leaflet-control-zoom",A=Yt("div",C+" leaflet-bar"),U=this.options;return this._zoomInButton=this._createButton(U.zoomInText,U.zoomInTitle,C+"-in",A,this._zoomIn),this._zoomOutButton=this._createButton(U.zoomOutText,U.zoomOutTitle,C+"-out",A,this._zoomOut),this._updateDisabled(),v.on("zoomend zoomlevelschange",this._updateDisabled,this),A},onRemove:function(v){v.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(v){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(v.shiftKey?3:1))},_zoomOut:function(v){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(v.shiftKey?3:1))},_createButton:function(v,C,A,U,te){var ue=Yt("a",A,U);return ue.innerHTML=v,ue.href="#",ue.title=C,ue.setAttribute("role","button"),ue.setAttribute("aria-label",C),by(ue),In(ue,"click",Uh),In(ue,"click",te,this),In(ue,"click",this._refocusOnMap,this),ue},_updateDisabled:function(){var v=this._map,C="leaflet-disabled";xn(this._zoomInButton,C),xn(this._zoomOutButton,C),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||v._zoom===v.getMinZoom())&&(Dt(this._zoomOutButton,C),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||v._zoom===v.getMaxZoom())&&(Dt(this._zoomInButton,C),this._zoomInButton.setAttribute("aria-disabled","true"))}});ir.mergeOptions({zoomControl:!0}),ir.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new $P,this.addControl(this.zoomControl))});var cme=function(v){return new $P(v)},X8=Ul.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(v){var C="leaflet-control-scale",A=Yt("div",C),U=this.options;return this._addScales(U,C+"-line",A),v.on(U.updateWhenIdle?"moveend":"move",this._update,this),v.whenReady(this._update,this),A},onRemove:function(v){v.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(v,C,A){v.metric&&(this._mScale=Yt("div",C,A)),v.imperial&&(this._iScale=Yt("div",C,A))},_update:function(){var v=this._map,C=v.getSize().y/2,A=v.distance(v.containerPointToLatLng([0,C]),v.containerPointToLatLng([this.options.maxWidth,C]));this._updateScales(A)},_updateScales:function(v){this.options.metric&&v&&this._updateMetric(v),this.options.imperial&&v&&this._updateImperial(v)},_updateMetric:function(v){var C=this._getRoundNum(v),A=C<1e3?C+" m":C/1e3+" km";this._updateScale(this._mScale,A,C/v)},_updateImperial:function(v){var C=v*3.2808399,A,U,te;C>5280?(A=C/5280,U=this._getRoundNum(A),this._updateScale(this._iScale,U+" mi",U/A)):(te=this._getRoundNum(C),this._updateScale(this._iScale,te+" ft",te/C))},_updateScale:function(v,C,A){v.style.width=Math.round(this.options.maxWidth*A)+"px",v.innerHTML=C},_getRoundNum:function(v){var C=Math.pow(10,(Math.floor(v)+"").length-1),A=v/C;return A=A>=10?10:A>=5?5:A>=3?3:A>=2?2:1,C*A}}),ume=function(v){return new X8(v)},dme='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',BP=Ul.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(et.inlineSvg?dme+" ":"")+"Leaflet</a>"},initialize:function(v){g(this,v),this._attributions={}},onAdd:function(v){v.attributionControl=this,this._container=Yt("div","leaflet-control-attribution"),by(this._container);for(var C in v._layers)v._layers[C].getAttribution&&this.addAttribution(v._layers[C].getAttribution());return this._update(),v.on("layeradd",this._addAttribution,this),this._container},onRemove:function(v){v.off("layeradd",this._addAttribution,this)},_addAttribution:function(v){v.layer.getAttribution&&(this.addAttribution(v.layer.getAttribution()),v.layer.once("remove",function(){this.removeAttribution(v.layer.getAttribution())},this))},setPrefix:function(v){return this.options.prefix=v,this._update(),this},addAttribution:function(v){return v?(this._attributions[v]||(this._attributions[v]=0),this._attributions[v]++,this._update(),this):this},removeAttribution:function(v){return v?(this._attributions[v]&&(this._attributions[v]--,this._update()),this):this},_update:function(){if(this._map){var v=[];for(var C in this._attributions)this._attributions[C]&&v.push(C);var A=[];this.options.prefix&&A.push(this.options.prefix),v.length&&A.push(v.join(", ")),this._container.innerHTML=A.join(' <span aria-hidden="true">|</span> ')}}});ir.mergeOptions({attributionControl:!0}),ir.addInitHook(function(){this.options.attributionControl&&new BP().addTo(this)});var fme=function(v){return new BP(v)};Ul.Layers=K8,Ul.Zoom=$P,Ul.Scale=X8,Ul.Attribution=BP,wy.layers=lme,wy.zoom=cme,wy.scale=ume,wy.attribution=fme;var jc=W.extend({initialize:function(v){this._map=v},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});jc.addTo=function(v,C){return v.addHandler(C,this),this};var hme={Events:V},Z8=et.touch?"touchstart mousedown":"mousedown",Jd=q.extend({options:{clickTolerance:3},initialize:function(v,C,A,U){g(this,U),this._element=v,this._dragStartTarget=C||v,this._preventOutline=A},enable:function(){this._enabled||(In(this._dragStartTarget,Z8,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Jd._dragging===this&&this.finishDrag(!0),Wr(this._dragStartTarget,Z8,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(v){if(this._enabled&&(this._moved=!1,!En(this._element,"leaflet-zoom-anim"))){if(v.touches&&v.touches.length!==1){Jd._dragging===this&&this.finishDrag();return}if(!(Jd._dragging||v.shiftKey||v.which!==1&&v.button!==1&&!v.touches)&&(Jd._dragging=this,this._preventOutline&&DP(this._element),xy(),Ys(),!this._moving)){this.fire("down");var C=v.touches?v.touches[0]:v,A=W8(this._element);this._startPoint=new I(C.clientX,C.clientY),this._startPos=Gs(this._element),this._parentScale=OP(A);var U=v.type==="mousedown";In(document,U?"mousemove":"touchmove",this._onMove,this),In(document,U?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(v){if(this._enabled){if(v.touches&&v.touches.length>1){this._moved=!0;return}var C=v.touches&&v.touches.length===1?v.touches[0]:v,A=new I(C.clientX,C.clientY)._subtract(this._startPoint);!A.x&&!A.y||Math.abs(A.x)+Math.abs(A.y)<this.options.clickTolerance||(A.x/=this._parentScale.x,A.y/=this._parentScale.y,Li(v),this._moved||(this.fire("dragstart"),this._moved=!0,Dt(document.body,"leaflet-dragging"),this._lastTarget=v.target||v.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Dt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(A),this._moving=!0,this._lastEvent=v,this._updatePosition())}},_updatePosition:function(){var v={originalEvent:this._lastEvent};this.fire("predrag",v),_r(this._element,this._newPos),this.fire("drag",v)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(v){xn(document.body,"leaflet-dragging"),this._lastTarget&&(xn(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Wr(document,"mousemove touchmove",this._onMove,this),Wr(document,"mouseup touchend touchcancel",this._onUp,this),zl(),_n();var C=this._moved&&this._moving;this._moving=!1,Jd._dragging=!1,C&&this.fire("dragend",{noInertia:v,distance:this._newPos.distanceTo(this._startPos)})}});function Q8(v,C,A){var U,te=[1,4,2,8],ue,Te,Ye,tt,xt,Kt,bn,Vn;for(ue=0,Kt=v.length;ue<Kt;ue++)v[ue]._code=Wh(v[ue],C);for(Ye=0;Ye<4;Ye++){for(bn=te[Ye],U=[],ue=0,Kt=v.length,Te=Kt-1;ue<Kt;Te=ue++)tt=v[ue],xt=v[Te],tt._code&bn?xt._code&bn||(Vn=E2(xt,tt,bn,C,A),Vn._code=Wh(Vn,C),U.push(Vn)):(xt._code&bn&&(Vn=E2(xt,tt,bn,C,A),Vn._code=Wh(Vn,C),U.push(Vn)),U.push(tt));v=U}return v}function J8(v,C){var A,U,te,ue,Te,Ye,tt,xt,Kt;if(!v||v.length===0)throw new Error("latlngs not passed");Xs(v)||(console.warn("latlngs are not flat! Only the first ring will be used"),v=v[0]);var bn=Z([0,0]),Vn=ee(v),Po=Vn.getNorthWest().distanceTo(Vn.getSouthWest())*Vn.getNorthEast().distanceTo(Vn.getNorthWest());Po<1700&&(bn=zP(v));var xi=v.length,Zs=[];for(A=0;A<xi;A++){var Wo=Z(v[A]);Zs.push(C.project(Z([Wo.lat-bn.lat,Wo.lng-bn.lng])))}for(Ye=tt=xt=0,A=0,U=xi-1;A<xi;U=A++)te=Zs[A],ue=Zs[U],Te=te.y*ue.x-ue.y*te.x,tt+=(te.x+ue.x)*Te,xt+=(te.y+ue.y)*Te,Ye+=Te*3;Ye===0?Kt=Zs[0]:Kt=[tt/Ye,xt/Ye];var tg=C.unproject(H(Kt));return Z([tg.lat+bn.lat,tg.lng+bn.lng])}function zP(v){for(var C=0,A=0,U=0,te=0;te<v.length;te++){var ue=Z(v[te]);C+=ue.lat,A+=ue.lng,U++}return Z([C/U,A/U])}var pme={__proto__:null,clipPolygon:Q8,polygonCenter:J8,centroid:zP};function eB(v,C){if(!C||!v.length)return v.slice();var A=C*C;return v=vme(v,A),v=gme(v,A),v}function tB(v,C,A){return Math.sqrt(_y(v,C,A,!0))}function mme(v,C,A){return _y(v,C,A)}function gme(v,C){var A=v.length,U=typeof Uint8Array<"u"?Uint8Array:Array,te=new U(A);te[0]=te[A-1]=1,UP(v,te,C,0,A-1);var ue,Te=[];for(ue=0;ue<A;ue++)te[ue]&&Te.push(v[ue]);return Te}function UP(v,C,A,U,te){var ue=0,Te,Ye,tt;for(Ye=U+1;Ye<=te-1;Ye++)tt=_y(v[Ye],v[U],v[te],!0),tt>ue&&(Te=Ye,ue=tt);ue>A&&(C[Te]=1,UP(v,C,A,U,Te),UP(v,C,A,Te,te))}function vme(v,C){for(var A=[v[0]],U=1,te=0,ue=v.length;U<ue;U++)yme(v[U],v[te])>C&&(A.push(v[U]),te=U);return te<ue-1&&A.push(v[ue-1]),A}var nB;function rB(v,C,A,U,te){var ue=U?nB:Wh(v,A),Te=Wh(C,A),Ye,tt,xt;for(nB=Te;;){if(!(ue|Te))return[v,C];if(ue&Te)return!1;Ye=ue||Te,tt=E2(v,C,Ye,A,te),xt=Wh(tt,A),Ye===ue?(v=tt,ue=xt):(C=tt,Te=xt)}}function E2(v,C,A,U,te){var ue=C.x-v.x,Te=C.y-v.y,Ye=U.min,tt=U.max,xt,Kt;return A&8?(xt=v.x+ue*(tt.y-v.y)/Te,Kt=tt.y):A&4?(xt=v.x+ue*(Ye.y-v.y)/Te,Kt=Ye.y):A&2?(xt=tt.x,Kt=v.y+Te*(tt.x-v.x)/ue):A&1&&(xt=Ye.x,Kt=v.y+Te*(Ye.x-v.x)/ue),new I(xt,Kt,te)}function Wh(v,C){var A=0;return v.x<C.min.x?A|=1:v.x>C.max.x&&(A|=2),v.y<C.min.y?A|=4:v.y>C.max.y&&(A|=8),A}function yme(v,C){var A=C.x-v.x,U=C.y-v.y;return A*A+U*U}function _y(v,C,A,U){var te=C.x,ue=C.y,Te=A.x-te,Ye=A.y-ue,tt=Te*Te+Ye*Ye,xt;return tt>0&&(xt=((v.x-te)*Te+(v.y-ue)*Ye)/tt,xt>1?(te=A.x,ue=A.y):xt>0&&(te+=Te*xt,ue+=Ye*xt)),Te=v.x-te,Ye=v.y-ue,U?Te*Te+Ye*Ye:new I(te,ue)}function Xs(v){return!w(v[0])||typeof v[0][0]!="object"&&typeof v[0][0]<"u"}function aB(v){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Xs(v)}function iB(v,C){var A,U,te,ue,Te,Ye,tt,xt;if(!v||v.length===0)throw new Error("latlngs not passed");Xs(v)||(console.warn("latlngs are not flat! Only the first ring will be used"),v=v[0]);var Kt=Z([0,0]),bn=ee(v),Vn=bn.getNorthWest().distanceTo(bn.getSouthWest())*bn.getNorthEast().distanceTo(bn.getNorthWest());Vn<1700&&(Kt=zP(v));var Po=v.length,xi=[];for(A=0;A<Po;A++){var Zs=Z(v[A]);xi.push(C.project(Z([Zs.lat-Kt.lat,Zs.lng-Kt.lng])))}for(A=0,U=0;A<Po-1;A++)U+=xi[A].distanceTo(xi[A+1])/2;if(U===0)xt=xi[0];else for(A=0,ue=0;A<Po-1;A++)if(Te=xi[A],Ye=xi[A+1],te=Te.distanceTo(Ye),ue+=te,ue>U){tt=(ue-U)/te,xt=[Ye.x-tt*(Ye.x-Te.x),Ye.y-tt*(Ye.y-Te.y)];break}var Wo=C.unproject(H(xt));return Z([Wo.lat+Kt.lat,Wo.lng+Kt.lng])}var xme={__proto__:null,simplify:eB,pointToSegmentDistance:tB,closestPointOnSegment:mme,clipSegment:rB,_getEdgeIntersection:E2,_getBitCode:Wh,_sqClosestPointOnSegment:_y,isFlat:Xs,_flat:aB,polylineCenter:iB},WP={project:function(v){return new I(v.lng,v.lat)},unproject:function(v){return new G(v.y,v.x)},bounds:new ne([-180,-90],[180,90])},VP={R:6378137,R_MINOR:6356752314245179e-9,bounds:new ne([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(v){var C=Math.PI/180,A=this.R,U=v.lat*C,te=this.R_MINOR/A,ue=Math.sqrt(1-te*te),Te=ue*Math.sin(U),Ye=Math.tan(Math.PI/4-U/2)/Math.pow((1-Te)/(1+Te),ue/2);return U=-A*Math.log(Math.max(Ye,1e-10)),new I(v.lng*C*A,U)},unproject:function(v){for(var C=180/Math.PI,A=this.R,U=this.R_MINOR/A,te=Math.sqrt(1-U*U),ue=Math.exp(-v.y/A),Te=Math.PI/2-2*Math.atan(ue),Ye=0,tt=.1,xt;Ye<15&&Math.abs(tt)>1e-7;Ye++)xt=te*Math.sin(Te),xt=Math.pow((1-xt)/(1+xt),te/2),tt=Math.PI/2-2*Math.atan(ue*xt)-Te,Te+=tt;return new G(Te*C,v.x*C/A)}},bme={__proto__:null,LonLat:WP,Mercator:VP,SphericalMercator:X},wme=a({},ae,{code:"EPSG:3395",projection:VP,transformation:function(){var v=.5/(Math.PI*VP.R);return F(v,.5,-v,.5)}()}),oB=a({},ae,{code:"EPSG:4326",projection:WP,transformation:F(1/180,1,-1/180,.5)}),_me=a({},se,{projection:WP,transformation:F(1,0,-1,0),scale:function(v){return Math.pow(2,v)},zoom:function(v){return Math.log(v)/Math.LN2},distance:function(v,C){var A=C.lng-v.lng,U=C.lat-v.lat;return Math.sqrt(A*A+U*U)},infinite:!0});se.Earth=ae,se.EPSG3395=wme,se.EPSG3857=re,se.EPSG900913=Q,se.EPSG4326=oB,se.Simple=_me;var Wl=q.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(v){return v.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(v){return v&&v.removeLayer(this),this},getPane:function(v){return this._map.getPane(v?this.options[v]||v:this.options.pane)},addInteractiveTarget:function(v){return this._map._targets[l(v)]=this,this},removeInteractiveTarget:function(v){return delete this._map._targets[l(v)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(v){var C=v.target;if(C.hasLayer(this)){if(this._map=C,this._zoomAnimated=C._zoomAnimated,this.getEvents){var A=this.getEvents();C.on(A,this),this.once("remove",function(){C.off(A,this)},this)}this.onAdd(C),this.fire("add"),C.fire("layeradd",{layer:this})}}});ir.include({addLayer:function(v){if(!v._layerAdd)throw new Error("The provided object is not a Layer.");var C=l(v);return this._layers[C]?this:(this._layers[C]=v,v._mapToAdd=this,v.beforeAdd&&v.beforeAdd(this),this.whenReady(v._layerAdd,v),this)},removeLayer:function(v){var C=l(v);return this._layers[C]?(this._loaded&&v.onRemove(this),delete this._layers[C],this._loaded&&(this.fire("layerremove",{layer:v}),v.fire("remove")),v._map=v._mapToAdd=null,this):this},hasLayer:function(v){return l(v)in this._layers},eachLayer:function(v,C){for(var A in this._layers)v.call(C,this._layers[A]);return this},_addLayers:function(v){v=v?w(v)?v:[v]:[];for(var C=0,A=v.length;C<A;C++)this.addLayer(v[C])},_addZoomLimit:function(v){(!isNaN(v.options.maxZoom)||!isNaN(v.options.minZoom))&&(this._zoomBoundLayers[l(v)]=v,this._updateZoomLevels())},_removeZoomLimit:function(v){var C=l(v);this._zoomBoundLayers[C]&&(delete this._zoomBoundLayers[C],this._updateZoomLevels())},_updateZoomLevels:function(){var v=1/0,C=-1/0,A=this._getZoomSpan();for(var U in this._zoomBoundLayers){var te=this._zoomBoundLayers[U].options;v=te.minZoom===void 0?v:Math.min(v,te.minZoom),C=te.maxZoom===void 0?C:Math.max(C,te.maxZoom)}this._layersMaxZoom=C===-1/0?void 0:C,this._layersMinZoom=v===1/0?void 0:v,A!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Xm=Wl.extend({initialize:function(v,C){g(this,C),this._layers={};var A,U;if(v)for(A=0,U=v.length;A<U;A++)this.addLayer(v[A])},addLayer:function(v){var C=this.getLayerId(v);return this._layers[C]=v,this._map&&this._map.addLayer(v),this},removeLayer:function(v){var C=v in this._layers?v:this.getLayerId(v);return this._map&&this._layers[C]&&this._map.removeLayer(this._layers[C]),delete this._layers[C],this},hasLayer:function(v){var C=typeof v=="number"?v:this.getLayerId(v);return C in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(v){var C=Array.prototype.slice.call(arguments,1),A,U;for(A in this._layers)U=this._layers[A],U[v]&&U[v].apply(U,C);return this},onAdd:function(v){this.eachLayer(v.addLayer,v)},onRemove:function(v){this.eachLayer(v.removeLayer,v)},eachLayer:function(v,C){for(var A in this._layers)v.call(C,this._layers[A]);return this},getLayer:function(v){return this._layers[v]},getLayers:function(){var v=[];return this.eachLayer(v.push,v),v},setZIndex:function(v){return this.invoke("setZIndex",v)},getLayerId:function(v){return l(v)}}),Sme=function(v,C){return new Xm(v,C)},Lu=Xm.extend({addLayer:function(v){return this.hasLayer(v)?this:(v.addEventParent(this),Xm.prototype.addLayer.call(this,v),this.fire("layeradd",{layer:v}))},removeLayer:function(v){return this.hasLayer(v)?(v in this._layers&&(v=this._layers[v]),v.removeEventParent(this),Xm.prototype.removeLayer.call(this,v),this.fire("layerremove",{layer:v})):this},setStyle:function(v){return this.invoke("setStyle",v)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var v=new J;for(var C in this._layers){var A=this._layers[C];v.extend(A.getBounds?A.getBounds():A.getLatLng())}return v}}),Cme=function(v,C){return new Lu(v,C)},Zm=W.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(v){g(this,v)},createIcon:function(v){return this._createIcon("icon",v)},createShadow:function(v){return this._createIcon("shadow",v)},_createIcon:function(v,C){var A=this._getIconUrl(v);if(!A){if(v==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var U=this._createImg(A,C&&C.tagName==="IMG"?C:null);return this._setIconStyles(U,v),(this.options.crossOrigin||this.options.crossOrigin==="")&&(U.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),U},_setIconStyles:function(v,C){var A=this.options,U=A[C+"Size"];typeof U=="number"&&(U=[U,U]);var te=H(U),ue=H(C==="shadow"&&A.shadowAnchor||A.iconAnchor||te&&te.divideBy(2,!0));v.className="leaflet-marker-"+C+" "+(A.className||""),ue&&(v.style.marginLeft=-ue.x+"px",v.style.marginTop=-ue.y+"px"),te&&(v.style.width=te.x+"px",v.style.height=te.y+"px")},_createImg:function(v,C){return C=C||document.createElement("img"),C.src=v,C},_getIconUrl:function(v){return et.retina&&this.options[v+"RetinaUrl"]||this.options[v+"Url"]}});function Eme(v){return new Zm(v)}var Sy=Zm.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(v){return typeof Sy.imagePath!="string"&&(Sy.imagePath=this._detectIconPath()),(this.options.imagePath||Sy.imagePath)+Zm.prototype._getIconUrl.call(this,v)},_stripUrl:function(v){var C=function(A,U,te){var ue=U.exec(A);return ue&&ue[te]};return v=C(v,/^url\((['"])?(.+)\1\)$/,2),v&&C(v,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var v=Yt("div","leaflet-default-icon-path",document.body),C=ar(v,"background-image")||ar(v,"backgroundImage");if(document.body.removeChild(v),C=this._stripUrl(C),C)return C;var A=document.querySelector('link[href$="leaflet.css"]');return A?A.href.substring(0,A.href.length-11-1):""}}),sB=jc.extend({initialize:function(v){this._marker=v},addHooks:function(){var v=this._marker._icon;this._draggable||(this._draggable=new Jd(v,v,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Dt(v,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&xn(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(v){var C=this._marker,A=C._map,U=this._marker.options.autoPanSpeed,te=this._marker.options.autoPanPadding,ue=Gs(C._icon),Te=A.getPixelBounds(),Ye=A.getPixelOrigin(),tt=z(Te.min._subtract(Ye).add(te),Te.max._subtract(Ye).subtract(te));if(!tt.contains(ue)){var xt=H((Math.max(tt.max.x,ue.x)-tt.max.x)/(Te.max.x-tt.max.x)-(Math.min(tt.min.x,ue.x)-tt.min.x)/(Te.min.x-tt.min.x),(Math.max(tt.max.y,ue.y)-tt.max.y)/(Te.max.y-tt.max.y)-(Math.min(tt.min.y,ue.y)-tt.min.y)/(Te.min.y-tt.min.y)).multiplyBy(U);A.panBy(xt,{animate:!1}),this._draggable._newPos._add(xt),this._draggable._startPos._add(xt),_r(C._icon,this._draggable._newPos),this._onDrag(v),this._panRequest=D(this._adjustPan.bind(this,v))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(v){this._marker.options.autoPan&&(M(this._panRequest),this._panRequest=D(this._adjustPan.bind(this,v)))},_onDrag:function(v){var C=this._marker,A=C._shadow,U=Gs(C._icon),te=C._map.layerPointToLatLng(U);A&&_r(A,U),C._latlng=te,v.latlng=te,v.oldLatLng=this._oldLatLng,C.fire("move",v).fire("drag",v)},_onDragEnd:function(v){M(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",v)}}),N2=Wl.extend({options:{icon:new Sy,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(v,C){g(this,C),this._latlng=Z(v)},onAdd:function(v){this._zoomAnimated=this._zoomAnimated&&v.options.markerZoomAnimation,this._zoomAnimated&&v.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(v){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&v.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(v){var C=this._latlng;return this._latlng=Z(v),this.update(),this.fire("move",{oldLatLng:C,latlng:this._latlng})},setZIndexOffset:function(v){return this.options.zIndexOffset=v,this.update()},getIcon:function(){return this.options.icon},setIcon:function(v){return this.options.icon=v,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var v=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(v)}return this},_initIcon:function(){var v=this.options,C="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),A=v.icon.createIcon(this._icon),U=!1;A!==this._icon&&(this._icon&&this._removeIcon(),U=!0,v.title&&(A.title=v.title),A.tagName==="IMG"&&(A.alt=v.alt||"")),Dt(A,C),v.keyboard&&(A.tabIndex="0",A.setAttribute("role","button")),this._icon=A,v.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&In(A,"focus",this._panOnFocus,this);var te=v.icon.createShadow(this._shadow),ue=!1;te!==this._shadow&&(this._removeShadow(),ue=!0),te&&(Dt(te,C),te.alt=""),this._shadow=te,v.opacity<1&&this._updateOpacity(),U&&this.getPane().appendChild(this._icon),this._initInteraction(),te&&ue&&this.getPane(v.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Wr(this._icon,"focus",this._panOnFocus,this),Ce(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Ce(this._shadow),this._shadow=null},_setPos:function(v){this._icon&&_r(this._icon,v),this._shadow&&_r(this._shadow,v),this._zIndex=v.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(v){this._icon&&(this._icon.style.zIndex=this._zIndex+v)},_animateZoom:function(v){var C=this._map._latLngToNewLayerPoint(this._latlng,v.zoom,v.center).round();this._setPos(C)},_initInteraction:function(){if(this.options.interactive&&(Dt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),sB)){var v=this.options.draggable;this.dragging&&(v=this.dragging.enabled(),this.dragging.disable()),this.dragging=new sB(this),v&&this.dragging.enable()}},setOpacity:function(v){return this.options.opacity=v,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var v=this.options.opacity;this._icon&&Fe(this._icon,v),this._shadow&&Fe(this._shadow,v)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var v=this._map;if(v){var C=this.options.icon.options,A=C.iconSize?H(C.iconSize):H(0,0),U=C.iconAnchor?H(C.iconAnchor):H(0,0);v.panInside(this._latlng,{paddingTopLeft:U,paddingBottomRight:A.subtract(U)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Nme(v,C){return new N2(v,C)}var ef=Wl.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(v){this._renderer=v.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(v){return g(this,v),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&v&&Object.prototype.hasOwnProperty.call(v,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),k2=ef.extend({options:{fill:!0,radius:10},initialize:function(v,C){g(this,C),this._latlng=Z(v),this._radius=this.options.radius},setLatLng:function(v){var C=this._latlng;return this._latlng=Z(v),this.redraw(),this.fire("move",{oldLatLng:C,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(v){return this.options.radius=this._radius=v,this.redraw()},getRadius:function(){return this._radius},setStyle:function(v){var C=v&&v.radius||this._radius;return ef.prototype.setStyle.call(this,v),this.setRadius(C),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var v=this._radius,C=this._radiusY||v,A=this._clickTolerance(),U=[v+A,C+A];this._pxBounds=new ne(this._point.subtract(U),this._point.add(U))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(v){return v.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function kme(v,C){return new k2(v,C)}var HP=k2.extend({initialize:function(v,C,A){if(typeof C=="number"&&(C=a({},A,{radius:C})),g(this,C),this._latlng=Z(v),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(v){return this._mRadius=v,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var v=[this._radius,this._radiusY||this._radius];return new J(this._map.layerPointToLatLng(this._point.subtract(v)),this._map.layerPointToLatLng(this._point.add(v)))},setStyle:ef.prototype.setStyle,_project:function(){var v=this._latlng.lng,C=this._latlng.lat,A=this._map,U=A.options.crs;if(U.distance===ae.distance){var te=Math.PI/180,ue=this._mRadius/ae.R/te,Te=A.project([C+ue,v]),Ye=A.project([C-ue,v]),tt=Te.add(Ye).divideBy(2),xt=A.unproject(tt).lat,Kt=Math.acos((Math.cos(ue*te)-Math.sin(C*te)*Math.sin(xt*te))/(Math.cos(C*te)*Math.cos(xt*te)))/te;(isNaN(Kt)||Kt===0)&&(Kt=ue/Math.cos(Math.PI/180*C)),this._point=tt.subtract(A.getPixelOrigin()),this._radius=isNaN(Kt)?0:tt.x-A.project([xt,v-Kt]).x,this._radiusY=tt.y-Te.y}else{var bn=U.unproject(U.project(this._latlng).subtract([this._mRadius,0]));this._point=A.latLngToLayerPoint(this._latlng),this._radius=this._point.x-A.latLngToLayerPoint(bn).x}this._updateBounds()}});function jme(v,C,A){return new HP(v,C,A)}var $u=ef.extend({options:{smoothFactor:1,noClip:!1},initialize:function(v,C){g(this,C),this._setLatLngs(v)},getLatLngs:function(){return this._latlngs},setLatLngs:function(v){return this._setLatLngs(v),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(v){for(var C=1/0,A=null,U=_y,te,ue,Te=0,Ye=this._parts.length;Te<Ye;Te++)for(var tt=this._parts[Te],xt=1,Kt=tt.length;xt<Kt;xt++){te=tt[xt-1],ue=tt[xt];var bn=U(v,te,ue,!0);bn<C&&(C=bn,A=U(v,te,ue))}return A&&(A.distance=Math.sqrt(C)),A},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return iB(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(v,C){return C=C||this._defaultShape(),v=Z(v),C.push(v),this._bounds.extend(v),this.redraw()},_setLatLngs:function(v){this._bounds=new J,this._latlngs=this._convertLatLngs(v)},_defaultShape:function(){return Xs(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(v){for(var C=[],A=Xs(v),U=0,te=v.length;U<te;U++)A?(C[U]=Z(v[U]),this._bounds.extend(C[U])):C[U]=this._convertLatLngs(v[U]);return C},_project:function(){var v=new ne;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,v),this._bounds.isValid()&&v.isValid()&&(this._rawPxBounds=v,this._updateBounds())},_updateBounds:function(){var v=this._clickTolerance(),C=new I(v,v);this._rawPxBounds&&(this._pxBounds=new ne([this._rawPxBounds.min.subtract(C),this._rawPxBounds.max.add(C)]))},_projectLatlngs:function(v,C,A){var U=v[0]instanceof G,te=v.length,ue,Te;if(U){for(Te=[],ue=0;ue<te;ue++)Te[ue]=this._map.latLngToLayerPoint(v[ue]),A.extend(Te[ue]);C.push(Te)}else for(ue=0;ue<te;ue++)this._projectLatlngs(v[ue],C,A)},_clipPoints:function(){var v=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(v))){if(this.options.noClip){this._parts=this._rings;return}var C=this._parts,A,U,te,ue,Te,Ye,tt;for(A=0,te=0,ue=this._rings.length;A<ue;A++)for(tt=this._rings[A],U=0,Te=tt.length;U<Te-1;U++)Ye=rB(tt[U],tt[U+1],v,U,!0),Ye&&(C[te]=C[te]||[],C[te].push(Ye[0]),(Ye[1]!==tt[U+1]||U===Te-2)&&(C[te].push(Ye[1]),te++))}},_simplifyPoints:function(){for(var v=this._parts,C=this.options.smoothFactor,A=0,U=v.length;A<U;A++)v[A]=eB(v[A],C)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(v,C){var A,U,te,ue,Te,Ye,tt=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(v))return!1;for(A=0,ue=this._parts.length;A<ue;A++)for(Ye=this._parts[A],U=0,Te=Ye.length,te=Te-1;U<Te;te=U++)if(!(!C&&U===0)&&tB(v,Ye[te],Ye[U])<=tt)return!0;return!1}});function Tme(v,C){return new $u(v,C)}$u._flat=aB;var Qm=$u.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return J8(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(v){var C=$u.prototype._convertLatLngs.call(this,v),A=C.length;return A>=2&&C[0]instanceof G&&C[0].equals(C[A-1])&&C.pop(),C},_setLatLngs:function(v){$u.prototype._setLatLngs.call(this,v),Xs(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Xs(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var v=this._renderer._bounds,C=this.options.weight,A=new I(C,C);if(v=new ne(v.min.subtract(A),v.max.add(A)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(v))){if(this.options.noClip){this._parts=this._rings;return}for(var U=0,te=this._rings.length,ue;U<te;U++)ue=Q8(this._rings[U],v,!0),ue.length&&this._parts.push(ue)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(v){var C=!1,A,U,te,ue,Te,Ye,tt,xt;if(!this._pxBounds||!this._pxBounds.contains(v))return!1;for(ue=0,tt=this._parts.length;ue<tt;ue++)for(A=this._parts[ue],Te=0,xt=A.length,Ye=xt-1;Te<xt;Ye=Te++)U=A[Te],te=A[Ye],U.y>v.y!=te.y>v.y&&v.x<(te.x-U.x)*(v.y-U.y)/(te.y-U.y)+U.x&&(C=!C);return C||$u.prototype._containsPoint.call(this,v,!0)}});function Pme(v,C){return new Qm(v,C)}var Bu=Lu.extend({initialize:function(v,C){g(this,C),this._layers={},v&&this.addData(v)},addData:function(v){var C=w(v)?v:v.features,A,U,te;if(C){for(A=0,U=C.length;A<U;A++)te=C[A],(te.geometries||te.geometry||te.features||te.coordinates)&&this.addData(te);return this}var ue=this.options;if(ue.filter&&!ue.filter(v))return this;var Te=j2(v,ue);return Te?(Te.feature=A2(v),Te.defaultOptions=Te.options,this.resetStyle(Te),ue.onEachFeature&&ue.onEachFeature(v,Te),this.addLayer(Te)):this},resetStyle:function(v){return v===void 0?this.eachLayer(this.resetStyle,this):(v.options=a({},v.defaultOptions),this._setLayerStyle(v,this.options.style),this)},setStyle:function(v){return this.eachLayer(function(C){this._setLayerStyle(C,v)},this)},_setLayerStyle:function(v,C){v.setStyle&&(typeof C=="function"&&(C=C(v.feature)),v.setStyle(C))}});function j2(v,C){var A=v.type==="Feature"?v.geometry:v,U=A?A.coordinates:null,te=[],ue=C&&C.pointToLayer,Te=C&&C.coordsToLatLng||qP,Ye,tt,xt,Kt;if(!U&&!A)return null;switch(A.type){case"Point":return Ye=Te(U),lB(ue,v,Ye,C);case"MultiPoint":for(xt=0,Kt=U.length;xt<Kt;xt++)Ye=Te(U[xt]),te.push(lB(ue,v,Ye,C));return new Lu(te);case"LineString":case"MultiLineString":return tt=T2(U,A.type==="LineString"?0:1,Te),new $u(tt,C);case"Polygon":case"MultiPolygon":return tt=T2(U,A.type==="Polygon"?1:2,Te),new Qm(tt,C);case"GeometryCollection":for(xt=0,Kt=A.geometries.length;xt<Kt;xt++){var bn=j2({geometry:A.geometries[xt],type:"Feature",properties:v.properties},C);bn&&te.push(bn)}return new Lu(te);case"FeatureCollection":for(xt=0,Kt=A.features.length;xt<Kt;xt++){var Vn=j2(A.features[xt],C);Vn&&te.push(Vn)}return new Lu(te);default:throw new Error("Invalid GeoJSON object.")}}function lB(v,C,A,U){return v?v(C,A):new N2(A,U&&U.markersInheritOptions&&U)}function qP(v){return new G(v[1],v[0],v[2])}function T2(v,C,A){for(var U=[],te=0,ue=v.length,Te;te<ue;te++)Te=C?T2(v[te],C-1,A):(A||qP)(v[te]),U.push(Te);return U}function GP(v,C){return v=Z(v),v.alt!==void 0?[h(v.lng,C),h(v.lat,C),h(v.alt,C)]:[h(v.lng,C),h(v.lat,C)]}function P2(v,C,A,U){for(var te=[],ue=0,Te=v.length;ue<Te;ue++)te.push(C?P2(v[ue],Xs(v[ue])?0:C-1,A,U):GP(v[ue],U));return!C&&A&&te.length>0&&te.push(te[0].slice()),te}function Jm(v,C){return v.feature?a({},v.feature,{geometry:C}):A2(C)}function A2(v){return v.type==="Feature"||v.type==="FeatureCollection"?v:{type:"Feature",properties:{},geometry:v}}var YP={toGeoJSON:function(v){return Jm(this,{type:"Point",coordinates:GP(this.getLatLng(),v)})}};N2.include(YP),HP.include(YP),k2.include(YP),$u.include({toGeoJSON:function(v){var C=!Xs(this._latlngs),A=P2(this._latlngs,C?1:0,!1,v);return Jm(this,{type:(C?"Multi":"")+"LineString",coordinates:A})}}),Qm.include({toGeoJSON:function(v){var C=!Xs(this._latlngs),A=C&&!Xs(this._latlngs[0]),U=P2(this._latlngs,A?2:C?1:0,!0,v);return C||(U=[U]),Jm(this,{type:(A?"Multi":"")+"Polygon",coordinates:U})}}),Xm.include({toMultiPoint:function(v){var C=[];return this.eachLayer(function(A){C.push(A.toGeoJSON(v).geometry.coordinates)}),Jm(this,{type:"MultiPoint",coordinates:C})},toGeoJSON:function(v){var C=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(C==="MultiPoint")return this.toMultiPoint(v);var A=C==="GeometryCollection",U=[];return this.eachLayer(function(te){if(te.toGeoJSON){var ue=te.toGeoJSON(v);if(A)U.push(ue.geometry);else{var Te=A2(ue);Te.type==="FeatureCollection"?U.push.apply(U,Te.features):U.push(Te)}}}),A?Jm(this,{geometries:U,type:"GeometryCollection"}):{type:"FeatureCollection",features:U}}});function cB(v,C){return new Bu(v,C)}var Ame=cB,D2=Wl.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(v,C,A){this._url=v,this._bounds=ee(C),g(this,A)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Dt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Ce(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(v){return this.options.opacity=v,this._image&&this._updateOpacity(),this},setStyle:function(v){return v.opacity&&this.setOpacity(v.opacity),this},bringToFront:function(){return this._map&&Bt(this._image),this},bringToBack:function(){return this._map&&Ct(this._image),this},setUrl:function(v){return this._url=v,this._image&&(this._image.src=v),this},setBounds:function(v){return this._bounds=ee(v),this._map&&this._reset(),this},getEvents:function(){var v={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(v.zoomanim=this._animateZoom),v},setZIndex:function(v){return this.options.zIndex=v,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var v=this._url.tagName==="IMG",C=this._image=v?this._url:Yt("img");if(Dt(C,"leaflet-image-layer"),this._zoomAnimated&&Dt(C,"leaflet-zoom-animated"),this.options.className&&Dt(C,this.options.className),C.onselectstart=f,C.onmousemove=f,C.onload=o(this.fire,this,"load"),C.onerror=o(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(C.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),v){this._url=C.src;return}C.src=this._url,C.alt=this.options.alt},_animateZoom:function(v){var C=this._map.getZoomScale(v.zoom),A=this._map._latLngBoundsToNewLayerBounds(this._bounds,v.zoom,v.center).min;Or(this._image,A,C)},_reset:function(){var v=this._image,C=new ne(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),A=C.getSize();_r(v,C.min),v.style.width=A.x+"px",v.style.height=A.y+"px"},_updateOpacity:function(){Fe(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var v=this.options.errorOverlayUrl;v&&this._url!==v&&(this._url=v,this._image.src=v)},getCenter:function(){return this._bounds.getCenter()}}),Dme=function(v,C,A){return new D2(v,C,A)},uB=D2.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var v=this._url.tagName==="VIDEO",C=this._image=v?this._url:Yt("video");if(Dt(C,"leaflet-image-layer"),this._zoomAnimated&&Dt(C,"leaflet-zoom-animated"),this.options.className&&Dt(C,this.options.className),C.onselectstart=f,C.onmousemove=f,C.onloadeddata=o(this.fire,this,"load"),v){for(var A=C.getElementsByTagName("source"),U=[],te=0;te<A.length;te++)U.push(A[te].src);this._url=A.length>0?U:[C.src];return}w(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(C.style,"objectFit")&&(C.style.objectFit="fill"),C.autoplay=!!this.options.autoplay,C.loop=!!this.options.loop,C.muted=!!this.options.muted,C.playsInline=!!this.options.playsInline;for(var ue=0;ue<this._url.length;ue++){var Te=Yt("source");Te.src=this._url[ue],C.appendChild(Te)}}});function Ome(v,C,A){return new uB(v,C,A)}var dB=D2.extend({_initImage:function(){var v=this._image=this._url;Dt(v,"leaflet-image-layer"),this._zoomAnimated&&Dt(v,"leaflet-zoom-animated"),this.options.className&&Dt(v,this.options.className),v.onselectstart=f,v.onmousemove=f}});function Mme(v,C,A){return new dB(v,C,A)}var Tc=Wl.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(v,C){v&&(v instanceof G||w(v))?(this._latlng=Z(v),g(this,C)):(g(this,v),this._source=C),this.options.content&&(this._content=this.options.content)},openOn:function(v){return v=arguments.length?v:this._source._map,v.hasLayer(this)||v.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(v){return this._map?this.close():(arguments.length?this._source=v:v=this._source,this._prepareOpen(),this.openOn(v._map)),this},onAdd:function(v){this._zoomAnimated=v._zoomAnimated,this._container||this._initLayout(),v._fadeAnimated&&Fe(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),v._fadeAnimated&&Fe(this._container,1),this.bringToFront(),this.options.interactive&&(Dt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(v){v._fadeAnimated?(Fe(this._container,0),this._removeTimeout=setTimeout(o(Ce,void 0,this._container),200)):Ce(this._container),this.options.interactive&&(xn(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(v){return this._latlng=Z(v),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(v){return this._content=v,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var v={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(v.zoomanim=this._animateZoom),v},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Bt(this._container),this},bringToBack:function(){return this._map&&Ct(this._container),this},_prepareOpen:function(v){var C=this._source;if(!C._map)return!1;if(C instanceof Lu){C=null;var A=this._source._layers;for(var U in A)if(A[U]._map){C=A[U];break}if(!C)return!1;this._source=C}if(!v)if(C.getCenter)v=C.getCenter();else if(C.getLatLng)v=C.getLatLng();else if(C.getBounds)v=C.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(v),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var v=this._contentNode,C=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof C=="string")v.innerHTML=C;else{for(;v.hasChildNodes();)v.removeChild(v.firstChild);v.appendChild(C)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var v=this._map.latLngToLayerPoint(this._latlng),C=H(this.options.offset),A=this._getAnchor();this._zoomAnimated?_r(this._container,v.add(A)):C=C.add(v).add(A);var U=this._containerBottom=-C.y,te=this._containerLeft=-Math.round(this._containerWidth/2)+C.x;this._container.style.bottom=U+"px",this._container.style.left=te+"px"}},_getAnchor:function(){return[0,0]}});ir.include({_initOverlay:function(v,C,A,U){var te=C;return te instanceof v||(te=new v(U).setContent(C)),A&&te.setLatLng(A),te}}),Wl.include({_initOverlay:function(v,C,A,U){var te=A;return te instanceof v?(g(te,U),te._source=this):(te=C&&!U?C:new v(U,this),te.setContent(A)),te}});var O2=Tc.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(v){return v=arguments.length?v:this._source._map,!v.hasLayer(this)&&v._popup&&v._popup.options.autoClose&&v.removeLayer(v._popup),v._popup=this,Tc.prototype.openOn.call(this,v)},onAdd:function(v){Tc.prototype.onAdd.call(this,v),v.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof ef||this._source.on("preclick",zh))},onRemove:function(v){Tc.prototype.onRemove.call(this,v),v.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof ef||this._source.off("preclick",zh))},getEvents:function(){var v=Tc.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(v.preclick=this.close),this.options.keepInView&&(v.moveend=this._adjustPan),v},_initLayout:function(){var v="leaflet-popup",C=this._container=Yt("div",v+" "+(this.options.className||"")+" leaflet-zoom-animated"),A=this._wrapper=Yt("div",v+"-content-wrapper",C);if(this._contentNode=Yt("div",v+"-content",A),by(C),FP(this._contentNode),In(C,"contextmenu",zh),this._tipContainer=Yt("div",v+"-tip-container",C),this._tip=Yt("div",v+"-tip",this._tipContainer),this.options.closeButton){var U=this._closeButton=Yt("a",v+"-close-button",C);U.setAttribute("role","button"),U.setAttribute("aria-label","Close popup"),U.href="#close",U.innerHTML='<span aria-hidden="true">&#215;</span>',In(U,"click",function(te){Li(te),this.close()},this)}},_updateLayout:function(){var v=this._contentNode,C=v.style;C.width="",C.whiteSpace="nowrap";var A=v.offsetWidth;A=Math.min(A,this.options.maxWidth),A=Math.max(A,this.options.minWidth),C.width=A+1+"px",C.whiteSpace="",C.height="";var U=v.offsetHeight,te=this.options.maxHeight,ue="leaflet-popup-scrolled";te&&U>te?(C.height=te+"px",Dt(v,ue)):xn(v,ue),this._containerWidth=this._container.offsetWidth},_animateZoom:function(v){var C=this._map._latLngToNewLayerPoint(this._latlng,v.zoom,v.center),A=this._getAnchor();_r(this._container,C.add(A))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var v=this._map,C=parseInt(ar(this._container,"marginBottom"),10)||0,A=this._container.offsetHeight+C,U=this._containerWidth,te=new I(this._containerLeft,-A-this._containerBottom);te._add(Gs(this._container));var ue=v.layerPointToContainerPoint(te),Te=H(this.options.autoPanPadding),Ye=H(this.options.autoPanPaddingTopLeft||Te),tt=H(this.options.autoPanPaddingBottomRight||Te),xt=v.getSize(),Kt=0,bn=0;ue.x+U+tt.x>xt.x&&(Kt=ue.x+U-xt.x+tt.x),ue.x-Kt-Ye.x<0&&(Kt=ue.x-Ye.x),ue.y+A+tt.y>xt.y&&(bn=ue.y+A-xt.y+tt.y),ue.y-bn-Ye.y<0&&(bn=ue.y-Ye.y),(Kt||bn)&&(this.options.keepInView&&(this._autopanning=!0),v.fire("autopanstart").panBy([Kt,bn]))}},_getAnchor:function(){return H(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Ime=function(v,C){return new O2(v,C)};ir.mergeOptions({closePopupOnClick:!0}),ir.include({openPopup:function(v,C,A){return this._initOverlay(O2,v,C,A).openOn(this),this},closePopup:function(v){return v=arguments.length?v:this._popup,v&&v.close(),this}}),Wl.include({bindPopup:function(v,C){return this._popup=this._initOverlay(O2,this._popup,v,C),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(v){return this._popup&&(this instanceof Lu||(this._popup._source=this),this._popup._prepareOpen(v||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(v){return this._popup&&this._popup.setContent(v),this},getPopup:function(){return this._popup},_openPopup:function(v){if(!(!this._popup||!this._map)){Uh(v);var C=v.layer||v.target;if(this._popup._source===C&&!(C instanceof ef)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(v.latlng);return}this._popup._source=C,this.openPopup(v.latlng)}},_movePopup:function(v){this._popup.setLatLng(v.latlng)},_onKeyPress:function(v){v.originalEvent.keyCode===13&&this._openPopup(v)}});var M2=Tc.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(v){Tc.prototype.onAdd.call(this,v),this.setOpacity(this.options.opacity),v.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(v){Tc.prototype.onRemove.call(this,v),v.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var v=Tc.prototype.getEvents.call(this);return this.options.permanent||(v.preclick=this.close),v},_initLayout:function(){var v="leaflet-tooltip",C=v+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Yt("div",C),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+l(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(v){var C,A,U=this._map,te=this._container,ue=U.latLngToContainerPoint(U.getCenter()),Te=U.layerPointToContainerPoint(v),Ye=this.options.direction,tt=te.offsetWidth,xt=te.offsetHeight,Kt=H(this.options.offset),bn=this._getAnchor();Ye==="top"?(C=tt/2,A=xt):Ye==="bottom"?(C=tt/2,A=0):Ye==="center"?(C=tt/2,A=xt/2):Ye==="right"?(C=0,A=xt/2):Ye==="left"?(C=tt,A=xt/2):Te.x<ue.x?(Ye="right",C=0,A=xt/2):(Ye="left",C=tt+(Kt.x+bn.x)*2,A=xt/2),v=v.subtract(H(C,A,!0)).add(Kt).add(bn),xn(te,"leaflet-tooltip-right"),xn(te,"leaflet-tooltip-left"),xn(te,"leaflet-tooltip-top"),xn(te,"leaflet-tooltip-bottom"),Dt(te,"leaflet-tooltip-"+Ye),_r(te,v)},_updatePosition:function(){var v=this._map.latLngToLayerPoint(this._latlng);this._setPosition(v)},setOpacity:function(v){this.options.opacity=v,this._container&&Fe(this._container,v)},_animateZoom:function(v){var C=this._map._latLngToNewLayerPoint(this._latlng,v.zoom,v.center);this._setPosition(C)},_getAnchor:function(){return H(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Rme=function(v,C){return new M2(v,C)};ir.include({openTooltip:function(v,C,A){return this._initOverlay(M2,v,C,A).openOn(this),this},closeTooltip:function(v){return v.close(),this}}),Wl.include({bindTooltip:function(v,C){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(M2,this._tooltip,v,C),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(v){if(!(!v&&this._tooltipHandlersAdded)){var C=v?"off":"on",A={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?A.add=this._openTooltip:(A.mouseover=this._openTooltip,A.mouseout=this.closeTooltip,A.click=this._openTooltip,this._map?this._addFocusListeners():A.add=this._addFocusListeners),this._tooltip.options.sticky&&(A.mousemove=this._moveTooltip),this[C](A),this._tooltipHandlersAdded=!v}},openTooltip:function(v){return this._tooltip&&(this instanceof Lu||(this._tooltip._source=this),this._tooltip._prepareOpen(v)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(v){return this._tooltip&&this._tooltip.setContent(v),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(v){var C=typeof v.getElement=="function"&&v.getElement();C&&(In(C,"focus",function(){this._tooltip._source=v,this.openTooltip()},this),In(C,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(v){var C=typeof v.getElement=="function"&&v.getElement();C&&C.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(v){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var C=this;this._map.once("moveend",function(){C._openOnceFlag=!1,C._openTooltip(v)});return}this._tooltip._source=v.layer||v.target,this.openTooltip(this._tooltip.options.sticky?v.latlng:void 0)}},_moveTooltip:function(v){var C=v.latlng,A,U;this._tooltip.options.sticky&&v.originalEvent&&(A=this._map.mouseEventToContainerPoint(v.originalEvent),U=this._map.containerPointToLayerPoint(A),C=this._map.layerPointToLatLng(U)),this._tooltip.setLatLng(C)}});var fB=Zm.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(v){var C=v&&v.tagName==="DIV"?v:document.createElement("div"),A=this.options;if(A.html instanceof Element?(St(C),C.appendChild(A.html)):C.innerHTML=A.html!==!1?A.html:"",A.bgPos){var U=H(A.bgPos);C.style.backgroundPosition=-U.x+"px "+-U.y+"px"}return this._setIconStyles(C,"icon"),C},createShadow:function(){return null}});function Fme(v){return new fB(v)}Zm.Default=Sy;var Cy=Wl.extend({options:{tileSize:256,opacity:1,updateWhenIdle:et.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(v){g(this,v)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(v){v._addZoomLimit(this)},onRemove:function(v){this._removeAllTiles(),Ce(this._container),v._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Bt(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Ct(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(v){return this.options.opacity=v,this._updateOpacity(),this},setZIndex:function(v){return this.options.zIndex=v,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var v=this._clampZoom(this._map.getZoom());v!==this._tileZoom&&(this._tileZoom=v,this._updateLevels()),this._update()}return this},getEvents:function(){var v={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=u(this._onMoveEnd,this.options.updateInterval,this)),v.move=this._onMove),this._zoomAnimated&&(v.zoomanim=this._animateZoom),v},createTile:function(){return document.createElement("div")},getTileSize:function(){var v=this.options.tileSize;return v instanceof I?v:new I(v,v)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(v){for(var C=this.getPane().children,A=-v(-1/0,1/0),U=0,te=C.length,ue;U<te;U++)ue=C[U].style.zIndex,C[U]!==this._container&&ue&&(A=v(A,+ue));isFinite(A)&&(this.options.zIndex=A+v(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!et.ielt9){Fe(this._container,this.options.opacity);var v=+new Date,C=!1,A=!1;for(var U in this._tiles){var te=this._tiles[U];if(!(!te.current||!te.loaded)){var ue=Math.min(1,(v-te.loaded)/200);Fe(te.el,ue),ue<1?C=!0:(te.active?A=!0:this._onOpaqueTile(te),te.active=!0)}}A&&!this._noPrune&&this._pruneTiles(),C&&(M(this._fadeFrame),this._fadeFrame=D(this._updateOpacity,this))}},_onOpaqueTile:f,_initContainer:function(){this._container||(this._container=Yt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var v=this._tileZoom,C=this.options.maxZoom;if(v!==void 0){for(var A in this._levels)A=Number(A),this._levels[A].el.children.length||A===v?(this._levels[A].el.style.zIndex=C-Math.abs(v-A),this._onUpdateLevel(A)):(Ce(this._levels[A].el),this._removeTilesAtZoom(A),this._onRemoveLevel(A),delete this._levels[A]);var U=this._levels[v],te=this._map;return U||(U=this._levels[v]={},U.el=Yt("div","leaflet-tile-container leaflet-zoom-animated",this._container),U.el.style.zIndex=C,U.origin=te.project(te.unproject(te.getPixelOrigin()),v).round(),U.zoom=v,this._setZoomTransform(U,te.getCenter(),te.getZoom()),f(U.el.offsetWidth),this._onCreateLevel(U)),this._level=U,U}},_onUpdateLevel:f,_onRemoveLevel:f,_onCreateLevel:f,_pruneTiles:function(){if(this._map){var v,C,A=this._map.getZoom();if(A>this.options.maxZoom||A<this.options.minZoom){this._removeAllTiles();return}for(v in this._tiles)C=this._tiles[v],C.retain=C.current;for(v in this._tiles)if(C=this._tiles[v],C.current&&!C.active){var U=C.coords;this._retainParent(U.x,U.y,U.z,U.z-5)||this._retainChildren(U.x,U.y,U.z,U.z+2)}for(v in this._tiles)this._tiles[v].retain||this._removeTile(v)}},_removeTilesAtZoom:function(v){for(var C in this._tiles)this._tiles[C].coords.z===v&&this._removeTile(C)},_removeAllTiles:function(){for(var v in this._tiles)this._removeTile(v)},_invalidateAll:function(){for(var v in this._levels)Ce(this._levels[v].el),this._onRemoveLevel(Number(v)),delete this._levels[v];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(v,C,A,U){var te=Math.floor(v/2),ue=Math.floor(C/2),Te=A-1,Ye=new I(+te,+ue);Ye.z=+Te;var tt=this._tileCoordsToKey(Ye),xt=this._tiles[tt];return xt&&xt.active?(xt.retain=!0,!0):(xt&&xt.loaded&&(xt.retain=!0),Te>U?this._retainParent(te,ue,Te,U):!1)},_retainChildren:function(v,C,A,U){for(var te=2*v;te<2*v+2;te++)for(var ue=2*C;ue<2*C+2;ue++){var Te=new I(te,ue);Te.z=A+1;var Ye=this._tileCoordsToKey(Te),tt=this._tiles[Ye];if(tt&&tt.active){tt.retain=!0;continue}else tt&&tt.loaded&&(tt.retain=!0);A+1<U&&this._retainChildren(te,ue,A+1,U)}},_resetView:function(v){var C=v&&(v.pinch||v.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),C,C)},_animateZoom:function(v){this._setView(v.center,v.zoom,!0,v.noUpdate)},_clampZoom:function(v){var C=this.options;return C.minNativeZoom!==void 0&&v<C.minNativeZoom?C.minNativeZoom:C.maxNativeZoom!==void 0&&C.maxNativeZoom<v?C.maxNativeZoom:v},_setView:function(v,C,A,U){var te=Math.round(C);this.options.maxZoom!==void 0&&te>this.options.maxZoom||this.options.minZoom!==void 0&&te<this.options.minZoom?te=void 0:te=this._clampZoom(te);var ue=this.options.updateWhenZooming&&te!==this._tileZoom;(!U||ue)&&(this._tileZoom=te,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),te!==void 0&&this._update(v),A||this._pruneTiles(),this._noPrune=!!A),this._setZoomTransforms(v,C)},_setZoomTransforms:function(v,C){for(var A in this._levels)this._setZoomTransform(this._levels[A],v,C)},_setZoomTransform:function(v,C,A){var U=this._map.getZoomScale(A,v.zoom),te=v.origin.multiplyBy(U).subtract(this._map._getNewPixelOrigin(C,A)).round();et.any3d?Or(v.el,te,U):_r(v.el,te)},_resetGrid:function(){var v=this._map,C=v.options.crs,A=this._tileSize=this.getTileSize(),U=this._tileZoom,te=this._map.getPixelWorldBounds(this._tileZoom);te&&(this._globalTileRange=this._pxBoundsToTileRange(te)),this._wrapX=C.wrapLng&&!this.options.noWrap&&[Math.floor(v.project([0,C.wrapLng[0]],U).x/A.x),Math.ceil(v.project([0,C.wrapLng[1]],U).x/A.y)],this._wrapY=C.wrapLat&&!this.options.noWrap&&[Math.floor(v.project([C.wrapLat[0],0],U).y/A.x),Math.ceil(v.project([C.wrapLat[1],0],U).y/A.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(v){var C=this._map,A=C._animatingZoom?Math.max(C._animateToZoom,C.getZoom()):C.getZoom(),U=C.getZoomScale(A,this._tileZoom),te=C.project(v,this._tileZoom).floor(),ue=C.getSize().divideBy(U*2);return new ne(te.subtract(ue),te.add(ue))},_update:function(v){var C=this._map;if(C){var A=this._clampZoom(C.getZoom());if(v===void 0&&(v=C.getCenter()),this._tileZoom!==void 0){var U=this._getTiledPixelBounds(v),te=this._pxBoundsToTileRange(U),ue=te.getCenter(),Te=[],Ye=this.options.keepBuffer,tt=new ne(te.getBottomLeft().subtract([Ye,-Ye]),te.getTopRight().add([Ye,-Ye]));if(!(isFinite(te.min.x)&&isFinite(te.min.y)&&isFinite(te.max.x)&&isFinite(te.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var xt in this._tiles){var Kt=this._tiles[xt].coords;(Kt.z!==this._tileZoom||!tt.contains(new I(Kt.x,Kt.y)))&&(this._tiles[xt].current=!1)}if(Math.abs(A-this._tileZoom)>1){this._setView(v,A);return}for(var bn=te.min.y;bn<=te.max.y;bn++)for(var Vn=te.min.x;Vn<=te.max.x;Vn++){var Po=new I(Vn,bn);if(Po.z=this._tileZoom,!!this._isValidTile(Po)){var xi=this._tiles[this._tileCoordsToKey(Po)];xi?xi.current=!0:Te.push(Po)}}if(Te.sort(function(Wo,tg){return Wo.distanceTo(ue)-tg.distanceTo(ue)}),Te.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Zs=document.createDocumentFragment();for(Vn=0;Vn<Te.length;Vn++)this._addTile(Te[Vn],Zs);this._level.el.appendChild(Zs)}}}},_isValidTile:function(v){var C=this._map.options.crs;if(!C.infinite){var A=this._globalTileRange;if(!C.wrapLng&&(v.x<A.min.x||v.x>A.max.x)||!C.wrapLat&&(v.y<A.min.y||v.y>A.max.y))return!1}if(!this.options.bounds)return!0;var U=this._tileCoordsToBounds(v);return ee(this.options.bounds).overlaps(U)},_keyToBounds:function(v){return this._tileCoordsToBounds(this._keyToTileCoords(v))},_tileCoordsToNwSe:function(v){var C=this._map,A=this.getTileSize(),U=v.scaleBy(A),te=U.add(A),ue=C.unproject(U,v.z),Te=C.unproject(te,v.z);return[ue,Te]},_tileCoordsToBounds:function(v){var C=this._tileCoordsToNwSe(v),A=new J(C[0],C[1]);return this.options.noWrap||(A=this._map.wrapLatLngBounds(A)),A},_tileCoordsToKey:function(v){return v.x+":"+v.y+":"+v.z},_keyToTileCoords:function(v){var C=v.split(":"),A=new I(+C[0],+C[1]);return A.z=+C[2],A},_removeTile:function(v){var C=this._tiles[v];C&&(Ce(C.el),delete this._tiles[v],this.fire("tileunload",{tile:C.el,coords:this._keyToTileCoords(v)}))},_initTile:function(v){Dt(v,"leaflet-tile");var C=this.getTileSize();v.style.width=C.x+"px",v.style.height=C.y+"px",v.onselectstart=f,v.onmousemove=f,et.ielt9&&this.options.opacity<1&&Fe(v,this.options.opacity)},_addTile:function(v,C){var A=this._getTilePos(v),U=this._tileCoordsToKey(v),te=this.createTile(this._wrapCoords(v),o(this._tileReady,this,v));this._initTile(te),this.createTile.length<2&&D(o(this._tileReady,this,v,null,te)),_r(te,A),this._tiles[U]={el:te,coords:v,current:!0},C.appendChild(te),this.fire("tileloadstart",{tile:te,coords:v})},_tileReady:function(v,C,A){C&&this.fire("tileerror",{error:C,tile:A,coords:v});var U=this._tileCoordsToKey(v);A=this._tiles[U],A&&(A.loaded=+new Date,this._map._fadeAnimated?(Fe(A.el,0),M(this._fadeFrame),this._fadeFrame=D(this._updateOpacity,this)):(A.active=!0,this._pruneTiles()),C||(Dt(A.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:A.el,coords:v})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),et.ielt9||!this._map._fadeAnimated?D(this._pruneTiles,this):setTimeout(o(this._pruneTiles,this),250)))},_getTilePos:function(v){return v.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(v){var C=new I(this._wrapX?d(v.x,this._wrapX):v.x,this._wrapY?d(v.y,this._wrapY):v.y);return C.z=v.z,C},_pxBoundsToTileRange:function(v){var C=this.getTileSize();return new ne(v.min.unscaleBy(C).floor(),v.max.unscaleBy(C).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var v in this._tiles)if(!this._tiles[v].loaded)return!1;return!0}});function Lme(v){return new Cy(v)}var eg=Cy.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(v,C){this._url=v,C=g(this,C),C.detectRetina&&et.retina&&C.maxZoom>0?(C.tileSize=Math.floor(C.tileSize/2),C.zoomReverse?(C.zoomOffset--,C.minZoom=Math.min(C.maxZoom,C.minZoom+1)):(C.zoomOffset++,C.maxZoom=Math.max(C.minZoom,C.maxZoom-1)),C.minZoom=Math.max(0,C.minZoom)):C.zoomReverse?C.minZoom=Math.min(C.maxZoom,C.minZoom):C.maxZoom=Math.max(C.minZoom,C.maxZoom),typeof C.subdomains=="string"&&(C.subdomains=C.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(v,C){return this._url===v&&C===void 0&&(C=!0),this._url=v,C||this.redraw(),this},createTile:function(v,C){var A=document.createElement("img");return In(A,"load",o(this._tileOnLoad,this,C,A)),In(A,"error",o(this._tileOnError,this,C,A)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(A.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(A.referrerPolicy=this.options.referrerPolicy),A.alt="",A.src=this.getTileUrl(v),A},getTileUrl:function(v){var C={r:et.retina?"@2x":"",s:this._getSubdomain(v),x:v.x,y:v.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var A=this._globalTileRange.max.y-v.y;this.options.tms&&(C.y=A),C["-y"]=A}return b(this._url,a(C,this.options))},_tileOnLoad:function(v,C){et.ielt9?setTimeout(o(v,this,null,C),0):v(null,C)},_tileOnError:function(v,C,A){var U=this.options.errorTileUrl;U&&C.getAttribute("src")!==U&&(C.src=U),v(A,C)},_onTileRemove:function(v){v.tile.onload=null},_getZoomForUrl:function(){var v=this._tileZoom,C=this.options.maxZoom,A=this.options.zoomReverse,U=this.options.zoomOffset;return A&&(v=C-v),v+U},_getSubdomain:function(v){var C=Math.abs(v.x+v.y)%this.options.subdomains.length;return this.options.subdomains[C]},_abortLoading:function(){var v,C;for(v in this._tiles)if(this._tiles[v].coords.z!==this._tileZoom&&(C=this._tiles[v].el,C.onload=f,C.onerror=f,!C.complete)){C.src=S;var A=this._tiles[v].coords;Ce(C),delete this._tiles[v],this.fire("tileabort",{tile:C,coords:A})}},_removeTile:function(v){var C=this._tiles[v];if(C)return C.el.setAttribute("src",S),Cy.prototype._removeTile.call(this,v)},_tileReady:function(v,C,A){if(!(!this._map||A&&A.getAttribute("src")===S))return Cy.prototype._tileReady.call(this,v,C,A)}});function hB(v,C){return new eg(v,C)}var pB=eg.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(v,C){this._url=v;var A=a({},this.defaultWmsParams);for(var U in C)U in this.options||(A[U]=C[U]);C=g(this,C);var te=C.detectRetina&&et.retina?2:1,ue=this.getTileSize();A.width=ue.x*te,A.height=ue.y*te,this.wmsParams=A},onAdd:function(v){this._crs=this.options.crs||v.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var C=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[C]=this._crs.code,eg.prototype.onAdd.call(this,v)},getTileUrl:function(v){var C=this._tileCoordsToNwSe(v),A=this._crs,U=z(A.project(C[0]),A.project(C[1])),te=U.min,ue=U.max,Te=(this._wmsVersion>=1.3&&this._crs===oB?[te.y,te.x,ue.y,ue.x]:[te.x,te.y,ue.x,ue.y]).join(","),Ye=eg.prototype.getTileUrl.call(this,v);return Ye+y(this.wmsParams,Ye,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+Te},setParams:function(v,C){return a(this.wmsParams,v),C||this.redraw(),this}});function $me(v,C){return new pB(v,C)}eg.WMS=pB,hB.wms=$me;var zu=Wl.extend({options:{padding:.1},initialize:function(v){g(this,v),l(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Dt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var v={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(v.zoomanim=this._onAnimZoom),v},_onAnimZoom:function(v){this._updateTransform(v.center,v.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(v,C){var A=this._map.getZoomScale(C,this._zoom),U=this._map.getSize().multiplyBy(.5+this.options.padding),te=this._map.project(this._center,C),ue=U.multiplyBy(-A).add(te).subtract(this._map._getNewPixelOrigin(v,C));et.any3d?Or(this._container,ue,A):_r(this._container,ue)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var v in this._layers)this._layers[v]._reset()},_onZoomEnd:function(){for(var v in this._layers)this._layers[v]._project()},_updatePaths:function(){for(var v in this._layers)this._layers[v]._update()},_update:function(){var v=this.options.padding,C=this._map.getSize(),A=this._map.containerPointToLayerPoint(C.multiplyBy(-v)).round();this._bounds=new ne(A,A.add(C.multiplyBy(1+v*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),mB=zu.extend({options:{tolerance:0},getEvents:function(){var v=zu.prototype.getEvents.call(this);return v.viewprereset=this._onViewPreReset,v},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){zu.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var v=this._container=document.createElement("canvas");In(v,"mousemove",this._onMouseMove,this),In(v,"click dblclick mousedown mouseup contextmenu",this._onClick,this),In(v,"mouseout",this._handleMouseOut,this),v._leaflet_disable_events=!0,this._ctx=v.getContext("2d")},_destroyContainer:function(){M(this._redrawRequest),delete this._ctx,Ce(this._container),Wr(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var v;this._redrawBounds=null;for(var C in this._layers)v=this._layers[C],v._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){zu.prototype._update.call(this);var v=this._bounds,C=this._container,A=v.getSize(),U=et.retina?2:1;_r(C,v.min),C.width=U*A.x,C.height=U*A.y,C.style.width=A.x+"px",C.style.height=A.y+"px",et.retina&&this._ctx.scale(2,2),this._ctx.translate(-v.min.x,-v.min.y),this.fire("update")}},_reset:function(){zu.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(v){this._updateDashArray(v),this._layers[l(v)]=v;var C=v._order={layer:v,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=C),this._drawLast=C,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(v){this._requestRedraw(v)},_removePath:function(v){var C=v._order,A=C.next,U=C.prev;A?A.prev=U:this._drawLast=U,U?U.next=A:this._drawFirst=A,delete v._order,delete this._layers[l(v)],this._requestRedraw(v)},_updatePath:function(v){this._extendRedrawBounds(v),v._project(),v._update(),this._requestRedraw(v)},_updateStyle:function(v){this._updateDashArray(v),this._requestRedraw(v)},_updateDashArray:function(v){if(typeof v.options.dashArray=="string"){var C=v.options.dashArray.split(/[, ]+/),A=[],U,te;for(te=0;te<C.length;te++){if(U=Number(C[te]),isNaN(U))return;A.push(U)}v.options._dashArray=A}else v.options._dashArray=v.options.dashArray},_requestRedraw:function(v){this._map&&(this._extendRedrawBounds(v),this._redrawRequest=this._redrawRequest||D(this._redraw,this))},_extendRedrawBounds:function(v){if(v._pxBounds){var C=(v.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ne,this._redrawBounds.extend(v._pxBounds.min.subtract([C,C])),this._redrawBounds.extend(v._pxBounds.max.add([C,C]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var v=this._redrawBounds;if(v){var C=v.getSize();this._ctx.clearRect(v.min.x,v.min.y,C.x,C.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var v,C=this._redrawBounds;if(this._ctx.save(),C){var A=C.getSize();this._ctx.beginPath(),this._ctx.rect(C.min.x,C.min.y,A.x,A.y),this._ctx.clip()}this._drawing=!0;for(var U=this._drawFirst;U;U=U.next)v=U.layer,(!C||v._pxBounds&&v._pxBounds.intersects(C))&&v._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(v,C){if(this._drawing){var A,U,te,ue,Te=v._parts,Ye=Te.length,tt=this._ctx;if(Ye){for(tt.beginPath(),A=0;A<Ye;A++){for(U=0,te=Te[A].length;U<te;U++)ue=Te[A][U],tt[U?"lineTo":"moveTo"](ue.x,ue.y);C&&tt.closePath()}this._fillStroke(tt,v)}}},_updateCircle:function(v){if(!(!this._drawing||v._empty())){var C=v._point,A=this._ctx,U=Math.max(Math.round(v._radius),1),te=(Math.max(Math.round(v._radiusY),1)||U)/U;te!==1&&(A.save(),A.scale(1,te)),A.beginPath(),A.arc(C.x,C.y/te,U,0,Math.PI*2,!1),te!==1&&A.restore(),this._fillStroke(A,v)}},_fillStroke:function(v,C){var A=C.options;A.fill&&(v.globalAlpha=A.fillOpacity,v.fillStyle=A.fillColor||A.color,v.fill(A.fillRule||"evenodd")),A.stroke&&A.weight!==0&&(v.setLineDash&&v.setLineDash(C.options&&C.options._dashArray||[]),v.globalAlpha=A.opacity,v.lineWidth=A.weight,v.strokeStyle=A.color,v.lineCap=A.lineCap,v.lineJoin=A.lineJoin,v.stroke())},_onClick:function(v){for(var C=this._map.mouseEventToLayerPoint(v),A,U,te=this._drawFirst;te;te=te.next)A=te.layer,A.options.interactive&&A._containsPoint(C)&&(!(v.type==="click"||v.type==="preclick")||!this._map._draggableMoved(A))&&(U=A);this._fireEvent(U?[U]:!1,v)},_onMouseMove:function(v){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var C=this._map.mouseEventToLayerPoint(v);this._handleMouseHover(v,C)}},_handleMouseOut:function(v){var C=this._hoveredLayer;C&&(xn(this._container,"leaflet-interactive"),this._fireEvent([C],v,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(v,C){if(!this._mouseHoverThrottled){for(var A,U,te=this._drawFirst;te;te=te.next)A=te.layer,A.options.interactive&&A._containsPoint(C)&&(U=A);U!==this._hoveredLayer&&(this._handleMouseOut(v),U&&(Dt(this._container,"leaflet-interactive"),this._fireEvent([U],v,"mouseover"),this._hoveredLayer=U)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,v),this._mouseHoverThrottled=!0,setTimeout(o(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(v,C,A){this._map._fireDOMEvent(C,A||C.type,v)},_bringToFront:function(v){var C=v._order;if(C){var A=C.next,U=C.prev;if(A)A.prev=U;else return;U?U.next=A:A&&(this._drawFirst=A),C.prev=this._drawLast,this._drawLast.next=C,C.next=null,this._drawLast=C,this._requestRedraw(v)}},_bringToBack:function(v){var C=v._order;if(C){var A=C.next,U=C.prev;if(U)U.next=A;else return;A?A.prev=U:U&&(this._drawLast=U),C.prev=null,C.next=this._drawFirst,this._drawFirst.prev=C,this._drawFirst=C,this._requestRedraw(v)}}});function gB(v){return et.canvas?new mB(v):null}var Ey=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(v){return document.createElement("<lvml:"+v+' class="lvml">')}}catch{}return function(v){return document.createElement("<"+v+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Bme={_initContainer:function(){this._container=Yt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(zu.prototype._update.call(this),this.fire("update"))},_initPath:function(v){var C=v._container=Ey("shape");Dt(C,"leaflet-vml-shape "+(this.options.className||"")),C.coordsize="1 1",v._path=Ey("path"),C.appendChild(v._path),this._updateStyle(v),this._layers[l(v)]=v},_addPath:function(v){var C=v._container;this._container.appendChild(C),v.options.interactive&&v.addInteractiveTarget(C)},_removePath:function(v){var C=v._container;Ce(C),v.removeInteractiveTarget(C),delete this._layers[l(v)]},_updateStyle:function(v){var C=v._stroke,A=v._fill,U=v.options,te=v._container;te.stroked=!!U.stroke,te.filled=!!U.fill,U.stroke?(C||(C=v._stroke=Ey("stroke")),te.appendChild(C),C.weight=U.weight+"px",C.color=U.color,C.opacity=U.opacity,U.dashArray?C.dashStyle=w(U.dashArray)?U.dashArray.join(" "):U.dashArray.replace(/( *, *)/g," "):C.dashStyle="",C.endcap=U.lineCap.replace("butt","flat"),C.joinstyle=U.lineJoin):C&&(te.removeChild(C),v._stroke=null),U.fill?(A||(A=v._fill=Ey("fill")),te.appendChild(A),A.color=U.fillColor||U.color,A.opacity=U.fillOpacity):A&&(te.removeChild(A),v._fill=null)},_updateCircle:function(v){var C=v._point.round(),A=Math.round(v._radius),U=Math.round(v._radiusY||A);this._setPath(v,v._empty()?"M0 0":"AL "+C.x+","+C.y+" "+A+","+U+" 0,"+65535*360)},_setPath:function(v,C){v._path.v=C},_bringToFront:function(v){Bt(v._container)},_bringToBack:function(v){Ct(v._container)}},I2=et.vml?Ey:oe,Ny=zu.extend({_initContainer:function(){this._container=I2("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=I2("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Ce(this._container),Wr(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){zu.prototype._update.call(this);var v=this._bounds,C=v.getSize(),A=this._container;(!this._svgSize||!this._svgSize.equals(C))&&(this._svgSize=C,A.setAttribute("width",C.x),A.setAttribute("height",C.y)),_r(A,v.min),A.setAttribute("viewBox",[v.min.x,v.min.y,C.x,C.y].join(" ")),this.fire("update")}},_initPath:function(v){var C=v._path=I2("path");v.options.className&&Dt(C,v.options.className),v.options.interactive&&Dt(C,"leaflet-interactive"),this._updateStyle(v),this._layers[l(v)]=v},_addPath:function(v){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(v._path),v.addInteractiveTarget(v._path)},_removePath:function(v){Ce(v._path),v.removeInteractiveTarget(v._path),delete this._layers[l(v)]},_updatePath:function(v){v._project(),v._update()},_updateStyle:function(v){var C=v._path,A=v.options;C&&(A.stroke?(C.setAttribute("stroke",A.color),C.setAttribute("stroke-opacity",A.opacity),C.setAttribute("stroke-width",A.weight),C.setAttribute("stroke-linecap",A.lineCap),C.setAttribute("stroke-linejoin",A.lineJoin),A.dashArray?C.setAttribute("stroke-dasharray",A.dashArray):C.removeAttribute("stroke-dasharray"),A.dashOffset?C.setAttribute("stroke-dashoffset",A.dashOffset):C.removeAttribute("stroke-dashoffset")):C.setAttribute("stroke","none"),A.fill?(C.setAttribute("fill",A.fillColor||A.color),C.setAttribute("fill-opacity",A.fillOpacity),C.setAttribute("fill-rule",A.fillRule||"evenodd")):C.setAttribute("fill","none"))},_updatePoly:function(v,C){this._setPath(v,me(v._parts,C))},_updateCircle:function(v){var C=v._point,A=Math.max(Math.round(v._radius),1),U=Math.max(Math.round(v._radiusY),1)||A,te="a"+A+","+U+" 0 1,0 ",ue=v._empty()?"M0 0":"M"+(C.x-A)+","+C.y+te+A*2+",0 "+te+-A*2+",0 ";this._setPath(v,ue)},_setPath:function(v,C){v._path.setAttribute("d",C)},_bringToFront:function(v){Bt(v._path)},_bringToBack:function(v){Ct(v._path)}});et.vml&&Ny.include(Bme);function vB(v){return et.svg||et.vml?new Ny(v):null}ir.include({getRenderer:function(v){var C=v.options.renderer||this._getPaneRenderer(v.options.pane)||this.options.renderer||this._renderer;return C||(C=this._renderer=this._createRenderer()),this.hasLayer(C)||this.addLayer(C),C},_getPaneRenderer:function(v){if(v==="overlayPane"||v===void 0)return!1;var C=this._paneRenderers[v];return C===void 0&&(C=this._createRenderer({pane:v}),this._paneRenderers[v]=C),C},_createRenderer:function(v){return this.options.preferCanvas&&gB(v)||vB(v)}});var yB=Qm.extend({initialize:function(v,C){Qm.prototype.initialize.call(this,this._boundsToLatLngs(v),C)},setBounds:function(v){return this.setLatLngs(this._boundsToLatLngs(v))},_boundsToLatLngs:function(v){return v=ee(v),[v.getSouthWest(),v.getNorthWest(),v.getNorthEast(),v.getSouthEast()]}});function zme(v,C){return new yB(v,C)}Ny.create=I2,Ny.pointsToPath=me,Bu.geometryToLayer=j2,Bu.coordsToLatLng=qP,Bu.coordsToLatLngs=T2,Bu.latLngToCoords=GP,Bu.latLngsToCoords=P2,Bu.getFeature=Jm,Bu.asFeature=A2,ir.mergeOptions({boxZoom:!0});var xB=jc.extend({initialize:function(v){this._map=v,this._container=v._container,this._pane=v._panes.overlayPane,this._resetStateTimeout=0,v.on("unload",this._destroy,this)},addHooks:function(){In(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Wr(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Ce(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(v){if(!v.shiftKey||v.which!==1&&v.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Ys(),xy(),this._startPoint=this._map.mouseEventToContainerPoint(v),In(document,{contextmenu:Uh,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(v){this._moved||(this._moved=!0,this._box=Yt("div","leaflet-zoom-box",this._container),Dt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(v);var C=new ne(this._point,this._startPoint),A=C.getSize();_r(this._box,C.min),this._box.style.width=A.x+"px",this._box.style.height=A.y+"px"},_finish:function(){this._moved&&(Ce(this._box),xn(this._container,"leaflet-crosshair")),_n(),zl(),Wr(document,{contextmenu:Uh,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(v){if(!(v.which!==1&&v.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(o(this._resetState,this),0);var C=new J(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(C).fire("boxzoomend",{boxZoomBounds:C})}},_onKeyDown:function(v){v.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});ir.addInitHook("addHandler","boxZoom",xB),ir.mergeOptions({doubleClickZoom:!0});var bB=jc.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(v){var C=this._map,A=C.getZoom(),U=C.options.zoomDelta,te=v.originalEvent.shiftKey?A-U:A+U;C.options.doubleClickZoom==="center"?C.setZoom(te):C.setZoomAround(v.containerPoint,te)}});ir.addInitHook("addHandler","doubleClickZoom",bB),ir.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var wB=jc.extend({addHooks:function(){if(!this._draggable){var v=this._map;this._draggable=new Jd(v._mapPane,v._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),v.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),v.on("zoomend",this._onZoomEnd,this),v.whenReady(this._onZoomEnd,this))}Dt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){xn(this._map._container,"leaflet-grab"),xn(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var v=this._map;if(v._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var C=ee(this._map.options.maxBounds);this._offsetLimit=z(this._map.latLngToContainerPoint(C.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(C.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;v.fire("movestart").fire("dragstart"),v.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(v){if(this._map.options.inertia){var C=this._lastTime=+new Date,A=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(A),this._times.push(C),this._prunePositions(C)}this._map.fire("move",v).fire("drag",v)},_prunePositions:function(v){for(;this._positions.length>1&&v-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var v=this._map.getSize().divideBy(2),C=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=C.subtract(v).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(v,C){return v-(v-C)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var v=this._draggable._newPos.subtract(this._draggable._startPos),C=this._offsetLimit;v.x<C.min.x&&(v.x=this._viscousLimit(v.x,C.min.x)),v.y<C.min.y&&(v.y=this._viscousLimit(v.y,C.min.y)),v.x>C.max.x&&(v.x=this._viscousLimit(v.x,C.max.x)),v.y>C.max.y&&(v.y=this._viscousLimit(v.y,C.max.y)),this._draggable._newPos=this._draggable._startPos.add(v)}},_onPreDragWrap:function(){var v=this._worldWidth,C=Math.round(v/2),A=this._initialWorldOffset,U=this._draggable._newPos.x,te=(U-C+A)%v+C-A,ue=(U+C+A)%v-C-A,Te=Math.abs(te+A)<Math.abs(ue+A)?te:ue;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=Te},_onDragEnd:function(v){var C=this._map,A=C.options,U=!A.inertia||v.noInertia||this._times.length<2;if(C.fire("dragend",v),U)C.fire("moveend");else{this._prunePositions(+new Date);var te=this._lastPos.subtract(this._positions[0]),ue=(this._lastTime-this._times[0])/1e3,Te=A.easeLinearity,Ye=te.multiplyBy(Te/ue),tt=Ye.distanceTo([0,0]),xt=Math.min(A.inertiaMaxSpeed,tt),Kt=Ye.multiplyBy(xt/tt),bn=xt/(A.inertiaDeceleration*Te),Vn=Kt.multiplyBy(-bn/2).round();!Vn.x&&!Vn.y?C.fire("moveend"):(Vn=C._limitOffset(Vn,C.options.maxBounds),D(function(){C.panBy(Vn,{duration:bn,easeLinearity:Te,noMoveStart:!0,animate:!0})}))}}});ir.addInitHook("addHandler","dragging",wB),ir.mergeOptions({keyboard:!0,keyboardPanDelta:80});var _B=jc.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(v){this._map=v,this._setPanDelta(v.options.keyboardPanDelta),this._setZoomDelta(v.options.zoomDelta)},addHooks:function(){var v=this._map._container;v.tabIndex<=0&&(v.tabIndex="0"),In(v,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Wr(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var v=document.body,C=document.documentElement,A=v.scrollTop||C.scrollTop,U=v.scrollLeft||C.scrollLeft;this._map._container.focus(),window.scrollTo(U,A)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(v){var C=this._panKeys={},A=this.keyCodes,U,te;for(U=0,te=A.left.length;U<te;U++)C[A.left[U]]=[-1*v,0];for(U=0,te=A.right.length;U<te;U++)C[A.right[U]]=[v,0];for(U=0,te=A.down.length;U<te;U++)C[A.down[U]]=[0,v];for(U=0,te=A.up.length;U<te;U++)C[A.up[U]]=[0,-1*v]},_setZoomDelta:function(v){var C=this._zoomKeys={},A=this.keyCodes,U,te;for(U=0,te=A.zoomIn.length;U<te;U++)C[A.zoomIn[U]]=v;for(U=0,te=A.zoomOut.length;U<te;U++)C[A.zoomOut[U]]=-v},_addHooks:function(){In(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Wr(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(v){if(!(v.altKey||v.ctrlKey||v.metaKey)){var C=v.keyCode,A=this._map,U;if(C in this._panKeys){if(!A._panAnim||!A._panAnim._inProgress)if(U=this._panKeys[C],v.shiftKey&&(U=H(U).multiplyBy(3)),A.options.maxBounds&&(U=A._limitOffset(H(U),A.options.maxBounds)),A.options.worldCopyJump){var te=A.wrapLatLng(A.unproject(A.project(A.getCenter()).add(U)));A.panTo(te)}else A.panBy(U)}else if(C in this._zoomKeys)A.setZoom(A.getZoom()+(v.shiftKey?3:1)*this._zoomKeys[C]);else if(C===27&&A._popup&&A._popup.options.closeOnEscapeKey)A.closePopup();else return;Uh(v)}}});ir.addInitHook("addHandler","keyboard",_B),ir.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var SB=jc.extend({addHooks:function(){In(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Wr(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(v){var C=G8(v),A=this._map.options.wheelDebounceTime;this._delta+=C,this._lastMousePos=this._map.mouseEventToContainerPoint(v),this._startTime||(this._startTime=+new Date);var U=Math.max(A-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(o(this._performZoom,this),U),Uh(v)},_performZoom:function(){var v=this._map,C=v.getZoom(),A=this._map.options.zoomSnap||0;v._stop();var U=this._delta/(this._map.options.wheelPxPerZoomLevel*4),te=4*Math.log(2/(1+Math.exp(-Math.abs(U))))/Math.LN2,ue=A?Math.ceil(te/A)*A:te,Te=v._limitZoom(C+(this._delta>0?ue:-ue))-C;this._delta=0,this._startTime=null,Te&&(v.options.scrollWheelZoom==="center"?v.setZoom(C+Te):v.setZoomAround(this._lastMousePos,C+Te))}});ir.addInitHook("addHandler","scrollWheelZoom",SB);var Ume=600;ir.mergeOptions({tapHold:et.touchNative&&et.safari&&et.mobile,tapTolerance:15});var CB=jc.extend({addHooks:function(){In(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Wr(this._map._container,"touchstart",this._onDown,this)},_onDown:function(v){if(clearTimeout(this._holdTimeout),v.touches.length===1){var C=v.touches[0];this._startPos=this._newPos=new I(C.clientX,C.clientY),this._holdTimeout=setTimeout(o(function(){this._cancel(),this._isTapValid()&&(In(document,"touchend",Li),In(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",C))},this),Ume),In(document,"touchend touchcancel contextmenu",this._cancel,this),In(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function v(){Wr(document,"touchend",Li),Wr(document,"touchend touchcancel",v)},_cancel:function(){clearTimeout(this._holdTimeout),Wr(document,"touchend touchcancel contextmenu",this._cancel,this),Wr(document,"touchmove",this._onMove,this)},_onMove:function(v){var C=v.touches[0];this._newPos=new I(C.clientX,C.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(v,C){var A=new MouseEvent(v,{bubbles:!0,cancelable:!0,view:window,screenX:C.screenX,screenY:C.screenY,clientX:C.clientX,clientY:C.clientY});A._simulated=!0,C.target.dispatchEvent(A)}});ir.addInitHook("addHandler","tapHold",CB),ir.mergeOptions({touchZoom:et.touch,bounceAtZoomLimits:!0});var EB=jc.extend({addHooks:function(){Dt(this._map._container,"leaflet-touch-zoom"),In(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){xn(this._map._container,"leaflet-touch-zoom"),Wr(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(v){var C=this._map;if(!(!v.touches||v.touches.length!==2||C._animatingZoom||this._zooming)){var A=C.mouseEventToContainerPoint(v.touches[0]),U=C.mouseEventToContainerPoint(v.touches[1]);this._centerPoint=C.getSize()._divideBy(2),this._startLatLng=C.containerPointToLatLng(this._centerPoint),C.options.touchZoom!=="center"&&(this._pinchStartLatLng=C.containerPointToLatLng(A.add(U)._divideBy(2))),this._startDist=A.distanceTo(U),this._startZoom=C.getZoom(),this._moved=!1,this._zooming=!0,C._stop(),In(document,"touchmove",this._onTouchMove,this),In(document,"touchend touchcancel",this._onTouchEnd,this),Li(v)}},_onTouchMove:function(v){if(!(!v.touches||v.touches.length!==2||!this._zooming)){var C=this._map,A=C.mouseEventToContainerPoint(v.touches[0]),U=C.mouseEventToContainerPoint(v.touches[1]),te=A.distanceTo(U)/this._startDist;if(this._zoom=C.getScaleZoom(te,this._startZoom),!C.options.bounceAtZoomLimits&&(this._zoom<C.getMinZoom()&&te<1||this._zoom>C.getMaxZoom()&&te>1)&&(this._zoom=C._limitZoom(this._zoom)),C.options.touchZoom==="center"){if(this._center=this._startLatLng,te===1)return}else{var ue=A._add(U)._divideBy(2)._subtract(this._centerPoint);if(te===1&&ue.x===0&&ue.y===0)return;this._center=C.unproject(C.project(this._pinchStartLatLng,this._zoom).subtract(ue),this._zoom)}this._moved||(C._moveStart(!0,!1),this._moved=!0),M(this._animRequest);var Te=o(C._move,C,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=D(Te,this,!0),Li(v)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,M(this._animRequest),Wr(document,"touchmove",this._onTouchMove,this),Wr(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});ir.addInitHook("addHandler","touchZoom",EB),ir.BoxZoom=xB,ir.DoubleClickZoom=bB,ir.Drag=wB,ir.Keyboard=_B,ir.ScrollWheelZoom=SB,ir.TapHold=CB,ir.TouchZoom=EB,n.Bounds=ne,n.Browser=et,n.CRS=se,n.Canvas=mB,n.Circle=HP,n.CircleMarker=k2,n.Class=W,n.Control=Ul,n.DivIcon=fB,n.DivOverlay=Tc,n.DomEvent=ome,n.DomUtil=ame,n.Draggable=Jd,n.Evented=q,n.FeatureGroup=Lu,n.GeoJSON=Bu,n.GridLayer=Cy,n.Handler=jc,n.Icon=Zm,n.ImageOverlay=D2,n.LatLng=G,n.LatLngBounds=J,n.Layer=Wl,n.LayerGroup=Xm,n.LineUtil=xme,n.Map=ir,n.Marker=N2,n.Mixin=hme,n.Path=ef,n.Point=I,n.PolyUtil=pme,n.Polygon=Qm,n.Polyline=$u,n.Popup=O2,n.PosAnimation=Y8,n.Projection=bme,n.Rectangle=yB,n.Renderer=zu,n.SVG=Ny,n.SVGOverlay=dB,n.TileLayer=eg,n.Tooltip=M2,n.Transformation=K,n.Util=R,n.VideoOverlay=uB,n.bind=o,n.bounds=z,n.canvas=gB,n.circle=jme,n.circleMarker=kme,n.control=wy,n.divIcon=Fme,n.extend=a,n.featureGroup=Cme,n.geoJSON=cB,n.geoJson=Ame,n.gridLayer=Lme,n.icon=Eme,n.imageOverlay=Dme,n.latLng=Z,n.latLngBounds=ee,n.layerGroup=Sme,n.map=sme,n.marker=Nme,n.point=H,n.polygon=Pme,n.polyline=Tme,n.popup=Ime,n.rectangle=zme,n.setOptions=g,n.stamp=l,n.svg=vB,n.svgOverlay=Mme,n.tileLayer=hB,n.tooltip=Rme,n.transformation=F,n.version=r,n.videoOverlay=Ome;var Wme=window.L;n.noConflict=function(){return window.L=Wme,this},window.L=n})})(LM,LM.exports);var Ei=LM.exports;const co=sr(Ei);function hT(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function pT(e,t){return t==null?function(r,a){const i=E.useRef(void 0);return i.current||(i.current=e(r,a)),i}:function(r,a){const i=E.useRef(void 0);i.current||(i.current=e(r,a));const o=E.useRef(r),{instance:s}=i.current;return E.useEffect(function(){o.current!==r&&(t(s,r,o.current),o.current=r)},[s,r,t]),i}}function Xse(e,t){E.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){var i;(i=t.layerContainer)==null||i.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function Zse(e){return function(n){const r=dT(),a=e(fT(n,r),r);return Gse(r.map,n.attribution),A6(a.current,n.eventHandlers),Xse(a.current,r),a}}function V8e(e,t){const n=E.useRef(void 0);E.useEffect(function(){if(t.pathOptions!==n.current){const a=t.pathOptions??{};e.instance.setStyle(a),n.current=a}},[e,t])}function H8e(e){return function(n){const r=dT(),a=e(fT(n,r),r);return A6(a.current,n.eventHandlers),Xse(a.current,r),V8e(a.current,n),a}}function q8e(e,t){const n=pT(e,t),r=Zse(n);return Kse(r)}function G8e(e,t){const n=pT(e),r=W8e(n,t);return z8e(r)}function Y8e(e,t){const n=pT(e,t),r=H8e(n);return Kse(r)}function K8e(e,t){const n=pT(e,t),r=Zse(n);return U8e(r)}function X8e(e,t,n){const{opacity:r,zIndex:a}=t;r!=null&&r!==n.opacity&&e.setOpacity(r),a!=null&&a!==n.zIndex&&e.setZIndex(a)}function mT(){return dT().map}function Z8e(e){const t=mT();return E.useEffect(function(){return t.on(e),function(){t.off(e)}},[t,e]),t}function Q8e({bounds:e,boundsOptions:t,center:n,children:r,className:a,id:i,placeholder:o,style:s,whenReady:l,zoom:u,...d},f){const[h]=E.useState({className:a,id:i,style:s}),[p,m]=E.useState(null),g=E.useRef(void 0);E.useImperativeHandle(f,()=>(p==null?void 0:p.map)??null,[p]);const y=E.useCallback(b=>{if(b!==null&&!g.current){const w=new Ei.Map(b,d);g.current=w,n!=null&&u!=null?w.setView(n,u):e!=null&&w.fitBounds(e,t),l!=null&&w.whenReady(l),m(B8e(w))}},[]);E.useEffect(()=>()=>{p==null||p.map.remove()},[p]);const x=p?le.createElement(P6,{value:p},r):o??null;return le.createElement("div",{...h,ref:y},x)}const gT=E.forwardRef(Q8e),vT=q8e(function({position:t,...n},r){const a=new Ei.Marker(t,n);return hT(a,Yse(r,{overlayContainer:a}))},function(t,n,r){n.position!==r.position&&t.setLatLng(n.position),n.icon!=null&&n.icon!==r.icon&&t.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==r.zIndexOffset&&t.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==r.opacity&&t.setOpacity(n.opacity),t.dragging!=null&&n.draggable!==r.draggable&&(n.draggable===!0?t.dragging.enable():t.dragging.disable())}),c1=Y8e(function({positions:t,...n},r){const a=new Ei.Polygon(t,n);return hT(a,Yse(r,{overlayContainer:a}))},function(t,n,r){n.positions!==r.positions&&t.setLatLngs(n.positions)}),u1=G8e(function(t,n){const r=new Ei.Popup(t,n.overlayContainer);return hT(r,n)},function(t,n,{position:r},a){E.useEffect(function(){const{instance:o}=t;function s(u){u.popup===o&&(o.update(),a(!0))}function l(u){u.popup===o&&a(!1)}return n.map.on({popupopen:s,popupclose:l}),n.overlayContainer==null?(r!=null&&o.setLatLng(r),o.openOn(n.map)):n.overlayContainer.bindPopup(o),function(){var d;n.map.off({popupopen:s,popupclose:l}),(d=n.overlayContainer)==null||d.unbindPopup(),n.map.removeLayer(o)}},[t,n,a,r])}),Tb=K8e(function({url:t,...n},r){const a=new Ei.TileLayer(t,fT(n,r));return hT(a,r)},function(t,n,r){X8e(t,n,r);const{url:a}=n;a!=null&&a!==r.url&&t.setUrl(a)}),$M="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",Qse="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC",J8e="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAABSCAMAAAAhFXfZAAAC91BMVEVMaXEzeak2f7I4g7g3g7cua5gzeKg8hJo3grY4g7c3grU0gLI2frE0daAubJc2gbQwd6QzeKk2gLMtd5sxdKIua5g1frA2f7IydaM0e6w2fq41fK01eqo3grgubJgta5cxdKI1f7AydaQydaMxc6EubJgvbJkwcZ4ubZkwcJwubZgubJcydqUydKIxapgubJctbJcubZcubJcvbJYubJcvbZkubJctbJctbZcubJg2f7AubJcrbZcubJcubJcua5g3grY0fq8ubJcubJdEkdEwhsw6i88vhswuhcsuhMtBjMgthMsrg8srgss6is8qgcs8i9A9iMYtg8spgcoogMo7hcMngMonf8olfso4gr8kfck5iM8jfMk4iM8he8k1fro7itAgesk2hs8eecgzfLcofssdeMg0hc4cd8g2hcsxeLQbdsgZdcgxeLImfcszhM0vda4xgckzhM4xg84wf8Yxgs4udKsvfcQucqhUndROmdM1fK0wcZ8vb5w0eqpQm9MzeKhXoNVcpdYydKNWn9VZotVKltJFjsIwcJ1Rms9OlslLmtH///8+kc9epdYzd6dbo9VHkMM2f7FHmNBClM8ydqVcpNY9hro3gLM9hLczealQmcw3fa46f7A8gLMxc6I3eagyc6FIldJMl9JSnNRSntNNl9JPnNJFi75UnM9ZodVKksg8kM45jc09e6ZHltFBk883gbRBh7pDk9EwcaBzn784g7dKkcY2i81Om9M7j85Llc81is09g7Q4grY/j9A0eqxKmdFFltBEjcXf6fFImdBCiLxJl9FGlNFBi78yiMxVndEvbpo6js74+vx+psPP3+o/ks5HkcpGmNCjwdZCkNDM3ehYoNJEls+lxNkxh8xHks0+jdC1zd5Lg6r+/v/H2ufz9/o3jM3t8/edvdM/k89Th61OiLBSjbZklbaTt9BfptdjmL1AicBHj8hGk9FAgK1dkLNTjLRekrdClc/k7fM0icy0y9tgp9c4jc2NtM9Dlc8zicxeXZn3AAAAQ3RSTlMAHDdTb4yPA+LtnEQmC4L2EmHqB7XA0d0sr478x4/Yd5i1zOfyPkf1sLVq4Nh3FvjxopQ2/STNuFzUwFIwxKaejILpIBEV9wAABhVJREFUeF6s1NdyFEcYBeBeoQIhRAkLlRDGrhIgY3BJL8CVeKzuyXFzzjkn5ZxzzuScg3PO8cKzu70JkO0LfxdTU//pM9vTu7Xgf6KqOVTb9X7toRrVEfBf1HTVjZccrT/2by1VV928Yty9ZbVuucdz90frG8DBjl9pVApbOstvmMuvVgaNXSfAAd6pGxpy6yxf5ph43pS/4f3uoaGm2rdu72S9xzOvMymkZFq/ptDrk90mhW7e4zl7HLzhxGWPR20xmSxJ/VqldG5m9XhaVOA1DadsNh3Pu5L2N6QtPO/32JpqQBVVk20oy/Pi2s23WEvyfHbe1thadVQttvm7Llf65gGmXK67XtupyoM7HQhmXdLS8oGWJNeOJ3C5fG5XCEJnkez3/oFdsvgJ4l2ANZwhrJKk/7OSXa+3Vw2WJMlKnGkobouYk6T0TyX30klOUnTD9HJ5qpckL3EW/w4XF3Xd0FGywXUrstrclVsqz5Pd/sXFYyDnPdrLcQODmGOK47IZb4CmibmMn+MYRzFZ5jg33ZL/EJrWcszHmANy3ARBK/IXtciJy8VsitPSdE3uuHxzougojcUdr8/32atnz/ev3f/K5wtpxUTpcaI45zusVDpYtZi+jg0oU9b3x74h7+n9ABvYEZeKaVq0sh0AtLKsFtqNBdeT0MrSzwwlq9+x6xAO4tgOtSzbCjrNQQiNvQUbUEubvzBUeGw26yDCsRHCoLkTHDa7IdOLIThs/gHvChszh2CimE8peRs47cxANI0lYNB5y1DljpOF0IhzBDPOZnDOqYYbeGKECbPzWnXludPphw5c2YBq5zlwXphIbO4VDCZ0gnPfUO1TwZoYwAs2ExPCedAu9DAjfQUjzITQb3jNj0KG2Sgt6BHaQUdYzWz+XmBktOHwanXjaSTcwwziBcuMOtwBmqPrTOxFQR/DRKKPqyur0aiW6cULYsx6tBm0jXpR/AUWR6HRq9WVW6MRhIq5jLyjbaCTDCijyYJNpCajdyobP/eTw0iexBAKkJ3gA5KcQb2zBXsIBckn+xVv8jkZSaEFHE+jFEleAEfayRU0MouNoBmB/L50Ai/HSLIHxcrpCvnhSQAuakKp2C/YbCylJjXRVy/z3+Kv/RrNcCo+WUzlVEhzKffnTQnxeN9fWF88fiNCUdSTsaufaChKWInHeysygfpIqagoakW+vV20J8uyl6TyNKEZWV4oRSPyCkWpgOLSbkCObT8o2r6tlG58HQquf6O0v50tB7JM7F4EORd2dx/K0w/KHsVkLPaoYrwgP/y7krr3SSMA4zj+OBgmjYkxcdIJQyQRKgg2viX9Hddi9UBb29LrKR7CVVEEEXWojUkXNyfTNDE14W9gbHJNuhjDettN3ZvbOvdOqCD3Jp/9l+/wJE+9PkYGjx/fqkys3S2rMozM/o2106rfMUINo6hVqz+eu/hd1c4xTg0TAfy5kV+4UG6+IthHTU9woWmxuKNbTfuCSfovBCxq7EtHqvYL4Sm6F8GVxsSXHMQ07TOi1DKtZxjWaaIyi4CXWjxPccUw8WVbMYY5wxC1mzEyXMJWkllpRloi+Kkoq69sxBTlElF6aAxYUbjXNlhlDZilDnM4U5SlN5biRsRHnbx3mbeWjEh4mEyiuJDl5XcWVmX5GvNkFgLWZM5qwsop4/AWfLhU1cR7k1VVvcYCWRkOI6Xy5gmnphCYIkvzuNYzHzosq2oNk2RtSs8khfUOfHIDgR6ysYBaMpl4uEgk2U/oJTs9AaTSwma7dT69geAE2ZpEjUsn2ieJNHeKfrI3EcAGJ2ZaNgVuC8EBctCLc57P5u5led6IOBkIYkuQMrmmjChs4VkfOerHqSBkPzZlhe06RslZ3zMjk2sscqKwY0RcjKK+LWbzd7KiHhkncs/siFJ+V5eXxD34B8nVuJEpGJNmxN2gH3vSvp7J70tF+D1Ej8qUJD1TkErAND2GZwTFg/LubvmgiBG3SOvdlsqFQrkEzJCL1rstlnVFROixZoDDSuXQFHESwVGlcuQcMb/b42NgjLowh5MTDFE3vNB5qStRIErdCQEh6pLPR92anSUb/wAIhldAaDMpGgAAAABJRU5ErkJggg==";let eBe=co.icon({iconUrl:$M,iconRetinaUrl:J8e,shadowUrl:Qse,iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]});co.Marker.prototype.options.icon=eBe;const tBe=()=>{const[e,t]=E.useState(""),[n,r]=E.useState(0),a=u=>{const d=u.target.value;t(d),r(d.length)},i=async u=>{u.preventDefault();const d=u.target;try{const f={firstName:d.firstName.value,lastName:d.lastName.value,email:d.email.value,phone:d.phone.value,message:e};(await Le.post("/contacts",f)).status===201&&(alert("Thank you for your message! We will get back to you soon."),d.reset(),t(""),r(0))}catch(f){console.error("Error submitting form:",f),alert("There was an error submitting your message. Please try again.")}},[o,s]=E.useState({mainHeading:"Contact Us",mainDescription:"If you have further questions...",email:"Kmkkpayatas@gmail.com",phone:"321-221-221",sections:[{title:"Contact Support",description:"Provides exceptional customer assistance..."},{title:"Feedback and Suggestions",description:"Collects, analyzes, and addresses user feedback..."},{title:"Made Inquiries",description:"Handles and responds to inquiries efficiently..."}],locationHeading:"Our location",locationTitle:"Connecting Near and Far",locationSubHeading:"Headquarters",address:["Kapatid kita mahal kita Foundation","Quezon City, Philippines","Lonergan Center, Ateneo de Manila University, PH 1108","Philippines"]});E.useEffect(()=>{(async()=>{var d;try{const f=await Le.get("/content/contact");(d=f.data)!=null&&d.content&&s(f.data.content)}catch(f){console.error("Failed to load content:",f)}})()},[]);const l=[14.639824708507915,121.07880856560423];return c.jsxs("div",{className:"contact-container",children:[c.jsxs("div",{className:"firstSection",children:[c.jsx("div",{className:"top-section",children:c.jsxs("div",{className:"contact-info",children:[c.jsxs("div",{className:"ContactUs",children:[c.jsx("h1",{className:"contact",children:o.mainHeading}),c.jsx("p",{className:"contactp",children:o.mainDescription}),c.jsx("p",{className:"contactp",children:o.email}),c.jsx("p",{className:"contactp",children:o.phone}),c.jsx("a",{className:"contactc",href:"https://facebook.com",target:"https://facebook.com",children:"Contact Support"})]}),c.jsx("div",{className:"inquiry",children:o.sections.map((u,d)=>c.jsxs("div",{className:d===0?"supp":d===1?"feedback":"inquiries",children:[c.jsx("h4",{className:"inq",children:u.title}),c.jsx("p",{className:"inqp",children:u.description})]},d))})]})}),c.jsxs("div",{className:"contact-form",children:[c.jsx("h2",{children:"Get in Touch"}),c.jsx("p",{className:"reach",children:"You can reach us anytime"}),c.jsxs("form",{onSubmit:i,children:[c.jsxs("div",{className:"name-group",children:[c.jsx("input",{type:"text",name:"firstName",placeholder:"First name",required:!0}),c.jsx("input",{type:"text",name:"lastName",placeholder:"Last name",required:!0})]}),c.jsx("div",{className:"form-group",children:c.jsx("input",{type:"email",name:"email",placeholder:"Your email",required:!0})}),c.jsx("div",{className:"phone-group",children:c.jsx("input",{type:"tel",name:"phone",placeholder:"Phone number",required:!0})}),c.jsxs("div",{className:"form-group",children:[c.jsx("textarea",{name:"message",placeholder:"How can we help?",maxLength:120,value:e,onChange:a,required:!0}),c.jsxs("div",{className:"char-count",children:[n,"/120"]})]}),c.jsx("button",{type:"submit",className:"contact-submit-button",children:"Submit"}),c.jsxs("p",{className:"terms",children:["By contacting us, you agree to our ",c.jsx("a",{href:"#",children:"Terms of service"})," and"," ",c.jsx("a",{href:"#",children:"Privacy"}),"."]})]})]})]}),c.jsx("div",{className:"secondSection",children:c.jsxs("div",{className:"locations",children:[c.jsx("div",{className:"map-container",children:c.jsxs(gT,{center:l,zoom:16,style:{height:"400px",width:"400px"},attributionControl:!1,children:[c.jsx(Tb,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:""}),c.jsx(vT,{position:l,children:c.jsxs(u1,{children:["Kapatid kita mahal kita Foundation",c.jsx("br",{}),"Lonergan Center, Ateneo de Manila University"]})})]})}),c.jsxs("div",{className:"locationtext",children:[c.jsx("h6",{children:o.locationHeading}),c.jsx("h1",{children:o.locationTitle}),c.jsx("h3",{children:o.locationSubHeading}),o.address.map((u,d)=>c.jsx("p",{className:"contactp",children:u},d))]})]})})]})};function Jse(e){const t=E.useRef(e);return E.useEffect(()=>{t.current=e},[e]),t}function JV(e){const t=Jse(e);return E.useCallback(function(...n){return t.current&&t.current(...n)},[t])}function nBe(e,t){const n=E.useRef(!0);E.useEffect(()=>{if(n.current){n.current=!1;return}return e()},t)}function rBe(){const e=E.useRef(!0),t=E.useRef(()=>e.current);return E.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),t.current}function aBe(e){const t=E.useRef(e);return t.current=e,t}function iBe(e){const t=aBe(e);E.useEffect(()=>()=>t.current(),[])}const BM=2**31-1;function ele(e,t,n){const r=n-Date.now();e.current=r<=BM?setTimeout(t,r):setTimeout(()=>ele(e,t,n),BM)}function oBe(){const e=rBe(),t=E.useRef();return iBe(()=>clearTimeout(t.current)),E.useMemo(()=>{const n=()=>clearTimeout(t.current);function r(a,i=0){e()&&(n(),i<=BM?t.current=setTimeout(a,i):ele(t,a,Date.now()+i))}return{set:r,clear:n,handleRef:t}},[])}function sBe(e){const t=E.useRef(e);return E.useEffect(()=>{t.current=e},[e]),t}function D6(e){const t=sBe(e);return E.useCallback(function(...n){return t.current&&t.current(...n)},[t])}const lBe=["as","disabled"];function cBe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function uBe(e){return!e||e.trim()==="#"}function tle({tagName:e,disabled:t,href:n,target:r,rel:a,role:i,onClick:o,tabIndex:s=0,type:l}){e||(n!=null||r!=null||a!=null?e="a":e="button");const u={tagName:e};if(e==="button")return[{type:l||"button",disabled:t},u];const d=h=>{if((t||e==="a"&&uBe(n))&&h.preventDefault(),t){h.stopPropagation();return}o==null||o(h)},f=h=>{h.key===" "&&(h.preventDefault(),d(h))};return e==="a"&&(n||(n="#"),t&&(n=void 0)),[{role:i??"button",disabled:void 0,tabIndex:t?void 0:s,href:n,target:e==="a"?r:void 0,"aria-disabled":t||void 0,rel:e==="a"?a:void 0,onClick:d,onKeyDown:f},u]}const nle=E.forwardRef((e,t)=>{let{as:n,disabled:r}=e,a=cBe(e,lBe);const[i,{tagName:o}]=tle(Object.assign({tagName:n,disabled:r},a));return c.jsx(o,Object.assign({},a,i,{ref:t}))});nle.displayName="Button";const dBe=["onKeyDown"];function fBe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function hBe(e){return!e||e.trim()==="#"}const $E=E.forwardRef((e,t)=>{let{onKeyDown:n}=e,r=fBe(e,dBe);const[a]=tle(Object.assign({tagName:"a"},r)),i=D6(o=>{a.onKeyDown(o),n==null||n(o)});return hBe(r.href)||r.role==="button"?c.jsx("a",Object.assign({ref:t},r,a,{onKeyDown:i})):c.jsx("a",Object.assign({ref:t},r,{onKeyDown:n}))});$E.displayName="Anchor";var rle={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var i="",o=0;o<arguments.length;o++){var s=arguments[o];s&&(i=a(i,r(s)))}return i}function r(i){if(typeof i=="string"||typeof i=="number")return i;if(typeof i!="object")return"";if(Array.isArray(i))return n.apply(null,i);if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]"))return i.toString();var o="";for(var s in i)t.call(i,s)&&i[s]&&(o=a(o,s));return o}function a(i,o){return o?i?i+" "+o:i+o:i}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(rle);var pBe=rle.exports;const Rr=sr(pBe);function eH(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function mBe(e){var t=gBe(e,"string");return typeof t=="symbol"?t:String(t)}function gBe(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function vBe(e,t,n){var r=E.useRef(e!==void 0),a=E.useState(t),i=a[0],o=a[1],s=e!==void 0,l=r.current;return r.current=s,!s&&l&&i!==t&&o(t),[s?e:i,E.useCallback(function(u){for(var d=arguments.length,f=new Array(d>1?d-1:0),h=1;h<d;h++)f[h-1]=arguments[h];n&&n.apply(void 0,[u].concat(f)),o(u)},[n])]}function O6(e,t){return Object.keys(t).reduce(function(n,r){var a,i=n,o=i[eH(r)],s=i[r],l=hL(i,[eH(r),r].map(mBe)),u=t[r],d=vBe(s,o,e[u]),f=d[0],h=d[1];return eb({},l,(a={},a[r]=f,a[u]=h,a))},e)}const yBe=["xxl","xl","lg","md","sm","xs"],xBe="xs",M6=E.createContext({prefixes:{},breakpoints:yBe,minBreakpoint:xBe}),{Consumer:ejt,Provider:tjt}=M6;function Oh(e,t){const{prefixes:n}=E.useContext(M6);return e||n[t]||t}function bBe(){const{dir:e}=E.useContext(M6);return e==="rtl"}const ale=E.forwardRef(({className:e,bsPrefix:t,as:n="div",...r},a)=>(t=Oh(t,"carousel-caption"),c.jsx(n,{ref:a,className:Rr(e,t),...r})));ale.displayName="CarouselCaption";const ile=E.forwardRef(({as:e="div",bsPrefix:t,className:n,...r},a)=>{const i=Rr(n,Oh(t,"carousel-item"));return c.jsx(e,{ref:a,...r,className:i})});ile.displayName="CarouselItem";function BE(e,t){let n=0;return E.Children.map(e,r=>E.isValidElement(r)?t(r,n++):r)}function ole(e,t){let n=0;E.Children.forEach(e,r=>{E.isValidElement(r)&&t(r,n++)})}function wBe(e){return e&&e.ownerDocument||document}function _Be(e){var t=wBe(e);return t&&t.defaultView||window}function SBe(e,t){return _Be(e).getComputedStyle(e,t)}var CBe=/([A-Z])/g;function EBe(e){return e.replace(CBe,"-$1").toLowerCase()}var NBe=/^ms-/;function R_(e){return EBe(e).replace(NBe,"-ms-")}var kBe=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function jBe(e){return!!(e&&kBe.test(e))}function sle(e,t){var n="",r="";if(typeof t=="string")return e.style.getPropertyValue(R_(t))||SBe(e).getPropertyValue(R_(t));Object.keys(t).forEach(function(a){var i=t[a];!i&&i!==0?e.style.removeProperty(R_(a)):jBe(a)?r+=a+"("+i+") ":n+=R_(a)+": "+i+";"}),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n}const TBe=!!(typeof window<"u"&&window.document&&window.document.createElement);var zM=!1,UM=!1;try{var $4={get passive(){return zM=!0},get once(){return UM=zM=!0}};TBe&&(window.addEventListener("test",$4,$4),window.removeEventListener("test",$4,!0))}catch{}function PBe(e,t,n,r){if(r&&typeof r!="boolean"&&!UM){var a=r.once,i=r.capture,o=n;!UM&&a&&(o=n.__once||function s(l){this.removeEventListener(t,s,i),n.call(this,l)},n.__once=o),e.addEventListener(t,o,zM?r:i)}e.addEventListener(t,n,r)}function ABe(e,t,n,r){var a=r&&typeof r!="boolean"?r.capture:r;e.removeEventListener(t,n,a),n.__once&&e.removeEventListener(t,n.__once,a)}function lle(e,t,n,r){return PBe(e,t,n,r),function(){ABe(e,t,n,r)}}function DBe(e,t,n,r){if(r===void 0&&(r=!0),e){var a=document.createEvent("HTMLEvents");a.initEvent(t,n,r),e.dispatchEvent(a)}}function OBe(e){var t=sle(e,"transitionDuration")||"",n=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*n}function MBe(e,t,n){n===void 0&&(n=5);var r=!1,a=setTimeout(function(){r||DBe(e,"transitionend",!0)},t+n),i=lle(e,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(a),i()}}function IBe(e,t,n,r){n==null&&(n=OBe(e)||0);var a=MBe(e,n,r),i=lle(e,"transitionend",t);return function(){a(),i()}}function tH(e,t){const n=sle(e,t)||"",r=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*r}function cle(e,t){const n=tH(e,"transitionDuration"),r=tH(e,"transitionDelay"),a=IBe(e,i=>{i.target===e&&(a(),t(i))},n+r)}function ule(e){e.offsetHeight}const nH=e=>!e||typeof e=="function"?e:t=>{e.current=t};function RBe(e,t){const n=nH(e),r=nH(t);return a=>{n&&n(a),r&&r(a)}}function FBe(e,t){return E.useMemo(()=>RBe(e,t),[e,t])}function LBe(e){return e&&"setState"in e?Cp.findDOMNode(e):e??null}const I6=le.forwardRef(({onEnter:e,onEntering:t,onEntered:n,onExit:r,onExiting:a,onExited:i,addEndListener:o,children:s,childRef:l,...u},d)=>{const f=E.useRef(null),h=FBe(f,l),p=k=>{h(LBe(k))},m=k=>N=>{k&&f.current&&k(f.current,N)},g=E.useCallback(m(e),[e]),y=E.useCallback(m(t),[t]),x=E.useCallback(m(n),[n]),b=E.useCallback(m(r),[r]),w=E.useCallback(m(a),[a]),_=E.useCallback(m(i),[i]),S=E.useCallback(m(o),[o]);return c.jsx(Il,{ref:d,...u,onEnter:g,onEntered:x,onEntering:y,onExit:b,onExited:_,onExiting:w,addEndListener:S,nodeRef:f,children:typeof s=="function"?(k,N)=>s(k,{...N,ref:p}):le.cloneElement(s,{ref:p})})});I6.displayName="TransitionWrapper";const $Be=40;function BBe(e){if(!e||!e.style||!e.parentNode||!e.parentNode.style)return!1;const t=getComputedStyle(e);return t.display!=="none"&&t.visibility!=="hidden"&&getComputedStyle(e.parentNode).display!=="none"}const dle=E.forwardRef(({defaultActiveIndex:e=0,...t},n)=>{const{as:r="div",bsPrefix:a,slide:i=!0,fade:o=!1,controls:s=!0,indicators:l=!0,indicatorLabels:u=[],activeIndex:d,onSelect:f,onSlide:h,onSlid:p,interval:m=5e3,keyboard:g=!0,onKeyDown:y,pause:x="hover",onMouseOver:b,onMouseOut:w,wrap:_=!0,touch:S=!0,onTouchStart:k,onTouchMove:N,onTouchEnd:P,prevIcon:T=c.jsx("span",{"aria-hidden":"true",className:"carousel-control-prev-icon"}),prevLabel:j="Previous",nextIcon:D=c.jsx("span",{"aria-hidden":"true",className:"carousel-control-next-icon"}),nextLabel:M="Next",variant:R,className:W,children:B,...V}=O6({defaultActiveIndex:e,...t},{activeIndex:"onSelect"}),q=Oh(a,"carousel"),I=bBe(),O=E.useRef(null),[H,ne]=E.useState("next"),[z,J]=E.useState(!1),[ee,G]=E.useState(!1),[Z,se]=E.useState(d||0);E.useEffect(()=>{!ee&&d!==Z&&(O.current?ne(O.current):ne((d||0)>Z?"next":"prev"),i&&G(!0),se(d||0))},[d,ee,Z,i]),E.useEffect(()=>{O.current&&(O.current=null)});let ae=0,Y;ole(B,(at,Ke)=>{++ae,Ke===d&&(Y=at.props.interval)});const X=Jse(Y),K=E.useCallback(at=>{if(ee)return;let Ke=Z-1;if(Ke<0){if(!_)return;Ke=ae-1}O.current="prev",f==null||f(Ke,at)},[ee,Z,f,_,ae]),F=JV(at=>{if(ee)return;let Ke=Z+1;if(Ke>=ae){if(!_)return;Ke=0}O.current="next",f==null||f(Ke,at)}),re=E.useRef();E.useImperativeHandle(n,()=>({element:re.current,prev:K,next:F}));const Q=JV(()=>{!document.hidden&&BBe(re.current)&&(I?K():F())}),oe=H==="next"?"start":"end";nBe(()=>{i||(h==null||h(Z,oe),p==null||p(Z,oe))},[Z]);const me=`${q}-item-${H}`,be=`${q}-item-${oe}`,ye=E.useCallback(at=>{ule(at),h==null||h(Z,oe)},[h,Z,oe]),de=E.useCallback(()=>{G(!1),p==null||p(Z,oe)},[p,Z,oe]),we=E.useCallback(at=>{if(g&&!/input|textarea/i.test(at.target.tagName))switch(at.key){case"ArrowLeft":at.preventDefault(),I?F(at):K(at);return;case"ArrowRight":at.preventDefault(),I?K(at):F(at);return}y==null||y(at)},[g,y,K,F,I]),We=E.useCallback(at=>{x==="hover"&&J(!0),b==null||b(at)},[x,b]),Me=E.useCallback(at=>{J(!1),w==null||w(at)},[w]),ze=E.useRef(0),He=E.useRef(0),dt=oBe(),qt=E.useCallback(at=>{ze.current=at.touches[0].clientX,He.current=0,x==="hover"&&J(!0),k==null||k(at)},[x,k]),Zt=E.useCallback(at=>{at.touches&&at.touches.length>1?He.current=0:He.current=at.touches[0].clientX-ze.current,N==null||N(at)},[N]),Wt=E.useCallback(at=>{if(S){const Ke=He.current;Math.abs(Ke)>$Be&&(Ke>0?K(at):F(at))}x==="hover"&&dt.set(()=>{J(!1)},m||void 0),P==null||P(at)},[S,x,K,F,dt,m,P]),mn=m!=null&&!z&&!ee,Re=E.useRef();E.useEffect(()=>{var at,Ke;if(!mn)return;const Qe=I?K:F;return Re.current=window.setInterval(document.visibilityState?Q:Qe,(at=(Ke=X.current)!=null?Ke:m)!=null?at:void 0),()=>{Re.current!==null&&clearInterval(Re.current)}},[mn,K,F,X,m,Q,I]);const Ge=E.useMemo(()=>l&&Array.from({length:ae},(at,Ke)=>Qe=>{f==null||f(Ke,Qe)}),[l,ae,f]);return c.jsxs(r,{ref:re,...V,onKeyDown:we,onMouseOver:We,onMouseOut:Me,onTouchStart:qt,onTouchMove:Zt,onTouchEnd:Wt,className:Rr(W,q,i&&"slide",o&&`${q}-fade`,R&&`${q}-${R}`),children:[l&&c.jsx("div",{className:`${q}-indicators`,children:BE(B,(at,Ke)=>c.jsx("button",{type:"button","data-bs-target":"","aria-label":u!=null&&u.length?u[Ke]:`Slide ${Ke+1}`,className:Ke===Z?"active":void 0,onClick:Ge?Ge[Ke]:void 0,"aria-current":Ke===Z},Ke))}),c.jsx("div",{className:`${q}-inner`,children:BE(B,(at,Ke)=>{const Qe=Ke===Z;return i?c.jsx(I6,{in:Qe,onEnter:Qe?ye:void 0,onEntered:Qe?de:void 0,addEndListener:cle,children:(yt,ft)=>E.cloneElement(at,{...ft,className:Rr(at.props.className,Qe&&yt!=="entered"&&me,(yt==="entered"||yt==="exiting")&&"active",(yt==="entering"||yt==="exiting")&&be)})}):E.cloneElement(at,{className:Rr(at.props.className,Qe&&"active")})})}),s&&c.jsxs(c.Fragment,{children:[(_||d!==0)&&c.jsxs($E,{className:`${q}-control-prev`,onClick:K,children:[T,j&&c.jsx("span",{className:"visually-hidden",children:j})]}),(_||d!==ae-1)&&c.jsxs($E,{className:`${q}-control-next`,onClick:F,children:[D,M&&c.jsx("span",{className:"visually-hidden",children:M})]})]})]})});dle.displayName="Carousel";const F_=Object.assign(dle,{Caption:ale,Item:ile});function zBe(e,t,n){const r=E.useRef(e!==void 0),[a,i]=E.useState(t),o=e!==void 0,s=r.current;return r.current=o,!o&&s&&a!==t&&i(t),[o?e:a,E.useCallback((...l)=>{const[u,...d]=l;let f=n==null?void 0:n(u,...d);return i(u),f},[n])]}const fle={prefix:String(Math.round(Math.random()*1e10)),current:0},hle=le.createContext(fle),UBe=le.createContext(!1);let B4=new WeakMap;function WBe(e=!1){let t=E.useContext(hle),n=E.useRef(null);if(n.current===null&&!e){var r,a;let i=(a=le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||a===void 0||(r=a.ReactCurrentOwner)===null||r===void 0?void 0:r.current;if(i){let o=B4.get(i);o==null?B4.set(i,{id:t.current,state:i.memoizedState}):i.memoizedState!==o.state&&(t.current=o.id,B4.delete(i))}n.current=++t.current}return n.current}function VBe(e){let t=E.useContext(hle),n=WBe(!!e),r=`react-aria${t.prefix}`;return e||`${r}-${n}`}function HBe(e){let t=le.useId(),[n]=E.useState(XBe()),r=n?"react-aria":`react-aria${fle.prefix}`;return e||`${r}-${t}`}const qBe=typeof le.useId=="function"?HBe:VBe;function GBe(){return!1}function YBe(){return!0}function KBe(e){return()=>{}}function XBe(){return typeof le.useSyncExternalStore=="function"?le.useSyncExternalStore(KBe,GBe,YBe):E.useContext(UBe)}const ny=E.createContext(null),l0=E.createContext(null),Pb=(e,t=null)=>e!=null?String(e):t||null,rH=e=>!e||typeof e=="function"?e:t=>{e.current=t};function ZBe(e,t){const n=rH(e),r=rH(t);return a=>{n&&n(a),r&&r(a)}}function ple(e,t){return E.useMemo(()=>ZBe(e,t),[e,t])}function QBe(){const e=E.version.split(".");return{major:+e[0],minor:+e[1],patch:+e[2]}}function mle(e){if(!e||typeof e=="function")return null;const{major:t}=QBe();return t>=19?e.props.ref:e.ref}function gle({children:e,in:t,onExited:n,mountOnEnter:r,unmountOnExit:a}){const i=E.useRef(null),o=E.useRef(t),s=D6(n);E.useEffect(()=>{t?o.current=!0:s(i.current)},[t,s]);const l=ple(i,mle(e)),u=E.cloneElement(e,{ref:l});return t?u:a||!o.current&&r?null:u}const JBe=["active","eventKey","mountOnEnter","transition","unmountOnExit","role","onEnter","onEntering","onEntered","onExit","onExiting","onExited"],e7e=["activeKey","getControlledId","getControllerId"],t7e=["as"];function WM(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function vle(e){let{active:t,eventKey:n,mountOnEnter:r,transition:a,unmountOnExit:i,role:o="tabpanel",onEnter:s,onEntering:l,onEntered:u,onExit:d,onExiting:f,onExited:h}=e,p=WM(e,JBe);const m=E.useContext(ny);if(!m)return[Object.assign({},p,{role:o}),{eventKey:n,isActive:t,mountOnEnter:r,transition:a,unmountOnExit:i,onEnter:s,onEntering:l,onEntered:u,onExit:d,onExiting:f,onExited:h}];const{activeKey:g,getControlledId:y,getControllerId:x}=m,b=WM(m,e7e),w=Pb(n);return[Object.assign({},p,{role:o,id:y(n),"aria-labelledby":x(n)}),{eventKey:n,isActive:t==null&&w!=null?Pb(g)===w:t,transition:a||b.transition,mountOnEnter:r??b.mountOnEnter,unmountOnExit:i??b.unmountOnExit,onEnter:s,onEntering:l,onEntered:u,onExit:d,onExiting:f,onExited:h}]}const yle=E.forwardRef((e,t)=>{let{as:n="div"}=e,r=WM(e,t7e);const[a,{isActive:i,onEnter:o,onEntering:s,onEntered:l,onExit:u,onExiting:d,onExited:f,mountOnEnter:h,unmountOnExit:p,transition:m=gle}]=vle(r);return c.jsx(ny.Provider,{value:null,children:c.jsx(l0.Provider,{value:null,children:c.jsx(m,{in:i,onEnter:o,onEntering:s,onEntered:l,onExit:u,onExiting:d,onExited:f,mountOnEnter:h,unmountOnExit:p,children:c.jsx(n,Object.assign({},a,{ref:t,hidden:!i,"aria-hidden":!i}))})})})});yle.displayName="TabPanel";const R6=e=>{const{id:t,generateChildId:n,onSelect:r,activeKey:a,defaultActiveKey:i,transition:o,mountOnEnter:s,unmountOnExit:l,children:u}=e,[d,f]=zBe(a,i,r),h=qBe(t),p=E.useMemo(()=>n||((g,y)=>h?`${h}-${y}-${g}`:null),[h,n]),m=E.useMemo(()=>({onSelect:f,activeKey:d,transition:o,mountOnEnter:s||!1,unmountOnExit:l||!1,getControlledId:g=>p(g,"tabpane"),getControllerId:g=>p(g,"tab")}),[f,d,o,s,l,p]);return c.jsx(ny.Provider,{value:m,children:c.jsx(l0.Provider,{value:f||null,children:u})})};R6.Panel=yle;var n7e=Function.prototype.bind.call(Function.prototype.call,[].slice);function r7e(e,t){return n7e(e.querySelectorAll(t))}function a7e(){const[,e]=E.useReducer(t=>t+1,0);return e}const F6=E.createContext(null);F6.displayName="NavContext";const i7e="data-rr-ui-",o7e="rrUi";function L6(e){return`${i7e}${e}`}function s7e(e){return`${o7e}${e}`}const l7e=["as","active","eventKey"];function c7e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function xle({key:e,onClick:t,active:n,id:r,role:a,disabled:i}){const o=E.useContext(l0),s=E.useContext(F6),l=E.useContext(ny);let u=n;const d={role:a};if(s){!a&&s.role==="tablist"&&(d.role="tab");const f=s.getControllerId(e??null),h=s.getControlledId(e??null);d[L6("event-key")]=e,d.id=f||r,u=n==null&&e!=null?s.activeKey===e:n,(u||!(l!=null&&l.unmountOnExit)&&!(l!=null&&l.mountOnEnter))&&(d["aria-controls"]=h)}return d.role==="tab"&&(d["aria-selected"]=u,u||(d.tabIndex=-1),i&&(d.tabIndex=-1,d["aria-disabled"]=!0)),d.onClick=D6(f=>{i||(t==null||t(f),e!=null&&o&&!f.isPropagationStopped()&&o(e,f))}),[d,{isActive:u}]}const ble=E.forwardRef((e,t)=>{let{as:n=nle,active:r,eventKey:a}=e,i=c7e(e,l7e);const[o,s]=xle(Object.assign({key:Pb(a,i.href),active:r},i));return o[L6("active")]=s.isActive,c.jsx(n,Object.assign({},i,o,{ref:t}))});ble.displayName="NavItem";const u7e=["as","onSelect","activeKey","role","onKeyDown"];function d7e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}const aH=()=>{},iH=L6("event-key"),wle=E.forwardRef((e,t)=>{let{as:n="div",onSelect:r,activeKey:a,role:i,onKeyDown:o}=e,s=d7e(e,u7e);const l=a7e(),u=E.useRef(!1),d=E.useContext(l0),f=E.useContext(ny);let h,p;f&&(i=i||"tablist",a=f.activeKey,h=f.getControlledId,p=f.getControllerId);const m=E.useRef(null),g=w=>{const _=m.current;if(!_)return null;const S=r7e(_,`[${iH}]:not([aria-disabled=true])`),k=_.querySelector("[aria-selected=true]");if(!k||k!==document.activeElement)return null;const N=S.indexOf(k);if(N===-1)return null;let P=N+w;return P>=S.length&&(P=0),P<0&&(P=S.length-1),S[P]},y=(w,_)=>{w!=null&&(r==null||r(w,_),d==null||d(w,_))},x=w=>{if(o==null||o(w),!f)return;let _;switch(w.key){case"ArrowLeft":case"ArrowUp":_=g(-1);break;case"ArrowRight":case"ArrowDown":_=g(1);break;default:return}_&&(w.preventDefault(),y(_.dataset[s7e("EventKey")]||null,w),u.current=!0,l())};E.useEffect(()=>{if(m.current&&u.current){const w=m.current.querySelector(`[${iH}][aria-selected=true]`);w==null||w.focus()}u.current=!1});const b=ple(t,m);return c.jsx(l0.Provider,{value:y,children:c.jsx(F6.Provider,{value:{role:i,activeKey:Pb(a),getControlledId:h||aH,getControllerId:p||aH},children:c.jsx(n,Object.assign({},s,{onKeyDown:x,ref:b,role:i}))})})});wle.displayName="Nav";const f7e=Object.assign(wle,{Item:ble}),_le=E.createContext(null);_le.displayName="NavbarContext";const Sle=E.createContext(null);Sle.displayName="CardHeaderContext";const $6=E.forwardRef(({className:e,bsPrefix:t,as:n="div",...r},a)=>(t=Oh(t,"nav-item"),c.jsx(n,{ref:a,className:Rr(e,t),...r})));$6.displayName="NavItem";const B6=E.forwardRef(({bsPrefix:e,className:t,as:n=$E,active:r,eventKey:a,disabled:i=!1,...o},s)=>{e=Oh(e,"nav-link");const[l,u]=xle({key:Pb(a,o.href),active:r,disabled:i,...o});return c.jsx(n,{...o,...l,ref:s,disabled:i,className:Rr(t,e,i&&"disabled",u.isActive&&"active")})});B6.displayName="NavLink";const Cle=E.forwardRef((e,t)=>{const{as:n="div",bsPrefix:r,variant:a,fill:i=!1,justify:o=!1,navbar:s,navbarScroll:l,className:u,activeKey:d,...f}=O6(e,{activeKey:"onSelect"}),h=Oh(r,"nav");let p,m,g=!1;const y=E.useContext(_le),x=E.useContext(Sle);return y?(p=y.bsPrefix,g=s??!0):x&&({cardHeaderBsPrefix:m}=x),c.jsx(f7e,{as:n,ref:t,activeKey:d,className:Rr(u,{[h]:!g,[`${p}-nav`]:g,[`${p}-nav-scroll`]:g&&l,[`${m}-${a}`]:!!m,[`${h}-${a}`]:!!a,[`${h}-fill`]:i,[`${h}-justified`]:o}),...f})});Cle.displayName="Nav";const h7e=Object.assign(Cle,{Item:$6,Link:B6}),z6=E.forwardRef(({className:e,bsPrefix:t,as:n="div",...r},a)=>(t=Oh(t,"tab-content"),c.jsx(n,{ref:a,className:Rr(e,t),...r})));z6.displayName="TabContent";const p7e={[yf]:"show",[vp]:"show"},U6=E.forwardRef(({className:e,children:t,transitionClasses:n={},onEnter:r,...a},i)=>{const o={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...a},s=E.useCallback((l,u)=>{ule(l),r==null||r(l,u)},[r]);return c.jsx(I6,{ref:i,addEndListener:cle,...o,onEnter:s,childRef:mle(t),children:(l,u)=>E.cloneElement(t,{...u,className:Rr("fade",e,t.props.className,p7e[l],n[l])})})});U6.displayName="Fade";function W6(e){return typeof e=="boolean"?e?U6:gle:e}const V6=E.forwardRef(({bsPrefix:e,transition:t,...n},r)=>{const[{className:a,as:i="div",...o},{isActive:s,onEnter:l,onEntering:u,onEntered:d,onExit:f,onExiting:h,onExited:p,mountOnEnter:m,unmountOnExit:g,transition:y=U6}]=vle({...n,transition:W6(t)}),x=Oh(e,"tab-pane");return c.jsx(ny.Provider,{value:null,children:c.jsx(l0.Provider,{value:null,children:c.jsx(y,{in:s,onEnter:l,onEntering:u,onEntered:d,onExit:f,onExiting:h,onExited:p,mountOnEnter:m,unmountOnExit:g,children:c.jsx(i,{...o,ref:r,className:Rr(a,x,s&&"active")})})})})});V6.displayName="TabPane";function m7e(e){let t;return ole(e,n=>{t==null&&(t=n.props.eventKey)}),t}function g7e(e){const{title:t,eventKey:n,disabled:r,tabClassName:a,tabAttrs:i,id:o}=e.props;return t==null?null:c.jsx($6,{as:"li",role:"presentation",children:c.jsx(B6,{as:"button",type:"button",eventKey:n,disabled:r,id:o,className:a,...i,children:t})})}const Ele=e=>{const{id:t,onSelect:n,transition:r,mountOnEnter:a=!1,unmountOnExit:i=!1,variant:o="tabs",children:s,activeKey:l=m7e(s),...u}=O6(e,{activeKey:"onSelect"});return c.jsxs(R6,{id:t,activeKey:l,onSelect:n,transition:W6(r),mountOnEnter:a,unmountOnExit:i,children:[c.jsx(h7e,{id:t,...u,role:"tablist",as:"ul",variant:o,children:BE(s,g7e)}),c.jsx(z6,{children:BE(s,d=>{const f={...d.props};return delete f.title,delete f.disabled,delete f.tabClassName,delete f.tabAttrs,c.jsx(V6,{...f})})})]})};Ele.displayName="Tabs";const Nle=({transition:e,...t})=>c.jsx(R6,{...t,transition:W6(e)});Nle.displayName="TabContainer";const v7e={eventKey:Vt.oneOfType([Vt.string,Vt.number]),title:Vt.node.isRequired,disabled:Vt.bool,tabClassName:Vt.string,tabAttrs:Vt.object},kle=()=>{throw new Error("ReactBootstrap: The `Tab` component is not meant to be rendered! It's an abstract component that is only valid as a direct Child of the `Tabs` Component. For custom tabs components use TabPane and TabsContainer directly")};kle.propTypes=v7e;const oH=Object.assign(kle,{Container:Nle,Content:z6,Pane:V6}),y7e=()=>{const e=Zr(),[t,n]=E.useState([]),[r,a]=E.useState([]),[i,o]=E.useState(!1),[s,l]=E.useState(null),u="/images/default-event.png",{user:d}=Fk(),[f,h]=E.useState([]),[p,m]=E.useState([]),[g,y]=E.useState("featured"),x=T=>{if(!T)return"";try{const[j,D]=T.split(":"),M=parseInt(j,10),R=M>=12?"PM":"AM";return`${M%12||12}:${D} ${R}`}catch{return""}},b=(T,j)=>{if(!T||!j)return"Time to be announced";const D=x(T),M=x(j);return`${D} - ${M}`},w=T=>{if(!T)return u;if(T.startsWith("http"))return T;if(console.log(`Processing image path: ${T}`),T.startsWith("/uploads")){const D="https://kmfi.netlify.app/";return console.log(`Resolving with base URL: ${D}${T}`),`${D}${T}`}const j="https://kmfi.netlify.app/";return console.log(`Resolving relative path: ${j}/uploads/events/${T}`),`${j}/uploads/events/${T}`},_=async()=>{try{o(!0);const T=await Le.get("/events");console.log("Raw event data:",T.data);const j=new Date,D=T.data.map(W=>{console.log(`Processing event ${W.id}, title: ${W.title}`),console.log(`Event ${W.id} skill requirements:`,W.skillRequirements||W.skill_requirements||"None");let B=null;if(W.skillRequirements?B=W.skillRequirements:W.skill_requirements&&(B=W.skill_requirements),typeof B=="string")try{B=JSON.parse(B),console.log("Parsed skill requirements from string:",B)}catch(H){console.error("Failed to parse skill requirements:",H),B=[]}const q=new Date(W.date)<j;let I;if(q){const H=parseInt(String(W.current_volunteers??W.currentVolunteers??0)),ne=parseInt(String(W.current_scholars??0));I={volunteersParticipated:H,scholarsHelped:ne}}q&&console.log(`Past event ${W.id} (${W.title}) feedback details:`,W.feedback);let O;return W.feedback&&Array.isArray(W.feedback)?(O=W.feedback.filter(H=>H.comment&&H.comment.trim()!==""&&H.user_role==="volunteer").map(H=>({id:H.id,userName:H.user_name,userRole:H.user_role||"volunteer",rating:H.rating,comment:H.comment,createdAt:H.created_at})),console.log(`Event ${W.id}: Processed ${O.length} filtered feedback items`)):console.log(`Event ${W.id}: No feedback data available, will fetch separately`),{...W,image:w(W.image),totalVolunteers:parseInt(String(W.total_volunteers??W.totalVolunteers??0)),currentVolunteers:parseInt(String(W.current_volunteers??W.currentVolunteers??0)),startTime:W.start_time??W.startTime??"",endTime:W.end_time??W.endTime??"",skillRequirements:B,totalScholars:parseInt(String(W.total_scholars??0)),currentScholars:parseInt(String(W.current_scholars??0)),isPast:q,...I&&{successMetrics:I},feedback:O}});await Promise.all(D.filter(W=>W.isPast&&(!W.feedback||W.feedback.length===0)).map(async W=>{try{console.log(`Fetching additional feedback for event ${W.id}`);const B=await Le.get(`/public/feedback/${W.id}`);B.data&&B.data.feedback&&(console.log(`Retrieved ${B.data.feedback.length} feedback items for event ${W.id}`),W.feedback=B.data.feedback.map(V=>({id:V.id,userName:V.user_name,userRole:V.user_role||"volunteer",rating:V.rating,comment:V.comment,createdAt:V.created_at})))}catch(B){console.error(`Error fetching feedback for event ${W.id}:`,B)}})),console.log("Past events after feedback fetch:",D.map(W=>{var B;return`${W.id}: ${W.title} - ${((B=W.feedback)==null?void 0:B.length)||0} feedback items`}));const M=D.filter(W=>!W.isPast),R=D.filter(W=>W.isPast);if(console.log("Transformed future events:",M.length),console.log("Transformed past events:",R.length),M.forEach(W=>{console.log(`Event ${W.id} (${W.title}) final skill requirements:`,JSON.stringify(W.skillRequirements))}),R.forEach(W=>{var B;console.log(`Past event ${W.id} (${W.title}): has ${((B=W.feedback)==null?void 0:B.length)||0} feedback items`)}),n(M),a(R),d&&d.role==="volunteer"&&d.skills){let W=[];if(typeof d.skills=="string")try{W=JSON.parse(d.skills)}catch(B){console.error("Error parsing user skills:",B)}else Array.isArray(d.skills)&&(W=d.skills);console.log("User skills before categorization:",W),M.forEach(B=>{if(B.skillRequirements&&B.skillRequirements.length>0){const V=B.skillRequirements.filter(q=>W.includes(q.skill));console.log(`Event ${B.id} (${B.title}) matching skills:`,V.length>0?V.map(q=>q.skill):"None")}}),N(M,W)}else h([]),m(M)}catch(T){console.error("Failed to fetch events:",T),l("Failed to load events. Please try again later.")}finally{o(!1)}};E.useEffect(()=>{_()},[d]);const S=T=>{try{return new Date(T).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}catch{return T}},k=T=>{e(`/event/${T}`)},N=(T,j)=>{if(!j||j.length===0||!Array.isArray(j)){h([]),m(T);return}const D=[],M=[];T.forEach(R=>{R.skillRequirements&&R.skillRequirements.some(W=>j.includes(W.skill))?D.push(R):M.push(R)}),h(D),m(M),console.log("User skills:",j),console.log("Recommended events:",D.length),console.log("Other events:",M.length)},P=T=>c.jsx("div",{className:"feedback-stars",children:[1,2,3,4,5].map(j=>c.jsx("span",{className:j<=T?"star filled":"star",children:""},j))});return c.jsxs(gd.div,{className:"event-page",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:[c.jsx("section",{className:"hero",children:c.jsxs(F_,{indicators:!0,interval:3e3,pause:"hover",children:[c.jsx(F_.Item,{children:c.jsx("img",{className:"d-block w-100",src:"https://kmpayatasb.org/wp-content/uploads/2024/02/SLT-9.jpg",alt:"First slide"})}),c.jsx(F_.Item,{children:c.jsx("img",{className:"d-block w-100",src:"https://www.reedelsevier.com.ph/wp-content/uploads/2017/08/corporate-social-responsibility-image.jpg",alt:"Second slide"})}),c.jsx(F_.Item,{children:c.jsx("img",{className:"d-block w-100",src:"https://kmpayatasb.org/wp-content/uploads/2024/07/449175130_1202453737441028_1645834846612611749_n-1380x657.jpg",alt:"Third slide"})})]})}),c.jsx("section",{className:"events-section",children:c.jsxs(Ele,{activeKey:g,onSelect:T=>y(T||"featured"),className:"event-tabs mb-4",fill:!0,children:[c.jsxs(oH,{eventKey:"featured",title:"Featured Events",children:[i&&c.jsx("div",{className:"loading-indicator",children:"Loading events..."}),s&&c.jsx("div",{className:"error-message",children:s}),d&&d.role==="volunteer"&&f.length>0&&c.jsxs(c.Fragment,{children:[c.jsxs("h2",{className:"section-title recommended-title",children:[c.jsx("span",{className:"highlight",children:"Recommended For You"}),c.jsx("span",{className:"subtitle",children:"Based on your skills"})]}),c.jsx("div",{className:"events-grid recommended-grid",children:f.map(T=>{const j=T.totalVolunteers-T.currentVolunteers,D=T.currentVolunteers/T.totalVolunteers*100;return c.jsxs("div",{className:"event-card recommended",onClick:()=>k(T.id),children:[c.jsxs("div",{className:"event-image",children:[c.jsx("img",{src:T.image||u,alt:T.title,className:"event-image",onError:M=>{console.error(`Failed to load image: ${T.image}`);const R=M.target;R.src=u,R.onerror=null}}),c.jsxs("div",{className:"recommended-badge",children:[c.jsx(N3,{})," Matches Your Skills"]})]}),c.jsxs("div",{className:"event-content",children:[c.jsx("h4",{children:T.title}),c.jsxs("p",{children:[c.jsx(qp,{})," ",T.location]}),c.jsxs("p",{children:[c.jsx(pc,{})," ",S(T.date)]}),T.startTime&&T.endTime&&c.jsxs("p",{children:[c.jsx(lb,{})," ",b(T.startTime,T.endTime)]}),c.jsxs("div",{className:"progress-bar-container",children:[c.jsx("div",{className:"progress-bar",style:{width:`${D}%`,backgroundColor:D===100?"#28a745":void 0},children:c.jsx("span",{className:"progress-percentage",children:D<5?"":`${Math.round(D)}%`})}),D<5&&c.jsxs("span",{className:"progress-percentage",children:[Math.round(D),"%"]})]}),c.jsx("p",{className:"volunteers-needed",children:j>0?`${j} more volunteers needed`:"No more volunteers needed"}),c.jsxs("p",{className:"event-status",children:["Status: ",T.status]}),T.skillRequirements&&(d==null?void 0:d.skills)&&c.jsxs("div",{className:"matching-skills",children:[c.jsx("div",{className:"skills-label",children:"Matching Skills:"}),c.jsx("div",{className:"skills-badges",children:T.skillRequirements.filter(M=>Array.isArray(d.skills)&&d.skills.includes(M.skill)).map(M=>c.jsx("span",{className:"skill-badge",children:M.skill.replace("_"," ")},M.skill))})]})]})]},T.id)})})]}),c.jsx("h2",{className:`section-title ${d&&d.role==="volunteer"&&f.length>0?"other-events":""}`,children:d&&d.role==="volunteer"&&f.length>0?c.jsxs("span",{className:"other-events-title",children:[c.jsx("span",{className:"highlight",children:"Other Events"}),c.jsx("span",{className:"subtitle",children:"Browse all available opportunities"})]}):"All Events"}),p.length>0?c.jsx("div",{className:"events-grid",children:p.map(T=>{const j=T.totalVolunteers-T.currentVolunteers,D=T.currentVolunteers/T.totalVolunteers*100;return c.jsxs("div",{className:"event-card",onClick:()=>k(T.id),children:[c.jsx("img",{src:T.image||u,alt:T.title,className:"event-image",onError:M=>{console.error(`Failed to load image: ${T.image}`);const R=M.target;R.src=u,R.onerror=null}}),c.jsx("h4",{children:T.title}),c.jsxs("p",{children:[c.jsx(qp,{})," ",T.location]}),c.jsxs("p",{children:[c.jsx(pc,{})," ",S(T.date)]}),T.startTime&&T.endTime&&c.jsxs("p",{children:[c.jsx(lb,{})," ",b(T.startTime,T.endTime)]}),c.jsxs("div",{className:"progress-bar-container",children:[c.jsx("div",{className:"progress-bar",style:{width:`${D}%`,backgroundColor:D===100?"#28a745":void 0},children:c.jsx("span",{className:"progress-percentage",children:D<5?"":`${Math.round(D)}%`})}),D<5&&c.jsxs("span",{className:"progress-percentage",children:[Math.round(D),"%"]})]}),c.jsx("p",{className:"volunteers-needed",children:j>0?`${j} more volunteers needed`:"No more volunteers needed"}),c.jsxs("p",{className:"event-status",children:["Status: ",T.status]})]},T.id)})}):c.jsx("div",{className:"no-events",children:f.length>0?"No other events available at the moment.":"No events available at the moment."})]}),c.jsx(oH,{eventKey:"past",title:"Past Events",children:c.jsxs("div",{className:"past-events-container",children:[c.jsxs("h2",{className:"section-title",children:[c.jsx("span",{className:"highlight",children:"Past Events"})," "]}),c.jsx("h5",{children:c.jsx("span",{className:"subtitle",children:"Our successful community initiatives"})}),i&&c.jsx("div",{className:"loading-indicator",children:"Loading past events..."}),s&&c.jsx("div",{className:"error-message",children:s}),r.length>0?c.jsx("div",{className:"past-events-list",children:r.map(T=>{var j,D,M,R;return c.jsxs("div",{className:"past-event-card",children:[c.jsxs("div",{className:"past-event-image",children:[c.jsx("img",{src:T.image||u,alt:T.title,onError:W=>{const B=W.target;B.src=u,B.onerror=null}}),c.jsxs("div",{className:"past-event-badge",children:[c.jsx(LSe,{})," Completed"]})]}),c.jsxs("div",{className:"past-event-content",children:[c.jsx("h3",{children:T.title}),c.jsxs("p",{className:"past-event-date",children:[c.jsx(pc,{})," ",S(T.date)]}),c.jsxs("p",{className:"past-event-location",children:[c.jsx(qp,{})," ",T.location]}),c.jsxs("div",{className:"past-event-metrics",children:[c.jsxs("div",{className:"metric",children:[c.jsx(cb,{className:"metric-icon"}),c.jsxs("div",{className:"metric-content",children:[c.jsx("span",{className:"metric-value",children:((j=T.successMetrics)==null?void 0:j.volunteersParticipated)||T.currentVolunteers}),c.jsx("span",{className:"metric-label",children:"Volunteers Participated"})]})]}),c.jsxs("div",{className:"metric",children:[c.jsx(KSe,{className:"metric-icon"}),c.jsxs("div",{className:"metric-content",children:[c.jsx("span",{className:"metric-value",children:T.currentScholars||((D=T.successMetrics)==null?void 0:D.scholarsHelped)||0}),c.jsx("span",{className:"metric-label",children:"Scholar Members Helped"})]})]})]}),c.jsxs("p",{className:"past-event-success-message",children:["This event was successfully completed with ",((M=T.successMetrics)==null?void 0:M.volunteersParticipated)||T.currentVolunteers," volunteers who made a positive impact by helping ",T.currentScholars||((R=T.successMetrics)==null?void 0:R.scholarsHelped)||0," scholar members."]}),T.feedback&&Array.isArray(T.feedback)&&T.feedback.length>0?c.jsxs("div",{className:"past-event-feedback",children:[c.jsx("h4",{children:"Volunteer Feedback"}),c.jsxs("div",{className:"feedback-items",children:[T.feedback.slice(0,2).map(W=>c.jsxs("div",{className:"feedback-item",children:[c.jsxs("div",{className:"feedback-header",children:[c.jsxs("span",{className:"feedback-author",children:[W.userName,W.userRole&&c.jsxs("small",{children:[" (",W.userRole,")"]})]}),P(W.rating)]}),c.jsxs("p",{className:"feedback-comment",children:['"',W.comment,'"']})]},W.id)),T.feedback.length>2&&c.jsx("div",{className:"view-more-feedback",onClick:()=>k(T.id),children:c.jsxs("span",{children:["View more feedback (",T.feedback.length-2," more)"]})})]})]}):c.jsx("div",{className:"no-feedback",children:c.jsx("p",{children:"No volunteer feedback available for this event."})})]})]},T.id)})}):c.jsx("div",{className:"no-events",children:"No past events available at the moment."})]})})]})})]})},x7e=()=>{const[e,t]=E.useState(!1),[n,r]=E.useState(null),[a,i]=E.useState({bannerImage:qse,headerText:"Graduate Testimonials",subText:"Hear from our graduates whose lives were forever changed by the gift of education...",testimonials:[]}),o=u=>u?u.startsWith("data:")||u.startsWith("http")?u:u.startsWith("/uploads")?`https://kmfi.netlify.app/${u}`:u:"";E.useEffect(()=>{(async()=>{var d;try{const f=await Le.get("/content/graduates");if((d=f.data)!=null&&d.content){const h=f.data.content;i(p=>{var m;return{bannerImage:h.bannerImage?o(h.bannerImage):p.bannerImage,headerText:h.headerText||p.headerText,subText:h.subText||p.subText,testimonials:((m=h.testimonials)==null?void 0:m.map(g=>({...g,image:g.image?o(g.image):""})))||p.testimonials}})}}catch(f){console.error("Failed to load content:",f)}})()},[]);const s=u=>{const d=window.scrollY;document.documentElement.style.setProperty("--scroll-y",`${d}px`),r(u),t(!0)},l=()=>{t(!1),r(null)};return c.jsxs("div",{className:"home-container",children:[c.jsx("img",{src:a.bannerImage,alt:"Banner",className:"banner-image"}),c.jsxs("div",{className:"introduction",children:[c.jsx("h1",{className:"Testimonial",children:a.headerText}),c.jsx("h4",{className:"h4-testimonial",children:a.subText})]}),c.jsx("div",{className:"image-grid1",children:a.testimonials.map((u,d)=>c.jsx("div",{className:"image-wrapper1",onClick:()=>s(u),children:c.jsx("img",{src:u.image||`/images/${8+d}.jpg`,alt:u.name,className:"gallery-image1"})},d))}),e&&n&&c.jsx("div",{className:"modal-overlay",onClick:l,children:c.jsxs("div",{className:"modal-box",onClick:u=>u.stopPropagation(),children:[c.jsx("span",{className:"modal-close",onClick:l,children:""}),c.jsxs("div",{className:"modal-content-testimonials",children:[c.jsx("img",{src:n.image||`/images/${8+a.testimonials.findIndex(u=>u.name===n.name)}.jpg`,alt:n.name,className:"modal-image"}),c.jsxs("div",{className:"modal-text",children:[c.jsx("h2",{className:"modal-title",children:n.name}),c.jsx("h5",{className:"modal-subtitle",children:n.subtitle})]}),c.jsx("div",{className:"modal-description",dangerouslySetInnerHTML:{__html:n.description}})]})]})})]})},z4="/assets/partner.s_zPLE5Dpng",sH="/assets/org1.CG7sjzgipng",lH="/assets/org2.DIJS38hjpng",b7e=()=>{const[e,t]=E.useState({bannerImage:z4,sections:[{text:"In 2001, Amelia Hernandez founded the KapatidKita MahalKita Foundation...",image:sH,title:"Philippines Humanitarian"},{text:"Reed Elsevier Philippines actively supports KM Payatas...",image:lH}]}),n=a=>a?a.startsWith("data:")||a.startsWith("http")?a:a.startsWith("/uploads")?`https://kmfi.netlify.app/${a}`:a:"",r=(a,i)=>{console.error("Image failed to load:",{src:a.currentTarget.src,fallback:i,error:a}),a.currentTarget.src=i};return E.useEffect(()=>{(async()=>{try{const i=await Le.get("/content/partner");if(i.data&&i.data.content){const o=i.data.content;t(s=>({bannerImage:o.bannerImage?n(o.bannerImage):z4,sections:s.sections.map((l,u)=>{var d,f,h;return{...l,text:((d=o.sections[u])==null?void 0:d.text)||l.text,image:(f=o.sections[u])!=null&&f.image?n(o.sections[u].image):l.image,title:((h=o.sections[u])==null?void 0:h.title)||l.title}})}))}}catch(i){console.error("Failed to load content:",i)}})()},[]),c.jsxs("div",{className:"home-container",children:[c.jsx("img",{src:n(e.bannerImage),alt:"Banner",className:"banner-image",onError:a=>r(a,z4)}),e.sections.map((a,i)=>c.jsx("div",{className:"story-section",children:c.jsxs("div",{className:`story-content ${i>0?"reverse-layout":""}`,children:[c.jsxs("div",{className:"story-text",children:[a.title&&c.jsx("h2",{className:"ph",children:a.title}),c.jsx("p",{children:a.text})]}),c.jsx("div",{className:"story-image-container",children:a.image&&c.jsx("img",{src:n(a.image),alt:a.title||`Section ${i+1}`,className:i===0?"story-image":"organization-image",onError:o=>r(o,[sH,lH][i])})})]})},i))]})},U4="/assets/story.ZJnm2u8epng",cH="/assets/father.hdIso-Jzpng",uH="/assets/missionvission.B85oHrzmpng",dH="/assets/org.CuezYB-zpng",w7e=()=>{const[e,t]=E.useState({bannerImage:U4,sections:[{text:"",image:cH,caption:"Fr. Walter L. Ysaac, S.J."},{text:"",image:uH},{text:"",image:dH}]}),n=a=>a?a.startsWith("data:")||a.startsWith("http")?a:a.startsWith("/uploads")?`https://kmfi.netlify.app/${a}`:a:"",r=(a,i)=>{console.error("Image failed to load:",{src:a.currentTarget.src,fallback:i,error:a}),a.currentTarget.src=i};return E.useEffect(()=>{(async()=>{try{const i=await Le.get("/content/story");if(console.log("Loaded content:",i.data),i.data&&i.data.content){const o=i.data.content;console.log("Processing saved content:",o),t(s=>({bannerImage:o.bannerImage?n(o.bannerImage):U4,sections:s.sections.map((l,u)=>{var d,f,h;return{...l,text:((d=o.sections[u])==null?void 0:d.text)||l.text,image:(f=o.sections[u])!=null&&f.image?n(o.sections[u].image):l.image,caption:((h=o.sections[u])==null?void 0:h.caption)||l.caption}})}))}}catch(i){console.error("Failed to load content:",i)}})()},[]),c.jsxs("div",{className:"home-container",children:[c.jsx("img",{src:n(e.bannerImage),alt:"Banner",className:"banner-image",onError:a=>r(a,U4)}),e.sections.map((a,i)=>c.jsx("div",{className:"story-section",children:c.jsxs("div",{className:`story-content ${i>0?"reverse-layout":""}`,children:[c.jsx("div",{className:"story-text",children:c.jsx("p",{children:a.text})}),c.jsx("div",{className:"story-image-container",children:a.image&&c.jsxs(c.Fragment,{children:[c.jsx("img",{src:n(a.image),alt:a.caption||`Section ${i+1}`,className:i===0?"story-image":i===1?"mission-image":"org-image",onError:o=>r(o,[cH,uH,dH][i])}),a.caption&&c.jsx("p",{className:"story-caption",children:a.caption})]})})]})},i))]})},_7e="/assets/team.C9ta7NUGpng",S7e=()=>{const[e,t]=E.useState({bannerImage:_7e,members:[]}),n=r=>r?r.startsWith("data:")||r.startsWith("http")?r:r.startsWith("/uploads")?`https://kmfi.netlify.app/${r}`:r:"";return E.useEffect(()=>{(async()=>{var a;try{const i=await Le.get("/content/team");if((a=i.data)!=null&&a.content){const o=i.data.content;t(s=>({bannerImage:o.bannerImage?n(o.bannerImage):s.bannerImage,members:o.members||s.members}))}}catch(i){console.error("Failed to load content:",i)}})()},[]),c.jsxs("div",{className:"home-container",children:[c.jsx("img",{src:e.bannerImage,alt:"Banner",className:"banner-image"}),c.jsx("div",{className:"team-grid",children:e.members.map((r,a)=>c.jsxs("div",{className:"team-card",children:[c.jsx("div",{className:"image-placeholder",children:r.image?c.jsx("img",{src:n(r.image),alt:r.name,className:"team-member-image"}):null}),c.jsx("h4",{className:"team-name",children:r.name}),c.jsx("p",{className:"team-subtext",children:r.subText})]},a))})]})},W4="/assets/coverphoto.D89uKabspng",V4="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACbSURBVHgBlY/RDcIwDEQTywMwAlIySEcoEyA2gAnIKLAR/EaR6AYwQBRzlhqpahupvZ/Ivhefbc0Gee+v1lqxWhyhBvdjZgW/ItIzfgUi+qyRpRQFHwC7nPOF0ZMY43MlOkzA2wBRY8cwRncolRu0v4Cdc72m1Ym6d/UWMCae9a3RU4/ncErpZBois0O7YMYhb1x/b/gH+K9a/AGfpUn81LXSKAAAAABJRU5ErkJggg==",fH="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAAAmCAYAAACoPemuAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAENSURBVHgB7ZbNDYJAEIWH37MlYAdagZZgCZZgASSEDuxAS8AKLEFKwAqEKwngw7jJSkwMs0tiwnyX3Z098DKzbxgiQRAEYV44ZIEkSbb90nVdpMc9zzvg7kIMfDIEH95D0OnbXdM0C2JiLAyikkGo0PYlMTEShmyt9PI5jrNO0zQnC7hkxkepgiB4kCVMhU0G25XvMm6wPaoYXLir67pSZ9/3c5SW9c5YbwyiIoi6DeNwYQZxemhJTANMWco+WwUx4bqyhAPPbdtGWLcqiCxmruu+MoTssRqrwqjz9x0fYq7qHIZhFMfxnSzwt64UYWMRYWMxFcaeHn5hPCiiifa/JUJPq2xNFoIgCMIceQLl01beDZRm5AAAAABJRU5ErkJggg==",hH="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAAAmCAYAAACoPemuAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAE4SURBVHgB7ZTtbYMwEIYPWIAR6ASlEzQjdJT0N0J8DdBkgqgTdIS2G9AJ6hGSBSDvJUQiyEG5S/7lHsky2IZ78JkjMgzDMAxjjoDuTFEUi77vXw8vD4LPqqocxmL0W8l7xGII8oFuzQGnc3mel5ApRkNb3LcQ/anruiIBIQlBkDe0bwgmdC6cTKSYGGtTjKfT9XcXQxCHLkHAfwTbZFm2GKaSC4/EaO++HZ6NQ0KGM/Q1BBzjyC/nkMYnEqJJ5cYjRRekeL0jBRqxNcloSYFYrGmaFboS7arfPwxD6YccnyMF2LUd+dM5XbeSHvoTKjHetSiKljSfJofdEtWuMSoxpuu6P5QObzq5oGLuRVrtx2jKxRKBuZD6UskiJcqD6lzdJMZwFYfcMy7TkxDuW6T4lwzDMAzDeGz2PNd+mDWDw5cAAAAASUVORK5CYII=",pH="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAAAmCAYAAACoPemuAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAGSSURBVHgB7ZbhbYMwEIUP0gHoBGWEZoNsUDpByARJBwgEGCBhgqYTVNmgnaCM4A2aBYC+o65kRRRhU1X5cZ9k3YWc5Jd3hx0iQRAEQbgKPHIkTdMIYdk0TfBbje/7CqHMsqyi/xCWJMkBYd227ZvevBd8v0AIEZ+KojiQBdbC4FSMjZ6RbvI8LwfqfpxMUb/xPO8Wzp1pJDdkzwM7BQfKHiEhltICWFAEQXPk/GOWiOXYTXyyJzDbx4K4tdj4E+uD43a73bEI5LEWySuw2cTFsUv2WPwibGazWVXX9QIu7fBSnG3n6s+EsVvsCtIY8/aiH7/DsRDi1sidhbm00qRrD8Qp8yFEKbJs3SVThXXzg5mLzIcQFkGs9dllMqmVPNhoW4Z0r9uqIGqBeA+xc5rAVMeIBxxCViwGH2MMfXewupz2Ji6OVXrgV4a4I8KxrxhO8skfIlVkgYtjJ6yAzyredKhQi3plUWjxiSxwuiuNa4lRA6UhfYt6tG3tlH8XIeaJD9O7gbLOKZs7UhAEQRCEcXwBqO7CwkdFFbkAAAAASUVORK5CYII=";function C7e(e){return gn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"}},{tag:"polyline",attr:{points:"12 5 19 12 12 19"}}]})(e)}function E7e(e){return gn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"}}]})(e)}function mH(e){return gn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}},{tag:"path",attr:{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"}}]})(e)}function jle(e){return gn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}},{tag:"circle",attr:{cx:"12",cy:"10",r:"3"}}]})(e)}function N7e(e){return gn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"1 6 1 22 8 18 16 22 23 18 23 2 16 6 8 2 1 6"}},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"18"}},{tag:"line",attr:{x1:"16",y1:"6",x2:"16",y2:"22"}}]})(e)}function k7e(e){return gn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"}}]})(e)}function j7e(e){return gn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"}},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"}},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"}}]})(e)}function Ab(e){return gn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}},{tag:"polyline",attr:{points:"17 8 12 3 7 8"}},{tag:"line",attr:{x1:"12",y1:"3",x2:"12",y2:"15"}}]})(e)}function T7e(e){return gn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"}},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"}}]})(e)}const P7e=({currentStep:e})=>c.jsx("div",{className:"timeline-container",children:c.jsxs("div",{className:"timeline",children:[c.jsxs("div",{className:`timeline-step ${e>=1?"active":""}`,children:[c.jsx("div",{className:"process-icon general-requirements"}),c.jsx("p",{children:"GENERAL REQUIREMENTS AND INTERVIEW"})]}),c.jsx("div",{className:`timeline-line ${e>=2?"active":""}`}),c.jsxs("div",{className:`timeline-step ${e>=2?"active":""}`,children:[c.jsx("div",{className:"process-icon ssc-approval"}),c.jsx("p",{children:"ENDORSED TO SSC APPROVAL"})]}),c.jsx("div",{className:`timeline-line ${e>=3?"active":""}`}),c.jsxs("div",{className:`timeline-step ${e>=3?"active":""}`,children:[c.jsx("div",{className:"process-icon approved-application"}),c.jsx("p",{children:"APPROVED APPLICATION"})]})]})}),gH=()=>{const[e,t]=E.useState(0),[n,r]=E.useState(""),[a,i]=E.useState(""),[o,s]=E.useState(!1),[l,u]=E.useState(!1),[d,f]=E.useState(W4),[h,p]=E.useState(Vp),[m,g]=E.useState(!1),[y,x]=E.useState(null),[b,w]=E.useState(""),[_,S]=E.useState(""),[k,N]=E.useState(null),[P,T]=E.useState(!1),[j,D]=E.useState(!1),[M,R]=E.useState({facebook:"",twitter:"",instagram:""}),[W,B]=E.useState("");Dl();const[V,q]=E.useState(!1),[I,O]=E.useState(null),[H,ne]=E.useState(null),[z,J]=E.useState(!1),[ee,G]=E.useState(!1),[Z,se]=E.useState(1),[ae,Y]=E.useState(!1),[X,K]=E.useState(!1),[F,re]=E.useState(null),[Q,oe]=E.useState(null),[me,be]=E.useState(!1),[ye,de]=E.useState([]),[we,We]=E.useState(null),[Me,ze]=E.useState(0),[He,dt]=E.useState(""),[qt,Zt]=E.useState(!1),[Wt,mn]=E.useState(new Set),[Re,Ge]=E.useState([]),[at,Ke]=E.useState(!1),[Qe,yt]=E.useState("upcoming"),ft=()=>{Zt(!0)},[pt,Lt]=E.useState(""),[ln,rr]=E.useState([]),[Fr,Qr]=E.useState(!1),la=Zr(),[ai,je]=E.useState([]),[At,wt]=E.useState(!1),cn=[{value:"grade1",label:"Grade 1"},{value:"grade2",label:"Grade 2"},{value:"grade3",label:"Grade 3"},{value:"grade4",label:"Grade 4"},{value:"grade5",label:"Grade 5"},{value:"grade6",label:"Grade 6"},{value:"grade7",label:"Grade 7 (Junior High)"},{value:"grade8",label:"Grade 8 (Junior High)"},{value:"grade9",label:"Grade 9 (Junior High)"},{value:"grade10",label:"Grade 10 (Junior High)"},{value:"grade11",label:"Grade 11 (Senior High)"},{value:"grade12",label:"Grade 12 (Senior High)"},{value:"college",label:"College"}],kt=Ce=>Ce==null||isNaN(Ce)?"0":Math.round(Ce).toLocaleString(),Cn=Ce=>Ce.image?Ce.image.startsWith("data:")||Ce.image.startsWith("http")?Ce.image:`https://kmfi.netlify.app/${Ce.image}`:Ce.image_url?Ce.image_url.startsWith("data:")||Ce.image_url.startsWith("http")?Ce.image_url:`https://kmfi.netlify.app/${Ce.image_url}`:Ce.profile_photo?Ce.profile_photo.startsWith("data:")||Ce.profile_photo.startsWith("http")?Ce.profile_photo:`https://kmfi.netlify.app/${Ce.profile_photo}`:"/images/default-avatar.jpg";E.useEffect(()=>{var Bt;const Ce=localStorage.getItem("user"),St=async()=>{var Ct;try{const En=localStorage.getItem("token");if(!En)return;const Dt=await Le.get("/user/profile",{headers:{Authorization:`Bearer ${En}`}});Dt.data&&(localStorage.setItem("user",JSON.stringify(Dt.data)),w(Dt.data.name),S(Dt.data.username),N(Dt.data),B(((Ct=Dt.data.role)==null?void 0:Ct.toLowerCase())||""),Dt.data.profilePhoto&&p(Dt.data.profilePhoto),Dt.data.coverPhoto&&f(Dt.data.coverPhoto),Dt.data.intro&&r(Dt.data.intro),Dt.data.knownAs&&i(Dt.data.knownAs),R({facebook:Dt.data.facebookUrl||"",twitter:Dt.data.twitterUrl||"",instagram:Dt.data.instagramUrl||""}),G(Dt.data.hasSubmittedReport||!1),se(Dt.data.verificationStep||1),Dt.data.latitude&&Dt.data.longitude&&re({latitude:Dt.data.latitude,longitude:Dt.data.longitude}))}catch(En){console.error("Error fetching latest user data:",En)}};if(Ce){const Ct=JSON.parse(Ce);w(Ct.name),S(Ct.username),N(Ct),B(((Bt=Ct.role)==null?void 0:Bt.toLowerCase())||""),Ct.profilePhoto&&p(Ct.profilePhoto),Ct.coverPhoto&&f(Ct.coverPhoto),Ct.intro&&r(Ct.intro),Ct.knownAs&&i(Ct.knownAs),R({facebook:Ct.facebookUrl||"",twitter:Ct.twitterUrl||"",instagram:Ct.instagramUrl||""}),G(Ct.hasSubmittedReport||!1),se(Ct.verificationStep||1),Ct.latitude&&Ct.longitude&&re({latitude:Ct.latitude,longitude:Ct.longitude}),St()}},[]),E.useEffect(()=>{const Ce=()=>{p(W4),f(Vp),w(""),S(""),N(null)};return window.addEventListener("userLoggedOut",Ce),()=>{window.removeEventListener("userLoggedOut",Ce)}},[]),E.useEffect(()=>{W==="scholar"&&(async()=>{try{const St=JSON.parse(localStorage.getItem("user")||"{}"),Bt=await Le.get(`/scholars/report-card/${St.id}`);if(!Bt.data){G(!1),se(0),gt(null);return}const Ct=Bt.data;console.log("Report card status:",Ct),gt(Ct),G(!(Ct.status==="rejected"||Ct.needs_renewal||Ct.status==="pending"&&Ct.verification_step===0)),se(Ct.verification_step||0)}catch(St){console.error("Error checking report card status:",St),G(!1),se(0),gt(null)}})()},[W]),E.useEffect(()=>{W==="scholar"&&(async()=>{var St;try{const Bt=JSON.parse(localStorage.getItem("user")||"{}"),Ct=localStorage.getItem("token"),En=await Le.get(`/scholars/location-remarks/${Bt.id}`,{headers:{Authorization:`Bearer ${Ct}`}});oe(En.data),be(((St=En.data)==null?void 0:St.location_verified)||!1)}catch(Bt){console.error("Error fetching remarks:",Bt)}})()},[W]),E.useEffect(()=>{W==="sponsor"&&(async()=>{try{Qr(!0);const St=JSON.parse(localStorage.getItem("user")||"{}"),Bt=await Le.get(`/scholardonations/sponsor/${St.id}`);console.log("Raw donation data:",Bt.data);const Ct=Bt.data,En=new Map;Ct.forEach(xn=>{En.has(xn.scholar_id)||En.set(xn.scholar_id,{scholarId:xn.scholar_id,name:`${xn.scholar_first_name} ${xn.scholar_last_name}`,image:xn.scholar_image||"",profile_photo:xn.profile_photo||"",image_url:xn.image_url||"",totalDonated:0,lastDonation:xn.created_at,donations:[],currentAmount:parseFloat(xn.current_amount)||0,amountNeeded:parseFloat(xn.amount_needed)||1e4});const ms=En.get(xn.scholar_id);if(xn.verification_status==="verified"){const gs=typeof xn.amount=="string"?parseFloat(xn.amount):typeof xn.amount=="number"?xn.amount:0;isNaN(gs)||(ms.totalDonated+=gs)}ms.donations.push(xn)});const Dt=Array.from(En.values());console.log("Processed scholars with donation totals:",Dt.map(xn=>({id:xn.scholarId,name:xn.name,totalDonated:xn.totalDonated}))),rr(Dt.slice(0,6)),Qr(!1)}catch(St){console.error("Error fetching sponsor donations:",St),Qr(!1)}})()},[W]),E.useEffect(()=>{(async()=>{try{const St=localStorage.getItem("token"),Ct=(await Le.get("/events/pending-feedback",{headers:{Authorization:`Bearer ${St}`}})).data.filter(En=>!Wt.has(En.id));de(Ct),Ct.length>0&&!Wt.has(Ct[0].id)&&(We(Ct[0]),ft())}catch(St){console.error("Error checking pending feedback:",St)}})()},[Wt]),E.useEffect(()=>{W==="volunteer"&&(async()=>{if(W==="volunteer")try{Ke(!0);const St=localStorage.getItem("token"),Bt=JSON.parse(localStorage.getItem("user")||"{}"),Ct=await Le.get(`/events/user/${Bt.id}/joined`,{headers:{Authorization:`Bearer ${St}`}});Ge(Ct.data)}catch(St){console.error("Error fetching joined events:",St)}finally{Ke(!1)}})()},[W]),E.useEffect(()=>{W==="scholar"&&(async()=>{if(W==="scholar")try{wt(!0);const St=JSON.parse(localStorage.getItem("user")||"{}"),Bt=localStorage.getItem("token");if(console.log("Fetching distributions for scholar ID:",St.id),!St.id){console.log("No user ID found, skipping distribution fetch"),wt(!1);return}try{const Ct=await Le.get(`/inventory/recipient-distributions/${St.id}`,{headers:{Authorization:`Bearer ${Bt}`}});console.log("Scholar distributions data:",Ct.data),je(Array.isArray(Ct.data)?Ct.data:[])}catch(Ct){console.error("API Error:",Ct),je([])}}catch(St){console.error("Error in distribution fetch logic:",St),je([])}finally{wt(!1)}})()},[W]);const ke=async()=>{try{const Ce=JSON.parse(localStorage.getItem("user")||"{}"),St=localStorage.getItem("token"),{data:Bt}=await Le.put("/user/info",{userId:Ce.id,intro:n,knownAs:a},{headers:{Authorization:`Bearer ${St}`,"Content-Type":"application/json"}});localStorage.setItem("user",JSON.stringify(Bt.user)),s(!1)}catch(Ce){console.error("Error saving intro:",Ce),alert("Failed to save intro. Please try again.")}},De=async()=>{try{const Ce=JSON.parse(localStorage.getItem("user")||"{}"),St=localStorage.getItem("token"),{data:Bt}=await Le.put("/user/info",{userId:Ce.id,intro:n,knownAs:a},{headers:{Authorization:`Bearer ${St}`,"Content-Type":"application/json"}});localStorage.setItem("user",JSON.stringify(Bt.user)),u(!1)}catch(Ce){console.error("Error saving known as:",Ce),alert("Failed to save known as. Please try again.")}},Xe=async()=>{try{const Ce=JSON.parse(localStorage.getItem("user")||"{}"),St=localStorage.getItem("token"),{data:Bt}=await Le.put("/user/socials",{userId:Ce.id,facebookUrl:M.facebook,twitterUrl:M.twitter,instagramUrl:M.instagram},{headers:{Authorization:`Bearer ${St}`,"Content-Type":"application/json"}}),Ct={...Ce,...Bt.user,profilePhoto:Bt.user.profilePhoto||Ce.profilePhoto,coverPhoto:Bt.user.coverPhoto||Ce.coverPhoto,facebookUrl:Bt.user.facebookUrl,twitterUrl:Bt.user.twitterUrl,instagramUrl:Bt.user.instagramUrl};localStorage.setItem("user",JSON.stringify(Ct)),Ct.profilePhoto&&p(Ct.profilePhoto),Ct.coverPhoto&&f(Ct.coverPhoto),R({facebook:Ct.facebookUrl||"",twitter:Ct.twitterUrl||"",instagram:Ct.instagramUrl||""}),D(!1)}catch(Ce){console.error("Error saving social links:",Ce),alert("Failed to save social links. Please try again.")}},it=async(Ce,St)=>{try{const Bt=JSON.parse(localStorage.getItem("user")||"{}"),Ct=localStorage.getItem("token");if(!Bt.id)throw new Error("User not authenticated");const{data:En}=await Le.put("/user/photos",{userId:Bt.id,profilePhoto:Ce==="profile"?St:void 0,coverPhoto:Ce==="cover"?St:void 0},{headers:{Authorization:`Bearer ${Ct}`,"Content-Type":"application/json"}});if(!En.user)throw new Error("Invalid response from server");const Dt={...Bt,...En.user,profilePhoto:En.user.profilePhoto||Bt.profilePhoto,coverPhoto:En.user.coverPhoto||Bt.coverPhoto,intro:En.user.intro??Bt.intro,knownAs:En.user.knownAs??Bt.knownAs,phone:En.user.phone??Bt.phone,dateOfBirth:En.user.dateOfBirth??Bt.dateOfBirth};if(localStorage.setItem("user",JSON.stringify(Dt)),Ce==="profile"){p(Dt.profilePhoto||Vp);const xn=new CustomEvent("profilePhotoUpdated",{detail:{profilePhoto:Dt.profilePhoto}});window.dispatchEvent(xn)}else f(Dt.coverPhoto||W4);r(Dt.intro||""),i(Dt.knownAs||""),N(Dt)}catch(Bt){console.error("Error updating photo:",Bt),alert("Failed to update photo. Please try again.")}},et=async Ce=>{var Bt;const St=(Bt=Ce.target.files)==null?void 0:Bt[0];if(St){const Ct=new FileReader;Ct.onloadend=async()=>{if(Ct.result){const En=Ct.result.toString();await it("cover",En)}},Ct.readAsDataURL(St)}},ie=async Ce=>{var Bt;const St=(Bt=Ce.target.files)==null?void 0:Bt[0];if(St){const Ct=new FileReader;Ct.onloadend=async()=>{if(Ct.result){const En=Ct.result.toString();await it("profile",En)}},Ct.readAsDataURL(St)}},ge=Ce=>{const St=window.scrollY;document.documentElement.style.setProperty("--scroll-y",`${St}px`),x(Ce),g(!0)},ce=()=>{T(!0),setTimeout(()=>{g(!1),T(!1),x(null)},300)},fe=()=>{if(!(!ee&&(!Ht||Ht.status==="rejected"||Ht.needs_renewal))){alert("You have already submitted a report card. Please wait for admin review.");return}q(!0)},pe=(Ce,St)=>{var Ct;const Bt=(Ct=St.target.files)==null?void 0:Ct[0];if(Bt){const En=new FileReader;En.onloadend=()=>{const Dt=En.result;Ce==="front"?O(Dt):ne(Dt)},En.readAsDataURL(Bt)}},ve=async()=>{var Ce,St;if(!I||!H){alert("Please upload both front and back images of your report card");return}if(!pt){alert("Please select your grade level");return}if(!he){alert("Please select the grading period");return}J(!0);try{const Bt=JSON.parse(localStorage.getItem("user")||"{}"),Ct=localStorage.getItem("token");if(console.log("Submitting report card with:",{gradeLevel:pt,gradingPeriod:he}),(await Le.post("/scholars/report-card",{userId:Bt.id,frontImage:I,backImage:H,gradeLevel:pt,gradingPeriod:he},{headers:{Authorization:`Bearer ${Ct}`,"Content-Type":"application/json"}})).data){const Dt={...Bt,hasSubmittedReport:!0,verificationStep:1};localStorage.setItem("user",JSON.stringify(Dt)),G(!0),se(1),q(!1),O(null),ne(null),Lt(""),Ee(""),alert("Report card submitted successfully!")}}catch(Bt){console.error("Error submitting report card:",Bt),alert("Failed to submit report card: "+(((St=(Ce=Bt.response)==null?void 0:Ce.data)==null?void 0:St.message)||Bt.message||"Please try again"))}finally{J(!1)}},Oe=()=>{q(!0)},Ve=()=>{if(!navigator.geolocation){alert("Geolocation is not supported by your browser");return}K(!0),navigator.geolocation.getCurrentPosition(async Ce=>{try{const St=JSON.parse(localStorage.getItem("user")||"{}"),Bt=localStorage.getItem("token"),{data:Ct}=await Le.put("/user/location",{userId:St.id,latitude:Ce.coords.latitude,longitude:Ce.coords.longitude},{headers:{Authorization:`Bearer ${Bt}`,"Content-Type":"application/json"}});if(Ct.success){const En={...St,latitude:Ce.coords.latitude,longitude:Ce.coords.longitude};localStorage.setItem("user",JSON.stringify(En)),re({latitude:Ce.coords.latitude,longitude:Ce.coords.longitude}),oe(null),alert("Location updated successfully!")}}catch(St){console.error("Error updating location:",St),alert("Failed to update location. Please try again.")}finally{K(!1)}},Ce=>{K(!1),alert(`Error getting location: ${Ce.message}`)},{enableHighAccuracy:!0})},Ue=()=>{if(!(Q!=null&&Q.location_remark))return null;Q.location_remark.includes("rejected")},$e=async()=>{if(we)try{W==="scholar"?await Le.post(`/events/${we.id}/scholar-feedback`,{eventRating:ar.eventRating,eventComment:ar.eventComment,volunteerComment:ar.volunteerComment}):await Le.post(`/events/${we.id}/feedback`,{rating:Me,comment:He});const Ce=ye.filter(St=>St.id!==we.id);de(Ce),Ce.length>0?(We(Ce[0]),W==="scholar"?Yt({eventRating:0,eventComment:"",volunteerComment:""}):(ze(0),dt(""))):(Zt(!1),We(null))}catch(Ce){console.error("Error submitting feedback:",Ce),alert("Failed to submit feedback. Please try again.")}},Be=()=>{we&&mn(St=>new Set([...St,we.id])),Zt(!1);const Ce=ye.filter(St=>St.id!==(we==null?void 0:we.id)&&!Wt.has(St.id));Ce.length>0?(We(Ce[0]),ze(0),dt("")):We(null)},ut=({currentAmount:Ce,amountNeeded:St})=>{const Bt=Math.min(Ce/St*100,100);return c.jsxs("div",{className:"scholar-progress-container",children:[c.jsx("div",{className:"scholar-progress-bar",children:c.jsx("div",{className:"scholar-progress-fill",style:{width:`${Bt}%`}})}),c.jsxs("div",{className:"scholar-progress-text",children:[c.jsxs("span",{children:["",kt(Ce)]}),c.jsxs("span",{children:["Goal: ",kt(St)]})]})]})},Et=Ce=>new Date(Ce).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),$t=()=>W!=="scholar"?null:c.jsxs("div",{className:"scholar-distributions-container",children:[c.jsx("h2",{className:"distributions-header",children:"Items Received"}),At?c.jsx("div",{className:"distributions-loading",children:"Loading distributions..."}):ai.length>0?c.jsx("div",{className:"distributions-list",children:ai.map(Ce=>c.jsxs("div",{className:"distribution-item",children:[c.jsxs("div",{className:"distribution-details",children:[c.jsx("h3",{children:Ce.itemName}),c.jsxs("p",{children:["Quantity: ",Ce.quantity," ",Ce.unit]}),c.jsxs("p",{children:["Category: ",Ce.category]}),c.jsxs("p",{children:["Distributed on: ",Et(Ce.distributedAt)]})]}),Ce.status==="pending"&&c.jsxs("div",{className:"distribution-verification",children:[c.jsx("p",{children:"Please verify if you received this item:"}),c.jsxs("div",{className:"verification-buttons",children:[c.jsxs("button",{type:"button",className:"verify-button received",onClick:()=>Rt(Ce.id,"received"),children:[c.jsx("span",{children:""})," I Received This"]}),c.jsxs("button",{type:"button",className:"verify-button not-received",onClick:()=>Rt(Ce.id,"not_received"),children:[c.jsx("span",{children:""})," I Did Not Receive This"]})]})]}),Ce.status&&Ce.status!=="pending"&&c.jsxs("div",{className:`verification-status ${Ce.status}`,children:[c.jsx("div",{className:"status-text",children:Ce.status==="received"?"Item Received ":"Item Not Received "}),Ce.verificationDate&&c.jsxs("div",{className:"verification-date",children:["Verified on: ",Et(Ce.verificationDate)]}),Ce.message&&c.jsxs("div",{className:"verification-message",children:["Note: ",Ce.message]})]})]},Ce.id))}):c.jsx("div",{className:"no-distributions",children:c.jsx("p",{children:"No items have been distributed to you yet."})})]}),[he,Ee]=E.useState(""),Ae=Ce=>Ce?Ce.startsWith("grade")&&parseInt(Ce.replace("grade",""))<=10?[{value:"1st",label:"1st Grading"},{value:"2nd",label:"2nd Grading"},{value:"3rd",label:"3rd Grading"},{value:"4th",label:"4th Grading"}]:Ce.startsWith("grade")?[{value:"1st_sem",label:"1st Semester"},{value:"2nd_sem",label:"2nd Semester"}]:Ce==="college"?[{value:"1st_sem",label:"1st Semester"},{value:"2nd_sem",label:"2nd Semester"},{value:"3rd_sem",label:"3rd Semester"}]:[]:[],Ze=Ce=>{const St=Ce.target.value;Lt(St),Ee("")},qe=()=>!ee&&(!Ht||Ht.status==="rejected"||Ht.needs_renewal)?c.jsx("button",{onClick:fe,className:"report-card-button",children:"Submit Report Card"}):c.jsx("button",{onClick:Oe,className:"view-progress-button",children:"View Progress"}),[Ht,gt]=E.useState(null);E.useEffect(()=>{W==="scholar"&&(async()=>{try{const St=JSON.parse(localStorage.getItem("user")||"{}"),Bt=await Le.get(`/scholars/report-card/${St.id}`);if(!Bt.data){G(!1),se(0),gt(null);return}const Ct=Bt.data;console.log("Report card status:",Ct),gt(Ct),G(!(Ct.status==="rejected"||Ct.needs_renewal)),se(Ct.verification_step||0)}catch(St){console.error("Error checking report card status:",St),G(!1),se(0),gt(null)}})()},[W]);const Rt=async(Ce,St,Bt)=>{try{const Ct=JSON.parse(localStorage.getItem("user")||"{}"),En=localStorage.getItem("token");if(!window.confirm(`Are you sure you want to mark this item as ${St==="received"?"received":"not received"}?`))return;let Dt=Bt;if(St==="not_received"&&!Bt){const ms=window.prompt("Please provide a reason why you did not receive this item:");if(!ms){alert("Please provide a reason for not receiving the item.");return}Dt=ms}(await Le.put(`/inventory/distributions/${Ce}/verify`,{scholarId:Ct.id,status:St,message:Dt},{headers:{Authorization:`Bearer ${En}`}})).data.success&&(je(ms=>ms.map(gs=>gs.id===Ce?{...gs,status:St,verificationDate:new Date().toISOString(),message:Dt||""}:gs)),alert(St==="received"?"Successfully verified receipt!":"Item marked as not received. Our team will follow up on this."))}catch(Ct){console.error("Error verifying distribution:",Ct),alert("Failed to verify distribution. Please try again.")}},[wn,ca]=E.useState(""),[ar,Yt]=E.useState({eventRating:0,eventComment:"",volunteerComment:""});return c.jsx("div",{className:"page-wrapper",children:c.jsxs("div",{className:"Profile-container",children:[c.jsxs("div",{className:"cover-photos",children:[c.jsxs("div",{className:"cover-photo",onClick:()=>ge("cover"),children:[c.jsx("img",{src:d,alt:"Cover"}),c.jsx("div",{className:"photo-overlay",children:c.jsxs("span",{className:"photo-overlay-text",children:[c.jsx(mH,{size:20}),"Change Cover Photo"]})})]}),c.jsxs("div",{className:"profile-photo",onClick:()=>ge("profile"),children:[c.jsx("img",{src:h,alt:"Profile"}),c.jsx("div",{className:"photo-overlay",children:c.jsx("span",{className:"photo-overlay-text",children:c.jsx(mH,{size:20})})})]}),c.jsxs("div",{className:"profile-text",children:[c.jsx("h1",{children:b||(k==null?void 0:k.name)}),c.jsxs("p",{children:["@",_||(k==null?void 0:k.username)]})]})]}),c.jsxs("div",{className:"container-info",children:[c.jsxs("div",{className:"information",children:[W==="scholar"&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"report-card-section",children:qe()}),c.jsxs("div",{className:"location-section",children:[c.jsxs("button",{onClick:Ve,disabled:X||me,className:"location-button",style:{display:"flex",alignItems:"center",gap:"8px",padding:"0.75rem 1.5rem",backgroundColor:me?"rgb(48 96 37)":"#4CAF50",marginBottom:"20px",color:"white",border:"none",borderRadius:"4px",placeSelf:"center",cursor:me?"not-allowed":X?"wait":"pointer",opacity:X||me?.7:1},children:[c.jsx(jle,{}),me?"Location Verified":X?"Getting Location...":"Set My Location"]}),F&&c.jsxs("p",{style:{fontSize:"0.9em",color:"#666",marginTop:"8px"},children:["Location set: ",F.latitude.toFixed(6),", ",F.longitude.toFixed(6)]})]})]}),c.jsx("h1",{children:"Intro"}),c.jsx("div",{className:"intro",children:o?c.jsxs("div",{className:"editing-container",children:[c.jsx("textarea",{value:n,onChange:Ce=>r(Ce.target.value),rows:4,autoFocus:!0,className:"input-expansion",maxLength:50}),c.jsxs("div",{className:"edit-buttons",children:[c.jsx("div",{className:"save-button-intro",onClick:ke,children:"Save"}),c.jsx("div",{className:"cancel-button-intro",onClick:()=>s(!1),children:"Cancel"})]})]}):c.jsxs(c.Fragment,{children:[c.jsx("p",{children:n||"Add an intro..."}),c.jsx("div",{className:"editbutton",onClick:()=>s(!0),children:c.jsx("img",{src:V4,alt:"Edit Intro"})})]})}),c.jsx("h1",{children:"Knows As"}),c.jsx("div",{className:"knowas",children:l?c.jsxs("div",{className:"editing-container",children:[c.jsx("textarea",{value:a,onChange:Ce=>i(Ce.target.value),rows:4,autoFocus:!0,className:"input-expansion",maxLength:50}),c.jsxs("div",{className:"edit-buttons",children:[c.jsx("div",{className:"save-button-knowas",onClick:De,children:"Save"}),c.jsx("div",{className:"cancel-button-knowas",onClick:()=>u(!1),children:"Cancel"})]})]}):c.jsxs(c.Fragment,{children:[c.jsx("p",{children:a||"Add what you're known as..."}),c.jsx("div",{className:"editbutton1",onClick:()=>u(!0),children:c.jsx("img",{src:V4,alt:"Edit Know As"})})]})}),c.jsx("h1",{children:"Socials"}),c.jsx("div",{className:"socials",children:j?c.jsxs("div",{className:"editing-container",children:[c.jsxs("div",{className:"social-inputs",children:[c.jsxs("div",{className:"social-input",children:[c.jsx("img",{src:fH,alt:"Facebook"}),c.jsx("input",{type:"url",value:M.facebook,onChange:Ce=>R(St=>({...St,facebook:Ce.target.value})),placeholder:"Facebook URL"})]}),c.jsxs("div",{className:"social-input",children:[c.jsx("img",{src:hH,alt:"Twitter"}),c.jsx("input",{type:"url",value:M.twitter,onChange:Ce=>R(St=>({...St,twitter:Ce.target.value})),placeholder:"Twitter URL"})]}),c.jsxs("div",{className:"social-input",children:[c.jsx("img",{src:pH,alt:"Instagram"}),c.jsx("input",{type:"url",value:M.instagram,onChange:Ce=>R(St=>({...St,instagram:Ce.target.value})),placeholder:"Instagram URL"})]})]}),c.jsxs("div",{className:"edit-buttons",children:[c.jsx("div",{className:"save-button-socials",onClick:Xe,children:"Save"}),c.jsx("div",{className:"cancel-button-socials",onClick:()=>D(!1),children:"Cancel"})]})]}):c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"editbutton1",onClick:()=>D(!0),children:c.jsx("img",{src:V4,alt:"Edit Socials"})}),M.facebook&&c.jsx("a",{href:M.facebook,target:"_blank",rel:"noopener noreferrer",children:c.jsx("img",{src:fH,alt:"Facebook"})}),M.twitter&&c.jsx("a",{href:M.twitter,target:"_blank",rel:"noopener noreferrer",children:c.jsx("img",{src:hH,alt:"Twitter"})}),M.instagram&&c.jsx("a",{href:M.instagram,target:"_blank",rel:"noopener noreferrer",children:c.jsx("img",{src:pH,alt:"Instagram"})})]})})]}),W==="sponsor"&&c.jsxs("div",{className:"my-scholars-container",children:[c.jsxs("h2",{className:"my-scholars-header",children:["My Scholars",c.jsxs("span",{onClick:()=>la("/MyScholar"),className:"view-all-button",children:["View All ",c.jsx(C7e,{className:"arrow-icon"})]})]}),Fr?c.jsxs("div",{className:"scholars-loading-container",children:[c.jsx("div",{className:"loading-spinner"}),c.jsx("p",{children:"Loading scholars..."})]}):ln.length>0?c.jsx("div",{className:"scholars-grid",children:ln.map(Ce=>c.jsxs("div",{className:"scholar-card",onClick:()=>la(`/StudentProfile/${Ce.scholarId}`),children:[c.jsxs("div",{className:"scholar-profile",children:[c.jsx("img",{src:Cn(Ce),alt:Ce.name,className:"scholar-avatar",onError:St=>{console.log(`Image failed to load for scholar ${Ce.scholarId}`),St.target.src="/images/default-avatar.jpg"}}),c.jsx("h3",{className:"scholar-name",children:Ce.name})]}),c.jsx(ut,{currentAmount:Ce.currentAmount,amountNeeded:Ce.amountNeeded}),c.jsxs("div",{className:"scholar-metrics",children:[c.jsxs("div",{className:"donation-amount",children:["",kt(Ce.totalDonated)]}),c.jsxs("div",{className:"last-donation",children:["Last Donation: ",new Date(Ce.lastDonation).toLocaleDateString()]})]})]},Ce.scholarId))}):c.jsxs("div",{className:"no-scholars-container",children:[c.jsx("p",{className:"no-scholars-text",children:"You haven't sponsored any scholars yet."}),c.jsx("button",{onClick:()=>la("/StudentProfile"),className:"browse-scholars-button",children:"Browse Scholars"})]})]}),W==="volunteer"&&c.jsxs("div",{className:"volunteer-events-history",children:[c.jsx("h2",{className:"events-history-header",children:"My Events"}),at?c.jsxs("div",{className:"events-loading-container",children:[c.jsx("div",{className:"loading-spinner"}),c.jsx("p",{children:"Loading events..."})]}):Re.length>0?c.jsxs("div",{children:[c.jsxs("div",{className:"events-tabs",children:[c.jsxs("button",{className:`event-tab-button ${Qe==="upcoming"?"active":""}`,onClick:()=>yt("upcoming"),children:["Upcoming Events",Re.filter(Ce=>!Ce.is_past).length>0&&c.jsx("span",{className:"event-count",children:Re.filter(Ce=>!Ce.is_past).length})]}),c.jsxs("button",{className:`event-tab-button ${Qe==="past"?"active":""}`,onClick:()=>yt("past"),children:["Past Events",Re.filter(Ce=>Ce.is_past).length>0&&c.jsx("span",{className:"event-count",children:Re.filter(Ce=>Ce.is_past).length})]})]}),Qe==="upcoming"&&c.jsx("div",{className:"events-tab-content",children:Re.filter(Ce=>!Ce.is_past).length>0?c.jsx("div",{className:"events-grid",children:Re.filter(Ce=>!Ce.is_past).map(Ce=>c.jsxs("div",{className:"event-card",onClick:()=>la(`/event/${Ce.id}`),children:[c.jsx("img",{src:Ce.image||"/images/default-event.jpg",alt:Ce.title,className:"event-image",onError:St=>{St.target.src="/images/default-event.jpg"}}),c.jsxs("div",{className:"event-info",children:[c.jsx("h3",{className:"event-title",children:Ce.title}),c.jsx("p",{className:"event-location",children:Ce.location}),c.jsx("p",{className:"event-date",children:new Date(Ce.date).toLocaleDateString()}),c.jsx("div",{className:"status-badges",children:c.jsx("span",{className:`participation-status status-${Ce.participation_status.toLowerCase()}`,children:Ce.participation_status})})]})]},Ce.id))}):c.jsxs("div",{className:"no-tab-events",children:[c.jsx("p",{children:"You don't have any upcoming events."}),c.jsx("button",{onClick:()=>la("/events"),className:"browse-events-button small",children:"Browse Events"})]})}),Qe==="past"&&c.jsx("div",{className:"events-tab-content",children:Re.filter(Ce=>Ce.is_past).length>0?c.jsx("div",{className:"events-grid",children:Re.filter(Ce=>Ce.is_past).map(Ce=>c.jsxs("div",{className:"event-card past-event",children:[c.jsx("img",{src:Ce.image||"/images/default-event.jpg",alt:Ce.title,className:"event-image",onError:St=>{St.target.src="/images/default-event.jpg"}}),c.jsxs("div",{className:"event-info",children:[c.jsx("h3",{className:"event-title",children:Ce.title}),c.jsx("p",{className:"event-location",children:Ce.location}),c.jsx("p",{className:"event-date",children:new Date(Ce.date).toLocaleDateString()}),c.jsx("div",{className:"status-badges",children:c.jsx("span",{className:"participation-status status-inactive",children:"INACTIVE"})})]}),c.jsx("div",{className:"past-event-overlay",children:c.jsx("span",{children:"This event has ended"})})]},Ce.id))}):c.jsx("div",{className:"no-tab-events",children:c.jsx("p",{children:"You don't have any past events."})})})]}):c.jsxs("div",{className:"no-events-container",children:[c.jsx("p",{className:"no-events-text",children:"You haven't joined any events yet."}),c.jsx("button",{onClick:()=>la("/events"),className:"browse-events-button",children:"Browse Events"})]})]}),W==="scholar"&&c.jsx($t,{}),W!=="sponsor"&&W!=="scholar"&&W!=="volunteer"&&c.jsxs("div",{className:"profile-empty-space",children:[c.jsx("h2",{children:"Thank you for being a part of our community!"}),c.jsx("p",{children:"Help us make a difference by participating in events and supporting our mission."})]})]}),W==="scholar"&&c.jsx(Ue,{}),m&&c.jsx("div",{className:`popup-overlay ${P?"closing":""}`,onClick:ce,children:c.jsxs("div",{className:`popup ${P?"closing":""}`,onClick:Ce=>Ce.stopPropagation(),style:{backgroundColor:"#FEF6E4"},children:[c.jsx("h2",{children:"Select a photo to change"}),c.jsxs("div",{className:"popup-buttons",children:[y==="profile"&&c.jsx("button",{onClick:()=>{var Ce;(Ce=document.getElementById("profile-photo-input"))==null||Ce.click(),ce()},children:"Change Profile Photo"}),y==="cover"&&c.jsx("button",{onClick:()=>{var Ce;(Ce=document.getElementById("cover-photo-input"))==null||Ce.click(),ce()},children:"Change Cover Photo"}),c.jsx("button",{onClick:ce,children:"Cancel"})]})]})}),V&&c.jsx("div",{className:"popup-overlay",children:c.jsx("div",{className:"popup report-card-popup",style:{backgroundColor:"#FEF6E4"},children:ee?c.jsxs(c.Fragment,{children:[c.jsx("h2",{children:"Application Progress"}),c.jsx(P7e,{currentStep:Z}),c.jsx("div",{className:"popup-buttons",children:c.jsx("div",{onClick:()=>q(!1),className:"close-button-progress",children:"Close"})})]}):c.jsxs(c.Fragment,{children:[c.jsx("h2",{children:"Submit Report Card"}),c.jsxs("div",{className:"report-card-grade-level",children:[c.jsx("h3",{children:"Select Your Grade Level"}),c.jsxs("select",{value:pt,onChange:Ze,className:"grade-level-dropdown",children:[c.jsx("option",{value:"",children:"Select Grade Level"}),cn.map(Ce=>c.jsx("option",{value:Ce.value,children:Ce.label},Ce.value))]}),pt&&c.jsxs("div",{className:"grading-period-selection",children:[c.jsx("h3",{children:"Select Grading Period"}),c.jsxs("select",{value:he,onChange:Ce=>Ee(Ce.target.value),className:"grading-period-dropdown",children:[c.jsx("option",{value:"",children:"Select Grading Period"}),Ae(pt).map(Ce=>c.jsx("option",{value:Ce.value,children:Ce.label},Ce.value))]})]})]}),c.jsxs("div",{className:"report-card-upload-container",children:[c.jsxs("div",{className:"report-card-side",children:[c.jsx("h3",{children:"Front Side"}),c.jsx("div",{className:"report-card-upload-box",children:I?c.jsxs("div",{className:"report-card-preview",children:[c.jsx("img",{src:I,alt:"Report Card Front"}),c.jsx("button",{onClick:()=>O(null),children:"Remove"})]}):c.jsxs("div",{className:"upload-placeholder",onClick:()=>{var Ce;return(Ce=document.getElementById("report-card-front"))==null?void 0:Ce.click()},children:[c.jsx(Ab,{size:24}),c.jsx("p",{children:"Upload Front Side"})]})})]}),c.jsxs("div",{className:"report-card-side",children:[c.jsx("h3",{children:"Back Side"}),c.jsx("div",{className:"report-card-upload-box",children:H?c.jsxs("div",{className:"report-card-preview",children:[c.jsx("img",{src:H,alt:"Report Card Back"}),c.jsx("button",{onClick:()=>ne(null),children:"Remove"})]}):c.jsxs("div",{className:"upload-placeholder",onClick:()=>{var Ce;return(Ce=document.getElementById("report-card-back"))==null?void 0:Ce.click()},children:[c.jsx(Ab,{size:24}),c.jsx("p",{children:"Upload Back Side"})]})})]})]}),c.jsxs("div",{className:"popup-buttons",children:[c.jsx("div",{onClick:ve,className:`submit-button-report ${!I||!H||!pt||z?"disabled":""}`,children:z?"Submitting...":"Submit Report Card"}),c.jsx("div",{onClick:()=>q(!1),className:"cancel-button-report",children:"Cancel"})]})]})})}),qt&&we&&c.jsx("div",{className:"popup-overlay feedback",children:c.jsxs("div",{className:"feedback-popup",onClick:Ce=>Ce.stopPropagation(),children:[c.jsx("span",{className:"modal-close",onClick:Be,title:"Skip feedback",children:""}),c.jsx("h2",{children:"Share Your Experience"}),c.jsxs("p",{children:["Please share your experience at:",c.jsx("br",{}),we.title]}),W==="scholar"?c.jsxs("div",{className:"scholar-feedback-form",children:[c.jsxs("div",{className:"feedback-section",children:[c.jsx("h3",{children:"Event Experience"}),c.jsx("div",{className:"rating-container",children:[1,2,3,4,5].map(Ce=>c.jsx(N3,{className:`star-icon ${Ce<=ar.eventRating?"selected":""}`,size:32,onClick:()=>Yt({...ar,eventRating:Ce}),color:Ce<=ar.eventRating?"#ffc107":"#e4e5e9"},Ce))}),c.jsx("textarea",{className:"feedback-textarea",value:ar.eventComment,onChange:Ce=>Yt({...ar,eventComment:Ce.target.value}),placeholder:"Tell us about your experience at this event...",rows:3})]}),c.jsxs("div",{className:"feedback-section volunteer-feedback",children:[c.jsx("h3",{children:"Volunteer Feedback"}),c.jsx("textarea",{className:"feedback-textarea",value:ar.volunteerComment,onChange:Ce=>Yt({...ar,volunteerComment:Ce.target.value}),placeholder:"Share your thoughts about the volunteers who helped at this event...",rows:3})]}),c.jsx("button",{onClick:$e,disabled:ar.eventRating===0,className:"feedback-submit-button",children:"Submit Feedback"})]}):c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"rating-container",children:[1,2,3,4,5].map(Ce=>c.jsx(N3,{className:`star-icon ${Ce<=Me?"selected":""}`,size:32,onClick:()=>ze(Ce),color:Ce<=Me?"#ffc107":"#e4e5e9"},Ce))}),c.jsx("textarea",{className:"feedback-textarea",value:He,onChange:Ce=>dt(Ce.target.value),placeholder:"Tell us about your experience at this event...",rows:4}),c.jsx("button",{onClick:$e,disabled:Me===0,className:"feedback-submit-button",children:"Submit Feedback"})]})]})}),c.jsx("input",{id:"profile-photo-input",type:"file",accept:"image/*",onChange:ie,style:{display:"none"}}),c.jsx("input",{id:"cover-photo-input",type:"file",accept:"image/*",onChange:et,style:{display:"none"}}),c.jsx("input",{id:"report-card-front",type:"file",accept:"image/*",onChange:Ce=>pe("front",Ce),style:{display:"none"}}),c.jsx("input",{id:"report-card-back",type:"file",accept:"image/*",onChange:Ce=>pe("back",Ce),style:{display:"none"}})]})})},A7e="/assets/phflag.DVUHrzorpng",D7e=()=>{const[e,t]=E.useState(null),[n,r]=E.useState({name:"",email:"",username:"",phone:"",dateOfBirth:""}),[a,i]=E.useState({}),[o,s]=E.useState({oldPassword:"",newPassword:"",confirmPassword:""}),[l,u]=E.useState({name:"",email:"",username:"",phone:"",dateOfBirth:""}),[d,f]=E.useState("");E.useEffect(()=>{const N=localStorage.getItem("user");if(N){const P=JSON.parse(N);console.log("Raw user data:",P);let T="";P.dateOfBirth&&(T=P.dateOfBirth.split("T")[0]),console.log("Formatted date for display:",T);const j=P.phone?h(P.phone):"",D={name:P.name||"",email:P.email||"",username:P.username||"",phone:j,dateOfBirth:T};u(D),r(D),f(P.role||"")}},[]);const h=N=>{const P=N.replace(/\D/g,"");let T=P;if(P.startsWith("0"))T=`639${P.substring(1)}`;else if(P.startsWith("9"))T=`639${P}`;else if(P.startsWith("63"))T=P;else{const j=P.match(/9\d+$/);j?T=`639${j[0]}`:T=P}if(T.startsWith("+")||(T=`+${T}`),T.length>=12){const j=T.slice(0,3),D=T.slice(3,4),M=T.slice(4,7),R=T.slice(7,10),W=T.slice(10,14);return`${j} ${D}${M} ${R} ${W}`}return T},p=N=>{const{name:P,value:T}=N.target;if(P==="phone"){const j=h(T);console.log("Phone change:",{raw:T,formatted:j,initial:l.phone}),r(D=>({...D,[P]:j}))}else r(j=>({...j,[P]:T}))},m=()=>{const N={};if(n.name.trim()?(n.name.length<2||n.name.length>50)&&(N.name="Name must be between 2 and 50 characters"):N.name="Name is required",d!=="scholar"&&(n.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n.email)||(N.email="Please enter a valid email address"):N.email="Email is required"),n.username.trim()?n.username.length<3||n.username.length>20?N.username="Username must be between 3 and 20 characters":/^[a-zA-Z0-9_]+$/.test(n.username)||(N.username="Username can only contain letters, numbers, and underscores"):N.username="Username is required",n.phone){const P=n.phone.replace(/\s+/g,"");/^\+639\d{9}$/.test(P)||(N.phone="Please enter a valid Philippine phone number (+63 9XX XXX XXXX)")}return n.dateOfBirth||(N.dateOfBirth="Date of Birth is required"),i(N),Object.keys(N).length===0},g=()=>{const N={};return o.oldPassword||(N.oldPassword="Current password is required"),o.newPassword?o.newPassword.length<6?N.newPassword="Password must be at least 6 characters":/(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/.test(o.newPassword)||(N.newPassword="Password must contain uppercase, lowercase and numbers"):N.newPassword="New password is required",o.confirmPassword?o.newPassword!==o.confirmPassword&&(N.confirmPassword="Passwords do not match"):N.confirmPassword="Please confirm your new password",i(N),Object.keys(N).length===0},y=N=>{const{name:P,value:T}=N.target;s(j=>({...j,[P]:T}))},x=async()=>{if(!m()){alert("Please correct the errors before saving.");return}try{const N=JSON.parse(localStorage.getItem("user")||"{}"),P=localStorage.getItem("token"),T=new Date(n.dateOfBirth);T.setDate(T.getDate()+1);const j=T.toISOString(),D=n.phone.replace(/\s+/g,"");console.log("Sending date to backend:",j);const M=d==="scholar"?N.email:n.email,{data:R}=await Le.put("/user/details",{userId:N.id,name:n.name,email:M,username:n.username,dateOfBirth:j,phone:D,intro:N.intro,knownAs:N.knownAs});if(R.user){const W={...N,...R.user,dateOfBirth:R.user.dateOfBirth?R.user.dateOfBirth.split("T")[0]:"",intro:N.intro||R.user.intro,knownAs:N.knownAs||R.user.knownAs};console.log("Saving updated user to localStorage:",W),localStorage.setItem("user",JSON.stringify(W));const B=W.phone?h(W.phone):"";u({name:W.name||"",email:W.email||"",username:W.username||"",phone:B,dateOfBirth:W.dateOfBirth||""}),r(q=>({...q,phone:B}));const V=new CustomEvent("userInfoUpdated",{detail:{name:n.name,email:W.email}});window.dispatchEvent(V),alert("Changes saved successfully!")}}catch(N){console.error("Error saving changes:",N),alert("Failed to save changes. Please try again.")}},b=async()=>{var N,P,T;if(g())try{const j=JSON.parse(localStorage.getItem("user")||"{}"),D=localStorage.getItem("token");await Le.put("/user/password",{userId:j.id,oldPassword:o.oldPassword,newPassword:o.newPassword}),alert("Password changed successfully!"),s({oldPassword:"",newPassword:"",confirmPassword:""}),i({})}catch(j){console.error("Password update error:",((N=j.response)==null?void 0:N.data)||j);const D=((T=(P=j.response)==null?void 0:P.data)==null?void 0:T.error)||"Failed to change password. Please try again.";D==="Current password is incorrect"?i(M=>({...M,oldPassword:"Current password is incorrect"})):alert(D)}},w=()=>o.oldPassword.length>0&&o.newPassword.length>=6&&o.confirmPassword===o.newPassword&&/(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/.test(o.newPassword),_=()=>{const N=T=>T?T.replace(/\D/g,""):"",P=N(n.phone)!==N(l.phone);return console.log("Form change check:",{currentPhone:n.phone,initialPhone:l.phone,normalizedCurrent:N(n.phone),normalizedInitial:N(l.phone),phoneChanged:P}),n.name!==l.name||n.email!==l.email||n.username!==l.username||P||n.dateOfBirth!==l.dateOfBirth},S=()=>{const N=n.name.trim().length>=2&&n.name.length<=50,P=d==="scholar"?!0:/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n.email),T=n.username.length>=3&&n.username.length<=20&&/^[a-zA-Z0-9_]+$/.test(n.username),j=n.phone.trim(),D=j.replace(/\s+/g,""),M=!j||/^\+639\d{9}$/.test(D),R=!!n.dateOfBirth,W=N&&P&&T&&M&&R;return console.log("Form validation:",{name:N,email:P,username:T,phone:{value:j,cleaned:D,valid:M},date:R,overall:W}),W},k=async()=>{if(window.confirm(`Are you sure you want to archive your account?

Your account will be deactivated and you won't be able to access it.
To reactivate your account in the future, please contact the administrator.

Do you wish to proceed?`))try{const P=JSON.parse(localStorage.getItem("user")||"{}");await Le.put("/user/archive",{userId:P.id}),localStorage.clear(),window.location.href="/login"}catch(P){console.error("Error archiving account:",P),alert("Failed to archive account. Please try again.")}};return c.jsxs("div",{className:"account-settings",children:[c.jsx("h2",{children:"Account Settings"}),c.jsxs("form",{className:"personal-information",children:[c.jsx("h3",{children:"Personal Information"}),c.jsxs("label",{children:["Name",c.jsx("input",{type:"text",name:"name",placeholder:"Name",value:n.name,onChange:p,className:a.name?"error-input":""}),a.name&&c.jsx("span",{className:"error-text",children:a.name})]}),d!=="scholar"&&c.jsxs("label",{children:["Email",c.jsx("input",{type:"email",name:"email",placeholder:"Email",value:n.email,onChange:p,className:a.email?"error-input":""}),a.email&&c.jsx("span",{className:"error-text",children:a.email})]}),c.jsxs("label",{children:["Username",c.jsx("input",{type:"text",name:"username",placeholder:"@Username",value:n.username,onChange:p,className:a.username?"error-input":""}),a.username&&c.jsx("span",{className:"error-text",children:a.username})]}),c.jsxs("label",{children:["Phone Number",c.jsxs("div",{className:"phone-input",children:[c.jsx("img",{src:A7e,alt:"PH",className:"country-flag"}),c.jsx("input",{type:"text",name:"phone",placeholder:"+63 912 3247 182",value:n.phone,onChange:p,className:a.phone?"error-input":""})]}),a.phone&&c.jsx("span",{className:"error-text",children:a.phone})]}),c.jsxs("label",{children:["Date of Birth",c.jsx("input",{type:"date",name:"dateOfBirth",value:n.dateOfBirth,onChange:p,className:a.dateOfBirth?"error-input":""}),a.dateOfBirth&&c.jsx("span",{className:"error-text",children:a.dateOfBirth})]}),c.jsx("button",{type:"button",className:`save-changes ${_()&&S()?"validated":""}`,onClick:x,disabled:!_()||!S(),"data-changed":_(),"data-valid":S(),children:"Save changes"})]}),c.jsxs("form",{className:"change-password",children:[c.jsx("h3",{children:"Change Password"}),c.jsxs("label",{children:["Current password",c.jsx("input",{type:"password",name:"oldPassword",placeholder:"Old password",value:o.oldPassword,onChange:y,className:a.oldPassword?"error-input":""}),a.oldPassword&&c.jsx("span",{className:"error-text",children:a.oldPassword})]}),c.jsxs("label",{children:["New password",c.jsx("input",{type:"password",name:"newPassword",placeholder:"New password",value:o.newPassword,onChange:y,className:a.newPassword?"error-input":""}),a.newPassword&&c.jsx("span",{className:"error-text",children:a.newPassword})]}),c.jsxs("label",{children:["Confirm password",c.jsx("input",{type:"password",name:"confirmPassword",placeholder:"Confirm new password",value:o.confirmPassword,onChange:y,className:a.confirmPassword?"error-input":""}),a.confirmPassword&&c.jsx("span",{className:"error-text",children:a.confirmPassword})]}),c.jsx("div",{className:"buttons",children:c.jsx("button",{type:"button",className:`save-changes ${w()?"validated":""}`,onClick:b,children:"Change Password"})})]}),c.jsx("button",{type:"button",className:"setup-facial-id",children:"Setup Facial ID"}),c.jsx("button",{type:"button",className:"delete-account",onClick:k,children:"Archive account"})]})},O7e=()=>{const{token:e}=Rw(),[t,n]=E.useState("verifying"),[r,a]=E.useState(""),i=E.useRef(!1);return E.useEffect(()=>{(async()=>{var s,l;if(!(!e||i.current)){i.current=!0;try{console.log("Starting email verification..."),console.log("Token:",e);const u=await Le.get(`/verify-email/${e}`);console.log("Verification response:",u.data),n("success"),a(u.data.message)}catch(u){console.error("Verification error:",u),n("error");const d=((l=(s=u.response)==null?void 0:s.data)==null?void 0:l.error)||"Verification failed";a(d)}}})()},[e]),c.jsx("div",{className:"auth-container full-screen",children:c.jsxs("div",{className:"auth-inner-container",children:[c.jsx("h2",{children:"Email Verification"}),t==="verifying"&&c.jsx("div",{className:"verification-status",children:c.jsx("p",{children:"Verifying your email..."})}),t==="success"&&c.jsxs("div",{className:"verification-status success",children:[c.jsx("p",{className:"success-message",children:r}),c.jsxs("p",{children:["Click ",c.jsx($s,{to:Nt.LOGIN,children:"here"})," to login."]})]}),t==="error"&&c.jsxs("div",{className:"verification-status error",children:[c.jsx("p",{className:"error-message",children:r}),c.jsxs("p",{children:["Please try registering again or contact support.",c.jsx("br",{}),c.jsx($s,{to:Nt.REGISTER,children:"Register"})]})]})]})})},M7e=()=>{const e=Zr(),[t,n]=E.useState(""),[r,a]=E.useState(""),[i,o]=E.useState(""),[s,l]=E.useState(""),[u,d]=E.useState(!1),f={initial:{opacity:0},in:{opacity:1},out:{opacity:0}},h={type:"tween",ease:"easeInOut",duration:.3},p=()=>{e(-1)},m=x=>(l(""),x.trim()?/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(x)?!0:(l("Please enter a valid email address"),!1):(l("Email is required"),!1)),g=async x=>{var b,w;if(x.preventDefault(),d(!0),o(""),a(""),l(""),!m(t)){d(!1);return}try{const _=await Le.post("/forgot-password",{email:t});a(_.data.message),n("")}catch(_){o(((w=(b=_.response)==null?void 0:b.data)==null?void 0:w.error)||"Something went wrong. Please try again.")}finally{d(!1)}},y=x=>{n(x.target.value),s&&m(x.target.value)};return c.jsx("div",{className:"auth-container-register full-screen",children:c.jsxs("div",{className:"auth-inner-container-forgot-password",children:[c.jsx("div",{className:"back-button",onClick:p,children:c.jsx("svg",{viewBox:"0 0 24 24",fill:"#242424",children:c.jsx("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"})})}),c.jsx(pb,{mode:"wait",children:c.jsxs(gd.div,{initial:"initial",animate:"in",exit:"out",variants:f,transition:h,className:"forgot-password-content",children:[c.jsx("h1",{children:"Forgot Password"}),c.jsxs("div",{className:"forgot-password-description",children:[c.jsx("p",{children:"Enter the email address you used when you joined and we'll send you instructions to reset your password."}),c.jsx("p",{children:"For security reasons, we do NOT store your password. So rest assured that we will never send your password via email."})]}),c.jsxs("form",{onSubmit:g,className:"forgot-password-form",children:[c.jsxs("div",{className:"form-group-forgot",children:[c.jsx("h3",{children:"Email"}),c.jsx("input",{type:"email",value:t,onChange:y,onBlur:()=>m(t),placeholder:"Enter your email",className:s?"error-input":"",required:!0}),s&&c.jsx("span",{className:"error-text",children:s})]}),r&&c.jsx("p",{className:"success-message",children:r}),i&&c.jsx("p",{className:"error-message",children:i}),c.jsx("button",{type:"submit",className:"auth-button-forgot",disabled:u||!!s,children:u?"Sending...":"Send Reset Instructions"})]})]},"forgot-password-form")})]})})},I7e=()=>{const{token:e}=Rw(),t=Zr(),[n,r]=E.useState(""),[a,i]=E.useState(""),[o,s]=E.useState(""),[l,u]=E.useState(""),[d,f]=E.useState(!1),[h,p]=E.useState(!1),[m,g]=E.useState(!1),y=()=>{t(-1)},x=async b=>{var w,_;if(b.preventDefault(),f(!0),u(""),s(""),n!==a){u("Passwords do not match"),f(!1);return}if(n.length<6){u("Password must be at least 6 characters long"),f(!1);return}try{const S=await Le.post("/reset-password",{token:e,newPassword:n});s(S.data.message),setTimeout(()=>{t(Nt.LOGIN)},3e3)}catch(S){u(((_=(w=S.response)==null?void 0:w.data)==null?void 0:_.error)||"Something went wrong. Please try again.")}finally{f(!1)}};return c.jsx("div",{className:"auth-container-register full-screen",children:c.jsxs("div",{className:"auth-inner-container-forgot-password",children:[c.jsx("div",{className:"back-button",onClick:y,children:c.jsx("svg",{viewBox:"0 0 24 24",fill:"#242424",children:c.jsx("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"})})}),c.jsxs("div",{className:"reset-password-content",children:[c.jsx("h1",{children:"Reset Password"}),c.jsx("p",{className:"reset-instructions",children:"Please enter your new password."}),c.jsxs("form",{onSubmit:x,className:"reset-password-form",children:[c.jsxs("div",{className:"form-group-forgot",children:[c.jsx("h3",{children:"New Password"}),c.jsxs("div",{className:"password-input-wrapper",children:[c.jsx("input",{type:h?"text":"password",value:n,onChange:b=>r(b.target.value),placeholder:"Enter new password",className:"password-input",required:!0}),c.jsx("span",{className:"password-toggle-icon",onClick:()=>p(!h),children:h?c.jsx("svg",{viewBox:"0 0 24 24",children:c.jsx("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"})}):c.jsx("svg",{viewBox:"0 0 24 24",children:c.jsx("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"})})})]})]}),c.jsxs("div",{className:"form-group-forgot",children:[c.jsx("h3",{children:"Confirm Password"}),c.jsxs("div",{className:"password-input-wrapper",children:[c.jsx("input",{type:m?"text":"password",value:a,onChange:b=>i(b.target.value),placeholder:"Confirm new password",className:"password-input",required:!0}),c.jsx("span",{className:"password-toggle-icon",onClick:()=>g(!m),children:m?c.jsx("svg",{viewBox:"0 0 24 24",children:c.jsx("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"})}):c.jsx("svg",{viewBox:"0 0 24 24",children:c.jsx("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"})})})]})]}),o&&c.jsx("p",{className:"success-message",children:o}),l&&c.jsx("p",{className:"error-message",children:l}),c.jsx("button",{type:"submit",className:"auth-button-forgot",disabled:d,children:d?"Resetting...":"Reset Password"})]})]})]})})},R7e=()=>{const{user:e,logout:t}=Sc(),n=Zr(),[r,a]=E.useState(!1),i=E.useRef(null),o=YS,[s,l]=E.useState(!1),[u,d]=E.useState([]),[f,h]=E.useState(0),p=E.useRef(null),[m,g]=E.useState("all"),[y,x]=E.useState(!1),b=E.useRef(null),w="https://kmfi.netlify.app/",_=O=>O.type==="new_user"?O.content.includes("scholar")?"student":"user":O.type==="user_updated"||O.type==="contact_form"?"user":O.type==="event_participant"||O.type==="event_leave"||O.type.includes("event")?"event":O.type==="scholar_location"||O.type.includes("location")||O.content.includes("location")||O.type==="report_card"||O.content.toLowerCase().includes("report card")?"student":O.type.includes("donation")||O.type==="donation_verified"||O.type==="donation_rejected"||O.content.includes("donation")||O.content.includes("regular donation")||O.content.includes("in-kind donation")||O.content.includes("scholar donation")?"donation":O.type==="distribution"?"distribution":O.type==="student_application"||O.type.includes("student")||O.type.includes("scholar")?"student":"all",S=m==="all"?u:u.filter(O=>_(O)===m),k=O=>O==="all"?f:u.filter(H=>!H.read&&_(H)===O).length,N=O=>O?O.startsWith("data:")||O.startsWith("http")?O:`https://kmfi.netlify.app/${O}`:"",P=O=>O?O.startsWith("http")||O.startsWith("data:")?O:O.startsWith("/uploads/")?`${w}${O}`:O:YS;E.useEffect(()=>{const O=async()=>{if(e!=null&&e.id)try{const ne=await fetch(`${w}/api/notifications/admin/${e.id}`);if(ne.ok){const z=await ne.json();d(z),h(z.filter(J=>!J.read).length)}}catch(ne){console.error("Error fetching admin notifications:",ne)}};O();const H=setInterval(O,3e4);return()=>clearInterval(H)},[e==null?void 0:e.id,w]);const T=async()=>{const O=u.filter(H=>!H.read);if(O.length!==0)try{await Promise.all(O.map(H=>fetch(`${w}/api/notifications/${H.id}/read`,{method:"POST"}))),d(u.map(H=>({...H,read:!0}))),h(0)}catch(H){console.error("Error marking notifications as read:",H)}},j=async()=>{if(!(!(e!=null&&e.id)||u.filter(H=>!H.read).length===0))try{await fetch(`${w}/api/notifications/admin/${e.id}/read-all`,{method:"POST"}),d(H=>H.map(ne=>({...ne,read:!0}))),h(0)}catch(H){console.error("Error marking admin notifications as read:",H)}},D=async O=>{try{if(await fetch(`${w}/api/notifications/${O.id}/read`,{method:"POST"}),d(H=>H.map(ne=>ne.id===O.id?{...ne,read:!0}:ne)),h(H=>Math.max(0,H-1)),O.type==="new_user")O.content.includes("scholar")?n(`${Nt.ADMIN.SCHOLARS.MANAGEMENT}`):n(`${Nt.ADMIN.USERS}`);else if(O.type==="contact_form")n(`${Nt.ADMIN.CONTACTS}`);else if(O.type==="event_participant"||O.type==="event_leave"){const H=O.related_id;localStorage.setItem("openEventParticipantsModal",H),n(`${Nt.ADMIN.EVENTS}?highlight=${H}&participants=true`)}else O.type==="student_application"?n(`${Nt.ADMIN.SCHOLARS.MANAGEMENT}`):O.type==="scholar_location"||O.type.includes("location")?n(`${Nt.ADMIN.SCHOLARS.LOCATION}`):O.type==="report_card"?n(`${Nt.ADMIN.SCHOLARS.REPORTS}`):O.type==="donation"||O.type==="donation_verified"||O.type==="donation_rejected"?O.content.includes("regular donation")||O.content.includes("in-kind donation")?n(`${Nt.ADMIN.INVENTORY}`):O.content.includes("scholar donation")?n(`${Nt.ADMIN.SCHOLARS.DONATIONS}`):n(`${Nt.ADMIN.BANK}`):O.type==="distribution"&&n(`${Nt.ADMIN.INVENTORY}`);l(!1)}catch(H){console.error("Error handling notification click:",H)}},M=async()=>{s?(await j(),x(!0),setTimeout(()=>{l(!1),x(!1)},300)):l(!0),b.current&&(b.current.classList.add("animate"),setTimeout(()=>{b.current&&b.current.classList.remove("animate")},500))};E.useEffect(()=>{const O=H=>{i.current&&!i.current.contains(H.target)&&a(!1),p.current&&!p.current.contains(H.target)&&s&&(j(),x(!0),setTimeout(()=>{l(!1),x(!1)},300))};return document.addEventListener("mousedown",O),()=>{document.removeEventListener("mousedown",O)}},[s]);const R=O=>{const H=Math.floor((new Date().getTime()-O.getTime())/1e3);if(H<60)return"just now";const ne=Math.floor(H/60);if(ne<60)return`${ne}m ago`;const z=Math.floor(ne/60);return z<24?`${z}h ago`:O.toLocaleDateString()},W=()=>{t(),n("/login")},B=()=>(console.log("Getting profile photo for user:",e),e!=null&&e.profilePhoto?N(e.profilePhoto):(console.log("No profile photo, using default"),o)),V=O=>{const H=_(O);return O.type==="contact_form"?"/images/contact-icon.png":O.type==="event_participant"?"/images/event-icon.png":O.type==="event_leave"?"/images/event-leave-icon.png":O.type==="scholar_location"||O.type.includes("location")?"/images/location-icon.png":O.type==="report_card"?"/images/report-card-icon.png":O.type==="distribution"||H==="distribution"?"/images/package-icon.png":H==="donation"?O.content.includes("regular donation")||O.content.includes("in-kind donation")?"/images/inventory-icon.png":O.content.includes("scholar donation")?"/images/scholar-icon.png":ene:P(O.actor_avatar)},q=O=>{g(O)},I=(O,H)=>{H.stopPropagation();const ne=H.currentTarget.querySelector(".material-icons");ne&&(ne.classList.add("animate-rotate"),setTimeout(()=>{ne.classList.remove("animate-rotate")},300)),d(z=>z.map(J=>J.id===O?{...J,expanded:!J.expanded}:J))};return c.jsxs("header",{className:"admin-header",children:[c.jsx("div",{className:"header-left",children:c.jsx("img",{src:bj,alt:"KKMK Logo",onClick:()=>n("/"),className:"admin-logo"})}),c.jsxs("div",{className:"header-right",children:[c.jsxs("div",{className:"notification-container",ref:p,children:[c.jsxs("div",{className:"notification-icon",ref:b,onClick:M,children:[f>0&&c.jsx("span",{className:"notification-badge",children:f}),s?c.jsx(cte,{size:20}):c.jsx(ute,{size:20})]}),c.jsxs("div",{className:`notifications-dropdown ${s?"active":""} ${y?"closing":""}`,children:[c.jsxs("div",{className:"notifications-header",children:[c.jsx("h3",{children:"Admin Notifications"}),u.length>0&&c.jsx("button",{className:"mark-read-button",onClick:T,children:"Mark all as read"})]}),c.jsxs("div",{className:"notification-tabs",children:[c.jsxs("div",{className:`tab ${m==="all"?"active":""}`,onClick:()=>q("all"),title:"All Notifications",children:[c.jsx("span",{children:"All"}),f>0&&c.jsx("span",{className:"tab-badge",children:f})]}),c.jsxs("div",{className:`tab ${m==="user"?"active":""}`,onClick:()=>q("user"),title:"User Notifications",children:[c.jsx("span",{className:"material-icons",children:"person"}),k("user")>0&&c.jsx("span",{className:"tab-badge",children:k("user")})]}),c.jsxs("div",{className:`tab ${m==="donation"?"active":""}`,onClick:()=>q("donation"),title:"Donation Notifications",children:[c.jsx("span",{className:"material-icons",children:"volunteer_activism"}),k("donation")>0&&c.jsx("span",{className:"tab-badge",children:k("donation")})]}),c.jsxs("div",{className:`tab ${m==="event"?"active":""}`,onClick:()=>q("event"),title:"Event Notifications",children:[c.jsx("span",{className:"material-icons",children:"event"}),k("event")>0&&c.jsx("span",{className:"tab-badge",children:k("event")})]}),c.jsxs("div",{className:`tab ${m==="distribution"?"active":""}`,onClick:()=>q("distribution"),title:"Distribution Notifications",children:[c.jsx("span",{className:"material-icons",children:"local_shipping"}),k("distribution")>0&&c.jsx("span",{className:"tab-badge",children:k("distribution")})]}),c.jsxs("div",{className:`tab ${m==="student"?"active":""}`,onClick:()=>q("student"),title:"Student Notifications",children:[c.jsx("span",{className:"material-icons",children:"school"}),k("student")>0&&c.jsx("span",{className:"tab-badge",children:k("student")})]})]}),c.jsx("div",{className:"notifications-list",children:S.length===0?c.jsx("div",{className:"no-notifications",children:m==="all"?"No notifications":`No ${m} notifications`}):S.map(O=>c.jsxs("div",{className:`notification-item ${O.read?"":"unread"}`,onClick:()=>D(O),children:[c.jsx("img",{src:V(O),alt:_(O)==="distribution"?"Package":"User avatar",className:"notification-avatar",onError:H=>{H.target.src=YS}}),c.jsxs("div",{className:"notification-content",children:[c.jsxs("div",{className:"notification-text-container",children:[c.jsx("p",{className:`notification-text ${O.expanded?"expanded":""}`,children:O.content}),c.jsx("button",{className:"expand-button",onClick:H=>I(O.id,H),title:O.expanded?"Show less":"Show more",children:c.jsx("span",{className:"material-icons",children:O.expanded?"keyboard_arrow_up":"keyboard_arrow_down"})})]}),c.jsx("span",{className:"notification-time",children:R(new Date(O.created_at))})]})]},O.id))})]})]}),c.jsxs("div",{ref:i,className:`admin-profile ${r?"active":""}`,onClick:()=>a(!r),children:[c.jsx("img",{src:B(),alt:(e==null?void 0:e.name)||"User",className:"admin-avatar",onError:O=>{const H=O.target;H.onerror=null,H.src=o,console.log("Failed to load profile photo:",H.src),console.log("User object:",e)}}),c.jsx("span",{className:"admin-name",children:e==null?void 0:e.name}),c.jsx("span",{className:"material-icons",children:"keyboard_arrow_down"}),c.jsxs("div",{className:`admin-dropdown ${r?"show":""}`,children:[c.jsxs("div",{className:"dropdown-header",children:[c.jsx("strong",{children:e==null?void 0:e.name}),c.jsx("span",{children:e==null?void 0:e.role})]}),c.jsx($s,{to:Nt.HOME,className:"dropdown-item",children:"Home Page"}),c.jsx($s,{to:Nt.ADMIN.SETTINGS,className:"dropdown-item",children:"Settings"}),c.jsx("div",{className:"dropdown-item",onClick:W,children:"Logout"})]})]})]})]})},F7e=()=>{const{user:e}=Sc();e==null||e.role;const[t,n]=E.useState([]),[r,a]=E.useState(!1),i=E.useRef(null),[o,s]=E.useState(!1),l=Zr(),u=b=>{n(w=>w.includes(b)?w.filter(_=>_!==b):[...w,b])},d=()=>{a(!r)},f=()=>{a(!1)},h=()=>{f()};E.useEffect(()=>{const b=()=>{const w=window.innerWidth<=768,_=document.documentElement.scrollLeft>0;s(w||_)};return window.addEventListener("resize",b),window.addEventListener("scroll",b),b(),()=>{window.removeEventListener("resize",b),window.removeEventListener("scroll",b)}},[]),E.useEffect(()=>(r?document.body.classList.add("sidebar-open"):document.body.classList.remove("sidebar-open"),()=>{document.body.classList.remove("sidebar-open")}),[r]);const p=b=>{l(b)},m=b=>window.location.pathname===b,g=[{path:Nt.ADMIN.DASHBOARD,icon:"dashboard",label:"Dashboard",roles:["admin","staff"]},{path:Nt.ADMIN.ANALYTICS,icon:"show_chart",label:"Analytics",roles:["admin"],subItems:[{path:Nt.ADMIN.ANALYTICS,label:"Overview",icon:"assessment",roles:["admin"]},{path:Nt.ADMIN.EVENTFEEDBACK,label:"Event Feedback",icon:"feedback",roles:["admin"]},{path:Nt.ADMIN.FORUMPOLL,label:"Forum Poll",icon:"poll",roles:["admin"]}]},{path:Nt.ADMIN.MAP,icon:"map",label:"Map",roles:["admin","staff"]},{path:Nt.ADMIN.INVENTORY,icon:"inventory",label:"Inventory",roles:["admin","staff"]},{path:Nt.ADMIN.BANK,icon:"account_balance",label:"Bank",roles:["admin"]}],y=[{path:Nt.ADMIN.CMS,icon:"file_copy",label:"Content",roles:["admin","staff"]},{path:Nt.ADMIN.USERS,icon:"group",label:"Volunteer",roles:["admin","staff"]},{path:Nt.ADMIN.SPONSOR,icon:"accessibility_new",label:"Sponsor",roles:["admin","staff"]},{path:Nt.ADMIN.SCHOLARS.MANAGEMENT,icon:"child_care",label:"Scholar",roles:["admin","staff"],subItems:[{path:Nt.ADMIN.SCHOLARS.MANAGEMENT,label:"Management",icon:"manage_accounts",roles:["admin","staff"]},{path:Nt.ADMIN.SCHOLARS.PROFILE,label:"Profiles",icon:"badge",roles:["admin","staff"]},{path:Nt.ADMIN.SCHOLARS.DONATIONS,label:"Donation",icon:"volunteer_activism",roles:["admin"]},{path:Nt.ADMIN.SCHOLARS.LOCATION,icon:"admin_panel_settings",label:"Location",roles:["admin","staff"]},{path:Nt.ADMIN.SCHOLARS.REPORTS,label:"Report Cards",icon:"pending",roles:["admin","staff"]}]},{path:Nt.ADMIN.STAFF,icon:"admin_panel_settings",label:"Staff",roles:["admin"]},{path:Nt.ADMIN.EVENTS,icon:"celebration",label:"Events",roles:["admin","staff"]},{path:Nt.ADMIN.CONTACTS,icon:"contact_page",label:"Contacts",roles:["admin","staff"]},{path:Nt.ADMIN.SETTINGS,icon:"settings",label:"Settings",roles:["admin","staff"]}],x=b=>b.includes((e==null?void 0:e.role)||"");return c.jsxs(c.Fragment,{children:[c.jsx("button",{className:`hamburger-menu ${o?"visible":""} ${r?"hidden":""}`,onClick:d,"aria-label":"Toggle menu",children:c.jsx("span",{className:"material-icons",children:"menu"})}),c.jsxs("div",{className:`quick-access-menu ${o&&!r?"visible":""}`,children:[g.map((b,w)=>x(b.roles)&&c.jsx("div",{className:`quick-access-item ${m(b.path)||b.subItems&&b.subItems.some(_=>m(_.path))?"active":""}`,onClick:()=>p(b.path),title:b.label,children:c.jsx("span",{className:"material-icons",children:b.icon})},`menu-${w}`)),y.map((b,w)=>x(b.roles)&&c.jsx("div",{className:`quick-access-item ${m(b.path)||b.subItems&&b.subItems.some(_=>m(_.path))?"active":""}`,onClick:()=>p(b.path),title:b.label,children:c.jsx("span",{className:"material-icons",children:b.icon})},`other-${w}`))]}),c.jsx("div",{className:`mobile-overlay ${r?"active":""}`,onClick:f}),c.jsx("nav",{ref:i,className:`admin-sidebar ${r?"mobile-open":""}`,children:c.jsxs("div",{className:"sidebar-content",children:[c.jsxs("div",{className:"sidebar-category",children:[c.jsx("h3",{className:"category-title",children:"Menu"}),c.jsx("ul",{children:g.map((b,w)=>x(b.roles)&&c.jsx("li",{children:b.subItems?c.jsxs("div",{className:`sidebar-item-with-subitems ${t.includes(b.label)?"expanded":""}`,children:[c.jsxs("div",{className:"sidebar-item-header",onClick:()=>u(b.label),children:[c.jsx("span",{className:"material-icons",children:b.icon}),c.jsx("span",{children:b.label}),c.jsx("span",{className:"material-icons expand-icon",children:t.includes(b.label)?"expand_less":"expand_more"})]}),c.jsx("ul",{className:"sidebar-subitems",children:b.subItems.map((_,S)=>x(_.roles)&&c.jsx("li",{children:c.jsxs(r_,{to:_.path,className:"subitem-link",onClick:h,children:[c.jsx("span",{className:"material-icons subitem-icon",children:_.icon}),c.jsx("span",{children:_.label})]})},`menu-${w}-${S}`))})]}):c.jsxs(r_,{to:b.path,onClick:h,children:[c.jsx("span",{className:"material-icons",children:b.icon}),c.jsx("span",{children:b.label})]})},w))})]}),c.jsxs("div",{className:"sidebar-category",children:[c.jsx("h3",{className:"category-title",children:"Others"}),c.jsx("ul",{children:y.map((b,w)=>x(b.roles)&&c.jsx("li",{children:b.subItems?c.jsxs("div",{className:`sidebar-item-with-subitems ${t.includes(b.label)?"expanded":""}`,children:[c.jsxs("div",{className:"sidebar-item-header",onClick:()=>u(b.label),children:[c.jsx("span",{className:"material-icons",children:b.icon}),c.jsx("span",{children:b.label}),c.jsx("span",{className:"material-icons expand-icon",children:t.includes(b.label)?"expand_less":"expand_more"})]}),c.jsx("ul",{className:"sidebar-subitems",children:b.subItems.map((_,S)=>x(_.roles)&&c.jsx("li",{children:c.jsxs(r_,{to:_.path,className:"subitem-link",onClick:h,children:[c.jsx("span",{className:"material-icons subitem-icon",children:_.icon}),c.jsx("span",{children:_.label})]})},`${w}-${S}`))})]}):c.jsxs(r_,{to:b.path,onClick:h,children:[c.jsx("span",{className:"material-icons",children:b.icon}),c.jsx("span",{children:b.label})]})},w))})]})]})})]})},L7e=()=>{const{user:e}=Sc(),t=Dl();return!e||!["admin","staff"].includes(e.role)?c.jsx(r3,{to:"/login",replace:!0}):t.pathname==="/"?c.jsx(r3,{to:"/dashboard",replace:!0}):c.jsxs("div",{className:"admin-layout",children:[c.jsx(R7e,{}),c.jsxs("div",{className:"admin-container",children:[c.jsx(F7e,{}),c.jsx("main",{className:"admin-content",children:c.jsx(ate,{})})]})]})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function c2(e){return e+.5|0}const Rf=(e,t,n)=>Math.max(Math.min(e,n),t);function Tx(e){return Rf(c2(e*2.55),0,255)}function rh(e){return Rf(c2(e*255),0,255)}function ed(e){return Rf(c2(e/2.55)/100,0,1)}function vH(e){return Rf(c2(e*100),0,100)}const Js={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},VM=[..."0123456789ABCDEF"],$7e=e=>VM[e&15],B7e=e=>VM[(e&240)>>4]+VM[e&15],L_=e=>(e&240)>>4===(e&15),z7e=e=>L_(e.r)&&L_(e.g)&&L_(e.b)&&L_(e.a);function U7e(e){var t=e.length,n;return e[0]==="#"&&(t===4||t===5?n={r:255&Js[e[1]]*17,g:255&Js[e[2]]*17,b:255&Js[e[3]]*17,a:t===5?Js[e[4]]*17:255}:(t===7||t===9)&&(n={r:Js[e[1]]<<4|Js[e[2]],g:Js[e[3]]<<4|Js[e[4]],b:Js[e[5]]<<4|Js[e[6]],a:t===9?Js[e[7]]<<4|Js[e[8]]:255})),n}const W7e=(e,t)=>e<255?t(e):"";function V7e(e){var t=z7e(e)?$7e:B7e;return e?"#"+t(e.r)+t(e.g)+t(e.b)+W7e(e.a,t):void 0}const H7e=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Tle(e,t,n){const r=t*Math.min(n,1-n),a=(i,o=(i+e/30)%12)=>n-r*Math.max(Math.min(o-3,9-o,1),-1);return[a(0),a(8),a(4)]}function q7e(e,t,n){const r=(a,i=(a+e/60)%6)=>n-n*t*Math.max(Math.min(i,4-i,1),0);return[r(5),r(3),r(1)]}function G7e(e,t,n){const r=Tle(e,1,.5);let a;for(t+n>1&&(a=1/(t+n),t*=a,n*=a),a=0;a<3;a++)r[a]*=1-t-n,r[a]+=t;return r}function Y7e(e,t,n,r,a){return e===a?(t-n)/r+(t<n?6:0):t===a?(n-e)/r+2:(e-t)/r+4}function H6(e){const n=e.r/255,r=e.g/255,a=e.b/255,i=Math.max(n,r,a),o=Math.min(n,r,a),s=(i+o)/2;let l,u,d;return i!==o&&(d=i-o,u=s>.5?d/(2-i-o):d/(i+o),l=Y7e(n,r,a,d,i),l=l*60+.5),[l|0,u||0,s]}function q6(e,t,n,r){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,r)).map(rh)}function G6(e,t,n){return q6(Tle,e,t,n)}function K7e(e,t,n){return q6(G7e,e,t,n)}function X7e(e,t,n){return q6(q7e,e,t,n)}function Ple(e){return(e%360+360)%360}function Z7e(e){const t=H7e.exec(e);let n=255,r;if(!t)return;t[5]!==r&&(n=t[6]?Tx(+t[5]):rh(+t[5]));const a=Ple(+t[2]),i=+t[3]/100,o=+t[4]/100;return t[1]==="hwb"?r=K7e(a,i,o):t[1]==="hsv"?r=X7e(a,i,o):r=G6(a,i,o),{r:r[0],g:r[1],b:r[2],a:n}}function Q7e(e,t){var n=H6(e);n[0]=Ple(n[0]+t),n=G6(n),e.r=n[0],e.g=n[1],e.b=n[2]}function J7e(e){if(!e)return;const t=H6(e),n=t[0],r=vH(t[1]),a=vH(t[2]);return e.a<255?`hsla(${n}, ${r}%, ${a}%, ${ed(e.a)})`:`hsl(${n}, ${r}%, ${a}%)`}const yH={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},xH={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function e9e(){const e={},t=Object.keys(xH),n=Object.keys(yH);let r,a,i,o,s;for(r=0;r<t.length;r++){for(o=s=t[r],a=0;a<n.length;a++)i=n[a],s=s.replace(i,yH[i]);i=parseInt(xH[o],16),e[s]=[i>>16&255,i>>8&255,i&255]}return e}let $_;function t9e(e){$_||($_=e9e(),$_.transparent=[0,0,0,0]);const t=$_[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const n9e=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function r9e(e){const t=n9e.exec(e);let n=255,r,a,i;if(t){if(t[7]!==r){const o=+t[7];n=t[8]?Tx(o):Rf(o*255,0,255)}return r=+t[1],a=+t[3],i=+t[5],r=255&(t[2]?Tx(r):Rf(r,0,255)),a=255&(t[4]?Tx(a):Rf(a,0,255)),i=255&(t[6]?Tx(i):Rf(i,0,255)),{r,g:a,b:i,a:n}}}function a9e(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${ed(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const H4=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,pg=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function i9e(e,t,n){const r=pg(ed(e.r)),a=pg(ed(e.g)),i=pg(ed(e.b));return{r:rh(H4(r+n*(pg(ed(t.r))-r))),g:rh(H4(a+n*(pg(ed(t.g))-a))),b:rh(H4(i+n*(pg(ed(t.b))-i))),a:e.a+n*(t.a-e.a)}}function B_(e,t,n){if(e){let r=H6(e);r[t]=Math.max(0,Math.min(r[t]+r[t]*n,t===0?360:1)),r=G6(r),e.r=r[0],e.g=r[1],e.b=r[2]}}function Ale(e,t){return e&&Object.assign(t||{},e)}function bH(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=rh(e[3]))):(t=Ale(e,{r:0,g:0,b:0,a:1}),t.a=rh(t.a)),t}function o9e(e){return e.charAt(0)==="r"?r9e(e):Z7e(e)}let Dle=class HM{constructor(t){if(t instanceof HM)return t;const n=typeof t;let r;n==="object"?r=bH(t):n==="string"&&(r=U7e(t)||t9e(t)||o9e(t)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var t=Ale(this._rgb);return t&&(t.a=ed(t.a)),t}set rgb(t){this._rgb=bH(t)}rgbString(){return this._valid?a9e(this._rgb):void 0}hexString(){return this._valid?V7e(this._rgb):void 0}hslString(){return this._valid?J7e(this._rgb):void 0}mix(t,n){if(t){const r=this.rgb,a=t.rgb;let i;const o=n===i?.5:n,s=2*o-1,l=r.a-a.a,u=((s*l===-1?s:(s+l)/(1+s*l))+1)/2;i=1-u,r.r=255&u*r.r+i*a.r+.5,r.g=255&u*r.g+i*a.g+.5,r.b=255&u*r.b+i*a.b+.5,r.a=o*r.a+(1-o)*a.a,this.rgb=r}return this}interpolate(t,n){return t&&(this._rgb=i9e(this._rgb,t._rgb,n)),this}clone(){return new HM(this.rgb)}alpha(t){return this._rgb.a=rh(t),this}clearer(t){const n=this._rgb;return n.a*=1-t,this}greyscale(){const t=this._rgb,n=c2(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=n,this}opaquer(t){const n=this._rgb;return n.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return B_(this._rgb,2,t),this}darken(t){return B_(this._rgb,2,-t),this}saturate(t){return B_(this._rgb,1,t),this}desaturate(t){return B_(this._rgb,1,-t),this}rotate(t){return Q7e(this._rgb,t),this}};/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Hu(){}const s9e=(()=>{let e=0;return()=>e++})();function Kn(e){return e==null}function ma(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Qn(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function La(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function vs(e,t){return La(e)?e:t}function An(e,t){return typeof e>"u"?t:e}const l9e=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:+e/t,Ole=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function Hr(e,t,n){if(e&&typeof e.call=="function")return e.apply(n,t)}function kr(e,t,n,r){let a,i,o;if(ma(e))for(i=e.length,a=0;a<i;a++)t.call(n,e[a],a);else if(Qn(e))for(o=Object.keys(e),i=o.length,a=0;a<i;a++)t.call(n,e[o[a]],o[a])}function zE(e,t){let n,r,a,i;if(!e||!t||e.length!==t.length)return!1;for(n=0,r=e.length;n<r;++n)if(a=e[n],i=t[n],a.datasetIndex!==i.datasetIndex||a.index!==i.index)return!1;return!0}function UE(e){if(ma(e))return e.map(UE);if(Qn(e)){const t=Object.create(null),n=Object.keys(e),r=n.length;let a=0;for(;a<r;++a)t[n[a]]=UE(e[n[a]]);return t}return e}function Mle(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function c9e(e,t,n,r){if(!Mle(e))return;const a=t[e],i=n[e];Qn(a)&&Qn(i)?Db(a,i,r):t[e]=UE(i)}function Db(e,t,n){const r=ma(t)?t:[t],a=r.length;if(!Qn(e))return e;n=n||{};const i=n.merger||c9e;let o;for(let s=0;s<a;++s){if(o=r[s],!Qn(o))continue;const l=Object.keys(o);for(let u=0,d=l.length;u<d;++u)i(l[u],e,o,n)}return e}function d1(e,t){return Db(e,t,{merger:u9e})}function u9e(e,t,n){if(!Mle(e))return;const r=t[e],a=n[e];Qn(r)&&Qn(a)?d1(r,a):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=UE(a))}const wH={"":e=>e,x:e=>e.x,y:e=>e.y};function d9e(e){const t=e.split("."),n=[];let r="";for(const a of t)r+=a,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function f9e(e){const t=d9e(e);return n=>{for(const r of t){if(r==="")break;n=n&&n[r]}return n}}function vh(e,t){return(wH[t]||(wH[t]=f9e(t)))(e)}function Y6(e){return e.charAt(0).toUpperCase()+e.slice(1)}const Ob=e=>typeof e<"u",yh=e=>typeof e=="function",_H=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};function h9e(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const hr=Math.PI,ia=2*hr,p9e=ia+hr,WE=Number.POSITIVE_INFINITY,m9e=hr/180,Wa=hr/2,Yh=hr/4,SH=hr*2/3,Ff=Math.log10,xu=Math.sign;function f1(e,t,n){return Math.abs(e-t)<n}function CH(e){const t=Math.round(e);e=f1(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(Ff(e))),r=e/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function g9e(e){const t=[],n=Math.sqrt(e);let r;for(r=1;r<n;r++)e%r===0&&(t.push(r),t.push(e/r));return n===(n|0)&&t.push(n),t.sort((a,i)=>a-i).pop(),t}function v9e(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function c0(e){return!v9e(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function y9e(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}function Ile(e,t,n){let r,a,i;for(r=0,a=e.length;r<a;r++)i=e[r][n],isNaN(i)||(t.min=Math.min(t.min,i),t.max=Math.max(t.max,i))}function uc(e){return e*(hr/180)}function K6(e){return e*(180/hr)}function EH(e){if(!La(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function Rle(e,t){const n=t.x-e.x,r=t.y-e.y,a=Math.sqrt(n*n+r*r);let i=Math.atan2(r,n);return i<-.5*hr&&(i+=ia),{angle:i,distance:a}}function qM(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function x9e(e,t){return(e-t+p9e)%ia-hr}function fo(e){return(e%ia+ia)%ia}function Mb(e,t,n,r){const a=fo(e),i=fo(t),o=fo(n),s=fo(i-a),l=fo(o-a),u=fo(a-i),d=fo(a-o);return a===i||a===o||r&&i===o||s>l&&u<d}function Ni(e,t,n){return Math.max(t,Math.min(n,e))}function b9e(e){return Ni(e,-32768,32767)}function od(e,t,n,r=1e-6){return e>=Math.min(t,n)-r&&e<=Math.max(t,n)+r}function X6(e,t,n){n=n||(o=>e[o]<t);let r=e.length-1,a=0,i;for(;r-a>1;)i=a+r>>1,n(i)?a=i:r=i;return{lo:a,hi:r}}const sd=(e,t,n,r)=>X6(e,n,r?a=>{const i=e[a][t];return i<n||i===n&&e[a+1][t]===n}:a=>e[a][t]<n),w9e=(e,t,n)=>X6(e,n,r=>e[r][t]>=n);function _9e(e,t,n){let r=0,a=e.length;for(;r<a&&e[r]<t;)r++;for(;a>r&&e[a-1]>n;)a--;return r>0||a<e.length?e.slice(r,a):e}const Fle=["push","pop","shift","splice","unshift"];function S9e(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),Fle.forEach(n=>{const r="_onData"+Y6(n),a=e[n];Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value(...i){const o=a.apply(this,i);return e._chartjs.listeners.forEach(s=>{typeof s[r]=="function"&&s[r](...i)}),o}})})}function NH(e,t){const n=e._chartjs;if(!n)return;const r=n.listeners,a=r.indexOf(t);a!==-1&&r.splice(a,1),!(r.length>0)&&(Fle.forEach(i=>{delete e[i]}),delete e._chartjs)}function Lle(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const $le=function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame}();function Ble(e,t){let n=[],r=!1;return function(...a){n=a,r||(r=!0,$le.call(window,()=>{r=!1,e.apply(t,n)}))}}function C9e(e,t){let n;return function(...r){return t?(clearTimeout(n),n=setTimeout(e,t,r)):e.apply(this,r),t}}const Z6=e=>e==="start"?"left":e==="end"?"right":"center",so=(e,t,n)=>e==="start"?t:e==="end"?n:(t+n)/2,E9e=(e,t,n,r)=>e===(r?"left":"right")?n:e==="center"?(t+n)/2:t;function zle(e,t,n){const r=t.length;let a=0,i=r;if(e._sorted){const{iScale:o,vScale:s,_parsed:l}=e,u=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,d=o.axis,{min:f,max:h,minDefined:p,maxDefined:m}=o.getUserBounds();if(p){if(a=Math.min(sd(l,d,f).lo,n?r:sd(t,d,o.getPixelForValue(f)).lo),u){const g=l.slice(0,a+1).reverse().findIndex(y=>!Kn(y[s.axis]));a-=Math.max(0,g)}a=Ni(a,0,r-1)}if(m){let g=Math.max(sd(l,o.axis,h,!0).hi+1,n?0:sd(t,d,o.getPixelForValue(h),!0).hi+1);if(u){const y=l.slice(g-1).findIndex(x=>!Kn(x[s.axis]));g+=Math.max(0,y)}i=Ni(g,a,r)-a}else i=r-a}return{start:a,count:i}}function Ule(e){const{xScale:t,yScale:n,_scaleRanges:r}=e,a={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!r)return e._scaleRanges=a,!0;const i=r.xmin!==t.min||r.xmax!==t.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,a),i}const z_=e=>e===0||e===1,kH=(e,t,n)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*ia/n)),jH=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*ia/n)+1,h1={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*Wa)+1,easeOutSine:e=>Math.sin(e*Wa),easeInOutSine:e=>-.5*(Math.cos(hr*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>z_(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>z_(e)?e:kH(e,.075,.3),easeOutElastic:e=>z_(e)?e:jH(e,.075,.3),easeInOutElastic(e){return z_(e)?e:e<.5?.5*kH(e*2,.1125,.45):.5+.5*jH(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-h1.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?h1.easeInBounce(e*2)*.5:h1.easeOutBounce(e*2-1)*.5+.5};function Q6(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function TH(e){return Q6(e)?e:new Dle(e)}function q4(e){return Q6(e)?e:new Dle(e).saturate(.5).darken(.1).hexString()}const N9e=["x","y","borderWidth","radius","tension"],k9e=["color","borderColor","backgroundColor"];function j9e(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:k9e},numbers:{type:"number",properties:N9e}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function T9e(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const PH=new Map;function P9e(e,t){t=t||{};const n=e+JSON.stringify(t);let r=PH.get(n);return r||(r=new Intl.NumberFormat(e,t),PH.set(n,r)),r}function u2(e,t,n){return P9e(t,n).format(e)}const Wle={values(e){return ma(e)?e:""+e},numeric(e,t,n){if(e===0)return"0";const r=this.chart.options.locale;let a,i=e;if(n.length>1){const u=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(u<1e-4||u>1e15)&&(a="scientific"),i=A9e(e,n)}const o=Ff(Math.abs(i)),s=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:a,minimumFractionDigits:s,maximumFractionDigits:s};return Object.assign(l,this.options.ticks.format),u2(e,r,l)},logarithmic(e,t,n){if(e===0)return"0";const r=n[t].significand||e/Math.pow(10,Math.floor(Ff(e)));return[1,2,3,5,10,15].includes(r)||t>.8*n.length?Wle.numeric.call(this,e,t,n):""}};function A9e(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e)),n}var yT={formatters:Wle};function D9e(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,n)=>n.lineWidth,tickColor:(t,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:yT.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const xm=Object.create(null),GM=Object.create(null);function p1(e,t){if(!t)return e;const n=t.split(".");for(let r=0,a=n.length;r<a;++r){const i=n[r];e=e[i]||(e[i]=Object.create(null))}return e}function G4(e,t,n){return typeof t=="string"?Db(p1(e,t),n):Db(p1(e,""),t)}class O9e{constructor(t,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,a)=>q4(a.backgroundColor),this.hoverBorderColor=(r,a)=>q4(a.borderColor),this.hoverColor=(r,a)=>q4(a.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(n)}set(t,n){return G4(this,t,n)}get(t){return p1(this,t)}describe(t,n){return G4(GM,t,n)}override(t,n){return G4(xm,t,n)}route(t,n,r,a){const i=p1(this,t),o=p1(this,r),s="_"+n;Object.defineProperties(i,{[s]:{value:i[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[s],u=o[a];return Qn(l)?Object.assign({},u,l):An(l,u)},set(l){this[s]=l}}})}apply(t){t.forEach(n=>n(this))}}var va=new O9e({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[j9e,T9e,D9e]);function M9e(e){return!e||Kn(e.size)||Kn(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function VE(e,t,n,r,a){let i=t[a];return i||(i=t[a]=e.measureText(a).width,n.push(a)),i>r&&(r=i),r}function I9e(e,t,n,r){r=r||{};let a=r.data=r.data||{},i=r.garbageCollect=r.garbageCollect||[];r.font!==t&&(a=r.data={},i=r.garbageCollect=[],r.font=t),e.save(),e.font=t;let o=0;const s=n.length;let l,u,d,f,h;for(l=0;l<s;l++)if(f=n[l],f!=null&&!ma(f))o=VE(e,a,i,o,f);else if(ma(f))for(u=0,d=f.length;u<d;u++)h=f[u],h!=null&&!ma(h)&&(o=VE(e,a,i,o,h));e.restore();const p=i.length/2;if(p>n.length){for(l=0;l<p;l++)delete a[i[l]];i.splice(0,p)}return o}function Kh(e,t,n){const r=e.currentDevicePixelRatio,a=n!==0?Math.max(n/2,.5):0;return Math.round((t-a)*r)/r+a}function AH(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function YM(e,t,n,r){Vle(e,t,n,r,null)}function Vle(e,t,n,r,a){let i,o,s,l,u,d,f,h;const p=t.pointStyle,m=t.rotation,g=t.radius;let y=(m||0)*m9e;if(p&&typeof p=="object"&&(i=p.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){e.save(),e.translate(n,r),e.rotate(y),e.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),e.restore();return}if(!(isNaN(g)||g<=0)){switch(e.beginPath(),p){default:a?e.ellipse(n,r,a/2,g,0,0,ia):e.arc(n,r,g,0,ia),e.closePath();break;case"triangle":d=a?a/2:g,e.moveTo(n+Math.sin(y)*d,r-Math.cos(y)*g),y+=SH,e.lineTo(n+Math.sin(y)*d,r-Math.cos(y)*g),y+=SH,e.lineTo(n+Math.sin(y)*d,r-Math.cos(y)*g),e.closePath();break;case"rectRounded":u=g*.516,l=g-u,o=Math.cos(y+Yh)*l,f=Math.cos(y+Yh)*(a?a/2-u:l),s=Math.sin(y+Yh)*l,h=Math.sin(y+Yh)*(a?a/2-u:l),e.arc(n-f,r-s,u,y-hr,y-Wa),e.arc(n+h,r-o,u,y-Wa,y),e.arc(n+f,r+s,u,y,y+Wa),e.arc(n-h,r+o,u,y+Wa,y+hr),e.closePath();break;case"rect":if(!m){l=Math.SQRT1_2*g,d=a?a/2:l,e.rect(n-d,r-l,2*d,2*l);break}y+=Yh;case"rectRot":f=Math.cos(y)*(a?a/2:g),o=Math.cos(y)*g,s=Math.sin(y)*g,h=Math.sin(y)*(a?a/2:g),e.moveTo(n-f,r-s),e.lineTo(n+h,r-o),e.lineTo(n+f,r+s),e.lineTo(n-h,r+o),e.closePath();break;case"crossRot":y+=Yh;case"cross":f=Math.cos(y)*(a?a/2:g),o=Math.cos(y)*g,s=Math.sin(y)*g,h=Math.sin(y)*(a?a/2:g),e.moveTo(n-f,r-s),e.lineTo(n+f,r+s),e.moveTo(n+h,r-o),e.lineTo(n-h,r+o);break;case"star":f=Math.cos(y)*(a?a/2:g),o=Math.cos(y)*g,s=Math.sin(y)*g,h=Math.sin(y)*(a?a/2:g),e.moveTo(n-f,r-s),e.lineTo(n+f,r+s),e.moveTo(n+h,r-o),e.lineTo(n-h,r+o),y+=Yh,f=Math.cos(y)*(a?a/2:g),o=Math.cos(y)*g,s=Math.sin(y)*g,h=Math.sin(y)*(a?a/2:g),e.moveTo(n-f,r-s),e.lineTo(n+f,r+s),e.moveTo(n+h,r-o),e.lineTo(n-h,r+o);break;case"line":o=a?a/2:Math.cos(y)*g,s=Math.sin(y)*g,e.moveTo(n-o,r-s),e.lineTo(n+o,r+s);break;case"dash":e.moveTo(n,r),e.lineTo(n+Math.cos(y)*(a?a/2:g),r+Math.sin(y)*g);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function ld(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function xT(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function bT(e){e.restore()}function R9e(e,t,n,r,a){if(!t)return e.lineTo(n.x,n.y);if(a==="middle"){const i=(t.x+n.x)/2;e.lineTo(i,t.y),e.lineTo(i,n.y)}else a==="after"!=!!r?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function F9e(e,t,n,r){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(r?t.cp1x:t.cp2x,r?t.cp1y:t.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function L9e(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),Kn(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function $9e(e,t,n,r,a){if(a.strikethrough||a.underline){const i=e.measureText(r),o=t-i.actualBoundingBoxLeft,s=t+i.actualBoundingBoxRight,l=n-i.actualBoundingBoxAscent,u=n+i.actualBoundingBoxDescent,d=a.strikethrough?(l+u)/2:u;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=a.decorationWidth||2,e.moveTo(o,d),e.lineTo(s,d),e.stroke()}}function B9e(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function bm(e,t,n,r,a,i={}){const o=ma(t)?t:[t],s=i.strokeWidth>0&&i.strokeColor!=="";let l,u;for(e.save(),e.font=a.string,L9e(e,i),l=0;l<o.length;++l)u=o[l],i.backdrop&&B9e(e,i.backdrop),s&&(i.strokeColor&&(e.strokeStyle=i.strokeColor),Kn(i.strokeWidth)||(e.lineWidth=i.strokeWidth),e.strokeText(u,n,r,i.maxWidth)),e.fillText(u,n,r,i.maxWidth),$9e(e,n,r,u,i),r+=Number(a.lineHeight);e.restore()}function Ib(e,t){const{x:n,y:r,w:a,h:i,radius:o}=t;e.arc(n+o.topLeft,r+o.topLeft,o.topLeft,1.5*hr,hr,!0),e.lineTo(n,r+i-o.bottomLeft),e.arc(n+o.bottomLeft,r+i-o.bottomLeft,o.bottomLeft,hr,Wa,!0),e.lineTo(n+a-o.bottomRight,r+i),e.arc(n+a-o.bottomRight,r+i-o.bottomRight,o.bottomRight,Wa,0,!0),e.lineTo(n+a,r+o.topRight),e.arc(n+a-o.topRight,r+o.topRight,o.topRight,0,-Wa,!0),e.lineTo(n+o.topLeft,r)}const z9e=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,U9e=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function W9e(e,t){const n=(""+e).match(z9e);if(!n||n[1]==="normal")return t*1.2;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100;break}return t*e}const V9e=e=>+e||0;function J6(e,t){const n={},r=Qn(t),a=r?Object.keys(t):t,i=Qn(e)?r?o=>An(e[o],e[t[o]]):o=>e[o]:()=>e;for(const o of a)n[o]=V9e(i(o));return n}function Hle(e){return J6(e,{top:"y",right:"x",bottom:"y",left:"x"})}function Xp(e){return J6(e,["topLeft","topRight","bottomLeft","bottomRight"])}function To(e){const t=Hle(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function di(e,t){e=e||{},t=t||va.font;let n=An(e.size,t.size);typeof n=="string"&&(n=parseInt(n,10));let r=An(e.style,t.style);r&&!(""+r).match(U9e)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const a={family:An(e.family,t.family),lineHeight:W9e(An(e.lineHeight,t.lineHeight),n),size:n,style:r,weight:An(e.weight,t.weight),string:""};return a.string=M9e(a),a}function Px(e,t,n,r){let a,i,o;for(a=0,i=e.length;a<i;++a)if(o=e[a],o!==void 0&&o!==void 0)return o}function H9e(e,t,n){const{min:r,max:a}=e,i=Ole(t,(a-r)/2),o=(s,l)=>n&&s===0?0:s+l;return{min:o(r,-Math.abs(i)),max:o(a,i)}}function Mh(e,t){return Object.assign(Object.create(e),t)}function e$(e,t=[""],n,r,a=()=>e[0]){const i=n||e;typeof r>"u"&&(r=Kle("_fallback",e));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:i,_fallback:r,_getTarget:a,override:s=>e$([s,...e],t,i,r)};return new Proxy(o,{deleteProperty(s,l){return delete s[l],delete s._keys,delete e[0][l],!0},get(s,l){return Gle(s,l,()=>J9e(l,t,e,s))},getOwnPropertyDescriptor(s,l){return Reflect.getOwnPropertyDescriptor(s._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(s,l){return OH(s).includes(l)},ownKeys(s){return OH(s)},set(s,l,u){const d=s._storage||(s._storage=a());return s[l]=d[l]=u,delete s._keys,!0}})}function u0(e,t,n,r){const a={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:qle(e,r),setContext:i=>u0(e,i,n,r),override:i=>u0(e.override(i),t,n,r)};return new Proxy(a,{deleteProperty(i,o){return delete i[o],delete e[o],!0},get(i,o,s){return Gle(i,o,()=>G9e(i,o,s))},getOwnPropertyDescriptor(i,o){return i._descriptors.allKeys?Reflect.has(e,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,o)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(i,o){return Reflect.has(e,o)},ownKeys(){return Reflect.ownKeys(e)},set(i,o,s){return e[o]=s,delete i[o],!0}})}function qle(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:r=t.indexable,_allKeys:a=t.allKeys}=e;return{allKeys:a,scriptable:n,indexable:r,isScriptable:yh(n)?n:()=>n,isIndexable:yh(r)?r:()=>r}}const q9e=(e,t)=>e?e+Y6(t):t,t$=(e,t)=>Qn(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function Gle(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const r=n();return e[t]=r,r}function G9e(e,t,n){const{_proxy:r,_context:a,_subProxy:i,_descriptors:o}=e;let s=r[t];return yh(s)&&o.isScriptable(t)&&(s=Y9e(t,s,e,n)),ma(s)&&s.length&&(s=K9e(t,s,e,o.isIndexable)),t$(t,s)&&(s=u0(s,a,i&&i[t],o)),s}function Y9e(e,t,n,r){const{_proxy:a,_context:i,_subProxy:o,_stack:s}=n;if(s.has(e))throw new Error("Recursion detected: "+Array.from(s).join("->")+"->"+e);s.add(e);let l=t(i,o||r);return s.delete(e),t$(e,l)&&(l=n$(a._scopes,a,e,l)),l}function K9e(e,t,n,r){const{_proxy:a,_context:i,_subProxy:o,_descriptors:s}=n;if(typeof i.index<"u"&&r(e))return t[i.index%t.length];if(Qn(t[0])){const l=t,u=a._scopes.filter(d=>d!==l);t=[];for(const d of l){const f=n$(u,a,e,d);t.push(u0(f,i,o&&o[e],s))}}return t}function Yle(e,t,n){return yh(e)?e(t,n):e}const X9e=(e,t)=>e===!0?t:typeof e=="string"?vh(t,e):void 0;function Z9e(e,t,n,r,a){for(const i of t){const o=X9e(n,i);if(o){e.add(o);const s=Yle(o._fallback,n,a);if(typeof s<"u"&&s!==n&&s!==r)return s}else if(o===!1&&typeof r<"u"&&n!==r)return null}return!1}function n$(e,t,n,r){const a=t._rootScopes,i=Yle(t._fallback,n,r),o=[...e,...a],s=new Set;s.add(r);let l=DH(s,o,n,i||n,r);return l===null||typeof i<"u"&&i!==n&&(l=DH(s,o,i,l,r),l===null)?!1:e$(Array.from(s),[""],a,i,()=>Q9e(t,n,r))}function DH(e,t,n,r,a){for(;n;)n=Z9e(e,t,n,r,a);return n}function Q9e(e,t,n){const r=e._getTarget();t in r||(r[t]={});const a=r[t];return ma(a)&&Qn(n)?n:a||{}}function J9e(e,t,n,r){let a;for(const i of t)if(a=Kle(q9e(i,e),n),typeof a<"u")return t$(e,a)?n$(n,r,e,a):a}function Kle(e,t){for(const n of t){if(!n)continue;const r=n[e];if(typeof r<"u")return r}}function OH(e){let t=e._keys;return t||(t=e._keys=eze(e._scopes)),t}function eze(e){const t=new Set;for(const n of e)for(const r of Object.keys(n).filter(a=>!a.startsWith("_")))t.add(r);return Array.from(t)}function Xle(e,t,n,r){const{iScale:a}=e,{key:i="r"}=this._parsing,o=new Array(r);let s,l,u,d;for(s=0,l=r;s<l;++s)u=s+n,d=t[u],o[s]={r:a.parse(vh(d,i),u)};return o}const tze=Number.EPSILON||1e-14,d0=(e,t)=>t<e.length&&!e[t].skip&&e[t],Zle=e=>e==="x"?"y":"x";function nze(e,t,n,r){const a=e.skip?t:e,i=t,o=n.skip?t:n,s=qM(i,a),l=qM(o,i);let u=s/(s+l),d=l/(s+l);u=isNaN(u)?0:u,d=isNaN(d)?0:d;const f=r*u,h=r*d;return{previous:{x:i.x-f*(o.x-a.x),y:i.y-f*(o.y-a.y)},next:{x:i.x+h*(o.x-a.x),y:i.y+h*(o.y-a.y)}}}function rze(e,t,n){const r=e.length;let a,i,o,s,l,u=d0(e,0);for(let d=0;d<r-1;++d)if(l=u,u=d0(e,d+1),!(!l||!u)){if(f1(t[d],0,tze)){n[d]=n[d+1]=0;continue}a=n[d]/t[d],i=n[d+1]/t[d],s=Math.pow(a,2)+Math.pow(i,2),!(s<=9)&&(o=3/Math.sqrt(s),n[d]=a*o*t[d],n[d+1]=i*o*t[d])}}function aze(e,t,n="x"){const r=Zle(n),a=e.length;let i,o,s,l=d0(e,0);for(let u=0;u<a;++u){if(o=s,s=l,l=d0(e,u+1),!s)continue;const d=s[n],f=s[r];o&&(i=(d-o[n])/3,s[`cp1${n}`]=d-i,s[`cp1${r}`]=f-i*t[u]),l&&(i=(l[n]-d)/3,s[`cp2${n}`]=d+i,s[`cp2${r}`]=f+i*t[u])}}function ize(e,t="x"){const n=Zle(t),r=e.length,a=Array(r).fill(0),i=Array(r);let o,s,l,u=d0(e,0);for(o=0;o<r;++o)if(s=l,l=u,u=d0(e,o+1),!!l){if(u){const d=u[t]-l[t];a[o]=d!==0?(u[n]-l[n])/d:0}i[o]=s?u?xu(a[o-1])!==xu(a[o])?0:(a[o-1]+a[o])/2:a[o-1]:a[o]}rze(e,a,i),aze(e,i,t)}function U_(e,t,n){return Math.max(Math.min(e,n),t)}function oze(e,t){let n,r,a,i,o,s=ld(e[0],t);for(n=0,r=e.length;n<r;++n)o=i,i=s,s=n<r-1&&ld(e[n+1],t),i&&(a=e[n],o&&(a.cp1x=U_(a.cp1x,t.left,t.right),a.cp1y=U_(a.cp1y,t.top,t.bottom)),s&&(a.cp2x=U_(a.cp2x,t.left,t.right),a.cp2y=U_(a.cp2y,t.top,t.bottom)))}function sze(e,t,n,r,a){let i,o,s,l;if(t.spanGaps&&(e=e.filter(u=>!u.skip)),t.cubicInterpolationMode==="monotone")ize(e,a);else{let u=r?e[e.length-1]:e[0];for(i=0,o=e.length;i<o;++i)s=e[i],l=nze(u,s,e[Math.min(i+1,o-(r?0:1))%o],t.tension),s.cp1x=l.previous.x,s.cp1y=l.previous.y,s.cp2x=l.next.x,s.cp2y=l.next.y,u=s}t.capBezierPoints&&oze(e,n)}function r$(){return typeof window<"u"&&typeof document<"u"}function a$(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function HE(e,t,n){let r;return typeof e=="string"?(r=parseInt(e,10),e.indexOf("%")!==-1&&(r=r/100*t.parentNode[n])):r=e,r}const wT=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function lze(e,t){return wT(e).getPropertyValue(t)}const cze=["top","right","bottom","left"];function Zp(e,t,n){const r={};n=n?"-"+n:"";for(let a=0;a<4;a++){const i=cze[a];r[i]=parseFloat(e[t+"-"+i+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const uze=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function dze(e,t){const n=e.touches,r=n&&n.length?n[0]:e,{offsetX:a,offsetY:i}=r;let o=!1,s,l;if(uze(a,i,e.target))s=a,l=i;else{const u=t.getBoundingClientRect();s=r.clientX-u.left,l=r.clientY-u.top,o=!0}return{x:s,y:l,box:o}}function cp(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:r}=t,a=wT(n),i=a.boxSizing==="border-box",o=Zp(a,"padding"),s=Zp(a,"border","width"),{x:l,y:u,box:d}=dze(e,n),f=o.left+(d&&s.left),h=o.top+(d&&s.top);let{width:p,height:m}=t;return i&&(p-=o.width+s.width,m-=o.height+s.height),{x:Math.round((l-f)/p*n.width/r),y:Math.round((u-h)/m*n.height/r)}}function fze(e,t,n){let r,a;if(t===void 0||n===void 0){const i=e&&a$(e);if(!i)t=e.clientWidth,n=e.clientHeight;else{const o=i.getBoundingClientRect(),s=wT(i),l=Zp(s,"border","width"),u=Zp(s,"padding");t=o.width-u.width-l.width,n=o.height-u.height-l.height,r=HE(s.maxWidth,i,"clientWidth"),a=HE(s.maxHeight,i,"clientHeight")}}return{width:t,height:n,maxWidth:r||WE,maxHeight:a||WE}}const W_=e=>Math.round(e*10)/10;function hze(e,t,n,r){const a=wT(e),i=Zp(a,"margin"),o=HE(a.maxWidth,e,"clientWidth")||WE,s=HE(a.maxHeight,e,"clientHeight")||WE,l=fze(e,t,n);let{width:u,height:d}=l;if(a.boxSizing==="content-box"){const h=Zp(a,"border","width"),p=Zp(a,"padding");u-=p.width+h.width,d-=p.height+h.height}return u=Math.max(0,u-i.width),d=Math.max(0,r?u/r:d-i.height),u=W_(Math.min(u,o,l.maxWidth)),d=W_(Math.min(d,s,l.maxHeight)),u&&!d&&(d=W_(u/2)),(t!==void 0||n!==void 0)&&r&&l.height&&d>l.height&&(d=l.height,u=W_(Math.floor(d*r))),{width:u,height:d}}function MH(e,t,n){const r=t||1,a=Math.floor(e.height*r),i=Math.floor(e.width*r);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const o=e.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${e.height}px`,o.style.width=`${e.width}px`),e.currentDevicePixelRatio!==r||o.height!==a||o.width!==i?(e.currentDevicePixelRatio=r,o.height=a,o.width=i,e.ctx.setTransform(r,0,0,r,0,0),!0):!1}const pze=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};r$()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e}();function IH(e,t){const n=lze(e,t),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function up(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function mze(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:r==="middle"?n<.5?e.y:t.y:r==="after"?n<1?e.y:t.y:n>0?t.y:e.y}}function gze(e,t,n,r){const a={x:e.cp2x,y:e.cp2y},i={x:t.cp1x,y:t.cp1y},o=up(e,a,n),s=up(a,i,n),l=up(i,t,n),u=up(o,s,n),d=up(s,l,n);return up(u,d,n)}const vze=function(e,t){return{x(n){return e+e+t-n},setWidth(n){t=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},yze=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function Sv(e,t,n){return e?vze(t,n):yze()}function Qle(e,t){let n,r;(t==="ltr"||t==="rtl")&&(n=e.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=r)}function Jle(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function ece(e){return e==="angle"?{between:Mb,compare:x9e,normalize:fo}:{between:od,compare:(t,n)=>t-n,normalize:t=>t}}function RH({start:e,end:t,count:n,loop:r,style:a}){return{start:e%n,end:t%n,loop:r&&(t-e+1)%n===0,style:a}}function xze(e,t,n){const{property:r,start:a,end:i}=n,{between:o,normalize:s}=ece(r),l=t.length;let{start:u,end:d,loop:f}=e,h,p;if(f){for(u+=l,d+=l,h=0,p=l;h<p&&o(s(t[u%l][r]),a,i);++h)u--,d--;u%=l,d%=l}return d<u&&(d+=l),{start:u,end:d,loop:f,style:e.style}}function tce(e,t,n){if(!n)return[e];const{property:r,start:a,end:i}=n,o=t.length,{compare:s,between:l,normalize:u}=ece(r),{start:d,end:f,loop:h,style:p}=xze(e,t,n),m=[];let g=!1,y=null,x,b,w;const _=()=>l(a,w,x)&&s(a,w)!==0,S=()=>s(i,x)===0||l(i,w,x),k=()=>g||_(),N=()=>!g||S();for(let P=d,T=d;P<=f;++P)b=t[P%o],!b.skip&&(x=u(b[r]),x!==w&&(g=l(x,a,i),y===null&&k()&&(y=s(x,a)===0?P:T),y!==null&&N()&&(m.push(RH({start:y,end:P,loop:h,count:o,style:p})),y=null),T=P,w=x));return y!==null&&m.push(RH({start:y,end:f,loop:h,count:o,style:p})),m}function nce(e,t){const n=[],r=e.segments;for(let a=0;a<r.length;a++){const i=tce(r[a],e.points,t);i.length&&n.push(...i)}return n}function bze(e,t,n,r){let a=0,i=t-1;if(n&&!r)for(;a<t&&!e[a].skip;)a++;for(;a<t&&e[a].skip;)a++;for(a%=t,n&&(i+=a);i>a&&e[i%t].skip;)i--;return i%=t,{start:a,end:i}}function wze(e,t,n,r){const a=e.length,i=[];let o=t,s=e[t],l;for(l=t+1;l<=n;++l){const u=e[l%a];u.skip||u.stop?s.skip||(r=!1,i.push({start:t%a,end:(l-1)%a,loop:r}),t=o=u.stop?l:null):(o=l,s.skip&&(t=l)),s=u}return o!==null&&i.push({start:t%a,end:o%a,loop:r}),i}function _ze(e,t){const n=e.points,r=e.options.spanGaps,a=n.length;if(!a)return[];const i=!!e._loop,{start:o,end:s}=bze(n,a,i,r);if(r===!0)return FH(e,[{start:o,end:s,loop:i}],n,t);const l=s<o?s+a:s,u=!!e._fullLoop&&o===0&&s===a-1;return FH(e,wze(n,o,l,u),n,t)}function FH(e,t,n,r){return!r||!r.setContext||!n?t:Sze(e,t,n,r)}function Sze(e,t,n,r){const a=e._chart.getContext(),i=LH(e.options),{_datasetIndex:o,options:{spanGaps:s}}=e,l=n.length,u=[];let d=i,f=t[0].start,h=f;function p(m,g,y,x){const b=s?-1:1;if(m!==g){for(m+=l;n[m%l].skip;)m-=b;for(;n[g%l].skip;)g+=b;m%l!==g%l&&(u.push({start:m%l,end:g%l,loop:y,style:x}),d=x,f=g%l)}}for(const m of t){f=s?f:m.start;let g=n[f%l],y;for(h=f+1;h<=m.end;h++){const x=n[h%l];y=LH(r.setContext(Mh(a,{type:"segment",p0:g,p1:x,p0DataIndex:(h-1)%l,p1DataIndex:h%l,datasetIndex:o}))),Cze(y,d)&&p(f,h-1,m.loop,d),g=x,d=y}f<h-1&&p(f,h-1,m.loop,d)}return u}function LH(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function Cze(e,t){if(!t)return!1;const n=[],r=function(a,i){return Q6(i)?(n.includes(i)||n.push(i),n.indexOf(i)):i};return JSON.stringify(e,r)!==JSON.stringify(t,r)}function V_(e,t,n){return e.options.clip?e[n]:t[n]}function Eze(e,t){const{xScale:n,yScale:r}=e;return n&&r?{left:V_(n,t,"left"),right:V_(n,t,"right"),top:V_(r,t,"top"),bottom:V_(r,t,"bottom")}:t}function rce(e,t){const n=t._clip;if(n.disabled)return!1;const r=Eze(t,e.chartArea);return{left:n.left===!1?0:r.left-(n.left===!0?0:n.left),right:n.right===!1?e.width:r.right+(n.right===!0?0:n.right),top:n.top===!1?0:r.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?e.height:r.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class Nze{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,n,r,a){const i=n.listeners[a],o=n.duration;i.forEach(s=>s({chart:t,initial:n.initial,numSteps:o,currentStep:Math.min(r-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=$le.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let n=0;this._charts.forEach((r,a)=>{if(!r.running||!r.items.length)return;const i=r.items;let o=i.length-1,s=!1,l;for(;o>=0;--o)l=i[o],l._active?(l._total>r.duration&&(r.duration=l._total),l.tick(t),s=!0):(i[o]=i[i.length-1],i.pop());s&&(a.draw(),this._notify(a,r,t,"progress")),i.length||(r.running=!1,this._notify(a,r,t,"complete"),r.initial=!1),n+=i.length}),this._lastDate=t,n===0&&(this._running=!1)}_getAnims(t){const n=this._charts;let r=n.get(t);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(t,r)),r}listen(t,n,r){this._getAnims(t).listeners[n].push(r)}add(t,n){!n||!n.length||this._getAnims(t).items.push(...n)}has(t){return this._getAnims(t).items.length>0}start(t){const n=this._charts.get(t);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,a)=>Math.max(r,a._duration),0),this._refresh())}running(t){if(!this._running)return!1;const n=this._charts.get(t);return!(!n||!n.running||!n.items.length)}stop(t){const n=this._charts.get(t);if(!n||!n.items.length)return;const r=n.items;let a=r.length-1;for(;a>=0;--a)r[a].cancel();n.items=[],this._notify(t,n,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Ku=new Nze;const $H="transparent",kze={boolean(e,t,n){return n>.5?t:e},color(e,t,n){const r=TH(e||$H),a=r.valid&&TH(t||$H);return a&&a.valid?a.mix(r,n).hexString():t},number(e,t,n){return e+(t-e)*n}};class jze{constructor(t,n,r,a){const i=n[r];a=Px([t.to,a,i,t.from]);const o=Px([t.from,i,a]);this._active=!0,this._fn=t.fn||kze[t.type||typeof o],this._easing=h1[t.easing]||h1.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=r,this._from=o,this._to=a,this._promises=void 0}active(){return this._active}update(t,n,r){if(this._active){this._notify(!1);const a=this._target[this._prop],i=r-this._start,o=this._duration-i;this._start=r,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=i,this._loop=!!t.loop,this._to=Px([t.to,n,a,t.from]),this._from=Px([t.from,a,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const n=t-this._start,r=this._duration,a=this._prop,i=this._from,o=this._loop,s=this._to;let l;if(this._active=i!==s&&(o||n<r),!this._active){this._target[a]=s,this._notify(!0);return}if(n<0){this._target[a]=i;return}l=n/r%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[a]=this._fn(i,s,l)}wait(){const t=this._promises||(this._promises=[]);return new Promise((n,r)=>{t.push({res:n,rej:r})})}_notify(t){const n=t?"res":"rej",r=this._promises||[];for(let a=0;a<r.length;a++)r[a][n]()}}class ace{constructor(t,n){this._chart=t,this._properties=new Map,this.configure(n)}configure(t){if(!Qn(t))return;const n=Object.keys(va.animation),r=this._properties;Object.getOwnPropertyNames(t).forEach(a=>{const i=t[a];if(!Qn(i))return;const o={};for(const s of n)o[s]=i[s];(ma(i.properties)&&i.properties||[a]).forEach(s=>{(s===a||!r.has(s))&&r.set(s,o)})})}_animateOptions(t,n){const r=n.options,a=Pze(t,r);if(!a)return[];const i=this._createAnimations(a,r);return r.$shared&&Tze(t.options.$animations,r).then(()=>{t.options=r},()=>{}),i}_createAnimations(t,n){const r=this._properties,a=[],i=t.$animations||(t.$animations={}),o=Object.keys(n),s=Date.now();let l;for(l=o.length-1;l>=0;--l){const u=o[l];if(u.charAt(0)==="$")continue;if(u==="options"){a.push(...this._animateOptions(t,n));continue}const d=n[u];let f=i[u];const h=r.get(u);if(f)if(h&&f.active()){f.update(h,d,s);continue}else f.cancel();if(!h||!h.duration){t[u]=d;continue}i[u]=f=new jze(h,t,u,d),a.push(f)}return a}update(t,n){if(this._properties.size===0){Object.assign(t,n);return}const r=this._createAnimations(t,n);if(r.length)return Ku.add(this._chart,r),!0}}function Tze(e,t){const n=[],r=Object.keys(t);for(let a=0;a<r.length;a++){const i=e[r[a]];i&&i.active()&&n.push(i.wait())}return Promise.all(n)}function Pze(e,t){if(!t)return;let n=e.options;if(!n){e.options=t;return}return n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function BH(e,t){const n=e&&e.options||{},r=n.reverse,a=n.min===void 0?t:0,i=n.max===void 0?t:0;return{start:r?i:a,end:r?a:i}}function Aze(e,t,n){if(n===!1)return!1;const r=BH(e,n),a=BH(t,n);return{top:a.end,right:r.end,bottom:a.start,left:r.start}}function Dze(e){let t,n,r,a;return Qn(e)?(t=e.top,n=e.right,r=e.bottom,a=e.left):t=n=r=a=e,{top:t,right:n,bottom:r,left:a,disabled:e===!1}}function ice(e,t){const n=[],r=e._getSortedDatasetMetas(t);let a,i;for(a=0,i=r.length;a<i;++a)n.push(r[a].index);return n}function zH(e,t,n,r={}){const a=e.keys,i=r.mode==="single";let o,s,l,u;if(t===null)return;let d=!1;for(o=0,s=a.length;o<s;++o){if(l=+a[o],l===n){if(d=!0,r.all)continue;break}u=e.values[l],La(u)&&(i||t===0||xu(t)===xu(u))&&(t+=u)}return!d&&!r.all?0:t}function Oze(e,t){const{iScale:n,vScale:r}=t,a=n.axis==="x"?"x":"y",i=r.axis==="x"?"x":"y",o=Object.keys(e),s=new Array(o.length);let l,u,d;for(l=0,u=o.length;l<u;++l)d=o[l],s[l]={[a]:d,[i]:e[d]};return s}function Y4(e,t){const n=e&&e.options.stacked;return n||n===void 0&&t.stack!==void 0}function Mze(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}function Ize(e){const{min:t,max:n,minDefined:r,maxDefined:a}=e.getUserBounds();return{min:r?t:Number.NEGATIVE_INFINITY,max:a?n:Number.POSITIVE_INFINITY}}function Rze(e,t,n){const r=e[t]||(e[t]={});return r[n]||(r[n]={})}function UH(e,t,n,r){for(const a of t.getMatchingVisibleMetas(r).reverse()){const i=e[a.index];if(n&&i>0||!n&&i<0)return a.index}return null}function WH(e,t){const{chart:n,_cachedMeta:r}=e,a=n._stacks||(n._stacks={}),{iScale:i,vScale:o,index:s}=r,l=i.axis,u=o.axis,d=Mze(i,o,r),f=t.length;let h;for(let p=0;p<f;++p){const m=t[p],{[l]:g,[u]:y}=m,x=m._stacks||(m._stacks={});h=x[u]=Rze(a,d,g),h[s]=y,h._top=UH(h,o,!0,r.type),h._bottom=UH(h,o,!1,r.type);const b=h._visualValues||(h._visualValues={});b[s]=y}}function K4(e,t){const n=e.scales;return Object.keys(n).filter(r=>n[r].axis===t).shift()}function Fze(e,t){return Mh(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function Lze(e,t,n){return Mh(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}function Qy(e,t){const n=e.controller.index,r=e.vScale&&e.vScale.axis;if(r){t=t||e._parsed;for(const a of t){const i=a._stacks;if(!i||i[r]===void 0||i[r][n]===void 0)return;delete i[r][n],i[r]._visualValues!==void 0&&i[r]._visualValues[n]!==void 0&&delete i[r]._visualValues[n]}}}const X4=e=>e==="reset"||e==="none",VH=(e,t)=>t?e:Object.assign({},e),$ze=(e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:ice(n,!0),values:null};class gc{constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Y4(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Qy(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,n=this._cachedMeta,r=this.getDataset(),a=(f,h,p,m)=>f==="x"?h:f==="r"?m:p,i=n.xAxisID=An(r.xAxisID,K4(t,"x")),o=n.yAxisID=An(r.yAxisID,K4(t,"y")),s=n.rAxisID=An(r.rAxisID,K4(t,"r")),l=n.indexAxis,u=n.iAxisID=a(l,i,o,s),d=n.vAxisID=a(l,o,i,s);n.xScale=this.getScaleForId(i),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(s),n.iScale=this.getScaleForId(u),n.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&NH(this._data,this),t._stacked&&Qy(t)}_dataCheck(){const t=this.getDataset(),n=t.data||(t.data=[]),r=this._data;if(Qn(n)){const a=this._cachedMeta;this._data=Oze(n,a)}else if(r!==n){if(r){NH(r,this);const a=this._cachedMeta;Qy(a),a._parsed=[]}n&&Object.isExtensible(n)&&S9e(n,this),this._syncList=[],this._data=n}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const n=this._cachedMeta,r=this.getDataset();let a=!1;this._dataCheck();const i=n._stacked;n._stacked=Y4(n.vScale,n),n.stack!==r.stack&&(a=!0,Qy(n),n.stack=r.stack),this._resyncElements(t),(a||i!==n._stacked)&&(WH(this,n._parsed),n._stacked=Y4(n.vScale,n))}configure(){const t=this.chart.config,n=t.datasetScopeKeys(this._type),r=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){const{_cachedMeta:r,_data:a}=this,{iScale:i,_stacked:o}=r,s=i.axis;let l=t===0&&n===a.length?!0:r._sorted,u=t>0&&r._parsed[t-1],d,f,h;if(this._parsing===!1)r._parsed=a,r._sorted=!0,h=a;else{ma(a[t])?h=this.parseArrayData(r,a,t,n):Qn(a[t])?h=this.parseObjectData(r,a,t,n):h=this.parsePrimitiveData(r,a,t,n);const p=()=>f[s]===null||u&&f[s]<u[s];for(d=0;d<n;++d)r._parsed[d+t]=f=h[d],l&&(p()&&(l=!1),u=f);r._sorted=l}o&&WH(this,h)}parsePrimitiveData(t,n,r,a){const{iScale:i,vScale:o}=t,s=i.axis,l=o.axis,u=i.getLabels(),d=i===o,f=new Array(a);let h,p,m;for(h=0,p=a;h<p;++h)m=h+r,f[h]={[s]:d||i.parse(u[m],m),[l]:o.parse(n[m],m)};return f}parseArrayData(t,n,r,a){const{xScale:i,yScale:o}=t,s=new Array(a);let l,u,d,f;for(l=0,u=a;l<u;++l)d=l+r,f=n[d],s[l]={x:i.parse(f[0],d),y:o.parse(f[1],d)};return s}parseObjectData(t,n,r,a){const{xScale:i,yScale:o}=t,{xAxisKey:s="x",yAxisKey:l="y"}=this._parsing,u=new Array(a);let d,f,h,p;for(d=0,f=a;d<f;++d)h=d+r,p=n[h],u[d]={x:i.parse(vh(p,s),h),y:o.parse(vh(p,l),h)};return u}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,r){const a=this.chart,i=this._cachedMeta,o=n[t.axis],s={keys:ice(a,!0),values:n._stacks[t.axis]._visualValues};return zH(s,o,i.index,{mode:r})}updateRangeFromParsed(t,n,r,a){const i=r[n.axis];let o=i===null?NaN:i;const s=a&&r._stacks[n.axis];a&&s&&(a.values=s,o=zH(a,i,this._cachedMeta.index)),t.min=Math.min(t.min,o),t.max=Math.max(t.max,o)}getMinMax(t,n){const r=this._cachedMeta,a=r._parsed,i=r._sorted&&t===r.iScale,o=a.length,s=this._getOtherScale(t),l=$ze(n,r,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:f}=Ize(s);let h,p;function m(){p=a[h];const g=p[s.axis];return!La(p[t.axis])||d>g||f<g}for(h=0;h<o&&!(!m()&&(this.updateRangeFromParsed(u,t,p,l),i));++h);if(i){for(h=o-1;h>=0;--h)if(!m()){this.updateRangeFromParsed(u,t,p,l);break}}return u}getAllParsedValues(t){const n=this._cachedMeta._parsed,r=[];let a,i,o;for(a=0,i=n.length;a<i;++a)o=n[a][t.axis],La(o)&&r.push(o);return r}getMaxOverflow(){return!1}getLabelAndValue(t){const n=this._cachedMeta,r=n.iScale,a=n.vScale,i=this.getParsed(t);return{label:r?""+r.getLabelForValue(i[r.axis]):"",value:a?""+a.getLabelForValue(i[a.axis]):""}}_update(t){const n=this._cachedMeta;this.update(t||"default"),n._clip=Dze(An(this.options.clip,Aze(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,n=this.chart,r=this._cachedMeta,a=r.data||[],i=n.chartArea,o=[],s=this._drawStart||0,l=this._drawCount||a.length-s,u=this.options.drawActiveElementsOnTop;let d;for(r.dataset&&r.dataset.draw(t,i,s,l),d=s;d<s+l;++d){const f=a[d];f.hidden||(f.active&&u?o.push(f):f.draw(t,i))}for(d=0;d<o.length;++d)o[d].draw(t,i)}getStyle(t,n){const r=n?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(t||0,r)}getContext(t,n,r){const a=this.getDataset();let i;if(t>=0&&t<this._cachedMeta.data.length){const o=this._cachedMeta.data[t];i=o.$context||(o.$context=Lze(this.getContext(),t,o)),i.parsed=this.getParsed(t),i.raw=a.data[t],i.index=i.dataIndex=t}else i=this.$context||(this.$context=Fze(this.chart.getContext(),this.index)),i.dataset=a,i.index=i.datasetIndex=this.index;return i.active=!!n,i.mode=r,i}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",r){const a=n==="active",i=this._cachedDataOpts,o=t+"-"+n,s=i[o],l=this.enableOptionSharing&&Ob(r);if(s)return VH(s,l);const u=this.chart.config,d=u.datasetElementScopeKeys(this._type,t),f=a?[`${t}Hover`,"hover",t,""]:[t,""],h=u.getOptionScopes(this.getDataset(),d),p=Object.keys(va.elements[t]),m=()=>this.getContext(r,a,n),g=u.resolveNamedOptions(h,p,m,f);return g.$shared&&(g.$shared=l,i[o]=Object.freeze(VH(g,l))),g}_resolveAnimations(t,n,r){const a=this.chart,i=this._cachedDataOpts,o=`animation-${n}`,s=i[o];if(s)return s;let l;if(a.options.animation!==!1){const d=this.chart.config,f=d.datasetAnimationScopeKeys(this._type,n),h=d.getOptionScopes(this.getDataset(),f);l=d.createResolver(h,this.getContext(t,r,n))}const u=new ace(a,l&&l.animations);return l&&l._cacheable&&(i[o]=Object.freeze(u)),u}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||X4(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){const r=this.resolveDataElementOptions(t,n),a=this._sharedOptions,i=this.getSharedOptions(r),o=this.includeOptions(n,i)||i!==a;return this.updateSharedOptions(i,n,r),{sharedOptions:i,includeOptions:o}}updateElement(t,n,r,a){X4(a)?Object.assign(t,r):this._resolveAnimations(n,a).update(t,r)}updateSharedOptions(t,n,r){t&&!X4(n)&&this._resolveAnimations(void 0,n).update(t,r)}_setStyle(t,n,r,a){t.active=a;const i=this.getStyle(n,a);this._resolveAnimations(n,r,a).update(t,{options:!a&&this.getSharedOptions(i)||i})}removeHoverStyle(t,n,r){this._setStyle(t,r,"active",!1)}setHoverStyle(t,n,r){this._setStyle(t,r,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const n=this._data,r=this._cachedMeta.data;for(const[s,l,u]of this._syncList)this[s](l,u);this._syncList=[];const a=r.length,i=n.length,o=Math.min(i,a);o&&this.parse(0,o),i>a?this._insertElements(a,i-a,t):i<a&&this._removeElements(i,a-i)}_insertElements(t,n,r=!0){const a=this._cachedMeta,i=a.data,o=t+n;let s;const l=u=>{for(u.length+=n,s=u.length-1;s>=o;s--)u[s]=u[s-n]};for(l(i),s=t;s<o;++s)i[s]=new this.dataElementType;this._parsing&&l(a._parsed),this.parse(t,n),r&&this.updateElements(i,t,n,"reset")}updateElements(t,n,r,a){}_removeElements(t,n){const r=this._cachedMeta;if(this._parsing){const a=r._parsed.splice(t,n);r._stacked&&Qy(r,a)}r.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[n,r,a]=t;this[n](r,a)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",t,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Mt(gc,"defaults",{}),Mt(gc,"datasetElementType",null),Mt(gc,"dataElementType",null);function Bze(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let r=[];for(let a=0,i=n.length;a<i;a++)r=r.concat(n[a].controller.getAllParsedValues(e));e._cache.$bar=Lle(r.sort((a,i)=>a-i))}return e._cache.$bar}function zze(e){const t=e.iScale,n=Bze(t,e.type);let r=t._length,a,i,o,s;const l=()=>{o===32767||o===-32768||(Ob(s)&&(r=Math.min(r,Math.abs(o-s)||r)),s=o)};for(a=0,i=n.length;a<i;++a)o=t.getPixelForValue(n[a]),l();for(s=void 0,a=0,i=t.ticks.length;a<i;++a)o=t.getPixelForTick(a),l();return r}function Uze(e,t,n,r){const a=n.barThickness;let i,o;return Kn(a)?(i=t.min*n.categoryPercentage,o=n.barPercentage):(i=a*r,o=1),{chunk:i/r,ratio:o,start:t.pixels[e]-i/2}}function Wze(e,t,n,r){const a=t.pixels,i=a[e];let o=e>0?a[e-1]:null,s=e<a.length-1?a[e+1]:null;const l=n.categoryPercentage;o===null&&(o=i-(s===null?t.end-t.start:s-i)),s===null&&(s=i+i-o);const u=i-(i-Math.min(o,s))/2*l;return{chunk:Math.abs(s-o)/2*l/r,ratio:n.barPercentage,start:u}}function Vze(e,t,n,r){const a=n.parse(e[0],r),i=n.parse(e[1],r),o=Math.min(a,i),s=Math.max(a,i);let l=o,u=s;Math.abs(o)>Math.abs(s)&&(l=s,u=o),t[n.axis]=u,t._custom={barStart:l,barEnd:u,start:a,end:i,min:o,max:s}}function oce(e,t,n,r){return ma(e)?Vze(e,t,n,r):t[n.axis]=n.parse(e,r),t}function HH(e,t,n,r){const a=e.iScale,i=e.vScale,o=a.getLabels(),s=a===i,l=[];let u,d,f,h;for(u=n,d=n+r;u<d;++u)h=t[u],f={},f[a.axis]=s||a.parse(o[u],u),l.push(oce(h,f,i,u));return l}function Z4(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function Hze(e,t,n){return e!==0?xu(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}function qze(e){let t,n,r,a,i;return e.horizontal?(t=e.base>e.x,n="left",r="right"):(t=e.base<e.y,n="bottom",r="top"),t?(a="end",i="start"):(a="start",i="end"),{start:n,end:r,reverse:t,top:a,bottom:i}}function Gze(e,t,n,r){let a=t.borderSkipped;const i={};if(!a){e.borderSkipped=i;return}if(a===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:s,reverse:l,top:u,bottom:d}=qze(e);a==="middle"&&n&&(e.enableBorderRadius=!0,(n._top||0)===r?a=u:(n._bottom||0)===r?a=d:(i[qH(d,o,s,l)]=!0,a=u)),i[qH(a,o,s,l)]=!0,e.borderSkipped=i}function qH(e,t,n,r){return r?(e=Yze(e,t,n),e=GH(e,n,t)):e=GH(e,t,n),e}function Yze(e,t,n){return e===t?n:e===n?t:e}function GH(e,t,n){return e==="start"?t:e==="end"?n:e}function Kze(e,{inflateAmount:t},n){e.inflateAmount=t==="auto"?n===1?.33:0:t}class m1 extends gc{parsePrimitiveData(t,n,r,a){return HH(t,n,r,a)}parseArrayData(t,n,r,a){return HH(t,n,r,a)}parseObjectData(t,n,r,a){const{iScale:i,vScale:o}=t,{xAxisKey:s="x",yAxisKey:l="y"}=this._parsing,u=i.axis==="x"?s:l,d=o.axis==="x"?s:l,f=[];let h,p,m,g;for(h=r,p=r+a;h<p;++h)g=n[h],m={},m[i.axis]=i.parse(vh(g,u),h),f.push(oce(vh(g,d),m,o,h));return f}updateRangeFromParsed(t,n,r,a){super.updateRangeFromParsed(t,n,r,a);const i=r._custom;i&&n===this._cachedMeta.vScale&&(t.min=Math.min(t.min,i.min),t.max=Math.max(t.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const n=this._cachedMeta,{iScale:r,vScale:a}=n,i=this.getParsed(t),o=i._custom,s=Z4(o)?"["+o.start+", "+o.end+"]":""+a.getLabelForValue(i[a.axis]);return{label:""+r.getLabelForValue(i[r.axis]),value:s}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,t)}updateElements(t,n,r,a){const i=a==="reset",{index:o,_cachedMeta:{vScale:s}}=this,l=s.getBasePixel(),u=s.isHorizontal(),d=this._getRuler(),{sharedOptions:f,includeOptions:h}=this._getSharedOptions(n,a);for(let p=n;p<n+r;p++){const m=this.getParsed(p),g=i||Kn(m[s.axis])?{base:l,head:l}:this._calculateBarValuePixels(p),y=this._calculateBarIndexPixels(p,d),x=(m._stacks||{})[s.axis],b={horizontal:u,base:g.base,enableBorderRadius:!x||Z4(m._custom)||o===x._top||o===x._bottom,x:u?g.head:y.center,y:u?y.center:g.head,height:u?y.size:Math.abs(g.size),width:u?Math.abs(g.size):y.size};h&&(b.options=f||this.resolveDataElementOptions(p,t[p].active?"active":a));const w=b.options||t[p].options;Gze(b,w,x,o),Kze(b,w,d.ratio),this.updateElement(t[p],p,b,a)}}_getStacks(t,n){const{iScale:r}=this._cachedMeta,a=r.getMatchingVisibleMetas(this._type).filter(d=>d.controller.options.grouped),i=r.options.stacked,o=[],s=this._cachedMeta.controller.getParsed(n),l=s&&s[r.axis],u=d=>{const f=d._parsed.find(p=>p[r.axis]===l),h=f&&f[d.vScale.axis];if(Kn(h)||isNaN(h))return!0};for(const d of a)if(!(n!==void 0&&u(d))&&((i===!1||o.indexOf(d.stack)===-1||i===void 0&&d.stack===void 0)&&o.push(d.stack),d.index===t))break;return o.length||o.push(void 0),o}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(t).filter(r=>t[r].axis===n).shift()}_getAxis(){const t={},n=this.getFirstScaleIdForIndexAxis();for(const r of this.chart.data.datasets)t[An(this.chart.options.indexAxis==="x"?r.xAxisID:r.yAxisID,n)]=!0;return Object.keys(t)}_getStackIndex(t,n,r){const a=this._getStacks(t,r),i=n!==void 0?a.indexOf(n):-1;return i===-1?a.length-1:i}_getRuler(){const t=this.options,n=this._cachedMeta,r=n.iScale,a=[];let i,o;for(i=0,o=n.data.length;i<o;++i)a.push(r.getPixelForValue(this.getParsed(i)[r.axis],i));const s=t.barThickness;return{min:s||zze(n),pixels:a,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:t.grouped,ratio:s?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:n,_stacked:r,index:a},options:{base:i,minBarLength:o}}=this,s=i||0,l=this.getParsed(t),u=l._custom,d=Z4(u);let f=l[n.axis],h=0,p=r?this.applyStack(n,l,r):f,m,g;p!==f&&(h=p-f,p=f),d&&(f=u.barStart,p=u.barEnd-u.barStart,f!==0&&xu(f)!==xu(u.barEnd)&&(h=0),h+=f);const y=!Kn(i)&&!d?i:h;let x=n.getPixelForValue(y);if(this.chart.getDataVisibility(t)?m=n.getPixelForValue(h+p):m=x,g=m-x,Math.abs(g)<o){g=Hze(g,n,s)*o,f===s&&(x-=g/2);const b=n.getPixelForDecimal(0),w=n.getPixelForDecimal(1),_=Math.min(b,w),S=Math.max(b,w);x=Math.max(Math.min(x,S),_),m=x+g,r&&!d&&(l._stacks[n.axis]._visualValues[a]=n.getValueForPixel(m)-n.getValueForPixel(x))}if(x===n.getPixelForValue(s)){const b=xu(g)*n.getLineWidthForValue(s)/2;x+=b,g-=b}return{size:g,base:x,head:m,center:m+g/2}}_calculateBarIndexPixels(t,n){const r=n.scale,a=this.options,i=a.skipNull,o=An(a.maxBarThickness,1/0);let s,l;const u=this._getAxisCount();if(n.grouped){const d=i?this._getStackCount(t):n.stackCount,f=a.barThickness==="flex"?Wze(t,n,a,d*u):Uze(t,n,a,d*u),h=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,p=this._getAxis().indexOf(An(h,this.getFirstScaleIdForIndexAxis())),m=this._getStackIndex(this.index,this._cachedMeta.stack,i?t:void 0)+p;s=f.start+f.chunk*m+f.chunk/2,l=Math.min(o,f.chunk*f.ratio)}else s=r.getPixelForValue(this.getParsed(t)[r.axis],t),l=Math.min(o,n.min*n.ratio);return{base:s-l/2,head:s+l/2,center:s,size:l}}draw(){const t=this._cachedMeta,n=t.vScale,r=t.data,a=r.length;let i=0;for(;i<a;++i)this.getParsed(i)[n.axis]!==null&&!r[i].hidden&&r[i].draw(this._ctx)}}Mt(m1,"id","bar"),Mt(m1,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),Mt(m1,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class rC extends gc{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,n,r,a){const i=super.parsePrimitiveData(t,n,r,a);for(let o=0;o<i.length;o++)i[o]._custom=this.resolveDataElementOptions(o+r).radius;return i}parseArrayData(t,n,r,a){const i=super.parseArrayData(t,n,r,a);for(let o=0;o<i.length;o++){const s=n[r+o];i[o]._custom=An(s[2],this.resolveDataElementOptions(o+r).radius)}return i}parseObjectData(t,n,r,a){const i=super.parseObjectData(t,n,r,a);for(let o=0;o<i.length;o++){const s=n[r+o];i[o]._custom=An(s&&s.r&&+s.r,this.resolveDataElementOptions(o+r).radius)}return i}getMaxOverflow(){const t=this._cachedMeta.data;let n=0;for(let r=t.length-1;r>=0;--r)n=Math.max(n,t[r].size(this.resolveDataElementOptions(r))/2);return n>0&&n}getLabelAndValue(t){const n=this._cachedMeta,r=this.chart.data.labels||[],{xScale:a,yScale:i}=n,o=this.getParsed(t),s=a.getLabelForValue(o.x),l=i.getLabelForValue(o.y),u=o._custom;return{label:r[t]||"",value:"("+s+", "+l+(u?", "+u:"")+")"}}update(t){const n=this._cachedMeta.data;this.updateElements(n,0,n.length,t)}updateElements(t,n,r,a){const i=a==="reset",{iScale:o,vScale:s}=this._cachedMeta,{sharedOptions:l,includeOptions:u}=this._getSharedOptions(n,a),d=o.axis,f=s.axis;for(let h=n;h<n+r;h++){const p=t[h],m=!i&&this.getParsed(h),g={},y=g[d]=i?o.getPixelForDecimal(.5):o.getPixelForValue(m[d]),x=g[f]=i?s.getBasePixel():s.getPixelForValue(m[f]);g.skip=isNaN(y)||isNaN(x),u&&(g.options=l||this.resolveDataElementOptions(h,p.active?"active":a),i&&(g.options.radius=0)),this.updateElement(p,h,g,a)}}resolveDataElementOptions(t,n){const r=this.getParsed(t);let a=super.resolveDataElementOptions(t,n);a.$shared&&(a=Object.assign({},a,{$shared:!1}));const i=a.radius;return n!=="active"&&(a.radius=0),a.radius+=An(r&&r._custom,i),a}}Mt(rC,"id","bubble"),Mt(rC,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),Mt(rC,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function Xze(e,t,n){let r=1,a=1,i=0,o=0;if(t<ia){const s=e,l=s+t,u=Math.cos(s),d=Math.sin(s),f=Math.cos(l),h=Math.sin(l),p=(w,_,S)=>Mb(w,s,l,!0)?1:Math.max(_,_*n,S,S*n),m=(w,_,S)=>Mb(w,s,l,!0)?-1:Math.min(_,_*n,S,S*n),g=p(0,u,f),y=p(Wa,d,h),x=m(hr,u,f),b=m(hr+Wa,d,h);r=(g-x)/2,a=(y-b)/2,i=-(g+x)/2,o=-(y+b)/2}return{ratioX:r,ratioY:a,offsetX:i,offsetY:o}}class Lf extends gc{constructor(t,n){super(t,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,n){const r=this.getDataset().data,a=this._cachedMeta;if(this._parsing===!1)a._parsed=r;else{let i=l=>+r[l];if(Qn(r[t])){const{key:l="value"}=this._parsing;i=u=>+vh(r[u],l)}let o,s;for(o=t,s=t+n;o<s;++o)a._parsed[o]=i(o)}}_getRotation(){return uc(this.options.rotation-90)}_getCircumference(){return uc(this.options.circumference)}_getRotationExtents(){let t=ia,n=-ia;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const a=this.chart.getDatasetMeta(r).controller,i=a._getRotation(),o=a._getCircumference();t=Math.min(t,i),n=Math.max(n,i+o)}return{rotation:t,circumference:n-t}}update(t){const n=this.chart,{chartArea:r}=n,a=this._cachedMeta,i=a.data,o=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,s=Math.max((Math.min(r.width,r.height)-o)/2,0),l=Math.min(l9e(this.options.cutout,s),1),u=this._getRingWeight(this.index),{circumference:d,rotation:f}=this._getRotationExtents(),{ratioX:h,ratioY:p,offsetX:m,offsetY:g}=Xze(f,d,l),y=(r.width-o)/h,x=(r.height-o)/p,b=Math.max(Math.min(y,x)/2,0),w=Ole(this.options.radius,b),_=Math.max(w*l,0),S=(w-_)/this._getVisibleDatasetWeightTotal();this.offsetX=m*w,this.offsetY=g*w,a.total=this.calculateTotal(),this.outerRadius=w-S*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-S*u,0),this.updateElements(i,0,i.length,t)}_circumference(t,n){const r=this.options,a=this._cachedMeta,i=this._getCircumference();return n&&r.animation.animateRotate||!this.chart.getDataVisibility(t)||a._parsed[t]===null||a.data[t].hidden?0:this.calculateCircumference(a._parsed[t]*i/ia)}updateElements(t,n,r,a){const i=a==="reset",o=this.chart,s=o.chartArea,u=o.options.animation,d=(s.left+s.right)/2,f=(s.top+s.bottom)/2,h=i&&u.animateScale,p=h?0:this.innerRadius,m=h?0:this.outerRadius,{sharedOptions:g,includeOptions:y}=this._getSharedOptions(n,a);let x=this._getRotation(),b;for(b=0;b<n;++b)x+=this._circumference(b,i);for(b=n;b<n+r;++b){const w=this._circumference(b,i),_=t[b],S={x:d+this.offsetX,y:f+this.offsetY,startAngle:x,endAngle:x+w,circumference:w,outerRadius:m,innerRadius:p};y&&(S.options=g||this.resolveDataElementOptions(b,_.active?"active":a)),x+=w,this.updateElement(_,b,S,a)}}calculateTotal(){const t=this._cachedMeta,n=t.data;let r=0,a;for(a=0;a<n.length;a++){const i=t._parsed[a];i!==null&&!isNaN(i)&&this.chart.getDataVisibility(a)&&!n[a].hidden&&(r+=Math.abs(i))}return r}calculateCircumference(t){const n=this._cachedMeta.total;return n>0&&!isNaN(t)?ia*(Math.abs(t)/n):0}getLabelAndValue(t){const n=this._cachedMeta,r=this.chart,a=r.data.labels||[],i=u2(n._parsed[t],r.options.locale);return{label:a[t]||"",value:i}}getMaxBorderWidth(t){let n=0;const r=this.chart;let a,i,o,s,l;if(!t){for(a=0,i=r.data.datasets.length;a<i;++a)if(r.isDatasetVisible(a)){o=r.getDatasetMeta(a),t=o.data,s=o.controller;break}}if(!t)return 0;for(a=0,i=t.length;a<i;++a)l=s.resolveDataElementOptions(a),l.borderAlign!=="inner"&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(t){let n=0;for(let r=0,a=t.length;r<a;++r){const i=this.resolveDataElementOptions(r);n=Math.max(n,i.offset||0,i.hoverOffset||0)}return n}_getRingWeightOffset(t){let n=0;for(let r=0;r<t;++r)this.chart.isDatasetVisible(r)&&(n+=this._getRingWeight(r));return n}_getRingWeight(t){return Math.max(An(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Mt(Lf,"id","doughnut"),Mt(Lf,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),Mt(Lf,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),Mt(Lf,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:r,color:a}}=t.legend.options;return n.labels.map((i,o)=>{const l=t.getDatasetMeta(0).controller.getStyle(o);return{text:i,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:a,lineWidth:l.borderWidth,pointStyle:r,hidden:!t.getDataVisibility(o),index:o}})}return[]}},onClick(t,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}}});class g1 extends gc{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const n=this._cachedMeta,{dataset:r,data:a=[],_dataset:i}=n,o=this.chart._animationsDisabled;let{start:s,count:l}=zle(n,a,o);this._drawStart=s,this._drawCount=l,Ule(n)&&(s=0,l=a.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!i._decimated,r.points=a;const u=this.resolveDatasetElementOptions(t);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(r,void 0,{animated:!o,options:u},t),this.updateElements(a,s,l,t)}updateElements(t,n,r,a){const i=a==="reset",{iScale:o,vScale:s,_stacked:l,_dataset:u}=this._cachedMeta,{sharedOptions:d,includeOptions:f}=this._getSharedOptions(n,a),h=o.axis,p=s.axis,{spanGaps:m,segment:g}=this.options,y=c0(m)?m:Number.POSITIVE_INFINITY,x=this.chart._animationsDisabled||i||a==="none",b=n+r,w=t.length;let _=n>0&&this.getParsed(n-1);for(let S=0;S<w;++S){const k=t[S],N=x?k:{};if(S<n||S>=b){N.skip=!0;continue}const P=this.getParsed(S),T=Kn(P[p]),j=N[h]=o.getPixelForValue(P[h],S),D=N[p]=i||T?s.getBasePixel():s.getPixelForValue(l?this.applyStack(s,P,l):P[p],S);N.skip=isNaN(j)||isNaN(D)||T,N.stop=S>0&&Math.abs(P[h]-_[h])>y,g&&(N.parsed=P,N.raw=u.data[S]),f&&(N.options=d||this.resolveDataElementOptions(S,k.active?"active":a)),x||this.updateElement(k,S,N,a),_=P}}getMaxOverflow(){const t=this._cachedMeta,n=t.dataset,r=n.options&&n.options.borderWidth||0,a=t.data||[];if(!a.length)return r;const i=a[0].size(this.resolveDataElementOptions(0)),o=a[a.length-1].size(this.resolveDataElementOptions(a.length-1));return Math.max(r,i,o)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}Mt(g1,"id","line"),Mt(g1,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),Mt(g1,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class v1 extends gc{constructor(t,n){super(t,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const n=this._cachedMeta,r=this.chart,a=r.data.labels||[],i=u2(n._parsed[t].r,r.options.locale);return{label:a[t]||"",value:i}}parseObjectData(t,n,r,a){return Xle.bind(this)(t,n,r,a)}update(t){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,t)}getMinMax(){const t=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((r,a)=>{const i=this.getParsed(a).r;!isNaN(i)&&this.chart.getDataVisibility(a)&&(i<n.min&&(n.min=i),i>n.max&&(n.max=i))}),n}_updateRadius(){const t=this.chart,n=t.chartArea,r=t.options,a=Math.min(n.right-n.left,n.bottom-n.top),i=Math.max(a/2,0),o=Math.max(r.cutoutPercentage?i/100*r.cutoutPercentage:1,0),s=(i-o)/t.getVisibleDatasetCount();this.outerRadius=i-s*this.index,this.innerRadius=this.outerRadius-s}updateElements(t,n,r,a){const i=a==="reset",o=this.chart,l=o.options.animation,u=this._cachedMeta.rScale,d=u.xCenter,f=u.yCenter,h=u.getIndexAngle(0)-.5*hr;let p=h,m;const g=360/this.countVisibleElements();for(m=0;m<n;++m)p+=this._computeAngle(m,a,g);for(m=n;m<n+r;m++){const y=t[m];let x=p,b=p+this._computeAngle(m,a,g),w=o.getDataVisibility(m)?u.getDistanceFromCenterForValue(this.getParsed(m).r):0;p=b,i&&(l.animateScale&&(w=0),l.animateRotate&&(x=b=h));const _={x:d,y:f,innerRadius:0,outerRadius:w,startAngle:x,endAngle:b,options:this.resolveDataElementOptions(m,y.active?"active":a)};this.updateElement(y,m,_,a)}}countVisibleElements(){const t=this._cachedMeta;let n=0;return t.data.forEach((r,a)=>{!isNaN(this.getParsed(a).r)&&this.chart.getDataVisibility(a)&&n++}),n}_computeAngle(t,n,r){return this.chart.getDataVisibility(t)?uc(this.resolveDataElementOptions(t,n).angle||r):0}}Mt(v1,"id","polarArea"),Mt(v1,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),Mt(v1,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:r,color:a}}=t.legend.options;return n.labels.map((i,o)=>{const l=t.getDatasetMeta(0).controller.getStyle(o);return{text:i,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:a,lineWidth:l.borderWidth,pointStyle:r,hidden:!t.getDataVisibility(o),index:o}})}return[]}},onClick(t,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class qE extends Lf{}Mt(qE,"id","pie"),Mt(qE,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class aC extends gc{getLabelAndValue(t){const n=this._cachedMeta.vScale,r=this.getParsed(t);return{label:n.getLabels()[t],value:""+n.getLabelForValue(r[n.axis])}}parseObjectData(t,n,r,a){return Xle.bind(this)(t,n,r,a)}update(t){const n=this._cachedMeta,r=n.dataset,a=n.data||[],i=n.iScale.getLabels();if(r.points=a,t!=="resize"){const o=this.resolveDatasetElementOptions(t);this.options.showLine||(o.borderWidth=0);const s={_loop:!0,_fullLoop:i.length===a.length,options:o};this.updateElement(r,void 0,s,t)}this.updateElements(a,0,a.length,t)}updateElements(t,n,r,a){const i=this._cachedMeta.rScale,o=a==="reset";for(let s=n;s<n+r;s++){const l=t[s],u=this.resolveDataElementOptions(s,l.active?"active":a),d=i.getPointPositionForValue(s,this.getParsed(s).r),f=o?i.xCenter:d.x,h=o?i.yCenter:d.y,p={x:f,y:h,angle:d.angle,skip:isNaN(f)||isNaN(h),options:u};this.updateElement(l,s,p,a)}}}Mt(aC,"id","radar"),Mt(aC,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),Mt(aC,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class iC extends gc{getLabelAndValue(t){const n=this._cachedMeta,r=this.chart.data.labels||[],{xScale:a,yScale:i}=n,o=this.getParsed(t),s=a.getLabelForValue(o.x),l=i.getLabelForValue(o.y);return{label:r[t]||"",value:"("+s+", "+l+")"}}update(t){const n=this._cachedMeta,{data:r=[]}=n,a=this.chart._animationsDisabled;let{start:i,count:o}=zle(n,r,a);if(this._drawStart=i,this._drawCount=o,Ule(n)&&(i=0,o=r.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:s,_dataset:l}=n;s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!l._decimated,s.points=r;const u=this.resolveDatasetElementOptions(t);u.segment=this.options.segment,this.updateElement(s,void 0,{animated:!a,options:u},t)}else this.datasetElementType&&(delete n.dataset,this.datasetElementType=!1);this.updateElements(r,i,o,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,n,r,a){const i=a==="reset",{iScale:o,vScale:s,_stacked:l,_dataset:u}=this._cachedMeta,d=this.resolveDataElementOptions(n,a),f=this.getSharedOptions(d),h=this.includeOptions(a,f),p=o.axis,m=s.axis,{spanGaps:g,segment:y}=this.options,x=c0(g)?g:Number.POSITIVE_INFINITY,b=this.chart._animationsDisabled||i||a==="none";let w=n>0&&this.getParsed(n-1);for(let _=n;_<n+r;++_){const S=t[_],k=this.getParsed(_),N=b?S:{},P=Kn(k[m]),T=N[p]=o.getPixelForValue(k[p],_),j=N[m]=i||P?s.getBasePixel():s.getPixelForValue(l?this.applyStack(s,k,l):k[m],_);N.skip=isNaN(T)||isNaN(j)||P,N.stop=_>0&&Math.abs(k[p]-w[p])>x,y&&(N.parsed=k,N.raw=u.data[_]),h&&(N.options=f||this.resolveDataElementOptions(_,S.active?"active":a)),b||this.updateElement(S,_,N,a),w=k}this.updateSharedOptions(f,a,d)}getMaxOverflow(){const t=this._cachedMeta,n=t.data||[];if(!this.options.showLine){let s=0;for(let l=n.length-1;l>=0;--l)s=Math.max(s,n[l].size(this.resolveDataElementOptions(l))/2);return s>0&&s}const r=t.dataset,a=r.options&&r.options.borderWidth||0;if(!n.length)return a;const i=n[0].size(this.resolveDataElementOptions(0)),o=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(a,i,o)/2}}Mt(iC,"id","scatter"),Mt(iC,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),Mt(iC,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var Zze=Object.freeze({__proto__:null,BarController:m1,BubbleController:rC,DoughnutController:Lf,LineController:g1,PieController:qE,PolarAreaController:v1,RadarController:aC,ScatterController:iC});function Xh(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class i${constructor(t){Mt(this,"options");this.options=t||{}}static override(t){Object.assign(i$.prototype,t)}init(){}formats(){return Xh()}parse(){return Xh()}format(){return Xh()}add(){return Xh()}diff(){return Xh()}startOf(){return Xh()}endOf(){return Xh()}}var Qze={_date:i$};function Jze(e,t,n,r){const{controller:a,data:i,_sorted:o}=e,s=a._cachedMeta.iScale,l=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(s&&t===s.axis&&t!=="r"&&o&&i.length){const u=s._reversePixels?w9e:sd;if(r){if(a._sharedOptions){const d=i[0],f=typeof d.getRange=="function"&&d.getRange(t);if(f){const h=u(i,t,n-f),p=u(i,t,n+f);return{lo:h.lo,hi:p.hi}}}}else{const d=u(i,t,n);if(l){const{vScale:f}=a._cachedMeta,{_parsed:h}=e,p=h.slice(0,d.lo+1).reverse().findIndex(g=>!Kn(g[f.axis]));d.lo-=Math.max(0,p);const m=h.slice(d.hi).findIndex(g=>!Kn(g[f.axis]));d.hi+=Math.max(0,m)}return d}}return{lo:0,hi:i.length-1}}function _T(e,t,n,r,a){const i=e.getSortedVisibleDatasetMetas(),o=n[t];for(let s=0,l=i.length;s<l;++s){const{index:u,data:d}=i[s],{lo:f,hi:h}=Jze(i[s],t,o,a);for(let p=f;p<=h;++p){const m=d[p];m.skip||r(m,u,p)}}}function eUe(e){const t=e.indexOf("x")!==-1,n=e.indexOf("y")!==-1;return function(r,a){const i=t?Math.abs(r.x-a.x):0,o=n?Math.abs(r.y-a.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(o,2))}}function Q4(e,t,n,r,a){const i=[];return!a&&!e.isPointInArea(t)||_T(e,n,t,function(s,l,u){!a&&!ld(s,e.chartArea,0)||s.inRange(t.x,t.y,r)&&i.push({element:s,datasetIndex:l,index:u})},!0),i}function tUe(e,t,n,r){let a=[];function i(o,s,l){const{startAngle:u,endAngle:d}=o.getProps(["startAngle","endAngle"],r),{angle:f}=Rle(o,{x:t.x,y:t.y});Mb(f,u,d)&&a.push({element:o,datasetIndex:s,index:l})}return _T(e,n,t,i),a}function nUe(e,t,n,r,a,i){let o=[];const s=eUe(n);let l=Number.POSITIVE_INFINITY;function u(d,f,h){const p=d.inRange(t.x,t.y,a);if(r&&!p)return;const m=d.getCenterPoint(a);if(!(!!i||e.isPointInArea(m))&&!p)return;const y=s(t,m);y<l?(o=[{element:d,datasetIndex:f,index:h}],l=y):y===l&&o.push({element:d,datasetIndex:f,index:h})}return _T(e,n,t,u),o}function J4(e,t,n,r,a,i){return!i&&!e.isPointInArea(t)?[]:n==="r"&&!r?tUe(e,t,n,a):nUe(e,t,n,r,a,i)}function YH(e,t,n,r,a){const i=[],o=n==="x"?"inXRange":"inYRange";let s=!1;return _T(e,n,t,(l,u,d)=>{l[o]&&l[o](t[n],a)&&(i.push({element:l,datasetIndex:u,index:d}),s=s||l.inRange(t.x,t.y,a))}),r&&!s?[]:i}var rUe={modes:{index(e,t,n,r){const a=cp(t,e),i=n.axis||"x",o=n.includeInvisible||!1,s=n.intersect?Q4(e,a,i,r,o):J4(e,a,i,!1,r,o),l=[];return s.length?(e.getSortedVisibleDatasetMetas().forEach(u=>{const d=s[0].index,f=u.data[d];f&&!f.skip&&l.push({element:f,datasetIndex:u.index,index:d})}),l):[]},dataset(e,t,n,r){const a=cp(t,e),i=n.axis||"xy",o=n.includeInvisible||!1;let s=n.intersect?Q4(e,a,i,r,o):J4(e,a,i,!1,r,o);if(s.length>0){const l=s[0].datasetIndex,u=e.getDatasetMeta(l).data;s=[];for(let d=0;d<u.length;++d)s.push({element:u[d],datasetIndex:l,index:d})}return s},point(e,t,n,r){const a=cp(t,e),i=n.axis||"xy",o=n.includeInvisible||!1;return Q4(e,a,i,r,o)},nearest(e,t,n,r){const a=cp(t,e),i=n.axis||"xy",o=n.includeInvisible||!1;return J4(e,a,i,n.intersect,r,o)},x(e,t,n,r){const a=cp(t,e);return YH(e,a,"x",n.intersect,r)},y(e,t,n,r){const a=cp(t,e);return YH(e,a,"y",n.intersect,r)}}};const sce=["left","top","right","bottom"];function Jy(e,t){return e.filter(n=>n.pos===t)}function KH(e,t){return e.filter(n=>sce.indexOf(n.pos)===-1&&n.box.axis===t)}function ex(e,t){return e.sort((n,r)=>{const a=t?r:n,i=t?n:r;return a.weight===i.weight?a.index-i.index:a.weight-i.weight})}function aUe(e){const t=[];let n,r,a,i,o,s;for(n=0,r=(e||[]).length;n<r;++n)a=e[n],{position:i,options:{stack:o,stackWeight:s=1}}=a,t.push({index:n,box:a,pos:i,horizontal:a.isHorizontal(),weight:a.weight,stack:o&&i+o,stackWeight:s});return t}function iUe(e){const t={};for(const n of e){const{stack:r,pos:a,stackWeight:i}=n;if(!r||!sce.includes(a))continue;const o=t[r]||(t[r]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=i}return t}function oUe(e,t){const n=iUe(e),{vBoxMaxWidth:r,hBoxMaxHeight:a}=t;let i,o,s;for(i=0,o=e.length;i<o;++i){s=e[i];const{fullSize:l}=s.box,u=n[s.stack],d=u&&s.stackWeight/u.weight;s.horizontal?(s.width=d?d*r:l&&t.availableWidth,s.height=a):(s.width=r,s.height=d?d*a:l&&t.availableHeight)}return n}function sUe(e){const t=aUe(e),n=ex(t.filter(u=>u.box.fullSize),!0),r=ex(Jy(t,"left"),!0),a=ex(Jy(t,"right")),i=ex(Jy(t,"top"),!0),o=ex(Jy(t,"bottom")),s=KH(t,"x"),l=KH(t,"y");return{fullSize:n,leftAndTop:r.concat(i),rightAndBottom:a.concat(l).concat(o).concat(s),chartArea:Jy(t,"chartArea"),vertical:r.concat(a).concat(l),horizontal:i.concat(o).concat(s)}}function XH(e,t,n,r){return Math.max(e[n],t[n])+Math.max(e[r],t[r])}function lce(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function lUe(e,t,n,r){const{pos:a,box:i}=n,o=e.maxPadding;if(!Qn(a)){n.size&&(e[a]-=n.size);const f=r[n.stack]||{size:0,count:1};f.size=Math.max(f.size,n.horizontal?i.height:i.width),n.size=f.size/f.count,e[a]+=n.size}i.getPadding&&lce(o,i.getPadding());const s=Math.max(0,t.outerWidth-XH(o,e,"left","right")),l=Math.max(0,t.outerHeight-XH(o,e,"top","bottom")),u=s!==e.w,d=l!==e.h;return e.w=s,e.h=l,n.horizontal?{same:u,other:d}:{same:d,other:u}}function cUe(e){const t=e.maxPadding;function n(r){const a=Math.max(t[r]-e[r],0);return e[r]+=a,a}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}function uUe(e,t){const n=t.maxPadding;function r(a){const i={left:0,top:0,right:0,bottom:0};return a.forEach(o=>{i[o]=Math.max(t[o],n[o])}),i}return r(e?["left","right"]:["top","bottom"])}function Ax(e,t,n,r){const a=[];let i,o,s,l,u,d;for(i=0,o=e.length,u=0;i<o;++i){s=e[i],l=s.box,l.update(s.width||t.w,s.height||t.h,uUe(s.horizontal,t));const{same:f,other:h}=lUe(t,n,s,r);u|=f&&a.length,d=d||h,l.fullSize||a.push(s)}return u&&Ax(a,t,n,r)||d}function H_(e,t,n,r,a){e.top=n,e.left=t,e.right=t+r,e.bottom=n+a,e.width=r,e.height=a}function ZH(e,t,n,r){const a=n.padding;let{x:i,y:o}=t;for(const s of e){const l=s.box,u=r[s.stack]||{placed:0,weight:1},d=s.stackWeight/u.weight||1;if(s.horizontal){const f=t.w*d,h=u.size||l.height;Ob(u.start)&&(o=u.start),l.fullSize?H_(l,a.left,o,n.outerWidth-a.right-a.left,h):H_(l,t.left+u.placed,o,f,h),u.start=o,u.placed+=f,o=l.bottom}else{const f=t.h*d,h=u.size||l.width;Ob(u.start)&&(i=u.start),l.fullSize?H_(l,i,a.top,h,n.outerHeight-a.bottom-a.top):H_(l,i,t.top+u.placed,h,f),u.start=i,u.placed+=f,i=l.right}}t.x=i,t.y=o}var wo={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(n){t.draw(n)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;n!==-1&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,r){if(!e)return;const a=To(e.options.layout.padding),i=Math.max(t-a.width,0),o=Math.max(n-a.height,0),s=sUe(e.boxes),l=s.vertical,u=s.horizontal;kr(e.boxes,g=>{typeof g.beforeLayout=="function"&&g.beforeLayout()});const d=l.reduce((g,y)=>y.box.options&&y.box.options.display===!1?g:g+1,0)||1,f=Object.freeze({outerWidth:t,outerHeight:n,padding:a,availableWidth:i,availableHeight:o,vBoxMaxWidth:i/2/d,hBoxMaxHeight:o/2}),h=Object.assign({},a);lce(h,To(r));const p=Object.assign({maxPadding:h,w:i,h:o,x:a.left,y:a.top},a),m=oUe(l.concat(u),f);Ax(s.fullSize,p,f,m),Ax(l,p,f,m),Ax(u,p,f,m)&&Ax(l,p,f,m),cUe(p),ZH(s.leftAndTop,p,f,m),p.x+=p.w,p.y+=p.h,ZH(s.rightAndBottom,p,f,m),e.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},kr(s.chartArea,g=>{const y=g.box;Object.assign(y,e.chartArea),y.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})})}};class cce{acquireContext(t,n){}releaseContext(t){return!1}addEventListener(t,n,r){}removeEventListener(t,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(t,n,r,a){return n=Math.max(0,n||t.width),r=r||t.height,{width:n,height:Math.max(0,a?Math.floor(n/a):r)}}isAttached(t){return!0}updateConfig(t){}}class dUe extends cce{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const oC="$chartjs",fUe={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},QH=e=>e===null||e==="";function hUe(e,t){const n=e.style,r=e.getAttribute("height"),a=e.getAttribute("width");if(e[oC]={initial:{height:r,width:a,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",QH(a)){const i=IH(e,"width");i!==void 0&&(e.width=i)}if(QH(r))if(e.style.height==="")e.height=e.width/(t||2);else{const i=IH(e,"height");i!==void 0&&(e.height=i)}return e}const uce=pze?{passive:!0}:!1;function pUe(e,t,n){e&&e.addEventListener(t,n,uce)}function mUe(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,uce)}function gUe(e,t){const n=fUe[e.type]||e.type,{x:r,y:a}=cp(e,t);return{type:n,chart:t,native:e,x:r!==void 0?r:null,y:a!==void 0?a:null}}function GE(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function vUe(e,t,n){const r=e.canvas,a=new MutationObserver(i=>{let o=!1;for(const s of i)o=o||GE(s.addedNodes,r),o=o&&!GE(s.removedNodes,r);o&&n()});return a.observe(document,{childList:!0,subtree:!0}),a}function yUe(e,t,n){const r=e.canvas,a=new MutationObserver(i=>{let o=!1;for(const s of i)o=o||GE(s.removedNodes,r),o=o&&!GE(s.addedNodes,r);o&&n()});return a.observe(document,{childList:!0,subtree:!0}),a}const Rb=new Map;let JH=0;function dce(){const e=window.devicePixelRatio;e!==JH&&(JH=e,Rb.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function xUe(e,t){Rb.size||window.addEventListener("resize",dce),Rb.set(e,t)}function bUe(e){Rb.delete(e),Rb.size||window.removeEventListener("resize",dce)}function wUe(e,t,n){const r=e.canvas,a=r&&a$(r);if(!a)return;const i=Ble((s,l)=>{const u=a.clientWidth;n(s,l),u<a.clientWidth&&n()},window),o=new ResizeObserver(s=>{const l=s[0],u=l.contentRect.width,d=l.contentRect.height;u===0&&d===0||i(u,d)});return o.observe(a),xUe(e,i),o}function eD(e,t,n){n&&n.disconnect(),t==="resize"&&bUe(e)}function _Ue(e,t,n){const r=e.canvas,a=Ble(i=>{e.ctx!==null&&n(gUe(i,e))},e);return pUe(r,t,a),a}class SUe extends cce{acquireContext(t,n){const r=t&&t.getContext&&t.getContext("2d");return r&&r.canvas===t?(hUe(t,n),r):null}releaseContext(t){const n=t.canvas;if(!n[oC])return!1;const r=n[oC].initial;["height","width"].forEach(i=>{const o=r[i];Kn(o)?n.removeAttribute(i):n.setAttribute(i,o)});const a=r.style||{};return Object.keys(a).forEach(i=>{n.style[i]=a[i]}),n.width=n.width,delete n[oC],!0}addEventListener(t,n,r){this.removeEventListener(t,n);const a=t.$proxies||(t.$proxies={}),o={attach:vUe,detach:yUe,resize:wUe}[n]||_Ue;a[n]=o(t,n,r)}removeEventListener(t,n){const r=t.$proxies||(t.$proxies={}),a=r[n];if(!a)return;({attach:eD,detach:eD,resize:eD}[n]||mUe)(t,n,a),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,n,r,a){return hze(t,n,r,a)}isAttached(t){const n=t&&a$(t);return!!(n&&n.isConnected)}}function CUe(e){return!r$()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?dUe:SUe}var ES;let Yd=(ES=class{constructor(){Mt(this,"x");Mt(this,"y");Mt(this,"active",!1);Mt(this,"options");Mt(this,"$animations")}tooltipPosition(t){const{x:n,y:r}=this.getProps(["x","y"],t);return{x:n,y:r}}hasValue(){return c0(this.x)&&c0(this.y)}getProps(t,n){const r=this.$animations;if(!n||!r)return this;const a={};return t.forEach(i=>{a[i]=r[i]&&r[i].active()?r[i]._to:this[i]}),a}},Mt(ES,"defaults",{}),Mt(ES,"defaultRoutes"),ES);function EUe(e,t){const n=e.options.ticks,r=NUe(e),a=Math.min(n.maxTicksLimit||r,r),i=n.major.enabled?jUe(t):[],o=i.length,s=i[0],l=i[o-1],u=[];if(o>a)return TUe(t,u,i,o/a),u;const d=kUe(i,t,a);if(o>0){let f,h;const p=o>1?Math.round((l-s)/(o-1)):null;for(q_(t,u,d,Kn(p)?0:s-p,s),f=0,h=o-1;f<h;f++)q_(t,u,d,i[f],i[f+1]);return q_(t,u,d,l,Kn(p)?t.length:l+p),u}return q_(t,u,d),u}function NUe(e){const t=e.options.offset,n=e._tickSize(),r=e._length/n+(t?0:1),a=e._maxLength/n;return Math.floor(Math.min(r,a))}function kUe(e,t,n){const r=PUe(e),a=t.length/n;if(!r)return Math.max(a,1);const i=g9e(r);for(let o=0,s=i.length-1;o<s;o++){const l=i[o];if(l>a)return l}return Math.max(a,1)}function jUe(e){const t=[];let n,r;for(n=0,r=e.length;n<r;n++)e[n].major&&t.push(n);return t}function TUe(e,t,n,r){let a=0,i=n[0],o;for(r=Math.ceil(r),o=0;o<e.length;o++)o===i&&(t.push(e[o]),a++,i=n[a*r])}function q_(e,t,n,r,a){const i=An(r,0),o=Math.min(An(a,e.length),e.length);let s=0,l,u,d;for(n=Math.ceil(n),a&&(l=a-r,n=l/Math.floor(l/n)),d=i;d<0;)s++,d=Math.round(i+s*n);for(u=Math.max(i,0);u<o;u++)u===d&&(t.push(e[u]),s++,d=Math.round(i+s*n))}function PUe(e){const t=e.length;let n,r;if(t<2)return!1;for(r=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==r)return!1;return r}const AUe=e=>e==="left"?"right":e==="right"?"left":e,eq=(e,t,n)=>t==="top"||t==="left"?e[t]+n:e[t]-n,tq=(e,t)=>Math.min(t||e,e);function nq(e,t){const n=[],r=e.length/t,a=e.length;let i=0;for(;i<a;i+=r)n.push(e[Math.floor(i)]);return n}function DUe(e,t,n){const r=e.ticks.length,a=Math.min(t,r-1),i=e._startPixel,o=e._endPixel,s=1e-6;let l=e.getPixelForTick(a),u;if(!(n&&(r===1?u=Math.max(l-i,o-l):t===0?u=(e.getPixelForTick(1)-l)/2:u=(l-e.getPixelForTick(a-1))/2,l+=a<t?u:-u,l<i-s||l>o+s)))return l}function OUe(e,t){kr(e,n=>{const r=n.gc,a=r.length/2;let i;if(a>t){for(i=0;i<a;++i)delete n.data[r[i]];r.splice(0,a)}})}function tx(e){return e.drawTicks?e.tickLength:0}function rq(e,t){if(!e.display)return 0;const n=di(e.font,t),r=To(e.padding);return(ma(e.text)?e.text.length:1)*n.lineHeight+r.height}function MUe(e,t){return Mh(e,{scale:t,type:"scale"})}function IUe(e,t,n){return Mh(e,{tick:n,index:t,type:"tick"})}function RUe(e,t,n){let r=Z6(e);return(n&&t!=="right"||!n&&t==="right")&&(r=AUe(r)),r}function FUe(e,t,n,r){const{top:a,left:i,bottom:o,right:s,chart:l}=e,{chartArea:u,scales:d}=l;let f=0,h,p,m;const g=o-a,y=s-i;if(e.isHorizontal()){if(p=so(r,i,s),Qn(n)){const x=Object.keys(n)[0],b=n[x];m=d[x].getPixelForValue(b)+g-t}else n==="center"?m=(u.bottom+u.top)/2+g-t:m=eq(e,n,t);h=s-i}else{if(Qn(n)){const x=Object.keys(n)[0],b=n[x];p=d[x].getPixelForValue(b)-y+t}else n==="center"?p=(u.left+u.right)/2-y+t:p=eq(e,n,t);m=so(r,o,a),f=n==="left"?-Wa:Wa}return{titleX:p,titleY:m,maxWidth:h,rotation:f}}class Lm extends Yd{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,n){return t}getUserBounds(){let{_userMin:t,_userMax:n,_suggestedMin:r,_suggestedMax:a}=this;return t=vs(t,Number.POSITIVE_INFINITY),n=vs(n,Number.NEGATIVE_INFINITY),r=vs(r,Number.POSITIVE_INFINITY),a=vs(a,Number.NEGATIVE_INFINITY),{min:vs(t,r),max:vs(n,a),minDefined:La(t),maxDefined:La(n)}}getMinMax(t){let{min:n,max:r,minDefined:a,maxDefined:i}=this.getUserBounds(),o;if(a&&i)return{min:n,max:r};const s=this.getMatchingVisibleMetas();for(let l=0,u=s.length;l<u;++l)o=s[l].controller.getMinMax(this,t),a||(n=Math.min(n,o.min)),i||(r=Math.max(r,o.max));return n=i&&n>r?r:n,r=a&&n>r?n:r,{min:vs(n,vs(r,n)),max:vs(r,vs(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Hr(this.options.beforeUpdate,[this])}update(t,n,r){const{beginAtZero:a,grace:i,ticks:o}=this.options,s=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=H9e(this,i,a),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=s<this.ticks.length;this._convertTicksToLabels(l?nq(this.ticks,s):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=EUe(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,t=!t),this._startPixel=n,this._endPixel=r,this._reversePixels=t,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Hr(this.options.afterUpdate,[this])}beforeSetDimensions(){Hr(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Hr(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Hr(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Hr(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const n=this.options.ticks;let r,a,i;for(r=0,a=t.length;r<a;r++)i=t[r],i.label=Hr(n.callback,[i.value,r,t],this)}afterTickToLabelConversion(){Hr(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Hr(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,n=t.ticks,r=tq(this.ticks.length,t.ticks.maxTicksLimit),a=n.minRotation||0,i=n.maxRotation;let o=a,s,l,u;if(!this._isVisible()||!n.display||a>=i||r<=1||!this.isHorizontal()){this.labelRotation=a;return}const d=this._getLabelSizes(),f=d.widest.width,h=d.highest.height,p=Ni(this.chart.width-f,0,this.maxWidth);s=t.offset?this.maxWidth/r:p/(r-1),f+6>s&&(s=p/(r-(t.offset?.5:1)),l=this.maxHeight-tx(t.grid)-n.padding-rq(t.title,this.chart.options.font),u=Math.sqrt(f*f+h*h),o=K6(Math.min(Math.asin(Ni((d.highest.height+6)/s,-1,1)),Math.asin(Ni(l/u,-1,1))-Math.asin(Ni(h/u,-1,1)))),o=Math.max(a,Math.min(i,o))),this.labelRotation=o}afterCalculateLabelRotation(){Hr(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Hr(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:n,options:{ticks:r,title:a,grid:i}}=this,o=this._isVisible(),s=this.isHorizontal();if(o){const l=rq(a,n.options.font);if(s?(t.width=this.maxWidth,t.height=tx(i)+l):(t.height=this.maxHeight,t.width=tx(i)+l),r.display&&this.ticks.length){const{first:u,last:d,widest:f,highest:h}=this._getLabelSizes(),p=r.padding*2,m=uc(this.labelRotation),g=Math.cos(m),y=Math.sin(m);if(s){const x=r.mirror?0:y*f.width+g*h.height;t.height=Math.min(this.maxHeight,t.height+x+p)}else{const x=r.mirror?0:g*f.width+y*h.height;t.width=Math.min(this.maxWidth,t.width+x+p)}this._calculatePadding(u,d,y,g)}}this._handleMargins(),s?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,n,r,a){const{ticks:{align:i,padding:o},position:s}=this.options,l=this.labelRotation!==0,u=s!=="top"&&this.axis==="x";if(this.isHorizontal()){const d=this.getPixelForTick(0)-this.left,f=this.right-this.getPixelForTick(this.ticks.length-1);let h=0,p=0;l?u?(h=a*t.width,p=r*n.height):(h=r*t.height,p=a*n.width):i==="start"?p=n.width:i==="end"?h=t.width:i!=="inner"&&(h=t.width/2,p=n.width/2),this.paddingLeft=Math.max((h-d+o)*this.width/(this.width-d),0),this.paddingRight=Math.max((p-f+o)*this.width/(this.width-f),0)}else{let d=n.height/2,f=t.height/2;i==="start"?(d=0,f=t.height):i==="end"&&(d=n.height,f=0),this.paddingTop=d+o,this.paddingBottom=f+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Hr(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:n}=this.options;return n==="top"||n==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let n,r;for(n=0,r=t.length;n<r;n++)Kn(t[n].label)&&(t.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=nq(r,n)),this._labelSizes=t=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,n,r){const{ctx:a,_longestTextCache:i}=this,o=[],s=[],l=Math.floor(n/tq(n,r));let u=0,d=0,f,h,p,m,g,y,x,b,w,_,S;for(f=0;f<n;f+=l){if(m=t[f].label,g=this._resolveTickFontOptions(f),a.font=y=g.string,x=i[y]=i[y]||{data:{},gc:[]},b=g.lineHeight,w=_=0,!Kn(m)&&!ma(m))w=VE(a,x.data,x.gc,w,m),_=b;else if(ma(m))for(h=0,p=m.length;h<p;++h)S=m[h],!Kn(S)&&!ma(S)&&(w=VE(a,x.data,x.gc,w,S),_+=b);o.push(w),s.push(_),u=Math.max(w,u),d=Math.max(_,d)}OUe(i,n);const k=o.indexOf(u),N=s.indexOf(d),P=T=>({width:o[T]||0,height:s[T]||0});return{first:P(0),last:P(n-1),widest:P(k),highest:P(N),widths:o,heights:s}}getLabelForValue(t){return t}getPixelForValue(t,n){return NaN}getValueForPixel(t){}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const n=this._startPixel+t*this._length;return b9e(this._alignToPixels?Kh(this.chart,n,0):n)}getDecimalForPixel(t){const n=(t-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:n}=this;return t<0&&n<0?n:t>0&&n>0?t:0}getContext(t){const n=this.ticks||[];if(t>=0&&t<n.length){const r=n[t];return r.$context||(r.$context=IUe(this.getContext(),t,r))}return this.$context||(this.$context=MUe(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,n=uc(this.labelRotation),r=Math.abs(Math.cos(n)),a=Math.abs(Math.sin(n)),i=this._getLabelSizes(),o=t.autoSkipPadding||0,s=i?i.widest.width+o:0,l=i?i.highest.height+o:0;return this.isHorizontal()?l*r>s*a?s/r:l/a:l*a<s*r?l/r:s/a}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const n=this.axis,r=this.chart,a=this.options,{grid:i,position:o,border:s}=a,l=i.offset,u=this.isHorizontal(),f=this.ticks.length+(l?1:0),h=tx(i),p=[],m=s.setContext(this.getContext()),g=m.display?m.width:0,y=g/2,x=function(V){return Kh(r,V,g)};let b,w,_,S,k,N,P,T,j,D,M,R;if(o==="top")b=x(this.bottom),N=this.bottom-h,T=b-y,D=x(t.top)+y,R=t.bottom;else if(o==="bottom")b=x(this.top),D=t.top,R=x(t.bottom)-y,N=b+y,T=this.top+h;else if(o==="left")b=x(this.right),k=this.right-h,P=b-y,j=x(t.left)+y,M=t.right;else if(o==="right")b=x(this.left),j=t.left,M=x(t.right)-y,k=b+y,P=this.left+h;else if(n==="x"){if(o==="center")b=x((t.top+t.bottom)/2+.5);else if(Qn(o)){const V=Object.keys(o)[0],q=o[V];b=x(this.chart.scales[V].getPixelForValue(q))}D=t.top,R=t.bottom,N=b+y,T=N+h}else if(n==="y"){if(o==="center")b=x((t.left+t.right)/2);else if(Qn(o)){const V=Object.keys(o)[0],q=o[V];b=x(this.chart.scales[V].getPixelForValue(q))}k=b-y,P=k-h,j=t.left,M=t.right}const W=An(a.ticks.maxTicksLimit,f),B=Math.max(1,Math.ceil(f/W));for(w=0;w<f;w+=B){const V=this.getContext(w),q=i.setContext(V),I=s.setContext(V),O=q.lineWidth,H=q.color,ne=I.dash||[],z=I.dashOffset,J=q.tickWidth,ee=q.tickColor,G=q.tickBorderDash||[],Z=q.tickBorderDashOffset;_=DUe(this,w,l),_!==void 0&&(S=Kh(r,_,O),u?k=P=j=M=S:N=T=D=R=S,p.push({tx1:k,ty1:N,tx2:P,ty2:T,x1:j,y1:D,x2:M,y2:R,width:O,color:H,borderDash:ne,borderDashOffset:z,tickWidth:J,tickColor:ee,tickBorderDash:G,tickBorderDashOffset:Z}))}return this._ticksLength=f,this._borderValue=b,p}_computeLabelItems(t){const n=this.axis,r=this.options,{position:a,ticks:i}=r,o=this.isHorizontal(),s=this.ticks,{align:l,crossAlign:u,padding:d,mirror:f}=i,h=tx(r.grid),p=h+d,m=f?-d:p,g=-uc(this.labelRotation),y=[];let x,b,w,_,S,k,N,P,T,j,D,M,R="middle";if(a==="top")k=this.bottom-m,N=this._getXAxisLabelAlignment();else if(a==="bottom")k=this.top+m,N=this._getXAxisLabelAlignment();else if(a==="left"){const B=this._getYAxisLabelAlignment(h);N=B.textAlign,S=B.x}else if(a==="right"){const B=this._getYAxisLabelAlignment(h);N=B.textAlign,S=B.x}else if(n==="x"){if(a==="center")k=(t.top+t.bottom)/2+p;else if(Qn(a)){const B=Object.keys(a)[0],V=a[B];k=this.chart.scales[B].getPixelForValue(V)+p}N=this._getXAxisLabelAlignment()}else if(n==="y"){if(a==="center")S=(t.left+t.right)/2-p;else if(Qn(a)){const B=Object.keys(a)[0],V=a[B];S=this.chart.scales[B].getPixelForValue(V)}N=this._getYAxisLabelAlignment(h).textAlign}n==="y"&&(l==="start"?R="top":l==="end"&&(R="bottom"));const W=this._getLabelSizes();for(x=0,b=s.length;x<b;++x){w=s[x],_=w.label;const B=i.setContext(this.getContext(x));P=this.getPixelForTick(x)+i.labelOffset,T=this._resolveTickFontOptions(x),j=T.lineHeight,D=ma(_)?_.length:1;const V=D/2,q=B.color,I=B.textStrokeColor,O=B.textStrokeWidth;let H=N;o?(S=P,N==="inner"&&(x===b-1?H=this.options.reverse?"left":"right":x===0?H=this.options.reverse?"right":"left":H="center"),a==="top"?u==="near"||g!==0?M=-D*j+j/2:u==="center"?M=-W.highest.height/2-V*j+j:M=-W.highest.height+j/2:u==="near"||g!==0?M=j/2:u==="center"?M=W.highest.height/2-V*j:M=W.highest.height-D*j,f&&(M*=-1),g!==0&&!B.showLabelBackdrop&&(S+=j/2*Math.sin(g))):(k=P,M=(1-D)*j/2);let ne;if(B.showLabelBackdrop){const z=To(B.backdropPadding),J=W.heights[x],ee=W.widths[x];let G=M-z.top,Z=0-z.left;switch(R){case"middle":G-=J/2;break;case"bottom":G-=J;break}switch(N){case"center":Z-=ee/2;break;case"right":Z-=ee;break;case"inner":x===b-1?Z-=ee:x>0&&(Z-=ee/2);break}ne={left:Z,top:G,width:ee+z.width,height:J+z.height,color:B.backdropColor}}y.push({label:_,font:T,textOffset:M,options:{rotation:g,color:q,strokeColor:I,strokeWidth:O,textAlign:H,textBaseline:R,translation:[S,k],backdrop:ne}})}return y}_getXAxisLabelAlignment(){const{position:t,ticks:n}=this.options;if(-uc(this.labelRotation))return t==="top"?"left":"right";let a="center";return n.align==="start"?a="left":n.align==="end"?a="right":n.align==="inner"&&(a="inner"),a}_getYAxisLabelAlignment(t){const{position:n,ticks:{crossAlign:r,mirror:a,padding:i}}=this.options,o=this._getLabelSizes(),s=t+i,l=o.widest.width;let u,d;return n==="left"?a?(d=this.right+i,r==="near"?u="left":r==="center"?(u="center",d+=l/2):(u="right",d+=l)):(d=this.right-s,r==="near"?u="right":r==="center"?(u="center",d-=l/2):(u="left",d=this.left)):n==="right"?a?(d=this.left+i,r==="near"?u="right":r==="center"?(u="center",d-=l/2):(u="left",d-=l)):(d=this.left+s,r==="near"?u="left":r==="center"?(u="center",d+=l/2):(u="right",d=this.right)):u="right",{textAlign:u,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:n},left:r,top:a,width:i,height:o}=this;n&&(t.save(),t.fillStyle=n,t.fillRect(r,a,i,o),t.restore())}getLineWidthForValue(t){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const a=this.ticks.findIndex(i=>i.value===t);return a>=0?n.setContext(this.getContext(a)).lineWidth:0}drawGrid(t){const n=this.options.grid,r=this.ctx,a=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let i,o;const s=(l,u,d)=>{!d.width||!d.color||(r.save(),r.lineWidth=d.width,r.strokeStyle=d.color,r.setLineDash(d.borderDash||[]),r.lineDashOffset=d.borderDashOffset,r.beginPath(),r.moveTo(l.x,l.y),r.lineTo(u.x,u.y),r.stroke(),r.restore())};if(n.display)for(i=0,o=a.length;i<o;++i){const l=a[i];n.drawOnChartArea&&s({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&s({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:n,options:{border:r,grid:a}}=this,i=r.setContext(this.getContext()),o=r.display?i.width:0;if(!o)return;const s=a.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let u,d,f,h;this.isHorizontal()?(u=Kh(t,this.left,o)-o/2,d=Kh(t,this.right,s)+s/2,f=h=l):(f=Kh(t,this.top,o)-o/2,h=Kh(t,this.bottom,s)+s/2,u=d=l),n.save(),n.lineWidth=i.width,n.strokeStyle=i.color,n.beginPath(),n.moveTo(u,f),n.lineTo(d,h),n.stroke(),n.restore()}drawLabels(t){if(!this.options.ticks.display)return;const r=this.ctx,a=this._computeLabelArea();a&&xT(r,a);const i=this.getLabelItems(t);for(const o of i){const s=o.options,l=o.font,u=o.label,d=o.textOffset;bm(r,u,0,d,l,s)}a&&bT(r)}drawTitle(){const{ctx:t,options:{position:n,title:r,reverse:a}}=this;if(!r.display)return;const i=di(r.font),o=To(r.padding),s=r.align;let l=i.lineHeight/2;n==="bottom"||n==="center"||Qn(n)?(l+=o.bottom,ma(r.text)&&(l+=i.lineHeight*(r.text.length-1))):l+=o.top;const{titleX:u,titleY:d,maxWidth:f,rotation:h}=FUe(this,l,n,s);bm(t,r.text,0,0,i,{color:r.color,maxWidth:f,rotation:h,textAlign:RUe(s,n,a),textBaseline:"middle",translation:[u,d]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,n=t.ticks&&t.ticks.z||0,r=An(t.grid&&t.grid.z,-1),a=An(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==Lm.prototype.draw?[{z:n,draw:i=>{this.draw(i)}}]:[{z:r,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:a,draw:()=>{this.drawBorder()}},{z:n,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(t){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",a=[];let i,o;for(i=0,o=n.length;i<o;++i){const s=n[i];s[r]===this.id&&(!t||s.type===t)&&a.push(s)}return a}_resolveTickFontOptions(t){const n=this.options.ticks.setContext(this.getContext(t));return di(n.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class G_{constructor(t,n,r){this.type=t,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const n=Object.getPrototypeOf(t);let r;BUe(n)&&(r=this.register(n));const a=this.items,i=t.id,o=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+t);return i in a||(a[i]=t,LUe(t,o,r),this.override&&va.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){const n=this.items,r=t.id,a=this.scope;r in n&&delete n[r],a&&r in va[a]&&(delete va[a][r],this.override&&delete xm[r])}}function LUe(e,t,n){const r=Db(Object.create(null),[n?va.get(n):{},va.get(t),e.defaults]);va.set(t,r),e.defaultRoutes&&$Ue(t,e.defaultRoutes),e.descriptors&&va.describe(t,e.descriptors)}function $Ue(e,t){Object.keys(t).forEach(n=>{const r=n.split("."),a=r.pop(),i=[e].concat(r).join("."),o=t[n].split("."),s=o.pop(),l=o.join(".");va.route(i,a,l,s)})}function BUe(e){return"id"in e&&"defaults"in e}class zUe{constructor(){this.controllers=new G_(gc,"datasets",!0),this.elements=new G_(Yd,"elements"),this.plugins=new G_(Object,"plugins"),this.scales=new G_(Lm,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,n,r){[...n].forEach(a=>{const i=r||this._getRegistryForType(a);r||i.isForType(a)||i===this.plugins&&a.id?this._exec(t,i,a):kr(a,o=>{const s=r||this._getRegistryForType(o);this._exec(t,s,o)})})}_exec(t,n,r){const a=Y6(t);Hr(r["before"+a],[],r),n[t](r),Hr(r["after"+a],[],r)}_getRegistryForType(t){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(t))return r}return this.plugins}_get(t,n,r){const a=n.get(t);if(a===void 0)throw new Error('"'+t+'" is not a registered '+r+".");return a}}var Wc=new zUe;class UUe{constructor(){this._init=[]}notify(t,n,r,a){n==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const i=a?this._descriptors(t).filter(a):this._descriptors(t),o=this._notify(i,t,n,r);return n==="afterDestroy"&&(this._notify(i,t,"stop"),this._notify(this._init,t,"uninstall")),o}_notify(t,n,r,a){a=a||{};for(const i of t){const o=i.plugin,s=o[r],l=[n,a,i.options];if(Hr(s,l,o)===!1&&a.cancelable)return!1}return!0}invalidate(){Kn(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),n}_createDescriptors(t,n){const r=t&&t.config,a=An(r.options&&r.options.plugins,{}),i=WUe(r);return a===!1&&!n?[]:HUe(t,i,a,n)}_notifyStateChanges(t){const n=this._oldCache||[],r=this._cache,a=(i,o)=>i.filter(s=>!o.some(l=>s.plugin.id===l.plugin.id));this._notify(a(n,r),t,"stop"),this._notify(a(r,n),t,"start")}}function WUe(e){const t={},n=[],r=Object.keys(Wc.plugins.items);for(let i=0;i<r.length;i++)n.push(Wc.getPlugin(r[i]));const a=e.plugins||[];for(let i=0;i<a.length;i++){const o=a[i];n.indexOf(o)===-1&&(n.push(o),t[o.id]=!0)}return{plugins:n,localIds:t}}function VUe(e,t){return!t&&e===!1?null:e===!0?{}:e}function HUe(e,{plugins:t,localIds:n},r,a){const i=[],o=e.getContext();for(const s of t){const l=s.id,u=VUe(r[l],a);u!==null&&i.push({plugin:s,options:qUe(e.config,{plugin:s,local:n[l]},u,o)})}return i}function qUe(e,{plugin:t,local:n},r,a){const i=e.pluginScopeKeys(t),o=e.getOptionScopes(r,i);return n&&t.defaults&&o.push(t.defaults),e.createResolver(o,a,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function KM(e,t){const n=va.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function GUe(e,t){let n=e;return e==="_index_"?n=t:e==="_value_"&&(n=t==="x"?"y":"x"),n}function YUe(e,t){return e===t?"_index_":"_value_"}function aq(e){if(e==="x"||e==="y"||e==="r")return e}function KUe(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function XM(e,...t){if(aq(e))return e;for(const n of t){const r=n.axis||KUe(n.position)||e.length>1&&aq(e[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function iq(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function XUe(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(r=>r.xAxisID===e||r.yAxisID===e);if(n.length)return iq(e,"x",n[0])||iq(e,"y",n[0])}return{}}function ZUe(e,t){const n=xm[e.type]||{scales:{}},r=t.scales||{},a=KM(e.type,t),i=Object.create(null);return Object.keys(r).forEach(o=>{const s=r[o];if(!Qn(s))return console.error(`Invalid scale configuration for scale: ${o}`);if(s._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=XM(o,s,XUe(o,e),va.scales[s.type]),u=YUe(l,a),d=n.scales||{};i[o]=d1(Object.create(null),[{axis:l},s,d[l],d[u]])}),e.data.datasets.forEach(o=>{const s=o.type||e.type,l=o.indexAxis||KM(s,t),d=(xm[s]||{}).scales||{};Object.keys(d).forEach(f=>{const h=GUe(f,l),p=o[h+"AxisID"]||h;i[p]=i[p]||Object.create(null),d1(i[p],[{axis:h},r[p],d[f]])})}),Object.keys(i).forEach(o=>{const s=i[o];d1(s,[va.scales[s.type],va.scale])}),i}function fce(e){const t=e.options||(e.options={});t.plugins=An(t.plugins,{}),t.scales=ZUe(e,t)}function hce(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function QUe(e){return e=e||{},e.data=hce(e.data),fce(e),e}const oq=new Map,pce=new Set;function Y_(e,t){let n=oq.get(e);return n||(n=t(),oq.set(e,n),pce.add(n)),n}const nx=(e,t,n)=>{const r=vh(t,n);r!==void 0&&e.add(r)};class JUe{constructor(t){this._config=QUe(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=hce(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),fce(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Y_(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,n){return Y_(`${t}.transition.${n}`,()=>[[`datasets.${t}.transitions.${n}`,`transitions.${n}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,n){return Y_(`${t}-${n}`,()=>[[`datasets.${t}.elements.${n}`,`datasets.${t}`,`elements.${n}`,""]])}pluginScopeKeys(t){const n=t.id,r=this.type;return Y_(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,n){const r=this._scopeCache;let a=r.get(t);return(!a||n)&&(a=new Map,r.set(t,a)),a}getOptionScopes(t,n,r){const{options:a,type:i}=this,o=this._cachedScopes(t,r),s=o.get(n);if(s)return s;const l=new Set;n.forEach(d=>{t&&(l.add(t),d.forEach(f=>nx(l,t,f))),d.forEach(f=>nx(l,a,f)),d.forEach(f=>nx(l,xm[i]||{},f)),d.forEach(f=>nx(l,va,f)),d.forEach(f=>nx(l,GM,f))});const u=Array.from(l);return u.length===0&&u.push(Object.create(null)),pce.has(n)&&o.set(n,u),u}chartOptionScopes(){const{options:t,type:n}=this;return[t,xm[n]||{},va.datasets[n]||{},{type:n},va,GM]}resolveNamedOptions(t,n,r,a=[""]){const i={$shared:!0},{resolver:o,subPrefixes:s}=sq(this._resolverCache,t,a);let l=o;if(tWe(o,n)){i.$shared=!1,r=yh(r)?r():r;const u=this.createResolver(t,r,s);l=u0(o,r,u)}for(const u of n)i[u]=l[u];return i}createResolver(t,n,r=[""],a){const{resolver:i}=sq(this._resolverCache,t,r);return Qn(n)?u0(i,n,void 0,a):i}}function sq(e,t,n){let r=e.get(t);r||(r=new Map,e.set(t,r));const a=n.join();let i=r.get(a);return i||(i={resolver:e$(t,n),subPrefixes:n.filter(s=>!s.toLowerCase().includes("hover"))},r.set(a,i)),i}const eWe=e=>Qn(e)&&Object.getOwnPropertyNames(e).some(t=>yh(e[t]));function tWe(e,t){const{isScriptable:n,isIndexable:r}=qle(e);for(const a of t){const i=n(a),o=r(a),s=(o||i)&&e[a];if(i&&(yh(s)||eWe(s))||o&&ma(s))return!0}return!1}var nWe="4.5.0";const rWe=["top","bottom","left","right","chartArea"];function lq(e,t){return e==="top"||e==="bottom"||rWe.indexOf(e)===-1&&t==="x"}function cq(e,t){return function(n,r){return n[e]===r[e]?n[t]-r[t]:n[e]-r[e]}}function uq(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),Hr(n&&n.onComplete,[e],t)}function aWe(e){const t=e.chart,n=t.options.animation;Hr(n&&n.onProgress,[e],t)}function mce(e){return r$()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const sC={},dq=e=>{const t=mce(e);return Object.values(sC).filter(n=>n.canvas===t).pop()};function iWe(e,t,n){const r=Object.keys(e);for(const a of r){const i=+a;if(i>=t){const o=e[a];delete e[a],(n>0||i>t)&&(e[i+n]=o)}}}function oWe(e,t,n,r){return!n||e.type==="mouseout"?null:r?t:e}var df;let $m=(df=class{static register(...t){Wc.add(...t),fq()}static unregister(...t){Wc.remove(...t),fq()}constructor(t,n){const r=this.config=new JUe(n),a=mce(t),i=dq(a);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const o=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||CUe(a)),this.platform.updateConfig(r);const s=this.platform.acquireContext(a,o.aspectRatio),l=s&&s.canvas,u=l&&l.height,d=l&&l.width;if(this.id=s9e(),this.ctx=s,this.canvas=l,this.width=d,this.height=u,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new UUe,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=C9e(f=>this.update(f),o.resizeDelay||0),this._dataChanges=[],sC[this.id]=this,!s||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Ku.listen(this,"complete",uq),Ku.listen(this,"progress",aWe),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:n},width:r,height:a,_aspectRatio:i}=this;return Kn(t)?n&&i?i:a?r/a:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Wc}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():MH(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return AH(this.canvas,this.ctx),this}stop(){return Ku.stop(this),this}resize(t,n){Ku.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){const r=this.options,a=this.canvas,i=r.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(a,t,n,i),s=r.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,MH(this,s,!0)&&(this.notifyPlugins("resize",{size:o}),Hr(r.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};kr(n,(r,a)=>{r.id=a})}buildOrUpdateScales(){const t=this.options,n=t.scales,r=this.scales,a=Object.keys(r).reduce((o,s)=>(o[s]=!1,o),{});let i=[];n&&(i=i.concat(Object.keys(n).map(o=>{const s=n[o],l=XM(o,s),u=l==="r",d=l==="x";return{options:s,dposition:u?"chartArea":d?"bottom":"left",dtype:u?"radialLinear":d?"category":"linear"}}))),kr(i,o=>{const s=o.options,l=s.id,u=XM(l,s),d=An(s.type,o.dtype);(s.position===void 0||lq(s.position,u)!==lq(o.dposition))&&(s.position=o.dposition),a[l]=!0;let f=null;if(l in r&&r[l].type===d)f=r[l];else{const h=Wc.getScale(d);f=new h({id:l,type:d,ctx:this.ctx,chart:this}),r[f.id]=f}f.init(s,t)}),kr(a,(o,s)=>{o||delete r[s]}),kr(r,o=>{wo.configure(this,o,o.options),wo.addBox(this,o)})}_updateMetasets(){const t=this._metasets,n=this.data.datasets.length,r=t.length;if(t.sort((a,i)=>a.index-i.index),r>n){for(let a=n;a<r;++a)this._destroyDatasetMeta(a);t.splice(n,r-n)}this._sortedMetasets=t.slice(0).sort(cq("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((r,a)=>{n.filter(i=>i===r._dataset).length===0&&this._destroyDatasetMeta(a)})}buildOrUpdateControllers(){const t=[],n=this.data.datasets;let r,a;for(this._removeUnreferencedMetasets(),r=0,a=n.length;r<a;r++){const i=n[r];let o=this.getDatasetMeta(r);const s=i.type||this.config.type;if(o.type&&o.type!==s&&(this._destroyDatasetMeta(r),o=this.getDatasetMeta(r)),o.type=s,o.indexAxis=i.indexAxis||KM(s,this.options),o.order=i.order||0,o.index=r,o.label=""+i.label,o.visible=this.isDatasetVisible(r),o.controller)o.controller.updateIndex(r),o.controller.linkScales();else{const l=Wc.getController(s),{datasetElementType:u,dataElementType:d}=va.datasets[s];Object.assign(l,{dataElementType:Wc.getElement(d),datasetElementType:u&&Wc.getElement(u)}),o.controller=new l(this,r),t.push(o.controller)}}return this._updateMetasets(),t}_resetElements(){kr(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),a=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let u=0,d=this.data.datasets.length;u<d;u++){const{controller:f}=this.getDatasetMeta(u),h=!a&&i.indexOf(f)===-1;f.buildOrUpdateElements(h),o=Math.max(+f.getMaxOverflow(),o)}o=this._minPadding=r.layout.autoPadding?o:0,this._updateLayout(o),a||kr(i,u=>{u.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(cq("z","_idx"));const{_active:s,_lastEvent:l}=this;l?this._eventHandler(l,!0):s.length&&this._updateHoverStyles(s,s,!0),this.render()}_updateScales(){kr(this.scales,t=>{wo.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(t.events);(!_H(n,r)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:a,count:i}of n){const o=r==="_removeElements"?-i:i;iWe(t,a,o)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=i=>new Set(t.filter(o=>o[0]===i).map((o,s)=>s+","+o.splice(1).join(","))),a=r(0);for(let i=1;i<n;i++)if(!_H(a,r(i)))return;return Array.from(a).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;wo.update(this,this.width,this.height,t);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],kr(this.boxes,a=>{r&&a.position==="chartArea"||(a.configure&&a.configure(),this._layers.push(...a._layers()))},this),this._layers.forEach((a,i)=>{a._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,yh(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){const r=this.getDatasetMeta(t),a={meta:r,index:t,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",a)!==!1&&(r.controller._update(n),a.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",a))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Ku.has(this)?this.attached&&!Ku.running(this)&&Ku.start(this):(this.draw(),uq({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:r,height:a}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,a)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const n=this._sortedMetasets,r=[];let a,i;for(a=0,i=n.length;a<i;++a){const o=n[a];(!t||o.visible)&&r.push(o)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const n=this.ctx,r={meta:t,index:t.index,cancelable:!0},a=rce(this,t);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(a&&xT(n,a),t.controller.draw(),a&&bT(n),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(t){return ld(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,r,a){const i=rUe.modes[n];return typeof i=="function"?i(this,t,r,a):[]}getDatasetMeta(t){const n=this.data.datasets[t],r=this._metasets;let a=r.filter(i=>i&&i._dataset===n).pop();return a||(a={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},r.push(a)),a}getContext(){return this.$context||(this.$context=Mh(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const n=this.data.datasets[t];if(!n)return!1;const r=this.getDatasetMeta(t);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(t,n){const r=this.getDatasetMeta(t);r.hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,r){const a=r?"show":"hide",i=this.getDatasetMeta(t),o=i.controller._resolveAnimations(void 0,a);Ob(n)?(i.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(t,r),o.update(i,{visible:r}),this.update(s=>s.datasetIndex===t?a:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){const n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),Ku.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),AH(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete sC[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,n=this.platform,r=(i,o)=>{n.addEventListener(this,i,o),t[i]=o},a=(i,o,s)=>{i.offsetX=o,i.offsetY=s,this._eventHandler(i)};kr(this.options.events,i=>r(i,a))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,n=this.platform,r=(l,u)=>{n.addEventListener(this,l,u),t[l]=u},a=(l,u)=>{t[l]&&(n.removeEventListener(this,l,u),delete t[l])},i=(l,u)=>{this.canvas&&this.resize(l,u)};let o;const s=()=>{a("attach",s),this.attached=!0,this.resize(),r("resize",i),r("detach",o)};o=()=>{this.attached=!1,a("resize",i),this._stop(),this._resize(0,0),r("attach",s)},n.isAttached(this.canvas)?s():o()}unbindEvents(){kr(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},kr(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,r){const a=r?"set":"remove";let i,o,s,l;for(n==="dataset"&&(i=this.getDatasetMeta(t[0].datasetIndex),i.controller["_"+a+"DatasetHoverStyle"]()),s=0,l=t.length;s<l;++s){o=t[s];const u=o&&this.getDatasetMeta(o.datasetIndex).controller;u&&u[a+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const n=this._active||[],r=t.map(({datasetIndex:i,index:o})=>{const s=this.getDatasetMeta(i);if(!s)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:s.data[o],index:o}});!zE(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(t,n,r){return this._plugins.notify(this,t,n,r)}isPluginEnabled(t){return this._plugins._cache.filter(n=>n.plugin.id===t).length===1}_updateHoverStyles(t,n,r){const a=this.options.hover,i=(l,u)=>l.filter(d=>!u.some(f=>d.datasetIndex===f.datasetIndex&&d.index===f.index)),o=i(n,t),s=r?t:i(t,n);o.length&&this.updateHoverStyle(o,a.mode,!1),s.length&&a.mode&&this.updateHoverStyle(s,a.mode,!0)}_eventHandler(t,n){const r={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},a=o=>(o.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",r,a)===!1)return;const i=this._handleEvent(t,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,a),(i||r.changed)&&this.render(),this}_handleEvent(t,n,r){const{_active:a=[],options:i}=this,o=n,s=this._getActiveElements(t,a,r,o),l=h9e(t),u=oWe(t,this._lastEvent,r,l);r&&(this._lastEvent=null,Hr(i.onHover,[t,s,this],this),l&&Hr(i.onClick,[t,s,this],this));const d=!zE(s,a);return(d||n)&&(this._active=s,this._updateHoverStyles(s,a,n)),this._lastEvent=u,d}_getActiveElements(t,n,r,a){if(t.type==="mouseout")return[];if(!r)return n;const i=this.options.hover;return this.getElementsAtEventForMode(t,i.mode,i,a)}},Mt(df,"defaults",va),Mt(df,"instances",sC),Mt(df,"overrides",xm),Mt(df,"registry",Wc),Mt(df,"version",nWe),Mt(df,"getChart",dq),df);function fq(){return kr($m.instances,e=>e._plugins.invalidate())}function sWe(e,t,n){const{startAngle:r,x:a,y:i,outerRadius:o,innerRadius:s,options:l}=t,{borderWidth:u,borderJoinStyle:d}=l,f=Math.min(u/o,fo(r-n));if(e.beginPath(),e.arc(a,i,o-u/2,r+f/2,n-f/2),s>0){const h=Math.min(u/s,fo(r-n));e.arc(a,i,s+u/2,n-h/2,r+h/2,!0)}else{const h=Math.min(u/2,o*fo(r-n));if(d==="round")e.arc(a,i,h,n-hr/2,r+hr/2,!0);else if(d==="bevel"){const p=2*h*h,m=-p*Math.cos(n+hr/2)+a,g=-p*Math.sin(n+hr/2)+i,y=p*Math.cos(r+hr/2)+a,x=p*Math.sin(r+hr/2)+i;e.lineTo(m,g),e.lineTo(y,x)}}e.closePath(),e.moveTo(0,0),e.rect(0,0,e.canvas.width,e.canvas.height),e.clip("evenodd")}function lWe(e,t,n){const{startAngle:r,pixelMargin:a,x:i,y:o,outerRadius:s,innerRadius:l}=t;let u=a/s;e.beginPath(),e.arc(i,o,s,r-u,n+u),l>a?(u=a/l,e.arc(i,o,l,n+u,r-u,!0)):e.arc(i,o,a,n+Wa,r-Wa),e.closePath(),e.clip()}function cWe(e){return J6(e,["outerStart","outerEnd","innerStart","innerEnd"])}function uWe(e,t,n,r){const a=cWe(e.options.borderRadius),i=(n-t)/2,o=Math.min(i,r*t/2),s=l=>{const u=(n-Math.min(i,l))*r/2;return Ni(l,0,Math.min(i,u))};return{outerStart:s(a.outerStart),outerEnd:s(a.outerEnd),innerStart:Ni(a.innerStart,0,o),innerEnd:Ni(a.innerEnd,0,o)}}function mg(e,t,n,r){return{x:n+e*Math.cos(t),y:r+e*Math.sin(t)}}function YE(e,t,n,r,a,i){const{x:o,y:s,startAngle:l,pixelMargin:u,innerRadius:d}=t,f=Math.max(t.outerRadius+r+n-u,0),h=d>0?d+r+n+u:0;let p=0;const m=a-l;if(r){const B=d>0?d-r:0,V=f>0?f-r:0,q=(B+V)/2,I=q!==0?m*q/(q+r):m;p=(m-I)/2}const g=Math.max(.001,m*f-n/hr)/f,y=(m-g)/2,x=l+y+p,b=a-y-p,{outerStart:w,outerEnd:_,innerStart:S,innerEnd:k}=uWe(t,h,f,b-x),N=f-w,P=f-_,T=x+w/N,j=b-_/P,D=h+S,M=h+k,R=x+S/D,W=b-k/M;if(e.beginPath(),i){const B=(T+j)/2;if(e.arc(o,s,f,T,B),e.arc(o,s,f,B,j),_>0){const O=mg(P,j,o,s);e.arc(O.x,O.y,_,j,b+Wa)}const V=mg(M,b,o,s);if(e.lineTo(V.x,V.y),k>0){const O=mg(M,W,o,s);e.arc(O.x,O.y,k,b+Wa,W+Math.PI)}const q=(b-k/h+(x+S/h))/2;if(e.arc(o,s,h,b-k/h,q,!0),e.arc(o,s,h,q,x+S/h,!0),S>0){const O=mg(D,R,o,s);e.arc(O.x,O.y,S,R+Math.PI,x-Wa)}const I=mg(N,x,o,s);if(e.lineTo(I.x,I.y),w>0){const O=mg(N,T,o,s);e.arc(O.x,O.y,w,x-Wa,T)}}else{e.moveTo(o,s);const B=Math.cos(T)*f+o,V=Math.sin(T)*f+s;e.lineTo(B,V);const q=Math.cos(j)*f+o,I=Math.sin(j)*f+s;e.lineTo(q,I)}e.closePath()}function dWe(e,t,n,r,a){const{fullCircles:i,startAngle:o,circumference:s}=t;let l=t.endAngle;if(i){YE(e,t,n,r,l,a);for(let u=0;u<i;++u)e.fill();isNaN(s)||(l=o+(s%ia||ia))}return YE(e,t,n,r,l,a),e.fill(),l}function fWe(e,t,n,r,a){const{fullCircles:i,startAngle:o,circumference:s,options:l}=t,{borderWidth:u,borderJoinStyle:d,borderDash:f,borderDashOffset:h,borderRadius:p}=l,m=l.borderAlign==="inner";if(!u)return;e.setLineDash(f||[]),e.lineDashOffset=h,m?(e.lineWidth=u*2,e.lineJoin=d||"round"):(e.lineWidth=u,e.lineJoin=d||"bevel");let g=t.endAngle;if(i){YE(e,t,n,r,g,a);for(let y=0;y<i;++y)e.stroke();isNaN(s)||(g=o+(s%ia||ia))}m&&lWe(e,t,g),l.selfJoin&&g-o>=hr&&p===0&&d!=="miter"&&sWe(e,t,g),i||(YE(e,t,n,r,g,a),e.stroke())}class Xg extends Yd{constructor(n){super();Mt(this,"circumference");Mt(this,"endAngle");Mt(this,"fullCircles");Mt(this,"innerRadius");Mt(this,"outerRadius");Mt(this,"pixelMargin");Mt(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,r,a){const i=this.getProps(["x","y"],a),{angle:o,distance:s}=Rle(i,{x:n,y:r}),{startAngle:l,endAngle:u,innerRadius:d,outerRadius:f,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],a),p=(this.options.spacing+this.options.borderWidth)/2,m=An(h,u-l),g=Mb(o,l,u)&&l!==u,y=m>=ia||g,x=od(s,d+p,f+p);return y&&x}getCenterPoint(n){const{x:r,y:a,startAngle:i,endAngle:o,innerRadius:s,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:u,spacing:d}=this.options,f=(i+o)/2,h=(s+l+d+u)/2;return{x:r+Math.cos(f)*h,y:a+Math.sin(f)*h}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:r,circumference:a}=this,i=(r.offset||0)/4,o=(r.spacing||0)/2,s=r.circular;if(this.pixelMargin=r.borderAlign==="inner"?.33:0,this.fullCircles=a>ia?Math.floor(a/ia):0,a===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const l=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(l)*i,Math.sin(l)*i);const u=1-Math.sin(Math.min(hr,a||0)),d=i*u;n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,dWe(n,this,d,o,s),fWe(n,this,d,o,s),n.restore()}}Mt(Xg,"id","arc"),Mt(Xg,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),Mt(Xg,"defaultRoutes",{backgroundColor:"backgroundColor"}),Mt(Xg,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function gce(e,t,n=t){e.lineCap=An(n.borderCapStyle,t.borderCapStyle),e.setLineDash(An(n.borderDash,t.borderDash)),e.lineDashOffset=An(n.borderDashOffset,t.borderDashOffset),e.lineJoin=An(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=An(n.borderWidth,t.borderWidth),e.strokeStyle=An(n.borderColor,t.borderColor)}function hWe(e,t,n){e.lineTo(n.x,n.y)}function pWe(e){return e.stepped?R9e:e.tension||e.cubicInterpolationMode==="monotone"?F9e:hWe}function vce(e,t,n={}){const r=e.length,{start:a=0,end:i=r-1}=n,{start:o,end:s}=t,l=Math.max(a,o),u=Math.min(i,s),d=a<o&&i<o||a>s&&i>s;return{count:r,start:l,loop:t.loop,ilen:u<l&&!d?r+u-l:u-l}}function mWe(e,t,n,r){const{points:a,options:i}=t,{count:o,start:s,loop:l,ilen:u}=vce(a,n,r),d=pWe(i);let{move:f=!0,reverse:h}=r||{},p,m,g;for(p=0;p<=u;++p)m=a[(s+(h?u-p:p))%o],!m.skip&&(f?(e.moveTo(m.x,m.y),f=!1):d(e,g,m,h,i.stepped),g=m);return l&&(m=a[(s+(h?u:0))%o],d(e,g,m,h,i.stepped)),!!l}function gWe(e,t,n,r){const a=t.points,{count:i,start:o,ilen:s}=vce(a,n,r),{move:l=!0,reverse:u}=r||{};let d=0,f=0,h,p,m,g,y,x;const b=_=>(o+(u?s-_:_))%i,w=()=>{g!==y&&(e.lineTo(d,y),e.lineTo(d,g),e.lineTo(d,x))};for(l&&(p=a[b(0)],e.moveTo(p.x,p.y)),h=0;h<=s;++h){if(p=a[b(h)],p.skip)continue;const _=p.x,S=p.y,k=_|0;k===m?(S<g?g=S:S>y&&(y=S),d=(f*d+_)/++f):(w(),e.lineTo(_,S),m=k,f=0,g=y=S),x=S}w()}function ZM(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!n?gWe:mWe}function vWe(e){return e.stepped?mze:e.tension||e.cubicInterpolationMode==="monotone"?gze:up}function yWe(e,t,n,r){let a=t._path;a||(a=t._path=new Path2D,t.path(a,n,r)&&a.closePath()),gce(e,t.options),e.stroke(a)}function xWe(e,t,n,r){const{segments:a,options:i}=t,o=ZM(t);for(const s of a)gce(e,i,s.style),e.beginPath(),o(e,t,s,{start:n,end:n+r-1})&&e.closePath(),e.stroke()}const bWe=typeof Path2D=="function";function wWe(e,t,n,r){bWe&&!t.options.segment?yWe(e,t,n,r):xWe(e,t,n,r)}class cd extends Yd{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,n){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const a=r.spanGaps?this._loop:this._fullLoop;sze(this._points,r,t,a,n),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=_ze(this,this.options.segment))}first(){const t=this.segments,n=this.points;return t.length&&n[t[0].start]}last(){const t=this.segments,n=this.points,r=t.length;return r&&n[t[r-1].end]}interpolate(t,n){const r=this.options,a=t[n],i=this.points,o=nce(this,{property:n,start:a,end:a});if(!o.length)return;const s=[],l=vWe(r);let u,d;for(u=0,d=o.length;u<d;++u){const{start:f,end:h}=o[u],p=i[f],m=i[h];if(p===m){s.push(p);continue}const g=Math.abs((a-p[n])/(m[n]-p[n])),y=l(p,m,g,r.stepped);y[n]=t[n],s.push(y)}return s.length===1?s[0]:s}pathSegment(t,n,r){return ZM(this)(t,this,n,r)}path(t,n,r){const a=this.segments,i=ZM(this);let o=this._loop;n=n||0,r=r||this.points.length-n;for(const s of a)o&=i(t,this,s,{start:n,end:n+r-1});return!!o}draw(t,n,r,a){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(t.save(),wWe(t,this,r,a),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}Mt(cd,"id","line"),Mt(cd,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Mt(cd,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Mt(cd,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function hq(e,t,n,r){const a=e.options,{[n]:i}=e.getProps([n],r);return Math.abs(t-i)<a.radius+a.hitRadius}class y1 extends Yd{constructor(n){super();Mt(this,"parsed");Mt(this,"skip");Mt(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,r,a){const i=this.options,{x:o,y:s}=this.getProps(["x","y"],a);return Math.pow(n-o,2)+Math.pow(r-s,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(n,r){return hq(this,n,"x",r)}inYRange(n,r){return hq(this,n,"y",r)}getCenterPoint(n){const{x:r,y:a}=this.getProps(["x","y"],n);return{x:r,y:a}}size(n){n=n||this.options||{};let r=n.radius||0;r=Math.max(r,r&&n.hoverRadius||0);const a=r&&n.borderWidth||0;return(r+a)*2}draw(n,r){const a=this.options;this.skip||a.radius<.1||!ld(this,r,this.size(a)/2)||(n.strokeStyle=a.borderColor,n.lineWidth=a.borderWidth,n.fillStyle=a.backgroundColor,YM(n,a,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}Mt(y1,"id","point"),Mt(y1,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Mt(y1,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function yce(e,t){const{x:n,y:r,base:a,width:i,height:o}=e.getProps(["x","y","base","width","height"],t);let s,l,u,d,f;return e.horizontal?(f=o/2,s=Math.min(n,a),l=Math.max(n,a),u=r-f,d=r+f):(f=i/2,s=n-f,l=n+f,u=Math.min(r,a),d=Math.max(r,a)),{left:s,top:u,right:l,bottom:d}}function $f(e,t,n,r){return e?0:Ni(t,n,r)}function _We(e,t,n){const r=e.options.borderWidth,a=e.borderSkipped,i=Hle(r);return{t:$f(a.top,i.top,0,n),r:$f(a.right,i.right,0,t),b:$f(a.bottom,i.bottom,0,n),l:$f(a.left,i.left,0,t)}}function SWe(e,t,n){const{enableBorderRadius:r}=e.getProps(["enableBorderRadius"]),a=e.options.borderRadius,i=Xp(a),o=Math.min(t,n),s=e.borderSkipped,l=r||Qn(a);return{topLeft:$f(!l||s.top||s.left,i.topLeft,0,o),topRight:$f(!l||s.top||s.right,i.topRight,0,o),bottomLeft:$f(!l||s.bottom||s.left,i.bottomLeft,0,o),bottomRight:$f(!l||s.bottom||s.right,i.bottomRight,0,o)}}function CWe(e){const t=yce(e),n=t.right-t.left,r=t.bottom-t.top,a=_We(e,n/2,r/2),i=SWe(e,n/2,r/2);return{outer:{x:t.left,y:t.top,w:n,h:r,radius:i},inner:{x:t.left+a.l,y:t.top+a.t,w:n-a.l-a.r,h:r-a.t-a.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(a.t,a.l)),topRight:Math.max(0,i.topRight-Math.max(a.t,a.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(a.b,a.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(a.b,a.r))}}}}function tD(e,t,n,r){const a=t===null,i=n===null,s=e&&!(a&&i)&&yce(e,r);return s&&(a||od(t,s.left,s.right))&&(i||od(n,s.top,s.bottom))}function EWe(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function NWe(e,t){e.rect(t.x,t.y,t.w,t.h)}function nD(e,t,n={}){const r=e.x!==n.x?-t:0,a=e.y!==n.y?-t:0,i=(e.x+e.w!==n.x+n.w?t:0)-r,o=(e.y+e.h!==n.y+n.h?t:0)-a;return{x:e.x+r,y:e.y+a,w:e.w+i,h:e.h+o,radius:e.radius}}class x1 extends Yd{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:n,options:{borderColor:r,backgroundColor:a}}=this,{inner:i,outer:o}=CWe(this),s=EWe(o.radius)?Ib:NWe;t.save(),(o.w!==i.w||o.h!==i.h)&&(t.beginPath(),s(t,nD(o,n,i)),t.clip(),s(t,nD(i,-n,o)),t.fillStyle=r,t.fill("evenodd")),t.beginPath(),s(t,nD(i,n)),t.fillStyle=a,t.fill(),t.restore()}inRange(t,n,r){return tD(this,t,n,r)}inXRange(t,n){return tD(this,t,null,n)}inYRange(t,n){return tD(this,null,t,n)}getCenterPoint(t){const{x:n,y:r,base:a,horizontal:i}=this.getProps(["x","y","base","horizontal"],t);return{x:i?(n+a)/2:n,y:i?r:(r+a)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}Mt(x1,"id","bar"),Mt(x1,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),Mt(x1,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var kWe=Object.freeze({__proto__:null,ArcElement:Xg,BarElement:x1,LineElement:cd,PointElement:y1});const QM=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],pq=QM.map(e=>e.replace("rgb(","rgba(").replace(")",", 0.5)"));function xce(e){return QM[e%QM.length]}function bce(e){return pq[e%pq.length]}function jWe(e,t){return e.borderColor=xce(t),e.backgroundColor=bce(t),++t}function TWe(e,t){return e.backgroundColor=e.data.map(()=>xce(t++)),t}function PWe(e,t){return e.backgroundColor=e.data.map(()=>bce(t++)),t}function AWe(e){let t=0;return(n,r)=>{const a=e.getDatasetMeta(r).controller;a instanceof Lf?t=TWe(n,t):a instanceof v1?t=PWe(n,t):a&&(t=jWe(n,t))}}function mq(e){let t;for(t in e)if(e[t].borderColor||e[t].backgroundColor)return!0;return!1}function DWe(e){return e&&(e.borderColor||e.backgroundColor)}function OWe(){return va.borderColor!=="rgba(0,0,0,0.1)"||va.backgroundColor!=="rgba(0,0,0,0.1)"}var MWe={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(e,t,n){if(!n.enabled)return;const{data:{datasets:r},options:a}=e.config,{elements:i}=a,o=mq(r)||DWe(a)||i&&mq(i)||OWe();if(!n.forceOverride&&o)return;const s=AWe(e);r.forEach(s)}};function IWe(e,t,n,r,a){const i=a.samples||r;if(i>=n)return e.slice(t,t+n);const o=[],s=(n-2)/(i-2);let l=0;const u=t+n-1;let d=t,f,h,p,m,g;for(o[l++]=e[d],f=0;f<i-2;f++){let y=0,x=0,b;const w=Math.floor((f+1)*s)+1+t,_=Math.min(Math.floor((f+2)*s)+1,n)+t,S=_-w;for(b=w;b<_;b++)y+=e[b].x,x+=e[b].y;y/=S,x/=S;const k=Math.floor(f*s)+1+t,N=Math.min(Math.floor((f+1)*s)+1,n)+t,{x:P,y:T}=e[d];for(p=m=-1,b=k;b<N;b++)m=.5*Math.abs((P-y)*(e[b].y-T)-(P-e[b].x)*(x-T)),m>p&&(p=m,h=e[b],g=b);o[l++]=h,d=g}return o[l++]=e[u],o}function RWe(e,t,n,r){let a=0,i=0,o,s,l,u,d,f,h,p,m,g;const y=[],x=t+n-1,b=e[t].x,_=e[x].x-b;for(o=t;o<t+n;++o){s=e[o],l=(s.x-b)/_*r,u=s.y;const S=l|0;if(S===d)u<m?(m=u,f=o):u>g&&(g=u,h=o),a=(i*a+s.x)/++i;else{const k=o-1;if(!Kn(f)&&!Kn(h)){const N=Math.min(f,h),P=Math.max(f,h);N!==p&&N!==k&&y.push({...e[N],x:a}),P!==p&&P!==k&&y.push({...e[P],x:a})}o>0&&k!==p&&y.push(e[k]),y.push(s),d=S,i=0,m=g=u,f=h=p=o}}return y}function wce(e){if(e._decimated){const t=e._data;delete e._decimated,delete e._data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function gq(e){e.data.datasets.forEach(t=>{wce(t)})}function FWe(e,t){const n=t.length;let r=0,a;const{iScale:i}=e,{min:o,max:s,minDefined:l,maxDefined:u}=i.getUserBounds();return l&&(r=Ni(sd(t,i.axis,o).lo,0,n-1)),u?a=Ni(sd(t,i.axis,s).hi+1,r,n)-r:a=n-r,{start:r,count:a}}var LWe={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(e,t,n)=>{if(!n.enabled){gq(e);return}const r=e.width;e.data.datasets.forEach((a,i)=>{const{_data:o,indexAxis:s}=a,l=e.getDatasetMeta(i),u=o||a.data;if(Px([s,e.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;const d=e.scales[l.xAxisID];if(d.type!=="linear"&&d.type!=="time"||e.options.parsing)return;let{start:f,count:h}=FWe(l,u);const p=n.threshold||4*r;if(h<=p){wce(a);return}Kn(o)&&(a._data=u,delete a.data,Object.defineProperty(a,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(g){this._data=g}}));let m;switch(n.algorithm){case"lttb":m=IWe(u,f,h,r,n);break;case"min-max":m=RWe(u,f,h,r);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}a._decimated=m})},destroy(e){gq(e)}};function $We(e,t,n){const r=e.segments,a=e.points,i=t.points,o=[];for(const s of r){let{start:l,end:u}=s;u=ST(l,u,a);const d=JM(n,a[l],a[u],s.loop);if(!t.segments){o.push({source:s,target:d,start:a[l],end:a[u]});continue}const f=nce(t,d);for(const h of f){const p=JM(n,i[h.start],i[h.end],h.loop),m=tce(s,a,p);for(const g of m)o.push({source:g,target:h,start:{[n]:vq(d,p,"start",Math.max)},end:{[n]:vq(d,p,"end",Math.min)}})}}return o}function JM(e,t,n,r){if(r)return;let a=t[e],i=n[e];return e==="angle"&&(a=fo(a),i=fo(i)),{property:e,start:a,end:i}}function BWe(e,t){const{x:n=null,y:r=null}=e||{},a=t.points,i=[];return t.segments.forEach(({start:o,end:s})=>{s=ST(o,s,a);const l=a[o],u=a[s];r!==null?(i.push({x:l.x,y:r}),i.push({x:u.x,y:r})):n!==null&&(i.push({x:n,y:l.y}),i.push({x:n,y:u.y}))}),i}function ST(e,t,n){for(;t>e;t--){const r=n[t];if(!isNaN(r.x)&&!isNaN(r.y))break}return t}function vq(e,t,n,r){return e&&t?r(e[n],t[n]):e?e[n]:t?t[n]:0}function _ce(e,t){let n=[],r=!1;return ma(e)?(r=!0,n=e):n=BWe(e,t),n.length?new cd({points:n,options:{tension:0},_loop:r,_fullLoop:r}):null}function yq(e){return e&&e.fill!==!1}function zWe(e,t,n){let a=e[t].fill;const i=[t];let o;if(!n)return a;for(;a!==!1&&i.indexOf(a)===-1;){if(!La(a))return a;if(o=e[a],!o)return!1;if(o.visible)return a;i.push(a),a=o.fill}return!1}function UWe(e,t,n){const r=qWe(e);if(Qn(r))return isNaN(r.value)?!1:r;let a=parseFloat(r);return La(a)&&Math.floor(a)===a?WWe(r[0],t,a,n):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function WWe(e,t,n,r){return(e==="-"||e==="+")&&(n=t+n),n===t||n<0||n>=r?!1:n}function VWe(e,t){let n=null;return e==="start"?n=t.bottom:e==="end"?n=t.top:Qn(e)?n=t.getPixelForValue(e.value):t.getBasePixel&&(n=t.getBasePixel()),n}function HWe(e,t,n){let r;return e==="start"?r=n:e==="end"?r=t.options.reverse?t.min:t.max:Qn(e)?r=e.value:r=t.getBaseValue(),r}function qWe(e){const t=e.options,n=t.fill;let r=An(n&&n.target,n);return r===void 0&&(r=!!t.backgroundColor),r===!1||r===null?!1:r===!0?"origin":r}function GWe(e){const{scale:t,index:n,line:r}=e,a=[],i=r.segments,o=r.points,s=YWe(t,n);s.push(_ce({x:null,y:t.bottom},r));for(let l=0;l<i.length;l++){const u=i[l];for(let d=u.start;d<=u.end;d++)KWe(a,o[d],s)}return new cd({points:a,options:{}})}function YWe(e,t){const n=[],r=e.getMatchingVisibleMetas("line");for(let a=0;a<r.length;a++){const i=r[a];if(i.index===t)break;i.hidden||n.unshift(i.dataset)}return n}function KWe(e,t,n){const r=[];for(let a=0;a<n.length;a++){const i=n[a],{first:o,last:s,point:l}=XWe(i,t,"x");if(!(!l||o&&s)){if(o)r.unshift(l);else if(e.push(l),!s)break}}e.push(...r)}function XWe(e,t,n){const r=e.interpolate(t,n);if(!r)return{};const a=r[n],i=e.segments,o=e.points;let s=!1,l=!1;for(let u=0;u<i.length;u++){const d=i[u],f=o[d.start][n],h=o[d.end][n];if(od(a,f,h)){s=a===f,l=a===h;break}}return{first:s,last:l,point:r}}class Sce{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,n,r){const{x:a,y:i,radius:o}=this;return n=n||{start:0,end:ia},t.arc(a,i,o,n.end,n.start,!0),!r.bounds}interpolate(t){const{x:n,y:r,radius:a}=this,i=t.angle;return{x:n+Math.cos(i)*a,y:r+Math.sin(i)*a,angle:i}}}function ZWe(e){const{chart:t,fill:n,line:r}=e;if(La(n))return QWe(t,n);if(n==="stack")return GWe(e);if(n==="shape")return!0;const a=JWe(e);return a instanceof Sce?a:_ce(a,r)}function QWe(e,t){const n=e.getDatasetMeta(t);return n&&e.isDatasetVisible(t)?n.dataset:null}function JWe(e){return(e.scale||{}).getPointPositionForValue?tVe(e):eVe(e)}function eVe(e){const{scale:t={},fill:n}=e,r=VWe(n,t);if(La(r)){const a=t.isHorizontal();return{x:a?r:null,y:a?null:r}}return null}function tVe(e){const{scale:t,fill:n}=e,r=t.options,a=t.getLabels().length,i=r.reverse?t.max:t.min,o=HWe(n,t,i),s=[];if(r.grid.circular){const l=t.getPointPositionForValue(0,i);return new Sce({x:l.x,y:l.y,radius:t.getDistanceFromCenterForValue(o)})}for(let l=0;l<a;++l)s.push(t.getPointPositionForValue(l,o));return s}function rD(e,t,n){const r=ZWe(t),{chart:a,index:i,line:o,scale:s,axis:l}=t,u=o.options,d=u.fill,f=u.backgroundColor,{above:h=f,below:p=f}=d||{},m=a.getDatasetMeta(i),g=rce(a,m);r&&o.points.length&&(xT(e,n),nVe(e,{line:o,target:r,above:h,below:p,area:n,scale:s,axis:l,clip:g}),bT(e))}function nVe(e,t){const{line:n,target:r,above:a,below:i,area:o,scale:s,clip:l}=t,u=n._loop?"angle":t.axis;e.save();let d=i;i!==a&&(u==="x"?(xq(e,r,o.top),aD(e,{line:n,target:r,color:a,scale:s,property:u,clip:l}),e.restore(),e.save(),xq(e,r,o.bottom)):u==="y"&&(bq(e,r,o.left),aD(e,{line:n,target:r,color:i,scale:s,property:u,clip:l}),e.restore(),e.save(),bq(e,r,o.right),d=a)),aD(e,{line:n,target:r,color:d,scale:s,property:u,clip:l}),e.restore()}function xq(e,t,n){const{segments:r,points:a}=t;let i=!0,o=!1;e.beginPath();for(const s of r){const{start:l,end:u}=s,d=a[l],f=a[ST(l,u,a)];i?(e.moveTo(d.x,d.y),i=!1):(e.lineTo(d.x,n),e.lineTo(d.x,d.y)),o=!!t.pathSegment(e,s,{move:o}),o?e.closePath():e.lineTo(f.x,n)}e.lineTo(t.first().x,n),e.closePath(),e.clip()}function bq(e,t,n){const{segments:r,points:a}=t;let i=!0,o=!1;e.beginPath();for(const s of r){const{start:l,end:u}=s,d=a[l],f=a[ST(l,u,a)];i?(e.moveTo(d.x,d.y),i=!1):(e.lineTo(n,d.y),e.lineTo(d.x,d.y)),o=!!t.pathSegment(e,s,{move:o}),o?e.closePath():e.lineTo(n,f.y)}e.lineTo(n,t.first().y),e.closePath(),e.clip()}function aD(e,t){const{line:n,target:r,property:a,color:i,scale:o,clip:s}=t,l=$We(n,r,a);for(const{source:u,target:d,start:f,end:h}of l){const{style:{backgroundColor:p=i}={}}=u,m=r!==!0;e.save(),e.fillStyle=p,rVe(e,o,s,m&&JM(a,f,h)),e.beginPath();const g=!!n.pathSegment(e,u);let y;if(m){g?e.closePath():wq(e,r,h,a);const x=!!r.pathSegment(e,d,{move:g,reverse:!0});y=g&&x,y||wq(e,r,f,a)}e.closePath(),e.fill(y?"evenodd":"nonzero"),e.restore()}}function rVe(e,t,n,r){const a=t.chart.chartArea,{property:i,start:o,end:s}=r||{};if(i==="x"||i==="y"){let l,u,d,f;i==="x"?(l=o,u=a.top,d=s,f=a.bottom):(l=a.left,u=o,d=a.right,f=s),e.beginPath(),n&&(l=Math.max(l,n.left),d=Math.min(d,n.right),u=Math.max(u,n.top),f=Math.min(f,n.bottom)),e.rect(l,u,d-l,f-u),e.clip()}}function wq(e,t,n,r){const a=t.interpolate(n,r);a&&e.lineTo(a.x,a.y)}var aVe={id:"filler",afterDatasetsUpdate(e,t,n){const r=(e.data.datasets||[]).length,a=[];let i,o,s,l;for(o=0;o<r;++o)i=e.getDatasetMeta(o),s=i.dataset,l=null,s&&s.options&&s instanceof cd&&(l={visible:e.isDatasetVisible(o),index:o,fill:UWe(s,o,r),chart:e,axis:i.controller.options.indexAxis,scale:i.vScale,line:s}),i.$filler=l,a.push(l);for(o=0;o<r;++o)l=a[o],!(!l||l.fill===!1)&&(l.fill=zWe(a,o,n.propagate))},beforeDraw(e,t,n){const r=n.drawTime==="beforeDraw",a=e.getSortedVisibleDatasetMetas(),i=e.chartArea;for(let o=a.length-1;o>=0;--o){const s=a[o].$filler;s&&(s.line.updateControlPoints(i,s.axis),r&&s.fill&&rD(e.ctx,s,i))}},beforeDatasetsDraw(e,t,n){if(n.drawTime!=="beforeDatasetsDraw")return;const r=e.getSortedVisibleDatasetMetas();for(let a=r.length-1;a>=0;--a){const i=r[a].$filler;yq(i)&&rD(e.ctx,i,e.chartArea)}},beforeDatasetDraw(e,t,n){const r=t.meta.$filler;!yq(r)||n.drawTime!=="beforeDatasetDraw"||rD(e.ctx,r,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const _q=(e,t)=>{let{boxHeight:n=t,boxWidth:r=t}=e;return e.usePointStyle&&(n=Math.min(n,t),r=e.pointStyleWidth||Math.min(r,t)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(t,n)}},iVe=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;let Sq=class extends Yd{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n,r){this.maxWidth=t,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let n=Hr(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter(r=>t.filter(r,this.chart.data))),t.sort&&(n=n.sort((r,a)=>t.sort(r,a,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:t,ctx:n}=this;if(!t.display){this.width=this.height=0;return}const r=t.labels,a=di(r.font),i=a.size,o=this._computeTitleHeight(),{boxWidth:s,itemHeight:l}=_q(r,i);let u,d;n.font=a.string,this.isHorizontal()?(u=this.maxWidth,d=this._fitRows(o,i,s,l)+10):(d=this.maxHeight,u=this._fitCols(o,a,s,l)+10),this.width=Math.min(u,t.maxWidth||this.maxWidth),this.height=Math.min(d,t.maxHeight||this.maxHeight)}_fitRows(t,n,r,a){const{ctx:i,maxWidth:o,options:{labels:{padding:s}}}=this,l=this.legendHitBoxes=[],u=this.lineWidths=[0],d=a+s;let f=t;i.textAlign="left",i.textBaseline="middle";let h=-1,p=-d;return this.legendItems.forEach((m,g)=>{const y=r+n/2+i.measureText(m.text).width;(g===0||u[u.length-1]+y+2*s>o)&&(f+=d,u[u.length-(g>0?0:1)]=0,p+=d,h++),l[g]={left:0,top:p,row:h,width:y,height:a},u[u.length-1]+=y+s}),f}_fitCols(t,n,r,a){const{ctx:i,maxHeight:o,options:{labels:{padding:s}}}=this,l=this.legendHitBoxes=[],u=this.columnSizes=[],d=o-t;let f=s,h=0,p=0,m=0,g=0;return this.legendItems.forEach((y,x)=>{const{itemWidth:b,itemHeight:w}=oVe(r,n,i,y,a);x>0&&p+w+2*s>d&&(f+=h+s,u.push({width:h,height:p}),m+=h+s,g++,h=p=0),l[x]={left:m,top:p,col:g,width:b,height:w},h=Math.max(h,b),p+=w+s}),f+=h,u.push({width:h,height:p}),f}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:a},rtl:i}}=this,o=Sv(i,this.left,this.width);if(this.isHorizontal()){let s=0,l=so(r,this.left+a,this.right-this.lineWidths[s]);for(const u of n)s!==u.row&&(s=u.row,l=so(r,this.left+a,this.right-this.lineWidths[s])),u.top+=this.top+t+a,u.left=o.leftForLtr(o.x(l),u.width),l+=u.width+a}else{let s=0,l=so(r,this.top+t+a,this.bottom-this.columnSizes[s].height);for(const u of n)u.col!==s&&(s=u.col,l=so(r,this.top+t+a,this.bottom-this.columnSizes[s].height)),u.top=l,u.left+=this.left+a,u.left=o.leftForLtr(o.x(u.left),u.width),l+=u.height+a}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;xT(t,this),this._draw(),bT(t)}}_draw(){const{options:t,columnSizes:n,lineWidths:r,ctx:a}=this,{align:i,labels:o}=t,s=va.color,l=Sv(t.rtl,this.left,this.width),u=di(o.font),{padding:d}=o,f=u.size,h=f/2;let p;this.drawTitle(),a.textAlign=l.textAlign("left"),a.textBaseline="middle",a.lineWidth=.5,a.font=u.string;const{boxWidth:m,boxHeight:g,itemHeight:y}=_q(o,f),x=function(k,N,P){if(isNaN(m)||m<=0||isNaN(g)||g<0)return;a.save();const T=An(P.lineWidth,1);if(a.fillStyle=An(P.fillStyle,s),a.lineCap=An(P.lineCap,"butt"),a.lineDashOffset=An(P.lineDashOffset,0),a.lineJoin=An(P.lineJoin,"miter"),a.lineWidth=T,a.strokeStyle=An(P.strokeStyle,s),a.setLineDash(An(P.lineDash,[])),o.usePointStyle){const j={radius:g*Math.SQRT2/2,pointStyle:P.pointStyle,rotation:P.rotation,borderWidth:T},D=l.xPlus(k,m/2),M=N+h;Vle(a,j,D,M,o.pointStyleWidth&&m)}else{const j=N+Math.max((f-g)/2,0),D=l.leftForLtr(k,m),M=Xp(P.borderRadius);a.beginPath(),Object.values(M).some(R=>R!==0)?Ib(a,{x:D,y:j,w:m,h:g,radius:M}):a.rect(D,j,m,g),a.fill(),T!==0&&a.stroke()}a.restore()},b=function(k,N,P){bm(a,P.text,k,N+y/2,u,{strikethrough:P.hidden,textAlign:l.textAlign(P.textAlign)})},w=this.isHorizontal(),_=this._computeTitleHeight();w?p={x:so(i,this.left+d,this.right-r[0]),y:this.top+d+_,line:0}:p={x:this.left+d,y:so(i,this.top+_+d,this.bottom-n[0].height),line:0},Qle(this.ctx,t.textDirection);const S=y+d;this.legendItems.forEach((k,N)=>{a.strokeStyle=k.fontColor,a.fillStyle=k.fontColor;const P=a.measureText(k.text).width,T=l.textAlign(k.textAlign||(k.textAlign=o.textAlign)),j=m+h+P;let D=p.x,M=p.y;l.setWidth(this.width),w?N>0&&D+j+d>this.right&&(M=p.y+=S,p.line++,D=p.x=so(i,this.left+d,this.right-r[p.line])):N>0&&M+S>this.bottom&&(D=p.x=D+n[p.line].width+d,p.line++,M=p.y=so(i,this.top+_+d,this.bottom-n[p.line].height));const R=l.x(D);if(x(R,M,k),D=E9e(T,D+m+h,w?D+j:this.right,t.rtl),b(l.x(D),M,k),w)p.x+=j+d;else if(typeof k.text!="string"){const W=u.lineHeight;p.y+=Cce(k,W)+d}else p.y+=S}),Jle(this.ctx,t.textDirection)}drawTitle(){const t=this.options,n=t.title,r=di(n.font),a=To(n.padding);if(!n.display)return;const i=Sv(t.rtl,this.left,this.width),o=this.ctx,s=n.position,l=r.size/2,u=a.top+l;let d,f=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),d=this.top+u,f=so(t.align,f,this.right-h);else{const m=this.columnSizes.reduce((g,y)=>Math.max(g,y.height),0);d=u+so(t.align,this.top,this.bottom-m-t.labels.padding-this._computeTitleHeight())}const p=so(s,f,f+h);o.textAlign=i.textAlign(Z6(s)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=r.string,bm(o,n.text,p,d,r)}_computeTitleHeight(){const t=this.options.title,n=di(t.font),r=To(t.padding);return t.display?n.lineHeight+r.height:0}_getLegendItemAt(t,n){let r,a,i;if(od(t,this.left,this.right)&&od(n,this.top,this.bottom)){for(i=this.legendHitBoxes,r=0;r<i.length;++r)if(a=i[r],od(t,a.left,a.left+a.width)&&od(n,a.top,a.top+a.height))return this.legendItems[r]}return null}handleEvent(t){const n=this.options;if(!cVe(t.type,n))return;const r=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const a=this._hoveredItem,i=iVe(a,r);a&&!i&&Hr(n.onLeave,[t,a,this],this),this._hoveredItem=r,r&&!i&&Hr(n.onHover,[t,r,this],this)}else r&&Hr(n.onClick,[t,r,this],this)}};function oVe(e,t,n,r,a){const i=sVe(r,e,t,n),o=lVe(a,r,t.lineHeight);return{itemWidth:i,itemHeight:o}}function sVe(e,t,n,r){let a=e.text;return a&&typeof a!="string"&&(a=a.reduce((i,o)=>i.length>o.length?i:o)),t+n.size/2+r.measureText(a).width}function lVe(e,t,n){let r=e;return typeof t.text!="string"&&(r=Cce(t,n)),r}function Cce(e,t){const n=e.text?e.text.length:0;return t*n}function cVe(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var Ece={id:"legend",_element:Sq,start(e,t,n){const r=e.legend=new Sq({ctx:e.ctx,options:n,chart:e});wo.configure(e,r,n),wo.addBox(e,r)},stop(e){wo.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const r=e.legend;wo.configure(e,r,n),r.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const r=t.datasetIndex,a=n.chart;a.isDatasetVisible(r)?(a.hide(r),t.hidden=!0):(a.show(r),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:a,color:i,useBorderRadius:o,borderRadius:s}}=e.legend.options;return e._getSortedDatasetMetas().map(l=>{const u=l.controller.getStyle(n?0:void 0),d=To(u.borderWidth);return{text:t[l.index].label,fillStyle:u.backgroundColor,fontColor:i,hidden:!l.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:u.borderColor,pointStyle:r||u.pointStyle,rotation:u.rotation,textAlign:a||u.textAlign,borderRadius:o&&(s||u.borderRadius),datasetIndex:l.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class o$ extends Yd{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=n;const a=ma(r.text)?r.text.length:1;this._padding=To(r.padding);const i=a*di(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:n,left:r,bottom:a,right:i,options:o}=this,s=o.align;let l=0,u,d,f;return this.isHorizontal()?(d=so(s,r,i),f=n+t,u=i-r):(o.position==="left"?(d=r+t,f=so(s,a,n),l=hr*-.5):(d=i-t,f=so(s,n,a),l=hr*.5),u=a-n),{titleX:d,titleY:f,maxWidth:u,rotation:l}}draw(){const t=this.ctx,n=this.options;if(!n.display)return;const r=di(n.font),i=r.lineHeight/2+this._padding.top,{titleX:o,titleY:s,maxWidth:l,rotation:u}=this._drawArgs(i);bm(t,n.text,0,0,r,{color:n.color,maxWidth:l,rotation:u,textAlign:Z6(n.align),textBaseline:"middle",translation:[o,s]})}}function uVe(e,t){const n=new o$({ctx:e.ctx,options:t,chart:e});wo.configure(e,n,t),wo.addBox(e,n),e.titleBlock=n}var Nce={id:"title",_element:o$,start(e,t,n){uVe(e,n)},stop(e){const t=e.titleBlock;wo.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const r=e.titleBlock;wo.configure(e,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const K_=new WeakMap;var dVe={id:"subtitle",start(e,t,n){const r=new o$({ctx:e.ctx,options:n,chart:e});wo.configure(e,r,n),wo.addBox(e,r),K_.set(e,r)},stop(e){wo.removeBox(e,K_.get(e)),K_.delete(e)},beforeUpdate(e,t,n){const r=K_.get(e);wo.configure(e,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Dx={average(e){if(!e.length)return!1;let t,n,r=new Set,a=0,i=0;for(t=0,n=e.length;t<n;++t){const s=e[t].element;if(s&&s.hasValue()){const l=s.tooltipPosition();r.add(l.x),a+=l.y,++i}}return i===0||r.size===0?!1:{x:[...r].reduce((s,l)=>s+l)/r.size,y:a/i}},nearest(e,t){if(!e.length)return!1;let n=t.x,r=t.y,a=Number.POSITIVE_INFINITY,i,o,s;for(i=0,o=e.length;i<o;++i){const l=e[i].element;if(l&&l.hasValue()){const u=l.getCenterPoint(),d=qM(t,u);d<a&&(a=d,s=l)}}if(s){const l=s.tooltipPosition();n=l.x,r=l.y}return{x:n,y:r}}};function Fc(e,t){return t&&(ma(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function Xu(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function fVe(e,t){const{element:n,datasetIndex:r,index:a}=t,i=e.getDatasetMeta(r).controller,{label:o,value:s}=i.getLabelAndValue(a);return{chart:e,label:o,parsed:i.getParsed(a),raw:e.data.datasets[r].data[a],formattedValue:s,dataset:i.getDataset(),dataIndex:a,datasetIndex:r,element:n}}function Cq(e,t){const n=e.chart.ctx,{body:r,footer:a,title:i}=e,{boxWidth:o,boxHeight:s}=t,l=di(t.bodyFont),u=di(t.titleFont),d=di(t.footerFont),f=i.length,h=a.length,p=r.length,m=To(t.padding);let g=m.height,y=0,x=r.reduce((_,S)=>_+S.before.length+S.lines.length+S.after.length,0);if(x+=e.beforeBody.length+e.afterBody.length,f&&(g+=f*u.lineHeight+(f-1)*t.titleSpacing+t.titleMarginBottom),x){const _=t.displayColors?Math.max(s,l.lineHeight):l.lineHeight;g+=p*_+(x-p)*l.lineHeight+(x-1)*t.bodySpacing}h&&(g+=t.footerMarginTop+h*d.lineHeight+(h-1)*t.footerSpacing);let b=0;const w=function(_){y=Math.max(y,n.measureText(_).width+b)};return n.save(),n.font=u.string,kr(e.title,w),n.font=l.string,kr(e.beforeBody.concat(e.afterBody),w),b=t.displayColors?o+2+t.boxPadding:0,kr(r,_=>{kr(_.before,w),kr(_.lines,w),kr(_.after,w)}),b=0,n.font=d.string,kr(e.footer,w),n.restore(),y+=m.width,{width:y,height:g}}function hVe(e,t){const{y:n,height:r}=t;return n<r/2?"top":n>e.height-r/2?"bottom":"center"}function pVe(e,t,n,r){const{x:a,width:i}=r,o=n.caretSize+n.caretPadding;if(e==="left"&&a+i+o>t.width||e==="right"&&a-i-o<0)return!0}function mVe(e,t,n,r){const{x:a,width:i}=n,{width:o,chartArea:{left:s,right:l}}=e;let u="center";return r==="center"?u=a<=(s+l)/2?"left":"right":a<=i/2?u="left":a>=o-i/2&&(u="right"),pVe(u,e,t,n)&&(u="center"),u}function Eq(e,t,n){const r=n.yAlign||t.yAlign||hVe(e,n);return{xAlign:n.xAlign||t.xAlign||mVe(e,t,n,r),yAlign:r}}function gVe(e,t){let{x:n,width:r}=e;return t==="right"?n-=r:t==="center"&&(n-=r/2),n}function vVe(e,t,n){let{y:r,height:a}=e;return t==="top"?r+=n:t==="bottom"?r-=a+n:r-=a/2,r}function Nq(e,t,n,r){const{caretSize:a,caretPadding:i,cornerRadius:o}=e,{xAlign:s,yAlign:l}=n,u=a+i,{topLeft:d,topRight:f,bottomLeft:h,bottomRight:p}=Xp(o);let m=gVe(t,s);const g=vVe(t,l,u);return l==="center"?s==="left"?m+=u:s==="right"&&(m-=u):s==="left"?m-=Math.max(d,h)+a:s==="right"&&(m+=Math.max(f,p)+a),{x:Ni(m,0,r.width-t.width),y:Ni(g,0,r.height-t.height)}}function X_(e,t,n){const r=To(n.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-r.right:e.x+r.left}function kq(e){return Fc([],Xu(e))}function yVe(e,t,n){return Mh(e,{tooltip:t,tooltipItems:n,type:"tooltip"})}function jq(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const kce={beforeTitle:Hu,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(r>0&&t.dataIndex<r)return n[t.dataIndex]}return""},afterTitle:Hu,beforeBody:Hu,beforeLabel:Hu,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return Kn(n)||(t+=n),t},labelColor(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Hu,afterBody:Hu,beforeFooter:Hu,footer:Hu,afterFooter:Hu};function Vo(e,t,n,r){const a=e[t].call(n,r);return typeof a>"u"?kce[t].call(n,r):a}var aO;let Tq=(aO=class extends Yd{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const n=this.chart,r=this.options.setContext(this.getContext()),a=r.enabled&&n.options.animation&&r.animations,i=new ace(this.chart,a);return a._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=yVe(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){const{callbacks:r}=n,a=Vo(r,"beforeTitle",this,t),i=Vo(r,"title",this,t),o=Vo(r,"afterTitle",this,t);let s=[];return s=Fc(s,Xu(a)),s=Fc(s,Xu(i)),s=Fc(s,Xu(o)),s}getBeforeBody(t,n){return kq(Vo(n.callbacks,"beforeBody",this,t))}getBody(t,n){const{callbacks:r}=n,a=[];return kr(t,i=>{const o={before:[],lines:[],after:[]},s=jq(r,i);Fc(o.before,Xu(Vo(s,"beforeLabel",this,i))),Fc(o.lines,Vo(s,"label",this,i)),Fc(o.after,Xu(Vo(s,"afterLabel",this,i))),a.push(o)}),a}getAfterBody(t,n){return kq(Vo(n.callbacks,"afterBody",this,t))}getFooter(t,n){const{callbacks:r}=n,a=Vo(r,"beforeFooter",this,t),i=Vo(r,"footer",this,t),o=Vo(r,"afterFooter",this,t);let s=[];return s=Fc(s,Xu(a)),s=Fc(s,Xu(i)),s=Fc(s,Xu(o)),s}_createItems(t){const n=this._active,r=this.chart.data,a=[],i=[],o=[];let s=[],l,u;for(l=0,u=n.length;l<u;++l)s.push(fVe(this.chart,n[l]));return t.filter&&(s=s.filter((d,f,h)=>t.filter(d,f,h,r))),t.itemSort&&(s=s.sort((d,f)=>t.itemSort(d,f,r))),kr(s,d=>{const f=jq(t.callbacks,d);a.push(Vo(f,"labelColor",this,d)),i.push(Vo(f,"labelPointStyle",this,d)),o.push(Vo(f,"labelTextColor",this,d))}),this.labelColors=a,this.labelPointStyles=i,this.labelTextColors=o,this.dataPoints=s,s}update(t,n){const r=this.options.setContext(this.getContext()),a=this._active;let i,o=[];if(!a.length)this.opacity!==0&&(i={opacity:0});else{const s=Dx[r.position].call(this,a,this._eventPosition);o=this._createItems(r),this.title=this.getTitle(o,r),this.beforeBody=this.getBeforeBody(o,r),this.body=this.getBody(o,r),this.afterBody=this.getAfterBody(o,r),this.footer=this.getFooter(o,r);const l=this._size=Cq(this,r),u=Object.assign({},s,l),d=Eq(this.chart,r,u),f=Nq(r,u,d,this.chart);this.xAlign=d.xAlign,this.yAlign=d.yAlign,i={opacity:1,x:f.x,y:f.y,width:l.width,height:l.height,caretX:s.x,caretY:s.y}}this._tooltipItems=o,this.$context=void 0,i&&this._resolveAnimations().update(this,i),t&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,r,a){const i=this.getCaretPosition(t,r,a);n.lineTo(i.x1,i.y1),n.lineTo(i.x2,i.y2),n.lineTo(i.x3,i.y3)}getCaretPosition(t,n,r){const{xAlign:a,yAlign:i}=this,{caretSize:o,cornerRadius:s}=r,{topLeft:l,topRight:u,bottomLeft:d,bottomRight:f}=Xp(s),{x:h,y:p}=t,{width:m,height:g}=n;let y,x,b,w,_,S;return i==="center"?(_=p+g/2,a==="left"?(y=h,x=y-o,w=_+o,S=_-o):(y=h+m,x=y+o,w=_-o,S=_+o),b=y):(a==="left"?x=h+Math.max(l,d)+o:a==="right"?x=h+m-Math.max(u,f)-o:x=this.caretX,i==="top"?(w=p,_=w-o,y=x-o,b=x+o):(w=p+g,_=w+o,y=x+o,b=x-o),S=w),{x1:y,x2:x,x3:b,y1:w,y2:_,y3:S}}drawTitle(t,n,r){const a=this.title,i=a.length;let o,s,l;if(i){const u=Sv(r.rtl,this.x,this.width);for(t.x=X_(this,r.titleAlign,r),n.textAlign=u.textAlign(r.titleAlign),n.textBaseline="middle",o=di(r.titleFont),s=r.titleSpacing,n.fillStyle=r.titleColor,n.font=o.string,l=0;l<i;++l)n.fillText(a[l],u.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+s,l+1===i&&(t.y+=r.titleMarginBottom-s)}}_drawColorBox(t,n,r,a,i){const o=this.labelColors[r],s=this.labelPointStyles[r],{boxHeight:l,boxWidth:u}=i,d=di(i.bodyFont),f=X_(this,"left",i),h=a.x(f),p=l<d.lineHeight?(d.lineHeight-l)/2:0,m=n.y+p;if(i.usePointStyle){const g={radius:Math.min(u,l)/2,pointStyle:s.pointStyle,rotation:s.rotation,borderWidth:1},y=a.leftForLtr(h,u)+u/2,x=m+l/2;t.strokeStyle=i.multiKeyBackground,t.fillStyle=i.multiKeyBackground,YM(t,g,y,x),t.strokeStyle=o.borderColor,t.fillStyle=o.backgroundColor,YM(t,g,y,x)}else{t.lineWidth=Qn(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,t.strokeStyle=o.borderColor,t.setLineDash(o.borderDash||[]),t.lineDashOffset=o.borderDashOffset||0;const g=a.leftForLtr(h,u),y=a.leftForLtr(a.xPlus(h,1),u-2),x=Xp(o.borderRadius);Object.values(x).some(b=>b!==0)?(t.beginPath(),t.fillStyle=i.multiKeyBackground,Ib(t,{x:g,y:m,w:u,h:l,radius:x}),t.fill(),t.stroke(),t.fillStyle=o.backgroundColor,t.beginPath(),Ib(t,{x:y,y:m+1,w:u-2,h:l-2,radius:x}),t.fill()):(t.fillStyle=i.multiKeyBackground,t.fillRect(g,m,u,l),t.strokeRect(g,m,u,l),t.fillStyle=o.backgroundColor,t.fillRect(y,m+1,u-2,l-2))}t.fillStyle=this.labelTextColors[r]}drawBody(t,n,r){const{body:a}=this,{bodySpacing:i,bodyAlign:o,displayColors:s,boxHeight:l,boxWidth:u,boxPadding:d}=r,f=di(r.bodyFont);let h=f.lineHeight,p=0;const m=Sv(r.rtl,this.x,this.width),g=function(P){n.fillText(P,m.x(t.x+p),t.y+h/2),t.y+=h+i},y=m.textAlign(o);let x,b,w,_,S,k,N;for(n.textAlign=o,n.textBaseline="middle",n.font=f.string,t.x=X_(this,y,r),n.fillStyle=r.bodyColor,kr(this.beforeBody,g),p=s&&y!=="right"?o==="center"?u/2+d:u+2+d:0,_=0,k=a.length;_<k;++_){for(x=a[_],b=this.labelTextColors[_],n.fillStyle=b,kr(x.before,g),w=x.lines,s&&w.length&&(this._drawColorBox(n,t,_,m,r),h=Math.max(f.lineHeight,l)),S=0,N=w.length;S<N;++S)g(w[S]),h=f.lineHeight;kr(x.after,g)}p=0,h=f.lineHeight,kr(this.afterBody,g),t.y-=i}drawFooter(t,n,r){const a=this.footer,i=a.length;let o,s;if(i){const l=Sv(r.rtl,this.x,this.width);for(t.x=X_(this,r.footerAlign,r),t.y+=r.footerMarginTop,n.textAlign=l.textAlign(r.footerAlign),n.textBaseline="middle",o=di(r.footerFont),n.fillStyle=r.footerColor,n.font=o.string,s=0;s<i;++s)n.fillText(a[s],l.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+r.footerSpacing}}drawBackground(t,n,r,a){const{xAlign:i,yAlign:o}=this,{x:s,y:l}=t,{width:u,height:d}=r,{topLeft:f,topRight:h,bottomLeft:p,bottomRight:m}=Xp(a.cornerRadius);n.fillStyle=a.backgroundColor,n.strokeStyle=a.borderColor,n.lineWidth=a.borderWidth,n.beginPath(),n.moveTo(s+f,l),o==="top"&&this.drawCaret(t,n,r,a),n.lineTo(s+u-h,l),n.quadraticCurveTo(s+u,l,s+u,l+h),o==="center"&&i==="right"&&this.drawCaret(t,n,r,a),n.lineTo(s+u,l+d-m),n.quadraticCurveTo(s+u,l+d,s+u-m,l+d),o==="bottom"&&this.drawCaret(t,n,r,a),n.lineTo(s+p,l+d),n.quadraticCurveTo(s,l+d,s,l+d-p),o==="center"&&i==="left"&&this.drawCaret(t,n,r,a),n.lineTo(s,l+f),n.quadraticCurveTo(s,l,s+f,l),n.closePath(),n.fill(),a.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){const n=this.chart,r=this.$animations,a=r&&r.x,i=r&&r.y;if(a||i){const o=Dx[t.position].call(this,this._active,this._eventPosition);if(!o)return;const s=this._size=Cq(this,t),l=Object.assign({},o,this._size),u=Eq(n,t,l),d=Nq(t,l,u,n);(a._to!==d.x||i._to!==d.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=s.width,this.height=s.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,d))}}_willRender(){return!!this.opacity}draw(t){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const a={width:this.width,height:this.height},i={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const o=To(n.padding),s=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&s&&(t.save(),t.globalAlpha=r,this.drawBackground(i,t,a,n),Qle(t,n.textDirection),i.y+=o.top,this.drawTitle(i,t,n),this.drawBody(i,t,n),this.drawFooter(i,t,n),Jle(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){const r=this._active,a=t.map(({datasetIndex:s,index:l})=>{const u=this.chart.getDatasetMeta(s);if(!u)throw new Error("Cannot find a dataset at index "+s);return{datasetIndex:s,element:u.data[l],index:l}}),i=!zE(r,a),o=this._positionChanged(a,n);(i||o)&&(this._active=a,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const a=this.options,i=this._active||[],o=this._getActiveElements(t,i,n,r),s=this._positionChanged(o,t),l=n||!zE(o,i)||s;return l&&(this._active=o,(a.enabled||a.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),l}_getActiveElements(t,n,r,a){const i=this.options;if(t.type==="mouseout")return[];if(!a)return n.filter(s=>this.chart.data.datasets[s.datasetIndex]&&this.chart.getDatasetMeta(s.datasetIndex).controller.getParsed(s.index)!==void 0);const o=this.chart.getElementsAtEventForMode(t,i.mode,i,r);return i.reverse&&o.reverse(),o}_positionChanged(t,n){const{caretX:r,caretY:a,options:i}=this,o=Dx[i.position].call(this,t,n);return o!==!1&&(r!==o.x||a!==o.y)}},Mt(aO,"positioners",Dx),aO);var jce={id:"tooltip",_element:Tq,positioners:Dx,afterInit(e,t,n){n&&(e.tooltip=new Tq({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:kce},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},xVe=Object.freeze({__proto__:null,Colors:MWe,Decimation:LWe,Filler:aVe,Legend:Ece,SubTitle:dVe,Title:Nce,Tooltip:jce});const bVe=(e,t,n,r)=>(typeof t=="string"?(n=e.push(t)-1,r.unshift({index:n,label:t})):isNaN(t)&&(n=null),n);function wVe(e,t,n,r){const a=e.indexOf(t);if(a===-1)return bVe(e,t,n,r);const i=e.lastIndexOf(t);return a!==i?n:a}const _Ve=(e,t)=>e===null?null:Ni(Math.round(e),0,t);function Pq(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class eI extends Lm{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:a,label:i}of n)r[a]===i&&r.splice(a,1);this._addedLabels=[]}super.init(t)}parse(t,n){if(Kn(t))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===t?n:wVe(r,t,An(n,t),this._addedLabels),_Ve(n,r.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:r,max:a}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(r=0),n||(a=this.getLabels().length-1)),this.min=r,this.max=a}buildTicks(){const t=this.min,n=this.max,r=this.options.offset,a=[];let i=this.getLabels();i=t===0&&n===i.length-1?i:i.slice(t,n+1),this._valueRange=Math.max(i.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let o=t;o<=n;o++)a.push({value:o});return a}getLabelForValue(t){return Pq.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}Mt(eI,"id","category"),Mt(eI,"defaults",{ticks:{callback:Pq}});function SVe(e,t){const n=[],{bounds:a,step:i,min:o,max:s,precision:l,count:u,maxTicks:d,maxDigits:f,includeBounds:h}=e,p=i||1,m=d-1,{min:g,max:y}=t,x=!Kn(o),b=!Kn(s),w=!Kn(u),_=(y-g)/(f+1);let S=CH((y-g)/m/p)*p,k,N,P,T;if(S<1e-14&&!x&&!b)return[{value:g},{value:y}];T=Math.ceil(y/S)-Math.floor(g/S),T>m&&(S=CH(T*S/m/p)*p),Kn(l)||(k=Math.pow(10,l),S=Math.ceil(S*k)/k),a==="ticks"?(N=Math.floor(g/S)*S,P=Math.ceil(y/S)*S):(N=g,P=y),x&&b&&i&&y9e((s-o)/i,S/1e3)?(T=Math.round(Math.min((s-o)/S,d)),S=(s-o)/T,N=o,P=s):w?(N=x?o:N,P=b?s:P,T=u-1,S=(P-N)/T):(T=(P-N)/S,f1(T,Math.round(T),S/1e3)?T=Math.round(T):T=Math.ceil(T));const j=Math.max(EH(S),EH(N));k=Math.pow(10,Kn(l)?j:l),N=Math.round(N*k)/k,P=Math.round(P*k)/k;let D=0;for(x&&(h&&N!==o?(n.push({value:o}),N<o&&D++,f1(Math.round((N+D*S)*k)/k,o,Aq(o,_,e))&&D++):N<o&&D++);D<T;++D){const M=Math.round((N+D*S)*k)/k;if(b&&M>s)break;n.push({value:M})}return b&&h&&P!==s?n.length&&f1(n[n.length-1].value,s,Aq(s,_,e))?n[n.length-1].value=s:n.push({value:s}):(!b||P===s)&&n.push({value:P}),n}function Aq(e,t,{horizontal:n,minRotation:r}){const a=uc(r),i=(n?Math.sin(a):Math.cos(a))||.001,o=.75*t*(""+e).length;return Math.min(t/i,o)}class KE extends Lm{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,n){return Kn(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:a,max:i}=this;const o=l=>a=n?a:l,s=l=>i=r?i:l;if(t){const l=xu(a),u=xu(i);l<0&&u<0?s(0):l>0&&u>0&&o(0)}if(a===i){let l=i===0?1:Math.abs(i*.05);s(i+l),t||o(a-l)}this.min=a,this.max=i}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=t,a;return r?(a=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,a>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${a} ticks. Limiting to 1000.`),a=1e3)):(a=this.computeTickLimit(),n=n||11),n&&(a=Math.min(n,a)),a}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,n=t.ticks;let r=this.getTickLimit();r=Math.max(2,r);const a={maxTicks:r,bounds:t.bounds,min:t.min,max:t.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},i=this._range||this,o=SVe(a,i);return t.bounds==="ticks"&&Ile(o,this,"value"),t.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const t=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&t.length){const a=(r-n)/Math.max(t.length-1,1)/2;n-=a,r+=a}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(t){return u2(t,this.chart.options.locale,this.options.ticks.format)}}class XE extends KE{determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=La(t)?t:0,this.max=La(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),n=t?this.width:this.height,r=uc(this.options.ticks.minRotation),a=(t?Math.sin(r):Math.cos(r))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,i.lineHeight/a))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}Mt(XE,"id","linear"),Mt(XE,"defaults",{ticks:{callback:yT.formatters.numeric}});const Fb=e=>Math.floor(Ff(e)),Zh=(e,t)=>Math.pow(10,Fb(e)+t);function Dq(e){return e/Math.pow(10,Fb(e))===1}function Oq(e,t,n){const r=Math.pow(10,n),a=Math.floor(e/r);return Math.ceil(t/r)-a}function CVe(e,t){const n=t-e;let r=Fb(n);for(;Oq(e,t,r)>10;)r++;for(;Oq(e,t,r)<10;)r--;return Math.min(r,Fb(e))}function EVe(e,{min:t,max:n}){t=vs(e.min,t);const r=[],a=Fb(t);let i=CVe(t,n),o=i<0?Math.pow(10,Math.abs(i)):1;const s=Math.pow(10,i),l=a>i?Math.pow(10,a):0,u=Math.round((t-l)*o)/o,d=Math.floor((t-l)/s/10)*s*10;let f=Math.floor((u-d)/Math.pow(10,i)),h=vs(e.min,Math.round((l+d+f*Math.pow(10,i))*o)/o);for(;h<n;)r.push({value:h,major:Dq(h),significand:f}),f>=10?f=f<15?15:20:f++,f>=20&&(i++,f=2,o=i>=0?1:o),h=Math.round((l+d+f*Math.pow(10,i))*o)/o;const p=vs(e.max,h);return r.push({value:p,major:Dq(p),significand:f}),r}class tI extends Lm{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,n){const r=KE.prototype.parse.apply(this,[t,n]);if(r===0){this._zero=!0;return}return La(r)&&r>0?r:null}determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=La(t)?Math.max(0,t):null,this.max=La(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!La(this._userMin)&&(this.min=t===Zh(this.min,0)?Zh(this.min,-1):Zh(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let r=this.min,a=this.max;const i=s=>r=t?r:s,o=s=>a=n?a:s;r===a&&(r<=0?(i(1),o(10)):(i(Zh(r,-1)),o(Zh(a,1)))),r<=0&&i(Zh(a,-1)),a<=0&&o(Zh(r,1)),this.min=r,this.max=a}buildTicks(){const t=this.options,n={min:this._userMin,max:this._userMax},r=EVe(n,this);return t.bounds==="ticks"&&Ile(r,this,"value"),t.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}getLabelForValue(t){return t===void 0?"0":u2(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=Ff(t),this._valueRange=Ff(this.max)-Ff(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(Ff(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const n=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+n*this._valueRange)}}Mt(tI,"id","logarithmic"),Mt(tI,"defaults",{ticks:{callback:yT.formatters.logarithmic,major:{enabled:!0}}});function nI(e){const t=e.ticks;if(t.display&&e.display){const n=To(t.backdropPadding);return An(t.font&&t.font.size,va.font.size)+n.height}return 0}function NVe(e,t,n){return n=ma(n)?n:[n],{w:I9e(e,t.string,n),h:n.length*t.lineHeight}}function Mq(e,t,n,r,a){return e===r||e===a?{start:t-n/2,end:t+n/2}:e<r||e>a?{start:t-n,end:t}:{start:t,end:t+n}}function kVe(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},n=Object.assign({},t),r=[],a=[],i=e._pointLabels.length,o=e.options.pointLabels,s=o.centerPointLabels?hr/i:0;for(let l=0;l<i;l++){const u=o.setContext(e.getPointLabelContext(l));a[l]=u.padding;const d=e.getPointPosition(l,e.drawingArea+a[l],s),f=di(u.font),h=NVe(e.ctx,f,e._pointLabels[l]);r[l]=h;const p=fo(e.getIndexAngle(l)+s),m=Math.round(K6(p)),g=Mq(m,d.x,h.w,0,180),y=Mq(m,d.y,h.h,90,270);jVe(n,t,p,g,y)}e.setCenterPoint(t.l-n.l,n.r-t.r,t.t-n.t,n.b-t.b),e._pointLabelItems=AVe(e,r,a)}function jVe(e,t,n,r,a){const i=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n));let s=0,l=0;r.start<t.l?(s=(t.l-r.start)/i,e.l=Math.min(e.l,t.l-s)):r.end>t.r&&(s=(r.end-t.r)/i,e.r=Math.max(e.r,t.r+s)),a.start<t.t?(l=(t.t-a.start)/o,e.t=Math.min(e.t,t.t-l)):a.end>t.b&&(l=(a.end-t.b)/o,e.b=Math.max(e.b,t.b+l))}function TVe(e,t,n){const r=e.drawingArea,{extra:a,additionalAngle:i,padding:o,size:s}=n,l=e.getPointPosition(t,r+a+o,i),u=Math.round(K6(fo(l.angle+Wa))),d=MVe(l.y,s.h,u),f=DVe(u),h=OVe(l.x,s.w,f);return{visible:!0,x:l.x,y:d,textAlign:f,left:h,top:d,right:h+s.w,bottom:d+s.h}}function PVe(e,t){if(!t)return!0;const{left:n,top:r,right:a,bottom:i}=e;return!(ld({x:n,y:r},t)||ld({x:n,y:i},t)||ld({x:a,y:r},t)||ld({x:a,y:i},t))}function AVe(e,t,n){const r=[],a=e._pointLabels.length,i=e.options,{centerPointLabels:o,display:s}=i.pointLabels,l={extra:nI(i)/2,additionalAngle:o?hr/a:0};let u;for(let d=0;d<a;d++){l.padding=n[d],l.size=t[d];const f=TVe(e,d,l);r.push(f),s==="auto"&&(f.visible=PVe(f,u),f.visible&&(u=f))}return r}function DVe(e){return e===0||e===180?"center":e<180?"left":"right"}function OVe(e,t,n){return n==="right"?e-=t:n==="center"&&(e-=t/2),e}function MVe(e,t,n){return n===90||n===270?e-=t/2:(n>270||n<90)&&(e-=t),e}function IVe(e,t,n){const{left:r,top:a,right:i,bottom:o}=n,{backdropColor:s}=t;if(!Kn(s)){const l=Xp(t.borderRadius),u=To(t.backdropPadding);e.fillStyle=s;const d=r-u.left,f=a-u.top,h=i-r+u.width,p=o-a+u.height;Object.values(l).some(m=>m!==0)?(e.beginPath(),Ib(e,{x:d,y:f,w:h,h:p,radius:l}),e.fill()):e.fillRect(d,f,h,p)}}function RVe(e,t){const{ctx:n,options:{pointLabels:r}}=e;for(let a=t-1;a>=0;a--){const i=e._pointLabelItems[a];if(!i.visible)continue;const o=r.setContext(e.getPointLabelContext(a));IVe(n,o,i);const s=di(o.font),{x:l,y:u,textAlign:d}=i;bm(n,e._pointLabels[a],l,u+s.lineHeight/2,s,{color:o.color,textAlign:d,textBaseline:"middle"})}}function Tce(e,t,n,r){const{ctx:a}=e;if(n)a.arc(e.xCenter,e.yCenter,t,0,ia);else{let i=e.getPointPosition(0,t);a.moveTo(i.x,i.y);for(let o=1;o<r;o++)i=e.getPointPosition(o,t),a.lineTo(i.x,i.y)}}function FVe(e,t,n,r,a){const i=e.ctx,o=t.circular,{color:s,lineWidth:l}=t;!o&&!r||!s||!l||n<0||(i.save(),i.strokeStyle=s,i.lineWidth=l,i.setLineDash(a.dash||[]),i.lineDashOffset=a.dashOffset,i.beginPath(),Tce(e,n,o,r),i.closePath(),i.stroke(),i.restore())}function LVe(e,t,n){return Mh(e,{label:n,index:t,type:"pointLabel"})}class Ox extends KE{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=To(nI(this.options)/2),n=this.width=this.maxWidth-t.width,r=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+n/2+t.left),this.yCenter=Math.floor(this.top+r/2+t.top),this.drawingArea=Math.floor(Math.min(n,r)/2)}determineDataLimits(){const{min:t,max:n}=this.getMinMax(!1);this.min=La(t)&&!isNaN(t)?t:0,this.max=La(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/nI(this.options))}generateTickLabels(t){KE.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((n,r)=>{const a=Hr(this.options.pointLabels.callback,[n,r],this);return a||a===0?a:""}).filter((n,r)=>this.chart.getDataVisibility(r))}fit(){const t=this.options;t.display&&t.pointLabels.display?kVe(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,n,r,a){this.xCenter+=Math.floor((t-n)/2),this.yCenter+=Math.floor((r-a)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,n,r,a))}getIndexAngle(t){const n=ia/(this._pointLabels.length||1),r=this.options.startAngle||0;return fo(t*n+uc(r))}getDistanceFromCenterForValue(t){if(Kn(t))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*n:(t-this.min)*n}getValueForDistanceFromCenter(t){if(Kn(t))return NaN;const n=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(t){const n=this._pointLabels||[];if(t>=0&&t<n.length){const r=n[t];return LVe(this.getContext(),t,r)}}getPointPosition(t,n,r=0){const a=this.getIndexAngle(t)-Wa+r;return{x:Math.cos(a)*n+this.xCenter,y:Math.sin(a)*n+this.yCenter,angle:a}}getPointPositionForValue(t,n){return this.getPointPosition(t,this.getDistanceFromCenterForValue(n))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:n,top:r,right:a,bottom:i}=this._pointLabelItems[t];return{left:n,top:r,right:a,bottom:i}}drawBackground(){const{backgroundColor:t,grid:{circular:n}}=this.options;if(t){const r=this.ctx;r.save(),r.beginPath(),Tce(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),r.closePath(),r.fillStyle=t,r.fill(),r.restore()}}drawGrid(){const t=this.ctx,n=this.options,{angleLines:r,grid:a,border:i}=n,o=this._pointLabels.length;let s,l,u;if(n.pointLabels.display&&RVe(this,o),a.display&&this.ticks.forEach((d,f)=>{if(f!==0||f===0&&this.min<0){l=this.getDistanceFromCenterForValue(d.value);const h=this.getContext(f),p=a.setContext(h),m=i.setContext(h);FVe(this,p,l,o,m)}}),r.display){for(t.save(),s=o-1;s>=0;s--){const d=r.setContext(this.getPointLabelContext(s)),{color:f,lineWidth:h}=d;!h||!f||(t.lineWidth=h,t.strokeStyle=f,t.setLineDash(d.borderDash),t.lineDashOffset=d.borderDashOffset,l=this.getDistanceFromCenterForValue(n.reverse?this.min:this.max),u=this.getPointPosition(s,l),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(u.x,u.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,n=this.options,r=n.ticks;if(!r.display)return;const a=this.getIndexAngle(0);let i,o;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(a),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((s,l)=>{if(l===0&&this.min>=0&&!n.reverse)return;const u=r.setContext(this.getContext(l)),d=di(u.font);if(i=this.getDistanceFromCenterForValue(this.ticks[l].value),u.showLabelBackdrop){t.font=d.string,o=t.measureText(s.label).width,t.fillStyle=u.backdropColor;const f=To(u.backdropPadding);t.fillRect(-o/2-f.left,-i-d.size/2-f.top,o+f.width,d.size+f.height)}bm(t,s.label,0,-i,d,{color:u.color,strokeColor:u.textStrokeColor,strokeWidth:u.textStrokeWidth})}),t.restore()}drawTitle(){}}Mt(Ox,"id","radialLinear"),Mt(Ox,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:yT.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}}),Mt(Ox,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),Mt(Ox,"descriptors",{angleLines:{_fallback:"grid"}});const CT={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ko=Object.keys(CT);function Iq(e,t){return e-t}function Rq(e,t){if(Kn(t))return null;const n=e._adapter,{parser:r,round:a,isoWeekday:i}=e._parseOpts;let o=t;return typeof r=="function"&&(o=r(o)),La(o)||(o=typeof r=="string"?n.parse(o,r):n.parse(o)),o===null?null:(a&&(o=a==="week"&&(c0(i)||i===!0)?n.startOf(o,"isoWeek",i):n.startOf(o,a)),+o)}function Fq(e,t,n,r){const a=Ko.length;for(let i=Ko.indexOf(e);i<a-1;++i){const o=CT[Ko[i]],s=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-t)/(s*o.size))<=r)return Ko[i]}return Ko[a-1]}function $Ve(e,t,n,r,a){for(let i=Ko.length-1;i>=Ko.indexOf(n);i--){const o=Ko[i];if(CT[o].common&&e._adapter.diff(a,r,o)>=t-1)return o}return Ko[n?Ko.indexOf(n):0]}function BVe(e){for(let t=Ko.indexOf(e)+1,n=Ko.length;t<n;++t)if(CT[Ko[t]].common)return Ko[t]}function Lq(e,t,n){if(!n)e[t]=!0;else if(n.length){const{lo:r,hi:a}=X6(n,t),i=n[r]>=t?n[r]:n[a];e[i]=!0}}function zVe(e,t,n,r){const a=e._adapter,i=+a.startOf(t[0].value,r),o=t[t.length-1].value;let s,l;for(s=i;s<=o;s=+a.add(s,1,r))l=n[s],l>=0&&(t[l].major=!0);return t}function $q(e,t,n){const r=[],a={},i=t.length;let o,s;for(o=0;o<i;++o)s=t[o],a[s]=o,r.push({value:s,major:!1});return i===0||!n?r:zVe(e,r,a,n)}class Lb extends Lm{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n={}){const r=t.time||(t.time={}),a=this._adapter=new Qze._date(t.adapters.date);a.init(n),d1(r.displayFormats,a.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return t===void 0?null:Rq(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,n=this._adapter,r=t.time.unit||"day";let{min:a,max:i,minDefined:o,maxDefined:s}=this.getUserBounds();function l(u){!o&&!isNaN(u.min)&&(a=Math.min(a,u.min)),!s&&!isNaN(u.max)&&(i=Math.max(i,u.max))}(!o||!s)&&(l(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&l(this.getMinMax(!1))),a=La(a)&&!isNaN(a)?a:+n.startOf(Date.now(),r),i=La(i)&&!isNaN(i)?i:+n.endOf(Date.now(),r)+1,this.min=Math.min(a,i-1),this.max=Math.max(a+1,i)}_getLabelBounds(){const t=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],r=t[t.length-1]),{min:n,max:r}}buildTicks(){const t=this.options,n=t.time,r=t.ticks,a=r.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&a.length&&(this.min=this._userMin||a[0],this.max=this._userMax||a[a.length-1]);const i=this.min,o=this.max,s=_9e(a,i,o);return this._unit=n.unit||(r.autoSkip?Fq(n.minUnit,this.min,this.max,this._getLabelCapacity(i)):$Ve(this,s.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:BVe(this._unit),this.initOffsets(a),t.reverse&&s.reverse(),$q(this,s,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let n=0,r=0,a,i;this.options.offset&&t.length&&(a=this.getDecimalForValue(t[0]),t.length===1?n=1-a:n=(this.getDecimalForValue(t[1])-a)/2,i=this.getDecimalForValue(t[t.length-1]),t.length===1?r=i:r=(i-this.getDecimalForValue(t[t.length-2]))/2);const o=t.length<3?.5:.25;n=Ni(n,0,o),r=Ni(r,0,o),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const t=this._adapter,n=this.min,r=this.max,a=this.options,i=a.time,o=i.unit||Fq(i.minUnit,n,r,this._getLabelCapacity(n)),s=An(a.ticks.stepSize,1),l=o==="week"?i.isoWeekday:!1,u=c0(l)||l===!0,d={};let f=n,h,p;if(u&&(f=+t.startOf(f,"isoWeek",l)),f=+t.startOf(f,u?"day":o),t.diff(r,n,o)>1e5*s)throw new Error(n+" and "+r+" are too far apart with stepSize of "+s+" "+o);const m=a.ticks.source==="data"&&this.getDataTimestamps();for(h=f,p=0;h<r;h=+t.add(h,s,o),p++)Lq(d,h,m);return(h===r||a.bounds==="ticks"||p===1)&&Lq(d,h,m),Object.keys(d).sort(Iq).map(g=>+g)}getLabelForValue(t){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(t,r.tooltipFormat):n.format(t,r.displayFormats.datetime)}format(t,n){const a=this.options.time.displayFormats,i=this._unit,o=n||a[i];return this._adapter.format(t,o)}_tickFormatFunction(t,n,r,a){const i=this.options,o=i.ticks.callback;if(o)return Hr(o,[t,n,r],this);const s=i.time.displayFormats,l=this._unit,u=this._majorUnit,d=l&&s[l],f=u&&s[u],h=r[n],p=u&&f&&h&&h.major;return this._adapter.format(t,a||(p?f:d))}generateTickLabels(t){let n,r,a;for(n=0,r=t.length;n<r;++n)a=t[n],a.label=this._tickFormatFunction(a.value,n,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const n=this._offsets,r=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(t){const n=this._offsets,r=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(t){const n=this.options.ticks,r=this.ctx.measureText(t).width,a=uc(this.isHorizontal()?n.maxRotation:n.minRotation),i=Math.cos(a),o=Math.sin(a),s=this._resolveTickFontOptions(0).size;return{w:r*i+s*o,h:r*o+s*i}}_getLabelCapacity(t){const n=this.options.time,r=n.displayFormats,a=r[n.unit]||r.millisecond,i=this._tickFormatFunction(t,0,$q(this,[t],this._majorUnit),a),o=this._getLabelSize(i),s=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return s>0?s:1}getDataTimestamps(){let t=this._cache.data||[],n,r;if(t.length)return t;const a=this.getMatchingVisibleMetas();if(this._normalized&&a.length)return this._cache.data=a[0].controller.getAllParsedValues(this);for(n=0,r=a.length;n<r;++n)t=t.concat(a[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let n,r;if(t.length)return t;const a=this.getLabels();for(n=0,r=a.length;n<r;++n)t.push(Rq(this,a[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return Lle(t.sort(Iq))}}Mt(Lb,"id","time"),Mt(Lb,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Z_(e,t,n){let r=0,a=e.length-1,i,o,s,l;n?(t>=e[r].pos&&t<=e[a].pos&&({lo:r,hi:a}=sd(e,"pos",t)),{pos:i,time:s}=e[r],{pos:o,time:l}=e[a]):(t>=e[r].time&&t<=e[a].time&&({lo:r,hi:a}=sd(e,"time",t)),{time:i,pos:s}=e[r],{time:o,pos:l}=e[a]);const u=o-i;return u?s+(l-s)*(t-i)/u:s}class rI extends Lb{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(t);this._minPos=Z_(n,this.min),this._tableRange=Z_(n,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:n,max:r}=this,a=[],i=[];let o,s,l,u,d;for(o=0,s=t.length;o<s;++o)u=t[o],u>=n&&u<=r&&a.push(u);if(a.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(o=0,s=a.length;o<s;++o)d=a[o+1],l=a[o-1],u=a[o],Math.round((d+l)/2)!==u&&i.push({time:u,pos:o/(s-1)});return i}_generate(){const t=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(t)||!r.length)&&r.splice(0,0,t),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((a,i)=>a-i)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?t=this.normalize(n.concat(r)):t=n.length?n:r,t=this._cache.all=t,t}getDecimalForValue(t){return(Z_(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const n=this._offsets,r=this.getDecimalForPixel(t)/n.factor-n.end;return Z_(this._table,r*this._tableRange+this._minPos,!0)}}Mt(rI,"id","timeseries"),Mt(rI,"defaults",Lb.defaults);var UVe=Object.freeze({__proto__:null,CategoryScale:eI,LinearScale:XE,LogarithmicScale:tI,RadialLinearScale:Ox,TimeScale:Lb,TimeSeriesScale:rI});const s$=[Zze,kWe,xVe,UVe],Pce="label";function Bq(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function WVe(e,t){const n=e.options;n&&t&&Object.assign(n,t)}function Ace(e,t){e.labels=t}function Dce(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Pce;const r=[];e.datasets=t.map(a=>{const i=e.datasets.find(o=>o[n]===a[n]);return!i||!a.data||r.includes(i)?{...a}:(r.push(i),Object.assign(i,a),i)})}function VVe(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Pce;const n={labels:[],datasets:[]};return Ace(n,e.labels),Dce(n,e.datasets,t),n}function HVe(e,t){const{height:n=150,width:r=300,redraw:a=!1,datasetIdKey:i,type:o,data:s,options:l,plugins:u=[],fallbackContent:d,updateMode:f,...h}=e,p=E.useRef(null),m=E.useRef(null),g=()=>{p.current&&(m.current=new $m(p.current,{type:o,data:VVe(s,i),options:l&&{...l},plugins:u}),Bq(t,m.current))},y=()=>{Bq(t,null),m.current&&(m.current.destroy(),m.current=null)};return E.useEffect(()=>{!a&&m.current&&l&&WVe(m.current,l)},[a,l]),E.useEffect(()=>{!a&&m.current&&Ace(m.current.config.data,s.labels)},[a,s.labels]),E.useEffect(()=>{!a&&m.current&&s.datasets&&Dce(m.current.config.data,s.datasets,i)},[a,s.datasets]),E.useEffect(()=>{m.current&&(a?(y(),setTimeout(g)):m.current.update(f))},[a,l,s.labels,s.datasets,f]),E.useEffect(()=>{m.current&&(y(),setTimeout(g))},[o]),E.useEffect(()=>(g(),()=>y()),[]),le.createElement("canvas",{ref:p,role:"img",height:n,width:r,...h},d)}const qVe=E.forwardRef(HVe);function ET(e,t){return $m.register(t),E.forwardRef((n,r)=>le.createElement(qVe,{...n,ref:r,type:e}))}const Oce=ET("line",g1),ZE=ET("bar",m1),l$=ET("doughnut",Lf),GVe=ET("pie",qE);$m.register(...s$);$m.register(...s$);$m.register(XE,x1,cd,y1,Nce,jce,Ece,Xg);Nn.defaults.baseURL;const zq=()=>{const[e,t]=E.useState(0),[n,r]=E.useState(0),[a,i]=E.useState(0),[o,s]=E.useState(0),[l,u]=E.useState([]),[d,f]=E.useState({current_total:"0.00",percentage_change:"0.00"}),[h,p]=E.useState({data:[0,0,0],period:"",donations:{morning:0,afternoon:0,evening:0},total:0}),[m,g]=E.useState({labels:[],data:[],current_total:"0.00",percentage_change:"0.00"}),[y,x]=E.useState({hourlyData:[],total:0,percentageChange:"0"}),[b,w]=E.useState({count:0,verificationStep:1}),[_,S]=E.useState({labels:[],data:[],total:0,percentage_change:"0"});E.useEffect(()=>{const O=async()=>{try{const ne=Nn.defaults.baseURL||"http://localhost:5175",J={headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,Accept:"application/json"}},ee=async me=>{try{const be=await Nn.get(`${ne}${me}`,J);if(typeof be.data=="string")throw console.error(`Invalid JSON response from ${me}:`,be.data.substring(0,100)),new Error("Invalid response format");return be.data}catch(be){throw console.error(`Error fetching from ${me}:`,be),be}},G=await ee("/api/admin/scholar-count");t(G.count);const Z=await ee("/api/admin/items-distributed");r(Z.count);const se=await ee("/api/admin/new-users-count");i(se.count);const ae=await ee("/api/admin/events-count");s(ae.count);const Y=await ee("/api/admin/generous-donors");u(Y);const X=await ee("/api/admin/donations-summary");f(X);const K=await ee("/api/admin/donation-time-stats");p(K);const F=await ee("/api/admin/donation-trends");g(F);const re=await ee("/api/admin/daily-traffic");x(re);const Q=await ee("/api/admin/scholar-reports");w(Q);const oe=await ee("/api/admin/items-distributed-stats");S(oe)}catch(ne){console.error("Error fetching data:",ne),sn.error("Failed to load dashboard data. Please check your connection and try again.")}};O();const H=setInterval(O,3e5);return()=>clearInterval(H)},[]);const[k,N]=le.useState(!1),[P,T]=le.useState({title:"",data:{}}),j=O=>{if(typeof O=="string"){if(O.includes("+"))return"positive";if(O.includes("-"))return"negative"}return""},D=()=>new Date().toLocaleString("en-US",{month:"long"}),M={labels:_.labels,datasets:[{data:_.data,backgroundColor:"#FF3D00",borderRadius:2,maxBarThickness:4}]},R={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{enabled:!0,backgroundColor:"#622226",titleColor:"#ffffff",bodyColor:"#ffffff",titleFont:{family:"Poppins",size:12},bodyFont:{family:"Poppins",size:12},padding:12,displayColors:!1,borderColor:"#EEEEEE",borderWidth:1,callbacks:{label:O=>`${O.parsed.y} items`}}},scales:{x:{grid:{display:!1},ticks:{color:"#999999",font:{family:"Poppins",size:12},maxRotation:0},border:{display:!1}},y:{grid:{display:!0,color:"#EEEEEE",drawBorder:!1},ticks:{display:!0,color:"#999999",font:{family:"Poppins",size:12},maxTicksLimit:5},border:{display:!1}}},layout:{padding:{top:20,right:20,bottom:20,left:20}}},W={labels:["Morning (5AM-12PM)","Afternoon (12PM-4PM)","Evening (4PM-9PM)"],datasets:[{data:h.data,backgroundColor:["#FFDCD7","#EE3F24","#BF4D3B"],hoverBackgroundColor:["#FFDCD7","#EE3F24","#BF4D3B"],borderWidth:2}]},B={responsive:!0,cutout:"70%",maintainAspectRatio:!1,plugins:{legend:{position:"bottom",align:"center",labels:{usePointStyle:!0,boxWidth:8,padding:15,font:{size:10}}},tooltip:{backgroundColor:"#622226",padding:15,bodyFont:{size:12,weight:"normal"},titleFont:{size:14,weight:"bold"},titleAlign:"left",bodyAlign:"left",callbacks:{label:O=>{const H=O.dataset,ne=O.dataIndex,z=H.data[ne],J=H.data.reduce((se,ae)=>se+ae,0),ee=(z/J*100).toFixed(1),G=["5am - 12pm","12pm - 4pm","4pm - 9pm"],Z=[120,85,45];return[`Time: ${G[ne]}`,`Donations: ${Z[ne]}`,`${ee}%`]},title:O=>O[0].label}}}};le.useMemo(()=>({labels:["SEP","OCT","NOV","DEC","JAN","FEB"],datasets:[{label:"Current Period",data:[65e3,75e3,9e4,85e3,82e3,88e3],borderColor:"#FF3D00",borderWidth:2,pointBackgroundColor:"#FF3D00",pointRadius:4,tension:.4,fill:!1},{label:"Previous Period",data:[6e4,7e4,85e3,8e4,78e3,83e3],borderColor:"#FFB800",borderWidth:2,pointBackgroundColor:"#FFB800",pointRadius:4,tension:.4,fill:!1}]}),[]);const V={labels:["5-8 AM","9-12 PM","1-4 PM","5-8 PM","9-12 AM"],datasets:[{data:y.hourlyData,backgroundColor:function(O){const H=O.chart,{ctx:ne,chartArea:z}=H;if(!z)return;const J=ne.createLinearGradient(0,z.bottom,0,z.top);return J.addColorStop(0,"#FFE6E6"),J.addColorStop(1,"#FF3D00"),J},borderRadius:6,borderSkipped:!1}]},q={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{backgroundColor:"#622226",padding:12,titleFont:{family:"Poppins",size:12},bodyFont:{family:"Poppins",size:12},displayColors:!1,callbacks:{label:O=>`${O.parsed.y} visitors`}}},scales:{x:{grid:{display:!1},ticks:{color:"#718096",font:{size:11},display:!0,align:"center"},offset:!0},y:{display:!1,grid:{display:!1},ticks:{display:!1}}},barThickness:12,barPercentage:.9},I=()=>{const O=(h.donations.morning/h.total*100).toFixed(1),H=(h.donations.afternoon/h.total*100).toFixed(1),ne=(h.donations.evening/h.total*100).toFixed(1);T({title:"Donation Time Analysis",data:{Period:h.period,"Morning (5AM-12PM)":`${O}% (${h.donations.morning} donations)`,"Afternoon (12PM-4PM)":`${H}% (${h.donations.afternoon} donations)`,"Evening (4PM-9PM)":`${ne}% (${h.donations.evening} donations)`,"Total Donations":`${h.total} donations`,"Most Active Time":h.donations.morning>h.donations.afternoon&&h.donations.morning>h.donations.evening?"Morning":h.donations.afternoon>h.donations.evening?"Afternoon":"Evening"}}),N(!0)};return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"sta-container-total",children:[c.jsxs("div",{className:"sta-earning-admin",children:[c.jsx("div",{className:"sta-pic-earning",children:c.jsx(One,{size:24,color:"#FF3D00"})}),c.jsxs("div",{className:"sta-earnings-text",children:[c.jsx("p",{className:"sta-earnings-text",children:"Total Scholars"}),c.jsx("div",{className:"sta-earnings-total",children:e})]})]}),c.jsxs("div",{className:"sta-donations-admin",children:[c.jsx("div",{className:"sta-pic-donation",children:c.jsx(tE,{size:24,color:"#FF3D00"})}),c.jsxs("div",{className:"sta-donations-admin-text",children:[c.jsx("p",{className:"sta-donations-admin-p",children:"Donation"}),c.jsx("div",{className:"sta-donations-total",children:d.current_total}),c.jsxs("p",{className:"sta-percent-display",children:[c.jsx("span",{className:"sta-plus-sign",children:parseFloat(d.percentage_change)>0?"+":""}),c.jsxs("span",{className:"sta-percent-rate",children:[d.percentage_change,"%"]})," ","since last month"]})]})]}),c.jsxs("div",{className:"sta-balance-admin",children:[c.jsx("div",{className:"sta-icon-wrapper",children:c.jsx(Ine,{size:24,color:"#FF3D00"})}),c.jsxs("div",{className:"sta-balance-admin-text",children:[c.jsx("p",{className:"sta-balance-admin-p",children:"Items Distributed"}),c.jsx("div",{className:"sta-balance-amount",children:n.toLocaleString()})]})]}),c.jsxs("div",{className:"sta-task-admin",children:[c.jsx("div",{className:"sta-taskicon-wrapper",children:c.jsx(cb,{size:24,color:"#FF3D00"})}),c.jsxs("div",{className:"sta-task-content",children:[c.jsx("p",{className:"sta-task-admin-p",children:"New Users"}),c.jsx("div",{className:"sta-task-total",children:a})]})]}),c.jsxs("div",{className:"sta-total-admin",children:[c.jsx("div",{className:"sta-total-icon-wrapper",children:c.jsx(Dne,{size:24,color:"#FF3D00"})}),c.jsxs("div",{className:"sta-total-content",children:[c.jsx("p",{className:"sta-total-admin-p",children:"Total Events"}),c.jsx("div",{className:"sta-total-total",children:o})]})]}),c.jsxs("div",{className:"sta-total-admin",children:[c.jsx("div",{className:"sta-scholar-icon-wrapper",children:c.jsx(wL,{size:24,color:"#FF3D00"})}),c.jsxs("div",{className:"sta-scholar-content",children:[c.jsx("p",{className:"sta-balance-admin-p",children:"Scholar Reports"}),c.jsx("div",{className:"sta-balance-amount",children:b.count})]})]})]}),c.jsx("div",{className:"sta-Bar-donut-chart-container",children:c.jsxs("div",{className:"sta-charts-container",children:[c.jsxs("div",{className:"sta-chart-bar-container",children:[c.jsx("div",{className:"sta-header-row",children:c.jsxs("div",{className:"sta-calendar-wrapper",children:[c.jsx(pc,{size:16,color:"#9e9ea1"}),c.jsx("span",{className:"sta-calendar-text",children:D()})]})}),c.jsx("div",{className:"sta-chart-header",children:c.jsxs("div",{className:"sta-chart-text-left",children:[c.jsx("p",{className:"sta-p-text-view-report-no",children:_.total}),c.jsx("div",{className:"sta-metrics-container",children:c.jsxs("div",{className:"sta-metrics-row",children:[c.jsx("p",{className:"sta-p-text",children:"Items Distributed"}),c.jsxs("div",{className:"sta-percentage-wrapper",children:[c.jsx("span",{className:"sta-arrow-up",children:parseFloat(_.percentage_change)>0?"":""}),c.jsxs("span",{className:"sta-p-text-view-report-percent",children:[Math.abs(parseFloat(_.percentage_change)),"%"]})]})]})})]})}),c.jsx("div",{className:"sta-chart-container",children:c.jsx(ZE,{data:M,options:R,height:200})})]}),c.jsx("div",{className:"sta-chart-donut-container",children:c.jsxs("div",{className:"sta-donut-chart-container",children:[c.jsxs("div",{className:"sta-donut-chart-header",children:[c.jsxs("div",{className:"sta-donut-chart-text-left",children:[c.jsx("p",{className:"sta-donut-p-text",children:"Donation Time"}),c.jsx("p",{className:"sta-donut-p-text-period",children:h.period})]}),c.jsx("div",{className:"sta-donut-chart-text-right",children:c.jsx("button",{className:"sta-donut-view-report-button",onClick:I,children:"View Report"})})]}),c.jsx("div",{className:"sta-donut-chart-section",children:c.jsx("div",{className:"sta-donut-chart-container",children:c.jsx(l$,{data:W,options:B,plugins:[{id:"customCanvasBackgroundColor",beforeDraw:O=>{const{ctx:H}=O;H.save(),H.globalCompositeOperation="destination-over",H.fillStyle="white",H.fillRect(0,0,O.width,O.height),H.restore()}}]})})})]})})]})}),c.jsxs("div",{className:"sta-rating-donors-donation-container",children:[c.jsxs("div",{className:"sta-generous-donors-container",children:[c.jsxs("div",{className:"sta-generous-donor-text",children:[c.jsx("p",{className:"sta-generous-donor-text-p",children:"Most Generous Donors"}),c.jsx("p",{className:"sta-generous-donor-text-p1",children:"Top sponsors this month"})]}),c.jsx("table",{className:"sta-donors-table",children:c.jsx("tbody",{children:l.map((O,H)=>c.jsxs("tr",{children:[c.jsx("td",{children:c.jsxs("div",{className:"sta-donor-info",children:[O.profile_photo?c.jsx("img",{src:O.profile_photo,alt:O.name,className:"sta-donor-avatar"}):c.jsx(Lne,{size:40,color:"#FF3D00",className:"sta-donor-icon"}),c.jsx("span",{className:"sta-donor-name",children:O.name})]})}),c.jsx("td",{className:"sta-donor-amount",children:O.total_donations})]},`donor-${O.id}-${H}`))})})]}),c.jsxs("div",{className:"sta-donations-chart-line-container",children:[c.jsxs("div",{className:"sta-bar-chart-header",children:[c.jsxs("div",{children:[c.jsx("div",{className:"sta-bar-chart-title",children:"Daily Traffic"}),c.jsxs("div",{className:"sta-bar-metrics",children:[c.jsx("span",{className:"sta-bar-value",children:y.total}),"",c.jsx("span",{className:"sta-bar-label",children:"donations"})]})]}),c.jsxs("div",{className:"sta-bar-change",children:[c.jsx("span",{className:"sta-bar-arrow",children:parseFloat(y.percentageChange)>0?"":""}),c.jsxs("span",{className:"sta-bar-percentage",children:[Math.abs(parseFloat(y.percentageChange)),"%"]})]})]}),c.jsx(ZE,{data:V,options:q,height:180})]})]}),k&&c.jsx("div",{className:"sta-modal-overlay",onClick:()=>N(!1),children:c.jsxs("div",{className:"sta-modal-content",onClick:O=>O.stopPropagation(),children:[c.jsxs("div",{className:"sta-modal-header",children:[c.jsx("h2",{children:P.title}),c.jsx("button",{className:"sta-modal-close",onClick:()=>N(!1),children:""})]}),c.jsx("div",{className:"sta-modal-body",children:Object.entries(P.data).map(([O,H])=>c.jsxs("div",{className:"sta-modal-item",children:[c.jsx("span",{className:"sta-modal-label",children:O}),c.jsx("span",{className:"sta-modal-value","data-trend":j(H),children:H})]},O))})]})})]})},Uq="http://localhost:5175",Q_=e=>e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A",YVe={tutoring:"Tutoring/Academic Support",mentoring:"Mentoring",counseling:"Community Counseling",healthcare:"Healthcare Support",arts_culture:"Arts & Culture Programs",sports_recreation:"Sports & Recreation",environmental:"Environmental Projects",food_distribution:"Food Distribution",shelter_support:"Shelter Support",administrative:"Administrative Support",event_planning:"Event Planning",technical:"Technical Support",elderly_support:"Elderly Support",child_care:"Child Care",translation:"Translation/Interpretation"},KVe=({volunteer:e,onClose:t})=>{var p;const[n,r]=E.useState(!1);console.log("Volunteer data received:",{id:e.id,name:e.name,skillEvidence:e.skill_evidence,skills:e.skills});let a=e.skills||[],i=e.disability;if(typeof e.skills=="string")try{a=JSON.parse(e.skills)}catch(m){console.error(`Error parsing skills for volunteer ${e.id}:`,m),a=[]}if(typeof e.disability=="string")try{i=JSON.parse(e.disability)}catch(m){console.error(`Error parsing disability for volunteer ${e.id}:`,m),i=null}const o={marginBottom:"15px"},s={marginBottom:0,gap:"8px",display:"flex",flexDirection:"row",flexWrap:"wrap"},l=m=>!m||!Array.isArray(m)||m.length===0?c.jsx("div",{className:"no-skills",children:"No skills specified"}):m.map(g=>c.jsx("div",{className:"skill-badge",children:YVe[g]||g},g)),u=e.skill_evidence&&e.skill_evidence.length>0;console.log("Has skill evidence:",u,e.skill_evidence);const d=m=>m==null?void 0:m.toLowerCase().endsWith(".pdf"),f=m=>m&&[".jpg",".jpeg",".png",".gif",".bmp",".webp"].some(y=>m.toLowerCase().endsWith(y)),h=m=>m?m.startsWith("http://")||m.startsWith("https://")?m:m.startsWith("/")?`${Uq}${m}`:`${Uq}/api${m.startsWith("/")?"":"/"}${m}`:"";return c.jsxs("div",{className:"volunteer-view-modal-overlay",onClick:t,children:[c.jsxs("div",{className:"volunteer-view-modal-content",onClick:m=>m.stopPropagation(),children:[c.jsx("button",{className:"volunteer-view-modal-close",onClick:t,children:""}),c.jsx("h2",{children:e.name}),c.jsxs("div",{className:"volunteer-profile",children:[c.jsxs("div",{className:"volunteer-info-section",children:[c.jsx("h3",{children:"Contact Information"}),c.jsxs("div",{className:"info-grid",children:[c.jsxs("div",{className:"info-item",children:[c.jsx("label",{children:"Email:"}),c.jsx("span",{children:e.email})]}),c.jsxs("div",{className:"info-item",children:[c.jsx("label",{children:"Phone:"}),c.jsx("span",{children:e.phone||"N/A"})]}),c.jsxs("div",{className:"info-item",children:[c.jsx("label",{children:"Username:"}),c.jsx("span",{children:e.username})]})]})]}),c.jsxs("div",{className:"volunteer-info-section",children:[c.jsx("h3",{children:"Personal Details"}),c.jsxs("div",{className:"info-grid",children:[c.jsxs("div",{className:"info-item",children:[c.jsx("label",{children:"Date of Birth:"}),c.jsx("span",{children:e.date_of_birth?Q_(e.date_of_birth):"N/A"})]}),c.jsxs("div",{className:"info-item",children:[c.jsx("label",{children:"Status:"}),c.jsx("span",{children:e.status})]}),c.jsxs("div",{className:"info-item",children:[c.jsx("label",{children:"Verified:"}),c.jsx("span",{children:e.is_verified?"Yes":"No"})]})]})]}),a&&Array.isArray(a)&&a.length>0&&c.jsxs("div",{className:"volunteer-info-section",style:o,children:[c.jsx("h3",{children:"Skills"}),c.jsx("div",{className:"skills-list",style:s,children:l(a)}),u&&c.jsxs("div",{className:"skill-evidence",children:[c.jsx("p",{children:c.jsx("strong",{children:"Skill Evidence:"})}),c.jsx("button",{onClick:()=>r(!0),className:"evidence-link",children:c.jsxs("div",{className:"evidence-badge",children:[c.jsx("i",{className:"material-icons",children:"description"}),c.jsx("span",{children:"View Certificate/Evidence"})]})})]})]}),i&&i.types&&Array.isArray(i.types)&&c.jsxs("div",{className:"volunteer-info-section",children:[c.jsx("h3",{children:"Disability Information"}),c.jsxs("div",{className:"disability-info",children:[c.jsxs("div",{className:"disability-types",children:[c.jsx("label",{children:"Type(s):"}),c.jsx("div",{className:"disability-badges",children:i.types.map(m=>c.jsx("span",{className:"disability-badge",children:m},m))})]}),i.details&&c.jsxs("div",{className:"disability-details",children:[c.jsx("label",{children:"Details:"}),c.jsx("p",{children:i.details})]})]})]}),c.jsxs("div",{className:"volunteer-info-section",children:[c.jsx("h3",{children:"Account Information"}),c.jsxs("div",{className:"info-grids",children:[c.jsxs("div",{className:"info-item",children:[c.jsx("label",{children:"Joined:"}),c.jsx("span",{children:Q_(e.created_at)})]}),c.jsxs("div",{className:"info-item",children:[c.jsx("label",{children:"Last Login:"}),c.jsx("span",{children:e.last_login?Q_(e.last_login):"Never"})]})]})]}),c.jsxs("div",{className:"volunteer-info-section",children:[c.jsxs("h3",{children:["Past Events (",((p=e.past_events)==null?void 0:p.length)||0,")"]}),e.past_events&&e.past_events.length>0?c.jsx("div",{className:"events-list",children:e.past_events.map(m=>c.jsxs("div",{className:"event-item","data-status":m.status,children:[c.jsx("h4",{children:m.title}),c.jsx("div",{className:"event-details",children:c.jsxs("div",{className:"event-date",children:[c.jsx("label",{children:"Date:"})," ",Q_(m.date)]})})]},m.id))}):c.jsx("p",{className:"no-events",children:"No past events found for this volunteer."})]})]})]}),n&&c.jsx("div",{className:"cert-evidence-overlay",onClick:()=>r(!1),children:c.jsxs("div",{className:"cert-evidence-container",onClick:m=>m.stopPropagation(),children:[c.jsxs("div",{className:"cert-evidence-header",children:[c.jsx("h3",{children:"Certificate/Evidence"}),c.jsx("button",{className:"cert-evidence-close-btn",onClick:()=>r(!1),children:""})]}),c.jsx("div",{className:"cert-evidence-display-area",children:d(e.skill_evidence)?c.jsx("iframe",{src:`${h(e.skill_evidence)}#toolbar=0&navpanes=0`,width:"100%",height:"500px",title:"Certificate PDF",className:"cert-evidence-pdf"}):f(e.skill_evidence)?c.jsx("img",{src:h(e.skill_evidence),alt:"Certificate",className:"cert-evidence-image"}):c.jsxs("div",{className:"cert-evidence-fallback",children:[c.jsx("p",{children:"Evidence file available but cannot be previewed."}),c.jsx("a",{href:h(e.skill_evidence),target:"_blank",rel:"noopener noreferrer",className:"cert-evidence-download-btn",children:"Download File"})]})})]})})]})},XVe=["Physical","Visual","Hearing","Cognitive","Learning","Speech","Mental Health","Other"],ZVe=({volunteer:e,onSubmit:t,onCancel:n})=>{const r=K=>{if(!K)return{first:"",middle:"",last:"",extension:""};const F=K.trim().split(" ");let re="",Q=F[F.length-1];const oe=/^(Jr\.|Sr\.|I|II|III|IV|V)$/i;F.length>1&&oe.test(Q)&&(re=Q,F.pop(),Q=F[F.length-1]||"");let me=F[0]||"",be="";return F.length>2?be=F.slice(1,-1).join(" "):F.length===2&&(Q=F[1]),{first:me,middle:be,last:Q,extension:re}},a=r(e.name||""),[i,o]=E.useState({first_name:e.first_name||a.first,middle_name:e.middle_name||a.middle,last_name:e.last_name||a.last,name_extension:e.name_extension||a.extension,gender:e.gender||"male",email:e.email||"",username:e.username||"",phone:e.phone||"",date_of_birth:e.date_of_birth?new Date(e.date_of_birth).toISOString().split("T")[0]:"",status:e.status||"active",is_verified:e.is_verified||!1,password:"",skills:[],hasDisability:null,disabilityType:[],disabilityDetails:""}),[s,l]=E.useState({}),[u,d]=E.useState(!1),[f]=E.useState(e.email||""),[h]=E.useState(e.username||""),p=E.useRef(null),m=E.useRef(null),g=E.useRef(null),y=E.useRef(null),x=E.useRef(null),b=E.useRef(null),w=E.useRef(null),_=[{value:"male",label:"Male"},{value:"female",label:"Female"},{value:"other",label:"Other"}],S=K=>{var Q,oe;const F={first_name:b,last_name:w,username:m,email:p,name:g,date_of_birth:y,password:x},re=Object.keys(K).find(me=>F[me]);re&&((Q=F[re])!=null&&Q.current)&&((oe=F[re].current)==null||oe.scrollIntoView({behavior:"smooth",block:"center"}),setTimeout(()=>{var me;(me=F[re].current)==null||me.focus()},400))};E.useEffect(()=>{Object.keys(s).length>0&&S(s)},[s]),E.useEffect(()=>{let K=e.skills,F=e.disability;if(typeof e.skills=="string")try{K=JSON.parse(e.skills)}catch(re){console.error("Error parsing skills:",re),K=[]}if(typeof e.disability=="string")try{F=JSON.parse(e.disability)}catch(re){console.error("Error parsing disability:",re),F=null}o(re=>({...re,skills:Array.isArray(K)?K:[],hasDisability:!!F,disabilityType:(F==null?void 0:F.types)||[],disabilityDetails:(F==null?void 0:F.details)||""}))},[e]);const k=[{value:"tutoring",label:"Tutoring/Academic Support",description:"Helping students with homework, teaching subjects, conducting study sessions"},{value:"mentoring",label:"Mentoring",description:"Providing guidance, career advice, and personal development support"},{value:"counseling",label:"Community Counseling",description:"Offering emotional support, conflict resolution, and basic mental health services"},{value:"healthcare",label:"Healthcare Support",description:"First aid, health education, medical assistance, health awareness programs"},{value:"arts_culture",label:"Arts & Culture Programs",description:"Teaching music, art, dance, theater, organizing cultural events"},{value:"sports_recreation",label:"Sports & Recreation",description:"Coaching sports, organizing games, planning recreational activities"},{value:"environmental",label:"Environmental Projects",description:"Clean-ups, recycling initiatives, environmental education"},{value:"food_distribution",label:"Food Distribution",description:"Preparing meals, distributing food packages, managing food banks"},{value:"shelter_support",label:"Shelter Support",description:"Working in shelters, housing programs, construction assistance"},{value:"administrative",label:"Administrative Support",description:"Office management, data entry, record keeping, documentation"},{value:"event_planning",label:"Event Planning",description:"Organizing community events, fundraisers, awareness programs"},{value:"technical",label:"Technical Support",description:"Computer skills training, tech troubleshooting, digital literacy programs"},{value:"elderly_support",label:"Elderly Support",description:"Elder care, companionship, assistance with daily activities"},{value:"child_care",label:"Child Care",description:"Childcare services, after-school programs, recreational activities for children"},{value:"translation",label:"Translation/Interpretation",description:"Language services for non-native speakers in the community"}],N=K=>{const{name:F,value:re,type:Q}=K.target;Q==="checkbox"?o(oe=>({...oe,[F]:K.target.checked})):(o(oe=>({...oe,[F]:re})),s[F]&&l(oe=>{const me={...oe};return delete me[F],me}))},P=K=>{const F=K.target.value;K.target.checked?o(re=>({...re,disabilityType:[...re.disabilityType,F]})):o(re=>({...re,disabilityType:re.disabilityType.filter(Q=>Q!==F)}))},T=K=>{o(F=>({...F,hasDisability:K,disabilityType:K?F.disabilityType:[],disabilityDetails:K?F.disabilityDetails:""}))},j=()=>{const K={};if(i.first_name.trim()||(K.first_name="First name is required"),i.last_name.trim()||(K.last_name="Last name is required"),i.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(i.email)||(K.email="Please enter a valid email address"):K.email="Email is required",i.username.trim()?i.username.length<3&&(K.username="Username must be at least 3 characters"):K.username="Username is required",i.password&&i.password.length>0&&i.password.length<6&&(K.password="Password must be at least 6 characters"),i.date_of_birth){const F=new Date(i.date_of_birth),re=new Date,Q=new Date;Q.setFullYear(re.getFullYear()-16),F>Q&&(K.date_of_birth="Volunteers must be at least 16 years old")}return l(K),Object.keys(K).length>0&&S(K),Object.keys(K).length===0},D=async K=>{var F;try{return K===f?!1:!(await Le.get(`/check-email?email=${encodeURIComponent(K)}`)).data.available}catch(re){return console.error("Error checking email:",re),((F=re.response)==null?void 0:F.status)===409}},M=async K=>{var F;try{return K===h?!1:!(await Le.get(`/check-username?username=${encodeURIComponent(K)}`)).data.available}catch(re){return console.error("Error checking username:",re),((F=re.response)==null?void 0:F.status)===409}},R=async K=>{var F;if(K.preventDefault(),!!j()){d(!0),l({});try{let re=!1,Q=!1;if(i.email!==f&&(re=await D(i.email)),i.username!==h&&(Q=await M(i.username)),re||Q){const be={};re&&(be.email="Email is already taken"),Q&&(be.username="Username is already taken"),l(be),d(!1);return}const oe=[i.first_name,i.middle_name,i.last_name,i.name_extension].filter(Boolean).join(" "),me={...i,name:oe,password:i.password||void 0,disability:i.hasDisability?{types:i.disabilityType,details:i.disabilityDetails}:null};delete me.hasDisability,delete me.disabilityType,delete me.disabilityDetails,await t(me)}catch(re){if(console.error("Error updating volunteer:",re),(F=re.response)!=null&&F.data){const Q={};re.response.data.field==="username"?Q.username=re.response.data.message||"Username already taken":re.response.data.field==="email"?Q.email=re.response.data.message||"Email already registered":re.response.data.field==="date_of_birth"?Q.date_of_birth=re.response.data.message||"Invalid date of birth":Q.form=re.response.data.message||re.response.data.error||"An error occurred",l(Q)}else l({form:"Failed to update volunteer"})}finally{d(!1)}}},[W,B]=E.useState(null),[V,q]=E.useState(null),[I,O]=E.useState(""),[H,ne]=E.useState(!1),z=K=>{const F=K.target.value;F&&!i.skills.includes(F)&&(O(F),o(re=>({...re,skills:[...re.skills,F]})),s.skills&&l(re=>{const Q={...re};return delete Q.skills,Q}))},J=K=>{o(F=>({...F,skills:F.skills.filter(re=>re!==K)})),i.skills.length<=1&&(W||V)&&window.confirm("Do you want to remove the skill evidence too?")&&(B(null),q(null),ne(!0))},ee=K=>{var re;const F=((re=K.target.files)==null?void 0:re[0])||null;B(F),F&&(ne(!1),s.skillEvidence&&l(Q=>{const oe={...Q};return delete oe.skillEvidence,oe}))},G=()=>{B(null),q(null),ne(!0)},Z=K=>{const F=k.find(re=>re.value===K);return c.jsxs("div",{className:"skill-badge",children:[c.jsx("span",{className:"skill-label",children:(F==null?void 0:F.label)||K}),c.jsx("button",{type:"button",className:"remove-skill-btn",onClick:()=>J(K),title:"Remove skill",children:""})]},K)},se=K=>{if(!K)return"Evidence File";const F=K.split("/");return F[F.length-1]},ae=K=>K<1024?`${K} B`:K<1024*1024?`${(K/1024).toFixed(1)} KB`:`${(K/(1024*1024)).toFixed(1)} MB`;E.useEffect(()=>{if(e){let K=[];if(e.skills)if(typeof e.skills=="string")try{K=JSON.parse(e.skills)}catch(de){console.error("Error parsing skills:",de),K=[]}else Array.isArray(e.skills)&&(K=e.skills);let F=!1,re=[],Q="";if(e.disability){let de=null;if(typeof e.disability=="string")try{de=JSON.parse(e.disability)}catch(we){console.error("Error parsing disability:",we)}else de=e.disability;de&&(de.hasDisability!==void 0?F=de.hasDisability===!0:de.types&&de.types.length>0&&(F=!0),re=de.types||[],Q=de.details||"")}e.skill_evidence&&q(e.skill_evidence),console.log("Volunteer name fields:",{first_name:e.first_name,middle_name:e.middle_name,last_name:e.last_name,name_extension:e.name_extension,name:e.name});let oe=e.first_name,me=e.middle_name,be=e.last_name,ye=e.name_extension;if((!oe||!be)&&e.name){const de=r(e.name||"");oe=oe||de.first,me=me||de.middle,be=be||de.last,ye=ye||de.extension}o({first_name:oe||"",middle_name:me||"",last_name:be||"",name_extension:ye||"",gender:e.gender||"male",username:e.username||"",email:e.email||"",phone:e.phone||"",date_of_birth:e.date_of_birth?new Date(e.date_of_birth).toISOString().split("T")[0]:"",status:e.status||"active",is_verified:e.is_verified||!1,password:"",skills:K,hasDisability:F,disabilityType:re,disabilityDetails:Q})}},[e]);const Y=()=>c.jsxs("div",{className:"form-section",children:[c.jsxs("h3",{className:"section-title",children:[c.jsx("span",{className:"section-icon material-icons",children:"accessibility"}),"Disability Information"]}),c.jsx("p",{className:"section-description",children:"We support volunteers of all abilities. This information helps us provide appropriate support."}),c.jsxs("div",{className:"disability-question",children:[c.jsx("p",{children:"Do you have any disabilities or conditions we should be aware of?"}),c.jsxs("div",{className:"radio-options",children:[c.jsxs("label",{className:i.hasDisability===!0?"radio-selected":"",children:[c.jsx("input",{type:"radio",name:"hasDisability",checked:i.hasDisability===!0,onChange:()=>T(!0)}),"Yes"]}),c.jsxs("label",{className:i.hasDisability===!1?"radio-selected":"",children:[c.jsx("input",{type:"radio",name:"hasDisability",checked:i.hasDisability===!1,onChange:()=>T(!1)}),"No"]})]})]}),i.hasDisability&&c.jsxs("div",{className:"disability-details",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Type of disability/condition:"}),c.jsx("div",{className:"checkbox-group",children:XVe.map(K=>c.jsxs("label",{className:"checkbox-label",children:[c.jsx("input",{type:"checkbox",name:"disabilityType",value:K,checked:i.disabilityType.includes(K),onChange:P}),K]},K))})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"disabilityDetails",children:"Additional details (optional):"}),c.jsx("textarea",{id:"disabilityDetails",name:"disabilityDetails",value:i.disabilityDetails,onChange:N,placeholder:"Please provide any details that would help us accommodate your needs",rows:3})]})]})]}),X=()=>c.jsxs("div",{className:"form-section",children:[c.jsxs("h3",{className:"section-title",children:[c.jsx("span",{className:"section-icon material-icons",children:"build"}),"Skills"]}),c.jsx("p",{className:"section-description",children:"Select skills this volunteer has:"}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"skills",children:"Select Skills"}),c.jsxs("select",{id:"skills",value:I,onChange:z,className:s.skills?"error-input":"",children:[c.jsx("option",{value:"",children:"-- Select a skill to add --"}),k.map(K=>c.jsx("option",{value:K.value,disabled:i.skills.includes(K.value),children:K.label},K.value))]}),s.skills&&c.jsx("span",{className:"error-message",children:s.skills})]}),i.skills.length>0&&c.jsxs("div",{className:"selected-skills",children:[c.jsx("label",{children:"Selected skills:"}),c.jsx("div",{className:"skill-badges",children:i.skills.map(K=>Z(K))}),c.jsx("div",{className:"skills-description",children:i.skills.map(K=>{const F=k.find(re=>re.value===K);return F?c.jsxs("div",{className:"skill-description-item",children:[c.jsxs("strong",{children:[F.label,":"]})," ",F.description]},K):null})})]}),i.skills.length>0&&c.jsxs("div",{className:"form-group document-upload-container",children:[c.jsxs("label",{htmlFor:"skillEvidence",children:["Skill Evidence/Certificate ",c.jsx("span",{className:"upload-hint",children:"(Certificate, proof of training, or other evidence)"})]}),c.jsxs("div",{className:`file-upload-wrapper ${s.skillEvidence?"has-error":""}`,children:[!W&&!V&&c.jsxs(c.Fragment,{children:[c.jsxs("label",{htmlFor:"skillEvidence",className:"file-upload-label",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",children:c.jsx("path",{d:"M19.35 10.04A7.49 7.49 0 0 0 12 4C9.11 4 6.6 5.64 5.35 8.04A5.994 5.994 0 0 0 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM14 13v4h-4v-4H7l5-5 5 5h-3z"})}),c.jsx("span",{children:"Upload evidence of skills"})]}),c.jsx("input",{type:"file",id:"skillEvidence",accept:".pdf,.jpg,.jpeg,.png",onChange:ee,className:"file-input"})]}),W&&c.jsxs("div",{className:"file-preview",children:[c.jsxs("div",{className:"file-info",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",children:c.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm-1 1.5V8H19v12H5V4h8v-.5zM7 13h10v1H7v-1zm0 3h10v1H7v-1zm0-6h5v1H7v-1z"})}),c.jsxs("span",{className:"file-name",children:[W.name,c.jsxs("span",{className:"file-size",children:["(",ae(W.size),")"]})]})]}),c.jsx("button",{type:"button",className:"remove-file-btn",onClick:()=>B(null),title:"Remove file",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"20",height:"20",children:c.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})})]}),!W&&V&&!H&&c.jsxs("div",{className:"file-preview current-evidence",children:[c.jsxs("div",{className:"file-info",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",children:c.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm-1 1.5V8H19v12H5V4h8v-.5zM7 13h10v1H7v-1zm0 3h10v1H7v-1zm0-6h5v1H7v-1z"})}),c.jsxs("span",{className:"file-name",children:[se(V),c.jsx("span",{className:"current-evidence-label",children:" (Current Evidence)"})]})]}),c.jsxs("div",{className:"evidence-actions",children:[c.jsx("a",{href:V,target:"_blank",rel:"noopener noreferrer",className:"view-evidence-btn",title:"View evidence",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"20",height:"20",children:c.jsx("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"})})}),c.jsxs("label",{htmlFor:"skillEvidence",className:"change-evidence-btn",title:"Change evidence",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"20",height:"20",children:c.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"})}),c.jsx("input",{type:"file",id:"skillEvidence",accept:".pdf,.jpg,.jpeg,.png",onChange:ee,className:"file-input"})]}),c.jsx("button",{type:"button",className:"remove-file-btn",onClick:G,title:"Remove evidence",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"20",height:"20",children:c.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})})]})]})]}),c.jsx("p",{className:"evidence-hint",children:"Upload a certificate, training record, or proof of experience for your primary skill."}),s.skillEvidence&&c.jsx("span",{className:"error-message",children:s.skillEvidence})]})]});return c.jsx("div",{className:"modal-overlay",children:c.jsxs("div",{className:"modal-contents wide-form",children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{children:"Edit Volunteer"}),c.jsx("button",{className:"close-button",onClick:n,children:""})]}),s.form&&c.jsx("div",{className:"error-banner",children:s.form}),c.jsxs("form",{onSubmit:R,className:"edit-form",children:[c.jsxs("div",{className:"form-section",children:[c.jsxs("h3",{className:"section-title",children:[c.jsx("span",{className:"section-icon material-icons",children:"person"}),"Personal Information"]}),c.jsxs("div",{className:"form-row",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"First Name:"}),c.jsx("input",{type:"text",name:"first_name",value:i.first_name,onChange:N,required:!0,placeholder:"Enter first name",ref:b,className:s.first_name?"error-input":""}),s.first_name&&c.jsx("span",{className:"error-message",children:s.first_name})]}),c.jsxs("div",{className:"form-group",children:[c.jsxs("label",{children:["Middle Name: ",c.jsx("span",{className:"optional-field",children:"(Optional)"})]}),c.jsx("input",{type:"text",name:"middle_name",value:i.middle_name,onChange:N,placeholder:"Enter middle name"})]})]}),c.jsxs("div",{className:"form-row",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Last Name:"}),c.jsx("input",{type:"text",name:"last_name",value:i.last_name,onChange:N,required:!0,placeholder:"Enter last name",ref:w,className:s.last_name?"error-input":""}),s.last_name&&c.jsx("span",{className:"error-message",children:s.last_name})]}),c.jsxs("div",{className:"form-group",children:[c.jsxs("label",{children:["Name Extension: ",c.jsx("span",{className:"optional-field",children:"(Optional)"})]}),c.jsx("input",{type:"text",name:"name_extension",value:i.name_extension,onChange:N,placeholder:"Jr., Sr., III, etc."})]})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Gender:"}),c.jsx("div",{className:"gender-options",children:_.map(K=>c.jsxs("label",{className:"gender-option",children:[c.jsx("input",{type:"radio",name:"gender",value:K.value,checked:i.gender===K.value,onChange:N}),c.jsx("span",{className:"radio-checkmark"}),c.jsx("span",{children:K.label})]},K.value))})]}),c.jsxs("div",{className:"form-row",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Email:"}),c.jsx("input",{type:"email",name:"email",value:i.email,onChange:N,required:!0,placeholder:"Enter email address",ref:p,className:s.email?"error-input":""}),s.email&&c.jsx("span",{className:"error-message",children:s.email})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Phone Number:"}),c.jsx("input",{type:"tel",name:"phone",value:i.phone,onChange:N,placeholder:"Enter phone number"})]})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Date of Birth:"}),c.jsx("input",{type:"date",name:"date_of_birth",value:i.date_of_birth,onChange:N,className:s.date_of_birth?"error-input":"",ref:y,max:(()=>{const K=new Date;return K.setFullYear(K.getFullYear()-16),K.toISOString().split("T")[0]})()}),s.date_of_birth&&c.jsx("span",{className:"error-message",children:s.date_of_birth}),c.jsx("span",{className:"form-note",children:"Volunteers must be at least 16 years old"})]})]}),c.jsxs("div",{className:"form-section",children:[c.jsxs("h3",{className:"section-title",children:[c.jsx("span",{className:"section-icon material-icons",children:"account_circle"}),"Account Information"]}),c.jsxs("div",{className:"form-row",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Username:"}),c.jsx("input",{type:"text",name:"username",value:i.username,onChange:N,placeholder:"Enter username",ref:m,className:s.username?"error-input":""}),s.username&&c.jsx("span",{className:"error-message",children:s.username})]}),c.jsxs("div",{className:"form-group",children:[c.jsxs("label",{children:["Password: ",c.jsx("span",{className:"optional-field",children:"(Leave empty to keep current)"})]}),c.jsx("input",{type:"password",name:"password",value:i.password,onChange:N,placeholder:"Enter new password",ref:x,className:s.password?"error-input":""}),s.password&&c.jsx("span",{className:"error-message",children:s.password})]})]}),c.jsxs("div",{className:"form-row",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Status:"}),c.jsxs("select",{name:"status",value:i.status,onChange:N,className:"status-select",children:[c.jsx("option",{value:"active",children:"Active"}),c.jsx("option",{value:"inactive",children:"Inactive"}),c.jsx("option",{value:"pending",children:"Pending"})]})]}),c.jsx("div",{className:"form-group verification-checkbox",children:c.jsxs("label",{className:"checkbox-container",children:[c.jsx("input",{type:"checkbox",name:"is_verified",checked:i.is_verified,onChange:N}),c.jsx("span",{className:"checkbox-label",children:"Verified Account"})]})})]})]}),X(),Y(),c.jsxs("div",{className:"form-actions",children:[c.jsx("button",{type:"submit",className:"submit-btn",disabled:u,children:u?c.jsx("span",{className:"spinner"}):"Save Changes"}),c.jsx("button",{type:"button",className:"cancel-btn",onClick:n,disabled:u,children:"Cancel"})]})]})]})})},QVe=({onSubmit:e,onCancel:t})=>{const[n,r]=E.useState({first_name:"",middle_name:"",last_name:"",name_extension:"",gender:"male",username:"",email:"",password:"",phone:"",date_of_birth:"",status:"active",is_verified:!1,skills:[],hasDisability:!1,disabilityType:[],disabilityDetails:""}),[a,i]=E.useState(null),[o,s]=E.useState(""),[l,u]=E.useState({}),[d,f]=E.useState(!1),h=[{value:"tutoring",label:"Tutoring/Academic Support",description:"Helping students with homework, teaching subjects, conducting study sessions"},{value:"mentoring",label:"Mentoring",description:"Providing guidance, career advice, and personal development support"},{value:"counseling",label:"Community Counseling",description:"Offering emotional support, conflict resolution, and basic mental health services"},{value:"healthcare",label:"Healthcare Support",description:"First aid, health education, medical assistance, health awareness programs"},{value:"arts_culture",label:"Arts & Culture Programs",description:"Teaching music, art, dance, theater, organizing cultural events"},{value:"sports_recreation",label:"Sports & Recreation",description:"Coaching sports, organizing games, planning recreational activities"},{value:"environmental",label:"Environmental Projects",description:"Clean-ups, recycling initiatives, environmental education"},{value:"food_distribution",label:"Food Distribution",description:"Preparing meals, distributing food packages, managing food banks"},{value:"shelter_support",label:"Shelter Support",description:"Working in shelters, housing programs, construction assistance"},{value:"administrative",label:"Administrative Support",description:"Office management, data entry, record keeping, documentation"},{value:"event_planning",label:"Event Planning",description:"Organizing community events, fundraisers, awareness programs"},{value:"technical",label:"Technical Support",description:"Computer skills training, tech troubleshooting, digital literacy programs"},{value:"elderly_support",label:"Elderly Support",description:"Elder care, companionship, assistance with daily activities"},{value:"child_care",label:"Child Care",description:"Childcare services, after-school programs, recreational activities for children"},{value:"translation",label:"Translation/Interpretation",description:"Language services for non-native speakers in the community"}],p=["Physical","Mental","Psychological","Learning","Other"],m=B=>{const{name:V,value:q,type:I}=B.target;I==="checkbox"?r(O=>({...O,[V]:B.target.checked})):(r(O=>({...O,[V]:q})),l[V]&&u(O=>{const H={...O};return delete H[V],H}))},g=B=>{const V=B.target.value;V&&!n.skills.includes(V)&&(s(V),r(q=>({...q,skills:[...q.skills,V]})),l.skills&&u(q=>{const I={...q};return delete I.skills,I}))},y=B=>{r(V=>({...V,skills:V.skills.filter(q=>q!==B)})),n.skills.length<=1&&i(null)},x=B=>{var q;const V=((q=B.target.files)==null?void 0:q[0])||null;i(V),V&&l.skillEvidence&&u(I=>{const O={...I};return delete O.skillEvidence,O})},b=B=>{const V=B.target.value;B.target.checked?r(q=>({...q,disabilityType:[...q.disabilityType,V]})):r(q=>({...q,disabilityType:q.disabilityType.filter(I=>I!==V)}))},w=B=>{r(V=>({...V,hasDisability:B,disabilityType:B?V.disabilityType:[],disabilityDetails:B?V.disabilityDetails:""}))},_=le.useRef(null),S=le.useRef(null),k=le.useRef(null),N=le.useRef(null),P=le.useRef(null),T=le.useRef(null),j=B=>{var I,O;const V={first_name:P,last_name:T,username:S,email:_,name:k,password:N},q=Object.keys(B).find(H=>V[H]);q&&((I=V[q])!=null&&I.current)&&((O=V[q].current)==null||O.scrollIntoView({behavior:"smooth",block:"center"}),setTimeout(()=>{var H;(H=V[q].current)==null||H.focus()},400))};le.useEffect(()=>{Object.keys(l).length>0&&j(l)},[l]);const D=()=>{const B={};if(n.first_name.trim()||(B.first_name="First name is required"),n.last_name.trim()||(B.last_name="Last name is required"),n.username.trim()?n.username.length<3&&(B.username="Username must be at least 3 characters"):B.username="Username is required",n.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n.email)||(B.email="Please enter a valid email address"):B.email="Email is required",n.password?n.password.length<6&&(B.password="Password must be at least 6 characters"):B.password="Password is required",n.date_of_birth){const V=new Date(n.date_of_birth),q=new Date,I=new Date;I.setFullYear(q.getFullYear()-16),V>I&&(B.date_of_birth="Volunteers must be at least 16 years old")}return n.skills.length===0&&(B.skills="Please select at least one skill"),n.skills.length>0&&!a?B.skillEvidence="Please upload evidence for at least one of your skills":a&&a.size>5*1024*1024&&(B.skillEvidence="File is too large (max 5MB)"),u(B),Object.keys(B).length>0&&j(B),Object.keys(B).length===0},M=async B=>{var q;if(B.preventDefault(),!D())return;f(!0);const V=[n.first_name,n.middle_name,n.last_name,n.name_extension].filter(Boolean).join(" ");try{const I=new FormData;if(Object.entries(n).forEach(([O,H])=>{O!=="skills"&&O!=="disabilityType"&&O!=="hasDisability"&&O!=="disabilityDetails"&&I.append(O,H)}),I.append("name",V),I.append("skills",JSON.stringify(n.skills)),console.log("Skill evidence file to upload:",a),a&&(I.append("skillEvidence",a),console.log("Added skill evidence to FormData")),n.hasDisability){const O={types:n.disabilityType,details:n.disabilityDetails};I.append("disability",JSON.stringify(O))}else I.append("disability",JSON.stringify({hasDisability:!1}));for(let O of I.entries())console.log(O[0]+": "+(O[0]==="skillEvidence"?"File object":O[1]));await e(I),r({first_name:"",middle_name:"",last_name:"",name_extension:"",gender:"male",username:"",email:"",password:"",phone:"",date_of_birth:"",status:"active",is_verified:!1,skills:[],hasDisability:!1,disabilityType:[],disabilityDetails:""}),i(null),s("")}catch(I){if(console.error("Error submitting form:",I),(q=I.response)!=null&&q.data){const O={...l};I.response.data.field==="username"?O.username=I.response.data.message||"Username already taken":I.response.data.field==="email"?O.email=I.response.data.message||"Email already registered":O.form=I.response.data.message||"An error occurred",u(O),setTimeout(()=>{j(O)},100)}else u(O=>({...O,form:"Failed to create volunteer"}))}finally{f(!1)}},R=[{value:"male",label:"Male"},{value:"female",label:"Female"},{value:"other",label:"Other"}],W=B=>{const V=h.find(q=>q.value===B);return c.jsxs("div",{className:"skill-badge",children:[c.jsx("span",{className:"skill-label",children:(V==null?void 0:V.label)||B}),c.jsx("button",{type:"button",className:"remove-skill-btn",onClick:()=>y(B),title:"Remove skill",children:""})]},B)};return c.jsx("div",{className:"modal-overlay",children:c.jsxs("div",{className:"modal-contents wide-form",children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{children:"New Volunteer"}),c.jsx("button",{className:"close-button",onClick:t,children:""})]}),l.form&&c.jsx("div",{className:"error-banner",children:l.form}),c.jsxs("form",{onSubmit:M,className:"edit-form",children:[c.jsxs("div",{className:"form-section",children:[c.jsxs("h3",{className:"section-title",children:[c.jsx("span",{className:"section-icon material-icons",children:"person"}),"Personal Information"]}),c.jsxs("div",{className:"form-row",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"First Name:"}),c.jsx("input",{type:"text",name:"first_name",value:n.first_name,onChange:m,required:!0,placeholder:"Enter first name",className:l.first_name?"error-input":"",ref:P}),l.first_name&&c.jsx("span",{className:"error-message",children:l.first_name})]}),c.jsxs("div",{className:"form-group",children:[c.jsxs("label",{children:["Middle Name: ",c.jsx("span",{className:"optional-field",children:"(Optional)"})]}),c.jsx("input",{type:"text",name:"middle_name",value:n.middle_name,onChange:m,placeholder:"Enter middle name"})]})]}),c.jsxs("div",{className:"form-row",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Last Name:"}),c.jsx("input",{type:"text",name:"last_name",value:n.last_name,onChange:m,required:!0,placeholder:"Enter last name",className:l.last_name?"error-input":"",ref:T}),l.last_name&&c.jsx("span",{className:"error-message",children:l.last_name})]}),c.jsxs("div",{className:"form-group",children:[c.jsxs("label",{children:["Name Extension: ",c.jsx("span",{className:"optional-field",children:"(Optional)"})]}),c.jsx("input",{type:"text",name:"name_extension",value:n.name_extension,onChange:m,placeholder:"Jr., Sr., III, etc."})]})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Gender:"}),c.jsx("div",{className:"gender-options",children:R.map(B=>c.jsxs("label",{className:"gender-option",children:[c.jsx("input",{type:"radio",name:"gender",value:B.value,checked:n.gender===B.value,onChange:m}),c.jsx("span",{className:"radio-checkmark"}),c.jsx("span",{children:B.label})]},B.value))})]}),c.jsxs("div",{className:"form-row",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Email:"}),c.jsx("input",{type:"email",name:"email",value:n.email,onChange:m,required:!0,placeholder:"Enter email address",className:l.email?"error-input":"",ref:_}),l.email&&c.jsx("span",{className:"error-message",children:l.email})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Phone:"}),c.jsx("input",{type:"tel",name:"phone",value:n.phone,onChange:m,placeholder:"Enter phone number"})]})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Date of Birth:"}),c.jsx("input",{type:"date",name:"date_of_birth",value:n.date_of_birth,onChange:m,placeholder:"Select date of birth",className:l.date_of_birth?"error-input":"",max:(()=>{const B=new Date;return B.setFullYear(B.getFullYear()-16),B.toISOString().split("T")[0]})()}),l.date_of_birth&&c.jsx("span",{className:"error-message",children:l.date_of_birth}),c.jsx("span",{className:"form-note",children:"Volunteers must be at least 16 years old"})]})]}),c.jsxs("div",{className:"form-section",children:[c.jsxs("h3",{className:"section-title",children:[c.jsx("span",{className:"section-icon material-icons",children:"account_circle"}),"Account Information"]}),c.jsxs("div",{className:"form-row",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Username:"}),c.jsx("input",{type:"text",name:"username",value:n.username,onChange:m,required:!0,placeholder:"Create username",className:l.username?"error-input":"",ref:S}),l.username&&c.jsx("span",{className:"error-message",children:l.username})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Password:"}),c.jsx("input",{type:"password",name:"password",value:n.password,onChange:m,required:!0,placeholder:"Create password",className:l.password?"error-input":"",ref:N}),l.password&&c.jsx("span",{className:"error-message",children:l.password})]})]}),c.jsxs("div",{className:"form-row",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Status:"}),c.jsxs("select",{name:"status",value:n.status,onChange:m,className:"status-select",children:[c.jsx("option",{value:"active",children:"Active"}),c.jsx("option",{value:"inactive",children:"Inactive"}),c.jsx("option",{value:"pending",children:"Pending"})]})]}),c.jsx("div",{className:"form-group verification-checkbox",children:c.jsxs("label",{className:"checkbox-container",children:[c.jsx("input",{type:"checkbox",name:"is_verified",checked:n.is_verified,onChange:m}),c.jsx("span",{className:"checkbox-label",children:"Verified Account"})]})})]})]}),c.jsxs("div",{className:"form-section",children:[c.jsxs("h3",{className:"section-title",children:[c.jsx("span",{className:"section-icon material-icons",children:"build"}),"Skills"]}),c.jsx("p",{className:"section-description",children:"Select skills this volunteer has:"}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"skills",children:"Select Skills"}),c.jsxs("select",{id:"skills",value:o,onChange:g,className:l.skills?"error-input":"",children:[c.jsx("option",{value:"",children:"-- Select a skill to add --"}),h.map(B=>c.jsx("option",{value:B.value,disabled:n.skills.includes(B.value),children:B.label},B.value))]}),l.skills&&c.jsx("span",{className:"error-message",children:l.skills})]}),n.skills.length>0&&c.jsxs("div",{className:"selected-skills",children:[c.jsx("label",{children:"Selected skills:"}),c.jsx("div",{className:"skill-badges",children:n.skills.map(B=>W(B))}),c.jsx("div",{className:"skills-description",children:n.skills.map(B=>{const V=h.find(q=>q.value===B);return V?c.jsxs("div",{className:"skill-description-item",children:[c.jsxs("strong",{children:[V.label,":"]})," ",V.description]},B):null})})]}),n.skills.length>0&&c.jsxs("div",{className:"form-group document-upload-container",children:[c.jsxs("label",{htmlFor:"skillEvidence",children:["Skill Evidence/Certificate ",c.jsx("span",{className:"upload-hint",children:"(Certificate, proof of training, or other evidence)"})]}),c.jsx("div",{className:`file-upload-wrapper ${l.skillEvidence?"has-error":""}`,children:a?c.jsxs("div",{className:"file-preview",children:[c.jsxs("div",{className:"file-info",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",children:c.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm-1 1.5V8H19v12H5V4h8v-.5zM7 13h10v1H7v-1zm0 3h10v1H7v-1zm0-6h5v1H7v-1z"})}),c.jsx("span",{className:"file-name",children:a.name})]}),c.jsx("button",{type:"button",className:"remove-file-btn",onClick:()=>i(null),title:"Remove file",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"20",height:"20",children:c.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})})]}):c.jsxs(c.Fragment,{children:[c.jsxs("label",{htmlFor:"skillEvidence",className:"file-upload-label",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",children:c.jsx("path",{d:"M19.35 10.04A7.49 7.49 0 0 0 12 4C9.11 4 6.6 5.64 5.35 8.04A5.994 5.994 0 0 0 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM14 13v4h-4v-4H7l5-5 5 5h-3z"})}),c.jsx("span",{children:"Upload evidence of skills"})]}),c.jsx("input",{type:"file",id:"skillEvidence",accept:".pdf,.jpg,.jpeg,.png",onChange:x,className:"file-input"})]})}),c.jsx("p",{className:"evidence-hint",children:"Upload a certificate, training record, or proof of experience for your primary skill."}),l.skillEvidence&&c.jsx("span",{className:"error-message",children:l.skillEvidence})]})]}),c.jsxs("div",{className:"form-section",children:[c.jsxs("h3",{className:"section-title",children:[c.jsx("span",{className:"section-icon material-icons",children:"accessibility"}),"Disability Information"]}),c.jsx("p",{className:"section-description",children:"We support volunteers of all abilities. This information helps us provide appropriate support."}),c.jsxs("div",{className:"disability-question",children:[c.jsx("label",{children:"Does the volunteer have any disability?"}),c.jsxs("div",{className:"radio-group",children:[c.jsxs("div",{className:"radio-option",children:[c.jsx("input",{type:"radio",id:"disability-yes",name:"hasDisability",checked:n.hasDisability===!0,onChange:()=>w(!0)}),c.jsx("label",{htmlFor:"disability-yes",children:"Yes"})]}),c.jsxs("div",{className:"radio-option",children:[c.jsx("input",{type:"radio",id:"disability-no",name:"hasDisability",checked:n.hasDisability===!1,onChange:()=>w(!1)}),c.jsx("label",{htmlFor:"disability-no",children:"No"})]})]})]}),n.hasDisability&&c.jsxs("div",{className:"disability-types",children:[c.jsx("label",{children:"Type of disability (select all that apply):"}),c.jsx("div",{className:"disability-checkbox-grid",children:p.map(B=>c.jsxs("div",{className:"disability-checkbox",children:[c.jsx("input",{type:"checkbox",id:`disability-${B}`,value:B,checked:n.disabilityType.includes(B),onChange:b}),c.jsx("label",{htmlFor:`disability-${B}`,children:B})]},B))}),n.disabilityType.length>0&&c.jsxs("div",{className:"form-group mt-2",children:[c.jsx("label",{htmlFor:"disabilityDetails",children:"Please specify details about the disability:"}),c.jsx("textarea",{id:"disabilityDetails",name:"disabilityDetails",value:n.disabilityDetails,onChange:m,placeholder:"Provide details about the disability (nature, accommodations needed, etc.)",rows:3})]})]})]}),c.jsxs("div",{className:"form-actions",children:[c.jsx("button",{type:"submit",className:"submit-btn",disabled:d,children:d?c.jsx("span",{className:"spinner"}):"Create Volunteer"}),c.jsx("button",{type:"button",className:"cancel-btn",onClick:t,disabled:d,children:"Cancel"})]})]})]})})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var QE={};QE.version="0.18.5";var Mce=1252,JVe=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],Ice=function(e){JVe.indexOf(e)!=-1&&(Mce=e)};function eHe(){Ice(1252)}var $b=function(e){Ice(e)};function tHe(){$b(1200),eHe()}var J_=function(t){return String.fromCharCode(t)},Wq=function(t){return String.fromCharCode(t)},JE,Bf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Bb(e){for(var t="",n=0,r=0,a=0,i=0,o=0,s=0,l=0,u=0;u<e.length;)n=e.charCodeAt(u++),i=n>>2,r=e.charCodeAt(u++),o=(n&3)<<4|r>>4,a=e.charCodeAt(u++),s=(r&15)<<2|a>>6,l=a&63,isNaN(r)?s=l=64:isNaN(a)&&(l=64),t+=Bf.charAt(i)+Bf.charAt(o)+Bf.charAt(s)+Bf.charAt(l);return t}function Md(e){var t="",n=0,r=0,a=0,i=0,o=0,s=0,l=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<e.length;)i=Bf.indexOf(e.charAt(u++)),o=Bf.indexOf(e.charAt(u++)),n=i<<2|o>>4,t+=String.fromCharCode(n),s=Bf.indexOf(e.charAt(u++)),r=(o&15)<<4|s>>2,s!==64&&(t+=String.fromCharCode(r)),l=Bf.indexOf(e.charAt(u++)),a=(s&3)<<6|l,l!==64&&(t+=String.fromCharCode(a));return t}var vr=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Kd=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,n){return n?new Buffer(t,n):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function wm(e){return vr?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function Vq(e){return vr?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var sc=function(t){return vr?Kd(t,"binary"):t.split("").map(function(n){return n.charCodeAt(0)&255})};function NT(e){if(typeof ArrayBuffer>"u")return sc(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r!=e.length;++r)n[r]=e.charCodeAt(r)&255;return t}function d2(e){if(Array.isArray(e))return e.map(function(r){return String.fromCharCode(r)}).join("");for(var t=[],n=0;n<e.length;++n)t[n]=String.fromCharCode(e[n]);return t.join("")}function nHe(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}var Ki=vr?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:Kd(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,n=0;for(t=0;t<e.length;++t)n+=e[t].length;var r=new Uint8Array(n),a=0;for(t=0,n=0;t<e.length;n+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)r.set(e[t],n);else{if(typeof e[t]=="string")throw"wtf";r.set(new Uint8Array(e[t]),n)}return r}return[].concat.apply([],e.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function rHe(e){for(var t=[],n=0,r=e.length+250,a=wm(e.length+255),i=0;i<e.length;++i){var o=e.charCodeAt(i);if(o<128)a[n++]=o;else if(o<2048)a[n++]=192|o>>6&31,a[n++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var s=e.charCodeAt(++i)&1023;a[n++]=240|o>>8&7,a[n++]=128|o>>2&63,a[n++]=128|s>>6&15|(o&3)<<4,a[n++]=128|s&63}else a[n++]=224|o>>12&15,a[n++]=128|o>>6&63,a[n++]=128|o&63;n>r&&(t.push(a.slice(0,n)),n=0,a=wm(65535),r=65530)}return t.push(a.slice(0,n)),Ki(t)}var b1=/\u0000/g,eS=/[\u0001-\u0006]/g;function Cv(e){for(var t="",n=e.length-1;n>=0;)t+=e.charAt(n--);return t}function dc(e,t){var n=""+e;return n.length>=t?n:Ia("0",t-n.length)+n}function c$(e,t){var n=""+e;return n.length>=t?n:Ia(" ",t-n.length)+n}function eN(e,t){var n=""+e;return n.length>=t?n:n+Ia(" ",t-n.length)}function aHe(e,t){var n=""+Math.round(e);return n.length>=t?n:Ia("0",t-n.length)+n}function iHe(e,t){var n=""+e;return n.length>=t?n:Ia("0",t-n.length)+n}var Hq=Math.pow(2,32);function gg(e,t){if(e>Hq||e<-Hq)return aHe(e,t);var n=Math.round(e);return iHe(n,t)}function tN(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var qq=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],iD=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function oHe(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var $a={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},Gq={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},sHe={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function nN(e,t,n){for(var r=e<0?-1:1,a=e*r,i=0,o=1,s=0,l=1,u=0,d=0,f=Math.floor(a);u<t&&(f=Math.floor(a),s=f*o+i,d=f*u+l,!(a-f<5e-8));)a=1/(a-f),i=o,o=s,l=u,u=d;if(d>t&&(u>t?(d=l,s=i):(d=u,s=o)),!n)return[0,r*s,d];var h=Math.floor(r*s/d);return[h,r*s-h*d,d]}function tS(e,t,n){if(e>2958465||e<0)return null;var r=e|0,a=Math.floor(86400*(e-r)),i=0,o=[],s={D:r,T:a,u:86400*(e-r)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(s.u)<1e-6&&(s.u=0),t&&t.date1904&&(r+=1462),s.u>.9999&&(s.u=0,++a==86400&&(s.T=a=0,++r,++s.D)),r===60)o=n?[1317,10,29]:[1900,2,29],i=3;else if(r===0)o=n?[1317,8,29]:[1900,1,0],i=6;else{r>60&&--r;var l=new Date(1900,0,1);l.setDate(l.getDate()+r-1),o=[l.getFullYear(),l.getMonth()+1,l.getDate()],i=l.getDay(),r<60&&(i=(i+6)%7),n&&(i=pHe(l,o))}return s.y=o[0],s.m=o[1],s.d=o[2],s.S=a%60,a=Math.floor(a/60),s.M=a%60,a=Math.floor(a/60),s.H=a,s.q=i,s}var Rce=new Date(1899,11,31,0,0,0),lHe=Rce.getTime(),cHe=new Date(1900,2,1,0,0,0);function Fce(e,t){var n=e.getTime();return t?n-=1461*24*60*60*1e3:e>=cHe&&(n+=24*60*60*1e3),(n-(lHe+(e.getTimezoneOffset()-Rce.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function u$(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function uHe(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function dHe(e){var t=e<0?12:11,n=u$(e.toFixed(12));return n.length<=t||(n=e.toPrecision(10),n.length<=t)?n:e.toExponential(5)}function fHe(e){var t=u$(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function hHe(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),n;return t>=-4&&t<=-1?n=e.toPrecision(10+t):Math.abs(t)<=9?n=dHe(e):t===10?n=e.toFixed(10).substr(0,12):n=fHe(e),u$(uHe(n.toUpperCase()))}function aI(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):hHe(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return xh(14,Fce(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function pHe(e,t){t[0]-=581;var n=e.getDay();return e<60&&(n=(n+6)%7),n}function mHe(e,t,n,r){var a="",i=0,o=0,s=n.y,l,u=0;switch(e){case 98:s=n.y+543;case 121:switch(t.length){case 1:case 2:l=s%100,u=2;break;default:l=s%1e4,u=4;break}break;case 109:switch(t.length){case 1:case 2:l=n.m,u=t.length;break;case 3:return iD[n.m-1][1];case 5:return iD[n.m-1][0];default:return iD[n.m-1][2]}break;case 100:switch(t.length){case 1:case 2:l=n.d,u=t.length;break;case 3:return qq[n.q][0];default:return qq[n.q][1]}break;case 104:switch(t.length){case 1:case 2:l=1+(n.H+11)%12,u=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:l=n.H,u=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:l=n.M,u=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return n.u===0&&(t=="s"||t=="ss")?dc(n.S,t.length):(r>=2?o=r===3?1e3:100:o=r===1?10:1,i=Math.round(o*(n.S+n.u)),i>=60*o&&(i=0),t==="s"?i===0?"0":""+i/o:(a=dc(i,2+r),t==="ss"?a.substr(0,2):"."+a.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":l=n.D*24+n.H;break;case"[m]":case"[mm]":l=(n.D*24+n.H)*60+n.M;break;case"[s]":case"[ss]":l=((n.D*24+n.H)*60+n.M)*60+Math.round(n.S+n.u);break;default:throw"bad abstime format: "+t}u=t.length===3?1:2;break;case 101:l=s,u=1;break}var d=u>0?dc(l,u):"";return d}function zf(e){var t=3;if(e.length<=t)return e;for(var n=e.length%t,r=e.substr(0,n);n!=e.length;n+=t)r+=(r.length>0?",":"")+e.substr(n,t);return r}var Lce=/%/g;function gHe(e,t,n){var r=t.replace(Lce,""),a=t.length-r.length;return vd(e,r,n*Math.pow(10,2*a))+Ia("%",a)}function vHe(e,t,n){for(var r=t.length-1;t.charCodeAt(r-1)===44;)--r;return vd(e,t.substr(0,r),n/Math.pow(10,3*(t.length-r)))}function $ce(e,t){var n,r=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+$ce(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),n=(t/Math.pow(10,i)).toPrecision(r+1+(a+i)%a),n.indexOf("e")===-1){var o=Math.floor(Math.log(t)*Math.LOG10E);for(n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(o-n.length+i):n+="E+"+(o-i);n.substr(0,2)==="0.";)n=n.charAt(0)+n.substr(2,a)+"."+n.substr(2+a),n=n.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(s,l,u,d){return l+u+d.substr(0,(a+i)%a)+"."+d.substr(i)+"E"})}else n=t.toExponential(r);return e.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),e.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}var Bce=/# (\?+)( ?)\/( ?)(\d+)/;function yHe(e,t,n){var r=parseInt(e[4],10),a=Math.round(t*r),i=Math.floor(a/r),o=a-i*r,s=r;return n+(i===0?"":""+i)+" "+(o===0?Ia(" ",e[1].length+1+e[4].length):c$(o,e[1].length)+e[2]+"/"+e[3]+dc(s,e[4].length))}function xHe(e,t,n){return n+(t===0?"":""+t)+Ia(" ",e[1].length+2+e[4].length)}var zce=/^#*0*\.([0#]+)/,Uce=/\).*[0#]/,Wce=/\(###\) ###\\?-####/;function Io(e){for(var t="",n,r=0;r!=e.length;++r)switch(n=e.charCodeAt(r)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(n)}return t}function Yq(e,t){var n=Math.pow(10,t);return""+Math.round(e*n)/n}function Kq(e,t){var n=e-Math.floor(e),r=Math.pow(10,t);return t<(""+Math.round(n*r)).length?0:Math.round(n*r)}function bHe(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function wHe(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function ol(e,t,n){if(e.charCodeAt(0)===40&&!t.match(Uce)){var r=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?ol("n",r,n):"("+ol("n",r,-n)+")"}if(t.charCodeAt(t.length-1)===44)return vHe(e,t,n);if(t.indexOf("%")!==-1)return gHe(e,t,n);if(t.indexOf("E")!==-1)return $ce(t,n);if(t.charCodeAt(0)===36)return"$"+ol(e,t.substr(t.charAt(1)==" "?2:1),n);var a,i,o,s,l=Math.abs(n),u=n<0?"-":"";if(t.match(/^00+$/))return u+gg(l,t.length);if(t.match(/^[#?]+$/))return a=gg(n,0),a==="0"&&(a=""),a.length>t.length?a:Io(t.substr(0,t.length-a.length))+a;if(i=t.match(Bce))return yHe(i,l,u);if(t.match(/^#+0+$/))return u+gg(l,t.length-t.indexOf("0"));if(i=t.match(zce))return a=Yq(n,i[1].length).replace(/^([^\.]+)$/,"$1."+Io(i[1])).replace(/\.$/,"."+Io(i[1])).replace(/\.(\d*)$/,function(m,g){return"."+g+Ia("0",Io(i[1]).length-g.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return u+Yq(l,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return u+zf(gg(l,0));if(i=t.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+ol(e,t,-n):zf(""+(Math.floor(n)+bHe(n,i[1].length)))+"."+dc(Kq(n,i[1].length),i[1].length);if(i=t.match(/^#,#*,#0/))return ol(e,t.replace(/^#,#*,/,""),n);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Cv(ol(e,t.replace(/[\\-]/g,""),n)),o=0,Cv(Cv(t.replace(/\\/g,"")).replace(/[0#]/g,function(m){return o<a.length?a.charAt(o++):m==="0"?"0":""}));if(t.match(Wce))return a=ol(e,"##########",n),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),s=nN(l,Math.pow(10,o)-1,!1),a=""+u,d=vd("n",i[1],s[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+i[2]+"/"+i[3],d=eN(s[2],o),d.length<i[4].length&&(d=Io(i[4].substr(i[4].length-d.length))+d),a+=d,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),s=nN(l,Math.pow(10,o)-1,!0),u+(s[0]||(s[1]?"":"0"))+" "+(s[1]?c$(s[1],o)+i[2]+"/"+i[3]+eN(s[2],o):Ia(" ",2*o+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=gg(n,0),t.length<=a.length?a:Io(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+n.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var f=t.indexOf(".")-o,h=t.length-a.length-f;return Io(t.substr(0,f)+a+t.substr(t.length-h))}if(i=t.match(/^00,000\.([#0]*0)$/))return o=Kq(n,i[1].length),n<0?"-"+ol(e,t,-n):zf(wHe(n)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(m){return"00,"+(m.length<3?dc(0,3-m.length):"")+m})+"."+dc(o,i[1].length);switch(t){case"###,##0.00":return ol(e,"#,##0.00",n);case"###,###":case"##,###":case"#,###":var p=zf(gg(l,0));return p!=="0"?u+p:"";case"###,###.00":return ol(e,"###,##0.00",n).replace(/^0\./,".");case"#,###.00":return ol(e,"#,##0.00",n).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function _He(e,t,n){for(var r=t.length-1;t.charCodeAt(r-1)===44;)--r;return vd(e,t.substr(0,r),n/Math.pow(10,3*(t.length-r)))}function SHe(e,t,n){var r=t.replace(Lce,""),a=t.length-r.length;return vd(e,r,n*Math.pow(10,2*a))+Ia("%",a)}function Vce(e,t){var n,r=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+Vce(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),n=(t/Math.pow(10,i)).toPrecision(r+1+(a+i)%a),!n.match(/[Ee]/)){var o=Math.floor(Math.log(t)*Math.LOG10E);n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(o-n.length+i):n+="E+"+(o-i),n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(s,l,u,d){return l+u+d.substr(0,(a+i)%a)+"."+d.substr(i)+"E"})}else n=t.toExponential(r);return e.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),e.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}function Lc(e,t,n){if(e.charCodeAt(0)===40&&!t.match(Uce)){var r=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?Lc("n",r,n):"("+Lc("n",r,-n)+")"}if(t.charCodeAt(t.length-1)===44)return _He(e,t,n);if(t.indexOf("%")!==-1)return SHe(e,t,n);if(t.indexOf("E")!==-1)return Vce(t,n);if(t.charCodeAt(0)===36)return"$"+Lc(e,t.substr(t.charAt(1)==" "?2:1),n);var a,i,o,s,l=Math.abs(n),u=n<0?"-":"";if(t.match(/^00+$/))return u+dc(l,t.length);if(t.match(/^[#?]+$/))return a=""+n,n===0&&(a=""),a.length>t.length?a:Io(t.substr(0,t.length-a.length))+a;if(i=t.match(Bce))return xHe(i,l,u);if(t.match(/^#+0+$/))return u+dc(l,t.length-t.indexOf("0"));if(i=t.match(zce))return a=(""+n).replace(/^([^\.]+)$/,"$1."+Io(i[1])).replace(/\.$/,"."+Io(i[1])),a=a.replace(/\.(\d*)$/,function(m,g){return"."+g+Ia("0",Io(i[1]).length-g.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return u+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return u+zf(""+l);if(i=t.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+Lc(e,t,-n):zf(""+n)+"."+Ia("0",i[1].length);if(i=t.match(/^#,#*,#0/))return Lc(e,t.replace(/^#,#*,/,""),n);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Cv(Lc(e,t.replace(/[\\-]/g,""),n)),o=0,Cv(Cv(t.replace(/\\/g,"")).replace(/[0#]/g,function(m){return o<a.length?a.charAt(o++):m==="0"?"0":""}));if(t.match(Wce))return a=Lc(e,"##########",n),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),s=nN(l,Math.pow(10,o)-1,!1),a=""+u,d=vd("n",i[1],s[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+i[2]+"/"+i[3],d=eN(s[2],o),d.length<i[4].length&&(d=Io(i[4].substr(i[4].length-d.length))+d),a+=d,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),s=nN(l,Math.pow(10,o)-1,!0),u+(s[0]||(s[1]?"":"0"))+" "+(s[1]?c$(s[1],o)+i[2]+"/"+i[3]+eN(s[2],o):Ia(" ",2*o+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=""+n,t.length<=a.length?a:Io(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0]+)\.([#0]+)$/)){a=""+n.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var f=t.indexOf(".")-o,h=t.length-a.length-f;return Io(t.substr(0,f)+a+t.substr(t.length-h))}if(i=t.match(/^00,000\.([#0]*0)$/))return n<0?"-"+Lc(e,t,-n):zf(""+n).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(m){return"00,"+(m.length<3?dc(0,3-m.length):"")+m})+"."+dc(0,i[1].length);switch(t){case"###,###":case"##,###":case"#,###":var p=zf(""+l);return p!=="0"?u+p:"";default:if(t.match(/\.[0#?]*$/))return Lc(e,t.slice(0,t.lastIndexOf(".")),n)+Io(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function vd(e,t,n){return(n|0)===n?Lc(e,t,n):ol(e,t,n)}function CHe(e){for(var t=[],n=!1,r=0,a=0;r<e.length;++r)switch(e.charCodeAt(r)){case 34:n=!n;break;case 95:case 42:case 92:++r;break;case 59:t[t.length]=e.substr(a,r-a),a=r+1}if(t[t.length]=e.substr(a),n===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var Hce=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function qce(e){for(var t=0,n="",r="";t<e.length;)switch(n=e.charAt(t)){case"G":tN(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(r=n;e.charAt(t++)!=="]"&&t<e.length;)r+=e.charAt(t);if(r.match(Hce))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(n=e.charAt(++t))>-1||n=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===n;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function EHe(e,t,n,r){for(var a=[],i="",o=0,s="",l="t",u,d,f,h="H";o<e.length;)switch(s=e.charAt(o)){case"G":if(!tN(e,o))throw new Error("unrecognized character "+s+" in "+e);a[a.length]={t:"G",v:"General"},o+=7;break;case'"':for(i="";(f=e.charCodeAt(++o))!==34&&o<e.length;)i+=String.fromCharCode(f);a[a.length]={t:"t",v:i},++o;break;case"\\":var p=e.charAt(++o),m=p==="("||p===")"?p:"t";a[a.length]={t:m,v:p},++o;break;case"_":a[a.length]={t:"t",v:" "},o+=2;break;case"@":a[a.length]={t:"T",v:t},++o;break;case"B":case"b":if(e.charAt(o+1)==="1"||e.charAt(o+1)==="2"){if(u==null&&(u=tS(t,n,e.charAt(o+1)==="2"),u==null))return"";a[a.length]={t:"X",v:e.substr(o,2)},l=s,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":s=s.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||u==null&&(u=tS(t,n),u==null))return"";for(i=s;++o<e.length&&e.charAt(o).toLowerCase()===s;)i+=s;s==="m"&&l.toLowerCase()==="h"&&(s="M"),s==="h"&&(s=h),a[a.length]={t:s,v:i},l=s;break;case"A":case"a":case"":var g={t:s,v:s};if(u==null&&(u=tS(t,n)),e.substr(o,3).toUpperCase()==="A/P"?(u!=null&&(g.v=u.H>=12?"P":"A"),g.t="T",h="h",o+=3):e.substr(o,5).toUpperCase()==="AM/PM"?(u!=null&&(g.v=u.H>=12?"PM":"AM"),g.t="T",o+=5,h="h"):e.substr(o,5).toUpperCase()==="/"?(u!=null&&(g.v=u.H>=12?"":""),g.t="T",o+=5,h="h"):(g.t="t",++o),u==null&&g.t==="T")return"";a[a.length]=g,l=s;break;case"[":for(i=s;e.charAt(o++)!=="]"&&o<e.length;)i+=e.charAt(o);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(Hce)){if(u==null&&(u=tS(t,n),u==null))return"";a[a.length]={t:"Z",v:i.toLowerCase()},l=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",qce(e)||(a[a.length]={t:"t",v:i}));break;case".":if(u!=null){for(i=s;++o<e.length&&(s=e.charAt(o))==="0";)i+=s;a[a.length]={t:"s",v:i};break}case"0":case"#":for(i=s;++o<e.length&&"0#?.,E+-%".indexOf(s=e.charAt(o))>-1;)i+=s;a[a.length]={t:"n",v:i};break;case"?":for(i=s;e.charAt(++o)===s;)i+=s;a[a.length]={t:s,v:i},l=s;break;case"*":++o,(e.charAt(o)==" "||e.charAt(o)=="*")&&++o;break;case"(":case")":a[a.length]={t:r===1?"t":s,v:s},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=s;o<e.length&&"0123456789".indexOf(e.charAt(++o))>-1;)i+=e.charAt(o);a[a.length]={t:"D",v:i};break;case" ":a[a.length]={t:s,v:s},++o;break;case"$":a[a.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(s)===-1)throw new Error("unrecognized character "+s+" in "+e);a[a.length]={t:"t",v:s},++o;break}var y=0,x=0,b;for(o=a.length-1,l="t";o>=0;--o)switch(a[o].t){case"h":case"H":a[o].t=h,l="h",y<1&&(y=1);break;case"s":(b=a[o].v.match(/\.0+$/))&&(x=Math.max(x,b[0].length-1)),y<3&&(y=3);case"d":case"y":case"M":case"e":l=a[o].t;break;case"m":l==="s"&&(a[o].t="M",y<2&&(y=2));break;case"X":break;case"Z":y<1&&a[o].v.match(/[Hh]/)&&(y=1),y<2&&a[o].v.match(/[Mm]/)&&(y=2),y<3&&a[o].v.match(/[Ss]/)&&(y=3)}switch(y){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var w="",_;for(o=0;o<a.length;++o)switch(a[o].t){case"t":case"T":case" ":case"D":break;case"X":a[o].v="",a[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[o].v=mHe(a[o].t.charCodeAt(0),a[o].v,u,x),a[o].t="t";break;case"n":case"?":for(_=o+1;a[_]!=null&&((s=a[_].t)==="?"||s==="D"||(s===" "||s==="t")&&a[_+1]!=null&&(a[_+1].t==="?"||a[_+1].t==="t"&&a[_+1].v==="/")||a[o].t==="("&&(s===" "||s==="n"||s===")")||s==="t"&&(a[_].v==="/"||a[_].v===" "&&a[_+1]!=null&&a[_+1].t=="?"));)a[o].v+=a[_].v,a[_]={v:"",t:";"},++_;w+=a[o].v,o=_-1;break;case"G":a[o].t="t",a[o].v=aI(t,n);break}var S="",k,N;if(w.length>0){w.charCodeAt(0)==40?(k=t<0&&w.charCodeAt(0)===45?-t:t,N=vd("n",w,k)):(k=t<0&&r>1?-t:t,N=vd("n",w,k),k<0&&a[0]&&a[0].t=="t"&&(N=N.substr(1),a[0].v="-"+a[0].v)),_=N.length-1;var P=a.length;for(o=0;o<a.length;++o)if(a[o]!=null&&a[o].t!="t"&&a[o].v.indexOf(".")>-1){P=o;break}var T=a.length;if(P===a.length&&N.indexOf("E")===-1){for(o=a.length-1;o>=0;--o)a[o]==null||"n?".indexOf(a[o].t)===-1||(_>=a[o].v.length-1?(_-=a[o].v.length,a[o].v=N.substr(_+1,a[o].v.length)):_<0?a[o].v="":(a[o].v=N.substr(0,_+1),_=-1),a[o].t="t",T=o);_>=0&&T<a.length&&(a[T].v=N.substr(0,_+1)+a[T].v)}else if(P!==a.length&&N.indexOf("E")===-1){for(_=N.indexOf(".")-1,o=P;o>=0;--o)if(!(a[o]==null||"n?".indexOf(a[o].t)===-1)){for(d=a[o].v.indexOf(".")>-1&&o===P?a[o].v.indexOf(".")-1:a[o].v.length-1,S=a[o].v.substr(d+1);d>=0;--d)_>=0&&(a[o].v.charAt(d)==="0"||a[o].v.charAt(d)==="#")&&(S=N.charAt(_--)+S);a[o].v=S,a[o].t="t",T=o}for(_>=0&&T<a.length&&(a[T].v=N.substr(0,_+1)+a[T].v),_=N.indexOf(".")+1,o=P;o<a.length;++o)if(!(a[o]==null||"n?(".indexOf(a[o].t)===-1&&o!==P)){for(d=a[o].v.indexOf(".")>-1&&o===P?a[o].v.indexOf(".")+1:0,S=a[o].v.substr(0,d);d<a[o].v.length;++d)_<N.length&&(S+=N.charAt(_++));a[o].v=S,a[o].t="t",T=o}}}for(o=0;o<a.length;++o)a[o]!=null&&"n?".indexOf(a[o].t)>-1&&(k=r>1&&t<0&&o>0&&a[o-1].v==="-"?-t:t,a[o].v=vd(a[o].t,a[o].v,k),a[o].t="t");var j="";for(o=0;o!==a.length;++o)a[o]!=null&&(j+=a[o].v);return j}var Xq=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function Zq(e,t){if(t==null)return!1;var n=parseFloat(t[2]);switch(t[1]){case"=":if(e==n)return!0;break;case">":if(e>n)return!0;break;case"<":if(e<n)return!0;break;case"<>":if(e!=n)return!0;break;case">=":if(e>=n)return!0;break;case"<=":if(e<=n)return!0;break}return!1}function NHe(e,t){var n=CHe(e),r=n.length,a=n[r-1].indexOf("@");if(r<4&&a>-1&&--r,n.length>4)throw new Error("cannot find right format for |"+n.join("|")+"|");if(typeof t!="number")return[4,n.length===4||a>-1?n[n.length-1]:"@"];switch(n.length){case 1:n=a>-1?["General","General","General",n[0]]:[n[0],n[0],n[0],"@"];break;case 2:n=a>-1?[n[0],n[0],n[0],n[1]]:[n[0],n[1],n[0],"@"];break;case 3:n=a>-1?[n[0],n[1],n[0],n[2]]:[n[0],n[1],n[2],"@"];break}var i=t>0?n[0]:t<0?n[1]:n[2];if(n[0].indexOf("[")===-1&&n[1].indexOf("[")===-1)return[r,i];if(n[0].match(/\[[=<>]/)!=null||n[1].match(/\[[=<>]/)!=null){var o=n[0].match(Xq),s=n[1].match(Xq);return Zq(t,o)?[r,n[0]]:Zq(t,s)?[r,n[1]]:[r,n[o!=null&&s!=null?2:1]]}return[r,i]}function xh(e,t,n){n==null&&(n={});var r="";switch(typeof e){case"string":e=="m/d/yy"&&n.dateNF?r=n.dateNF:r=e;break;case"number":e==14&&n.dateNF?r=n.dateNF:r=(n.table!=null?n.table:$a)[e],r==null&&(r=n.table&&n.table[Gq[e]]||$a[Gq[e]]),r==null&&(r=sHe[e]||"General");break}if(tN(r,0))return aI(t,n);t instanceof Date&&(t=Fce(t,n.date1904));var a=NHe(r,t);if(tN(a[1]))return aI(t,n);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return EHe(a[1],t,n,a[0])}function Gce(e,t){if(typeof t!="number"){t=+t||-1;for(var n=0;n<392;++n){if($a[n]==null){t<0&&(t=n);continue}if($a[n]==e){t=n;break}}t<0&&(t=391)}return $a[t]=e,t}function kT(e){for(var t=0;t!=392;++t)e[t]!==void 0&&Gce(e[t],t)}function jT(){$a=oHe()}var Yce=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function kHe(e){var t=typeof e=="number"?$a[e]:e;return t=t.replace(Yce,"(\\d+)"),new RegExp("^"+t+"$")}function jHe(e,t,n){var r=-1,a=-1,i=-1,o=-1,s=-1,l=-1;(t.match(Yce)||[]).forEach(function(f,h){var p=parseInt(n[h+1],10);switch(f.toLowerCase().charAt(0)){case"y":r=p;break;case"d":i=p;break;case"h":o=p;break;case"s":l=p;break;case"m":o>=0?s=p:a=p;break}}),l>=0&&s==-1&&a>=0&&(s=a,a=-1);var u=(""+(r>=0?r:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var d=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return o==-1&&s==-1&&l==-1?u:r==-1&&a==-1&&i==-1?d:u+"T"+d}var THe=function(){var e={};e.version="1.2.0";function t(){for(var N=0,P=new Array(256),T=0;T!=256;++T)N=T,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,P[T]=N;return typeof Int32Array<"u"?new Int32Array(P):P}var n=t();function r(N){var P=0,T=0,j=0,D=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(j=0;j!=256;++j)D[j]=N[j];for(j=0;j!=256;++j)for(T=N[j],P=256+j;P<4096;P+=256)T=D[P]=T>>>8^N[T&255];var M=[];for(j=1;j!=16;++j)M[j-1]=typeof Int32Array<"u"?D.subarray(j*256,j*256+256):D.slice(j*256,j*256+256);return M}var a=r(n),i=a[0],o=a[1],s=a[2],l=a[3],u=a[4],d=a[5],f=a[6],h=a[7],p=a[8],m=a[9],g=a[10],y=a[11],x=a[12],b=a[13],w=a[14];function _(N,P){for(var T=P^-1,j=0,D=N.length;j<D;)T=T>>>8^n[(T^N.charCodeAt(j++))&255];return~T}function S(N,P){for(var T=P^-1,j=N.length-15,D=0;D<j;)T=w[N[D++]^T&255]^b[N[D++]^T>>8&255]^x[N[D++]^T>>16&255]^y[N[D++]^T>>>24]^g[N[D++]]^m[N[D++]]^p[N[D++]]^h[N[D++]]^f[N[D++]]^d[N[D++]]^u[N[D++]]^l[N[D++]]^s[N[D++]]^o[N[D++]]^i[N[D++]]^n[N[D++]];for(j+=15;D<j;)T=T>>>8^n[(T^N[D++])&255];return~T}function k(N,P){for(var T=P^-1,j=0,D=N.length,M=0,R=0;j<D;)M=N.charCodeAt(j++),M<128?T=T>>>8^n[(T^M)&255]:M<2048?(T=T>>>8^n[(T^(192|M>>6&31))&255],T=T>>>8^n[(T^(128|M&63))&255]):M>=55296&&M<57344?(M=(M&1023)+64,R=N.charCodeAt(j++)&1023,T=T>>>8^n[(T^(240|M>>8&7))&255],T=T>>>8^n[(T^(128|M>>2&63))&255],T=T>>>8^n[(T^(128|R>>6&15|(M&3)<<4))&255],T=T>>>8^n[(T^(128|R&63))&255]):(T=T>>>8^n[(T^(224|M>>12&15))&255],T=T>>>8^n[(T^(128|M>>6&63))&255],T=T>>>8^n[(T^(128|M&63))&255]);return~T}return e.table=n,e.bstr=_,e.buf=S,e.str=k,e}(),Mr=function(){var t={};t.version="1.2.1";function n(ie,ge){for(var ce=ie.split("/"),fe=ge.split("/"),pe=0,ve=0,Oe=Math.min(ce.length,fe.length);pe<Oe;++pe){if(ve=ce[pe].length-fe[pe].length)return ve;if(ce[pe]!=fe[pe])return ce[pe]<fe[pe]?-1:1}return ce.length-fe.length}function r(ie){if(ie.charAt(ie.length-1)=="/")return ie.slice(0,-1).indexOf("/")===-1?ie:r(ie.slice(0,-1));var ge=ie.lastIndexOf("/");return ge===-1?ie:ie.slice(0,ge+1)}function a(ie){if(ie.charAt(ie.length-1)=="/")return a(ie.slice(0,-1));var ge=ie.lastIndexOf("/");return ge===-1?ie:ie.slice(ge+1)}function i(ie,ge){typeof ge=="string"&&(ge=new Date(ge));var ce=ge.getHours();ce=ce<<6|ge.getMinutes(),ce=ce<<5|ge.getSeconds()>>>1,ie.write_shift(2,ce);var fe=ge.getFullYear()-1980;fe=fe<<4|ge.getMonth()+1,fe=fe<<5|ge.getDate(),ie.write_shift(2,fe)}function o(ie){var ge=ie.read_shift(2)&65535,ce=ie.read_shift(2)&65535,fe=new Date,pe=ce&31;ce>>>=5;var ve=ce&15;ce>>>=4,fe.setMilliseconds(0),fe.setFullYear(ce+1980),fe.setMonth(ve-1),fe.setDate(pe);var Oe=ge&31;ge>>>=5;var Ve=ge&63;return ge>>>=6,fe.setHours(ge),fe.setMinutes(Ve),fe.setSeconds(Oe<<1),fe}function s(ie){Ss(ie,0);for(var ge={},ce=0;ie.l<=ie.length-4;){var fe=ie.read_shift(2),pe=ie.read_shift(2),ve=ie.l+pe,Oe={};switch(fe){case 21589:ce=ie.read_shift(1),ce&1&&(Oe.mtime=ie.read_shift(4)),pe>5&&(ce&2&&(Oe.atime=ie.read_shift(4)),ce&4&&(Oe.ctime=ie.read_shift(4))),Oe.mtime&&(Oe.mt=new Date(Oe.mtime*1e3));break}ie.l=ve,ge[fe]=Oe}return ge}var l;function u(){return l||(l={})}function d(ie,ge){if(ie[0]==80&&ie[1]==75)return rr(ie,ge);if((ie[0]|32)==109&&(ie[1]|32)==105)return kt(ie,ge);if(ie.length<512)throw new Error("CFB file size "+ie.length+" < 512");var ce=3,fe=512,pe=0,ve=0,Oe=0,Ve=0,Ue=0,$e=[],Be=ie.slice(0,512);Ss(Be,0);var ut=f(Be);switch(ce=ut[0],ce){case 3:fe=512;break;case 4:fe=4096;break;case 0:if(ut[1]==0)return rr(ie,ge);default:throw new Error("Major Version: Expected 3 or 4 saw "+ce)}fe!==512&&(Be=ie.slice(0,fe),Ss(Be,28));var Et=ie.slice(0,fe);h(Be,ce);var $t=Be.read_shift(4,"i");if(ce===3&&$t!==0)throw new Error("# Directory Sectors: Expected 0 saw "+$t);Be.l+=4,Oe=Be.read_shift(4,"i"),Be.l+=4,Be.chk("00100000","Mini Stream Cutoff Size: "),Ve=Be.read_shift(4,"i"),pe=Be.read_shift(4,"i"),Ue=Be.read_shift(4,"i"),ve=Be.read_shift(4,"i");for(var he=-1,Ee=0;Ee<109&&(he=Be.read_shift(4,"i"),!(he<0));++Ee)$e[Ee]=he;var Ae=p(ie,fe);y(Ue,ve,Ae,fe,$e);var Ze=b(Ae,Oe,$e,fe);Ze[Oe].name="!Directory",pe>0&&Ve!==R&&(Ze[Ve].name="!MiniFAT"),Ze[$e[0]].name="!FAT",Ze.fat_addrs=$e,Ze.ssz=fe;var qe={},Ht=[],gt=[],Rt=[];w(Oe,Ze,Ae,Ht,pe,qe,gt,Ve),m(gt,Rt,Ht),Ht.shift();var wn={FileIndex:gt,FullPaths:Rt};return ge&&ge.raw&&(wn.raw={header:Et,sectors:Ae}),wn}function f(ie){if(ie[ie.l]==80&&ie[ie.l+1]==75)return[0,0];ie.chk(W,"Header Signature: "),ie.l+=16;var ge=ie.read_shift(2,"u");return[ie.read_shift(2,"u"),ge]}function h(ie,ge){var ce=9;switch(ie.l+=2,ce=ie.read_shift(2)){case 9:if(ge!=3)throw new Error("Sector Shift: Expected 9 saw "+ce);break;case 12:if(ge!=4)throw new Error("Sector Shift: Expected 12 saw "+ce);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+ce)}ie.chk("0600","Mini Sector Shift: "),ie.chk("000000000000","Reserved: ")}function p(ie,ge){for(var ce=Math.ceil(ie.length/ge)-1,fe=[],pe=1;pe<ce;++pe)fe[pe-1]=ie.slice(pe*ge,(pe+1)*ge);return fe[ce-1]=ie.slice(ce*ge),fe}function m(ie,ge,ce){for(var fe=0,pe=0,ve=0,Oe=0,Ve=0,Ue=ce.length,$e=[],Be=[];fe<Ue;++fe)$e[fe]=Be[fe]=fe,ge[fe]=ce[fe];for(;Ve<Be.length;++Ve)fe=Be[Ve],pe=ie[fe].L,ve=ie[fe].R,Oe=ie[fe].C,$e[fe]===fe&&(pe!==-1&&$e[pe]!==pe&&($e[fe]=$e[pe]),ve!==-1&&$e[ve]!==ve&&($e[fe]=$e[ve])),Oe!==-1&&($e[Oe]=fe),pe!==-1&&fe!=$e[fe]&&($e[pe]=$e[fe],Be.lastIndexOf(pe)<Ve&&Be.push(pe)),ve!==-1&&fe!=$e[fe]&&($e[ve]=$e[fe],Be.lastIndexOf(ve)<Ve&&Be.push(ve));for(fe=1;fe<Ue;++fe)$e[fe]===fe&&(ve!==-1&&$e[ve]!==ve?$e[fe]=$e[ve]:pe!==-1&&$e[pe]!==pe&&($e[fe]=$e[pe]));for(fe=1;fe<Ue;++fe)if(ie[fe].type!==0){if(Ve=fe,Ve!=$e[Ve])do Ve=$e[Ve],ge[fe]=ge[Ve]+"/"+ge[fe];while(Ve!==0&&$e[Ve]!==-1&&Ve!=$e[Ve]);$e[fe]=-1}for(ge[0]+="/",fe=1;fe<Ue;++fe)ie[fe].type!==2&&(ge[fe]+="/")}function g(ie,ge,ce){for(var fe=ie.start,pe=ie.size,ve=[],Oe=fe;ce&&pe>0&&Oe>=0;)ve.push(ge.slice(Oe*M,Oe*M+M)),pe-=M,Oe=xp(ce,Oe*4);return ve.length===0?ot(0):Ki(ve).slice(0,ie.size)}function y(ie,ge,ce,fe,pe){var ve=R;if(ie===R){if(ge!==0)throw new Error("DIFAT chain shorter than expected")}else if(ie!==-1){var Oe=ce[ie],Ve=(fe>>>2)-1;if(!Oe)return;for(var Ue=0;Ue<Ve&&(ve=xp(Oe,Ue*4))!==R;++Ue)pe.push(ve);y(xp(Oe,fe-4),ge-1,ce,fe,pe)}}function x(ie,ge,ce,fe,pe){var ve=[],Oe=[];pe||(pe=[]);var Ve=fe-1,Ue=0,$e=0;for(Ue=ge;Ue>=0;){pe[Ue]=!0,ve[ve.length]=Ue,Oe.push(ie[Ue]);var Be=ce[Math.floor(Ue*4/fe)];if($e=Ue*4&Ve,fe<4+$e)throw new Error("FAT boundary crossed: "+Ue+" 4 "+fe);if(!ie[Be])break;Ue=xp(ie[Be],$e)}return{nodes:ve,data:iG([Oe])}}function b(ie,ge,ce,fe){var pe=ie.length,ve=[],Oe=[],Ve=[],Ue=[],$e=fe-1,Be=0,ut=0,Et=0,$t=0;for(Be=0;Be<pe;++Be)if(Ve=[],Et=Be+ge,Et>=pe&&(Et-=pe),!Oe[Et]){Ue=[];var he=[];for(ut=Et;ut>=0;){he[ut]=!0,Oe[ut]=!0,Ve[Ve.length]=ut,Ue.push(ie[ut]);var Ee=ce[Math.floor(ut*4/fe)];if($t=ut*4&$e,fe<4+$t)throw new Error("FAT boundary crossed: "+ut+" 4 "+fe);if(!ie[Ee]||(ut=xp(ie[Ee],$t),he[ut]))break}ve[Et]={nodes:Ve,data:iG([Ue])}}return ve}function w(ie,ge,ce,fe,pe,ve,Oe,Ve){for(var Ue=0,$e=fe.length?2:0,Be=ge[ie].data,ut=0,Et=0,$t;ut<Be.length;ut+=128){var he=Be.slice(ut,ut+128);Ss(he,64),Et=he.read_shift(2),$t=m$(he,0,Et-$e),fe.push($t);var Ee={name:$t,type:he.read_shift(1),color:he.read_shift(1),L:he.read_shift(4,"i"),R:he.read_shift(4,"i"),C:he.read_shift(4,"i"),clsid:he.read_shift(16),state:he.read_shift(4,"i"),start:0,size:0},Ae=he.read_shift(2)+he.read_shift(2)+he.read_shift(2)+he.read_shift(2);Ae!==0&&(Ee.ct=_(he,he.l-8));var Ze=he.read_shift(2)+he.read_shift(2)+he.read_shift(2)+he.read_shift(2);Ze!==0&&(Ee.mt=_(he,he.l-8)),Ee.start=he.read_shift(4,"i"),Ee.size=he.read_shift(4,"i"),Ee.size<0&&Ee.start<0&&(Ee.size=Ee.type=0,Ee.start=R,Ee.name=""),Ee.type===5?(Ue=Ee.start,pe>0&&Ue!==R&&(ge[Ue].name="!StreamData")):Ee.size>=4096?(Ee.storage="fat",ge[Ee.start]===void 0&&(ge[Ee.start]=x(ce,Ee.start,ge.fat_addrs,ge.ssz)),ge[Ee.start].name=Ee.name,Ee.content=ge[Ee.start].data.slice(0,Ee.size)):(Ee.storage="minifat",Ee.size<0?Ee.size=0:Ue!==R&&Ee.start!==R&&ge[Ue]&&(Ee.content=g(Ee,ge[Ue].data,(ge[Ve]||{}).data))),Ee.content&&Ss(Ee.content,0),ve[$t]=Ee,Oe.push(Ee)}}function _(ie,ge){return new Date((Ns(ie,ge+4)/1e7*Math.pow(2,32)+Ns(ie,ge)/1e7-11644473600)*1e3)}function S(ie,ge){return u(),d(l.readFileSync(ie),ge)}function k(ie,ge){var ce=ge&&ge.type;switch(ce||vr&&Buffer.isBuffer(ie)&&(ce="buffer"),ce||"base64"){case"file":return S(ie,ge);case"base64":return d(sc(Md(ie)),ge);case"binary":return d(sc(ie),ge)}return d(ie,ge)}function N(ie,ge){var ce=ge||{},fe=ce.root||"Root Entry";if(ie.FullPaths||(ie.FullPaths=[]),ie.FileIndex||(ie.FileIndex=[]),ie.FullPaths.length!==ie.FileIndex.length)throw new Error("inconsistent CFB structure");ie.FullPaths.length===0&&(ie.FullPaths[0]=fe+"/",ie.FileIndex[0]={name:fe,type:5}),ce.CLSID&&(ie.FileIndex[0].clsid=ce.CLSID),P(ie)}function P(ie){var ge="Sh33tJ5";if(!Mr.find(ie,"/"+ge)){var ce=ot(4);ce[0]=55,ce[1]=ce[3]=50,ce[2]=54,ie.FileIndex.push({name:ge,type:2,content:ce,size:4,L:69,R:69,C:69}),ie.FullPaths.push(ie.FullPaths[0]+ge),T(ie)}}function T(ie,ge){N(ie);for(var ce=!1,fe=!1,pe=ie.FullPaths.length-1;pe>=0;--pe){var ve=ie.FileIndex[pe];switch(ve.type){case 0:fe?ce=!0:(ie.FileIndex.pop(),ie.FullPaths.pop());break;case 1:case 2:case 5:fe=!0,isNaN(ve.R*ve.L*ve.C)&&(ce=!0),ve.R>-1&&ve.L>-1&&ve.R==ve.L&&(ce=!0);break;default:ce=!0;break}}if(!(!ce&&!ge)){var Oe=new Date(1987,1,19),Ve=0,Ue=Object.create?Object.create(null):{},$e=[];for(pe=0;pe<ie.FullPaths.length;++pe)Ue[ie.FullPaths[pe]]=!0,ie.FileIndex[pe].type!==0&&$e.push([ie.FullPaths[pe],ie.FileIndex[pe]]);for(pe=0;pe<$e.length;++pe){var Be=r($e[pe][0]);fe=Ue[Be],fe||($e.push([Be,{name:a(Be).replace("/",""),type:1,clsid:V,ct:Oe,mt:Oe,content:null}]),Ue[Be]=!0)}for($e.sort(function($t,he){return n($t[0],he[0])}),ie.FullPaths=[],ie.FileIndex=[],pe=0;pe<$e.length;++pe)ie.FullPaths[pe]=$e[pe][0],ie.FileIndex[pe]=$e[pe][1];for(pe=0;pe<$e.length;++pe){var ut=ie.FileIndex[pe],Et=ie.FullPaths[pe];if(ut.name=a(Et).replace("/",""),ut.L=ut.R=ut.C=-(ut.color=1),ut.size=ut.content?ut.content.length:0,ut.start=0,ut.clsid=ut.clsid||V,pe===0)ut.C=$e.length>1?1:-1,ut.size=0,ut.type=5;else if(Et.slice(-1)=="/"){for(Ve=pe+1;Ve<$e.length&&r(ie.FullPaths[Ve])!=Et;++Ve);for(ut.C=Ve>=$e.length?-1:Ve,Ve=pe+1;Ve<$e.length&&r(ie.FullPaths[Ve])!=r(Et);++Ve);ut.R=Ve>=$e.length?-1:Ve,ut.type=1}else r(ie.FullPaths[pe+1]||"")==r(Et)&&(ut.R=pe+1),ut.type=2}}}function j(ie,ge){var ce=ge||{};if(ce.fileType=="mad")return Cn(ie,ce);switch(T(ie),ce.fileType){case"zip":return Qr(ie,ce)}var fe=function($t){for(var he=0,Ee=0,Ae=0;Ae<$t.FileIndex.length;++Ae){var Ze=$t.FileIndex[Ae];if(Ze.content){var qe=Ze.content.length;qe>0&&(qe<4096?he+=qe+63>>6:Ee+=qe+511>>9)}}for(var Ht=$t.FullPaths.length+3>>2,gt=he+7>>3,Rt=he+127>>7,wn=gt+Ee+Ht+Rt,ca=wn+127>>7,ar=ca<=109?0:Math.ceil((ca-109)/127);wn+ca+ar+127>>7>ca;)ar=++ca<=109?0:Math.ceil((ca-109)/127);var Yt=[1,ar,ca,Rt,Ht,Ee,he,0];return $t.FileIndex[0].size=he<<6,Yt[7]=($t.FileIndex[0].start=Yt[0]+Yt[1]+Yt[2]+Yt[3]+Yt[4]+Yt[5])+(Yt[6]+7>>3),Yt}(ie),pe=ot(fe[7]<<9),ve=0,Oe=0;{for(ve=0;ve<8;++ve)pe.write_shift(1,B[ve]);for(ve=0;ve<8;++ve)pe.write_shift(2,0);for(pe.write_shift(2,62),pe.write_shift(2,3),pe.write_shift(2,65534),pe.write_shift(2,9),pe.write_shift(2,6),ve=0;ve<3;++ve)pe.write_shift(2,0);for(pe.write_shift(4,0),pe.write_shift(4,fe[2]),pe.write_shift(4,fe[0]+fe[1]+fe[2]+fe[3]-1),pe.write_shift(4,0),pe.write_shift(4,4096),pe.write_shift(4,fe[3]?fe[0]+fe[1]+fe[2]-1:R),pe.write_shift(4,fe[3]),pe.write_shift(-4,fe[1]?fe[0]-1:R),pe.write_shift(4,fe[1]),ve=0;ve<109;++ve)pe.write_shift(-4,ve<fe[2]?fe[1]+ve:-1)}if(fe[1])for(Oe=0;Oe<fe[1];++Oe){for(;ve<236+Oe*127;++ve)pe.write_shift(-4,ve<fe[2]?fe[1]+ve:-1);pe.write_shift(-4,Oe===fe[1]-1?R:Oe+1)}var Ve=function($t){for(Oe+=$t;ve<Oe-1;++ve)pe.write_shift(-4,ve+1);$t&&(++ve,pe.write_shift(-4,R))};for(Oe=ve=0,Oe+=fe[1];ve<Oe;++ve)pe.write_shift(-4,q.DIFSECT);for(Oe+=fe[2];ve<Oe;++ve)pe.write_shift(-4,q.FATSECT);Ve(fe[3]),Ve(fe[4]);for(var Ue=0,$e=0,Be=ie.FileIndex[0];Ue<ie.FileIndex.length;++Ue)Be=ie.FileIndex[Ue],Be.content&&($e=Be.content.length,!($e<4096)&&(Be.start=Oe,Ve($e+511>>9)));for(Ve(fe[6]+7>>3);pe.l&511;)pe.write_shift(-4,q.ENDOFCHAIN);for(Oe=ve=0,Ue=0;Ue<ie.FileIndex.length;++Ue)Be=ie.FileIndex[Ue],Be.content&&($e=Be.content.length,!(!$e||$e>=4096)&&(Be.start=Oe,Ve($e+63>>6)));for(;pe.l&511;)pe.write_shift(-4,q.ENDOFCHAIN);for(ve=0;ve<fe[4]<<2;++ve){var ut=ie.FullPaths[ve];if(!ut||ut.length===0){for(Ue=0;Ue<17;++Ue)pe.write_shift(4,0);for(Ue=0;Ue<3;++Ue)pe.write_shift(4,-1);for(Ue=0;Ue<12;++Ue)pe.write_shift(4,0);continue}Be=ie.FileIndex[ve],ve===0&&(Be.start=Be.size?Be.start-1:R);var Et=ve===0&&ce.root||Be.name;if($e=2*(Et.length+1),pe.write_shift(64,Et,"utf16le"),pe.write_shift(2,$e),pe.write_shift(1,Be.type),pe.write_shift(1,Be.color),pe.write_shift(-4,Be.L),pe.write_shift(-4,Be.R),pe.write_shift(-4,Be.C),Be.clsid)pe.write_shift(16,Be.clsid,"hex");else for(Ue=0;Ue<4;++Ue)pe.write_shift(4,0);pe.write_shift(4,Be.state||0),pe.write_shift(4,0),pe.write_shift(4,0),pe.write_shift(4,0),pe.write_shift(4,0),pe.write_shift(4,Be.start),pe.write_shift(4,Be.size),pe.write_shift(4,0)}for(ve=1;ve<ie.FileIndex.length;++ve)if(Be=ie.FileIndex[ve],Be.size>=4096)if(pe.l=Be.start+1<<9,vr&&Buffer.isBuffer(Be.content))Be.content.copy(pe,pe.l,0,Be.size),pe.l+=Be.size+511&-512;else{for(Ue=0;Ue<Be.size;++Ue)pe.write_shift(1,Be.content[Ue]);for(;Ue&511;++Ue)pe.write_shift(1,0)}for(ve=1;ve<ie.FileIndex.length;++ve)if(Be=ie.FileIndex[ve],Be.size>0&&Be.size<4096)if(vr&&Buffer.isBuffer(Be.content))Be.content.copy(pe,pe.l,0,Be.size),pe.l+=Be.size+63&-64;else{for(Ue=0;Ue<Be.size;++Ue)pe.write_shift(1,Be.content[Ue]);for(;Ue&63;++Ue)pe.write_shift(1,0)}if(vr)pe.l=pe.length;else for(;pe.l<pe.length;)pe.write_shift(1,0);return pe}function D(ie,ge){var ce=ie.FullPaths.map(function(Ue){return Ue.toUpperCase()}),fe=ce.map(function(Ue){var $e=Ue.split("/");return $e[$e.length-(Ue.slice(-1)=="/"?2:1)]}),pe=!1;ge.charCodeAt(0)===47?(pe=!0,ge=ce[0].slice(0,-1)+ge):pe=ge.indexOf("/")!==-1;var ve=ge.toUpperCase(),Oe=pe===!0?ce.indexOf(ve):fe.indexOf(ve);if(Oe!==-1)return ie.FileIndex[Oe];var Ve=!ve.match(eS);for(ve=ve.replace(b1,""),Ve&&(ve=ve.replace(eS,"!")),Oe=0;Oe<ce.length;++Oe)if((Ve?ce[Oe].replace(eS,"!"):ce[Oe]).replace(b1,"")==ve||(Ve?fe[Oe].replace(eS,"!"):fe[Oe]).replace(b1,"")==ve)return ie.FileIndex[Oe];return null}var M=64,R=-2,W="d0cf11e0a1b11ae1",B=[208,207,17,224,161,177,26,225],V="00000000000000000000000000000000",q={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:R,FREESECT:-1,HEADER_SIGNATURE:W,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:V,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function I(ie,ge,ce){u();var fe=j(ie,ce);l.writeFileSync(ge,fe)}function O(ie){for(var ge=new Array(ie.length),ce=0;ce<ie.length;++ce)ge[ce]=String.fromCharCode(ie[ce]);return ge.join("")}function H(ie,ge){var ce=j(ie,ge);switch(ge&&ge.type||"buffer"){case"file":return u(),l.writeFileSync(ge.filename,ce),ce;case"binary":return typeof ce=="string"?ce:O(ce);case"base64":return Bb(typeof ce=="string"?ce:O(ce));case"buffer":if(vr)return Buffer.isBuffer(ce)?ce:Kd(ce);case"array":return typeof ce=="string"?sc(ce):ce}return ce}var ne;function z(ie){try{var ge=ie.InflateRaw,ce=new ge;if(ce._processChunk(new Uint8Array([3,0]),ce._finishFlushFlag),ce.bytesRead)ne=ie;else throw new Error("zlib does not expose bytesRead")}catch(fe){console.error("cannot use native zlib: "+(fe.message||fe))}}function J(ie,ge){if(!ne)return Lt(ie,ge);var ce=ne.InflateRaw,fe=new ce,pe=fe._processChunk(ie.slice(ie.l),fe._finishFlushFlag);return ie.l+=fe.bytesRead,pe}function ee(ie){return ne?ne.deflateRawSync(ie):Re(ie)}var G=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Z=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],se=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function ae(ie){var ge=(ie<<1|ie<<11)&139536|(ie<<5|ie<<15)&558144;return(ge>>16|ge>>8|ge)&255}for(var Y=typeof Uint8Array<"u",X=Y?new Uint8Array(256):[],K=0;K<256;++K)X[K]=ae(K);function F(ie,ge){var ce=X[ie&255];return ge<=8?ce>>>8-ge:(ce=ce<<8|X[ie>>8&255],ge<=16?ce>>>16-ge:(ce=ce<<8|X[ie>>16&255],ce>>>24-ge))}function re(ie,ge){var ce=ge&7,fe=ge>>>3;return(ie[fe]|(ce<=6?0:ie[fe+1]<<8))>>>ce&3}function Q(ie,ge){var ce=ge&7,fe=ge>>>3;return(ie[fe]|(ce<=5?0:ie[fe+1]<<8))>>>ce&7}function oe(ie,ge){var ce=ge&7,fe=ge>>>3;return(ie[fe]|(ce<=4?0:ie[fe+1]<<8))>>>ce&15}function me(ie,ge){var ce=ge&7,fe=ge>>>3;return(ie[fe]|(ce<=3?0:ie[fe+1]<<8))>>>ce&31}function be(ie,ge){var ce=ge&7,fe=ge>>>3;return(ie[fe]|(ce<=1?0:ie[fe+1]<<8))>>>ce&127}function ye(ie,ge,ce){var fe=ge&7,pe=ge>>>3,ve=(1<<ce)-1,Oe=ie[pe]>>>fe;return ce<8-fe||(Oe|=ie[pe+1]<<8-fe,ce<16-fe)||(Oe|=ie[pe+2]<<16-fe,ce<24-fe)||(Oe|=ie[pe+3]<<24-fe),Oe&ve}function de(ie,ge,ce){var fe=ge&7,pe=ge>>>3;return fe<=5?ie[pe]|=(ce&7)<<fe:(ie[pe]|=ce<<fe&255,ie[pe+1]=(ce&7)>>8-fe),ge+3}function we(ie,ge,ce){var fe=ge&7,pe=ge>>>3;return ce=(ce&1)<<fe,ie[pe]|=ce,ge+1}function We(ie,ge,ce){var fe=ge&7,pe=ge>>>3;return ce<<=fe,ie[pe]|=ce&255,ce>>>=8,ie[pe+1]=ce,ge+8}function Me(ie,ge,ce){var fe=ge&7,pe=ge>>>3;return ce<<=fe,ie[pe]|=ce&255,ce>>>=8,ie[pe+1]=ce&255,ie[pe+2]=ce>>>8,ge+16}function ze(ie,ge){var ce=ie.length,fe=2*ce>ge?2*ce:ge+5,pe=0;if(ce>=ge)return ie;if(vr){var ve=Vq(fe);if(ie.copy)ie.copy(ve);else for(;pe<ie.length;++pe)ve[pe]=ie[pe];return ve}else if(Y){var Oe=new Uint8Array(fe);if(Oe.set)Oe.set(ie);else for(;pe<ce;++pe)Oe[pe]=ie[pe];return Oe}return ie.length=fe,ie}function He(ie){for(var ge=new Array(ie),ce=0;ce<ie;++ce)ge[ce]=0;return ge}function dt(ie,ge,ce){var fe=1,pe=0,ve=0,Oe=0,Ve=0,Ue=ie.length,$e=Y?new Uint16Array(32):He(32);for(ve=0;ve<32;++ve)$e[ve]=0;for(ve=Ue;ve<ce;++ve)ie[ve]=0;Ue=ie.length;var Be=Y?new Uint16Array(Ue):He(Ue);for(ve=0;ve<Ue;++ve)$e[pe=ie[ve]]++,fe<pe&&(fe=pe),Be[ve]=0;for($e[0]=0,ve=1;ve<=fe;++ve)$e[ve+16]=Ve=Ve+$e[ve-1]<<1;for(ve=0;ve<Ue;++ve)Ve=ie[ve],Ve!=0&&(Be[ve]=$e[Ve+16]++);var ut=0;for(ve=0;ve<Ue;++ve)if(ut=ie[ve],ut!=0)for(Ve=F(Be[ve],fe)>>fe-ut,Oe=(1<<fe+4-ut)-1;Oe>=0;--Oe)ge[Ve|Oe<<ut]=ut&15|ve<<4;return fe}var qt=Y?new Uint16Array(512):He(512),Zt=Y?new Uint16Array(32):He(32);if(!Y){for(var Wt=0;Wt<512;++Wt)qt[Wt]=0;for(Wt=0;Wt<32;++Wt)Zt[Wt]=0}(function(){for(var ie=[],ge=0;ge<32;ge++)ie.push(5);dt(ie,Zt,32);var ce=[];for(ge=0;ge<=143;ge++)ce.push(8);for(;ge<=255;ge++)ce.push(9);for(;ge<=279;ge++)ce.push(7);for(;ge<=287;ge++)ce.push(8);dt(ce,qt,288)})();var mn=function(){for(var ge=Y?new Uint8Array(32768):[],ce=0,fe=0;ce<se.length-1;++ce)for(;fe<se[ce+1];++fe)ge[fe]=ce;for(;fe<32768;++fe)ge[fe]=29;var pe=Y?new Uint8Array(259):[];for(ce=0,fe=0;ce<Z.length-1;++ce)for(;fe<Z[ce+1];++fe)pe[fe]=ce;function ve(Ve,Ue){for(var $e=0;$e<Ve.length;){var Be=Math.min(65535,Ve.length-$e),ut=$e+Be==Ve.length;for(Ue.write_shift(1,+ut),Ue.write_shift(2,Be),Ue.write_shift(2,~Be&65535);Be-- >0;)Ue[Ue.l++]=Ve[$e++]}return Ue.l}function Oe(Ve,Ue){for(var $e=0,Be=0,ut=Y?new Uint16Array(32768):[];Be<Ve.length;){var Et=Math.min(65535,Ve.length-Be);if(Et<10){for($e=de(Ue,$e,+(Be+Et==Ve.length)),$e&7&&($e+=8-($e&7)),Ue.l=$e/8|0,Ue.write_shift(2,Et),Ue.write_shift(2,~Et&65535);Et-- >0;)Ue[Ue.l++]=Ve[Be++];$e=Ue.l*8;continue}$e=de(Ue,$e,+(Be+Et==Ve.length)+2);for(var $t=0;Et-- >0;){var he=Ve[Be];$t=($t<<5^he)&32767;var Ee=-1,Ae=0;if((Ee=ut[$t])&&(Ee|=Be&-32768,Ee>Be&&(Ee-=32768),Ee<Be))for(;Ve[Ee+Ae]==Ve[Be+Ae]&&Ae<250;)++Ae;if(Ae>2){he=pe[Ae],he<=22?$e=We(Ue,$e,X[he+1]>>1)-1:(We(Ue,$e,3),$e+=5,We(Ue,$e,X[he-23]>>5),$e+=3);var Ze=he<8?0:he-4>>2;Ze>0&&(Me(Ue,$e,Ae-Z[he]),$e+=Ze),he=ge[Be-Ee],$e=We(Ue,$e,X[he]>>3),$e-=3;var qe=he<4?0:he-2>>1;qe>0&&(Me(Ue,$e,Be-Ee-se[he]),$e+=qe);for(var Ht=0;Ht<Ae;++Ht)ut[$t]=Be&32767,$t=($t<<5^Ve[Be])&32767,++Be;Et-=Ae-1}else he<=143?he=he+48:$e=we(Ue,$e,1),$e=We(Ue,$e,X[he]),ut[$t]=Be&32767,++Be}$e=We(Ue,$e,0)-1}return Ue.l=($e+7)/8|0,Ue.l}return function(Ue,$e){return Ue.length<8?ve(Ue,$e):Oe(Ue,$e)}}();function Re(ie){var ge=ot(50+Math.floor(ie.length*1.1)),ce=mn(ie,ge);return ge.slice(0,ce)}var Ge=Y?new Uint16Array(32768):He(32768),at=Y?new Uint16Array(32768):He(32768),Ke=Y?new Uint16Array(128):He(128),Qe=1,yt=1;function ft(ie,ge){var ce=me(ie,ge)+257;ge+=5;var fe=me(ie,ge)+1;ge+=5;var pe=oe(ie,ge)+4;ge+=4;for(var ve=0,Oe=Y?new Uint8Array(19):He(19),Ve=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Ue=1,$e=Y?new Uint8Array(8):He(8),Be=Y?new Uint8Array(8):He(8),ut=Oe.length,Et=0;Et<pe;++Et)Oe[G[Et]]=ve=Q(ie,ge),Ue<ve&&(Ue=ve),$e[ve]++,ge+=3;var $t=0;for($e[0]=0,Et=1;Et<=Ue;++Et)Be[Et]=$t=$t+$e[Et-1]<<1;for(Et=0;Et<ut;++Et)($t=Oe[Et])!=0&&(Ve[Et]=Be[$t]++);var he=0;for(Et=0;Et<ut;++Et)if(he=Oe[Et],he!=0){$t=X[Ve[Et]]>>8-he;for(var Ee=(1<<7-he)-1;Ee>=0;--Ee)Ke[$t|Ee<<he]=he&7|Et<<3}var Ae=[];for(Ue=1;Ae.length<ce+fe;)switch($t=Ke[be(ie,ge)],ge+=$t&7,$t>>>=3){case 16:for(ve=3+re(ie,ge),ge+=2,$t=Ae[Ae.length-1];ve-- >0;)Ae.push($t);break;case 17:for(ve=3+Q(ie,ge),ge+=3;ve-- >0;)Ae.push(0);break;case 18:for(ve=11+be(ie,ge),ge+=7;ve-- >0;)Ae.push(0);break;default:Ae.push($t),Ue<$t&&(Ue=$t);break}var Ze=Ae.slice(0,ce),qe=Ae.slice(ce);for(Et=ce;Et<286;++Et)Ze[Et]=0;for(Et=fe;Et<30;++Et)qe[Et]=0;return Qe=dt(Ze,Ge,286),yt=dt(qe,at,30),ge}function pt(ie,ge){if(ie[0]==3&&!(ie[1]&3))return[wm(ge),2];for(var ce=0,fe=0,pe=Vq(ge||1<<18),ve=0,Oe=pe.length>>>0,Ve=0,Ue=0;!(fe&1);){if(fe=Q(ie,ce),ce+=3,fe>>>1)fe>>1==1?(Ve=9,Ue=5):(ce=ft(ie,ce),Ve=Qe,Ue=yt);else{ce&7&&(ce+=8-(ce&7));var $e=ie[ce>>>3]|ie[(ce>>>3)+1]<<8;if(ce+=32,$e>0)for(!ge&&Oe<ve+$e&&(pe=ze(pe,ve+$e),Oe=pe.length);$e-- >0;)pe[ve++]=ie[ce>>>3],ce+=8;continue}for(;;){!ge&&Oe<ve+32767&&(pe=ze(pe,ve+32767),Oe=pe.length);var Be=ye(ie,ce,Ve),ut=fe>>>1==1?qt[Be]:Ge[Be];if(ce+=ut&15,ut>>>=4,!(ut>>>8&255))pe[ve++]=ut;else{if(ut==256)break;ut-=257;var Et=ut<8?0:ut-4>>2;Et>5&&(Et=0);var $t=ve+Z[ut];Et>0&&($t+=ye(ie,ce,Et),ce+=Et),Be=ye(ie,ce,Ue),ut=fe>>>1==1?Zt[Be]:at[Be],ce+=ut&15,ut>>>=4;var he=ut<4?0:ut-2>>1,Ee=se[ut];for(he>0&&(Ee+=ye(ie,ce,he),ce+=he),!ge&&Oe<$t&&(pe=ze(pe,$t+100),Oe=pe.length);ve<$t;)pe[ve]=pe[ve-Ee],++ve}}}return ge?[pe,ce+7>>>3]:[pe.slice(0,ve),ce+7>>>3]}function Lt(ie,ge){var ce=ie.slice(ie.l||0),fe=pt(ce,ge);return ie.l+=fe[1],fe[0]}function ln(ie,ge){if(ie)typeof console<"u"&&console.error(ge);else throw new Error(ge)}function rr(ie,ge){var ce=ie;Ss(ce,0);var fe=[],pe=[],ve={FileIndex:fe,FullPaths:pe};N(ve,{root:ge.root});for(var Oe=ce.length-4;(ce[Oe]!=80||ce[Oe+1]!=75||ce[Oe+2]!=5||ce[Oe+3]!=6)&&Oe>=0;)--Oe;ce.l=Oe+4,ce.l+=4;var Ve=ce.read_shift(2);ce.l+=6;var Ue=ce.read_shift(4);for(ce.l=Ue,Oe=0;Oe<Ve;++Oe){ce.l+=20;var $e=ce.read_shift(4),Be=ce.read_shift(4),ut=ce.read_shift(2),Et=ce.read_shift(2),$t=ce.read_shift(2);ce.l+=8;var he=ce.read_shift(4),Ee=s(ce.slice(ce.l+ut,ce.l+ut+Et));ce.l+=ut+Et+$t;var Ae=ce.l;ce.l=he+4,Fr(ce,$e,Be,ve,Ee),ce.l=Ae}return ve}function Fr(ie,ge,ce,fe,pe){ie.l+=2;var ve=ie.read_shift(2),Oe=ie.read_shift(2),Ve=o(ie);if(ve&8257)throw new Error("Unsupported ZIP encryption");for(var Ue=ie.read_shift(4),$e=ie.read_shift(4),Be=ie.read_shift(4),ut=ie.read_shift(2),Et=ie.read_shift(2),$t="",he=0;he<ut;++he)$t+=String.fromCharCode(ie[ie.l++]);if(Et){var Ee=s(ie.slice(ie.l,ie.l+Et));(Ee[21589]||{}).mt&&(Ve=Ee[21589].mt),((pe||{})[21589]||{}).mt&&(Ve=pe[21589].mt)}ie.l+=Et;var Ae=ie.slice(ie.l,ie.l+$e);switch(Oe){case 8:Ae=J(ie,Be);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Oe)}var Ze=!1;ve&8&&(Ue=ie.read_shift(4),Ue==134695760&&(Ue=ie.read_shift(4),Ze=!0),$e=ie.read_shift(4),Be=ie.read_shift(4)),$e!=ge&&ln(Ze,"Bad compressed size: "+ge+" != "+$e),Be!=ce&&ln(Ze,"Bad uncompressed size: "+ce+" != "+Be),De(fe,$t,Ae,{unsafe:!0,mt:Ve})}function Qr(ie,ge){var ce=ge||{},fe=[],pe=[],ve=ot(1),Oe=ce.compression?8:0,Ve=0,Ue=0,$e=0,Be=0,ut=0,Et=ie.FullPaths[0],$t=Et,he=ie.FileIndex[0],Ee=[],Ae=0;for(Ue=1;Ue<ie.FullPaths.length;++Ue)if($t=ie.FullPaths[Ue].slice(Et.length),he=ie.FileIndex[Ue],!(!he.size||!he.content||$t=="Sh33tJ5")){var Ze=Be,qe=ot($t.length);for($e=0;$e<$t.length;++$e)qe.write_shift(1,$t.charCodeAt($e)&127);qe=qe.slice(0,qe.l),Ee[ut]=THe.buf(he.content,0);var Ht=he.content;Oe==8&&(Ht=ee(Ht)),ve=ot(30),ve.write_shift(4,67324752),ve.write_shift(2,20),ve.write_shift(2,Ve),ve.write_shift(2,Oe),he.mt?i(ve,he.mt):ve.write_shift(4,0),ve.write_shift(-4,Ee[ut]),ve.write_shift(4,Ht.length),ve.write_shift(4,he.content.length),ve.write_shift(2,qe.length),ve.write_shift(2,0),Be+=ve.length,fe.push(ve),Be+=qe.length,fe.push(qe),Be+=Ht.length,fe.push(Ht),ve=ot(46),ve.write_shift(4,33639248),ve.write_shift(2,0),ve.write_shift(2,20),ve.write_shift(2,Ve),ve.write_shift(2,Oe),ve.write_shift(4,0),ve.write_shift(-4,Ee[ut]),ve.write_shift(4,Ht.length),ve.write_shift(4,he.content.length),ve.write_shift(2,qe.length),ve.write_shift(2,0),ve.write_shift(2,0),ve.write_shift(2,0),ve.write_shift(2,0),ve.write_shift(4,0),ve.write_shift(4,Ze),Ae+=ve.l,pe.push(ve),Ae+=qe.length,pe.push(qe),++ut}return ve=ot(22),ve.write_shift(4,101010256),ve.write_shift(2,0),ve.write_shift(2,0),ve.write_shift(2,ut),ve.write_shift(2,ut),ve.write_shift(4,Ae),ve.write_shift(4,Be),ve.write_shift(2,0),Ki([Ki(fe),Ki(pe),ve])}var la={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function ai(ie,ge){if(ie.ctype)return ie.ctype;var ce=ie.name||"",fe=ce.match(/\.([^\.]+)$/);return fe&&la[fe[1]]||ge&&(fe=(ce=ge).match(/[\.\\]([^\.\\])+$/),fe&&la[fe[1]])?la[fe[1]]:"application/octet-stream"}function je(ie){for(var ge=Bb(ie),ce=[],fe=0;fe<ge.length;fe+=76)ce.push(ge.slice(fe,fe+76));return ce.join(`\r
`)+`\r
`}function At(ie){var ge=ie.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function($e){var Be=$e.charCodeAt(0).toString(16).toUpperCase();return"="+(Be.length==1?"0"+Be:Be)});ge=ge.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),ge.charAt(0)==`
`&&(ge="=0D"+ge.slice(1)),ge=ge.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var ce=[],fe=ge.split(`\r
`),pe=0;pe<fe.length;++pe){var ve=fe[pe];if(ve.length==0){ce.push("");continue}for(var Oe=0;Oe<ve.length;){var Ve=76,Ue=ve.slice(Oe,Oe+Ve);Ue.charAt(Ve-1)=="="?Ve--:Ue.charAt(Ve-2)=="="?Ve-=2:Ue.charAt(Ve-3)=="="&&(Ve-=3),Ue=ve.slice(Oe,Oe+Ve),Oe+=Ve,Oe<ve.length&&(Ue+="="),ce.push(Ue)}}return ce.join(`\r
`)}function wt(ie){for(var ge=[],ce=0;ce<ie.length;++ce){for(var fe=ie[ce];ce<=ie.length&&fe.charAt(fe.length-1)=="=";)fe=fe.slice(0,fe.length-1)+ie[++ce];ge.push(fe)}for(var pe=0;pe<ge.length;++pe)ge[pe]=ge[pe].replace(/[=][0-9A-Fa-f]{2}/g,function(ve){return String.fromCharCode(parseInt(ve.slice(1),16))});return sc(ge.join(`\r
`))}function cn(ie,ge,ce){for(var fe="",pe="",ve="",Oe,Ve=0;Ve<10;++Ve){var Ue=ge[Ve];if(!Ue||Ue.match(/^\s*$/))break;var $e=Ue.match(/^(.*?):\s*([^\s].*)$/);if($e)switch($e[1].toLowerCase()){case"content-location":fe=$e[2].trim();break;case"content-type":ve=$e[2].trim();break;case"content-transfer-encoding":pe=$e[2].trim();break}}switch(++Ve,pe.toLowerCase()){case"base64":Oe=sc(Md(ge.slice(Ve).join("")));break;case"quoted-printable":Oe=wt(ge.slice(Ve));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+pe)}var Be=De(ie,fe.slice(ce.length),Oe,{unsafe:!0});ve&&(Be.ctype=ve)}function kt(ie,ge){if(O(ie.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var ce=ge&&ge.root||"",fe=(vr&&Buffer.isBuffer(ie)?ie.toString("binary"):O(ie)).split(`\r
`),pe=0,ve="";for(pe=0;pe<fe.length;++pe)if(ve=fe[pe],!!/^Content-Location:/i.test(ve)&&(ve=ve.slice(ve.indexOf("file")),ce||(ce=ve.slice(0,ve.lastIndexOf("/")+1)),ve.slice(0,ce.length)!=ce))for(;ce.length>0&&(ce=ce.slice(0,ce.length-1),ce=ce.slice(0,ce.lastIndexOf("/")+1),ve.slice(0,ce.length)!=ce););var Oe=(fe[1]||"").match(/boundary="(.*?)"/);if(!Oe)throw new Error("MAD cannot find boundary");var Ve="--"+(Oe[1]||""),Ue=[],$e=[],Be={FileIndex:Ue,FullPaths:$e};N(Be);var ut,Et=0;for(pe=0;pe<fe.length;++pe){var $t=fe[pe];$t!==Ve&&$t!==Ve+"--"||(Et++&&cn(Be,fe.slice(ut,pe),ce),ut=pe)}return Be}function Cn(ie,ge){var ce=ge||{},fe=ce.boundary||"SheetJS";fe="------="+fe;for(var pe=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+fe.slice(2)+'"',"","",""],ve=ie.FullPaths[0],Oe=ve,Ve=ie.FileIndex[0],Ue=1;Ue<ie.FullPaths.length;++Ue)if(Oe=ie.FullPaths[Ue].slice(ve.length),Ve=ie.FileIndex[Ue],!(!Ve.size||!Ve.content||Oe=="Sh33tJ5")){Oe=Oe.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Ae){return"_x"+Ae.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Ae){return"_u"+Ae.charCodeAt(0).toString(16)+"_"});for(var $e=Ve.content,Be=vr&&Buffer.isBuffer($e)?$e.toString("binary"):O($e),ut=0,Et=Math.min(1024,Be.length),$t=0,he=0;he<=Et;++he)($t=Be.charCodeAt(he))>=32&&$t<128&&++ut;var Ee=ut>=Et*4/5;pe.push(fe),pe.push("Content-Location: "+(ce.root||"file:///C:/SheetJS/")+Oe),pe.push("Content-Transfer-Encoding: "+(Ee?"quoted-printable":"base64")),pe.push("Content-Type: "+ai(Ve,Oe)),pe.push(""),pe.push(Ee?At(Be):je(Be))}return pe.push(fe+`--\r
`),pe.join(`\r
`)}function ke(ie){var ge={};return N(ge,ie),ge}function De(ie,ge,ce,fe){var pe=fe&&fe.unsafe;pe||N(ie);var ve=!pe&&Mr.find(ie,ge);if(!ve){var Oe=ie.FullPaths[0];ge.slice(0,Oe.length)==Oe?Oe=ge:(Oe.slice(-1)!="/"&&(Oe+="/"),Oe=(Oe+ge).replace("//","/")),ve={name:a(ge),type:2},ie.FileIndex.push(ve),ie.FullPaths.push(Oe),pe||Mr.utils.cfb_gc(ie)}return ve.content=ce,ve.size=ce?ce.length:0,fe&&(fe.CLSID&&(ve.clsid=fe.CLSID),fe.mt&&(ve.mt=fe.mt),fe.ct&&(ve.ct=fe.ct)),ve}function Xe(ie,ge){N(ie);var ce=Mr.find(ie,ge);if(ce){for(var fe=0;fe<ie.FileIndex.length;++fe)if(ie.FileIndex[fe]==ce)return ie.FileIndex.splice(fe,1),ie.FullPaths.splice(fe,1),!0}return!1}function it(ie,ge,ce){N(ie);var fe=Mr.find(ie,ge);if(fe){for(var pe=0;pe<ie.FileIndex.length;++pe)if(ie.FileIndex[pe]==fe)return ie.FileIndex[pe].name=a(ce),ie.FullPaths[pe]=ce,!0}return!1}function et(ie){T(ie,!0)}return t.find=D,t.read=k,t.parse=d,t.write=H,t.writeFile=I,t.utils={cfb_new:ke,cfb_add:De,cfb_del:Xe,cfb_mov:it,cfb_gc:et,ReadShift:_1,CheckField:fue,prep_blob:Ss,bconcat:Ki,use_zlib:z,_deflateRaw:Re,_inflateRaw:Lt,consts:q},t}();function PHe(e){return typeof e=="string"?NT(e):Array.isArray(e)?nHe(e):e}function f2(e,t,n){if(typeof Deno<"u"){if(n&&typeof t=="string")switch(n){case"utf8":t=new TextEncoder(n).encode(t);break;case"binary":t=NT(t);break;default:throw new Error("Unsupported encoding "+n)}return Deno.writeFileSync(e,t)}var r=n=="utf8"?Ub(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(r,e);if(typeof Blob<"u"){var a=new Blob([PHe(r)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(a,e);if(typeof saveAs<"u")return saveAs(a,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var i=URL.createObjectURL(a);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),chrome.downloads.download({url:i,filename:e,saveAs:!0});var o=document.createElement("a");if(o.download!=null)return o.download=e,o.href=i,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),i}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var s=File(e);return s.open("w"),s.encoding="binary",Array.isArray(t)&&(t=d2(t)),s.write(t),s.close(),t}catch(l){if(!l.message||!l.message.match(/onstruct/))throw l}throw new Error("cannot save file "+e)}function to(e){for(var t=Object.keys(e),n=[],r=0;r<t.length;++r)Object.prototype.hasOwnProperty.call(e,t[r])&&n.push(t[r]);return n}function Qq(e,t){for(var n=[],r=to(e),a=0;a!==r.length;++a)n[e[r[a]][t]]==null&&(n[e[r[a]][t]]=r[a]);return n}function d$(e){for(var t=[],n=to(e),r=0;r!==n.length;++r)t[e[n[r]]]=n[r];return t}function TT(e){for(var t=[],n=to(e),r=0;r!==n.length;++r)t[e[n[r]]]=parseInt(n[r],10);return t}function AHe(e){for(var t=[],n=to(e),r=0;r!==n.length;++r)t[e[n[r]]]==null&&(t[e[n[r]]]=[]),t[e[n[r]]].push(n[r]);return t}var rN=new Date(1899,11,30,0,0,0);function fs(e,t){var n=e.getTime(),r=rN.getTime()+(e.getTimezoneOffset()-rN.getTimezoneOffset())*6e4;return(n-r)/(24*60*60*1e3)}var Kce=new Date,DHe=rN.getTime()+(Kce.getTimezoneOffset()-rN.getTimezoneOffset())*6e4,Jq=Kce.getTimezoneOffset();function Xce(e){var t=new Date;return t.setTime(e*24*60*60*1e3+DHe),t.getTimezoneOffset()!==Jq&&t.setTime(t.getTime()+(t.getTimezoneOffset()-Jq)*6e4),t}var eG=new Date("2017-02-19T19:06:09.000Z"),Zce=isNaN(eG.getFullYear())?new Date("2/19/17"):eG,OHe=Zce.getFullYear()==2017;function Bo(e,t){var n=new Date(e);if(OHe)return t>0?n.setTime(n.getTime()+n.getTimezoneOffset()*60*1e3):t<0&&n.setTime(n.getTime()-n.getTimezoneOffset()*60*1e3),n;if(e instanceof Date)return e;if(Zce.getFullYear()==1917&&!isNaN(n.getFullYear())){var r=n.getFullYear();return e.indexOf(""+r)>-1||n.setFullYear(n.getFullYear()+100),n}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function PT(e,t){if(vr&&Buffer.isBuffer(e))return e.toString("binary");if(typeof TextDecoder<"u")try{var n={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(i){return n[i]||i})}catch{}for(var r=[],a=0;a!=e.length;++a)r.push(String.fromCharCode(e[a]));return r.join("")}function hs(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=hs(e[n]));return t}function Ia(e,t){for(var n="";n.length<t;)n+=e;return n}function yd(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var n=1,r=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return n*=100,""});return!isNaN(t=Number(r))||(r=r.replace(/[(](.*)[)]/,function(a,i){return n=-n,i}),!isNaN(t=Number(r)))?t/n:t}var MHe=["january","february","march","april","may","june","july","august","september","october","november","december"];function zb(e){var t=new Date(e),n=new Date(NaN),r=t.getYear(),a=t.getMonth(),i=t.getDate();if(isNaN(i))return n;var o=e.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&MHe.indexOf(o)==-1)return n}else if(o.match(/[a-z]/))return n;return r<0||r>8099?n:(a>0||i>1)&&r!=101?t:e.match(/[^-0-9:,\/\\]/)?n:t}function $n(e,t,n){if(e.FullPaths){if(typeof n=="string"){var r;return vr?r=Kd(n):r=rHe(n),Mr.utils.cfb_add(e,t,r)}Mr.utils.cfb_add(e,t,n)}else e.file(t,n)}function f$(){return Mr.utils.cfb_new()}var ri=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,IHe={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},h$=d$(IHe),p$=/[&<>'"]/g,RHe=/[\u0000-\u0008\u000b-\u001f]/g;function jr(e){var t=e+"";return t.replace(p$,function(n){return h$[n]}).replace(RHe,function(n){return"_x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+"_"})}function tG(e){return jr(e).replace(/ /g,"_x0020_")}var Qce=/[\u0000-\u001f]/g;function FHe(e){var t=e+"";return t.replace(p$,function(n){return h$[n]}).replace(/\n/g,"<br/>").replace(Qce,function(n){return"&#x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+";"})}function LHe(e){var t=e+"";return t.replace(p$,function(n){return h$[n]}).replace(Qce,function(n){return"&#x"+n.charCodeAt(0).toString(16).toUpperCase()+";"})}function $He(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function BHe(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function oD(e){for(var t="",n=0,r=0,a=0,i=0,o=0,s=0;n<e.length;){if(r=e.charCodeAt(n++),r<128){t+=String.fromCharCode(r);continue}if(a=e.charCodeAt(n++),r>191&&r<224){o=(r&31)<<6,o|=a&63,t+=String.fromCharCode(o);continue}if(i=e.charCodeAt(n++),r<240){t+=String.fromCharCode((r&15)<<12|(a&63)<<6|i&63);continue}o=e.charCodeAt(n++),s=((r&7)<<18|(a&63)<<12|(i&63)<<6|o&63)-65536,t+=String.fromCharCode(55296+(s>>>10&1023)),t+=String.fromCharCode(56320+(s&1023))}return t}function nG(e){var t=wm(2*e.length),n,r,a=1,i=0,o=0,s;for(r=0;r<e.length;r+=a)a=1,(s=e.charCodeAt(r))<128?n=s:s<224?(n=(s&31)*64+(e.charCodeAt(r+1)&63),a=2):s<240?(n=(s&15)*4096+(e.charCodeAt(r+1)&63)*64+(e.charCodeAt(r+2)&63),a=3):(a=4,n=(s&7)*262144+(e.charCodeAt(r+1)&63)*4096+(e.charCodeAt(r+2)&63)*64+(e.charCodeAt(r+3)&63),n-=65536,o=55296+(n>>>10&1023),n=56320+(n&1023)),o!==0&&(t[i++]=o&255,t[i++]=o>>>8,o=0),t[i++]=n%256,t[i++]=n>>>8;return t.slice(0,i).toString("ucs2")}function rG(e){return Kd(e,"binary").toString("utf8")}var nS="foo bar baz",w1=vr&&(rG(nS)==oD(nS)&&rG||nG(nS)==oD(nS)&&nG)||oD,Ub=vr?function(e){return Kd(e,"utf8").toString("binary")}:function(e){for(var t=[],n=0,r=0,a=0;n<e.length;)switch(r=e.charCodeAt(n++),!0){case r<128:t.push(String.fromCharCode(r));break;case r<2048:t.push(String.fromCharCode(192+(r>>6))),t.push(String.fromCharCode(128+(r&63)));break;case(r>=55296&&r<57344):r-=55296,a=e.charCodeAt(n++)-56320+(r<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)));break;default:t.push(String.fromCharCode(224+(r>>12))),t.push(String.fromCharCode(128+(r>>6&63))),t.push(String.fromCharCode(128+(r&63)))}return t.join("")},zHe=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(n){for(var r=n.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<e.length;++a)r=r.replace(e[a][0],e[a][1]);return r}}(),Jce=/(^\s|\s$|\n)/;function Xi(e,t){return"<"+e+(t.match(Jce)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function Wb(e){return to(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function It(e,t,n){return"<"+e+(n!=null?Wb(n):"")+(t!=null?(t.match(Jce)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function iI(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(n){if(t)throw n}return""}function UHe(e,t){switch(typeof e){case"string":var n=It("vt:lpwstr",jr(e));return n=n.replace(/&quot;/g,"_x0022_"),n;case"number":return It((e|0)==e?"vt:i4":"vt:r8",jr(String(e)));case"boolean":return It("vt:bool",e?"true":"false")}if(e instanceof Date)return It("vt:filetime",iI(e));throw new Error("Unable to serialize "+e)}var Si={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},ry=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Es={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function WHe(e,t){for(var n=1-2*(e[t+7]>>>7),r=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),a=e[t+6]&15,i=5;i>=0;--i)a=a*256+e[t+i];return r==2047?a==0?n*(1/0):NaN:(r==0?r=-1022:(r-=1023,a+=Math.pow(2,52)),n*Math.pow(2,r-52)*a)}function VHe(e,t,n){var r=(t<0||1/t==-1/0?1:0)<<7,a=0,i=0,o=r?-t:t;isFinite(o)?o==0?a=i=0:(a=Math.floor(Math.log(o)/Math.LN2),i=o*Math.pow(2,52-a),a<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?a=-1022:(i-=Math.pow(2,52),a+=1023)):(a=2047,i=isNaN(t)?26985:0);for(var s=0;s<=5;++s,i/=256)e[n+s]=i&255;e[n+6]=(a&15)<<4|i&15,e[n+7]=a>>4|r}var aG=function(e){for(var t=[],n=10240,r=0;r<e[0].length;++r)if(e[0][r])for(var a=0,i=e[0][r].length;a<i;a+=n)t.push.apply(t,e[0][r].slice(a,a+n));return t},iG=vr?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:Kd(t)})):aG(e)}:aG,oG=function(e,t,n){for(var r=[],a=t;a<n;a+=2)r.push(String.fromCharCode(Mx(e,a)));return r.join("").replace(b1,"")},m$=vr?function(e,t,n){return Buffer.isBuffer(e)?e.toString("utf16le",t,n).replace(b1,""):oG(e,t,n)}:oG,sG=function(e,t,n){for(var r=[],a=t;a<t+n;++a)r.push(("0"+e[a].toString(16)).slice(-2));return r.join("")},eue=vr?function(e,t,n){return Buffer.isBuffer(e)?e.toString("hex",t,t+n):sG(e,t,n)}:sG,lG=function(e,t,n){for(var r=[],a=t;a<n;a++)r.push(String.fromCharCode(jg(e,a)));return r.join("")},h2=vr?function(t,n,r){return Buffer.isBuffer(t)?t.toString("utf8",n,r):lG(t,n,r)}:lG,tue=function(e,t){var n=Ns(e,t);return n>0?h2(e,t+4,t+4+n-1):""},nue=tue,rue=function(e,t){var n=Ns(e,t);return n>0?h2(e,t+4,t+4+n-1):""},aue=rue,iue=function(e,t){var n=2*Ns(e,t);return n>0?h2(e,t+4,t+4+n-1):""},oue=iue,sue=function(t,n){var r=Ns(t,n);return r>0?m$(t,n+4,n+4+r):""},lue=sue,cue=function(e,t){var n=Ns(e,t);return n>0?h2(e,t+4,t+4+n):""},uue=cue,due=function(e,t){return WHe(e,t)},aN=due,g$=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};vr&&(nue=function(t,n){if(!Buffer.isBuffer(t))return tue(t,n);var r=t.readUInt32LE(n);return r>0?t.toString("utf8",n+4,n+4+r-1):""},aue=function(t,n){if(!Buffer.isBuffer(t))return rue(t,n);var r=t.readUInt32LE(n);return r>0?t.toString("utf8",n+4,n+4+r-1):""},oue=function(t,n){if(!Buffer.isBuffer(t))return iue(t,n);var r=2*t.readUInt32LE(n);return t.toString("utf16le",n+4,n+4+r-1)},lue=function(t,n){if(!Buffer.isBuffer(t))return sue(t,n);var r=t.readUInt32LE(n);return t.toString("utf16le",n+4,n+4+r)},uue=function(t,n){if(!Buffer.isBuffer(t))return cue(t,n);var r=t.readUInt32LE(n);return t.toString("utf8",n+4,n+4+r)},aN=function(t,n){return Buffer.isBuffer(t)?t.readDoubleLE(n):due(t,n)},g$=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var jg=function(e,t){return e[t]},Mx=function(e,t){return e[t+1]*256+e[t]},HHe=function(e,t){var n=e[t+1]*256+e[t];return n<32768?n:(65535-n+1)*-1},Ns=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},xp=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},qHe=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function _1(e,t){var n="",r,a,i=[],o,s,l,u;switch(t){case"dbcs":if(u=this.l,vr&&Buffer.isBuffer(this))n=this.slice(this.l,this.l+2*e).toString("utf16le");else for(l=0;l<e;++l)n+=String.fromCharCode(Mx(this,u)),u+=2;e*=2;break;case"utf8":n=h2(this,this.l,this.l+e);break;case"utf16le":e*=2,n=m$(this,this.l,this.l+e);break;case"wstr":return _1.call(this,e,"dbcs");case"lpstr-ansi":n=nue(this,this.l),e=4+Ns(this,this.l);break;case"lpstr-cp":n=aue(this,this.l),e=4+Ns(this,this.l);break;case"lpwstr":n=oue(this,this.l),e=4+2*Ns(this,this.l);break;case"lpp4":e=4+Ns(this,this.l),n=lue(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+Ns(this,this.l),n=uue(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,n="";(o=jg(this,this.l+e++))!==0;)i.push(J_(o));n=i.join("");break;case"_wstr":for(e=0,n="";(o=Mx(this,this.l+e))!==0;)i.push(J_(o)),e+=2;e+=2,n=i.join("");break;case"dbcs-cont":for(n="",u=this.l,l=0;l<e;++l){if(this.lens&&this.lens.indexOf(u)!==-1)return o=jg(this,u),this.l=u+1,s=_1.call(this,e-l,o?"dbcs-cont":"sbcs-cont"),i.join("")+s;i.push(J_(Mx(this,u))),u+=2}n=i.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(n="",u=this.l,l=0;l!=e;++l){if(this.lens&&this.lens.indexOf(u)!==-1)return o=jg(this,u),this.l=u+1,s=_1.call(this,e-l,o?"dbcs-cont":"sbcs-cont"),i.join("")+s;i.push(J_(jg(this,u))),u+=1}n=i.join("");break;default:switch(e){case 1:return r=jg(this,this.l),this.l++,r;case 2:return r=(t==="i"?HHe:Mx)(this,this.l),this.l+=2,r;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(r=(e>0?xp:qHe)(this,this.l),this.l+=4,r):(a=Ns(this,this.l),this.l+=4,a);case 8:case-8:if(t==="f")return e==8?a=aN(this,this.l):a=aN([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:n=eue(this,this.l,e);break}}return this.l+=e,n}var GHe=function(e,t,n){e[n]=t&255,e[n+1]=t>>>8&255,e[n+2]=t>>>16&255,e[n+3]=t>>>24&255},YHe=function(e,t,n){e[n]=t&255,e[n+1]=t>>8&255,e[n+2]=t>>16&255,e[n+3]=t>>24&255},KHe=function(e,t,n){e[n]=t&255,e[n+1]=t>>>8&255};function XHe(e,t,n){var r=0,a=0;if(n==="dbcs"){for(a=0;a!=t.length;++a)KHe(this,t.charCodeAt(a),this.l+2*a);r=2*t.length}else if(n==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=t.charCodeAt(a)&255;r=t.length}else if(n==="hex"){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}else if(n==="utf16le"){var i=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var o=t.charCodeAt(a);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(e){case 1:r=1,this[this.l]=t&255;break;case 2:r=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:r=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:r=4,GHe(this,t,this.l);break;case 8:if(r=8,n==="f"){VHe(this,t,this.l);break}case 16:break;case-4:r=4,YHe(this,t,this.l);break}return this.l+=r,this}function fue(e,t){var n=eue(this,this.l,e.length>>1);if(n!==e)throw new Error(t+"Expected "+e+" saw "+n);this.l+=e.length>>1}function Ss(e,t){e.l=t,e.read_shift=_1,e.chk=fue,e.write_shift=XHe}function Tu(e,t){e.l+=t}function ot(e){var t=wm(e);return Ss(t,0),t}function ls(){var e=[],t=vr?256:2048,n=function(u){var d=ot(u);return Ss(d,0),d},r=n(t),a=function(){r&&(r.length>r.l&&(r=r.slice(0,r.l),r.l=r.length),r.length>0&&e.push(r),r=null)},i=function(u){return r&&u<r.length-r.l?r:(a(),r=n(Math.max(u+1,t)))},o=function(){return a(),Ki(e)},s=function(u){a(),r=u,r.l==null&&(r.l=r.length),i(t)};return{next:i,push:s,end:o,_bufs:e}}function vt(e,t,n,r){var a=+t,i;if(!isNaN(a)){r||(r=WZe[a].p||(n||[]).length||0),i=1+(a>=128?1:0)+1,r>=128&&++i,r>=16384&&++i,r>=2097152&&++i;var o=e.next(i);a<=127?o.write_shift(1,a):(o.write_shift(1,(a&127)+128),o.write_shift(1,a>>7));for(var s=0;s!=4;++s)if(r>=128)o.write_shift(1,(r&127)+128),r>>=7;else{o.write_shift(1,r);break}r>0&&g$(n)&&e.push(n)}}function S1(e,t,n){var r=hs(e);if(t.s?(r.cRel&&(r.c+=t.s.c),r.rRel&&(r.r+=t.s.r)):(r.cRel&&(r.c+=t.c),r.rRel&&(r.r+=t.r)),!n||n.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function cG(e,t,n){var r=hs(e);return r.s=S1(r.s,t.s,n),r.e=S1(r.e,t.s,n),r}function C1(e,t){if(e.cRel&&e.c<0)for(e=hs(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=hs(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var n=Pr(e);return!e.cRel&&e.cRel!=null&&(n=JHe(n)),!e.rRel&&e.rRel!=null&&(n=ZHe(n)),n}function sD(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+Co(e.s.c)+":"+(e.e.cRel?"":"$")+Co(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+Ji(e.s.r)+":"+(e.e.rRel?"":"$")+Ji(e.e.r):C1(e.s,t.biff)+":"+C1(e.e,t.biff)}function v$(e){return parseInt(QHe(e),10)-1}function Ji(e){return""+(e+1)}function ZHe(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function QHe(e){return e.replace(/\$(\d+)$/,"$1")}function y$(e){for(var t=eqe(e),n=0,r=0;r!==t.length;++r)n=26*n+t.charCodeAt(r)-64;return n-1}function Co(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function JHe(e){return e.replace(/^([A-Z])/,"$$$1")}function eqe(e){return e.replace(/^\$([A-Z])/,"$1")}function tqe(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function ki(e){for(var t=0,n=0,r=0;r<e.length;++r){var a=e.charCodeAt(r);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(n=26*n+(a-64))}return{c:n-1,r:t-1}}function Pr(e){for(var t=e.c+1,n="";t;t=(t-1)/26|0)n=String.fromCharCode((t-1)%26+65)+n;return n+(e.r+1)}function Us(e){var t=e.indexOf(":");return t==-1?{s:ki(e),e:ki(e)}:{s:ki(e.slice(0,t)),e:ki(e.slice(t+1))}}function ti(e,t){return typeof t>"u"||typeof t=="number"?ti(e.s,e.e):(typeof e!="string"&&(e=Pr(e)),typeof t!="string"&&(t=Pr(t)),e==t?e:e+":"+t)}function sa(e){var t={s:{c:0,r:0},e:{c:0,r:0}},n=0,r=0,a=0,i=e.length;for(n=0;r<i&&!((a=e.charCodeAt(r)-64)<1||a>26);++r)n=26*n+a;for(t.s.c=--n,n=0;r<i&&!((a=e.charCodeAt(r)-48)<0||a>9);++r)n=10*n+a;if(t.s.r=--n,r===i||a!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++r,n=0;r!=i&&!((a=e.charCodeAt(r)-64)<1||a>26);++r)n=26*n+a;for(t.e.c=--n,n=0;r!=i&&!((a=e.charCodeAt(r)-48)<0||a>9);++r)n=10*n+a;return t.e.r=--n,t}function uG(e,t){var n=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=xh(e.z,n?fs(t):t)}catch{}try{return e.w=xh((e.XF||{}).numFmtId||(n?14:0),n?fs(t):t)}catch{return""+t}}function Id(e,t,n){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&n&&n.dateNF&&(e.z=n.dateNF),e.t=="e"?p2[e.v]||e.v:t==null?uG(e,e.v):uG(e,t))}function Bm(e,t){var n=t&&t.sheet?t.sheet:"Sheet1",r={};return r[n]=e,{SheetNames:[n],Sheets:r}}function hue(e,t,n){var r=n||{},a=e?Array.isArray(e):r.dense,i=e||(a?[]:{}),o=0,s=0;if(i&&r.origin!=null){if(typeof r.origin=="number")o=r.origin;else{var l=typeof r.origin=="string"?ki(r.origin):r.origin;o=l.r,s=l.c}i["!ref"]||(i["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var d=sa(i["!ref"]);u.s.c=d.s.c,u.s.r=d.s.r,u.e.c=Math.max(u.e.c,d.e.c),u.e.r=Math.max(u.e.r,d.e.r),o==-1&&(u.e.r=o=d.e.r+1)}for(var f=0;f!=t.length;++f)if(t[f]){if(!Array.isArray(t[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var h=0;h!=t[f].length;++h)if(!(typeof t[f][h]>"u")){var p={v:t[f][h]},m=o+f,g=s+h;if(u.s.r>m&&(u.s.r=m),u.s.c>g&&(u.s.c=g),u.e.r<m&&(u.e.r=m),u.e.c<g&&(u.e.c=g),t[f][h]&&typeof t[f][h]=="object"&&!Array.isArray(t[f][h])&&!(t[f][h]instanceof Date))p=t[f][h];else if(Array.isArray(p.v)&&(p.f=t[f][h][1],p.v=p.v[0]),p.v===null)if(p.f)p.t="n";else if(r.nullError)p.t="e",p.v=0;else if(r.sheetStubs)p.t="z";else continue;else typeof p.v=="number"?p.t="n":typeof p.v=="boolean"?p.t="b":p.v instanceof Date?(p.z=r.dateNF||$a[14],r.cellDates?(p.t="d",p.w=xh(p.z,fs(p.v))):(p.t="n",p.v=fs(p.v),p.w=xh(p.z,p.v))):p.t="s";if(a)i[m]||(i[m]=[]),i[m][g]&&i[m][g].z&&(p.z=i[m][g].z),i[m][g]=p;else{var y=Pr({c:g,r:m});i[y]&&i[y].z&&(p.z=i[y].z),i[y]=p}}}return u.s.c<1e7&&(i["!ref"]=ti(u)),i}function ay(e,t){return hue(null,e,t)}function nqe(e){return e.read_shift(4,"i")}function vc(e,t){return t||(t=ot(4)),t.write_shift(4,e),t}function Eo(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function ji(e,t){var n=!1;return t==null&&(n=!0,t=ot(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),n?t.slice(0,t.l):t}function rqe(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function aqe(e,t){return t||(t=ot(4)),t.write_shift(2,0),t.write_shift(2,0),t}function x$(e,t){var n=e.l,r=e.read_shift(1),a=Eo(e),i=[],o={t:a,h:a};if(r&1){for(var s=e.read_shift(4),l=0;l!=s;++l)i.push(rqe(e));o.r=i}else o.r=[{ich:0,ifnt:0}];return e.l=n+t,o}function iqe(e,t){var n=!1;return t==null&&(n=!0,t=ot(15+4*e.t.length)),t.write_shift(1,0),ji(e.t,t),n?t.slice(0,t.l):t}var oqe=x$;function sqe(e,t){var n=!1;return t==null&&(n=!0,t=ot(23+4*e.t.length)),t.write_shift(1,1),ji(e.t,t),t.write_shift(4,1),aqe({},t),n?t.slice(0,t.l):t}function Fl(e){var t=e.read_shift(4),n=e.read_shift(2);return n+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:n}}function zm(e,t){return t==null&&(t=ot(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function Um(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function Wm(e,t){return t==null&&(t=ot(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var lqe=Eo,pue=ji;function b$(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function iN(e,t){var n=!1;return t==null&&(n=!0,t=ot(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),n?t.slice(0,t.l):t}var cqe=Eo,oI=b$,w$=iN;function mue(e){var t=e.slice(e.l,e.l+4),n=t[0]&1,r=t[0]&2;e.l+=4;var a=r===0?aN([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):xp(t,0)>>2;return n?a/100:a}function gue(e,t){t==null&&(t=ot(4));var n=0,r=0,a=e*100;if(e==(e|0)&&e>=-536870912&&e<1<<29?r=1:a==(a|0)&&a>=-536870912&&a<1<<29&&(r=1,n=1),r)t.write_shift(-4,((n?a:e)<<2)+(n+2));else throw new Error("unsupported RkNumber "+e)}function vue(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function uqe(e,t){return t||(t=ot(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var Vm=vue,iy=uqe;function oy(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function _m(e,t){return(t||ot(8)).write_shift(8,e,"f")}function dqe(e){var t={},n=e.read_shift(1),r=n>>>1,a=e.read_shift(1),i=e.read_shift(2,"i"),o=e.read_shift(1),s=e.read_shift(1),l=e.read_shift(1);switch(e.l++,r){case 0:t.auto=1;break;case 1:t.index=a;var u=bqe[a];u&&(t.rgb=wG(u));break;case 2:t.rgb=wG([o,s,l]);break;case 3:t.theme=a;break}return i!=0&&(t.tint=i>0?i/32767:i/32768),t}function oN(e,t){if(t||(t=ot(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var n=e.tint||0;if(n>0?n*=32767:n<0&&(n*=32768),t.write_shift(2,n),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var r=e.rgb||"FFFFFF";typeof r=="number"&&(r=("000000"+r.toString(16)).slice(-6)),t.write_shift(1,parseInt(r.slice(0,2),16)),t.write_shift(1,parseInt(r.slice(2,4),16)),t.write_shift(1,parseInt(r.slice(4,6),16)),t.write_shift(1,255)}return t}function fqe(e){var t=e.read_shift(1);e.l++;var n={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return n}function hqe(e,t){t||(t=ot(2));var n=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,n),t.write_shift(1,0),t}var yue=2,xs=3,rS=11,sN=19,aS=64,pqe=65,mqe=71,gqe=4108,vqe=4126,Vi=80,dG={1:{n:"CodePage",t:yue},2:{n:"Category",t:Vi},3:{n:"PresentationFormat",t:Vi},4:{n:"ByteCount",t:xs},5:{n:"LineCount",t:xs},6:{n:"ParagraphCount",t:xs},7:{n:"SlideCount",t:xs},8:{n:"NoteCount",t:xs},9:{n:"HiddenCount",t:xs},10:{n:"MultimediaClipCount",t:xs},11:{n:"ScaleCrop",t:rS},12:{n:"HeadingPairs",t:gqe},13:{n:"TitlesOfParts",t:vqe},14:{n:"Manager",t:Vi},15:{n:"Company",t:Vi},16:{n:"LinksUpToDate",t:rS},17:{n:"CharacterCount",t:xs},19:{n:"SharedDoc",t:rS},22:{n:"HyperlinksChanged",t:rS},23:{n:"AppVersion",t:xs,p:"version"},24:{n:"DigSig",t:pqe},26:{n:"ContentType",t:Vi},27:{n:"ContentStatus",t:Vi},28:{n:"Language",t:Vi},29:{n:"Version",t:Vi},255:{},2147483648:{n:"Locale",t:sN},2147483651:{n:"Behavior",t:sN},1919054434:{}},fG={1:{n:"CodePage",t:yue},2:{n:"Title",t:Vi},3:{n:"Subject",t:Vi},4:{n:"Author",t:Vi},5:{n:"Keywords",t:Vi},6:{n:"Comments",t:Vi},7:{n:"Template",t:Vi},8:{n:"LastAuthor",t:Vi},9:{n:"RevNumber",t:Vi},10:{n:"EditTime",t:aS},11:{n:"LastPrinted",t:aS},12:{n:"CreatedDate",t:aS},13:{n:"ModifiedDate",t:aS},14:{n:"PageCount",t:xs},15:{n:"WordCount",t:xs},16:{n:"CharCount",t:xs},17:{n:"Thumbnail",t:mqe},18:{n:"Application",t:Vi},19:{n:"DocSecurity",t:xs},255:{},2147483648:{n:"Locale",t:sN},2147483651:{n:"Behavior",t:sN},1919054434:{}};function yqe(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var xqe=yqe([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),bqe=hs(xqe),p2={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},wqe={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},iS={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function xue(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function bue(e,t){var n=AHe(wqe),r=[],a;r[r.length]=ri,r[r.length]=It("Types",null,{xmlns:Si.CT,"xmlns:xsd":Si.xsd,"xmlns:xsi":Si.xsi}),r=r.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(l){return It("Default",null,{Extension:l[0],ContentType:l[1]})}));var i=function(l){e[l]&&e[l].length>0&&(a=e[l][0],r[r.length]=It("Override",null,{PartName:(a[0]=="/"?"":"/")+a,ContentType:iS[l][t.bookType]||iS[l].xlsx}))},o=function(l){(e[l]||[]).forEach(function(u){r[r.length]=It("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:iS[l][t.bookType]||iS[l].xlsx})})},s=function(l){(e[l]||[]).forEach(function(u){r[r.length]=It("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:n[l][0]})})};return i("workbooks"),o("sheets"),o("charts"),s("themes"),["strs","styles"].forEach(i),["coreprops","extprops","custprops"].forEach(s),s("vba"),s("comments"),s("threadedcomments"),s("drawings"),o("metadata"),s("people"),r.length>2&&(r[r.length]="</Types>",r[1]=r[1].replace("/>",">")),r.join("")}var fr={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function wue(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function Ev(e){var t=[ri,It("Relationships",null,{xmlns:Si.RELS})];return to(e["!id"]).forEach(function(n){t[t.length]=It("Relationship",null,e["!id"][n])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function Er(e,t,n,r,a,i){if(a||(a={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,a.Id="rId"+t,a.Type=r,a.Target=n,[fr.HLINK,fr.XPATH,fr.XMISS].indexOf(a.Type)>-1&&(a.TargetMode="External"),e["!id"][a.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][a.Id]=a,e[("/"+a.Target).replace("//","/")]=a,t}function _qe(e){var t=[ri];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var n=0;n<e.length;++n)t.push('  <manifest:file-entry manifest:full-path="'+e[n][0]+'" manifest:media-type="'+e[n][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function hG(e,t,n){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(n||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function Sqe(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function Cqe(e){var t=[ri];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var n=0;n!=e.length;++n)t.push(hG(e[n][0],e[n][1])),t.push(Sqe("",e[n][0]));return t.push(hG("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function _ue(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+QE.version+"</meta:generator></office:meta></office:document-meta>"}var Qp=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function lD(e,t,n,r,a){a[e]!=null||t==null||t===""||(a[e]=t,t=jr(t),r[r.length]=n?It(e,t,n):Xi(e,t))}function Sue(e,t){var n=t||{},r=[ri,It("cp:coreProperties",null,{"xmlns:cp":Si.CORE_PROPS,"xmlns:dc":Si.dc,"xmlns:dcterms":Si.dcterms,"xmlns:dcmitype":Si.dcmitype,"xmlns:xsi":Si.xsi})],a={};if(!e&&!n.Props)return r.join("");e&&(e.CreatedDate!=null&&lD("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:iI(e.CreatedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},r,a),e.ModifiedDate!=null&&lD("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:iI(e.ModifiedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},r,a));for(var i=0;i!=Qp.length;++i){var o=Qp[i],s=n.Props&&n.Props[o[1]]!=null?n.Props[o[1]]:e?e[o[1]]:null;s===!0?s="1":s===!1?s="0":typeof s=="number"&&(s=String(s)),s!=null&&lD(o[0],s,null,r,a)}return r.length>2&&(r[r.length]="</cp:coreProperties>",r[1]=r[1].replace("/>",">")),r.join("")}var Nv=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],Cue=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function Eue(e){var t=[],n=It;return e||(e={}),e.Application="SheetJS",t[t.length]=ri,t[t.length]=It("Properties",null,{xmlns:Si.EXT_PROPS,"xmlns:vt":Si.vt}),Nv.forEach(function(r){if(e[r[1]]!==void 0){var a;switch(r[2]){case"string":a=jr(String(e[r[1]]));break;case"bool":a=e[r[1]]?"true":"false";break}a!==void 0&&(t[t.length]=n(r[0],a))}}),t[t.length]=n("HeadingPairs",n("vt:vector",n("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+n("vt:variant",n("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=n("TitlesOfParts",n("vt:vector",e.SheetNames.map(function(r){return"<vt:lpstr>"+jr(r)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}function Nue(e){var t=[ri,It("Properties",null,{xmlns:Si.CUST_PROPS,"xmlns:vt":Si.vt})];if(!e)return t.join("");var n=1;return to(e).forEach(function(a){++n,t[t.length]=It("property",UHe(e[a]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:n,name:jr(a)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var pG={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function Eqe(e,t){var n=[];return to(pG).map(function(r){for(var a=0;a<Qp.length;++a)if(Qp[a][1]==r)return Qp[a];for(a=0;a<Nv.length;++a)if(Nv[a][1]==r)return Nv[a];throw r}).forEach(function(r){if(e[r[1]]!=null){var a=t&&t.Props&&t.Props[r[1]]!=null?t.Props[r[1]]:e[r[1]];switch(r[2]){case"date":a=new Date(a).toISOString().replace(/\.\d*Z/,"Z");break}typeof a=="number"?a=String(a):a===!0||a===!1?a=a?"1":"0":a instanceof Date&&(a=new Date(a).toISOString().replace(/\.\d*Z/,"")),n.push(Xi(pG[r[1]]||r[1],a))}}),It("DocumentProperties",n.join(""),{xmlns:Es.o})}function Nqe(e,t){var n=["Worksheets","SheetNames"],r="CustomDocumentProperties",a=[];return e&&to(e).forEach(function(i){if(Object.prototype.hasOwnProperty.call(e,i)){for(var o=0;o<Qp.length;++o)if(i==Qp[o][1])return;for(o=0;o<Nv.length;++o)if(i==Nv[o][1])return;for(o=0;o<n.length;++o)if(i==n[o])return;var s=e[i],l="string";typeof s=="number"?(l="float",s=String(s)):s===!0||s===!1?(l="boolean",s=s?"1":"0"):s=String(s),a.push(It(tG(i),s,{"dt:dt":l}))}}),t&&to(t).forEach(function(i){if(Object.prototype.hasOwnProperty.call(t,i)&&!(e&&Object.prototype.hasOwnProperty.call(e,i))){var o=t[i],s="string";typeof o=="number"?(s="float",o=String(o)):o===!0||o===!1?(s="boolean",o=o?"1":"0"):o instanceof Date?(s="dateTime.tz",o=o.toISOString()):o=String(o),a.push(It(tG(i),o,{"dt:dt":s}))}}),"<"+r+' xmlns="'+Es.o+'">'+a.join("")+"</"+r+">"}function kqe(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,n=t.getTime()/1e3+11644473600,r=n%Math.pow(2,32),a=(n-r)/Math.pow(2,32);r*=1e7,a*=1e7;var i=r/Math.pow(2,32)|0;i>0&&(r=r%Math.pow(2,32),a+=i);var o=ot(8);return o.write_shift(4,r),o.write_shift(4,a),o}function mG(e,t){var n=ot(4),r=ot(4);switch(n.write_shift(4,e==80?31:e),e){case 3:r.write_shift(-4,t);break;case 5:r=ot(8),r.write_shift(8,t,"f");break;case 11:r.write_shift(4,t?1:0);break;case 64:r=kqe(t);break;case 31:case 80:for(r=ot(4+2*(t.length+1)+(t.length%2?0:2)),r.write_shift(4,t.length+1),r.write_shift(0,t,"dbcs");r.l!=r.length;)r.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return Ki([n,r])}var kue=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function jqe(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function gG(e,t,n){var r=ot(8),a=[],i=[],o=8,s=0,l=ot(8),u=ot(8);if(l.write_shift(4,2),l.write_shift(4,1200),u.write_shift(4,1),i.push(l),a.push(u),o+=8+l.length,!t){u=ot(8),u.write_shift(4,0),a.unshift(u);var d=[ot(4)];for(d[0].write_shift(4,e.length),s=0;s<e.length;++s){var f=e[s][0];for(l=ot(8+2*(f.length+1)+(f.length%2?0:2)),l.write_shift(4,s+2),l.write_shift(4,f.length+1),l.write_shift(0,f,"dbcs");l.l!=l.length;)l.write_shift(1,0);d.push(l)}l=Ki(d),i.unshift(l),o+=8+l.length}for(s=0;s<e.length;++s)if(!(t&&!t[e[s][0]])&&!(kue.indexOf(e[s][0])>-1||Cue.indexOf(e[s][0])>-1)&&e[s][1]!=null){var h=e[s][1],p=0;if(t){p=+t[e[s][0]];var m=n[p];if(m.p=="version"&&typeof h=="string"){var g=h.split(".");h=(+g[0]<<16)+(+g[1]||0)}l=mG(m.t,h)}else{var y=jqe(h);y==-1&&(y=31,h=String(h)),l=mG(y,h)}i.push(l),u=ot(8),u.write_shift(4,t?p:2+s),a.push(u),o+=8+l.length}var x=8*(i.length+1);for(s=0;s<i.length;++s)a[s].write_shift(4,x),x+=i[s].length;return r.write_shift(4,o),r.write_shift(4,i.length),Ki([r].concat(a).concat(i))}function vG(e,t,n,r,a,i){var o=ot(a?68:48),s=[o];o.write_shift(2,65534),o.write_shift(2,0),o.write_shift(4,842412599),o.write_shift(16,Mr.utils.consts.HEADER_CLSID,"hex"),o.write_shift(4,a?2:1),o.write_shift(16,t,"hex"),o.write_shift(4,a?68:48);var l=gG(e,n,r);if(s.push(l),a){var u=gG(a,null,null);o.write_shift(16,i,"hex"),o.write_shift(4,68+l.length),s.push(u)}return Ki(s)}function Tqe(e,t){t||(t=ot(e));for(var n=0;n<e;++n)t.write_shift(1,0);return t}function Pqe(e,t){return e.read_shift(t)===1}function Ro(e,t){return t||(t=ot(2)),t.write_shift(2,+!!e),t}function jue(e){return e.read_shift(2,"u")}function cl(e,t){return t||(t=ot(2)),t.write_shift(2,e),t}function Tue(e,t,n){return n||(n=ot(2)),n.write_shift(1,t=="e"?+e:+!!e),n.write_shift(1,t=="e"?1:0),n}function Pue(e,t,n){var r=e.read_shift(n&&n.biff>=12?2:1),a="sbcs-cont";if(n&&n.biff>=8,!n||n.biff==8){var i=e.read_shift(1);i&&(a="dbcs-cont")}else n.biff==12&&(a="wstr");n.biff>=2&&n.biff<=5&&(a="cpstr");var o=r?e.read_shift(r,a):"";return o}function Aqe(e){var t=e.t||"",n=ot(3);n.write_shift(2,t.length),n.write_shift(1,1);var r=ot(2*t.length);r.write_shift(2*t.length,t,"utf16le");var a=[n,r];return Ki(a)}function Dqe(e,t,n){var r;if(n){if(n.biff>=2&&n.biff<=5)return e.read_shift(t,"cpstr");if(n.biff>=12)return e.read_shift(t,"dbcs-cont")}var a=e.read_shift(1);return a===0?r=e.read_shift(t,"sbcs-cont"):r=e.read_shift(t,"dbcs-cont"),r}function Oqe(e,t,n){var r=e.read_shift(n&&n.biff==2?1:2);return r===0?(e.l++,""):Dqe(e,r,n)}function Mqe(e,t,n){if(n.biff>5)return Oqe(e,t,n);var r=e.read_shift(1);return r===0?(e.l++,""):e.read_shift(r,n.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function Aue(e,t,n){return n||(n=ot(3+2*e.length)),n.write_shift(2,e.length),n.write_shift(1,1),n.write_shift(31,e,"utf16le"),n}function yG(e,t){t||(t=ot(6+e.length*2)),t.write_shift(4,1+e.length);for(var n=0;n<e.length;++n)t.write_shift(2,e.charCodeAt(n));return t.write_shift(2,0),t}function Iqe(e){var t=ot(512),n=0,r=e.Target;r.slice(0,7)=="file://"&&(r=r.slice(7));var a=r.indexOf("#"),i=a>-1?31:23;switch(r.charAt(0)){case"#":i=28;break;case".":i&=-3;break}t.write_shift(4,2),t.write_shift(4,i);var o=[8,6815827,6619237,4849780,83];for(n=0;n<o.length;++n)t.write_shift(4,o[n]);if(i==28)r=r.slice(1),yG(r,t);else if(i&2){for(o="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),n=0;n<o.length;++n)t.write_shift(1,parseInt(o[n],16));var s=a>-1?r.slice(0,a):r;for(t.write_shift(4,2*(s.length+1)),n=0;n<s.length;++n)t.write_shift(2,s.charCodeAt(n));t.write_shift(2,0),i&8&&yG(a>-1?r.slice(a+1):"",t)}else{for(o="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),n=0;n<o.length;++n)t.write_shift(1,parseInt(o[n],16));for(var l=0;r.slice(l*3,l*3+3)=="../"||r.slice(l*3,l*3+3)=="..\\";)++l;for(t.write_shift(2,l),t.write_shift(4,r.length-3*l+1),n=0;n<r.length-3*l;++n)t.write_shift(1,r.charCodeAt(n+3*l)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),n=0;n<6;++n)t.write_shift(4,0)}return t.slice(0,t.l)}function Sm(e,t,n,r){return r||(r=ot(6)),r.write_shift(2,e),r.write_shift(2,t),r.write_shift(2,n||0),r}function Rqe(e,t,n){var r=n.biff>8?4:2,a=e.read_shift(r),i=e.read_shift(r,"i"),o=e.read_shift(r,"i");return[a,i,o]}function Fqe(e){var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(2),a=e.read_shift(2);return{s:{c:r,r:t},e:{c:a,r:n}}}function Due(e,t){return t||(t=ot(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function _$(e,t,n){var r=1536,a=16;switch(n.bookType){case"biff8":break;case"biff5":r=1280,a=8;break;case"biff4":r=4,a=6;break;case"biff3":r=3,a=6;break;case"biff2":r=2,a=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var i=ot(a);return i.write_shift(2,r),i.write_shift(2,t),a>4&&i.write_shift(2,29282),a>6&&i.write_shift(2,1997),a>8&&(i.write_shift(2,49161),i.write_shift(2,1),i.write_shift(2,1798),i.write_shift(2,0)),i}function Lqe(e,t){var n=!t||t.biff==8,r=ot(n?112:54);for(r.write_shift(t.biff==8?2:1,7),n&&r.write_shift(1,0),r.write_shift(4,859007059),r.write_shift(4,5458548|(n?0:536870912));r.l<r.length;)r.write_shift(1,n?0:32);return r}function $qe(e,t){var n=!t||t.biff>=8?2:1,r=ot(8+n*e.name.length);r.write_shift(4,e.pos),r.write_shift(1,e.hs||0),r.write_shift(1,e.dt),r.write_shift(1,e.name.length),t.biff>=8&&r.write_shift(1,1),r.write_shift(n*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var a=r.slice(0,r.l);return a.l=r.l,a}function Bqe(e,t){var n=ot(8);n.write_shift(4,e.Count),n.write_shift(4,e.Unique);for(var r=[],a=0;a<e.length;++a)r[a]=Aqe(e[a]);var i=Ki([n].concat(r));return i.parts=[n.length].concat(r.map(function(o){return o.length})),i}function zqe(){var e=ot(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function Uqe(e){var t=ot(18),n=1718;return e&&e.RTL&&(n|=64),t.write_shift(2,n),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function Wqe(e,t){var n=e.name||"Arial",r=t&&t.biff==5,a=r?15+n.length:16+2*n.length,i=ot(a);return i.write_shift(2,e.sz*20),i.write_shift(4,0),i.write_shift(2,400),i.write_shift(4,0),i.write_shift(2,0),i.write_shift(1,n.length),r||i.write_shift(1,1),i.write_shift((r?1:2)*n.length,n,r?"sbcs":"utf16le"),i}function Vqe(e,t,n,r){var a=ot(10);return Sm(e,t,r,a),a.write_shift(4,n),a}function Hqe(e,t,n,r,a){var i=!a||a.biff==8,o=ot(8+ +i+(1+i)*n.length);return Sm(e,t,r,o),o.write_shift(2,n.length),i&&o.write_shift(1,1),o.write_shift((1+i)*n.length,n,i?"utf16le":"sbcs"),o}function qqe(e,t,n,r){var a=n&&n.biff==5;r||(r=ot(a?3+t.length:5+2*t.length)),r.write_shift(2,e),r.write_shift(a?1:2,t.length),a||r.write_shift(1,1),r.write_shift((a?1:2)*t.length,t,a?"sbcs":"utf16le");var i=r.length>r.l?r.slice(0,r.l):r;return i.l==null&&(i.l=i.length),i}function Gqe(e,t){var n=t.biff==8||!t.biff?4:2,r=ot(2*n+6);return r.write_shift(n,e.s.r),r.write_shift(n,e.e.r+1),r.write_shift(2,e.s.c),r.write_shift(2,e.e.c+1),r.write_shift(2,0),r}function xG(e,t,n,r){var a=n&&n.biff==5;r||(r=ot(a?16:20)),r.write_shift(2,0),e.style?(r.write_shift(2,e.numFmtId||0),r.write_shift(2,65524)):(r.write_shift(2,e.numFmtId||0),r.write_shift(2,t<<4));var i=0;return e.numFmtId>0&&a&&(i|=1024),r.write_shift(4,i),r.write_shift(4,0),a||r.write_shift(4,0),r.write_shift(2,0),r}function Yqe(e){var t=ot(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function Kqe(e,t,n,r,a,i){var o=ot(8);return Sm(e,t,r,o),Tue(n,i,o),o}function Xqe(e,t,n,r){var a=ot(14);return Sm(e,t,r,a),_m(n,a),a}function Zqe(e,t,n){if(n.biff<8)return Qqe(e,t,n);for(var r=[],a=e.l+t,i=e.read_shift(n.biff>8?4:2);i--!==0;)r.push(Rqe(e,n.biff>8?12:6,n));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return r}function Qqe(e,t,n){e[e.l+1]==3&&e[e.l]++;var r=Pue(e,t,n);return r.charCodeAt(0)==3?r.slice(1):r}function Jqe(e){var t=ot(2+e.length*8);t.write_shift(2,e.length);for(var n=0;n<e.length;++n)Due(e[n],t);return t}function eGe(e){var t=ot(24),n=ki(e[0]);t.write_shift(2,n.r),t.write_shift(2,n.r),t.write_shift(2,n.c),t.write_shift(2,n.c);for(var r="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),a=0;a<16;++a)t.write_shift(1,parseInt(r[a],16));return Ki([t,Iqe(e[1])])}function tGe(e){var t=e[1].Tooltip,n=ot(10+2*(t.length+1));n.write_shift(2,2048);var r=ki(e[0]);n.write_shift(2,r.r),n.write_shift(2,r.r),n.write_shift(2,r.c),n.write_shift(2,r.c);for(var a=0;a<t.length;++a)n.write_shift(2,t.charCodeAt(a));return n.write_shift(2,0),n}function nGe(e){return e||(e=ot(4)),e.write_shift(2,1),e.write_shift(2,1),e}function rGe(e,t,n){if(!n.cellStyles)return Tu(e,t);var r=n&&n.biff>=12?4:2,a=e.read_shift(r),i=e.read_shift(r),o=e.read_shift(r),s=e.read_shift(r),l=e.read_shift(2);r==2&&(e.l+=2);var u={s:a,e:i,w:o,ixfe:s,flags:l};return(n.biff>=5||!n.biff)&&(u.level=l>>8&7),u}function aGe(e,t){var n=ot(12);n.write_shift(2,t),n.write_shift(2,t),n.write_shift(2,e.width*256),n.write_shift(2,0);var r=0;return e.hidden&&(r|=1),n.write_shift(1,r),r=e.level||0,n.write_shift(1,r),n.write_shift(2,0),n}function iGe(e){for(var t=ot(2*e),n=0;n<e;++n)t.write_shift(2,n+1);return t}function oGe(e,t,n){var r=ot(15);return g2(r,e,t),r.write_shift(8,n,"f"),r}function sGe(e,t,n){var r=ot(9);return g2(r,e,t),r.write_shift(2,n),r}var lGe=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=d$({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function n(s,l){var u=[],d=wm(1);switch(l.type){case"base64":d=sc(Md(s));break;case"binary":d=sc(s);break;case"buffer":case"array":d=s;break}Ss(d,0);var f=d.read_shift(1),h=!!(f&136),p=!1,m=!1;switch(f){case 2:break;case 3:break;case 48:p=!0,h=!0;break;case 49:p=!0,h=!0;break;case 131:break;case 139:break;case 140:m=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var g=0,y=521;f==2&&(g=d.read_shift(2)),d.l+=3,f!=2&&(g=d.read_shift(4)),g>1048576&&(g=1e6),f!=2&&(y=d.read_shift(2));var x=d.read_shift(2),b=l.codepage||1252;f!=2&&(d.l+=16,d.read_shift(1),d[d.l]!==0&&(b=e[d[d.l]]),d.l+=1,d.l+=2),m&&(d.l+=36);for(var w=[],_={},S=Math.min(d.length,f==2?521:y-10-(p?264:0)),k=m?32:11;d.l<S&&d[d.l]!=13;)switch(_={},_.name=JE.utils.decode(b,d.slice(d.l,d.l+k)).replace(/[\u0000\r\n].*$/g,""),d.l+=k,_.type=String.fromCharCode(d.read_shift(1)),f!=2&&!m&&(_.offset=d.read_shift(4)),_.len=d.read_shift(1),f==2&&(_.offset=d.read_shift(2)),_.dec=d.read_shift(1),_.name.length&&w.push(_),f!=2&&(d.l+=m?13:14),_.type){case"B":(!p||_.len!=8)&&l.WTF&&console.log("Skipping "+_.name+":"+_.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+_.name+":"+_.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+_.type)}if(d[d.l]!==13&&(d.l=y-1),d.read_shift(1)!==13)throw new Error("DBF Terminator not found "+d.l+" "+d[d.l]);d.l=y;var N=0,P=0;for(u[0]=[],P=0;P!=w.length;++P)u[0][P]=w[P].name;for(;g-- >0;){if(d[d.l]===42){d.l+=x;continue}for(++d.l,u[++N]=[],P=0,P=0;P!=w.length;++P){var T=d.slice(d.l,d.l+w[P].len);d.l+=w[P].len,Ss(T,0);var j=JE.utils.decode(b,T);switch(w[P].type){case"C":j.trim().length&&(u[N][P]=j.replace(/\s+$/,""));break;case"D":j.length===8?u[N][P]=new Date(+j.slice(0,4),+j.slice(4,6)-1,+j.slice(6,8)):u[N][P]=j;break;case"F":u[N][P]=parseFloat(j.trim());break;case"+":case"I":u[N][P]=m?T.read_shift(-4,"i")^2147483648:T.read_shift(4,"i");break;case"L":switch(j.trim().toUpperCase()){case"Y":case"T":u[N][P]=!0;break;case"N":case"F":u[N][P]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+j+"|")}break;case"M":if(!h)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));u[N][P]="##MEMO##"+(m?parseInt(j.trim(),10):T.read_shift(4));break;case"N":j=j.replace(/\u0000/g,"").trim(),j&&j!="."&&(u[N][P]=+j||0);break;case"@":u[N][P]=new Date(T.read_shift(-8,"f")-621356832e5);break;case"T":u[N][P]=new Date((T.read_shift(4)-2440588)*864e5+T.read_shift(4));break;case"Y":u[N][P]=T.read_shift(4,"i")/1e4+T.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[N][P]=-T.read_shift(-8,"f");break;case"B":if(p&&w[P].len==8){u[N][P]=T.read_shift(8,"f");break}case"G":case"P":T.l+=w[P].len;break;case"0":if(w[P].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+w[P].type)}}}if(f!=2&&d.l<d.length&&d[d.l++]!=26)throw new Error("DBF EOF Marker missing "+(d.l-1)+" of "+d.length+" "+d[d.l-1].toString(16));return l&&l.sheetRows&&(u=u.slice(0,l.sheetRows)),l.DBF=w,u}function r(s,l){var u=l||{};u.dateNF||(u.dateNF="yyyymmdd");var d=ay(n(s,u),u);return d["!cols"]=u.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete u.DBF,d}function a(s,l){try{return Bm(r(s,l),l)}catch(u){if(l&&l.WTF)throw u}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function o(s,l){var u=l||{};if(+u.codepage>=0&&$b(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var d=ls(),f=fN(s,{header:1,raw:!0,cellDates:!0}),h=f[0],p=f.slice(1),m=s["!cols"]||[],g=0,y=0,x=0,b=1;for(g=0;g<h.length;++g){if(((m[g]||{}).DBF||{}).name){h[g]=m[g].DBF.name,++x;continue}if(h[g]!=null){if(++x,typeof h[g]=="number"&&(h[g]=h[g].toString(10)),typeof h[g]!="string")throw new Error("DBF Invalid column name "+h[g]+" |"+typeof h[g]+"|");if(h.indexOf(h[g])!==g){for(y=0;y<1024;++y)if(h.indexOf(h[g]+"_"+y)==-1){h[g]+="_"+y;break}}}}var w=sa(s["!ref"]),_=[],S=[],k=[];for(g=0;g<=w.e.c-w.s.c;++g){var N="",P="",T=0,j=[];for(y=0;y<p.length;++y)p[y][g]!=null&&j.push(p[y][g]);if(j.length==0||h[g]==null){_[g]="?";continue}for(y=0;y<j.length;++y){switch(typeof j[y]){case"number":P="B";break;case"string":P="C";break;case"boolean":P="L";break;case"object":P=j[y]instanceof Date?"D":"C";break;default:P="C"}T=Math.max(T,String(j[y]).length),N=N&&N!=P?"C":P}T>250&&(T=250),P=((m[g]||{}).DBF||{}).type,P=="C"&&m[g].DBF.len>T&&(T=m[g].DBF.len),N=="B"&&P=="N"&&(N="N",k[g]=m[g].DBF.dec,T=m[g].DBF.len),S[g]=N=="C"||P=="N"?T:i[N]||0,b+=S[g],_[g]=N}var D=d.next(32);for(D.write_shift(4,318902576),D.write_shift(4,p.length),D.write_shift(2,296+32*x),D.write_shift(2,b),g=0;g<4;++g)D.write_shift(4,0);for(D.write_shift(4,0|(+t[Mce]||3)<<8),g=0,y=0;g<h.length;++g)if(h[g]!=null){var M=d.next(32),R=(h[g].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);M.write_shift(1,R,"sbcs"),M.write_shift(1,_[g]=="?"?"C":_[g],"sbcs"),M.write_shift(4,y),M.write_shift(1,S[g]||i[_[g]]||0),M.write_shift(1,k[g]||0),M.write_shift(1,2),M.write_shift(4,0),M.write_shift(1,0),M.write_shift(4,0),M.write_shift(4,0),y+=S[g]||i[_[g]]||0}var W=d.next(264);for(W.write_shift(4,13),g=0;g<65;++g)W.write_shift(4,0);for(g=0;g<p.length;++g){var B=d.next(b);for(B.write_shift(1,0),y=0;y<h.length;++y)if(h[y]!=null)switch(_[y]){case"L":B.write_shift(1,p[g][y]==null?63:p[g][y]?84:70);break;case"B":B.write_shift(8,p[g][y]||0,"f");break;case"N":var V="0";for(typeof p[g][y]=="number"&&(V=p[g][y].toFixed(k[y]||0)),x=0;x<S[y]-V.length;++x)B.write_shift(1,32);B.write_shift(1,V,"sbcs");break;case"D":p[g][y]?(B.write_shift(4,("0000"+p[g][y].getFullYear()).slice(-4),"sbcs"),B.write_shift(2,("00"+(p[g][y].getMonth()+1)).slice(-2),"sbcs"),B.write_shift(2,("00"+p[g][y].getDate()).slice(-2),"sbcs")):B.write_shift(8,"00000000","sbcs");break;case"C":var q=String(p[g][y]!=null?p[g][y]:"").slice(0,S[y]);for(B.write_shift(1,q,"sbcs"),x=0;x<S[y]-q.length;++x)B.write_shift(1,32);break}}return d.next(1).write_shift(1,26),d.end()}return{to_workbook:a,to_sheet:r,from_sheet:o}}(),cGe=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+to(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),n=function(h,p){var m=e[p];return typeof m=="number"?Wq(m):m},r=function(h,p,m){var g=p.charCodeAt(0)-32<<4|m.charCodeAt(0)-48;return g==59?h:Wq(g)};e["|"]=254;function a(h,p){switch(p.type){case"base64":return i(Md(h),p);case"binary":return i(h,p);case"buffer":return i(vr&&Buffer.isBuffer(h)?h.toString("binary"):d2(h),p);case"array":return i(PT(h),p)}throw new Error("Unrecognized type "+p.type)}function i(h,p){var m=h.split(/[\n\r]+/),g=-1,y=-1,x=0,b=0,w=[],_=[],S=null,k={},N=[],P=[],T=[],j=0,D;for(+p.codepage>=0&&$b(+p.codepage);x!==m.length;++x){j=0;var M=m[x].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(t,n),R=M.replace(/;;/g,"\0").split(";").map(function(G){return G.replace(/\u0000/g,";")}),W=R[0],B;if(M.length>0)switch(W){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":R[1].charAt(0)=="P"&&_.push(M.slice(3).replace(/;;/g,";"));break;case"C":var V=!1,q=!1,I=!1,O=!1,H=-1,ne=-1;for(b=1;b<R.length;++b)switch(R[b].charAt(0)){case"A":break;case"X":y=parseInt(R[b].slice(1))-1,q=!0;break;case"Y":for(g=parseInt(R[b].slice(1))-1,q||(y=0),D=w.length;D<=g;++D)w[D]=[];break;case"K":B=R[b].slice(1),B.charAt(0)==='"'?B=B.slice(1,B.length-1):B==="TRUE"?B=!0:B==="FALSE"?B=!1:isNaN(yd(B))?isNaN(zb(B).getDate())||(B=Bo(B)):(B=yd(B),S!==null&&qce(S)&&(B=Xce(B))),V=!0;break;case"E":O=!0;var z=sYe(R[b].slice(1),{r:g,c:y});w[g][y]=[w[g][y],z];break;case"S":I=!0,w[g][y]=[w[g][y],"S5S"];break;case"G":break;case"R":H=parseInt(R[b].slice(1))-1;break;case"C":ne=parseInt(R[b].slice(1))-1;break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+M)}if(V&&(w[g][y]&&w[g][y].length==2?w[g][y][0]=B:w[g][y]=B,S=null),I){if(O)throw new Error("SYLK shared formula cannot have own formula");var J=H>-1&&w[H][ne];if(!J||!J[1])throw new Error("SYLK shared formula cannot find base");w[g][y][1]=lYe(J[1],{r:g-H,c:y-ne})}break;case"F":var ee=0;for(b=1;b<R.length;++b)switch(R[b].charAt(0)){case"X":y=parseInt(R[b].slice(1))-1,++ee;break;case"Y":for(g=parseInt(R[b].slice(1))-1,D=w.length;D<=g;++D)w[D]=[];break;case"M":j=parseInt(R[b].slice(1))/20;break;case"F":break;case"G":break;case"P":S=_[parseInt(R[b].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(T=R[b].slice(1).split(" "),D=parseInt(T[0],10);D<=parseInt(T[1],10);++D)j=parseInt(T[2],10),P[D-1]=j===0?{hidden:!0}:{wch:j},S$(P[D-1]);break;case"C":y=parseInt(R[b].slice(1))-1,P[y]||(P[y]={});break;case"R":g=parseInt(R[b].slice(1))-1,N[g]||(N[g]={}),j>0?(N[g].hpt=j,N[g].hpx=Fue(j)):j===0&&(N[g].hidden=!0);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+M)}ee<1&&(S=null);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+M)}}return N.length>0&&(k["!rows"]=N),P.length>0&&(k["!cols"]=P),p&&p.sheetRows&&(w=w.slice(0,p.sheetRows)),[w,k]}function o(h,p){var m=a(h,p),g=m[0],y=m[1],x=ay(g,p);return to(y).forEach(function(b){x[b]=y[b]}),x}function s(h,p){return Bm(o(h,p),p)}function l(h,p,m,g){var y="C;Y"+(m+1)+";X"+(g+1)+";K";switch(h.t){case"n":y+=h.v||0,h.f&&!h.F&&(y+=";E"+E$(h.f,{r:m,c:g}));break;case"b":y+=h.v?"TRUE":"FALSE";break;case"e":y+=h.w||h.v;break;case"d":y+='"'+(h.w||h.v)+'"';break;case"s":y+='"'+h.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return y}function u(h,p){p.forEach(function(m,g){var y="F;W"+(g+1)+" "+(g+1)+" ";m.hidden?y+="0":(typeof m.width=="number"&&!m.wpx&&(m.wpx=lN(m.width)),typeof m.wpx=="number"&&!m.wch&&(m.wch=cN(m.wpx)),typeof m.wch=="number"&&(y+=Math.round(m.wch))),y.charAt(y.length-1)!=" "&&h.push(y)})}function d(h,p){p.forEach(function(m,g){var y="F;";m.hidden?y+="M0;":m.hpt?y+="M"+20*m.hpt+";":m.hpx&&(y+="M"+20*uN(m.hpx)+";"),y.length>2&&h.push(y+"R"+(g+1))})}function f(h,p){var m=["ID;PWXL;N;E"],g=[],y=sa(h["!ref"]),x,b=Array.isArray(h),w=`\r
`;m.push("P;PGeneral"),m.push("F;P0;DG0G8;M255"),h["!cols"]&&u(m,h["!cols"]),h["!rows"]&&d(m,h["!rows"]),m.push("B;Y"+(y.e.r-y.s.r+1)+";X"+(y.e.c-y.s.c+1)+";D"+[y.s.c,y.s.r,y.e.c,y.e.r].join(" "));for(var _=y.s.r;_<=y.e.r;++_)for(var S=y.s.c;S<=y.e.c;++S){var k=Pr({r:_,c:S});x=b?(h[_]||[])[S]:h[k],!(!x||x.v==null&&(!x.f||x.F))&&g.push(l(x,h,_,S))}return m.join(w)+w+g.join(w)+w+"E"+w}return{to_workbook:s,to_sheet:o,from_sheet:f}}(),uGe=function(){function e(i,o){switch(o.type){case"base64":return t(Md(i),o);case"binary":return t(i,o);case"buffer":return t(vr&&Buffer.isBuffer(i)?i.toString("binary"):d2(i),o);case"array":return t(PT(i),o)}throw new Error("Unrecognized type "+o.type)}function t(i,o){for(var s=i.split(`
`),l=-1,u=-1,d=0,f=[];d!==s.length;++d){if(s[d].trim()==="BOT"){f[++l]=[],u=0;continue}if(!(l<0)){var h=s[d].trim().split(","),p=h[0],m=h[1];++d;for(var g=s[d]||"";(g.match(/["]/g)||[]).length&1&&d<s.length-1;)g+=`
`+s[++d];switch(g=g.trim(),+p){case-1:if(g==="BOT"){f[++l]=[],u=0;continue}else if(g!=="EOD")throw new Error("Unrecognized DIF special command "+g);break;case 0:g==="TRUE"?f[l][u]=!0:g==="FALSE"?f[l][u]=!1:isNaN(yd(m))?isNaN(zb(m).getDate())?f[l][u]=m:f[l][u]=Bo(m):f[l][u]=yd(m),++u;break;case 1:g=g.slice(1,g.length-1),g=g.replace(/""/g,'"'),g&&g.match(/^=".*"$/)&&(g=g.slice(2,-1)),f[l][u++]=g!==""?g:null;break}if(g==="EOD")break}}return o&&o.sheetRows&&(f=f.slice(0,o.sheetRows)),f}function n(i,o){return ay(e(i,o),o)}function r(i,o){return Bm(n(i,o),o)}var a=function(){var i=function(l,u,d,f,h){l.push(u),l.push(d+","+f),l.push('"'+h.replace(/"/g,'""')+'"')},o=function(l,u,d,f){l.push(u+","+d),l.push(u==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(l){var u=[],d=sa(l["!ref"]),f,h=Array.isArray(l);i(u,"TABLE",0,1,"sheetjs"),i(u,"VECTORS",0,d.e.r-d.s.r+1,""),i(u,"TUPLES",0,d.e.c-d.s.c+1,""),i(u,"DATA",0,0,"");for(var p=d.s.r;p<=d.e.r;++p){o(u,-1,0,"BOT");for(var m=d.s.c;m<=d.e.c;++m){var g=Pr({r:p,c:m});if(f=h?(l[p]||[])[m]:l[g],!f){o(u,1,0,"");continue}switch(f.t){case"n":var y=f.w;!y&&f.v!=null&&(y=f.v),y==null?f.f&&!f.F?o(u,1,0,"="+f.f):o(u,1,0,""):o(u,0,y,"V");break;case"b":o(u,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":o(u,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=xh(f.z||$a[14],fs(Bo(f.v)))),o(u,0,f.w,"V");break;default:o(u,1,0,"")}}}o(u,-1,0,"EOD");var x=`\r
`,b=u.join(x);return b}}();return{to_workbook:r,to_sheet:n,from_sheet:a}}(),Oue=function(){function e(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function n(f,h){for(var p=f.split(`
`),m=-1,g=-1,y=0,x=[];y!==p.length;++y){var b=p[y].trim().split(":");if(b[0]==="cell"){var w=ki(b[1]);if(x.length<=w.r)for(m=x.length;m<=w.r;++m)x[m]||(x[m]=[]);switch(m=w.r,g=w.c,b[2]){case"t":x[m][g]=e(b[3]);break;case"v":x[m][g]=+b[3];break;case"vtf":var _=b[b.length-1];case"vtc":switch(b[3]){case"nl":x[m][g]=!!+b[4];break;default:x[m][g]=+b[4];break}b[2]=="vtf"&&(x[m][g]=[x[m][g],_])}}}return h&&h.sheetRows&&(x=x.slice(0,h.sheetRows)),x}function r(f,h){return ay(n(f,h),h)}function a(f,h){return Bm(r(f,h),h)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,s=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function u(f){if(!f||!f["!ref"])return"";for(var h=[],p=[],m,g="",y=Us(f["!ref"]),x=Array.isArray(f),b=y.s.r;b<=y.e.r;++b)for(var w=y.s.c;w<=y.e.c;++w)if(g=Pr({r:b,c:w}),m=x?(f[b]||[])[w]:f[g],!(!m||m.v==null||m.t==="z")){switch(p=["cell",g,"t"],m.t){case"s":case"str":p.push(t(m.v));break;case"n":m.f?(p[2]="vtf",p[3]="n",p[4]=m.v,p[5]=t(m.f)):(p[2]="v",p[3]=m.v);break;case"b":p[2]="vt"+(m.f?"f":"c"),p[3]="nl",p[4]=m.v?"1":"0",p[5]=t(m.f||(m.v?"TRUE":"FALSE"));break;case"d":var _=fs(Bo(m.v));p[2]="vtc",p[3]="nd",p[4]=""+_,p[5]=m.w||xh(m.z||$a[14],_);break;case"e":continue}h.push(p.join(":"))}return h.push("sheet:c:"+(y.e.c-y.s.c+1)+":r:"+(y.e.r-y.s.r+1)+":tvf:1"),h.push("valueformat:1:text-wiki"),h.join(`
`)}function d(f){return[i,o,s,o,u(f),l].join(`
`)}return{to_workbook:a,to_sheet:r,from_sheet:d}}(),dGe=function(){function e(d,f,h,p,m){m.raw?f[h][p]=d:d===""||(d==="TRUE"?f[h][p]=!0:d==="FALSE"?f[h][p]=!1:isNaN(yd(d))?isNaN(zb(d).getDate())?f[h][p]=d:f[h][p]=Bo(d):f[h][p]=yd(d))}function t(d,f){var h=f||{},p=[];if(!d||d.length===0)return p;for(var m=d.split(/[\r\n]/),g=m.length-1;g>=0&&m[g].length===0;)--g;for(var y=10,x=0,b=0;b<=g;++b)x=m[b].indexOf(" "),x==-1?x=m[b].length:x++,y=Math.max(y,x);for(b=0;b<=g;++b){p[b]=[];var w=0;for(e(m[b].slice(0,y).trim(),p,b,w,h),w=1;w<=(m[b].length-y)/10+1;++w)e(m[b].slice(y+(w-1)*10,y+w*10).trim(),p,b,w,h)}return h.sheetRows&&(p=p.slice(0,h.sheetRows)),p}var n={44:",",9:"	",59:";",124:"|"},r={44:3,9:2,59:1,124:0};function a(d){for(var f={},h=!1,p=0,m=0;p<d.length;++p)(m=d.charCodeAt(p))==34?h=!h:!h&&m in n&&(f[m]=(f[m]||0)+1);m=[];for(p in f)Object.prototype.hasOwnProperty.call(f,p)&&m.push([f[p],p]);if(!m.length){f=r;for(p in f)Object.prototype.hasOwnProperty.call(f,p)&&m.push([f[p],p])}return m.sort(function(g,y){return g[0]-y[0]||r[g[1]]-r[y[1]]}),n[m.pop()[1]]||44}function i(d,f){var h=f||{},p="",m=h.dense?[]:{},g={s:{c:0,r:0},e:{c:0,r:0}};d.slice(0,4)=="sep="?d.charCodeAt(5)==13&&d.charCodeAt(6)==10?(p=d.charAt(4),d=d.slice(7)):d.charCodeAt(5)==13||d.charCodeAt(5)==10?(p=d.charAt(4),d=d.slice(6)):p=a(d.slice(0,1024)):h&&h.FS?p=h.FS:p=a(d.slice(0,1024));var y=0,x=0,b=0,w=0,_=0,S=p.charCodeAt(0),k=!1,N=0,P=d.charCodeAt(0);d=d.replace(/\r\n/mg,`
`);var T=h.dateNF!=null?kHe(h.dateNF):null;function j(){var D=d.slice(w,_),M={};if(D.charAt(0)=='"'&&D.charAt(D.length-1)=='"'&&(D=D.slice(1,-1).replace(/""/g,'"')),D.length===0)M.t="z";else if(h.raw)M.t="s",M.v=D;else if(D.trim().length===0)M.t="s",M.v=D;else if(D.charCodeAt(0)==61)D.charCodeAt(1)==34&&D.charCodeAt(D.length-1)==34?(M.t="s",M.v=D.slice(2,-1).replace(/""/g,'"')):cYe(D)?(M.t="n",M.f=D.slice(1)):(M.t="s",M.v=D);else if(D=="TRUE")M.t="b",M.v=!0;else if(D=="FALSE")M.t="b",M.v=!1;else if(!isNaN(b=yd(D)))M.t="n",h.cellText!==!1&&(M.w=D),M.v=b;else if(!isNaN(zb(D).getDate())||T&&D.match(T)){M.z=h.dateNF||$a[14];var R=0;T&&D.match(T)&&(D=jHe(D,h.dateNF,D.match(T)||[]),R=1),h.cellDates?(M.t="d",M.v=Bo(D,R)):(M.t="n",M.v=fs(Bo(D,R))),h.cellText!==!1&&(M.w=xh(M.z,M.v instanceof Date?fs(M.v):M.v)),h.cellNF||delete M.z}else M.t="s",M.v=D;if(M.t=="z"||(h.dense?(m[y]||(m[y]=[]),m[y][x]=M):m[Pr({c:x,r:y})]=M),w=_+1,P=d.charCodeAt(w),g.e.c<x&&(g.e.c=x),g.e.r<y&&(g.e.r=y),N==S)++x;else if(x=0,++y,h.sheetRows&&h.sheetRows<=y)return!0}e:for(;_<d.length;++_)switch(N=d.charCodeAt(_)){case 34:P===34&&(k=!k);break;case S:case 10:case 13:if(!k&&j())break e;break}return _-w>0&&j(),m["!ref"]=ti(g),m}function o(d,f){return!(f&&f.PRN)||f.FS||d.slice(0,4)=="sep="||d.indexOf("	")>=0||d.indexOf(",")>=0||d.indexOf(";")>=0?i(d,f):ay(t(d,f),f)}function s(d,f){var h="",p=f.type=="string"?[0,0,0,0]:SQe(d,f);switch(f.type){case"base64":h=Md(d);break;case"binary":h=d;break;case"buffer":f.codepage==65001?h=d.toString("utf8"):f.codepage&&typeof JE<"u"||(h=vr&&Buffer.isBuffer(d)?d.toString("binary"):d2(d));break;case"array":h=PT(d);break;case"string":h=d;break;default:throw new Error("Unrecognized type "+f.type)}return p[0]==239&&p[1]==187&&p[2]==191?h=w1(h.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?h=w1(h):f.type=="binary"&&typeof JE<"u",h.slice(0,19)=="socialcalc:version:"?Oue.to_sheet(f.type=="string"?h:w1(h),f):o(h,f)}function l(d,f){return Bm(s(d,f),f)}function u(d){for(var f=[],h=sa(d["!ref"]),p,m=Array.isArray(d),g=h.s.r;g<=h.e.r;++g){for(var y=[],x=h.s.c;x<=h.e.c;++x){var b=Pr({r:g,c:x});if(p=m?(d[g]||[])[x]:d[b],!p||p.v==null){y.push("          ");continue}for(var w=(p.w||(Id(p),p.w)||"").slice(0,10);w.length<10;)w+=" ";y.push(w+(x===0?" ":""))}f.push(y.join(""))}return f.join(`
`)}return{to_workbook:l,to_sheet:s,from_sheet:u}}(),bG=function(){function e(z,J,ee){if(z){Ss(z,z.l||0);for(var G=ee.Enum||H;z.l<z.length;){var Z=z.read_shift(2),se=G[Z]||G[65535],ae=z.read_shift(2),Y=z.l+ae,X=se.f&&se.f(z,ae,ee);if(z.l=Y,J(X,se,Z))return}}}function t(z,J){switch(J.type){case"base64":return n(sc(Md(z)),J);case"binary":return n(sc(z),J);case"buffer":case"array":return n(z,J)}throw"Unsupported type "+J.type}function n(z,J){if(!z)return z;var ee=J||{},G=ee.dense?[]:{},Z="Sheet1",se="",ae=0,Y={},X=[],K=[],F={s:{r:0,c:0},e:{r:0,c:0}},re=ee.sheetRows||0;if(z[2]==0&&(z[3]==8||z[3]==9)&&z.length>=16&&z[14]==5&&z[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(z[2]==2)ee.Enum=H,e(z,function(be,ye,de){switch(de){case 0:ee.vers=be,be>=4096&&(ee.qpro=!0);break;case 6:F=be;break;case 204:be&&(se=be);break;case 222:se=be;break;case 15:case 51:ee.qpro||(be[1].v=be[1].v.slice(1));case 13:case 14:case 16:de==14&&(be[2]&112)==112&&(be[2]&15)>1&&(be[2]&15)<15&&(be[1].z=ee.dateNF||$a[14],ee.cellDates&&(be[1].t="d",be[1].v=Xce(be[1].v))),ee.qpro&&be[3]>ae&&(G["!ref"]=ti(F),Y[Z]=G,X.push(Z),G=ee.dense?[]:{},F={s:{r:0,c:0},e:{r:0,c:0}},ae=be[3],Z=se||"Sheet"+(ae+1),se="");var we=ee.dense?(G[be[0].r]||[])[be[0].c]:G[Pr(be[0])];if(we){we.t=be[1].t,we.v=be[1].v,be[1].z!=null&&(we.z=be[1].z),be[1].f!=null&&(we.f=be[1].f);break}ee.dense?(G[be[0].r]||(G[be[0].r]=[]),G[be[0].r][be[0].c]=be[1]):G[Pr(be[0])]=be[1];break}},ee);else if(z[2]==26||z[2]==14)ee.Enum=ne,z[2]==14&&(ee.qpro=!0,z.l=0),e(z,function(be,ye,de){switch(de){case 204:Z=be;break;case 22:be[1].v=be[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(be[3]>ae&&(G["!ref"]=ti(F),Y[Z]=G,X.push(Z),G=ee.dense?[]:{},F={s:{r:0,c:0},e:{r:0,c:0}},ae=be[3],Z="Sheet"+(ae+1)),re>0&&be[0].r>=re)break;ee.dense?(G[be[0].r]||(G[be[0].r]=[]),G[be[0].r][be[0].c]=be[1]):G[Pr(be[0])]=be[1],F.e.c<be[0].c&&(F.e.c=be[0].c),F.e.r<be[0].r&&(F.e.r=be[0].r);break;case 27:be[14e3]&&(K[be[14e3][0]]=be[14e3][1]);break;case 1537:K[be[0]]=be[1],be[0]==ae&&(Z=be[1]);break}},ee);else throw new Error("Unrecognized LOTUS BOF "+z[2]);if(G["!ref"]=ti(F),Y[se||Z]=G,X.push(se||Z),!K.length)return{SheetNames:X,Sheets:Y};for(var Q={},oe=[],me=0;me<K.length;++me)Y[X[me]]?(oe.push(K[me]||X[me]),Q[K[me]]=Y[K[me]]||Y[X[me]]):(oe.push(K[me]),Q[K[me]]={"!ref":"A1"});return{SheetNames:oe,Sheets:Q}}function r(z,J){var ee=J||{};if(+ee.codepage>=0&&$b(+ee.codepage),ee.type=="string")throw new Error("Cannot write WK1 to JS string");var G=ls(),Z=sa(z["!ref"]),se=Array.isArray(z),ae=[];Ft(G,0,i(1030)),Ft(G,6,l(Z));for(var Y=Math.min(Z.e.r,8191),X=Z.s.r;X<=Y;++X)for(var K=Ji(X),F=Z.s.c;F<=Z.e.c;++F){X===Z.s.r&&(ae[F]=Co(F));var re=ae[F]+K,Q=se?(z[X]||[])[F]:z[re];if(!(!Q||Q.t=="z"))if(Q.t=="n")(Q.v|0)==Q.v&&Q.v>=-32768&&Q.v<=32767?Ft(G,13,p(X,F,Q.v)):Ft(G,14,g(X,F,Q.v));else{var oe=Id(Q);Ft(G,15,f(X,F,oe.slice(0,239)))}}return Ft(G,1),G.end()}function a(z,J){var ee=J||{};if(+ee.codepage>=0&&$b(+ee.codepage),ee.type=="string")throw new Error("Cannot write WK3 to JS string");var G=ls();Ft(G,0,o(z));for(var Z=0,se=0;Z<z.SheetNames.length;++Z)(z.Sheets[z.SheetNames[Z]]||{})["!ref"]&&Ft(G,27,O(z.SheetNames[Z],se++));var ae=0;for(Z=0;Z<z.SheetNames.length;++Z){var Y=z.Sheets[z.SheetNames[Z]];if(!(!Y||!Y["!ref"])){for(var X=sa(Y["!ref"]),K=Array.isArray(Y),F=[],re=Math.min(X.e.r,8191),Q=X.s.r;Q<=re;++Q)for(var oe=Ji(Q),me=X.s.c;me<=X.e.c;++me){Q===X.s.r&&(F[me]=Co(me));var be=F[me]+oe,ye=K?(Y[Q]||[])[me]:Y[be];if(!(!ye||ye.t=="z"))if(ye.t=="n")Ft(G,23,j(Q,me,ae,ye.v));else{var de=Id(ye);Ft(G,22,N(Q,me,ae,de.slice(0,239)))}}++ae}}return Ft(G,1),G.end()}function i(z){var J=ot(2);return J.write_shift(2,z),J}function o(z){var J=ot(26);J.write_shift(2,4096),J.write_shift(2,4),J.write_shift(4,0);for(var ee=0,G=0,Z=0,se=0;se<z.SheetNames.length;++se){var ae=z.SheetNames[se],Y=z.Sheets[ae];if(!(!Y||!Y["!ref"])){++Z;var X=Us(Y["!ref"]);ee<X.e.r&&(ee=X.e.r),G<X.e.c&&(G=X.e.c)}}return ee>8191&&(ee=8191),J.write_shift(2,ee),J.write_shift(1,Z),J.write_shift(1,G),J.write_shift(2,0),J.write_shift(2,0),J.write_shift(1,1),J.write_shift(1,2),J.write_shift(4,0),J.write_shift(4,0),J}function s(z,J,ee){var G={s:{c:0,r:0},e:{c:0,r:0}};return J==8&&ee.qpro?(G.s.c=z.read_shift(1),z.l++,G.s.r=z.read_shift(2),G.e.c=z.read_shift(1),z.l++,G.e.r=z.read_shift(2),G):(G.s.c=z.read_shift(2),G.s.r=z.read_shift(2),J==12&&ee.qpro&&(z.l+=2),G.e.c=z.read_shift(2),G.e.r=z.read_shift(2),J==12&&ee.qpro&&(z.l+=2),G.s.c==65535&&(G.s.c=G.e.c=G.s.r=G.e.r=0),G)}function l(z){var J=ot(8);return J.write_shift(2,z.s.c),J.write_shift(2,z.s.r),J.write_shift(2,z.e.c),J.write_shift(2,z.e.r),J}function u(z,J,ee){var G=[{c:0,r:0},{t:"n",v:0},0,0];return ee.qpro&&ee.vers!=20768?(G[0].c=z.read_shift(1),G[3]=z.read_shift(1),G[0].r=z.read_shift(2),z.l+=2):(G[2]=z.read_shift(1),G[0].c=z.read_shift(2),G[0].r=z.read_shift(2)),G}function d(z,J,ee){var G=z.l+J,Z=u(z,J,ee);if(Z[1].t="s",ee.vers==20768){z.l++;var se=z.read_shift(1);return Z[1].v=z.read_shift(se,"utf8"),Z}return ee.qpro&&z.l++,Z[1].v=z.read_shift(G-z.l,"cstr"),Z}function f(z,J,ee){var G=ot(7+ee.length);G.write_shift(1,255),G.write_shift(2,J),G.write_shift(2,z),G.write_shift(1,39);for(var Z=0;Z<G.length;++Z){var se=ee.charCodeAt(Z);G.write_shift(1,se>=128?95:se)}return G.write_shift(1,0),G}function h(z,J,ee){var G=u(z,J,ee);return G[1].v=z.read_shift(2,"i"),G}function p(z,J,ee){var G=ot(7);return G.write_shift(1,255),G.write_shift(2,J),G.write_shift(2,z),G.write_shift(2,ee,"i"),G}function m(z,J,ee){var G=u(z,J,ee);return G[1].v=z.read_shift(8,"f"),G}function g(z,J,ee){var G=ot(13);return G.write_shift(1,255),G.write_shift(2,J),G.write_shift(2,z),G.write_shift(8,ee,"f"),G}function y(z,J,ee){var G=z.l+J,Z=u(z,J,ee);if(Z[1].v=z.read_shift(8,"f"),ee.qpro)z.l=G;else{var se=z.read_shift(2);_(z.slice(z.l,z.l+se),Z),z.l+=se}return Z}function x(z,J,ee){var G=J&32768;return J&=-32769,J=(G?z:0)+(J>=8192?J-16384:J),(G?"":"$")+(ee?Co(J):Ji(J))}var b={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},w=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function _(z,J){Ss(z,0);for(var ee=[],G=0,Z="",se="",ae="",Y="";z.l<z.length;){var X=z[z.l++];switch(X){case 0:ee.push(z.read_shift(8,"f"));break;case 1:se=x(J[0].c,z.read_shift(2),!0),Z=x(J[0].r,z.read_shift(2),!1),ee.push(se+Z);break;case 2:{var K=x(J[0].c,z.read_shift(2),!0),F=x(J[0].r,z.read_shift(2),!1);se=x(J[0].c,z.read_shift(2),!0),Z=x(J[0].r,z.read_shift(2),!1),ee.push(K+F+":"+se+Z)}break;case 3:if(z.l<z.length){console.error("WK1 premature formula end");return}break;case 4:ee.push("("+ee.pop()+")");break;case 5:ee.push(z.read_shift(2));break;case 6:{for(var re="";X=z[z.l++];)re+=String.fromCharCode(X);ee.push('"'+re.replace(/"/g,'""')+'"')}break;case 8:ee.push("-"+ee.pop());break;case 23:ee.push("+"+ee.pop());break;case 22:ee.push("NOT("+ee.pop()+")");break;case 20:case 21:Y=ee.pop(),ae=ee.pop(),ee.push(["AND","OR"][X-20]+"("+ae+","+Y+")");break;default:if(X<32&&w[X])Y=ee.pop(),ae=ee.pop(),ee.push(ae+w[X]+Y);else if(b[X]){if(G=b[X][1],G==69&&(G=z[z.l++]),G>ee.length){console.error("WK1 bad formula parse 0x"+X.toString(16)+":|"+ee.join("|")+"|");return}var Q=ee.slice(-G);ee.length-=G,ee.push(b[X][0]+"("+Q.join(",")+")")}else return X<=7?console.error("WK1 invalid opcode "+X.toString(16)):X<=24?console.error("WK1 unsupported op "+X.toString(16)):X<=30?console.error("WK1 invalid opcode "+X.toString(16)):X<=115?console.error("WK1 unsupported function opcode "+X.toString(16)):console.error("WK1 unrecognized opcode "+X.toString(16))}}ee.length==1?J[1].f=""+ee[0]:console.error("WK1 bad formula parse |"+ee.join("|")+"|")}function S(z){var J=[{c:0,r:0},{t:"n",v:0},0];return J[0].r=z.read_shift(2),J[3]=z[z.l++],J[0].c=z[z.l++],J}function k(z,J){var ee=S(z);return ee[1].t="s",ee[1].v=z.read_shift(J-4,"cstr"),ee}function N(z,J,ee,G){var Z=ot(6+G.length);Z.write_shift(2,z),Z.write_shift(1,ee),Z.write_shift(1,J),Z.write_shift(1,39);for(var se=0;se<G.length;++se){var ae=G.charCodeAt(se);Z.write_shift(1,ae>=128?95:ae)}return Z.write_shift(1,0),Z}function P(z,J){var ee=S(z);ee[1].v=z.read_shift(2);var G=ee[1].v>>1;if(ee[1].v&1)switch(G&7){case 0:G=(G>>3)*5e3;break;case 1:G=(G>>3)*500;break;case 2:G=(G>>3)/20;break;case 3:G=(G>>3)/200;break;case 4:G=(G>>3)/2e3;break;case 5:G=(G>>3)/2e4;break;case 6:G=(G>>3)/16;break;case 7:G=(G>>3)/64;break}return ee[1].v=G,ee}function T(z,J){var ee=S(z),G=z.read_shift(4),Z=z.read_shift(4),se=z.read_shift(2);if(se==65535)return G===0&&Z===3221225472?(ee[1].t="e",ee[1].v=15):G===0&&Z===3489660928?(ee[1].t="e",ee[1].v=42):ee[1].v=0,ee;var ae=se&32768;return se=(se&32767)-16446,ee[1].v=(1-ae*2)*(Z*Math.pow(2,se+32)+G*Math.pow(2,se)),ee}function j(z,J,ee,G){var Z=ot(14);if(Z.write_shift(2,z),Z.write_shift(1,ee),Z.write_shift(1,J),G==0)return Z.write_shift(4,0),Z.write_shift(4,0),Z.write_shift(2,65535),Z;var se=0,ae=0,Y=0,X=0;return G<0&&(se=1,G=-G),ae=Math.log2(G)|0,G/=Math.pow(2,ae-31),X=G>>>0,X&2147483648||(G/=2,++ae,X=G>>>0),G-=X,X|=2147483648,X>>>=0,G*=Math.pow(2,32),Y=G>>>0,Z.write_shift(4,Y),Z.write_shift(4,X),ae+=16383+(se?32768:0),Z.write_shift(2,ae),Z}function D(z,J){var ee=T(z);return z.l+=J-14,ee}function M(z,J){var ee=S(z),G=z.read_shift(4);return ee[1].v=G>>6,ee}function R(z,J){var ee=S(z),G=z.read_shift(8,"f");return ee[1].v=G,ee}function W(z,J){var ee=R(z);return z.l+=J-10,ee}function B(z,J){return z[z.l+J-1]==0?z.read_shift(J,"cstr"):""}function V(z,J){var ee=z[z.l++];ee>J-1&&(ee=J-1);for(var G="";G.length<ee;)G+=String.fromCharCode(z[z.l++]);return G}function q(z,J,ee){if(!(!ee.qpro||J<21)){var G=z.read_shift(1);z.l+=17,z.l+=1,z.l+=2;var Z=z.read_shift(J-21,"cstr");return[G,Z]}}function I(z,J){for(var ee={},G=z.l+J;z.l<G;){var Z=z.read_shift(2);if(Z==14e3){for(ee[Z]=[0,""],ee[Z][0]=z.read_shift(2);z[z.l];)ee[Z][1]+=String.fromCharCode(z[z.l]),z.l++;z.l++}}return ee}function O(z,J){var ee=ot(5+z.length);ee.write_shift(2,14e3),ee.write_shift(2,J);for(var G=0;G<z.length;++G){var Z=z.charCodeAt(G);ee[ee.l++]=Z>127?95:Z}return ee[ee.l++]=0,ee}var H={0:{n:"BOF",f:jue},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:s},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:h},14:{n:"NUMBER",f:m},15:{n:"LABEL",f:d},16:{n:"FORMULA",f:y},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:d},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:B},222:{n:"SHEETNAMELP",f:V},65535:{n:""}},ne={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:k},23:{n:"NUMBER17",f:T},24:{n:"NUMBER18",f:P},25:{n:"FORMULA19",f:D},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:I},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:M},38:{n:"??"},39:{n:"NUMBER27",f:R},40:{n:"FORMULA28",f:W},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:B},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:q},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:r,book_to_wk3:a,to_workbook:t}}(),fGe=/^\s|\s$|[\t\n\r]/;function Mue(e,t){if(!t.bookSST)return"";var n=[ri];n[n.length]=It("sst",null,{xmlns:ry[0],count:e.Count,uniqueCount:e.Unique});for(var r=0;r!=e.length;++r)if(e[r]!=null){var a=e[r],i="<si>";a.r?i+=a.r:(i+="<t",a.t||(a.t=""),a.t.match(fGe)&&(i+=' xml:space="preserve"'),i+=">"+jr(a.t)+"</t>"),i+="</si>",n[n.length]=i}return n.length>2&&(n[n.length]="</sst>",n[1]=n[1].replace("/>",">")),n.join("")}function hGe(e){return[e.read_shift(4),e.read_shift(4)]}function pGe(e,t){return t||(t=ot(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var mGe=iqe;function gGe(e){var t=ls();vt(t,159,pGe(e));for(var n=0;n<e.length;++n)vt(t,19,mGe(e[n]));return vt(t,160),t.end()}function vGe(e){for(var t=[],n=e.split(""),r=0;r<n.length;++r)t[r]=n[r].charCodeAt(0);return t}function Iue(e){var t=0,n,r=vGe(e),a=r.length+1,i,o,s,l,u;for(n=wm(a),n[0]=r.length,i=1;i!=a;++i)n[i]=r[i-1];for(i=a-1;i>=0;--i)o=n[i],s=t&16384?1:0,l=t<<1&32767,u=s|l,t=u^o;return t^52811}var yGe=function(){function e(a,i){switch(i.type){case"base64":return t(Md(a),i);case"binary":return t(a,i);case"buffer":return t(vr&&Buffer.isBuffer(a)?a.toString("binary"):d2(a),i);case"array":return t(PT(a),i)}throw new Error("Unrecognized type "+i.type)}function t(a,i){var o=i||{},s=o.dense?[]:{},l=a.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(d,f){Array.isArray(s)&&(s[f]=[]);for(var h=/\\\w+\b/g,p=0,m,g=-1;m=h.exec(d);){switch(m[0]){case"\\cell":var y=d.slice(p,h.lastIndex-m[0].length);if(y[0]==" "&&(y=y.slice(1)),++g,y.length){var x={v:y,t:"s"};Array.isArray(s)?s[f][g]=x:s[Pr({r:f,c:g})]=x}break}p=h.lastIndex}g>u.e.c&&(u.e.c=g)}),s["!ref"]=ti(u),s}function n(a,i){return Bm(e(a,i),i)}function r(a){for(var i=["{\\rtf1\\ansi"],o=sa(a["!ref"]),s,l=Array.isArray(a),u=o.s.r;u<=o.e.r;++u){i.push("\\trowd\\trautofit1");for(var d=o.s.c;d<=o.e.c;++d)i.push("\\cellx"+(d+1));for(i.push("\\pard\\intbl"),d=o.s.c;d<=o.e.c;++d){var f=Pr({r:u,c:d});s=l?(a[u]||[])[d]:a[f],!(!s||s.v==null&&(!s.f||s.F))&&(i.push(" "+(s.w||(Id(s),s.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:n,to_sheet:e,from_sheet:r}}();function wG(e){for(var t=0,n=1;t!=3;++t)n=n*256+(e[t]>255?255:e[t]<0?0:e[t]);return n.toString(16).toUpperCase().slice(1)}var xGe=6,xd=xGe;function lN(e){return Math.floor((e+Math.round(128/xd)/256)*xd)}function cN(e){return Math.floor((e-5)/xd*100+.5)/100}function sI(e){return Math.round((e*xd+5)/xd*256)/256}function S$(e){e.width?(e.wpx=lN(e.width),e.wch=cN(e.wpx),e.MDW=xd):e.wpx?(e.wch=cN(e.wpx),e.width=sI(e.wch),e.MDW=xd):typeof e.wch=="number"&&(e.width=sI(e.wch),e.wpx=lN(e.width),e.MDW=xd),e.customWidth&&delete e.customWidth}var bGe=96,Rue=bGe;function uN(e){return e*96/Rue}function Fue(e){return e*Rue/96}function wGe(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var r=n[0];r<=n[1];++r)e[r]!=null&&(t[t.length]=It("numFmt",null,{numFmtId:r,formatCode:jr(e[r])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=It("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function _Ge(e){var t=[];return t[t.length]=It("cellXfs",null),e.forEach(function(n){t[t.length]=It("xf",null,n)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=It("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function Lue(e,t){var n=[ri,It("styleSheet",null,{xmlns:ry[0],"xmlns:vt":Si.vt})],r;return e.SSF&&(r=wGe(e.SSF))!=null&&(n[n.length]=r),n[n.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',n[n.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',n[n.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',n[n.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(r=_Ge(t.cellXfs))&&(n[n.length]=r),n[n.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',n[n.length]='<dxfs count="0"/>',n[n.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',n.length>2&&(n[n.length]="</styleSheet>",n[1]=n[1].replace("/>",">")),n.join("")}function SGe(e,t){var n=e.read_shift(2),r=Eo(e);return[n,r]}function CGe(e,t,n){n||(n=ot(6+4*t.length)),n.write_shift(2,e),ji(t,n);var r=n.length>n.l?n.slice(0,n.l):n;return n.l==null&&(n.l=n.length),r}function EGe(e,t,n){var r={};r.sz=e.read_shift(2)/20;var a=fqe(e);a.fItalic&&(r.italic=1),a.fCondense&&(r.condense=1),a.fExtend&&(r.extend=1),a.fShadow&&(r.shadow=1),a.fOutline&&(r.outline=1),a.fStrikeout&&(r.strike=1);var i=e.read_shift(2);switch(i===700&&(r.bold=1),e.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript";break}var o=e.read_shift(1);o!=0&&(r.underline=o);var s=e.read_shift(1);s>0&&(r.family=s);var l=e.read_shift(1);switch(l>0&&(r.charset=l),e.l++,r.color=dqe(e),e.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor";break}return r.name=Eo(e),r}function NGe(e,t){t||(t=ot(25+4*32)),t.write_shift(2,e.sz*20),hqe(e,t),t.write_shift(2,e.bold?700:400);var n=0;e.vertAlign=="superscript"?n=1:e.vertAlign=="subscript"&&(n=2),t.write_shift(2,n),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),oN(e.color,t);var r=0;return r=2,t.write_shift(1,r),ji(e.name,t),t.length>t.l?t.slice(0,t.l):t}var kGe=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],cD,jGe=Tu;function _G(e,t){t||(t=ot(4*3+8*7+16*1)),cD||(cD=d$(kGe));var n=cD[e.patternType];n==null&&(n=40),t.write_shift(4,n);var r=0;if(n!=40)for(oN({auto:1},t),oN({auto:1},t);r<12;++r)t.write_shift(4,0);else{for(;r<4;++r)t.write_shift(4,0);for(;r<12;++r)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function TGe(e,t){var n=e.l+t,r=e.read_shift(2),a=e.read_shift(2);return e.l=n,{ixfe:r,numFmtId:a}}function $ue(e,t,n){n||(n=ot(16)),n.write_shift(2,t||0),n.write_shift(2,e.numFmtId||0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(1,0),n.write_shift(1,0);var r=0;return n.write_shift(1,r),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(1,0),n}function rx(e,t){return t||(t=ot(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var PGe=Tu;function AGe(e,t){return t||(t=ot(51)),t.write_shift(1,0),rx(null,t),rx(null,t),rx(null,t),rx(null,t),rx(null,t),t.length>t.l?t.slice(0,t.l):t}function DGe(e,t){return t||(t=ot(12+4*10)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,0),t.write_shift(1,0),iN(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function OGe(e,t,n){var r=ot(2052);return r.write_shift(4,e),iN(t,r),iN(n,r),r.length>r.l?r.slice(0,r.l):r}function MGe(e,t){if(t){var n=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var a=r[0];a<=r[1];++a)t[a]!=null&&++n}),n!=0&&(vt(e,615,vc(n)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var a=r[0];a<=r[1];++a)t[a]!=null&&vt(e,44,CGe(a,t[a]))}),vt(e,616))}}function IGe(e){var t=1;vt(e,611,vc(t)),vt(e,43,NGe({sz:12,color:{theme:1},name:"Calibri",family:2})),vt(e,612)}function RGe(e){var t=2;vt(e,603,vc(t)),vt(e,45,_G({patternType:"none"})),vt(e,45,_G({patternType:"gray125"})),vt(e,604)}function FGe(e){var t=1;vt(e,613,vc(t)),vt(e,46,AGe()),vt(e,614)}function LGe(e){var t=1;vt(e,626,vc(t)),vt(e,47,$ue({numFmtId:0},65535)),vt(e,627)}function $Ge(e,t){vt(e,617,vc(t.length)),t.forEach(function(n){vt(e,47,$ue(n,0))}),vt(e,618)}function BGe(e){var t=1;vt(e,619,vc(t)),vt(e,48,DGe({xfId:0,name:"Normal"})),vt(e,620)}function zGe(e){var t=0;vt(e,505,vc(t)),vt(e,506)}function UGe(e){var t=0;vt(e,508,OGe(t,"TableStyleMedium9","PivotStyleMedium4")),vt(e,509)}function WGe(e,t){var n=ls();return vt(n,278),MGe(n,e.SSF),IGe(n),RGe(n),FGe(n),LGe(n),$Ge(n,t.cellXfs),BGe(n),zGe(n),UGe(n),vt(n,279),n.end()}function Bue(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var n=[ri];return n[n.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',n[n.length]="<a:themeElements>",n[n.length]='<a:clrScheme name="Office">',n[n.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',n[n.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',n[n.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',n[n.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',n[n.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',n[n.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',n[n.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',n[n.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',n[n.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',n[n.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',n[n.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',n[n.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',n[n.length]="</a:clrScheme>",n[n.length]='<a:fontScheme name="Office">',n[n.length]="<a:majorFont>",n[n.length]='<a:latin typeface="Cambria"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Times New Roman"/>',n[n.length]='<a:font script="Hebr" typeface="Times New Roman"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="MoolBoran"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Times New Roman"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:majorFont>",n[n.length]="<a:minorFont>",n[n.length]='<a:latin typeface="Calibri"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Arial"/>',n[n.length]='<a:font script="Hebr" typeface="Arial"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="DaunPenh"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Arial"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:minorFont>",n[n.length]="</a:fontScheme>",n[n.length]='<a:fmtScheme name="Office">',n[n.length]="<a:fillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="1"/>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="0"/>',n[n.length]="</a:gradFill>",n[n.length]="</a:fillStyleLst>",n[n.length]="<a:lnStyleLst>",n[n.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]="</a:lnStyleLst>",n[n.length]="<a:effectStyleLst>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',n[n.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',n[n.length]="</a:effectStyle>",n[n.length]="</a:effectStyleLst>",n[n.length]="<a:bgFillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]="</a:bgFillStyleLst>",n[n.length]="</a:fmtScheme>",n[n.length]="</a:themeElements>",n[n.length]="<a:objectDefaults>",n[n.length]="<a:spDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',n[n.length]="</a:spDef>",n[n.length]="<a:lnDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',n[n.length]="</a:lnDef>",n[n.length]="</a:objectDefaults>",n[n.length]="<a:extraClrSchemeLst/>",n[n.length]="</a:theme>",n.join("")}function VGe(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:Eo(e)}}function HGe(e){var t=ot(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),ji(e.name,t),t.slice(0,t.l)}function qGe(e){for(var t=[],n=e.read_shift(4);n-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function GGe(e){var t=ot(4+8*e.length);t.write_shift(4,e.length);for(var n=0;n<e.length;++n)t.write_shift(4,e[n][0]),t.write_shift(4,e[n][1]);return t}function YGe(e,t){var n=ot(8+2*t.length);return n.write_shift(4,e),ji(t,n),n.slice(0,n.l)}function KGe(e){return e.l+=4,e.read_shift(4)!=0}function XGe(e,t){var n=ot(8);return n.write_shift(4,e),n.write_shift(4,1),n}function ZGe(){var e=ls();return vt(e,332),vt(e,334,vc(1)),vt(e,335,HGe({name:"XLDAPR",version:12e4,flags:3496657072})),vt(e,336),vt(e,339,YGe(1,"XLDAPR")),vt(e,52),vt(e,35,vc(514)),vt(e,4096,vc(0)),vt(e,4097,cl(1)),vt(e,36),vt(e,53),vt(e,340),vt(e,337,XGe(1)),vt(e,51,GGe([[1,0]])),vt(e,338),vt(e,333),e.end()}function zue(){var e=[ri];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function QGe(e){var t={};t.i=e.read_shift(4);var n={};n.r=e.read_shift(4),n.c=e.read_shift(4),t.r=Pr(n);var r=e.read_shift(1);return r&2&&(t.l="1"),r&8&&(t.a="1"),t}var Zg=1024;function Uue(e,t){for(var n=[21600,21600],r=["m0,0l0",n[1],n[0],n[1],n[0],"0xe"].join(","),a=[It("xml",null,{"xmlns:v":Es.v,"xmlns:o":Es.o,"xmlns:x":Es.x,"xmlns:mv":Es.mv}).replace(/\/>/,">"),It("o:shapelayout",It("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),It("v:shapetype",[It("v:stroke",null,{joinstyle:"miter"}),It("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:n.join(","),path:r})];Zg<e*1e3;)Zg+=1e3;return t.forEach(function(i){var o=ki(i[0]),s={color2:"#BEFF82",type:"gradient"};s.type=="gradient"&&(s.angle="-180");var l=s.type=="gradient"?It("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,u=It("v:fill",l,s),d={on:"t",obscured:"t"};++Zg,a=a.concat(["<v:shape"+Wb({id:"_x0000_s"+Zg,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(i[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",u,It("v:shadow",null,d),It("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",Xi("x:Anchor",[o.c+1,0,o.r+1,0,o.c+3,20,o.r+5,20].join(",")),Xi("x:AutoFill","False"),Xi("x:Row",String(o.r)),Xi("x:Column",String(o.c)),i[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),a.push("</xml>"),a.join("")}function Wue(e){var t=[ri,It("comments",null,{xmlns:ry[0]})],n=[];return t.push("<authors>"),e.forEach(function(r){r[1].forEach(function(a){var i=jr(a.a);n.indexOf(i)==-1&&(n.push(i),t.push("<author>"+i+"</author>")),a.T&&a.ID&&n.indexOf("tc="+a.ID)==-1&&(n.push("tc="+a.ID),t.push("<author>tc="+a.ID+"</author>"))})}),n.length==0&&(n.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(r){var a=0,i=[];if(r[1][0]&&r[1][0].T&&r[1][0].ID?a=n.indexOf("tc="+r[1][0].ID):r[1].forEach(function(l){l.a&&(a=n.indexOf(jr(l.a))),i.push(l.t||"")}),t.push('<comment ref="'+r[0]+'" authorId="'+a+'"><text>'),i.length<=1)t.push(Xi("t",jr(i[0]||"")));else{for(var o=`Comment:
    `+i[0]+`
`,s=1;s<i.length;++s)o+=`Reply:
    `+i[s]+`
`;t.push(Xi("t",jr(o)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function JGe(e,t,n){var r=[ri,It("ThreadedComments",null,{xmlns:Si.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(a){var i="";(a[1]||[]).forEach(function(o,s){if(!o.T){delete o.ID;return}o.a&&t.indexOf(o.a)==-1&&t.push(o.a);var l={ref:a[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+n.tcid++).slice(-12)+"}"};s==0?i=l.id:l.parentId=i,o.ID=l.id,o.a&&(l.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(o.a)).slice(-12)+"}"),r.push(It("threadedComment",Xi("text",o.t||""),l))})}),r.push("</ThreadedComments>"),r.join("")}function eYe(e){var t=[ri,It("personList",null,{xmlns:Si.TCMNT,"xmlns:x":ry[0]}).replace(/[\/]>/,">")];return e.forEach(function(n,r){t.push(It("person",null,{displayName:n,id:"{54EE7950-7262-4200-6969-"+("000000000000"+r).slice(-12)+"}",userId:n,providerId:"None"}))}),t.push("</personList>"),t.join("")}function tYe(e){var t={};t.iauthor=e.read_shift(4);var n=Vm(e);return t.rfx=n.s,t.ref=Pr(n.s),e.l+=16,t}function nYe(e,t){return t==null&&(t=ot(36)),t.write_shift(4,e[1].iauthor),iy(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var rYe=Eo;function aYe(e){return ji(e.slice(0,54))}function iYe(e){var t=ls(),n=[];return vt(t,628),vt(t,630),e.forEach(function(r){r[1].forEach(function(a){n.indexOf(a.a)>-1||(n.push(a.a.slice(0,54)),vt(t,632,aYe(a.a)))})}),vt(t,631),vt(t,633),e.forEach(function(r){r[1].forEach(function(a){a.iauthor=n.indexOf(a.a);var i={s:ki(r[0]),e:ki(r[0])};vt(t,635,nYe([i,a])),a.t&&a.t.length>0&&vt(t,637,sqe(a)),vt(t,636),delete a.iauthor})}),vt(t,634),vt(t,629),t.end()}function oYe(e,t){t.FullPaths.forEach(function(n,r){if(r!=0){var a=n.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");a.slice(-1)!=="/"&&Mr.utils.cfb_add(e,a,t.FileIndex[r].content)}})}var Vue=["xlsb","xlsm","xlam","biff8","xla"],sYe=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function n(r,a,i,o){var s=!1,l=!1;i.length==0?l=!0:i.charAt(0)=="["&&(l=!0,i=i.slice(1,-1)),o.length==0?s=!0:o.charAt(0)=="["&&(s=!0,o=o.slice(1,-1));var u=i.length>0?parseInt(i,10)|0:0,d=o.length>0?parseInt(o,10)|0:0;return s?d+=t.c:--d,l?u+=t.r:--u,a+(s?"":"$")+Co(d)+(l?"":"$")+Ji(u)}return function(a,i){return t=i,a.replace(e,n)}}(),C$=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,E$=function(){return function(t,n){return t.replace(C$,function(r,a,i,o,s,l){var u=y$(o)-(i?0:n.c),d=v$(l)-(s?0:n.r),f=d==0?"":s?d+1:"["+d+"]",h=u==0?"":i?u+1:"["+u+"]";return a+"R"+f+"C"+h})}}();function lYe(e,t){return e.replace(C$,function(n,r,a,i,o,s){return r+(a=="$"?a+i:Co(y$(i)+t.c))+(o=="$"?o+s:Ji(v$(s)+t.r))})}function cYe(e){return e.length!=1}function Xa(e){e.l+=1}function bh(e,t){var n=e.read_shift(2);return[n&16383,n>>14&1,n>>15&1]}function Hue(e,t,n){var r=2;if(n){if(n.biff>=2&&n.biff<=5)return que(e);n.biff==12&&(r=4)}var a=e.read_shift(r),i=e.read_shift(r),o=bh(e),s=bh(e);return{s:{r:a,c:o[0],cRel:o[1],rRel:o[2]},e:{r:i,c:s[0],cRel:s[1],rRel:s[2]}}}function que(e){var t=bh(e),n=bh(e),r=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:r,cRel:t[1],rRel:t[2]},e:{r:n[0],c:a,cRel:n[1],rRel:n[2]}}}function uYe(e,t,n){if(n.biff<8)return que(e);var r=e.read_shift(n.biff==12?4:2),a=e.read_shift(n.biff==12?4:2),i=bh(e),o=bh(e);return{s:{r,c:i[0],cRel:i[1],rRel:i[2]},e:{r:a,c:o[0],cRel:o[1],rRel:o[2]}}}function Gue(e,t,n){if(n&&n.biff>=2&&n.biff<=5)return dYe(e);var r=e.read_shift(n&&n.biff==12?4:2),a=bh(e);return{r,c:a[0],cRel:a[1],rRel:a[2]}}function dYe(e){var t=bh(e),n=e.read_shift(1);return{r:t[0],c:n,cRel:t[1],rRel:t[2]}}function fYe(e){var t=e.read_shift(2),n=e.read_shift(2);return{r:t,c:n&255,fQuoted:!!(n&16384),cRel:n>>15,rRel:n>>15}}function hYe(e,t,n){var r=n&&n.biff?n.biff:8;if(r>=2&&r<=5)return pYe(e);var a=e.read_shift(r>=12?4:2),i=e.read_shift(2),o=(i&16384)>>14,s=(i&32768)>>15;if(i&=16383,s==1)for(;a>524287;)a-=1048576;if(o==1)for(;i>8191;)i=i-16384;return{r:a,c:i,cRel:o,rRel:s}}function pYe(e){var t=e.read_shift(2),n=e.read_shift(1),r=(t&32768)>>15,a=(t&16384)>>14;return t&=16383,r==1&&t>=8192&&(t=t-16384),a==1&&n>=128&&(n=n-256),{r:t,c:n,cRel:a,rRel:r}}function mYe(e,t,n){var r=(e[e.l++]&96)>>5,a=Hue(e,n.biff>=2&&n.biff<=5?6:8,n);return[r,a]}function gYe(e,t,n){var r=(e[e.l++]&96)>>5,a=e.read_shift(2,"i"),i=8;if(n)switch(n.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}var o=Hue(e,i,n);return[r,a,o]}function vYe(e,t,n){var r=(e[e.l++]&96)>>5;return e.l+=n&&n.biff>8?12:n.biff<8?6:8,[r]}function yYe(e,t,n){var r=(e[e.l++]&96)>>5,a=e.read_shift(2),i=8;if(n)switch(n.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}return e.l+=i,[r,a]}function xYe(e,t,n){var r=(e[e.l++]&96)>>5,a=uYe(e,t-1,n);return[r,a]}function bYe(e,t,n){var r=(e[e.l++]&96)>>5;return e.l+=n.biff==2?6:n.biff==12?14:7,[r]}function SG(e){var t=e[e.l+1]&1,n=1;return e.l+=4,[t,n]}function wYe(e,t,n){e.l+=2;for(var r=e.read_shift(n&&n.biff==2?1:2),a=[],i=0;i<=r;++i)a.push(e.read_shift(n&&n.biff==2?1:2));return a}function _Ye(e,t,n){var r=e[e.l+1]&255?1:0;return e.l+=2,[r,e.read_shift(n&&n.biff==2?1:2)]}function SYe(e,t,n){var r=e[e.l+1]&255?1:0;return e.l+=2,[r,e.read_shift(n&&n.biff==2?1:2)]}function CYe(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function EYe(e,t,n){var r=e[e.l+1]&255?1:0;return e.l+=n&&n.biff==2?3:4,[r]}function Yue(e){var t=e.read_shift(1),n=e.read_shift(1);return[t,n]}function NYe(e){return e.read_shift(2),Yue(e)}function kYe(e){return e.read_shift(2),Yue(e)}function jYe(e,t,n){var r=(e[e.l]&96)>>5;e.l+=1;var a=Gue(e,0,n);return[r,a]}function TYe(e,t,n){var r=(e[e.l]&96)>>5;e.l+=1;var a=hYe(e,0,n);return[r,a]}function PYe(e,t,n){var r=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(2);n&&n.biff==5&&(e.l+=12);var i=Gue(e,0,n);return[r,a,i]}function AYe(e,t,n){var r=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(n&&n.biff<=3?1:2);return[AKe[a],Zue[a],r]}function DYe(e,t,n){var r=e[e.l++],a=e.read_shift(1),i=n&&n.biff<=3?[r==88?-1:0,e.read_shift(1)]:OYe(e);return[a,(i[0]===0?Zue:PKe)[i[1]]]}function OYe(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function MYe(e,t,n){e.l+=n&&n.biff==2?3:4}function IYe(e,t,n){if(e.l++,n&&n.biff==12)return[e.read_shift(4,"i"),0];var r=e.read_shift(2),a=e.read_shift(n&&n.biff==2?1:2);return[r,a]}function RYe(e){return e.l++,p2[e.read_shift(1)]}function FYe(e){return e.l++,e.read_shift(2)}function LYe(e){return e.l++,e.read_shift(1)!==0}function $Ye(e){return e.l++,oy(e)}function BYe(e,t,n){return e.l++,Pue(e,t-1,n)}function zYe(e,t){var n=[e.read_shift(1)];if(t==12)switch(n[0]){case 2:n[0]=4;break;case 4:n[0]=16;break;case 0:n[0]=1;break;case 1:n[0]=2;break}switch(n[0]){case 4:n[1]=Pqe(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:n[1]=p2[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:n[1]=oy(e);break;case 2:n[1]=Mqe(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+n[0])}return n}function UYe(e,t,n){for(var r=e.read_shift(n.biff==12?4:2),a=[],i=0;i!=r;++i)a.push((n.biff==12?Vm:Fqe)(e));return a}function WYe(e,t,n){var r=0,a=0;n.biff==12?(r=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),r=1+e.read_shift(2)),n.biff>=2&&n.biff<8&&(--r,--a==0&&(a=256));for(var i=0,o=[];i!=r&&(o[i]=[]);++i)for(var s=0;s!=a;++s)o[i][s]=zYe(e,n.biff);return o}function VYe(e,t,n){var r=e.read_shift(1)>>>5&3,a=!n||n.biff>=8?4:2,i=e.read_shift(a);switch(n.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[r,0,i]}function HYe(e,t,n){if(n.biff==5)return qYe(e);var r=e.read_shift(1)>>>5&3,a=e.read_shift(2),i=e.read_shift(4);return[r,a,i]}function qYe(e){var t=e.read_shift(1)>>>5&3,n=e.read_shift(2,"i");e.l+=8;var r=e.read_shift(2);return e.l+=12,[t,n,r]}function GYe(e,t,n){var r=e.read_shift(1)>>>5&3;e.l+=n&&n.biff==2?3:4;var a=e.read_shift(n&&n.biff==2?1:2);return[r,a]}function YYe(e,t,n){var r=e.read_shift(1)>>>5&3,a=e.read_shift(n&&n.biff==2?1:2);return[r,a]}function KYe(e,t,n){var r=e.read_shift(1)>>>5&3;return e.l+=4,n.biff<8&&e.l--,n.biff==12&&(e.l+=2),[r]}function XYe(e,t,n){var r=(e[e.l++]&96)>>5,a=e.read_shift(2),i=4;if(n)switch(n.biff){case 5:i=15;break;case 12:i=6;break}return e.l+=i,[r,a]}var ZYe=Tu,QYe=Tu,JYe=Tu;function m2(e,t,n){return e.l+=2,[fYe(e)]}function N$(e){return e.l+=6,[]}var eKe=m2,tKe=N$,nKe=N$,rKe=m2;function Kue(e){return e.l+=2,[jue(e),e.read_shift(2)&1]}var aKe=m2,iKe=Kue,oKe=N$,sKe=m2,lKe=m2,cKe=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function uKe(e){e.l+=2;var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(4),a=e.read_shift(2),i=e.read_shift(2),o=cKe[n>>2&31];return{ixti:t,coltype:n&3,rt:o,idx:r,c:a,C:i}}function dKe(e){return e.l+=2,[e.read_shift(4)]}function fKe(e,t,n){return e.l+=5,e.l+=2,e.l+=n.biff==2?1:4,["PTGSHEET"]}function hKe(e,t,n){return e.l+=n.biff==2?4:5,["PTGENDSHEET"]}function pKe(e){var t=e.read_shift(1)>>>5&3,n=e.read_shift(2);return[t,n]}function mKe(e){var t=e.read_shift(1)>>>5&3,n=e.read_shift(2);return[t,n]}function gKe(e){return e.l+=4,[0,0]}var CG={1:{n:"PtgExp",f:IYe},2:{n:"PtgTbl",f:JYe},3:{n:"PtgAdd",f:Xa},4:{n:"PtgSub",f:Xa},5:{n:"PtgMul",f:Xa},6:{n:"PtgDiv",f:Xa},7:{n:"PtgPower",f:Xa},8:{n:"PtgConcat",f:Xa},9:{n:"PtgLt",f:Xa},10:{n:"PtgLe",f:Xa},11:{n:"PtgEq",f:Xa},12:{n:"PtgGe",f:Xa},13:{n:"PtgGt",f:Xa},14:{n:"PtgNe",f:Xa},15:{n:"PtgIsect",f:Xa},16:{n:"PtgUnion",f:Xa},17:{n:"PtgRange",f:Xa},18:{n:"PtgUplus",f:Xa},19:{n:"PtgUminus",f:Xa},20:{n:"PtgPercent",f:Xa},21:{n:"PtgParen",f:Xa},22:{n:"PtgMissArg",f:Xa},23:{n:"PtgStr",f:BYe},26:{n:"PtgSheet",f:fKe},27:{n:"PtgEndSheet",f:hKe},28:{n:"PtgErr",f:RYe},29:{n:"PtgBool",f:LYe},30:{n:"PtgInt",f:FYe},31:{n:"PtgNum",f:$Ye},32:{n:"PtgArray",f:bYe},33:{n:"PtgFunc",f:AYe},34:{n:"PtgFuncVar",f:DYe},35:{n:"PtgName",f:VYe},36:{n:"PtgRef",f:jYe},37:{n:"PtgArea",f:mYe},38:{n:"PtgMemArea",f:GYe},39:{n:"PtgMemErr",f:ZYe},40:{n:"PtgMemNoMem",f:QYe},41:{n:"PtgMemFunc",f:YYe},42:{n:"PtgRefErr",f:KYe},43:{n:"PtgAreaErr",f:vYe},44:{n:"PtgRefN",f:TYe},45:{n:"PtgAreaN",f:xYe},46:{n:"PtgMemAreaN",f:pKe},47:{n:"PtgMemNoMemN",f:mKe},57:{n:"PtgNameX",f:HYe},58:{n:"PtgRef3d",f:PYe},59:{n:"PtgArea3d",f:gYe},60:{n:"PtgRefErr3d",f:XYe},61:{n:"PtgAreaErr3d",f:yYe},255:{}},vKe={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},yKe={1:{n:"PtgElfLel",f:Kue},2:{n:"PtgElfRw",f:sKe},3:{n:"PtgElfCol",f:eKe},6:{n:"PtgElfRwV",f:lKe},7:{n:"PtgElfColV",f:rKe},10:{n:"PtgElfRadical",f:aKe},11:{n:"PtgElfRadicalS",f:oKe},13:{n:"PtgElfColS",f:tKe},15:{n:"PtgElfColSV",f:nKe},16:{n:"PtgElfRadicalLel",f:iKe},25:{n:"PtgList",f:uKe},29:{n:"PtgSxName",f:dKe},255:{}},xKe={0:{n:"PtgAttrNoop",f:gKe},1:{n:"PtgAttrSemi",f:EYe},2:{n:"PtgAttrIf",f:SYe},4:{n:"PtgAttrChoose",f:wYe},8:{n:"PtgAttrGoto",f:_Ye},16:{n:"PtgAttrSum",f:MYe},32:{n:"PtgAttrBaxcel",f:SG},33:{n:"PtgAttrBaxcel",f:SG},64:{n:"PtgAttrSpace",f:NYe},65:{n:"PtgAttrSpaceSemi",f:kYe},128:{n:"PtgAttrIfError",f:CYe},255:{}};function bKe(e,t,n,r){if(r.biff<8)return Tu(e,t);for(var a=e.l+t,i=[],o=0;o!==n.length;++o)switch(n[o][0]){case"PtgArray":n[o][1]=WYe(e,0,r),i.push(n[o][1]);break;case"PtgMemArea":n[o][2]=UYe(e,n[o][1],r),i.push(n[o][2]);break;case"PtgExp":r&&r.biff==12&&(n[o][1][1]=e.read_shift(4),i.push(n[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+n[o][0]}return t=a-e.l,t!==0&&i.push(Tu(e,t)),i}function wKe(e,t,n){for(var r=e.l+t,a,i,o=[];r!=e.l;)t=r-e.l,i=e[e.l],a=CG[i]||CG[vKe[i]],(i===24||i===25)&&(a=(i===24?yKe:xKe)[e[e.l+1]]),!a||!a.f?Tu(e,t):o.push([a.n,a.f(e,t,n)]);return o}function _Ke(e){for(var t=[],n=0;n<e.length;++n){for(var r=e[n],a=[],i=0;i<r.length;++i){var o=r[i];if(o)switch(o[0]){case 2:a.push('"'+o[1].replace(/"/g,'""')+'"');break;default:a.push(o[1])}else a.push("")}t.push(a.join(","))}return t.join(";")}var SKe={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function CKe(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function Xue(e,t,n){if(!e)return"SH33TJSERR0";if(n.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var r=e.XTI[t];if(n.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!r)return"SH33TJSERR1";var a="";if(n.biff>8)switch(e[r[0]][0]){case 357:return a=r[1]==-1?"#REF":e.SheetNames[r[1]],r[1]==r[2]?a:a+":"+e.SheetNames[r[2]];case 358:return n.SID!=null?e.SheetNames[n.SID]:"SH33TJSSAME"+e[r[0]][0];case 355:default:return"SH33TJSSRC"+e[r[0]][0]}switch(e[r[0]][0][0]){case 1025:return a=r[1]==-1?"#REF":e.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?a:a+":"+e.SheetNames[r[2]];case 14849:return e[r[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return e[r[0]][0][3]?(a=r[1]==-1?"#REF":e[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?a:a+":"+e[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function EG(e,t,n){var r=Xue(e,t,n);return r=="#REF"?r:CKe(r,n)}function f0(e,t,n,r,a){var i=a&&a.biff||8,o={s:{c:0,r:0}},s=[],l,u,d,f=0,h=0,p,m="";if(!e[0]||!e[0][0])return"";for(var g=-1,y="",x=0,b=e[0].length;x<b;++x){var w=e[0][x];switch(w[0]){case"PtgUminus":s.push("-"+s.pop());break;case"PtgUplus":s.push("+"+s.pop());break;case"PtgPercent":s.push(s.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=s.pop(),u=s.pop(),g>=0){switch(e[0][g][1][0]){case 0:y=Ia(" ",e[0][g][1][1]);break;case 1:y=Ia("\r",e[0][g][1][1]);break;default:if(y="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][g][1][0])}u=u+y,g=-1}s.push(u+SKe[w[0]]+l);break;case"PtgIsect":l=s.pop(),u=s.pop(),s.push(u+" "+l);break;case"PtgUnion":l=s.pop(),u=s.pop(),s.push(u+","+l);break;case"PtgRange":l=s.pop(),u=s.pop(),s.push(u+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":d=S1(w[1][1],o,a),s.push(C1(d,i));break;case"PtgRefN":d=n?S1(w[1][1],n,a):w[1][1],s.push(C1(d,i));break;case"PtgRef3d":f=w[1][1],d=S1(w[1][2],o,a),m=EG(r,f,a),s.push(m+"!"+C1(d,i));break;case"PtgFunc":case"PtgFuncVar":var _=w[1][0],S=w[1][1];_||(_=0),_&=127;var k=_==0?[]:s.slice(-_);s.length-=_,S==="User"&&(S=k.shift()),s.push(S+"("+k.join(",")+")");break;case"PtgBool":s.push(w[1]?"TRUE":"FALSE");break;case"PtgInt":s.push(w[1]);break;case"PtgNum":s.push(String(w[1]));break;case"PtgStr":s.push('"'+w[1].replace(/"/g,'""')+'"');break;case"PtgErr":s.push(w[1]);break;case"PtgAreaN":p=cG(w[1][1],n?{s:n}:o,a),s.push(sD(p,a));break;case"PtgArea":p=cG(w[1][1],o,a),s.push(sD(p,a));break;case"PtgArea3d":f=w[1][1],p=w[1][2],m=EG(r,f,a),s.push(m+"!"+sD(p,a));break;case"PtgAttrSum":s.push("SUM("+s.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":h=w[1][2];var N=(r.names||[])[h-1]||(r[0]||[])[h],P=N?N.Name:"SH33TJSNAME"+String(h);P&&P.slice(0,6)=="_xlfn."&&!a.xlfn&&(P=P.slice(6)),s.push(P);break;case"PtgNameX":var T=w[1][1];h=w[1][2];var j;if(a.biff<=5)T<0&&(T=-T),r[T]&&(j=r[T][h]);else{var D="";if(((r[T]||[])[0]||[])[0]==14849||(((r[T]||[])[0]||[])[0]==1025?r[T][h]&&r[T][h].itab>0&&(D=r.SheetNames[r[T][h].itab-1]+"!"):D=r.SheetNames[h-1]+"!"),r[T]&&r[T][h])D+=r[T][h].Name;else if(r[0]&&r[0][h])D+=r[0][h].Name;else{var M=(Xue(r,T,a)||"").split(";;");M[h-1]?D=M[h-1]:D+="SH33TJSERRX"}s.push(D);break}j||(j={Name:"SH33TJSERRY"}),s.push(j.Name);break;case"PtgParen":var R="(",W=")";if(g>=0){switch(y="",e[0][g][1][0]){case 2:R=Ia(" ",e[0][g][1][1])+R;break;case 3:R=Ia("\r",e[0][g][1][1])+R;break;case 4:W=Ia(" ",e[0][g][1][1])+W;break;case 5:W=Ia("\r",e[0][g][1][1])+W;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][g][1][0])}g=-1}s.push(R+s.pop()+W);break;case"PtgRefErr":s.push("#REF!");break;case"PtgRefErr3d":s.push("#REF!");break;case"PtgExp":d={c:w[1][1],r:w[1][0]};var B={c:n.c,r:n.r};if(r.sharedf[Pr(d)]){var V=r.sharedf[Pr(d)];s.push(f0(V,o,B,r,a))}else{var q=!1;for(l=0;l!=r.arrayf.length;++l)if(u=r.arrayf[l],!(d.c<u[0].s.c||d.c>u[0].e.c)&&!(d.r<u[0].s.r||d.r>u[0].e.r)){s.push(f0(u[1],o,B,r,a)),q=!0;break}q||s.push(w[1])}break;case"PtgArray":s.push("{"+_Ke(w[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":g=x;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":s.push("");break;case"PtgAreaErr":s.push("#REF!");break;case"PtgAreaErr3d":s.push("#REF!");break;case"PtgList":s.push("Table"+w[1].idx+"[#"+w[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(w));default:throw new Error("Unrecognized Formula Token: "+String(w))}var I=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&g>=0&&I.indexOf(e[0][x][0])==-1){w=e[0][g];var O=!0;switch(w[1][0]){case 4:O=!1;case 0:y=Ia(" ",w[1][1]);break;case 5:O=!1;case 1:y=Ia("\r",w[1][1]);break;default:if(y="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+w[1][0])}s.push((O?y:"")+s.pop()+(O?"":y)),g=-1}}if(s.length>1&&a.WTF)throw new Error("bad formula stack");return s[0]}function EKe(e){if(e==null){var t=ot(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return _m(e);return _m(0)}function NKe(e,t,n,r,a){var i=Sm(t,n,a),o=EKe(e.v),s=ot(6),l=33;s.write_shift(2,l),s.write_shift(4,0);for(var u=ot(e.bf.length),d=0;d<e.bf.length;++d)u[d]=e.bf[d];var f=Ki([i,o,s,u]);return f}function AT(e,t,n){var r=e.read_shift(4),a=wKe(e,r,n),i=e.read_shift(4),o=i>0?bKe(e,i,a,n):null;return[a,o]}var kKe=AT,DT=AT,jKe=AT,TKe=AT,PKe={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},Zue={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},AKe={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function DKe(e){var t="of:="+e.replace(C$,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function OKe(e){return e.replace(/\./,"!")}var E1=typeof Map<"u";function k$(e,t,n){var r=0,a=e.length;if(n){if(E1?n.has(t):Object.prototype.hasOwnProperty.call(n,t)){for(var i=E1?n.get(t):n[t];r<i.length;++r)if(e[i[r]].t===t)return e.Count++,i[r]}}else for(;r<a;++r)if(e[r].t===t)return e.Count++,r;return e[a]={t},e.Count++,e.Unique++,n&&(E1?(n.has(t)||n.set(t,[]),n.get(t).push(a)):(Object.prototype.hasOwnProperty.call(n,t)||(n[t]=[]),n[t].push(a))),a}function OT(e,t){var n={min:e+1,max:e+1},r=-1;return t.MDW&&(xd=t.MDW),t.width!=null?n.customWidth=1:t.wpx!=null?r=cN(t.wpx):t.wch!=null&&(r=t.wch),r>-1?(n.width=sI(r),n.customWidth=1):t.width!=null&&(n.width=t.width),t.hidden&&(n.hidden=!0),t.level!=null&&(n.outlineLevel=n.level=t.level),n}function Que(e,t){if(e){var n=[.7,.7,.75,.75,.3,.3];e.left==null&&(e.left=n[0]),e.right==null&&(e.right=n[1]),e.top==null&&(e.top=n[2]),e.bottom==null&&(e.bottom=n[3]),e.header==null&&(e.header=n[4]),e.footer==null&&(e.footer=n[5])}}function Ih(e,t,n){var r=n.revssf[t.z!=null?t.z:"General"],a=60,i=e.length;if(r==null&&n.ssf){for(;a<392;++a)if(n.ssf[a]==null){Gce(t.z,a),n.ssf[a]=t.z,n.revssf[t.z]=r=a;break}}for(a=0;a!=i;++a)if(e[a].numFmtId===r)return a;return e[i]={numFmtId:r,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},i}function MKe(e,t,n){if(e&&e["!ref"]){var r=sa(e["!ref"]);if(r.e.c<r.s.c||r.e.r<r.s.r)throw new Error("Bad range ("+n+"): "+e["!ref"])}}function IKe(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',n=0;n!=e.length;++n)t+='<mergeCell ref="'+ti(e[n])+'"/>';return t+"</mergeCells>"}function RKe(e,t,n,r,a){var i=!1,o={},s=null;if(r.bookType!=="xlsx"&&t.vbaraw){var l=t.SheetNames[n];try{t.Workbook&&(l=t.Workbook.Sheets[n].CodeName||l)}catch{}i=!0,o.codeName=Ub(jr(l))}if(e&&e["!outline"]){var u={summaryBelow:1,summaryRight:1};e["!outline"].above&&(u.summaryBelow=0),e["!outline"].left&&(u.summaryRight=0),s=(s||"")+It("outlinePr",null,u)}!i&&!s||(a[a.length]=It("sheetPr",s,o))}var FKe=["objects","scenarios","selectLockedCells","selectUnlockedCells"],LKe=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function $Ke(e){var t={sheet:1};return FKe.forEach(function(n){e[n]!=null&&e[n]&&(t[n]="1")}),LKe.forEach(function(n){e[n]!=null&&!e[n]&&(t[n]="0")}),e.password&&(t.password=Iue(e.password).toString(16).toUpperCase()),It("sheetProtection",null,t)}function BKe(e){return Que(e),It("pageMargins",null,e)}function zKe(e,t){for(var n=["<cols>"],r,a=0;a!=t.length;++a)(r=t[a])&&(n[n.length]=It("col",null,OT(a,r)));return n[n.length]="</cols>",n.join("")}function UKe(e,t,n,r){var a=typeof e.ref=="string"?e.ref:ti(e.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var i=n.Workbook.Names,o=Us(a);o.s.r==o.e.r&&(o.e.r=Us(t["!ref"]).e.r,a=ti(o));for(var s=0;s<i.length;++s){var l=i[s];if(l.Name=="_xlnm._FilterDatabase"&&l.Sheet==r){l.Ref="'"+n.SheetNames[r]+"'!"+a;break}}return s==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+n.SheetNames[r]+"'!"+a}),It("autoFilter",null,{ref:a})}function WKe(e,t,n,r){var a={workbookViewId:"0"};return(((r||{}).Workbook||{}).Views||[])[0]&&(a.rightToLeft=r.Workbook.Views[0].RTL?"1":"0"),It("sheetViews",It("sheetView",null,a),{})}function VKe(e,t,n,r){if(e.c&&n["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var a="",i=e.t,o=e.v;if(e.t!=="z")switch(e.t){case"b":a=e.v?"1":"0";break;case"n":a=""+e.v;break;case"e":a=p2[e.v];break;case"d":r&&r.cellDates?a=Bo(e.v,-1).toISOString():(e=hs(e),e.t="n",a=""+(e.v=fs(Bo(e.v)))),typeof e.z>"u"&&(e.z=$a[14]);break;default:a=e.v;break}var s=Xi("v",jr(a)),l={r:t},u=Ih(r.cellXfs,e,r);switch(u!==0&&(l.s=u),e.t){case"n":break;case"d":l.t="d";break;case"b":l.t="b";break;case"e":l.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(r&&r.bookSST){s=Xi("v",""+k$(r.Strings,e.v,r.revStrings)),l.t="s";break}l.t="str";break}if(e.t!=i&&(e.t=i,e.v=o),typeof e.f=="string"&&e.f){var d=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;s=It("f",jr(e.f),d)+(e.v!=null?s:"")}return e.l&&n["!links"].push([t,e.l]),e.D&&(l.cm=1),It("c",s,l)}function HKe(e,t,n,r){var a=[],i=[],o=sa(e["!ref"]),s="",l,u="",d=[],f=0,h=0,p=e["!rows"],m=Array.isArray(e),g={r:u},y,x=-1;for(h=o.s.c;h<=o.e.c;++h)d[h]=Co(h);for(f=o.s.r;f<=o.e.r;++f){for(i=[],u=Ji(f),h=o.s.c;h<=o.e.c;++h){l=d[h]+u;var b=m?(e[f]||[])[h]:e[l];b!==void 0&&(s=VKe(b,l,e,t))!=null&&i.push(s)}(i.length>0||p&&p[f])&&(g={r:u},p&&p[f]&&(y=p[f],y.hidden&&(g.hidden=1),x=-1,y.hpx?x=uN(y.hpx):y.hpt&&(x=y.hpt),x>-1&&(g.ht=x,g.customHeight=1),y.level&&(g.outlineLevel=y.level)),a[a.length]=It("row",i.join(""),g))}if(p)for(;f<p.length;++f)p&&p[f]&&(g={r:f+1},y=p[f],y.hidden&&(g.hidden=1),x=-1,y.hpx?x=uN(y.hpx):y.hpt&&(x=y.hpt),x>-1&&(g.ht=x,g.customHeight=1),y.level&&(g.outlineLevel=y.level),a[a.length]=It("row","",g));return a.join("")}function Jue(e,t,n,r){var a=[ri,It("worksheet",null,{xmlns:ry[0],"xmlns:r":Si.r})],i=n.SheetNames[e],o=0,s="",l=n.Sheets[i];l==null&&(l={});var u=l["!ref"]||"A1",d=sa(u);if(d.e.c>16383||d.e.r>1048575){if(t.WTF)throw new Error("Range "+u+" exceeds format limit A1:XFD1048576");d.e.c=Math.min(d.e.c,16383),d.e.r=Math.min(d.e.c,1048575),u=ti(d)}r||(r={}),l["!comments"]=[];var f=[];RKe(l,n,e,t,a),a[a.length]=It("dimension",null,{ref:u}),a[a.length]=WKe(l,t,e,n),t.sheetFormat&&(a[a.length]=It("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),l["!cols"]!=null&&l["!cols"].length>0&&(a[a.length]=zKe(l,l["!cols"])),a[o=a.length]="<sheetData/>",l["!links"]=[],l["!ref"]!=null&&(s=HKe(l,t),s.length>0&&(a[a.length]=s)),a.length>o+1&&(a[a.length]="</sheetData>",a[o]=a[o].replace("/>",">")),l["!protect"]&&(a[a.length]=$Ke(l["!protect"])),l["!autofilter"]!=null&&(a[a.length]=UKe(l["!autofilter"],l,n,e)),l["!merges"]!=null&&l["!merges"].length>0&&(a[a.length]=IKe(l["!merges"]));var h=-1,p,m=-1;return l["!links"].length>0&&(a[a.length]="<hyperlinks>",l["!links"].forEach(function(g){g[1].Target&&(p={ref:g[0]},g[1].Target.charAt(0)!="#"&&(m=Er(r,-1,jr(g[1].Target).replace(/#.*$/,""),fr.HLINK),p["r:id"]="rId"+m),(h=g[1].Target.indexOf("#"))>-1&&(p.location=jr(g[1].Target.slice(h+1))),g[1].Tooltip&&(p.tooltip=jr(g[1].Tooltip)),a[a.length]=It("hyperlink",null,p))}),a[a.length]="</hyperlinks>"),delete l["!links"],l["!margins"]!=null&&(a[a.length]=BKe(l["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(a[a.length]=Xi("ignoredErrors",It("ignoredError",null,{numberStoredAsText:1,sqref:u}))),f.length>0&&(m=Er(r,-1,"../drawings/drawing"+(e+1)+".xml",fr.DRAW),a[a.length]=It("drawing",null,{"r:id":"rId"+m}),l["!drawing"]=f),l["!comments"].length>0&&(m=Er(r,-1,"../drawings/vmlDrawing"+(e+1)+".vml",fr.VML),a[a.length]=It("legacyDrawing",null,{"r:id":"rId"+m}),l["!legacy"]=m),a.length>1&&(a[a.length]="</worksheet>",a[1]=a[1].replace("/>",">")),a.join("")}function qKe(e,t){var n={},r=e.l+t;n.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=r,i&7&&(n.level=i&7),i&16&&(n.hidden=!0),i&32&&(n.hpt=a/20),n}function GKe(e,t,n){var r=ot(145),a=(n["!rows"]||[])[e]||{};r.write_shift(4,e),r.write_shift(4,0);var i=320;a.hpx?i=uN(a.hpx)*20:a.hpt&&(i=a.hpt*20),r.write_shift(2,i),r.write_shift(1,0);var o=0;a.level&&(o|=a.level),a.hidden&&(o|=16),(a.hpx||a.hpt)&&(o|=32),r.write_shift(1,o),r.write_shift(1,0);var s=0,l=r.l;r.l+=4;for(var u={r:e,c:0},d=0;d<16;++d)if(!(t.s.c>d+1<<10||t.e.c<d<<10)){for(var f=-1,h=-1,p=d<<10;p<d+1<<10;++p){u.c=p;var m=Array.isArray(n)?(n[u.r]||[])[u.c]:n[Pr(u)];m&&(f<0&&(f=p),h=p)}f<0||(++s,r.write_shift(4,f),r.write_shift(4,h))}var g=r.l;return r.l=l,r.write_shift(4,s),r.l=g,r.length>r.l?r.slice(0,r.l):r}function YKe(e,t,n,r){var a=GKe(r,n,t);(a.length>17||(t["!rows"]||[])[r])&&vt(e,0,a)}var KKe=Vm,XKe=iy;function ZKe(){}function QKe(e,t){var n={},r=e[e.l];return++e.l,n.above=!(r&64),n.left=!(r&128),e.l+=18,n.name=lqe(e),n}function JKe(e,t,n){n==null&&(n=ot(84+4*e.length));var r=192;t&&(t.above&&(r&=-65),t.left&&(r&=-129)),n.write_shift(1,r);for(var a=1;a<3;++a)n.write_shift(1,0);return oN({auto:1},n),n.write_shift(-4,-1),n.write_shift(-4,-1),pue(e,n),n.slice(0,n.l)}function eXe(e){var t=Fl(e);return[t]}function tXe(e,t,n){return n==null&&(n=ot(8)),zm(t,n)}function nXe(e){var t=Um(e);return[t]}function rXe(e,t,n){return n==null&&(n=ot(4)),Wm(t,n)}function aXe(e){var t=Fl(e),n=e.read_shift(1);return[t,n,"b"]}function iXe(e,t,n){return n==null&&(n=ot(9)),zm(t,n),n.write_shift(1,e.v?1:0),n}function oXe(e){var t=Um(e),n=e.read_shift(1);return[t,n,"b"]}function sXe(e,t,n){return n==null&&(n=ot(5)),Wm(t,n),n.write_shift(1,e.v?1:0),n}function lXe(e){var t=Fl(e),n=e.read_shift(1);return[t,n,"e"]}function cXe(e,t,n){return n==null&&(n=ot(9)),zm(t,n),n.write_shift(1,e.v),n}function uXe(e){var t=Um(e),n=e.read_shift(1);return[t,n,"e"]}function dXe(e,t,n){return n==null&&(n=ot(8)),Wm(t,n),n.write_shift(1,e.v),n.write_shift(2,0),n.write_shift(1,0),n}function fXe(e){var t=Fl(e),n=e.read_shift(4);return[t,n,"s"]}function hXe(e,t,n){return n==null&&(n=ot(12)),zm(t,n),n.write_shift(4,t.v),n}function pXe(e){var t=Um(e),n=e.read_shift(4);return[t,n,"s"]}function mXe(e,t,n){return n==null&&(n=ot(8)),Wm(t,n),n.write_shift(4,t.v),n}function gXe(e){var t=Fl(e),n=oy(e);return[t,n,"n"]}function vXe(e,t,n){return n==null&&(n=ot(16)),zm(t,n),_m(e.v,n),n}function yXe(e){var t=Um(e),n=oy(e);return[t,n,"n"]}function xXe(e,t,n){return n==null&&(n=ot(12)),Wm(t,n),_m(e.v,n),n}function bXe(e){var t=Fl(e),n=mue(e);return[t,n,"n"]}function wXe(e,t,n){return n==null&&(n=ot(12)),zm(t,n),gue(e.v,n),n}function _Xe(e){var t=Um(e),n=mue(e);return[t,n,"n"]}function SXe(e,t,n){return n==null&&(n=ot(8)),Wm(t,n),gue(e.v,n),n}function CXe(e){var t=Fl(e),n=x$(e);return[t,n,"is"]}function EXe(e){var t=Fl(e),n=Eo(e);return[t,n,"str"]}function NXe(e,t,n){return n==null&&(n=ot(12+4*e.v.length)),zm(t,n),ji(e.v,n),n.length>n.l?n.slice(0,n.l):n}function kXe(e){var t=Um(e),n=Eo(e);return[t,n,"str"]}function jXe(e,t,n){return n==null&&(n=ot(8+4*e.v.length)),Wm(t,n),ji(e.v,n),n.length>n.l?n.slice(0,n.l):n}function TXe(e,t,n){var r=e.l+t,a=Fl(e);a.r=n["!row"];var i=e.read_shift(1),o=[a,i,"b"];if(n.cellFormula){e.l+=2;var s=DT(e,r-e.l,n);o[3]=f0(s,null,a,n.supbooks,n)}else e.l=r;return o}function PXe(e,t,n){var r=e.l+t,a=Fl(e);a.r=n["!row"];var i=e.read_shift(1),o=[a,i,"e"];if(n.cellFormula){e.l+=2;var s=DT(e,r-e.l,n);o[3]=f0(s,null,a,n.supbooks,n)}else e.l=r;return o}function AXe(e,t,n){var r=e.l+t,a=Fl(e);a.r=n["!row"];var i=oy(e),o=[a,i,"n"];if(n.cellFormula){e.l+=2;var s=DT(e,r-e.l,n);o[3]=f0(s,null,a,n.supbooks,n)}else e.l=r;return o}function DXe(e,t,n){var r=e.l+t,a=Fl(e);a.r=n["!row"];var i=Eo(e),o=[a,i,"str"];if(n.cellFormula){e.l+=2;var s=DT(e,r-e.l,n);o[3]=f0(s,null,a,n.supbooks,n)}else e.l=r;return o}var OXe=Vm,MXe=iy;function IXe(e,t){return t==null&&(t=ot(4)),t.write_shift(4,e),t}function RXe(e,t){var n=e.l+t,r=Vm(e),a=b$(e),i=Eo(e),o=Eo(e),s=Eo(e);e.l=n;var l={rfx:r,relId:a,loc:i,display:s};return o&&(l.Tooltip=o),l}function FXe(e,t){var n=ot(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));iy({s:ki(e[0]),e:ki(e[0])},n),w$("rId"+t,n);var r=e[1].Target.indexOf("#"),a=r==-1?"":e[1].Target.slice(r+1);return ji(a||"",n),ji(e[1].Tooltip||"",n),ji("",n),n.slice(0,n.l)}function LXe(){}function $Xe(e,t,n){var r=e.l+t,a=vue(e),i=e.read_shift(1),o=[a];if(o[2]=i,n.cellFormula){var s=kKe(e,r-e.l,n);o[1]=s}else e.l=r;return o}function BXe(e,t,n){var r=e.l+t,a=Vm(e),i=[a];if(n.cellFormula){var o=TKe(e,r-e.l,n);i[1]=o,e.l=r}else e.l=r;return i}function zXe(e,t,n){n==null&&(n=ot(18));var r=OT(e,t);n.write_shift(-4,e),n.write_shift(-4,e),n.write_shift(4,(r.width||10)*256),n.write_shift(4,0);var a=0;return t.hidden&&(a|=1),typeof r.width=="number"&&(a|=2),t.level&&(a|=t.level<<8),n.write_shift(2,a),n}var ede=["left","right","top","bottom","header","footer"];function UXe(e){var t={};return ede.forEach(function(n){t[n]=oy(e)}),t}function WXe(e,t){return t==null&&(t=ot(6*8)),Que(e),ede.forEach(function(n){_m(e[n],t)}),t}function VXe(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function HXe(e,t,n){n==null&&(n=ot(30));var r=924;return(((t||{}).Views||[])[0]||{}).RTL&&(r|=32),n.write_shift(2,r),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(2,0),n.write_shift(2,100),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(4,0),n}function qXe(e){var t=ot(24);return t.write_shift(4,4),t.write_shift(4,1),iy(e,t),t}function GXe(e,t){return t==null&&(t=ot(16*4+2)),t.write_shift(2,e.password?Iue(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(n){n[1]?t.write_shift(4,e[n[0]]!=null&&!e[n[0]]?1:0):t.write_shift(4,e[n[0]]!=null&&e[n[0]]?0:1)}),t}function YXe(){}function KXe(){}function XXe(e,t,n,r,a,i,o){if(t.v===void 0)return!1;var s="";switch(t.t){case"b":s=t.v?"1":"0";break;case"d":t=hs(t),t.z=t.z||$a[14],t.v=fs(Bo(t.v)),t.t="n";break;case"n":case"e":s=""+t.v;break;default:s=t.v;break}var l={r:n,c:r};switch(l.s=Ih(a.cellXfs,t,a),t.l&&i["!links"].push([Pr(l),t.l]),t.c&&i["!comments"].push([Pr(l),t.c]),t.t){case"s":case"str":return a.bookSST?(s=k$(a.Strings,t.v,a.revStrings),l.t="s",l.v=s,o?vt(e,18,mXe(t,l)):vt(e,7,hXe(t,l))):(l.t="str",o?vt(e,17,jXe(t,l)):vt(e,6,NXe(t,l))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?o?vt(e,13,SXe(t,l)):vt(e,2,wXe(t,l)):o?vt(e,16,xXe(t,l)):vt(e,5,vXe(t,l)),!0;case"b":return l.t="b",o?vt(e,15,sXe(t,l)):vt(e,4,iXe(t,l)),!0;case"e":return l.t="e",o?vt(e,14,dXe(t,l)):vt(e,3,cXe(t,l)),!0}return o?vt(e,12,rXe(t,l)):vt(e,1,tXe(t,l)),!0}function ZXe(e,t,n,r){var a=sa(t["!ref"]||"A1"),i,o="",s=[];vt(e,145);var l=Array.isArray(t),u=a.e.r;t["!rows"]&&(u=Math.max(a.e.r,t["!rows"].length-1));for(var d=a.s.r;d<=u;++d){o=Ji(d),YKe(e,t,a,d);var f=!1;if(d<=a.e.r)for(var h=a.s.c;h<=a.e.c;++h){d===a.s.r&&(s[h]=Co(h)),i=s[h]+o;var p=l?(t[d]||[])[h]:t[i];if(!p){f=!1;continue}f=XXe(e,p,d,h,r,t,f)}}vt(e,146)}function QXe(e,t){!t||!t["!merges"]||(vt(e,177,IXe(t["!merges"].length)),t["!merges"].forEach(function(n){vt(e,176,MXe(n))}),vt(e,178))}function JXe(e,t){!t||!t["!cols"]||(vt(e,390),t["!cols"].forEach(function(n,r){n&&vt(e,60,zXe(r,n))}),vt(e,391))}function eZe(e,t){!t||!t["!ref"]||(vt(e,648),vt(e,649,qXe(sa(t["!ref"]))),vt(e,650))}function tZe(e,t,n){t["!links"].forEach(function(r){if(r[1].Target){var a=Er(n,-1,r[1].Target.replace(/#.*$/,""),fr.HLINK);vt(e,494,FXe(r,a))}}),delete t["!links"]}function nZe(e,t,n,r){if(t["!comments"].length>0){var a=Er(r,-1,"../drawings/vmlDrawing"+(n+1)+".vml",fr.VML);vt(e,551,w$("rId"+a)),t["!legacy"]=a}}function rZe(e,t,n,r){if(t["!autofilter"]){var a=t["!autofilter"],i=typeof a.ref=="string"?a.ref:ti(a.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var o=n.Workbook.Names,s=Us(i);s.s.r==s.e.r&&(s.e.r=Us(t["!ref"]).e.r,i=ti(s));for(var l=0;l<o.length;++l){var u=o[l];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==r){u.Ref="'"+n.SheetNames[r]+"'!"+i;break}}l==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+n.SheetNames[r]+"'!"+i}),vt(e,161,iy(sa(i))),vt(e,162)}}function aZe(e,t,n){vt(e,133),vt(e,137,HXe(t,n)),vt(e,138),vt(e,134)}function iZe(e,t){t["!protect"]&&vt(e,535,GXe(t["!protect"]))}function oZe(e,t,n,r){var a=ls(),i=n.SheetNames[e],o=n.Sheets[i]||{},s=i;try{n&&n.Workbook&&(s=n.Workbook.Sheets[e].CodeName||s)}catch{}var l=sa(o["!ref"]||"A1");if(l.e.c>16383||l.e.r>1048575){if(t.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");l.e.c=Math.min(l.e.c,16383),l.e.r=Math.min(l.e.c,1048575)}return o["!links"]=[],o["!comments"]=[],vt(a,129),(n.vbaraw||o["!outline"])&&vt(a,147,JKe(s,o["!outline"])),vt(a,148,XKe(l)),aZe(a,o,n.Workbook),JXe(a,o),ZXe(a,o,e,t),iZe(a,o),rZe(a,o,n,e),QXe(a,o),tZe(a,o,r),o["!margins"]&&vt(a,476,WXe(o["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&eZe(a,o),nZe(a,o,e,r),vt(a,130),a.end()}function sZe(e,t){e.l+=10;var n=Eo(e);return{name:n}}var lZe=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function cZe(e){return!e.Workbook||!e.Workbook.WBProps?"false":BHe(e.Workbook.WBProps.date1904)?"true":"false"}var uZe="][*?/\\".split("");function tde(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var n=!0;return uZe.forEach(function(r){if(e.indexOf(r)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),n}function dZe(e,t,n){e.forEach(function(r,a){tde(r);for(var i=0;i<a;++i)if(r==e[i])throw new Error("Duplicate Sheet Name: "+r);if(n){var o=t&&t[a]&&t[a].CodeName||r;if(o.charCodeAt(0)==95&&o.length>22)throw new Error("Bad Code Name: Worksheet"+o)}})}function fZe(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];dZe(e.SheetNames,t,!!e.vbaraw);for(var n=0;n<e.SheetNames.length;++n)MKe(e.Sheets[e.SheetNames[n]],e.SheetNames[n],n)}function nde(e){var t=[ri];t[t.length]=It("workbook",null,{xmlns:ry[0],"xmlns:r":Si.r});var n=e.Workbook&&(e.Workbook.Names||[]).length>0,r={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(lZe.forEach(function(s){e.Workbook.WBProps[s[0]]!=null&&e.Workbook.WBProps[s[0]]!=s[1]&&(r[s[0]]=e.Workbook.WBProps[s[0]])}),e.Workbook.WBProps.CodeName&&(r.codeName=e.Workbook.WBProps.CodeName,delete r.CodeName)),t[t.length]=It("workbookPr",null,r);var a=e.Workbook&&e.Workbook.Sheets||[],i=0;if(a&&a[0]&&a[0].Hidden){for(t[t.length]="<bookViews>",i=0;i!=e.SheetNames.length&&!(!a[i]||!a[i].Hidden);++i);i==e.SheetNames.length&&(i=0),t[t.length]='<workbookView firstSheet="'+i+'" activeTab="'+i+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",i=0;i!=e.SheetNames.length;++i){var o={name:jr(e.SheetNames[i].slice(0,31))};if(o.sheetId=""+(i+1),o["r:id"]="rId"+(i+1),a[i])switch(a[i].Hidden){case 1:o.state="hidden";break;case 2:o.state="veryHidden";break}t[t.length]=It("sheet",null,o)}return t[t.length]="</sheets>",n&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(s){var l={name:s.Name};s.Comment&&(l.comment=s.Comment),s.Sheet!=null&&(l.localSheetId=""+s.Sheet),s.Hidden&&(l.hidden="1"),s.Ref&&(t[t.length]=It("definedName",jr(s.Ref),l))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function hZe(e,t){var n={};return n.Hidden=e.read_shift(4),n.iTabID=e.read_shift(4),n.strRelID=oI(e),n.name=Eo(e),n}function pZe(e,t){return t||(t=ot(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),w$(e.strRelID,t),ji(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function mZe(e,t){var n={},r=e.read_shift(4);n.defaultThemeVersion=e.read_shift(4);var a=t>8?Eo(e):"";return a.length>0&&(n.CodeName=a),n.autoCompressPictures=!!(r&65536),n.backupFile=!!(r&64),n.checkCompatibility=!!(r&4096),n.date1904=!!(r&1),n.filterPrivacy=!!(r&8),n.hidePivotFieldList=!!(r&1024),n.promptedSolutions=!!(r&16),n.publishItems=!!(r&2048),n.refreshAllConnections=!!(r&262144),n.saveExternalLinkValues=!!(r&128),n.showBorderUnselectedTables=!!(r&4),n.showInkAnnotation=!!(r&32),n.showObjects=["all","placeholders","none"][r>>13&3],n.showPivotChartFilter=!!(r&32768),n.updateLinks=["userSet","never","always"][r>>8&3],n}function gZe(e,t){t||(t=ot(72));var n=0;return e&&e.filterPrivacy&&(n|=8),t.write_shift(4,n),t.write_shift(4,0),pue(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function vZe(e,t,n){var r=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),i=cqe(e),o=jKe(e,0,n),s=b$(e);e.l=r;var l={Name:i,Ptg:o};return a<268435455&&(l.Sheet=a),s&&(l.Comment=s),l}function yZe(e,t){vt(e,143);for(var n=0;n!=t.SheetNames.length;++n){var r=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[n]&&t.Workbook.Sheets[n].Hidden||0,a={Hidden:r,iTabID:n+1,strRelID:"rId"+(n+1),name:t.SheetNames[n]};vt(e,156,pZe(a))}vt(e,144)}function xZe(e,t){t||(t=ot(127));for(var n=0;n!=4;++n)t.write_shift(4,0);return ji("SheetJS",t),ji(QE.version,t),ji(QE.version,t),ji("7262",t),t.length>t.l?t.slice(0,t.l):t}function bZe(e,t){t||(t=ot(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var n=120;return t.write_shift(1,n),t.length>t.l?t.slice(0,t.l):t}function wZe(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var n=t.Workbook.Sheets,r=0,a=-1,i=-1;r<n.length;++r)!n[r]||!n[r].Hidden&&a==-1?a=r:n[r].Hidden==1&&i==-1&&(i=r);i>a||(vt(e,135),vt(e,158,bZe(a)),vt(e,136))}}function _Ze(e,t){var n=ls();return vt(n,131),vt(n,128,xZe()),vt(n,153,gZe(e.Workbook&&e.Workbook.WBProps||null)),wZe(n,e),yZe(n,e),vt(n,132),n.end()}function SZe(e,t,n){return(t.slice(-4)===".bin"?_Ze:nde)(e)}function CZe(e,t,n,r,a){return(t.slice(-4)===".bin"?oZe:Jue)(e,n,r,a)}function EZe(e,t,n){return(t.slice(-4)===".bin"?WGe:Lue)(e,n)}function NZe(e,t,n){return(t.slice(-4)===".bin"?gGe:Mue)(e,n)}function kZe(e,t,n){return(t.slice(-4)===".bin"?iYe:Wue)(e)}function jZe(e){return(e.slice(-4)===".bin"?ZGe:zue)()}function TZe(e,t){var n=[];return e.Props&&n.push(Eqe(e.Props,t)),e.Custprops&&n.push(Nqe(e.Props,e.Custprops)),n.join("")}function PZe(){return""}function AZe(e,t){var n=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(r,a){var i=[];i.push(It("NumberFormat",null,{"ss:Format":jr($a[r.numFmtId])}));var o={"ss:ID":"s"+(21+a)};n.push(It("Style",i.join(""),o))}),It("Styles",n.join(""))}function rde(e){return It("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+E$(e.Ref,{r:0,c:0})})}function DZe(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,n=[],r=0;r<t.length;++r){var a=t[r];a.Sheet==null&&(a.Name.match(/^_xlfn\./)||n.push(rde(a)))}return It("Names",n.join(""))}function OZe(e,t,n,r){if(!e||!((r||{}).Workbook||{}).Names)return"";for(var a=r.Workbook.Names,i=[],o=0;o<a.length;++o){var s=a[o];s.Sheet==n&&(s.Name.match(/^_xlfn\./)||i.push(rde(s)))}return i.join("")}function MZe(e,t,n,r){if(!e)return"";var a=[];if(e["!margins"]&&(a.push("<PageSetup>"),e["!margins"].header&&a.push(It("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&a.push(It("Footer",null,{"x:Margin":e["!margins"].footer})),a.push(It("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),a.push("</PageSetup>")),r&&r.Workbook&&r.Workbook.Sheets&&r.Workbook.Sheets[n])if(r.Workbook.Sheets[n].Hidden)a.push(It("Visible",r.Workbook.Sheets[n].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var i=0;i<n&&!(r.Workbook.Sheets[i]&&!r.Workbook.Sheets[i].Hidden);++i);i==n&&a.push("<Selected/>")}return((((r||{}).Workbook||{}).Views||[])[0]||{}).RTL&&a.push("<DisplayRightToLeft/>"),e["!protect"]&&(a.push(Xi("ProtectContents","True")),e["!protect"].objects&&a.push(Xi("ProtectObjects","True")),e["!protect"].scenarios&&a.push(Xi("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?a.push(Xi("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&a.push(Xi("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(o){e["!protect"][o[0]]&&a.push("<"+o[1]+"/>")})),a.length==0?"":It("WorksheetOptions",a.join(""),{xmlns:Es.x})}function IZe(e){return e.map(function(t){var n=$He(t.t||""),r=It("ss:Data",n,{xmlns:"http://www.w3.org/TR/REC-html40"});return It("Comment",r,{"ss:Author":t.a})}).join("")}function RZe(e,t,n,r,a,i,o){if(!e||e.v==null&&e.f==null)return"";var s={};if(e.f&&(s["ss:Formula"]="="+jr(E$(e.f,o))),e.F&&e.F.slice(0,t.length)==t){var l=ki(e.F.slice(t.length+1));s["ss:ArrayRange"]="RC:R"+(l.r==o.r?"":"["+(l.r-o.r)+"]")+"C"+(l.c==o.c?"":"["+(l.c-o.c)+"]")}if(e.l&&e.l.Target&&(s["ss:HRef"]=jr(e.l.Target),e.l.Tooltip&&(s["x:HRefScreenTip"]=jr(e.l.Tooltip))),n["!merges"])for(var u=n["!merges"],d=0;d!=u.length;++d)u[d].s.c!=o.c||u[d].s.r!=o.r||(u[d].e.c>u[d].s.c&&(s["ss:MergeAcross"]=u[d].e.c-u[d].s.c),u[d].e.r>u[d].s.r&&(s["ss:MergeDown"]=u[d].e.r-u[d].s.r));var f="",h="";switch(e.t){case"z":if(!r.sheetStubs)return"";break;case"n":f="Number",h=String(e.v);break;case"b":f="Boolean",h=e.v?"1":"0";break;case"e":f="Error",h=p2[e.v];break;case"d":f="DateTime",h=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||$a[14]);break;case"s":f="String",h=LHe(e.v||"");break}var p=Ih(r.cellXfs,e,r);s["ss:StyleID"]="s"+(21+p),s["ss:Index"]=o.c+1;var m=e.v!=null?h:"",g=e.t=="z"?"":'<Data ss:Type="'+f+'">'+m+"</Data>";return(e.c||[]).length>0&&(g+=IZe(e.c)),It("Cell",g,s)}function FZe(e,t){var n='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=Fue(t.hpt)),t.hpx&&(n+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(n+=' ss:Hidden="1"')),n+">"}function LZe(e,t,n,r){if(!e["!ref"])return"";var a=sa(e["!ref"]),i=e["!merges"]||[],o=0,s=[];e["!cols"]&&e["!cols"].forEach(function(y,x){S$(y);var b=!!y.width,w=OT(x,y),_={"ss:Index":x+1};b&&(_["ss:Width"]=lN(w.width)),y.hidden&&(_["ss:Hidden"]="1"),s.push(It("Column",null,_))});for(var l=Array.isArray(e),u=a.s.r;u<=a.e.r;++u){for(var d=[FZe(u,(e["!rows"]||[])[u])],f=a.s.c;f<=a.e.c;++f){var h=!1;for(o=0;o!=i.length;++o)if(!(i[o].s.c>f)&&!(i[o].s.r>u)&&!(i[o].e.c<f)&&!(i[o].e.r<u)){(i[o].s.c!=f||i[o].s.r!=u)&&(h=!0);break}if(!h){var p={r:u,c:f},m=Pr(p),g=l?(e[u]||[])[f]:e[m];d.push(RZe(g,m,e,t,n,r,p))}}d.push("</Row>"),d.length>2&&s.push(d.join(""))}return s.join("")}function $Ze(e,t,n){var r=[],a=n.SheetNames[e],i=n.Sheets[a],o=i?OZe(i,t,e,n):"";return o.length>0&&r.push("<Names>"+o+"</Names>"),o=i?LZe(i,t,e,n):"",o.length>0&&r.push("<Table>"+o+"</Table>"),r.push(MZe(i,t,e,n)),r.join("")}function BZe(e,t){t||(t={}),e.SSF||(e.SSF=hs($a)),e.SSF&&(jT(),kT(e.SSF),t.revssf=TT(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],Ih(t.cellXfs,{},{revssf:{General:0}}));var n=[];n.push(TZe(e,t)),n.push(PZe()),n.push(""),n.push("");for(var r=0;r<e.SheetNames.length;++r)n.push(It("Worksheet",$Ze(r,t,e),{"ss:Name":jr(e.SheetNames[r])}));return n[2]=AZe(e,t),n[3]=DZe(e),ri+It("Workbook",n.join(""),{xmlns:Es.ss,"xmlns:o":Es.o,"xmlns:x":Es.x,"xmlns:ss":Es.ss,"xmlns:dt":Es.dt,"xmlns:html":Es.html})}var uD={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function zZe(e,t){var n=[],r=[],a=[],i=0,o,s=Qq(dG,"n"),l=Qq(fG,"n");if(e.Props)for(o=to(e.Props),i=0;i<o.length;++i)(Object.prototype.hasOwnProperty.call(s,o[i])?n:Object.prototype.hasOwnProperty.call(l,o[i])?r:a).push([o[i],e.Props[o[i]]]);if(e.Custprops)for(o=to(e.Custprops),i=0;i<o.length;++i)Object.prototype.hasOwnProperty.call(e.Props||{},o[i])||(Object.prototype.hasOwnProperty.call(s,o[i])?n:Object.prototype.hasOwnProperty.call(l,o[i])?r:a).push([o[i],e.Custprops[o[i]]]);var u=[];for(i=0;i<a.length;++i)kue.indexOf(a[i][0])>-1||Cue.indexOf(a[i][0])>-1||a[i][1]!=null&&u.push(a[i]);r.length&&Mr.utils.cfb_add(t,"/SummaryInformation",vG(r,uD.SI,l,fG)),(n.length||u.length)&&Mr.utils.cfb_add(t,"/DocumentSummaryInformation",vG(n,uD.DSI,s,dG,u.length?u:null,uD.UDI))}function UZe(e,t){var n=t||{},r=Mr.utils.cfb_new({root:"R"}),a="/Workbook";switch(n.bookType||"xls"){case"xls":n.bookType="biff8";case"xla":n.bookType||(n.bookType="xla");case"biff8":a="/Workbook",n.biff=8;break;case"biff5":a="/Book",n.biff=5;break;default:throw new Error("invalid type "+n.bookType+" for XLS CFB")}return Mr.utils.cfb_add(r,a,ade(e,n)),n.biff==8&&(e.Props||e.Custprops)&&zZe(e,r),n.biff==8&&e.vbaraw&&oYe(r,Mr.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),r}var WZe={0:{f:qKe},1:{f:eXe},2:{f:bXe},3:{f:lXe},4:{f:aXe},5:{f:gXe},6:{f:EXe},7:{f:fXe},8:{f:DXe},9:{f:AXe},10:{f:TXe},11:{f:PXe},12:{f:nXe},13:{f:_Xe},14:{f:uXe},15:{f:oXe},16:{f:yXe},17:{f:kXe},18:{f:pXe},19:{f:x$},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:vZe},40:{},42:{},43:{f:EGe},44:{f:SGe},45:{f:jGe},46:{f:PGe},47:{f:TGe},48:{},49:{f:nqe},50:{},51:{f:qGe},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:rGe},62:{f:CXe},63:{f:QGe},64:{f:YXe},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Tu,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:VXe},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:QKe},148:{f:KKe,p:16},151:{f:LXe},152:{},153:{f:mZe},154:{},155:{},156:{f:hZe},157:{},158:{},159:{T:1,f:hGe},160:{T:-1},161:{T:1,f:Vm},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:OXe},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:VGe},336:{T:-1},337:{f:KGe,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:oI},357:{},358:{},359:{},360:{T:1},361:{},362:{f:Zqe},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:$Xe},427:{f:BXe},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:UXe},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:ZKe},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:RXe},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:oI},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:rYe},633:{T:1},634:{T:-1},635:{T:1,f:tYe},636:{T:-1},637:{f:oqe},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:sZe},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:KXe},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function Ft(e,t,n,r){var a=t;if(!isNaN(a)){var i=r||(n||[]).length||0,o=e.next(4);o.write_shift(2,a),o.write_shift(2,i),i>0&&g$(n)&&e.push(n)}}function VZe(e,t,n,r){var a=(n||[]).length||0;if(a<=8224)return Ft(e,t,n,a);var i=t;if(!isNaN(i)){for(var o=n.parts||[],s=0,l=0,u=0;u+(o[s]||8224)<=8224;)u+=o[s]||8224,s++;var d=e.next(4);for(d.write_shift(2,i),d.write_shift(2,u),e.push(n.slice(l,l+u)),l+=u;l<a;){for(d=e.next(4),d.write_shift(2,60),u=0;u+(o[s]||8224)<=8224;)u+=o[s]||8224,s++;d.write_shift(2,u),e.push(n.slice(l,l+u)),l+=u}}}function g2(e,t,n){return e||(e=ot(7)),e.write_shift(2,t),e.write_shift(2,n),e.write_shift(2,0),e.write_shift(1,0),e}function HZe(e,t,n,r){var a=ot(9);return g2(a,e,t),Tue(n,r||"b",a),a}function qZe(e,t,n){var r=ot(8+2*n.length);return g2(r,e,t),r.write_shift(1,n.length),r.write_shift(n.length,n,"sbcs"),r.l<r.length?r.slice(0,r.l):r}function GZe(e,t,n,r){if(t.v!=null)switch(t.t){case"d":case"n":var a=t.t=="d"?fs(Bo(t.v)):t.v;a==(a|0)&&a>=0&&a<65536?Ft(e,2,sGe(n,r,a)):Ft(e,3,oGe(n,r,a));return;case"b":case"e":Ft(e,5,HZe(n,r,t.v,t.t));return;case"s":case"str":Ft(e,4,qZe(n,r,(t.v||"").slice(0,255)));return}Ft(e,1,g2(null,n,r))}function YZe(e,t,n,r){var a=Array.isArray(t),i=sa(t["!ref"]||"A1"),o,s="",l=[];if(i.e.c>255||i.e.r>16383){if(r.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");i.e.c=Math.min(i.e.c,255),i.e.r=Math.min(i.e.c,16383),o=ti(i)}for(var u=i.s.r;u<=i.e.r;++u){s=Ji(u);for(var d=i.s.c;d<=i.e.c;++d){u===i.s.r&&(l[d]=Co(d)),o=l[d]+s;var f=a?(t[u]||[])[d]:t[o];f&&GZe(e,f,u,d)}}}function KZe(e,t){for(var n=t||{},r=ls(),a=0,i=0;i<e.SheetNames.length;++i)e.SheetNames[i]==n.sheet&&(a=i);if(a==0&&n.sheet&&e.SheetNames[0]!=n.sheet)throw new Error("Sheet not found: "+n.sheet);return Ft(r,n.biff==4?1033:n.biff==3?521:9,_$(e,16,n)),YZe(r,e.Sheets[e.SheetNames[a]],a,n),Ft(r,10),r.end()}function XZe(e,t,n){Ft(e,49,Wqe({sz:12,name:"Arial"},n))}function ZZe(e,t,n){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var a=r[0];a<=r[1];++a)t[a]!=null&&Ft(e,1054,qqe(a,t[a],n))})}function QZe(e,t){var n=ot(19);n.write_shift(4,2151),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,1),n.write_shift(4,0),Ft(e,2151,n),n=ot(39),n.write_shift(4,2152),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,0),n.write_shift(4,0),n.write_shift(2,1),n.write_shift(4,4),n.write_shift(2,0),Due(sa(t["!ref"]||"A1"),n),n.write_shift(4,4),Ft(e,2152,n)}function JZe(e,t){for(var n=0;n<16;++n)Ft(e,224,xG({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(r){Ft(e,224,xG(r,0,t))})}function eQe(e,t){for(var n=0;n<t["!links"].length;++n){var r=t["!links"][n];Ft(e,440,eGe(r)),r[1].Tooltip&&Ft(e,2048,tGe(r))}delete t["!links"]}function tQe(e,t){if(t){var n=0;t.forEach(function(r,a){++n<=256&&r&&Ft(e,125,aGe(OT(a,r),a))})}}function nQe(e,t,n,r,a){var i=16+Ih(a.cellXfs,t,a);if(t.v==null&&!t.bf){Ft(e,513,Sm(n,r,i));return}if(t.bf)Ft(e,6,NKe(t,n,r,a,i));else switch(t.t){case"d":case"n":var o=t.t=="d"?fs(Bo(t.v)):t.v;Ft(e,515,Xqe(n,r,o,i));break;case"b":case"e":Ft(e,517,Kqe(n,r,t.v,i,a,t.t));break;case"s":case"str":if(a.bookSST){var s=k$(a.Strings,t.v,a.revStrings);Ft(e,253,Vqe(n,r,s,i))}else Ft(e,516,Hqe(n,r,(t.v||"").slice(0,255),i,a));break;default:Ft(e,513,Sm(n,r,i))}}function rQe(e,t,n){var r=ls(),a=n.SheetNames[e],i=n.Sheets[a]||{},o=(n||{}).Workbook||{},s=(o.Sheets||[])[e]||{},l=Array.isArray(i),u=t.biff==8,d,f="",h=[],p=sa(i["!ref"]||"A1"),m=u?65536:16384;if(p.e.c>255||p.e.r>=m){if(t.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:IV16384");p.e.c=Math.min(p.e.c,255),p.e.r=Math.min(p.e.c,m-1)}Ft(r,2057,_$(n,16,t)),Ft(r,13,cl(1)),Ft(r,12,cl(100)),Ft(r,15,Ro(!0)),Ft(r,17,Ro(!1)),Ft(r,16,_m(.001)),Ft(r,95,Ro(!0)),Ft(r,42,Ro(!1)),Ft(r,43,Ro(!1)),Ft(r,130,cl(1)),Ft(r,128,Yqe()),Ft(r,131,Ro(!1)),Ft(r,132,Ro(!1)),u&&tQe(r,i["!cols"]),Ft(r,512,Gqe(p,t)),u&&(i["!links"]=[]);for(var g=p.s.r;g<=p.e.r;++g){f=Ji(g);for(var y=p.s.c;y<=p.e.c;++y){g===p.s.r&&(h[y]=Co(y)),d=h[y]+f;var x=l?(i[g]||[])[y]:i[d];x&&(nQe(r,x,g,y,t),u&&x.l&&i["!links"].push([d,x.l]))}}var b=s.CodeName||s.name||a;return u&&Ft(r,574,Uqe((o.Views||[])[0])),u&&(i["!merges"]||[]).length&&Ft(r,229,Jqe(i["!merges"])),u&&eQe(r,i),Ft(r,442,Aue(b)),u&&QZe(r,i),Ft(r,10),r.end()}function aQe(e,t,n){var r=ls(),a=(e||{}).Workbook||{},i=a.Sheets||[],o=a.WBProps||{},s=n.biff==8,l=n.biff==5;if(Ft(r,2057,_$(e,5,n)),n.bookType=="xla"&&Ft(r,135),Ft(r,225,s?cl(1200):null),Ft(r,193,Tqe(2)),l&&Ft(r,191),l&&Ft(r,192),Ft(r,226),Ft(r,92,Lqe("SheetJS",n)),Ft(r,66,cl(s?1200:1252)),s&&Ft(r,353,cl(0)),s&&Ft(r,448),Ft(r,317,iGe(e.SheetNames.length)),s&&e.vbaraw&&Ft(r,211),s&&e.vbaraw){var u=o.CodeName||"ThisWorkbook";Ft(r,442,Aue(u))}Ft(r,156,cl(17)),Ft(r,25,Ro(!1)),Ft(r,18,Ro(!1)),Ft(r,19,cl(0)),s&&Ft(r,431,Ro(!1)),s&&Ft(r,444,cl(0)),Ft(r,61,zqe()),Ft(r,64,Ro(!1)),Ft(r,141,cl(0)),Ft(r,34,Ro(cZe(e)=="true")),Ft(r,14,Ro(!0)),s&&Ft(r,439,Ro(!1)),Ft(r,218,cl(0)),XZe(r,e,n),ZZe(r,e.SSF,n),JZe(r,n),s&&Ft(r,352,Ro(!1));var d=r.end(),f=ls();s&&Ft(f,140,nGe()),s&&n.Strings&&VZe(f,252,Bqe(n.Strings)),Ft(f,10);var h=f.end(),p=ls(),m=0,g=0;for(g=0;g<e.SheetNames.length;++g)m+=(s?12:11)+(s?2:1)*e.SheetNames[g].length;var y=d.length+m+h.length;for(g=0;g<e.SheetNames.length;++g){var x=i[g]||{};Ft(p,133,$qe({pos:y,hs:x.Hidden||0,dt:0,name:e.SheetNames[g]},n)),y+=t[g].length}var b=p.end();if(m!=b.length)throw new Error("BS8 "+m+" != "+b.length);var w=[];return d.length&&w.push(d),b.length&&w.push(b),h.length&&w.push(h),Ki(w)}function iQe(e,t){var n=t||{},r=[];e&&!e.SSF&&(e.SSF=hs($a)),e&&e.SSF&&(jT(),kT(e.SSF),n.revssf=TT(e.SSF),n.revssf[e.SSF[65535]]=0,n.ssf=e.SSF),n.Strings=[],n.Strings.Count=0,n.Strings.Unique=0,j$(n),n.cellXfs=[],Ih(n.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var a=0;a<e.SheetNames.length;++a)r[r.length]=rQe(a,n,e);return r.unshift(aQe(e,r,n)),Ki(r)}function ade(e,t){for(var n=0;n<=e.SheetNames.length;++n){var r=e.Sheets[e.SheetNames[n]];if(!(!r||!r["!ref"])){var a=Us(r["!ref"]);a.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[n]+"' extends beyond column IV (255).  Data may be lost.")}}var i=t||{};switch(i.biff||2){case 8:case 5:return iQe(e,t);case 4:case 3:case 2:return KZe(e,t)}throw new Error("invalid type "+i.bookType+" for BIFF")}function oQe(e,t,n,r){for(var a=e["!merges"]||[],i=[],o=t.s.c;o<=t.e.c;++o){for(var s=0,l=0,u=0;u<a.length;++u)if(!(a[u].s.r>n||a[u].s.c>o)&&!(a[u].e.r<n||a[u].e.c<o)){if(a[u].s.r<n||a[u].s.c<o){s=-1;break}s=a[u].e.r-a[u].s.r+1,l=a[u].e.c-a[u].s.c+1;break}if(!(s<0)){var d=Pr({r:n,c:o}),f=r.dense?(e[n]||[])[o]:e[d],h=f&&f.v!=null&&(f.h||FHe(f.w||(Id(f),f.w)||""))||"",p={};s>1&&(p.rowspan=s),l>1&&(p.colspan=l),r.editable?h='<span contenteditable="true">'+h+"</span>":f&&(p["data-t"]=f&&f.t||"z",f.v!=null&&(p["data-v"]=f.v),f.z!=null&&(p["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(h='<a href="'+f.l.Target+'">'+h+"</a>")),p.id=(r.id||"sjs")+"-"+d,i.push(It("td",h,p))}}var m="<tr>";return m+i.join("")+"</tr>"}var sQe='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',lQe="</body></html>";function cQe(e,t,n){var r=[];return r.join("")+"<table"+(n&&n.id?' id="'+n.id+'"':"")+">"}function ide(e,t){var n=t||{},r=n.header!=null?n.header:sQe,a=n.footer!=null?n.footer:lQe,i=[r],o=Us(e["!ref"]);n.dense=Array.isArray(e),i.push(cQe(e,o,n));for(var s=o.s.r;s<=o.e.r;++s)i.push(oQe(e,o,s,n));return i.push("</table>"+a),i.join("")}function ode(e,t,n){var r=n||{},a=0,i=0;if(r.origin!=null)if(typeof r.origin=="number")a=r.origin;else{var o=typeof r.origin=="string"?ki(r.origin):r.origin;a=o.r,i=o.c}var s=t.getElementsByTagName("tr"),l=Math.min(r.sheetRows||1e7,s.length),u={s:{r:0,c:0},e:{r:a,c:i}};if(e["!ref"]){var d=Us(e["!ref"]);u.s.r=Math.min(u.s.r,d.s.r),u.s.c=Math.min(u.s.c,d.s.c),u.e.r=Math.max(u.e.r,d.e.r),u.e.c=Math.max(u.e.c,d.e.c),a==-1&&(u.e.r=a=d.e.r+1)}var f=[],h=0,p=e["!rows"]||(e["!rows"]=[]),m=0,g=0,y=0,x=0,b=0,w=0;for(e["!cols"]||(e["!cols"]=[]);m<s.length&&g<l;++m){var _=s[m];if(NG(_)){if(r.display)continue;p[g]={hidden:!0}}var S=_.children;for(y=x=0;y<S.length;++y){var k=S[y];if(!(r.display&&NG(k))){var N=k.hasAttribute("data-v")?k.getAttribute("data-v"):k.hasAttribute("v")?k.getAttribute("v"):zHe(k.innerHTML),P=k.getAttribute("data-z")||k.getAttribute("z");for(h=0;h<f.length;++h){var T=f[h];T.s.c==x+i&&T.s.r<g+a&&g+a<=T.e.r&&(x=T.e.c+1-i,h=-1)}w=+k.getAttribute("colspan")||1,((b=+k.getAttribute("rowspan")||1)>1||w>1)&&f.push({s:{r:g+a,c:x+i},e:{r:g+a+(b||1)-1,c:x+i+(w||1)-1}});var j={t:"s",v:N},D=k.getAttribute("data-t")||k.getAttribute("t")||"";N!=null&&(N.length==0?j.t=D||"z":r.raw||N.trim().length==0||D=="s"||(N==="TRUE"?j={t:"b",v:!0}:N==="FALSE"?j={t:"b",v:!1}:isNaN(yd(N))?isNaN(zb(N).getDate())||(j={t:"d",v:Bo(N)},r.cellDates||(j={t:"n",v:fs(j.v)}),j.z=r.dateNF||$a[14]):j={t:"n",v:yd(N)})),j.z===void 0&&P!=null&&(j.z=P);var M="",R=k.getElementsByTagName("A");if(R&&R.length)for(var W=0;W<R.length&&!(R[W].hasAttribute("href")&&(M=R[W].getAttribute("href"),M.charAt(0)!="#"));++W);M&&M.charAt(0)!="#"&&(j.l={Target:M}),r.dense?(e[g+a]||(e[g+a]=[]),e[g+a][x+i]=j):e[Pr({c:x+i,r:g+a})]=j,u.e.c<x+i&&(u.e.c=x+i),x+=w}}++g}return f.length&&(e["!merges"]=(e["!merges"]||[]).concat(f)),u.e.r=Math.max(u.e.r,g-1+a),e["!ref"]=ti(u),g>=l&&(e["!fullref"]=ti((u.e.r=s.length-m+g-1+a,u))),e}function sde(e,t){var n=t||{},r=n.dense?[]:{};return ode(r,e,t)}function uQe(e,t){return Bm(sde(e,t),t)}function NG(e){var t="",n=dQe(e);return n&&(t=n(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function dQe(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var fQe=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+Wb({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return ri+t}}(),kG=function(){var e=function(i){return jr(i).replace(/  +/g,function(o){return'<text:s text:c="'+o.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,n=`          <table:covered-table-cell/>
`,r=function(i,o,s){var l=[];l.push('      <table:table table:name="'+jr(o.SheetNames[s])+`" table:style-name="ta1">
`);var u=0,d=0,f=Us(i["!ref"]||"A1"),h=i["!merges"]||[],p=0,m=Array.isArray(i);if(i["!cols"])for(d=0;d<=f.e.c;++d)l.push("        <table:table-column"+(i["!cols"][d]?' table:style-name="co'+i["!cols"][d].ods+'"':"")+`></table:table-column>
`);var g="",y=i["!rows"]||[];for(u=0;u<f.s.r;++u)g=y[u]?' table:style-name="ro'+y[u].ods+'"':"",l.push("        <table:table-row"+g+`></table:table-row>
`);for(;u<=f.e.r;++u){for(g=y[u]?' table:style-name="ro'+y[u].ods+'"':"",l.push("        <table:table-row"+g+`>
`),d=0;d<f.s.c;++d)l.push(t);for(;d<=f.e.c;++d){var x=!1,b={},w="";for(p=0;p!=h.length;++p)if(!(h[p].s.c>d)&&!(h[p].s.r>u)&&!(h[p].e.c<d)&&!(h[p].e.r<u)){(h[p].s.c!=d||h[p].s.r!=u)&&(x=!0),b["table:number-columns-spanned"]=h[p].e.c-h[p].s.c+1,b["table:number-rows-spanned"]=h[p].e.r-h[p].s.r+1;break}if(x){l.push(n);continue}var _=Pr({r:u,c:d}),S=m?(i[u]||[])[d]:i[_];if(S&&S.f&&(b["table:formula"]=jr(DKe(S.f)),S.F&&S.F.slice(0,_.length)==_)){var k=Us(S.F);b["table:number-matrix-columns-spanned"]=k.e.c-k.s.c+1,b["table:number-matrix-rows-spanned"]=k.e.r-k.s.r+1}if(!S){l.push(t);continue}switch(S.t){case"b":w=S.v?"TRUE":"FALSE",b["office:value-type"]="boolean",b["office:boolean-value"]=S.v?"true":"false";break;case"n":w=S.w||String(S.v||0),b["office:value-type"]="float",b["office:value"]=S.v||0;break;case"s":case"str":w=S.v==null?"":S.v,b["office:value-type"]="string";break;case"d":w=S.w||Bo(S.v).toISOString(),b["office:value-type"]="date",b["office:date-value"]=Bo(S.v).toISOString(),b["table:style-name"]="ce1";break;default:l.push(t);continue}var N=e(w);if(S.l&&S.l.Target){var P=S.l.Target;P=P.charAt(0)=="#"?"#"+OKe(P.slice(1)):P,P.charAt(0)!="#"&&!P.match(/^\w+:/)&&(P="../"+P),N=It("text:a",N,{"xlink:href":P.replace(/&/g,"&amp;")})}l.push("          "+It("table:table-cell",It("text:p",N,{}),b)+`
`)}l.push(`        </table:table-row>
`)}return l.push(`      </table:table>
`),l.join("")},a=function(i,o){i.push(` <office:automatic-styles>
`),i.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),i.push(`   <number:month number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:day number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:year/>
`),i.push(`  </number:date-style>
`);var s=0;o.SheetNames.map(function(u){return o.Sheets[u]}).forEach(function(u){if(u&&u["!cols"]){for(var d=0;d<u["!cols"].length;++d)if(u["!cols"][d]){var f=u["!cols"][d];if(f.width==null&&f.wpx==null&&f.wch==null)continue;S$(f),f.ods=s;var h=u["!cols"][d].wpx+"px";i.push('  <style:style style:name="co'+s+`" style:family="table-column">
`),i.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+h+`"/>
`),i.push(`  </style:style>
`),++s}}});var l=0;o.SheetNames.map(function(u){return o.Sheets[u]}).forEach(function(u){if(u&&u["!rows"]){for(var d=0;d<u["!rows"].length;++d)if(u["!rows"][d]){u["!rows"][d].ods=l;var f=u["!rows"][d].hpx+"px";i.push('  <style:style style:name="ro'+l+`" style:family="table-row">
`),i.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+f+`"/>
`),i.push(`  </style:style>
`),++l}}}),i.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),i.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),i.push(`  </style:style>
`),i.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),i.push(` </office:automatic-styles>
`)};return function(o,s){var l=[ri],u=Wb({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),d=Wb({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});s.bookType=="fods"?(l.push("<office:document"+u+d+`>
`),l.push(_ue().replace(/office:document-meta/g,"office:meta"))):l.push("<office:document-content"+u+`>
`),a(l,o),l.push(`  <office:body>
`),l.push(`    <office:spreadsheet>
`);for(var f=0;f!=o.SheetNames.length;++f)l.push(r(o.Sheets[o.SheetNames[f]],o,f));return l.push(`    </office:spreadsheet>
`),l.push(`  </office:body>
`),s.bookType=="fods"?l.push("</office:document>"):l.push("</office:document-content>"),l.join("")}}();function lde(e,t){if(t.bookType=="fods")return kG(e,t);var n=f$(),r="",a=[],i=[];return r="mimetype",$n(n,r,"application/vnd.oasis.opendocument.spreadsheet"),r="content.xml",$n(n,r,kG(e,t)),a.push([r,"text/xml"]),i.push([r,"ContentFile"]),r="styles.xml",$n(n,r,fQe(e,t)),a.push([r,"text/xml"]),i.push([r,"StylesFile"]),r="meta.xml",$n(n,r,ri+_ue()),a.push([r,"text/xml"]),i.push([r,"MetadataFile"]),r="manifest.rdf",$n(n,r,Cqe(i)),a.push([r,"application/rdf+xml"]),r="META-INF/manifest.xml",$n(n,r,_qe(a)),n}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function dN(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function hQe(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):sc(Ub(e))}function pQe(e,t){e:for(var n=0;n<=e.length-t.length;++n){for(var r=0;r<t.length;++r)if(e[n+r]!=t[r])continue e;return!0}return!1}function wh(e){var t=e.reduce(function(a,i){return a+i.length},0),n=new Uint8Array(t),r=0;return e.forEach(function(a){n.set(a,r),r+=a.length}),n}function mQe(e,t,n){var r=Math.floor(n==0?0:Math.LOG10E*Math.log(Math.abs(n)))+6176-20,a=n/Math.pow(10,r-6176);e[t+15]|=r>>7,e[t+14]|=(r&127)<<1;for(var i=0;a>=1;++i,a/=256)e[t+i]=a&255;e[t+15]|=n>=0?0:128}function Vb(e,t){var n=t?t[0]:0,r=e[n]&127;e:if(e[n++]>=128&&(r|=(e[n]&127)<<7,e[n++]<128||(r|=(e[n]&127)<<14,e[n++]<128)||(r|=(e[n]&127)<<21,e[n++]<128)||(r+=(e[n]&127)*Math.pow(2,28),++n,e[n++]<128)||(r+=(e[n]&127)*Math.pow(2,35),++n,e[n++]<128)||(r+=(e[n]&127)*Math.pow(2,42),++n,e[n++]<128)))break e;return t&&(t[0]=n),r}function Sr(e){var t=new Uint8Array(7);t[0]=e&127;var n=1;e:if(e>127){if(t[n-1]|=128,t[n]=e>>7&127,++n,e<=16383||(t[n-1]|=128,t[n]=e>>14&127,++n,e<=2097151)||(t[n-1]|=128,t[n]=e>>21&127,++n,e<=268435455)||(t[n-1]|=128,t[n]=e/256>>>21&127,++n,e<=34359738367)||(t[n-1]|=128,t[n]=e/65536>>>21&127,++n,e<=4398046511103))break e;t[n-1]|=128,t[n]=e/16777216>>>21&127,++n}return t.slice(0,n)}function kv(e){var t=0,n=e[t]&127;e:if(e[t++]>=128){if(n|=(e[t]&127)<<7,e[t++]<128||(n|=(e[t]&127)<<14,e[t++]<128)||(n|=(e[t]&127)<<21,e[t++]<128))break e;n|=(e[t]&127)<<28}return n}function li(e){for(var t=[],n=[0];n[0]<e.length;){var r=n[0],a=Vb(e,n),i=a&7;a=Math.floor(a/8);var o=0,s;if(a==0)break;switch(i){case 0:{for(var l=n[0];e[n[0]++]>=128;);s=e.slice(l,n[0])}break;case 5:o=4,s=e.slice(n[0],n[0]+o),n[0]+=o;break;case 1:o=8,s=e.slice(n[0],n[0]+o),n[0]+=o;break;case 2:o=Vb(e,n),s=e.slice(n[0],n[0]+o),n[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(a," at offset ").concat(r))}var u={data:s,type:i};t[a]==null?t[a]=[u]:t[a].push(u)}return t}function $i(e){var t=[];return e.forEach(function(n,r){n.forEach(function(a){a.data&&(t.push(Sr(r*8+a.type)),a.type==2&&t.push(Sr(a.data.length)),t.push(a.data))})}),wh(t)}function Hl(e){for(var t,n=[],r=[0];r[0]<e.length;){var a=Vb(e,r),i=li(e.slice(r[0],r[0]+a));r[0]+=a;var o={id:kv(i[1][0].data),messages:[]};i[2].forEach(function(s){var l=li(s.data),u=kv(l[3][0].data);o.messages.push({meta:l,data:e.slice(r[0],r[0]+u)}),r[0]+=u}),(t=i[3])!=null&&t[0]&&(o.merge=kv(i[3][0].data)>>>0>0),n.push(o)}return n}function vg(e){var t=[];return e.forEach(function(n){var r=[];r[1]=[{data:Sr(n.id),type:0}],r[2]=[],n.merge!=null&&(r[3]=[{data:Sr(+!!n.merge),type:0}]);var a=[];n.messages.forEach(function(o){a.push(o.data),o.meta[3]=[{type:0,data:Sr(o.data.length)}],r[2].push({data:$i(o.meta),type:2})});var i=$i(r);t.push(Sr(i.length)),t.push(i),a.forEach(function(o){return t.push(o)})}),wh(t)}function gQe(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var n=[0],r=Vb(t,n),a=[];n[0]<t.length;){var i=t[n[0]]&3;if(i==0){var o=t[n[0]++]>>2;if(o<60)++o;else{var s=o-59;o=t[n[0]],s>1&&(o|=t[n[0]+1]<<8),s>2&&(o|=t[n[0]+2]<<16),s>3&&(o|=t[n[0]+3]<<24),o>>>=0,o++,n[0]+=s}a.push(t.slice(n[0],n[0]+o)),n[0]+=o;continue}else{var l=0,u=0;if(i==1?(u=(t[n[0]]>>2&7)+4,l=(t[n[0]++]&224)<<3,l|=t[n[0]++]):(u=(t[n[0]++]>>2)+1,i==2?(l=t[n[0]]|t[n[0]+1]<<8,n[0]+=2):(l=(t[n[0]]|t[n[0]+1]<<8|t[n[0]+2]<<16|t[n[0]+3]<<24)>>>0,n[0]+=4)),a=[wh(a)],l==0)throw new Error("Invalid offset 0");if(l>a[0].length)throw new Error("Invalid offset beyond length");if(u>=l)for(a.push(a[0].slice(-l)),u-=l;u>=a[a.length-1].length;)a.push(a[a.length-1]),u-=a[a.length-1].length;a.push(a[0].slice(-l,-l+u))}}var d=wh(a);if(d.length!=r)throw new Error("Unexpected length: ".concat(d.length," != ").concat(r));return d}function ql(e){for(var t=[],n=0;n<e.length;){var r=e[n++],a=e[n]|e[n+1]<<8|e[n+2]<<16;n+=3,t.push(gQe(r,e.slice(n,n+a))),n+=a}if(n!==e.length)throw new Error("data is not a valid framed stream!");return wh(t)}function yg(e){for(var t=[],n=0;n<e.length;){var r=Math.min(e.length-n,268435455),a=new Uint8Array(4);t.push(a);var i=Sr(r),o=i.length;t.push(i),r<=60?(o++,t.push(new Uint8Array([r-1<<2]))):r<=256?(o+=2,t.push(new Uint8Array([240,r-1&255]))):r<=65536?(o+=3,t.push(new Uint8Array([244,r-1&255,r-1>>8&255]))):r<=16777216?(o+=4,t.push(new Uint8Array([248,r-1&255,r-1>>8&255,r-1>>16&255]))):r<=4294967296&&(o+=5,t.push(new Uint8Array([252,r-1&255,r-1>>8&255,r-1>>16&255,r-1>>>24&255]))),t.push(e.slice(n,n+r)),o+=r,a[0]=0,a[1]=o&255,a[2]=o>>8&255,a[3]=o>>16&255,n+=r}return wh(t)}function dD(e,t){var n=new Uint8Array(32),r=dN(n),a=12,i=0;switch(n[0]=5,e.t){case"n":n[1]=2,mQe(n,a,e.v),i|=1,a+=16;break;case"b":n[1]=6,r.setFloat64(a,e.v?1:0,!0),i|=2,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));n[1]=3,r.setUint32(a,t.indexOf(e.v),!0),i|=8,a+=4;break;default:throw"unsupported cell type "+e.t}return r.setUint32(8,i,!0),n.slice(0,a)}function fD(e,t){var n=new Uint8Array(32),r=dN(n),a=12,i=0;switch(n[0]=3,e.t){case"n":n[2]=2,r.setFloat64(a,e.v,!0),i|=32,a+=8;break;case"b":n[2]=6,r.setFloat64(a,e.v?1:0,!0),i|=32,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));n[2]=3,r.setUint32(a,t.indexOf(e.v),!0),i|=16,a+=4;break;default:throw"unsupported cell type "+e.t}return r.setUint32(4,i,!0),n.slice(0,a)}function cf(e){var t=li(e);return Vb(t[1][0].data)}function vQe(e,t,n){var r,a,i,o;if(!((r=e[6])!=null&&r[0])||!((a=e[7])!=null&&a[0]))throw"Mutation only works on post-BNC storages!";var s=((o=(i=e[8])==null?void 0:i[0])==null?void 0:o.data)&&kv(e[8][0].data)>0||!1;if(s)throw"Math only works with normal offsets";for(var l=0,u=dN(e[7][0].data),d=0,f=[],h=dN(e[4][0].data),p=0,m=[],g=0;g<t.length;++g){if(t[g]==null){u.setUint16(g*2,65535,!0),h.setUint16(g*2,65535);continue}u.setUint16(g*2,d,!0),h.setUint16(g*2,p,!0);var y,x;switch(typeof t[g]){case"string":y=dD({t:"s",v:t[g]},n),x=fD({t:"s",v:t[g]},n);break;case"number":y=dD({t:"n",v:t[g]},n),x=fD({t:"n",v:t[g]},n);break;case"boolean":y=dD({t:"b",v:t[g]},n),x=fD({t:"b",v:t[g]},n);break;default:throw new Error("Unsupported value "+t[g])}f.push(y),d+=y.length,m.push(x),p+=x.length,++l}for(e[2][0].data=Sr(l);g<e[7][0].data.length/2;++g)u.setUint16(g*2,65535,!0),h.setUint16(g*2,65535,!0);return e[6][0].data=wh(f),e[3][0].data=wh(m),l}function yQe(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var n=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var r=Us(n["!ref"]);r.s.r=r.s.c=0;var a=!1;r.e.c>9&&(a=!0,r.e.c=9),r.e.r>49&&(a=!0,r.e.r=49),a&&console.error("The Numbers writer is currently limited to ".concat(ti(r)));var i=fN(n,{range:r,header:1}),o=["~Sh33tJ5~"];i.forEach(function(J){return J.forEach(function(ee){typeof ee=="string"&&o.push(ee)})});var s={},l=[],u=Mr.read(t.numbers,{type:"base64"});u.FileIndex.map(function(J,ee){return[J,u.FullPaths[ee]]}).forEach(function(J){var ee=J[0],G=J[1];if(ee.type==2&&ee.name.match(/\.iwa/)){var Z=ee.content,se=ql(Z),ae=Hl(se);ae.forEach(function(Y){l.push(Y.id),s[Y.id]={deps:[],location:G,type:kv(Y.messages[0].meta[1][0].data)}})}}),l.sort(function(J,ee){return J-ee});var d=l.filter(function(J){return J>1}).map(function(J){return[J,Sr(J)]});u.FileIndex.map(function(J,ee){return[J,u.FullPaths[ee]]}).forEach(function(J){var ee=J[0];if(J[1],!!ee.name.match(/\.iwa/)){var G=Hl(ql(ee.content));G.forEach(function(Z){Z.messages.forEach(function(se){d.forEach(function(ae){Z.messages.some(function(Y){return kv(Y.meta[1][0].data)!=11006&&pQe(Y.data,ae[1])})&&s[ae[0]].deps.push(Z.id)})})})}});for(var f=Mr.find(u,s[1].location),h=Hl(ql(f.content)),p,m=0;m<h.length;++m){var g=h[m];g.id==1&&(p=g)}var y=cf(li(p.messages[0].data)[1][0].data);for(f=Mr.find(u,s[y].location),h=Hl(ql(f.content)),m=0;m<h.length;++m)g=h[m],g.id==y&&(p=g);for(y=cf(li(p.messages[0].data)[2][0].data),f=Mr.find(u,s[y].location),h=Hl(ql(f.content)),m=0;m<h.length;++m)g=h[m],g.id==y&&(p=g);for(y=cf(li(p.messages[0].data)[2][0].data),f=Mr.find(u,s[y].location),h=Hl(ql(f.content)),m=0;m<h.length;++m)g=h[m],g.id==y&&(p=g);var x=li(p.messages[0].data);{x[6][0].data=Sr(r.e.r+1),x[7][0].data=Sr(r.e.c+1);var b=cf(x[46][0].data),w=Mr.find(u,s[b].location),_=Hl(ql(w.content));{for(var S=0;S<_.length&&_[S].id!=b;++S);if(_[S].id!=b)throw"Bad ColumnRowUIDMapArchive";var k=li(_[S].messages[0].data);k[1]=[],k[2]=[],k[3]=[];for(var N=0;N<=r.e.c;++N){var P=[];P[1]=P[2]=[{type:0,data:Sr(N+420690)}],k[1].push({type:2,data:$i(P)}),k[2].push({type:0,data:Sr(N)}),k[3].push({type:0,data:Sr(N)})}k[4]=[],k[5]=[],k[6]=[];for(var T=0;T<=r.e.r;++T)P=[],P[1]=P[2]=[{type:0,data:Sr(T+726270)}],k[4].push({type:2,data:$i(P)}),k[5].push({type:0,data:Sr(T)}),k[6].push({type:0,data:Sr(T)});_[S].messages[0].data=$i(k)}w.content=yg(vg(_)),w.size=w.content.length,delete x[46];var j=li(x[4][0].data);{j[7][0].data=Sr(r.e.r+1);var D=li(j[1][0].data),M=cf(D[2][0].data);w=Mr.find(u,s[M].location),_=Hl(ql(w.content));{if(_[0].id!=M)throw"Bad HeaderStorageBucket";var R=li(_[0].messages[0].data);for(T=0;T<i.length;++T){var W=li(R[2][0].data);W[1][0].data=Sr(T),W[4][0].data=Sr(i[T].length),R[2][T]={type:R[2][0].type,data:$i(W)}}_[0].messages[0].data=$i(R)}w.content=yg(vg(_)),w.size=w.content.length;var B=cf(j[2][0].data);w=Mr.find(u,s[B].location),_=Hl(ql(w.content));{if(_[0].id!=B)throw"Bad HeaderStorageBucket";for(R=li(_[0].messages[0].data),N=0;N<=r.e.c;++N)W=li(R[2][0].data),W[1][0].data=Sr(N),W[4][0].data=Sr(r.e.r+1),R[2][N]={type:R[2][0].type,data:$i(W)};_[0].messages[0].data=$i(R)}w.content=yg(vg(_)),w.size=w.content.length;var V=cf(j[4][0].data);(function(){for(var J=Mr.find(u,s[V].location),ee=Hl(ql(J.content)),G,Z=0;Z<ee.length;++Z){var se=ee[Z];se.id==V&&(G=se)}var ae=li(G.messages[0].data);{ae[3]=[];var Y=[];o.forEach(function(F,re){Y[1]=[{type:0,data:Sr(re)}],Y[2]=[{type:0,data:Sr(1)}],Y[3]=[{type:2,data:hQe(F)}],ae[3].push({type:2,data:$i(Y)})})}G.messages[0].data=$i(ae);var X=vg(ee),K=yg(X);J.content=K,J.size=J.content.length})();var q=li(j[3][0].data);{var I=q[1][0];delete q[2];var O=li(I.data);{var H=cf(O[2][0].data);(function(){for(var J=Mr.find(u,s[H].location),ee=Hl(ql(J.content)),G,Z=0;Z<ee.length;++Z){var se=ee[Z];se.id==H&&(G=se)}var ae=li(G.messages[0].data);{delete ae[6],delete q[7];var Y=new Uint8Array(ae[5][0].data);ae[5]=[];for(var X=0,K=0;K<=r.e.r;++K){var F=li(Y);X+=vQe(F,i[K],o),F[1][0].data=Sr(K),ae[5].push({data:$i(F),type:2})}ae[1]=[{type:0,data:Sr(r.e.c+1)}],ae[2]=[{type:0,data:Sr(r.e.r+1)}],ae[3]=[{type:0,data:Sr(X)}],ae[4]=[{type:0,data:Sr(r.e.r+1)}]}G.messages[0].data=$i(ae);var re=vg(ee),Q=yg(re);J.content=Q,J.size=J.content.length})()}I.data=$i(O)}j[3][0].data=$i(q)}x[4][0].data=$i(j)}p.messages[0].data=$i(x);var ne=vg(h),z=yg(ne);return f.content=z,f.size=f.content.length,u}function xQe(e){return function(n){for(var r=0;r!=e.length;++r){var a=e[r];n[a[0]]===void 0&&(n[a[0]]=a[1]),a[2]==="n"&&(n[a[0]]=Number(n[a[0]]))}}}function j$(e){xQe([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function bQe(e,t){return t.bookType=="ods"?lde(e,t):t.bookType=="numbers"?yQe(e,t):t.bookType=="xlsb"?wQe(e,t):_Qe(e,t)}function wQe(e,t){Zg=1024,e&&!e.SSF&&(e.SSF=hs($a)),e&&e.SSF&&(jT(),kT(e.SSF),t.revssf=TT(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,E1?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var n=t.bookType=="xlsb"?"bin":"xml",r=Vue.indexOf(t.bookType)>-1,a=xue();j$(t=t||{});var i=f$(),o="",s=0;if(t.cellXfs=[],Ih(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",$n(i,o,Sue(e.Props,t)),a.coreprops.push(o),Er(t.rels,2,o,fr.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var l=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&l.push(e.SheetNames[u]);e.Props.SheetNames=l}for(e.Props.Worksheets=e.Props.SheetNames.length,$n(i,o,Eue(e.Props)),a.extprops.push(o),Er(t.rels,3,o,fr.EXT_PROPS),e.Custprops!==e.Props&&to(e.Custprops||{}).length>0&&(o="docProps/custom.xml",$n(i,o,Nue(e.Custprops)),a.custprops.push(o),Er(t.rels,4,o,fr.CUST_PROPS)),s=1;s<=e.SheetNames.length;++s){var d={"!id":{}},f=e.Sheets[e.SheetNames[s-1]],h=(f||{})["!type"]||"sheet";switch(h){case"chart":default:o="xl/worksheets/sheet"+s+"."+n,$n(i,o,CZe(s-1,o,t,e,d)),a.sheets.push(o),Er(t.wbrels,-1,"worksheets/sheet"+s+"."+n,fr.WS[0])}if(f){var p=f["!comments"],m=!1,g="";p&&p.length>0&&(g="xl/comments"+s+"."+n,$n(i,g,kZe(p,g)),a.comments.push(g),Er(d,-1,"../comments"+s+"."+n,fr.CMNT),m=!0),f["!legacy"]&&m&&$n(i,"xl/drawings/vmlDrawing"+s+".vml",Uue(s,f["!comments"])),delete f["!comments"],delete f["!legacy"]}d["!id"].rId1&&$n(i,wue(o),Ev(d))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+n,$n(i,o,NZe(t.Strings,o,t)),a.strs.push(o),Er(t.wbrels,-1,"sharedStrings."+n,fr.SST)),o="xl/workbook."+n,$n(i,o,SZe(e,o)),a.workbooks.push(o),Er(t.rels,1,o,fr.WB),o="xl/theme/theme1.xml",$n(i,o,Bue(e.Themes,t)),a.themes.push(o),Er(t.wbrels,-1,"theme/theme1.xml",fr.THEME),o="xl/styles."+n,$n(i,o,EZe(e,o,t)),a.styles.push(o),Er(t.wbrels,-1,"styles."+n,fr.STY),e.vbaraw&&r&&(o="xl/vbaProject.bin",$n(i,o,e.vbaraw),a.vba.push(o),Er(t.wbrels,-1,"vbaProject.bin",fr.VBA)),o="xl/metadata."+n,$n(i,o,jZe(o)),a.metadata.push(o),Er(t.wbrels,-1,"metadata."+n,fr.XLMETA),$n(i,"[Content_Types].xml",bue(a,t)),$n(i,"_rels/.rels",Ev(t.rels)),$n(i,"xl/_rels/workbook."+n+".rels",Ev(t.wbrels)),delete t.revssf,delete t.ssf,i}function _Qe(e,t){Zg=1024,e&&!e.SSF&&(e.SSF=hs($a)),e&&e.SSF&&(jT(),kT(e.SSF),t.revssf=TT(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,E1?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var n="xml",r=Vue.indexOf(t.bookType)>-1,a=xue();j$(t=t||{});var i=f$(),o="",s=0;if(t.cellXfs=[],Ih(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",$n(i,o,Sue(e.Props,t)),a.coreprops.push(o),Er(t.rels,2,o,fr.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var l=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&l.push(e.SheetNames[u]);e.Props.SheetNames=l}e.Props.Worksheets=e.Props.SheetNames.length,$n(i,o,Eue(e.Props)),a.extprops.push(o),Er(t.rels,3,o,fr.EXT_PROPS),e.Custprops!==e.Props&&to(e.Custprops||{}).length>0&&(o="docProps/custom.xml",$n(i,o,Nue(e.Custprops)),a.custprops.push(o),Er(t.rels,4,o,fr.CUST_PROPS));var d=["SheetJ5"];for(t.tcid=0,s=1;s<=e.SheetNames.length;++s){var f={"!id":{}},h=e.Sheets[e.SheetNames[s-1]],p=(h||{})["!type"]||"sheet";switch(p){case"chart":default:o="xl/worksheets/sheet"+s+"."+n,$n(i,o,Jue(s-1,t,e,f)),a.sheets.push(o),Er(t.wbrels,-1,"worksheets/sheet"+s+"."+n,fr.WS[0])}if(h){var m=h["!comments"],g=!1,y="";if(m&&m.length>0){var x=!1;m.forEach(function(b){b[1].forEach(function(w){w.T==!0&&(x=!0)})}),x&&(y="xl/threadedComments/threadedComment"+s+"."+n,$n(i,y,JGe(m,d,t)),a.threadedcomments.push(y),Er(f,-1,"../threadedComments/threadedComment"+s+"."+n,fr.TCMNT)),y="xl/comments"+s+"."+n,$n(i,y,Wue(m)),a.comments.push(y),Er(f,-1,"../comments"+s+"."+n,fr.CMNT),g=!0}h["!legacy"]&&g&&$n(i,"xl/drawings/vmlDrawing"+s+".vml",Uue(s,h["!comments"])),delete h["!comments"],delete h["!legacy"]}f["!id"].rId1&&$n(i,wue(o),Ev(f))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+n,$n(i,o,Mue(t.Strings,t)),a.strs.push(o),Er(t.wbrels,-1,"sharedStrings."+n,fr.SST)),o="xl/workbook."+n,$n(i,o,nde(e)),a.workbooks.push(o),Er(t.rels,1,o,fr.WB),o="xl/theme/theme1.xml",$n(i,o,Bue(e.Themes,t)),a.themes.push(o),Er(t.wbrels,-1,"theme/theme1.xml",fr.THEME),o="xl/styles."+n,$n(i,o,Lue(e,t)),a.styles.push(o),Er(t.wbrels,-1,"styles."+n,fr.STY),e.vbaraw&&r&&(o="xl/vbaProject.bin",$n(i,o,e.vbaraw),a.vba.push(o),Er(t.wbrels,-1,"vbaProject.bin",fr.VBA)),o="xl/metadata."+n,$n(i,o,zue()),a.metadata.push(o),Er(t.wbrels,-1,"metadata."+n,fr.XLMETA),d.length>1&&(o="xl/persons/person.xml",$n(i,o,eYe(d)),a.people.push(o),Er(t.wbrels,-1,"persons/person.xml",fr.PEOPLE)),$n(i,"[Content_Types].xml",bue(a,t)),$n(i,"_rels/.rels",Ev(t.rels)),$n(i,"xl/_rels/workbook."+n+".rels",Ev(t.wbrels)),delete t.revssf,delete t.ssf,i}function SQe(e,t){var n="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":n=Md(e.slice(0,12));break;case"binary":n=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2),n.charCodeAt(3),n.charCodeAt(4),n.charCodeAt(5),n.charCodeAt(6),n.charCodeAt(7)]}function cde(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return f2(t.file,Mr.write(e,{type:vr?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return Mr.write(e,t)}function CQe(e,t){var n=hs(t||{}),r=bQe(e,n);return EQe(r,n)}function EQe(e,t){var n={},r=vr?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(n.compression="DEFLATE"),t.password)n.type=r;else switch(t.type){case"base64":n.type="base64";break;case"binary":n.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":n.type=r;break;default:throw new Error("Unrecognized type "+t.type)}var a=e.FullPaths?Mr.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[n.type]||n.type,compression:!!t.compression}):e.generate(n);if(typeof Deno<"u"&&typeof a=="string"){if(t.type=="binary"||t.type=="base64")return a;a=new Uint8Array(NT(a))}return t.password&&typeof encrypt_agile<"u"?cde(encrypt_agile(a,t.password),t):t.type==="file"?f2(t.file,a):t.type=="string"?w1(a):a}function NQe(e,t){var n=t||{},r=UZe(e,n);return cde(r,n)}function $c(e,t,n){n||(n="");var r=n+e;switch(t.type){case"base64":return Bb(Ub(r));case"binary":return Ub(r);case"string":return e;case"file":return f2(t.file,r,"utf8");case"buffer":return vr?Kd(r,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(r):$c(r,{type:"binary"}).split("").map(function(a){return a.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function kQe(e,t){switch(t.type){case"base64":return Bb(e);case"binary":return e;case"string":return e;case"file":return f2(t.file,e,"binary");case"buffer":return vr?Kd(e,"binary"):e.split("").map(function(n){return n.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function oS(e,t){switch(t.type){case"string":case"base64":case"binary":for(var n="",r=0;r<e.length;++r)n+=String.fromCharCode(e[r]);return t.type=="base64"?Bb(n):t.type=="string"?w1(n):n;case"file":return f2(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function ude(e,t){tHe(),fZe(e);var n=hs(t||{});if(n.cellStyles&&(n.cellNF=!0,n.sheetStubs=!0),n.type=="array"){n.type="binary";var r=ude(e,n);return n.type="array",NT(r)}var a=0;if(n.sheet&&(typeof n.sheet=="number"?a=n.sheet:a=e.SheetNames.indexOf(n.sheet),!e.SheetNames[a]))throw new Error("Sheet not found: "+n.sheet+" : "+typeof n.sheet);switch(n.bookType||"xlsb"){case"xml":case"xlml":return $c(BZe(e,n),n);case"slk":case"sylk":return $c(cGe.from_sheet(e.Sheets[e.SheetNames[a]],n),n);case"htm":case"html":return $c(ide(e.Sheets[e.SheetNames[a]],n),n);case"txt":return kQe(dde(e.Sheets[e.SheetNames[a]],n),n);case"csv":return $c(T$(e.Sheets[e.SheetNames[a]],n),n,"\uFEFF");case"dif":return $c(uGe.from_sheet(e.Sheets[e.SheetNames[a]],n),n);case"dbf":return oS(lGe.from_sheet(e.Sheets[e.SheetNames[a]],n),n);case"prn":return $c(dGe.from_sheet(e.Sheets[e.SheetNames[a]],n),n);case"rtf":return $c(yGe.from_sheet(e.Sheets[e.SheetNames[a]],n),n);case"eth":return $c(Oue.from_sheet(e.Sheets[e.SheetNames[a]],n),n);case"fods":return $c(lde(e,n),n);case"wk1":return oS(bG.sheet_to_wk1(e.Sheets[e.SheetNames[a]],n),n);case"wk3":return oS(bG.book_to_wk3(e,n),n);case"biff2":n.biff||(n.biff=2);case"biff3":n.biff||(n.biff=3);case"biff4":return n.biff||(n.biff=4),oS(ade(e,n),n);case"biff5":n.biff||(n.biff=5);case"biff8":case"xla":case"xls":return n.biff||(n.biff=8),NQe(e,n);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return CQe(e,n);default:throw new Error("Unrecognized bookType |"+n.bookType+"|")}}function jQe(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},n=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();n.match(/^\.[a-z]+$/)&&(e.bookType=n.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function lu(e,t,n){var r={};return r.type="file",r.file=t,jQe(r),ude(e,r)}function TQe(e,t,n,r,a,i,o,s){var l=Ji(n),u=s.defval,d=s.raw||!Object.prototype.hasOwnProperty.call(s,"raw"),f=!0,h=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:n,enumerable:!1})}catch{h.__rowNum__=n}else h.__rowNum__=n;if(!o||e[n])for(var p=t.s.c;p<=t.e.c;++p){var m=o?e[n][p]:e[r[p]+l];if(m===void 0||m.t===void 0){if(u===void 0)continue;i[p]!=null&&(h[i[p]]=u);continue}var g=m.v;switch(m.t){case"z":if(g==null)break;continue;case"e":g=g==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+m.t)}if(i[p]!=null){if(g==null)if(m.t=="e"&&g===null)h[i[p]]=null;else if(u!==void 0)h[i[p]]=u;else if(d&&g===null)h[i[p]]=null;else continue;else h[i[p]]=d&&(m.t!=="n"||m.t==="n"&&s.rawNumbers!==!1)?g:Id(m,g,s);g!=null&&(f=!1)}}return{row:h,isempty:f}}function fN(e,t){if(e==null||e["!ref"]==null)return[];var n={t:"n",v:0},r=0,a=1,i=[],o=0,s="",l={s:{r:0,c:0},e:{r:0,c:0}},u=t||{},d=u.range!=null?u.range:e["!ref"];switch(u.header===1?r=1:u.header==="A"?r=2:Array.isArray(u.header)?r=3:u.header==null&&(r=0),typeof d){case"string":l=sa(d);break;case"number":l=sa(e["!ref"]),l.s.r=d;break;default:l=d}r>0&&(a=0);var f=Ji(l.s.r),h=[],p=[],m=0,g=0,y=Array.isArray(e),x=l.s.r,b=0,w={};y&&!e[x]&&(e[x]=[]);var _=u.skipHidden&&e["!cols"]||[],S=u.skipHidden&&e["!rows"]||[];for(b=l.s.c;b<=l.e.c;++b)if(!(_[b]||{}).hidden)switch(h[b]=Co(b),n=y?e[x][b]:e[h[b]+f],r){case 1:i[b]=b-l.s.c;break;case 2:i[b]=h[b];break;case 3:i[b]=u.header[b-l.s.c];break;default:if(n==null&&(n={w:"__EMPTY",t:"s"}),s=o=Id(n,null,u),g=w[o]||0,!g)w[o]=1;else{do s=o+"_"+g++;while(w[s]);w[o]=g,w[s]=1}i[b]=s}for(x=l.s.r+a;x<=l.e.r;++x)if(!(S[x]||{}).hidden){var k=TQe(e,l,x,h,r,i,y,u);(k.isempty===!1||(r===1?u.blankrows!==!1:u.blankrows))&&(p[m++]=k.row)}return p.length=m,p}var jG=/"/g;function PQe(e,t,n,r,a,i,o,s){for(var l=!0,u=[],d="",f=Ji(n),h=t.s.c;h<=t.e.c;++h)if(r[h]){var p=s.dense?(e[n]||[])[h]:e[r[h]+f];if(p==null)d="";else if(p.v!=null){l=!1,d=""+(s.rawNumbers&&p.t=="n"?p.v:Id(p,null,s));for(var m=0,g=0;m!==d.length;++m)if((g=d.charCodeAt(m))===a||g===i||g===34||s.forceQuotes){d='"'+d.replace(jG,'""')+'"';break}d=="ID"&&(d='"ID"')}else p.f!=null&&!p.F?(l=!1,d="="+p.f,d.indexOf(",")>=0&&(d='"'+d.replace(jG,'""')+'"')):d="";u.push(d)}return s.blankrows===!1&&l?null:u.join(o)}function T$(e,t){var n=[],r=t??{};if(e==null||e["!ref"]==null)return"";var a=sa(e["!ref"]),i=r.FS!==void 0?r.FS:",",o=i.charCodeAt(0),s=r.RS!==void 0?r.RS:`
`,l=s.charCodeAt(0),u=new RegExp((i=="|"?"\\|":i)+"+$"),d="",f=[];r.dense=Array.isArray(e);for(var h=r.skipHidden&&e["!cols"]||[],p=r.skipHidden&&e["!rows"]||[],m=a.s.c;m<=a.e.c;++m)(h[m]||{}).hidden||(f[m]=Co(m));for(var g=0,y=a.s.r;y<=a.e.r;++y)(p[y]||{}).hidden||(d=PQe(e,a,y,f,o,l,i,r),d!=null&&(r.strip&&(d=d.replace(u,"")),(d||r.blankrows!==!1)&&n.push((g++?s:"")+d)));return delete r.dense,n.join("")}function dde(e,t){t||(t={}),t.FS="	",t.RS=`
`;var n=T$(e,t);return n}function AQe(e){var t="",n,r="";if(e==null||e["!ref"]==null)return[];var a=sa(e["!ref"]),i="",o=[],s,l=[],u=Array.isArray(e);for(s=a.s.c;s<=a.e.c;++s)o[s]=Co(s);for(var d=a.s.r;d<=a.e.r;++d)for(i=Ji(d),s=a.s.c;s<=a.e.c;++s)if(t=o[s]+i,n=u?(e[d]||[])[s]:e[t],r="",n!==void 0){if(n.F!=null){if(t=n.F,!n.f)continue;r=n.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(n.f!=null)r=n.f;else{if(n.t=="z")continue;if(n.t=="n"&&n.v!=null)r=""+n.v;else if(n.t=="b")r=n.v?"TRUE":"FALSE";else if(n.w!==void 0)r="'"+n.w;else{if(n.v===void 0)continue;n.t=="s"?r="'"+n.v:r=""+n.v}}l[l.length]=t+"="+r}return l}function fde(e,t,n){var r=n||{},a=+!r.skipHeader,i=e||{},o=0,s=0;if(i&&r.origin!=null)if(typeof r.origin=="number")o=r.origin;else{var l=typeof r.origin=="string"?ki(r.origin):r.origin;o=l.r,s=l.c}var u,d={s:{c:0,r:0},e:{c:s,r:o+t.length-1+a}};if(i["!ref"]){var f=sa(i["!ref"]);d.e.c=Math.max(d.e.c,f.e.c),d.e.r=Math.max(d.e.r,f.e.r),o==-1&&(o=f.e.r+1,d.e.r=o+t.length-1+a)}else o==-1&&(o=0,d.e.r=t.length-1+a);var h=r.header||[],p=0;t.forEach(function(g,y){to(g).forEach(function(x){(p=h.indexOf(x))==-1&&(h[p=h.length]=x);var b=g[x],w="z",_="",S=Pr({c:s+p,r:o+y+a});u=Hb(i,S),b&&typeof b=="object"&&!(b instanceof Date)?i[S]=b:(typeof b=="number"?w="n":typeof b=="boolean"?w="b":typeof b=="string"?w="s":b instanceof Date?(w="d",r.cellDates||(w="n",b=fs(b)),_=r.dateNF||$a[14]):b===null&&r.nullError&&(w="e",b=0),u?(u.t=w,u.v=b,delete u.w,delete u.R,_&&(u.z=_)):i[S]=u={t:w,v:b},_&&(u.z=_))})}),d.e.c=Math.max(d.e.c,s+h.length-1);var m=Ji(o);if(a)for(p=0;p<h.length;++p)i[Co(p+s)+m]={t:"s",v:h[p]};return i["!ref"]=ti(d),i}function DQe(e,t){return fde(null,e,t)}function Hb(e,t,n){if(typeof t=="string"){if(Array.isArray(e)){var r=ki(t);return e[r.r]||(e[r.r]=[]),e[r.r][r.c]||(e[r.r][r.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?Hb(e,Pr(t)):Hb(e,Pr({r:t,c:n||0}))}function OQe(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var n=e.SheetNames.indexOf(t);if(n>-1)return n;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function MQe(){return{SheetNames:[],Sheets:{}}}function IQe(e,t,n,r){var a=1;if(!n)for(;a<=65535&&e.SheetNames.indexOf(n="Sheet"+a)!=-1;++a,n=void 0);if(!n||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&e.SheetNames.indexOf(n)>=0){var i=n.match(/(^.*?)(\d+)$/);a=i&&+i[2]||0;var o=i&&i[1]||n;for(++a;a<=65535&&e.SheetNames.indexOf(n=o+a)!=-1;++a);}if(tde(n),e.SheetNames.indexOf(n)>=0)throw new Error("Worksheet with name |"+n+"| already exists!");return e.SheetNames.push(n),e.Sheets[n]=t,n}function RQe(e,t,n){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var r=OQe(e,t);switch(e.Workbook.Sheets[r]||(e.Workbook.Sheets[r]={}),n){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+n)}e.Workbook.Sheets[r].Hidden=n}function FQe(e,t){return e.z=t,e}function hde(e,t,n){return t?(e.l={Target:t},n&&(e.l.Tooltip=n)):delete e.l,e}function LQe(e,t,n){return hde(e,"#"+t,n)}function $Qe(e,t,n){e.c||(e.c=[]),e.c.push({t,a:n||"SheetJS"})}function BQe(e,t,n,r){for(var a=typeof t!="string"?t:sa(t),i=typeof t=="string"?t:ti(t),o=a.s.r;o<=a.e.r;++o)for(var s=a.s.c;s<=a.e.c;++s){var l=Hb(e,o,s);l.t="n",l.F=i,delete l.v,o==a.s.r&&s==a.s.c&&(l.f=n,r&&(l.D=!0))}return e}var Hn={encode_col:Co,encode_row:Ji,encode_cell:Pr,encode_range:ti,decode_col:y$,decode_row:v$,split_cell:tqe,decode_cell:ki,decode_range:Us,format_cell:Id,sheet_add_aoa:hue,sheet_add_json:fde,sheet_add_dom:ode,aoa_to_sheet:ay,json_to_sheet:DQe,table_to_sheet:sde,table_to_book:uQe,sheet_to_csv:T$,sheet_to_txt:dde,sheet_to_json:fN,sheet_to_html:ide,sheet_to_formulae:AQe,sheet_to_row_object_array:fN,sheet_get_cell:Hb,book_new:MQe,book_append_sheet:IQe,book_set_sheet_visibility:RQe,cell_set_number_format:FQe,cell_set_hyperlink:hde,cell_set_internal_link:LQe,cell_add_comment:$Qe,sheet_set_array_formula:BQe,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const TG=e=>e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A",PG=()=>{const[e,t]=E.useState([]),[n,r]=E.useState(!0),[a,i]=E.useState(null),[o,s]=E.useState(null),[l,u]=E.useState([]),[d,f]=E.useState(1),[h,p]=E.useState(10),[m,g]=E.useState(""),[y,x]=E.useState("anytime"),b=Zr(),[w,_]=E.useState(null),[S,k]=E.useState(null),[N,P]=E.useState(!1),[T,j]=E.useState({key:"",direction:null});E.useEffect(()=>{const F=re=>{const Q=re.target;!Q.closest(".dropdowns-content")&&!Q.closest(".dots-button")&&s(null)};return document.addEventListener("mousedown",F),()=>document.removeEventListener("mousedown",F)},[]),E.useEffect(()=>{const F=Le.interceptors.request.use(re=>{const Q=localStorage.getItem("token");return Q&&(re.headers.Authorization=`Bearer ${Q}`),re},re=>Promise.reject(re));return()=>{Le.interceptors.request.eject(F)}},[]),E.useEffect(()=>{D()},[]);const D=async()=>{var F;try{const re=localStorage.getItem("token");if(!re)throw new Error("No authentication token found");const Q=await Le.get("/admin/volunteers",{headers:{Authorization:`Bearer ${re}`}});console.log("Raw data from API:",JSON.stringify(Q.data,null,2));const oe=Q.data.map(be=>({...be,created_at:be.created_at||be.createdAt||be.createdat||be.createdDate||be.created})),me=await Promise.all(oe.map(async be=>{try{const de=(await Le.get(`/admin/volunteers/${be.id}/past-events`)).data||[];return{...be,past_events:de,past_events_count:de.length}}catch(ye){return console.error(`Error fetching events for volunteer ${be.id}:`,ye),{...be,past_events:[],past_events_count:0}}}));console.log("Processed data with events:",me),t(me),r(!1)}catch(re){console.error("Error fetching volunteers:",re),((F=re.response)==null?void 0:F.status)===401&&b("/login"),i("Failed to fetch volunteers"),r(!1)}},M=F=>{let re="asc";T.key===F&&(T.direction==="asc"?re="desc":T.direction==="desc"&&(re=null)),j({key:F,direction:re})},R=F=>!T.direction||!T.key?F:[...F].sort((re,Q)=>{if(T.key==="past_events_count"){const be=re.past_events_count||0,ye=Q.past_events_count||0;return T.direction==="asc"?be-ye:ye-be}const oe=re[T.key]||"",me=Q[T.key]||"";return T.direction==="asc"?oe<me?-1:1:oe>me?-1:1}),W=F=>T.key!==F?"sort":T.direction==="asc"?"arrow_upward":T.direction==="desc"?"arrow_downward":"sort",B=R(e.filter(F=>{var be,ye,de,we;const re=m.toLowerCase(),Q=((be=F.name)==null?void 0:be.toLowerCase().includes(re))||((ye=F.email)==null?void 0:ye.toLowerCase().includes(re))||((de=F.phone)==null?void 0:de.toLowerCase().includes(re))||((we=F.username)==null?void 0:we.toLowerCase().includes(re));if(y==="anytime")return Q;const oe=new Date(F.created_at),me=new Date;switch(y){case"last7":const We=new Date(me);return We.setDate(me.getDate()-7),Q&&oe>=We;case"last30":const Me=new Date(me);return Me.setDate(me.getDate()-7),Q&&oe<Me;default:return Q}})),V=Math.ceil(B.length/h),q=(d-1)*h,I=q+h,O=B.slice(q,I),H=F=>{f(F)},ne=F=>{p(Number(F.target.value)),f(1)},z=()=>{const F=[];if(V<=5)for(let Q=1;Q<=V;Q++)F.push(Q);else if(d<=3){for(let Q=1;Q<=4;Q++)F.push(Q);F.push("..."),F.push(V)}else if(d>=V-2){F.push(1),F.push("...");for(let Q=V-3;Q<=V;Q++)F.push(Q)}else F.push(1),F.push("..."),F.push(d-1),F.push(d),F.push(d+1),F.push("..."),F.push(V);return F.map((Q,oe)=>c.jsx("button",{className:`page-number ${d===Q?"active":""} ${Q==="..."?"dots":""}`,onClick:()=>typeof Q=="number"?H(Q):null,disabled:Q==="...",children:Q},oe))},J=async(F,re)=>{var Q,oe;try{switch(F){case"view":const me=await Le.get(`/admin/volunteers/${re.id}`);if(me.data){const ye=await Le.get(`/admin/volunteers/${re.id}/past-events`),de={...me.data,past_events:ye.data||[]};_(de)}break;case"edit":const be={...re,date_of_birth:re.date_of_birth?new Date(re.date_of_birth).toISOString().split("T")[0]:""};k(be);break;case"delete":window.confirm("Are you sure you want to delete this volunteer?")&&(await Le.delete(`/admin/volunteers/${re.id}`),D());break}s(null)}catch(me){console.error(`Error performing ${F}:`,me),me.response&&(console.error("Response error:",me.response.data),console.error("Status:",me.response.status)),i(((oe=(Q=me.response)==null?void 0:Q.data)==null?void 0:oe.error)||`Failed to ${F} volunteer`)}},ee=async F=>{var re,Q;try{console.log("Submitting form data:",F);const oe=await Le.put(`/admin/volunteers/${S.id}`,{...F,role:"volunteer"});console.log("Server response:",oe.data),oe.data&&(k(null),await D())}catch(oe){console.error("Error updating volunteer:",oe),oe.response&&(console.error("Response error data:",oe.response.data),console.error("Response error status:",oe.response.status)),i(((Q=(re=oe.response)==null?void 0:re.data)==null?void 0:Q.error)||"Failed to update volunteer")}},G=async F=>{try{const re=await Le.post("/admin/volunteers",F);return P(!1),await D(),re.data}catch(re){throw console.error("Error creating volunteer:",re),re}},Z=F=>{if(F.target.checked){console.log("Current volunteers:",O);const re=O.map(Q=>Q.id);console.log("Selected all IDs:",re),u(re)}else u([])},se=F=>{u(re=>re.includes(F)?re.filter(Q=>Q!==F):[...re,F])},ae=()=>{try{const F=e.map(me=>({"Full Name":me.name,Email:me.email,Username:me.username,Phone:me.phone||"N/A","Date of Birth":TG(me.date_of_birth||""),Status:me.status,Verified:me.is_verified?"Yes":"No","Last Login":me.last_login?TG(me.last_login):"Never"})),re=Hn.json_to_sheet(F),Q=Hn.book_new();Hn.book_append_sheet(Q,re,"Volunteers");const oe=`volunteers_${new Date().toISOString().split("T")[0]}.xlsx`;lu(Q,oe)}catch(F){console.error("Export error:",F),i("Failed to export data")}},Y=F=>{g(F.target.value),f(1)},X=async()=>{var F,re,Q;if(l.length!==0&&window.confirm(`Are you sure you want to delete ${l.length} volunteer(s)?`))try{console.log("Sending IDs for deletion:",l);const oe=await Le.delete("/admin/volunteers/bulk",{data:{ids:l}});console.log("Bulk delete response:",oe.data),await D(),u([])}catch(oe){console.error("Error performing bulk delete:",oe),console.error("Error details:",(F=oe.response)==null?void 0:F.data),i(((Q=(re=oe.response)==null?void 0:re.data)==null?void 0:Q.error)||oe.message||"Failed to delete volunteers")}},K=F=>{x(F.target.value),f(1)};return n?c.jsx("div",{children:"Loading..."}):a?c.jsxs("div",{children:["Error: ",a]}):c.jsxs("div",{className:"user-management-container",children:[c.jsxs("header",{className:"header",children:[c.jsx("h3",{className:"volunteer-title-admin",children:"Volunteer Management"}),c.jsxs("div",{className:"controls",children:[l.length>0&&c.jsxs("button",{className:"bulk-delete-btn",onClick:X,children:["Delete Selected (",l.length,")"]}),c.jsx("input",{type:"text",placeholder:"Search by name, email, phone...",className:"search-input",value:m,onChange:Y}),c.jsxs("select",{className:"filter",value:y,onChange:K,children:[c.jsx("option",{value:"anytime",children:"Joined Anytime"}),c.jsx("option",{value:"last7",children:"Last 7 days"}),c.jsx("option",{value:"last30",children:"Last 30 days"})]}),c.jsx("button",{className:"export-btn",onClick:ae,disabled:e.length===0,children:"Export"}),c.jsx("button",{className:"new-user-btn",onClick:()=>P(!0),children:"+ New User"})]})]}),B.length===0&&m&&c.jsxs("div",{className:"no-results",children:['No volunteers found matching "',m,'"']}),c.jsx("div",{className:"table-wrapper",children:c.jsxs("table",{className:"user-table",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:c.jsx("input",{type:"checkbox",className:"styled-checkbox",checked:O.length>0&&l.length===O.length,onChange:Z})}),c.jsxs("th",{onClick:()=>M("name"),className:"sortable-header",children:["Full Name ",c.jsx("span",{className:"material-icons sort-icon",children:W("name")})]}),c.jsxs("th",{onClick:()=>M("email"),className:"sortable-header",children:["Email Address ",c.jsx("span",{className:"material-icons sort-icon",children:W("email")})]}),c.jsxs("th",{onClick:()=>M("phone"),className:"sortable-header",children:["Phone ",c.jsx("span",{className:"material-icons sort-icon",children:W("phone")})]}),c.jsxs("th",{onClick:()=>M("status"),className:"sortable-header",children:["Status ",c.jsx("span",{className:"material-icons sort-icon",children:W("status")})]}),c.jsxs("th",{onClick:()=>M("is_verified"),className:"sortable-header",children:["Verified ",c.jsx("span",{className:"material-icons sort-icon",children:W("is_verified")})]}),c.jsxs("th",{onClick:()=>M("past_events_count"),className:"sortable-header",children:["Events Joined ",c.jsx("span",{className:"material-icons sort-icon",children:W("past_events_count")})]}),c.jsx("th",{children:"Actions"})]})}),c.jsx("tbody",{children:O.map(F=>c.jsxs("tr",{children:[c.jsx("td",{children:c.jsx("input",{type:"checkbox",className:"styled-checkbox",checked:l.includes(F.id),onChange:()=>se(F.id)})}),c.jsx("td",{children:F.name}),c.jsx("td",{children:F.email}),c.jsx("td",{children:F.phone||"N/A"}),c.jsx("td",{children:F.status}),c.jsx("td",{children:F.is_verified?"Yes":"No"}),c.jsx("td",{children:F.past_events_count||0}),c.jsx("td",{children:c.jsxs("div",{className:"dropdowns",children:[c.jsx("button",{className:"dots-button",onClick:re=>{re.stopPropagation(),s(o===F.id?null:F.id)}}),o===F.id&&c.jsxs("div",{className:"dropdowns-content active",children:[c.jsx("button",{className:"dropdowns-item-admin view",onClick:()=>J("view",F),children:"View"}),c.jsx("button",{className:"dropdowns-item-admin edit",onClick:()=>J("edit",F),children:"Edit"}),c.jsx("button",{className:"dropdowns-item-admin delete",onClick:()=>J("delete",F),children:"Delete"})]})]})})]},F.id))})]})}),c.jsxs("footer",{className:"pagination",children:[c.jsxs("div",{className:"pagination-controls",children:[c.jsx("button",{onClick:()=>H(d-1),disabled:d===1,className:"page-nav",children:"<"}),z(),c.jsx("button",{onClick:()=>H(d+1),disabled:d===V,className:"page-nav",children:">"})]}),c.jsx("div",{className:"rows-per-page",children:c.jsxs("select",{value:h,onChange:ne,children:[c.jsx("option",{value:10,children:"10 rows"}),c.jsx("option",{value:25,children:"25 rows"}),c.jsx("option",{value:50,children:"50 rows"})]})})]}),w&&c.jsx(KVe,{volunteer:w,onClose:()=>_(null)}),S&&c.jsx(ZVe,{volunteer:S,onSubmit:ee,onCancel:()=>k(null)}),N&&c.jsx(QVe,{onSubmit:G,onCancel:()=>P(!1)})]})},zQe=({scholar:e,onClose:t})=>{console.log("Scholar data received in ViewModal:",e),E.useEffect(()=>{if(console.log("Document paths value:",e.document_paths),console.log("Document paths type:",typeof e.document_paths),typeof e.document_paths=="string"&&(e.document_paths.startsWith("{")||e.document_paths.startsWith("[")))try{const g=JSON.parse(e.document_paths);console.log("Parsed document paths:",g)}catch(g){console.error("Failed to parse document_paths JSON:",g)}},[e.document_paths]);const[n,r]=E.useState(null),a=g=>g?new Date(g).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A",i=g=>{if(!g)return"Never logged in";const y=new Date(g);return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0}).format(y)},s=(()=>{if(e.first_name||e.last_name){const g=[];return e.first_name&&g.push(e.first_name),e.middle_name&&g.push(e.middle_name),e.last_name&&g.push(e.last_name),e.name_extension&&g.push(e.name_extension),{fullName:e.name||g.join(" "),firstName:e.first_name||"N/A",middleName:e.middle_name||"N/A",lastName:e.last_name||"N/A",nameExtension:e.name_extension||"N/A"}}return{fullName:e.name||"N/A",firstName:"N/A",middleName:"N/A",lastName:"N/A",nameExtension:"N/A"}})(),u=(()=>{if(!e.document_paths)return console.log("No document_paths available"),null;try{if(typeof e.document_paths=="object"&&!Array.isArray(e.document_paths))return console.log("Using document_paths as object:",e.document_paths),e.document_paths;console.log("Attempting to parse document_paths from string");const g=JSON.parse(e.document_paths);return console.log("Successfully parsed document_paths:",g),g}catch(g){return console.error("Error parsing document paths:",g),null}})();console.log("Final documents object:",u);const d=g=>{var x;if(!g)return"unknown";const y=(x=g.split(".").pop())==null?void 0:x.toLowerCase();return y==="pdf"?"pdf":["jpg","jpeg","png","gif"].includes(y||"")?"image":"unknown"},f=g=>{switch(g){case"schoolRegistrationForm":return"School Registration Form";case"psaDocument":return"PSA Birth Certificate";case"parentsId":return"Parent's ID";case"reportCard":return"Report Card/Grade Slip";default:return g.replace(/([A-Z])/g," $1").replace(/^./,y=>y.toUpperCase())}},h=(g,y,x)=>{r({url:g,type:y,title:x})},p=()=>{r(null)},m=()=>n?c.jsx("div",{className:"document-preview-overlay",onClick:p,children:c.jsxs("div",{className:"document-preview-content",onClick:g=>g.stopPropagation(),children:[c.jsx("div",{className:"document-preview-header",children:c.jsx("h3",{children:n.title})}),c.jsx("button",{className:"document-preview-top-close",onClick:p,title:"Close preview",children:c.jsx("i",{className:"material-icons",children:"close"})}),c.jsx("div",{className:"document-preview-body",children:n.type==="image"?c.jsx("img",{src:n.url,alt:n.title,className:"document-preview-image"}):n.type==="pdf"?c.jsx("iframe",{src:`${n.url}#toolbar=0`,title:n.title,className:"document-preview-pdf"}):c.jsxs("div",{className:"document-preview-unsupported",children:[c.jsx("p",{children:"This document type cannot be previewed."}),c.jsx("a",{href:n.url,target:"_blank",rel:"noreferrer",className:"download-link",children:"Download Document"})]})}),c.jsx("div",{className:"document-preview-footer",children:c.jsx("a",{href:n.url,download:!0,className:"download-button",children:"Download"})})]})}):null;return c.jsxs("div",{className:"modal-overlay",onClick:t,children:[c.jsxs("div",{className:"modal-contents scholar-edit-form",onClick:g=>g.stopPropagation(),children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{children:"Scholar Details"}),c.jsx("button",{className:"close-button",onClick:t,children:""})]}),c.jsxs("div",{className:"modal-body scholar-form",children:[c.jsxs("div",{className:"form-section",children:[c.jsx("div",{className:"form-section-title",children:"Required Documents"}),u&&Object.keys(u).length>0?c.jsx("div",{className:"document-grid",children:Object.entries(u).map(([g,y])=>{const x=d(y),b=f(g);return c.jsxs("div",{className:"document-item",children:[c.jsx("div",{className:"document-icon",children:x==="pdf"?c.jsx("i",{className:"material-icons",children:"description"}):x==="image"?c.jsx("i",{className:"material-icons",children:"image"}):c.jsx("i",{className:"material-icons",children:"insert_drive_file"})}),c.jsxs("div",{className:"document-details",children:[c.jsx("h4",{children:b}),c.jsxs("div",{className:"document-actionss",children:[c.jsx("button",{className:"view-document-btn",onClick:()=>h(y,x,b),children:"View"}),c.jsx("a",{href:y,download:!0,target:"_blank",rel:"noreferrer",className:"download-document-btn",children:"Download"})]})]})]},g)})}):c.jsx("div",{className:"no-documents-message",children:"No documents uploaded by this scholar."})]}),c.jsxs("div",{className:"form-section",children:[c.jsx("div",{className:"form-section-title",children:"Personal Information"}),c.jsxs("div",{className:"form-row",children:[c.jsx("div",{className:"form-column",children:c.jsxs("div",{className:"detail-group",children:[c.jsx("label",{children:"First Name:"}),c.jsx("div",{className:"detail-value",children:s.firstName})]})}),c.jsx("div",{className:"form-column",children:c.jsxs("div",{className:"detail-group",children:[c.jsx("label",{children:"Middle Name:"}),c.jsx("div",{className:"detail-value",children:s.middleName})]})}),c.jsx("div",{className:"form-column",children:c.jsxs("div",{className:"detail-group",children:[c.jsx("label",{children:"Last Name:"}),c.jsx("div",{className:"detail-value",children:s.lastName})]})}),c.jsx("div",{className:"form-column",children:c.jsxs("div",{className:"detail-group",children:[c.jsx("label",{children:"Name Extension:"}),c.jsx("div",{className:"detail-value",children:s.nameExtension})]})})]}),c.jsxs("div",{className:"form-row",children:[c.jsx("div",{className:"form-column",children:c.jsxs("div",{className:"detail-group",children:[c.jsx("label",{children:"Gender:"}),c.jsx("div",{className:"detail-value",children:e.gender?e.gender.charAt(0).toUpperCase()+e.gender.slice(1):"N/A"})]})}),c.jsx("div",{className:"form-column",children:c.jsxs("div",{className:"detail-group",children:[c.jsx("label",{children:"Date of Birth:"}),c.jsx("div",{className:"detail-value",children:a(e.date_of_birth)})]})}),c.jsx("div",{className:"form-column",children:c.jsxs("div",{className:"detail-group",children:[c.jsx("label",{children:"Phone:"}),c.jsx("div",{className:"detail-value",children:e.phone||"N/A"})]})})]})]}),c.jsxs("div",{className:"form-section",children:[c.jsx("div",{className:"form-section-title",children:"Account Information"}),c.jsxs("div",{className:"form-row three-columns",children:[c.jsx("div",{className:"form-column",children:c.jsxs("div",{className:"detail-group",children:[c.jsx("label",{children:"Username:"}),c.jsx("div",{className:"detail-value",children:e.username})]})}),c.jsx("div",{className:"form-column",children:c.jsxs("div",{className:"detail-group",children:[c.jsx("label",{children:"Email:"}),c.jsx("div",{className:"detail-value",children:e.email})]})}),c.jsx("div",{className:"form-column",children:c.jsxs("div",{className:"detail-group",children:[c.jsx("label",{children:"Status:"}),c.jsx("div",{className:"detail-value",children:c.jsx("span",{className:`status-badge ${e.status}`,children:e.status})})]})})]}),c.jsx("div",{className:"form-row",children:c.jsx("div",{className:"form-column",children:c.jsxs("div",{className:"detail-group",children:[c.jsx("label",{children:"Approved:"}),c.jsx("div",{className:"detail-value",children:e.is_verified?"Yes":"No"})]})})})]}),c.jsxs("div",{className:"form-section",children:[c.jsx("div",{className:"form-section-title",children:"Guardian Information"}),c.jsxs("div",{className:"form-row",children:[c.jsx("div",{className:"form-column",children:c.jsxs("div",{className:"detail-group",children:[c.jsx("label",{children:"Guardian Name:"}),c.jsx("div",{className:"detail-value",children:e.guardian_name||"N/A"})]})}),c.jsx("div",{className:"form-column",children:c.jsxs("div",{className:"detail-group",children:[c.jsx("label",{children:"Guardian Phone:"}),c.jsx("div",{className:"detail-value",children:e.guardian_phone||"N/A"})]})})]}),c.jsx("div",{className:"form-row",children:c.jsx("div",{className:"form-column full-width",children:c.jsxs("div",{className:"detail-group",children:[c.jsx("label",{children:"Address:"}),c.jsx("div",{className:"detail-value",children:e.address||"N/A"})]})})})]}),c.jsxs("div",{className:"form-section",children:[c.jsx("div",{className:"form-section-title",children:"Education Information"}),c.jsxs("div",{className:"form-row three-columns",children:[c.jsx("div",{className:"form-column",children:c.jsxs("div",{className:"detail-group",children:[c.jsx("label",{children:"Education Level:"}),c.jsx("div",{className:"detail-value",children:e.education_level||"N/A"})]})}),c.jsx("div",{className:"form-column",children:c.jsxs("div",{className:"detail-group",children:[c.jsx("label",{children:"School:"}),c.jsx("div",{className:"detail-value",children:e.school||"N/A"})]})}),c.jsx("div",{className:"form-column",children:c.jsxs("div",{className:"detail-group",children:[c.jsx("label",{children:"Parents' Income:"}),c.jsx("div",{className:"detail-value",children:e.parents_income||"N/A"})]})})]})]}),c.jsxs("div",{className:"form-section",children:[c.jsx("div",{className:"form-section-title",children:"System Information"}),c.jsxs("div",{className:"form-row",children:[c.jsx("div",{className:"form-column",children:c.jsxs("div",{className:"detail-group",children:[c.jsx("label",{children:"Created At:"}),c.jsx("div",{className:"detail-value",children:a(e.created_at)})]})}),c.jsx("div",{className:"form-column",children:c.jsxs("div",{className:"detail-group",children:[c.jsx("label",{children:"Last Login:"}),c.jsx("div",{className:"detail-value",children:i(e.last_login)})]})})]})]}),c.jsx("div",{className:"form-actions",children:c.jsx("button",{type:"button",className:"cancel-btn",onClick:t,children:"Close"})})]})]}),m()]})},UQe=({scholar:e,onSubmit:t,onCancel:n})=>{const r=["Elementary","Junior High School","Senior High School","Vocational","College","Graduate School"],a=["below P10,000","P10,001 - P15,000","P15,001 - P20,000","P20,001 - P25,000","P25,001 - P30,000","P30,001 and above"];console.log("Scholar data received in EditForm:",e);const i=()=>{let x="",b="",w="",_="";if(e.first_name)x=e.first_name||"",b=e.middle_name||"",w=e.last_name||"",_=e.name_extension||"",console.log("Using individual name fields:",{firstName:x,middleName:b,lastName:w,nameExtension:_});else if(e.name){console.log("No individual fields found, splitting full name:",e.name);const S=e.name.split(" ");S.length>=2?(x=S[0],w=S[S.length-1],S.length>2&&(b=S.slice(1,S.length-1).join(" "))):S.length===1&&(x=S[0])}return{firstName:x,middleName:b,lastName:w,nameExtension:_}},{firstName:o,middleName:s,lastName:l,nameExtension:u}=i(),[d,f]=E.useState({first_name:o,middle_name:s,last_name:l,name_extension:u,name:e.name||"",username:e.username||"",email:e.email||"",phone:e.phone||"",date_of_birth:e.date_of_birth?new Date(e.date_of_birth).toISOString().split("T")[0]:"",status:e.status||"active",is_verified:e.is_verified||!1,password:"",gender:e.gender||"male",guardian_name:e.guardian_name||"",guardian_phone:e.guardian_phone||"",address:e.address||"",education_level:e.education_level||"",school:e.school||"",parents_income:e.parents_income||""});E.useEffect(()=>{console.log("Form data initialized:",d)},[]);const[h,p]=E.useState({}),m=()=>{const x={};if(d.first_name.trim()||(x.first_name="First name is required"),d.last_name.trim()||(x.last_name="Last name is required"),d.date_of_birth){const b=new Date(d.date_of_birth),w=new Date,_=new Date;_.setFullYear(w.getFullYear()-5),b>_&&(x.date_of_birth="Scholar must be at least 5 years old")}return d.phone&&!/^\d{10,15}$/.test(d.phone.replace(/\D/g,""))&&(x.phone="Please enter a valid phone number"),d.guardian_phone&&!/^\d{10,15}$/.test(d.guardian_phone.replace(/\D/g,""))&&(x.guardian_phone="Please enter a valid phone number"),p(x),Object.keys(x).length===0},g=x=>{const{name:b,value:w,type:_}=x.target;f(S=>({...S,[b]:_==="checkbox"?x.target.checked:w}))},y=x=>{if(x.preventDefault(),!m())return;const b={...d};b.name=[d.first_name,d.middle_name,d.last_name,d.name_extension].filter(Boolean).join(" "),b.password||delete b.password,console.log("Submitting scholar update:",b),t(b)};return c.jsx("div",{className:"modal-overlay",children:c.jsxs("div",{className:"modal-contents scholar-edit-form",children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{children:"Edit Scholar"}),c.jsx("button",{className:"close-button",onClick:n,children:""})]}),c.jsxs("form",{onSubmit:y,className:"edit-form scholar-form",children:[c.jsxs("div",{className:"form-section",children:[c.jsx("div",{className:"form-section-title",children:"Personal Information"}),c.jsxs("div",{className:"form-row",children:[c.jsx("div",{className:"form-column",children:c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"first_name",children:"First Name:"}),c.jsx("input",{id:"first_name",type:"text",name:"first_name",value:d.first_name,onChange:g,required:!0,placeholder:"Enter first name",className:h.first_name?"error-input":""}),h.first_name&&c.jsx("span",{className:"error-text",children:h.first_name})]})}),c.jsx("div",{className:"form-column",children:c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"middle_name",children:"Middle Name:"}),c.jsx("input",{id:"middle_name",type:"text",name:"middle_name",value:d.middle_name,onChange:g,placeholder:"Enter middle name (optional)"})]})}),c.jsx("div",{className:"form-column",children:c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"last_name",children:"Last Name:"}),c.jsx("input",{id:"last_name",type:"text",name:"last_name",value:d.last_name,onChange:g,required:!0,placeholder:"Enter last name",className:h.last_name?"error-input":""}),h.last_name&&c.jsx("span",{className:"error-text",children:h.last_name})]})}),c.jsx("div",{className:"form-column",children:c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"name_extension",children:"Name Extension:"}),c.jsx("input",{id:"name_extension",type:"text",name:"name_extension",value:d.name_extension,onChange:g,placeholder:"Jr., Sr., III, etc."})]})})]}),c.jsxs("div",{className:"form-row",children:[c.jsx("div",{className:"form-column",children:c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"gender",children:"Gender:"}),c.jsxs("select",{id:"gender",name:"gender",value:d.gender,onChange:g,children:[c.jsx("option",{value:"male",children:"Male"}),c.jsx("option",{value:"female",children:"Female"}),c.jsx("option",{value:"other",children:"Other"})]})]})}),c.jsx("div",{className:"form-column",children:c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"date_of_birth",children:"Date of Birth:"}),c.jsx("input",{id:"date_of_birth",type:"date",name:"date_of_birth",value:d.date_of_birth,onChange:g,max:new Date().toISOString().split("T")[0]}),h.date_of_birth&&c.jsx("span",{className:"error-text",children:h.date_of_birth})]})}),c.jsx("div",{className:"form-column",children:c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"phone",children:"Phone:"}),c.jsx("input",{id:"phone",type:"tel",name:"phone",value:d.phone,onChange:g,placeholder:"Enter phone number"}),h.phone&&c.jsx("span",{className:"error-text",children:h.phone})]})})]})]}),c.jsxs("div",{className:"form-section",children:[c.jsx("div",{className:"form-section-title",children:"Account Information"}),c.jsxs("div",{className:"form-row three-columns",children:[c.jsx("div",{className:"form-column",children:c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"username",children:"Username:"}),c.jsx("input",{id:"username",type:"text",name:"username",value:d.username,onChange:g,required:!0,placeholder:"Enter username"})]})}),c.jsx("div",{className:"form-column",children:c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"email",children:"Email:"}),c.jsx("input",{id:"email",type:"email",name:"email",value:d.email,onChange:g,required:!0,placeholder:"Enter email",className:"scholar-email-input"})]})}),c.jsx("div",{className:"form-column",children:c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"status",children:"Status:"}),c.jsxs("select",{id:"status",name:"status",value:d.status,onChange:g,children:[c.jsx("option",{value:"active",children:"Active"}),c.jsx("option",{value:"inactive",children:"Inactive"}),c.jsx("option",{value:"pending",children:"Pending"})]})]})})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"password",children:"Password: (Leave empty to keep current)"}),c.jsx("input",{id:"password",type:"password",name:"password",value:d.password,onChange:g,placeholder:"Enter new password",className:"full-width-field"})]})]}),c.jsxs("div",{className:"form-section",children:[c.jsx("div",{className:"form-section-title",children:"Guardian Information"}),c.jsxs("div",{className:"form-row",children:[c.jsx("div",{className:"form-column",children:c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"guardian_name",children:"Guardian Name:"}),c.jsx("input",{id:"guardian_name",type:"text",name:"guardian_name",value:d.guardian_name,onChange:g,placeholder:"Enter guardian's name"})]})}),c.jsx("div",{className:"form-column",children:c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"guardian_phone",children:"Guardian Phone:"}),c.jsx("input",{id:"guardian_phone",type:"tel",name:"guardian_phone",value:d.guardian_phone,onChange:g,placeholder:"Enter guardian's phone"}),h.guardian_phone&&c.jsx("span",{className:"error-text",children:h.guardian_phone})]})})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"address",children:"Address:"}),c.jsx("textarea",{id:"address",name:"address",value:d.address,onChange:g,placeholder:"Enter address",rows:2,className:"full-width-field"})]})]}),c.jsxs("div",{className:"form-section",children:[c.jsx("div",{className:"form-section-title",children:"Education Information"}),c.jsxs("div",{className:"form-row three-columns",children:[c.jsx("div",{className:"form-column",children:c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"education_level",children:"Education Level:"}),c.jsxs("select",{id:"education_level",name:"education_level",value:d.education_level,onChange:g,children:[c.jsx("option",{value:"",children:"Select Education Level"}),r.map(x=>c.jsx("option",{value:x,children:x},x))]})]})}),c.jsx("div",{className:"form-column",children:c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"school",children:"School:"}),c.jsx("input",{id:"school",type:"text",name:"school",value:d.school,onChange:g,placeholder:"Enter school name"})]})}),c.jsx("div",{className:"form-column",children:c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"parents_income",children:"Parents' Income:"}),c.jsxs("select",{id:"parents_income",name:"parents_income",value:d.parents_income,onChange:g,children:[c.jsx("option",{value:"",children:"Select income range"}),a.map(x=>c.jsx("option",{value:x,children:x},x))]})]})})]})]}),c.jsxs("div",{className:"form-actions",children:[c.jsx("button",{type:"submit",className:"submit-btn",children:"Save Changes"}),c.jsx("button",{type:"button",className:"cancel-btn",onClick:n,children:"Cancel"})]})]})]})})},WQe=({onSubmit:e,onCancel:t,submitError:n})=>{const r=["Elementary","Junior High School","Senior High School","Vocational","College","Graduate School"],a=["below P10,000","P10,001 - P15,000","P15,001 - P20,000","P20,001 - P25,000","P25,001 - P30,000","P30,001 and above"],[i,o]=E.useState({first_name:"",middle_name:"",last_name:"",name_extension:"",name:"",username:"",email:"",password:"",phone:"",status:"active",is_verified:!1,date_of_birth:"",gender:"male",guardian_name:"",guardian_phone:"",address:"",education_level:"",school:"",parents_income:"",role:"scholar",favorite_subject:"",favorite_activity:"",favorite_color:"",other_details:""}),[s,l]=E.useState({});E.useEffect(()=>{n&&n.field&&l(h=>({...h,[n.field]:n.detail||`This ${n.field} is already in use`}))},[n]);const u=()=>{const h={};if(i.first_name.trim()||(h.first_name="First name is required"),i.last_name.trim()||(h.last_name="Last name is required"),i.date_of_birth){const p=new Date(i.date_of_birth),m=new Date,g=new Date;g.setFullYear(m.getFullYear()-5),p>g&&(h.date_of_birth="Scholar must be at least 5 years old")}return i.phone&&!/^\d{10,15}$/.test(i.phone.replace(/\D/g,""))&&(h.phone="Please enter a valid phone number"),i.guardian_phone&&!/^\d{10,15}$/.test(i.guardian_phone.replace(/\D/g,""))&&(h.guardian_phone="Please enter a valid phone number"),l(h),Object.keys(h).length===0},d=h=>{const{name:p,value:m,type:g}=h.target;o(y=>({...y,[p]:g==="checkbox"?h.target.checked:m}))},f=h=>{if(h.preventDefault(),!u())return;const p=[i.first_name,i.middle_name,i.last_name,i.name_extension].filter(Boolean).join(" "),m={first_name:i.first_name,middle_name:i.middle_name||null,last_name:i.last_name,name_extension:i.name_extension||null,name:p,username:i.username,password:i.password,email:i.email,phone:i.phone||null,status:i.status||"active",is_verified:i.is_verified,date_of_birth:i.date_of_birth||null,gender:i.gender,guardian_name:i.guardian_name||null,guardian_phone:i.guardian_phone||null,address:i.address||null,education_level:i.education_level||null,school:i.school||null,parents_income:i.parents_income||null,favorite_subject:i.favorite_subject||null,favorite_activity:i.favorite_activity||null,favorite_color:i.favorite_color||null,other_details:i.other_details||null,current_amount:0,amount_needed:0,role:"scholar"};console.log("Submitting scholar data:",m),e(m)};return c.jsx("div",{className:"modal-overlay",children:c.jsxs("div",{className:"modal-contents scholar-edit-form",children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{children:"New Scholar"}),c.jsx("button",{className:"close-button",onClick:t,children:""})]}),c.jsxs("form",{onSubmit:f,className:"edit-form scholar-form",children:[c.jsxs("div",{className:"form-section",children:[c.jsx("div",{className:"form-section-title",children:"Personal Information"}),c.jsxs("div",{className:"form-row",children:[c.jsx("div",{className:"form-column",children:c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"first_name",children:"First Name:"}),c.jsx("input",{id:"first_name",type:"text",name:"first_name",value:i.first_name,onChange:d,required:!0,placeholder:"Enter first name",className:s.first_name?"error-input":""}),s.first_name&&c.jsx("span",{className:"error-text",children:s.first_name})]})}),c.jsx("div",{className:"form-column",children:c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"middle_name",children:"Middle Name:"}),c.jsx("input",{id:"middle_name",type:"text",name:"middle_name",value:i.middle_name,onChange:d,placeholder:"Enter middle name (optional)"})]})}),c.jsx("div",{className:"form-column",children:c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"last_name",children:"Last Name:"}),c.jsx("input",{id:"last_name",type:"text",name:"last_name",value:i.last_name,onChange:d,required:!0,placeholder:"Enter last name",className:s.last_name?"error-input":""}),s.last_name&&c.jsx("span",{className:"error-text",children:s.last_name})]})}),c.jsx("div",{className:"form-column",children:c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"name_extension",children:"Name Extension:"}),c.jsx("input",{id:"name_extension",type:"text",name:"name_extension",value:i.name_extension,onChange:d,placeholder:"Jr., Sr., III, etc."})]})})]}),c.jsxs("div",{className:"form-row",children:[c.jsx("div",{className:"form-column",children:c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"gender",children:"Gender:"}),c.jsxs("select",{id:"gender",name:"gender",value:i.gender,onChange:d,children:[c.jsx("option",{value:"male",children:"Male"}),c.jsx("option",{value:"female",children:"Female"}),c.jsx("option",{value:"other",children:"Other"})]})]})}),c.jsx("div",{className:"form-column",children:c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"date_of_birth",children:"Date of Birth:"}),c.jsx("input",{id:"date_of_birth",type:"date",name:"date_of_birth",value:i.date_of_birth,onChange:d,max:new Date().toISOString().split("T")[0]}),s.date_of_birth&&c.jsx("span",{className:"error-text",children:s.date_of_birth})]})}),c.jsx("div",{className:"form-column",children:c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"phone",children:"Phone:"}),c.jsx("input",{id:"phone",type:"tel",name:"phone",value:i.phone,onChange:d,placeholder:"Enter phone number"}),s.phone&&c.jsx("span",{className:"error-text",children:s.phone})]})})]})]}),c.jsxs("div",{className:"form-section",children:[c.jsx("div",{className:"form-section-title",children:"Account Information"}),c.jsxs("div",{className:"form-row three-columns",children:[c.jsx("div",{className:"form-column",children:c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"username",children:"Username:"}),c.jsx("input",{id:"username",type:"text",name:"username",value:i.username,onChange:d,required:!0,placeholder:"Enter username",className:s.username?"error-input":""}),s.username&&c.jsx("span",{className:"error-text",children:s.username})]})}),c.jsx("div",{className:"form-column",children:c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"email",children:"Email:"}),c.jsx("input",{id:"email",type:"email",name:"email",value:i.email,onChange:d,required:!0,placeholder:"Enter email",className:`scholar-email-input ${s.email?"error-input":""}`}),s.email&&c.jsx("span",{className:"error-text",children:s.email})]})}),c.jsx("div",{className:"form-column",children:c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"status",children:"Status:"}),c.jsxs("select",{id:"status",name:"status",value:i.status,onChange:d,children:[c.jsx("option",{value:"active",children:"Active"}),c.jsx("option",{value:"inactive",children:"Inactive"}),c.jsx("option",{value:"pending",children:"Pending"})]})]})})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"password",children:"Password:"}),c.jsx("input",{id:"password",type:"password",name:"password",value:i.password,onChange:d,required:!0,placeholder:"Enter password",className:"full-width-field"})]})]}),c.jsxs("div",{className:"form-section",children:[c.jsx("div",{className:"form-section-title",children:"Guardian Information"}),c.jsxs("div",{className:"form-row",children:[c.jsx("div",{className:"form-column",children:c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"guardian_name",children:"Guardian Name:"}),c.jsx("input",{id:"guardian_name",type:"text",name:"guardian_name",value:i.guardian_name,onChange:d,placeholder:"Enter guardian's name"})]})}),c.jsx("div",{className:"form-column",children:c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"guardian_phone",children:"Guardian Phone:"}),c.jsx("input",{id:"guardian_phone",type:"tel",name:"guardian_phone",value:i.guardian_phone,onChange:d,placeholder:"Enter guardian's phone"}),s.guardian_phone&&c.jsx("span",{className:"error-text",children:s.guardian_phone})]})})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"address",children:"Address:"}),c.jsx("textarea",{id:"address",name:"address",value:i.address,onChange:d,placeholder:"Enter address",rows:2,className:"full-width-field"})]})]}),c.jsxs("div",{className:"form-section",children:[c.jsx("div",{className:"form-section-title",children:"Education Information"}),c.jsxs("div",{className:"form-row three-columns",children:[c.jsx("div",{className:"form-column",children:c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"education_level",children:"Education Level:"}),c.jsxs("select",{id:"education_level",name:"education_level",value:i.education_level,onChange:d,children:[c.jsx("option",{value:"",children:"Select Education Level"}),r.map(h=>c.jsx("option",{value:h,children:h},h))]})]})}),c.jsx("div",{className:"form-column",children:c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"school",children:"School:"}),c.jsx("input",{id:"school",type:"text",name:"school",value:i.school,onChange:d,placeholder:"Enter school name"})]})}),c.jsx("div",{className:"form-column",children:c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"parents_income",children:"Parents' Income:"}),c.jsxs("select",{id:"parents_income",name:"parents_income",value:i.parents_income,onChange:d,children:[c.jsx("option",{value:"",children:"Select income range"}),a.map(h=>c.jsx("option",{value:h,children:h},h))]})]})})]})]}),c.jsxs("div",{className:"form-actions",children:[c.jsx("button",{type:"submit",className:"submit-btn",children:"Create Scholar"}),c.jsx("button",{type:"button",className:"cancel-btn",onClick:t,children:"Cancel"})]})]})]})})},AG=()=>{const[e,t]=E.useState([]),[n,r]=E.useState(!0),[a,i]=E.useState(null),[o,s]=E.useState(""),[l,u]=E.useState(1),[d,f]=E.useState(10),[h,p]=E.useState(null),[m,g]=E.useState([]),[y,x]=E.useState("anytime"),[b,w]=E.useState({key:"",direction:null}),[_,S]=E.useState(null),[k,N]=E.useState(null),[P,T]=E.useState(!1),[j,D]=E.useState("all"),[M,R]=E.useState(null),W=async()=>{try{const Q=await Le.get("/admin/scholars");t(Q.data),r(!1)}catch(Q){console.error("Error fetching scholars:",Q),i("Failed to fetch scholars"),r(!1)}};E.useEffect(()=>{W()},[]);const B=Q=>{let oe="asc";b.key===Q&&(b.direction==="asc"?oe="desc":b.direction==="desc"&&(oe=null)),w({key:Q,direction:oe})},V=Q=>b.key!==Q?"sort":b.direction==="asc"?"arrow_upward":b.direction==="desc"?"arrow_downward":"sort",q=Q=>{const oe=new Date;switch(Q){case"last7":const me=new Date(oe);return me.setDate(oe.getDate()-7),me;case"last30":const be=new Date(oe);return be.setDate(oe.getDate()-30),be;default:return null}},O=(Q=>!b.key||!b.direction?Q:[...Q].sort((oe,me)=>{let be=(oe[b.key]||"").toString().toLowerCase(),ye=(me[b.key]||"").toString().toLowerCase();return b.direction==="asc"?be>ye?1:-1:be<ye?1:-1}))(e.filter(Q=>{var we,We;const oe=o.toLowerCase(),me=((we=Q.name)==null?void 0:we.toLowerCase().includes(oe))||((We=Q.username)==null?void 0:We.toLowerCase().includes(oe)),be=j==="all"||j==="approved"&&Q.is_verified||j==="notapproved"&&!Q.is_verified;if(y==="anytime")return me&&be;const ye=new Date(Q.created_at),de=q(y);return me&&be&&de&&ye>=de})),H=Math.ceil(O.length/d),ne=(l-1)*d,z=ne+d,J=O.slice(ne,z),ee=Q=>{Q.target.checked?g(J.map(oe=>oe.id)):g([])},G=async()=>{var Q,oe,me;if(!(!m.length||!window.confirm(`Delete ${m.length} scholar(s)?`)))try{const be=m.map(Number).filter(ye=>!isNaN(ye));await Le.post("/admin/scholars/bulk-delete",{ids:be}),await W(),g([])}catch(be){console.error("Error performing bulk delete:",be),console.error("Error response:",(Q=be.response)==null?void 0:Q.data),i(((me=(oe=be.response)==null?void 0:oe.data)==null?void 0:me.error)||"Failed to delete scholars")}},Z=()=>{const Q=e.map(be=>({"Full Name":be.name,Username:be.username,Phone:be.phone||"N/A",Status:be.status,Approved:be.is_verified?"Yes":"No","Created At":new Date(be.created_at).toLocaleDateString()})),oe=Hn.json_to_sheet(Q),me=Hn.book_new();Hn.book_append_sheet(me,oe,"Scholars"),lu(me,`scholars_${new Date().toISOString().split("T")[0]}.xlsx`)},se=Q=>{g(oe=>oe.includes(Q)?oe.filter(me=>me!==Q):[...oe,Q])},ae=async(Q,oe)=>{var me,be,ye,de,we,We,Me,ze,He;try{switch(Q){case"view":try{const dt=await Le.get(`/admin/scholars/${oe.id}`);dt.data&&(console.log("Scholar data for view:",dt.data),S(dt.data))}catch(dt){throw console.error("Error fetching scholar details for view:",dt),new Error("Failed to load scholar details for viewing")}break;case"edit":try{const dt=await Le.get(`/admin/scholars/${oe.id}`);if(dt.data){const qt=dt.data,Zt={...qt,date_of_birth:qt.date_of_birth?new Date(qt.date_of_birth).toISOString().split("T")[0]:""};console.log("Scholar data for edit:",Zt),N(Zt)}}catch(dt){throw console.error("Error fetching scholar details for edit:",dt),new Error("Failed to load scholar details for editing")}break;case"approve":if(window.confirm("Are you sure you want to approve this scholar?"))try{await Le.put(`/admin/scholars/${oe.id}/approve`,{is_verified:!0},{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}}),alert("Scholar approved successfully!"),await W()}catch(dt){throw console.error("Approval error:",(me=dt.response)==null?void 0:me.data),new Error(((ye=(be=dt.response)==null?void 0:be.data)==null?void 0:ye.details)||"Failed to approve scholar")}break;case"revoke":if(window.confirm("Are you sure you want to revoke this scholar's verification?"))try{await Le.put(`/admin/scholars/${oe.id}/approve`,{is_verified:!1},{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}}),alert("Scholar verification revoked successfully!"),await W()}catch(dt){throw console.error("Revocation error:",(de=dt.response)==null?void 0:de.data),new Error(((We=(we=dt.response)==null?void 0:we.data)==null?void 0:We.details)||"Failed to revoke scholar verification")}break;case"delete":if(window.confirm("Are you sure you want to delete this scholar? This will also delete all associated data."))try{await Le.delete(`/admin/scholars/${oe.id}`),await W()}catch(dt){throw console.error("Delete error:",(Me=dt.response)==null?void 0:Me.data),new Error(((He=(ze=dt.response)==null?void 0:ze.data)==null?void 0:He.details)||"Failed to delete scholar")}break}p(null)}catch(dt){console.error(`Error performing ${Q}:`,dt),i(dt.message||`Failed to ${Q} scholar`),alert(dt.message||`Failed to ${Q} scholar`)}},Y=async Q=>{var oe,me;try{const be=localStorage.getItem("token");if(!be)throw new Error("No auth token found");await Le.put(`/admin/scholars/${k.id}`,Q,{headers:{Authorization:`Bearer ${be}`,"Content-Type":"application/json"}}),N(null),await W()}catch(be){console.error("Error updating scholar:",be),i(((me=(oe=be.response)==null?void 0:oe.data)==null?void 0:me.error)||"Failed to update scholar")}},X=async Q=>{var oe,me,be,ye;try{const de=localStorage.getItem("token");if(!de)throw new Error("No auth token found");R(null),i("");const we={first_name:Q.first_name,middle_name:Q.middle_name||null,last_name:Q.last_name,name_extension:Q.name_extension||null,name:Q.name,username:Q.username,password:Q.password,email:Q.email,phone:Q.phone||null,status:Q.status,is_verified:Q.is_verified,date_of_birth:Q.date_of_birth||null,gender:Q.gender,guardian_name:Q.guardian_name||null,guardian_phone:Q.guardian_phone||null,address:Q.address||null,education_level:Q.education_level||null,school:Q.school||null,parents_income:Q.parents_income||null,role:"scholar"};console.log("Sending scholar data:",we),await Le.post("/admin/scholars",we,{headers:{Authorization:`Bearer ${de}`,"Content-Type":"application/json"}}),T(!1),await W()}catch(de){console.error("Error creating scholar:",de),console.error("Error details:",(oe=de.response)==null?void 0:oe.data),((me=de.response)==null?void 0:me.status)===409?R({field:de.response.data.field,detail:de.response.data.detail}):i(((ye=(be=de.response)==null?void 0:be.data)==null?void 0:ye.error)||"Failed to create scholar")}},K=Q=>{u(Q)},F=Q=>{f(Number(Q.target.value)),u(1)},re=()=>{const Q=[];if(H<=5)for(let me=1;me<=H;me++)Q.push(me);else if(l<=3){for(let me=1;me<=4;me++)Q.push(me);Q.push("..."),Q.push(H)}else if(l>=H-2){Q.push(1),Q.push("...");for(let me=H-3;me<=H;me++)Q.push(me)}else Q.push(1),Q.push("..."),Q.push(l-1),Q.push(l),Q.push(l+1),Q.push("..."),Q.push(H);return Q.map((me,be)=>c.jsx("button",{className:`page-number ${l===me?"active":""} ${me==="..."?"dots":""}`,onClick:()=>typeof me=="number"?K(me):null,disabled:me==="...",children:me},be))};return c.jsxs("div",{className:"user-management-container",children:[c.jsxs("header",{className:"header",children:[c.jsx("h3",{className:"volunteer-title-admin",children:"Scholar Management"}),c.jsxs("div",{className:"controls",children:[m.length>0&&c.jsxs("button",{className:"bulk-delete-btn",onClick:G,children:["Delete Selected (",m.length,")"]}),c.jsx("input",{type:"text",placeholder:"Search by name, username, school...",className:"search-input",value:o,onChange:Q=>s(Q.target.value)}),c.jsxs("div",{className:"filter-tabs-container",children:[c.jsx("button",{className:`filter-tab ${j==="all"?"active":""}`,onClick:()=>D("all"),children:"All"}),c.jsx("button",{className:`filter-tab ${j==="approved"?"active":""}`,onClick:()=>D("approved"),children:"Approved"}),c.jsx("button",{className:`filter-tab ${j==="notapproved"?"active":""}`,onClick:()=>D("notapproved"),children:"Not Approved"})]}),c.jsxs("select",{className:"filter",value:y,onChange:Q=>x(Q.target.value),children:[c.jsx("option",{value:"anytime",children:"Joined Anytime"}),c.jsx("option",{value:"last7",children:"Last 7 days"}),c.jsx("option",{value:"last30",children:"Last 30 days"})]}),c.jsx("button",{className:"export-btn",onClick:Z,disabled:e.length===0,children:"Export"}),c.jsx("button",{className:"new-user-btn",onClick:()=>T(!0),children:"+ New Scholar"})]})]}),c.jsx("div",{className:"table-wrapper",children:c.jsxs("table",{className:"user-table",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:c.jsx("input",{type:"checkbox",className:"styled-checkbox",checked:J.length>0&&m.length===J.length,onChange:ee})}),c.jsxs("th",{onClick:()=>B("name"),className:"sortable-header",children:["Full Name ",c.jsx("span",{className:"material-icons sort-icon",children:V("name")})]}),c.jsxs("th",{onClick:()=>B("username"),className:"sortable-header",children:["Username ",c.jsx("span",{className:"material-icons sort-icon",children:V("username")})]}),c.jsxs("th",{onClick:()=>B("phone"),className:"sortable-header",children:["Phone ",c.jsx("span",{className:"material-icons sort-icon",children:V("phone")})]}),c.jsxs("th",{onClick:()=>B("status"),className:"sortable-header",children:["Status ",c.jsx("span",{className:"material-icons sort-icon",children:V("status")})]}),c.jsxs("th",{onClick:()=>B("is_verified"),className:"sortable-header",children:["Approved ",c.jsx("span",{className:"material-icons sort-icon",children:V("is_verified")})]}),c.jsx("th",{children:"Actions"})]})}),c.jsx("tbody",{children:J.map(Q=>c.jsxs("tr",{children:[c.jsx("td",{children:c.jsx("input",{type:"checkbox",className:"styled-checkbox",checked:m.includes(Q.id),onChange:()=>se(Q.id)})}),c.jsx("td",{children:Q.name}),c.jsx("td",{children:Q.username}),c.jsx("td",{children:Q.phone||"N/A"}),c.jsx("td",{children:Q.status}),c.jsx("td",{children:Q.is_verified?"Yes":"No"}),c.jsx("td",{children:c.jsxs("div",{className:"dropdowns",children:[c.jsx("button",{className:"dots-button",onClick:oe=>{oe.stopPropagation(),p(h===Q.id?null:Q.id)}}),h===Q.id&&c.jsxs("div",{className:"dropdowns-content active",children:[Q.is_verified===!1&&c.jsx("button",{className:"dropdowns-item-admin approve",onClick:()=>ae("approve",Q),children:"Approve"}),Q.is_verified===!0&&c.jsxs("button",{className:"dropdowns-item-admin revoke",onClick:()=>ae("revoke",Q),children:[c.jsx("span",{className:"material-icons",children:"cancel"})," Revoke"]}),c.jsx("button",{className:"dropdowns-item-admin view",onClick:()=>ae("view",Q),children:"View"}),c.jsx("button",{className:"dropdowns-item-admin edit",onClick:()=>ae("edit",Q),children:"Edit"}),c.jsx("button",{className:"dropdowns-item-admin delete",onClick:()=>ae("delete",Q),children:"Delete"})]})]})})]},Q.id))})]})}),c.jsxs("footer",{className:"pagination",children:[c.jsxs("div",{className:"pagination-controls",children:[c.jsx("button",{onClick:()=>K(l-1),disabled:l===1,className:"page-nav",children:"<"}),re(),c.jsx("button",{onClick:()=>K(l+1),disabled:l===H,className:"page-nav",children:">"})]}),c.jsx("div",{className:"rows-per-page",children:c.jsxs("select",{value:d,onChange:F,children:[c.jsx("option",{value:10,children:"10 rows"}),c.jsx("option",{value:25,children:"25 rows"}),c.jsx("option",{value:50,children:"50 rows"})]})})]}),_&&c.jsx(zQe,{scholar:_,onClose:()=>S(null)}),k&&c.jsx(UQe,{scholar:k,onSubmit:Y,onCancel:()=>N(null)}),P&&c.jsx(WQe,{onSubmit:X,onCancel:()=>{T(!1),R(null)},submitError:M})]})},VQe=({sponsor:e,onClose:t})=>{const n=a=>a?new Date(a).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A",r=a=>{if(!a)return"Never logged in";const i=new Date(a);return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0}).format(i)};return c.jsx("div",{className:"modal-overlay",onClick:t,children:c.jsxs("div",{className:"modal-contents",onClick:a=>a.stopPropagation(),children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{children:"Sponsor Details"}),c.jsx("button",{className:"close-button",onClick:t,children:""})]}),c.jsxs("div",{className:"modal-body",children:[c.jsxs("div",{className:"detail-row",children:[c.jsx("label",{children:"Full Name:"}),c.jsx("span",{children:e.name})]}),c.jsxs("div",{className:"detail-row",children:[c.jsx("label",{children:"Email:"}),c.jsx("span",{children:e.email})]}),c.jsxs("div",{className:"detail-row",children:[c.jsx("label",{children:"Username:"}),c.jsx("span",{children:e.username})]}),c.jsxs("div",{className:"detail-row",children:[c.jsx("label",{children:"Phone:"}),c.jsx("span",{children:e.phone||"N/A"})]}),c.jsxs("div",{className:"detail-row",children:[c.jsx("label",{children:"Date of Birth:"}),c.jsx("span",{children:n(e.date_of_birth)})]}),c.jsxs("div",{className:"detail-row",children:[c.jsx("label",{children:"Status:"}),c.jsx("span",{children:e.status})]}),c.jsxs("div",{className:"detail-row",children:[c.jsx("label",{children:"Verified:"}),c.jsx("span",{children:e.is_verified?"Yes":"No"})]}),c.jsxs("div",{className:"detail-row",children:[c.jsx("label",{children:"Created At:"}),c.jsx("span",{children:n(e.created_at)})]}),c.jsxs("div",{className:"detail-row",children:[c.jsx("label",{children:"Last Login:"}),c.jsx("span",{children:r(e.last_login)})]})]})]})})},HQe=({sponsor:e,onSubmit:t,onCancel:n})=>{const[r,a]=E.useState({name:e.name||"",email:e.email||"",username:e.username||"",phone:e.phone||"",date_of_birth:e.date_of_birth?new Date(e.date_of_birth).toISOString().split("T")[0]:"",status:e.status||"active",is_verified:e.is_verified||!1,password:""}),i=s=>{const{name:l,value:u,type:d}=s.target;a(f=>({...f,[l]:d==="checkbox"?s.target.checked:u}))},o=s=>{s.preventDefault();const l={...r,...r.password?{password:r.password}:{}};t(l)};return c.jsx("div",{className:"modal-overlay",children:c.jsxs("div",{className:"modal-contents",children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{children:"Edit Sponsor"}),c.jsx("button",{className:"close-button",onClick:n,children:""})]}),c.jsxs("form",{onSubmit:o,className:"edit-form",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Full Name:"}),c.jsx("input",{type:"text",name:"name",value:r.name,onChange:i,required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Email:"}),c.jsx("input",{type:"email",name:"email",value:r.email,onChange:i,required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Username:"}),c.jsx("input",{type:"text",name:"username",value:r.username,onChange:i,required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Password: (Leave empty to keep current)"}),c.jsx("input",{type:"password",name:"password",value:r.password,onChange:i,placeholder:"Enter new password"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Phone:"}),c.jsx("input",{type:"tel",name:"phone",value:r.phone,onChange:i})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Date of Birth:"}),c.jsx("input",{type:"date",name:"date_of_birth",value:r.date_of_birth,onChange:i})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Status:"}),c.jsxs("select",{name:"status",value:r.status,onChange:i,children:[c.jsx("option",{value:"active",children:"Active"}),c.jsx("option",{value:"inactive",children:"Inactive"}),c.jsx("option",{value:"pending",children:"Pending"})]})]}),c.jsx("div",{className:"form-group checkboxes",children:c.jsxs("label",{children:[c.jsx("input",{type:"checkbox",name:"is_verified",checked:r.is_verified,onChange:i}),"Verified"]})}),c.jsxs("div",{className:"form-actions",children:[c.jsx("button",{type:"submit",className:"submit-btn",children:"Save Changes"}),c.jsx("button",{type:"button",className:"cancel-btn",onClick:n,children:"Cancel"})]})]})]})})},qQe=({onSubmit:e,onCancel:t})=>{const[n,r]=E.useState({name:"",email:"",username:"",password:"",phone:"",date_of_birth:"",status:"active",is_verified:!1,role:"sponsor"}),a=o=>{const{name:s,value:l,type:u}=o.target;r(d=>({...d,[s]:u==="checkbox"?o.target.checked:l}))},i=o=>{o.preventDefault(),e(n)};return c.jsx("div",{className:"modal-overlay",children:c.jsxs("div",{className:"modal-contents",children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{children:"New Sponsor"}),c.jsx("button",{className:"close-button",onClick:t,children:""})]}),c.jsxs("form",{onSubmit:i,className:"edit-form",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Full Name:"}),c.jsx("input",{type:"text",name:"name",value:n.name,onChange:a,required:!0,placeholder:"Enter full name"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Email:"}),c.jsx("input",{type:"email",name:"email",value:n.email,onChange:a,required:!0,placeholder:"Enter email address"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Username:"}),c.jsx("input",{type:"text",name:"username",value:n.username,onChange:a,required:!0,placeholder:"Enter username"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Password:"}),c.jsx("input",{type:"password",name:"password",value:n.password,onChange:a,required:!0,placeholder:"Enter password"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Phone:"}),c.jsx("input",{type:"tel",name:"phone",value:n.phone,onChange:a,placeholder:"Enter phone number"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Date of Birth:"}),c.jsx("input",{type:"date",name:"date_of_birth",value:n.date_of_birth,onChange:a,placeholder:"Enter date of birth"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Status:"}),c.jsxs("select",{name:"status",value:n.status,onChange:a,children:[c.jsx("option",{value:"active",children:"Active"}),c.jsx("option",{value:"inactive",children:"Inactive"}),c.jsx("option",{value:"pending",children:"Pending"})]})]}),c.jsx("div",{className:"form-group checkboxes",children:c.jsxs("label",{children:[c.jsx("input",{type:"checkbox",name:"is_verified",checked:n.is_verified,onChange:a}),"Verified"]})}),c.jsxs("div",{className:"form-actions",children:[c.jsx("button",{type:"submit",className:"submit-btn",children:"Create Sponsor"}),c.jsx("button",{type:"button",className:"cancel-btn",onClick:t,children:"Cancel"})]})]})]})})},GQe=()=>{const[e,t]=E.useState([]),[n,r]=E.useState(!0),[a,i]=E.useState(null),[o,s]=E.useState(""),[l,u]=E.useState(1),[d,f]=E.useState(10),[h,p]=E.useState(null),[m,g]=E.useState([]),[y,x]=E.useState("anytime"),[b,w]=E.useState({key:"",direction:null}),[_,S]=E.useState(null),[k,N]=E.useState(null),[P,T]=E.useState(!1),j=async()=>{try{const X=await Le.get("/admin/sponsors");t(X.data),r(!1)}catch(X){console.error("Error fetching sponsors:",X),i("Failed to fetch sponsors"),r(!1)}};E.useEffect(()=>{j()},[]);const D=async X=>{var K,F;try{const re=localStorage.getItem("token");if(!re)throw new Error("No auth token found");const Q={username:X.username,password:X.password,email:X.email,name:X.name,phone:X.phone||null,status:X.status,is_verified:X.is_verified,date_of_birth:X.date_of_birth||null,role:"sponsor"};await Le.post("/admin/sponsors",Q,{headers:{Authorization:`Bearer ${re}`,"Content-Type":"application/json"}}),T(!1),await j()}catch(re){console.error("Error creating sponsor:",re),i(((F=(K=re.response)==null?void 0:K.data)==null?void 0:F.error)||"Failed to create sponsor")}},M=async()=>{var X,K;if(!(!m.length||!window.confirm(`Delete ${m.length} sponsor(s)?`)))try{const F=m.map(re=>parseInt(re)).filter(re=>!isNaN(re));await Le.post("/admin/sponsors/bulk-delete",{ids:F}),await j(),g([])}catch(F){console.error("Error performing bulk delete:",F),i(((K=(X=F.response)==null?void 0:X.data)==null?void 0:K.error)||"Failed to delete sponsors")}},R=()=>{const X=e.map(re=>({"Full Name":re.name,Company:re.company_name||"N/A",Email:re.email,Phone:re.phone||"N/A",Website:re.website||"N/A",Status:re.status,"Created At":new Date(re.created_at).toLocaleDateString()})),K=Hn.json_to_sheet(X),F=Hn.book_new();Hn.book_append_sheet(F,K,"Sponsors"),lu(F,`sponsors_${new Date().toISOString().split("T")[0]}.xlsx`)},W=X=>{g(K=>K.includes(X)?K.filter(F=>F!==X):[...K,X])},B=async(X,K)=>{var F,re;try{switch(X){case"view":const Q=await Le.get(`/admin/sponsors/${K.id}`);S(Q.data);break;case"edit":N(K);break;case"delete":window.confirm("Are you sure you want to delete this sponsor?")&&(await Le.delete(`/admin/sponsors/${K.id}`),await j());break}p(null)}catch(Q){console.error(`Error performing ${X}:`,Q),i(((re=(F=Q.response)==null?void 0:F.data)==null?void 0:re.error)||`Failed to ${X} sponsor`)}},V=async X=>{var K,F;try{const re=localStorage.getItem("token");if(!re)throw new Error("No auth token found");await Le.put(`/admin/sponsors/${k.id}`,X,{headers:{Authorization:`Bearer ${re}`,"Content-Type":"application/json"}}),N(null),await j()}catch(re){console.error("Error updating sponsor:",re),i(((F=(K=re.response)==null?void 0:K.data)==null?void 0:F.error)||"Failed to update sponsor")}},q=X=>{let K="asc";b.key===X&&(b.direction==="asc"?K="desc":b.direction==="desc"&&(K=null)),w({key:X,direction:K})},I=X=>b.key!==X?"sort":b.direction==="asc"?"arrow_upward":b.direction==="desc"?"arrow_downward":"sort",O=X=>{const K=new Date;switch(X){case"last7":const F=new Date(K);return F.setDate(K.getDate()-7),F;case"last30":const re=new Date(K);return re.setDate(K.getDate()-30),re;default:return null}},ne=(X=>!b.key||!b.direction?X:[...X].sort((K,F)=>{let re=(K[b.key]||"").toString().toLowerCase(),Q=(F[b.key]||"").toString().toLowerCase();return b.direction==="asc"?re>Q?1:-1:re<Q?1:-1}))(e.filter(X=>{var oe,me,be;const K=o.toLowerCase(),F=((oe=X.name)==null?void 0:oe.toLowerCase().includes(K))||((me=X.email)==null?void 0:me.toLowerCase().includes(K))||((be=X.company_name)==null?void 0:be.toLowerCase().includes(K));if(y==="anytime")return F;const re=new Date(X.created_at),Q=O(y);return F&&Q&&re>=Q})),z=Math.ceil(ne.length/d),J=(l-1)*d,ee=J+d,G=ne.slice(J,ee),Z=X=>{X.target.checked?g(G.map(K=>K.id)):g([])},se=X=>{u(X)},ae=X=>{f(Number(X.target.value)),u(1)},Y=()=>{const X=[];if(z<=5)for(let F=1;F<=z;F++)X.push(F);else if(l<=3){for(let F=1;F<=4;F++)X.push(F);X.push("..."),X.push(z)}else if(l>=z-2){X.push(1),X.push("...");for(let F=z-3;F<=z;F++)X.push(F)}else X.push(1),X.push("..."),X.push(l-1),X.push(l),X.push(l+1),X.push("..."),X.push(z);return X.map((F,re)=>c.jsx("button",{className:`page-number ${l===F?"active":""} ${F==="..."?"dots":""}`,onClick:()=>typeof F=="number"?se(F):null,disabled:F==="...",children:F},re))};return c.jsxs("div",{className:"user-management-container",children:[c.jsxs("header",{className:"header",children:[c.jsx("h3",{className:"volunteer-title-admin",children:"Sponsor Management"}),c.jsxs("div",{className:"controls",children:[m.length>0&&c.jsxs("button",{className:"bulk-delete-btn",onClick:M,children:["Delete Selected (",m.length,")"]}),c.jsx("input",{type:"text",placeholder:"Search by name, email, company...",className:"search-input",value:o,onChange:X=>s(X.target.value)}),c.jsxs("select",{className:"filter",value:y,onChange:X=>x(X.target.value),children:[c.jsx("option",{value:"anytime",children:"Joined Anytime"}),c.jsx("option",{value:"last7",children:"Last 7 days"}),c.jsx("option",{value:"last30",children:"Last 30 days"})]}),c.jsx("button",{className:"export-btn",onClick:R,disabled:e.length===0,children:"Export"}),c.jsx("button",{className:"new-user-btn",onClick:()=>T(!0),children:"+ New Sponsor"})]})]}),c.jsx("div",{className:"table-wrapper",children:c.jsxs("table",{className:"user-table",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:c.jsx("input",{type:"checkbox",className:"styled-checkbox",checked:G.length>0&&m.length===G.length,onChange:Z})}),c.jsxs("th",{onClick:()=>q("name"),className:"sortable-header",children:["Full Name ",c.jsx("span",{className:"material-icons sort-icon",children:I("name")})]}),c.jsxs("th",{onClick:()=>q("email"),className:"sortable-header",children:["Email Address ",c.jsx("span",{className:"material-icons sort-icon",children:I("email")})]}),c.jsxs("th",{onClick:()=>q("phone"),className:"sortable-header",children:["Phone ",c.jsx("span",{className:"material-icons sort-icon",children:I("phone")})]}),c.jsxs("th",{onClick:()=>q("status"),className:"sortable-header",children:["Status ",c.jsx("span",{className:"material-icons sort-icon",children:I("status")})]}),c.jsxs("th",{onClick:()=>q("is_verified"),className:"sortable-header",children:["Verified ",c.jsx("span",{className:"material-icons sort-icon",children:I("is_verified")})]}),c.jsx("th",{children:"Actions"})]})}),c.jsx("tbody",{children:G.map(X=>c.jsxs("tr",{children:[c.jsx("td",{children:c.jsx("input",{type:"checkbox",className:"styled-checkbox",checked:m.includes(X.id),onChange:()=>W(X.id)})}),c.jsx("td",{children:X.name}),c.jsx("td",{children:X.email}),c.jsx("td",{children:X.company_name||"N/A"}),c.jsx("td",{children:X.status}),c.jsx("td",{children:X.is_verified?"Yes":"No"}),c.jsx("td",{children:c.jsxs("div",{className:"dropdowns",children:[c.jsx("button",{className:"dots-button",onClick:K=>{K.stopPropagation(),p(h===X.id?null:X.id)}}),h===X.id&&c.jsxs("div",{className:"dropdowns-content active",children:[c.jsx("button",{className:"dropdowns-item-admin view",onClick:()=>B("view",X),children:"View"}),c.jsx("button",{className:"dropdowns-item-admin edit",onClick:()=>B("edit",X),children:"Edit"}),c.jsx("button",{className:"dropdowns-item-admin delete",onClick:()=>B("delete",X),children:"Delete"})]})]})})]},X.id))})]})}),c.jsxs("footer",{className:"pagination",children:[c.jsxs("div",{className:"pagination-controls",children:[c.jsx("button",{onClick:()=>se(l-1),disabled:l===1,className:"page-nav",children:"<"}),Y(),c.jsx("button",{onClick:()=>se(l+1),disabled:l===z,className:"page-nav",children:">"})]}),c.jsx("div",{className:"rows-per-page",children:c.jsxs("select",{value:d,onChange:ae,children:[c.jsx("option",{value:10,children:"10 rows"}),c.jsx("option",{value:25,children:"25 rows"}),c.jsx("option",{value:50,children:"50 rows"})]})})]}),_&&c.jsx(VQe,{sponsor:_,onClose:()=>S(null)}),k&&c.jsx(HQe,{sponsor:k,onSubmit:V,onCancel:()=>N(null)}),P&&c.jsx(qQe,{onSubmit:D,onCancel:()=>T(!1)})]})},YQe=({show:e,onClose:t,title:n,children:r,isSubmitting:a=!1})=>(E.useEffect(()=>{const i=o=>{o.key==="Escape"&&t()};return e&&(document.addEventListener("keydown",i),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",i),document.body.style.overflow="unset"}},[e,t]),e?c.jsx("div",{className:"modal-overlay",onClick:t,children:c.jsxs("div",{className:"modal-contentss",onClick:i=>i.stopPropagation(),children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{children:n}),c.jsx("button",{className:"modal-close",onClick:t,disabled:a,children:""})]}),c.jsx("div",{className:"modal-body",children:r})]})}):null);delete Ei.Icon.Default.prototype._getIconUrl;Ei.Icon.Default.mergeOptions({iconUrl:$M,iconRetinaUrl:$M,shadowUrl:Qse});const el=[{value:"tutoring",label:"Tutoring/Academic Support",description:"Helping students with homework, teaching subjects, conducting study sessions"},{value:"mentoring",label:"Mentoring",description:"Providing guidance, career advice, and personal development support"},{value:"counseling",label:"Community Counseling",description:"Offering emotional support, conflict resolution, and basic mental health services"},{value:"healthcare",label:"Healthcare Support",description:"First aid, health education, medical assistance, health awareness programs"},{value:"arts_culture",label:"Arts & Culture Programs",description:"Teaching music, art, dance, theater, organizing cultural events"},{value:"sports_recreation",label:"Sports & Recreation",description:"Coaching sports, organizing games, planning recreational activities"},{value:"environmental",label:"Environmental Projects",description:"Clean-ups, recycling initiatives, environmental education"},{value:"food_distribution",label:"Food Distribution",description:"Preparing meals, distributing food packages, managing food banks"},{value:"shelter_support",label:"Shelter Support",description:"Working in shelters, housing programs, construction assistance"},{value:"administrative",label:"Administrative Support",description:"Office management, data entry, record keeping, documentation"},{value:"event_planning",label:"Event Planning",description:"Organizing community events, fundraisers, awareness programs"},{value:"technical",label:"Technical Support",description:"Computer skills training, tech troubleshooting, digital literacy programs"},{value:"elderly_support",label:"Elderly Support",description:"Elder care, companionship, assistance with daily activities"},{value:"child_care",label:"Child Care",description:"Childcare services, after-school programs, recreational activities for children"},{value:"translation",label:"Translation/Interpretation",description:"Language services for non-native speakers in the community"}],KQe=async(e,t)=>{try{return(await(await fetch(`https://nominatim.openstreetmap.org/reverse?lat=${e}&lon=${t}&format=json`)).json()).display_name}catch(n){return console.error("Geocoding error:",n),null}},XQe=({onLocationSelect:e,initialPosition:t,onClose:n})=>{const[r,a]=E.useState(t||{lat:14.7164,lng:121.1194}),[i,o]=E.useState(!1),s=async()=>{o(!0);const u=await KQe(r.lat,r.lng);o(!1),e(r,u||"Unknown location")},l=()=>(Z8e({click:u=>{a(u.latlng)}}),null);return c.jsx("div",{className:"map-modal-overlay",children:c.jsxs("div",{className:"map-modal-content",children:[c.jsx("h3",{children:"Select Event Location"}),c.jsx("div",{className:"location-map-container",children:c.jsxs(gT,{center:[r.lat,r.lng],zoom:15,style:{height:"400px",width:"100%"},children:[c.jsx(Tb,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>'}),c.jsx(vT,{position:[r.lat,r.lng]}),c.jsx(l,{})]})}),c.jsxs("div",{className:"map-modal-actions",children:[c.jsx("button",{onClick:s,className:"confirm-location-btn",disabled:i,children:i?"Getting address...":"Confirm Location"}),c.jsx("button",{onClick:n,className:"cancel-location-btn",children:"Cancel"})]})]})})},hD=e=>{if(!e)return"/images/default-event.png";if(console.log("Resolving image URL for:",e),e.startsWith("http"))return e;if(e.startsWith("/uploads")){const t=Nn.defaults.baseURL||"http://localhost:5175";return console.log(`Resolved URL: ${t}${e}`),`${t}${e}`}if(!e.startsWith("/")){const t=Nn.defaults.baseURL||"http://localhost:5175";return console.log(`Resolved relative URL: ${t}/uploads/events/${e}`),`${t}/uploads/events/${e}`}return"/images/default-event.png"},DG=async(e,t)=>{try{return await Nn.put(`/api/events/${e}/participants/${t}/approve`,{},{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),!0}catch(n){throw console.error("Error approving participant:",n),n}},ZQe=async(e,t,n="")=>{try{return await Nn.put(`/api/events/${e}/participants/${t}/reject`,{reason:n},{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),!0}catch(r){throw console.error("Error rejecting participant:",r),r}},OG=()=>{const[e,t]=E.useState([]),[n,r]=E.useState(!1),[a,i]=E.useState(null),[o,s]=E.useState(!1),[l,u]=E.useState(null),[d,f]=E.useState({id:"",title:"",date:"",location:"",image:null,description:"",totalVolunteers:0,currentVolunteers:0,totalScholars:0,currentScholars:0,contact:{phone:"",email:""},status:"OPEN",startTime:"",endTime:"",latitude:null,longitude:null,requirements:"",skillRequirements:[]}),[h,p]=E.useState({totalVolunteers:"",currentVolunteers:"",totalScholars:"",currentScholars:""}),[m,g]=E.useState(!1),[y,x]=E.useState([]),[b,w]=E.useState(!1),[_,S]=E.useState(!1),[k,N]=E.useState({email:"",name:"",phone:""}),[P,T]=E.useState([]),[j,D]=E.useState(""),[M,R]=E.useState(null),[W,B]=E.useState([]),[V,q]=E.useState(!1),I=E.useRef(null),[O,H]=E.useState({top:0,left:0}),ne=(he,Ee,Ae,Ze)=>{const qe={totalVolunteers:"",currentVolunteers:"",totalScholars:"",currentScholars:""};return he<0&&(qe.totalVolunteers="Total volunteers cannot be negative"),Ee<0&&(qe.currentVolunteers="Current volunteers cannot be negative"),Ee>he&&(qe.currentVolunteers="Current volunteers cannot exceed total volunteers"),Ae<0&&(qe.totalScholars="Total scholars cannot be negative"),Ze<0&&(qe.currentScholars="Current scholars cannot be negative"),Ze>Ae&&(qe.currentScholars="Current scholars cannot exceed total scholars"),p(qe),!qe.totalVolunteers&&!qe.currentVolunteers&&!qe.totalScholars&&!qe.currentScholars},z=he=>{if(!he)return"";const[Ee,Ae]=he.split(":"),Ze=parseInt(Ee,10),qe=Ze>=12?"PM":"AM";return`${Ze%12||12}:${Ae} ${qe}`},J=he=>{try{return new Date(he).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}catch{return he}},ee=he=>{try{return new Date(he).toISOString().split("T")[0]}catch{return he}},G=()=>{r(!1),i(null),f({id:"",title:"",date:"",location:"",image:null,description:"",totalVolunteers:0,currentVolunteers:0,totalScholars:0,currentScholars:0,contact:{phone:"",email:""},status:"OPEN",startTime:"",endTime:"",latitude:null,longitude:null,requirements:"",skillRequirements:[]})},Z=he=>{var Ae,Ze;const Ee=window.scrollY;if(document.documentElement.style.setProperty("--scroll-y",`${Ee}px`),he){console.log("Event object in handleShow:",JSON.stringify(he,null,2)),console.log("Event requirements value:",he.requirements);const qe=hD(he.image);console.log("Setting image preview to:",qe),K(qe),i(he);const Ht={id:he.id.toString(),title:he.title,date:ee(he.date),location:he.location,image:he.image,description:he.description,totalVolunteers:he.totalVolunteers||0,currentVolunteers:he.currentVolunteers||0,totalScholars:he.totalScholars||0,currentScholars:he.currentScholars||0,contact:{phone:((Ae=he.contact)==null?void 0:Ae.phone)||"",email:((Ze=he.contact)==null?void 0:Ze.email)||""},status:he.status,startTime:he.startTime||"",endTime:he.endTime||"",latitude:he.latitude||null,longitude:he.longitude||null,requirements:he.requirements||"",skillRequirements:he.skillRequirements||[]};console.log("Setting form data to:",Ht),f(Ht),setTimeout(()=>{console.log("FormData after timeout:",d)},100)}else K(""),f({id:"",title:"",date:"",location:"",image:null,description:"",totalVolunteers:0,currentVolunteers:0,totalScholars:0,currentScholars:0,contact:{phone:"",email:""},status:"OPEN",startTime:"",endTime:"",latitude:null,longitude:null,requirements:"",skillRequirements:[]});r(!0)},[se,ae]=E.useState(!1),Y=async()=>{var he,Ee;try{s(!0),u(null),console.log("Fetching events from:",`${Nn.defaults.baseURL}/api/admin/events`);const Ae=await Nn.get("/api/admin/events");if(console.log("Raw response data:",JSON.stringify(Ae.data,null,2)),Array.isArray(Ae.data)){const Ze=Ae.data.map(qe=>{var gt,Rt;console.log(`Event ${qe.id} requirements:`,qe.requirements),console.log(`Event ${qe.id} skill_requirements:`,qe.skill_requirements);const Ht=Array.isArray(qe.skill_requirements)?qe.skill_requirements:qe.skill_requirements?JSON.parse(typeof qe.skill_requirements=="string"?qe.skill_requirements:JSON.stringify(qe.skill_requirements)):[];return console.log(`Processed skill_requirements for event ${qe.id}:`,Ht),{...qe,startTime:qe.start_time||qe.startTime||"",endTime:qe.end_time||qe.endTime||"",totalVolunteers:parseInt(qe.total_volunteers||qe.totalVolunteers)||0,currentVolunteers:parseInt(qe.current_volunteers||qe.currentVolunteers)||0,totalScholars:parseInt(qe.total_scholars||qe.totalScholars)||0,currentScholars:parseInt(qe.current_scholars||qe.currentScholars)||0,requirements:qe.requirements||"",contact:{phone:qe.contact_phone||((gt=qe.contact)==null?void 0:gt.phone)||"",email:qe.contact_email||((Rt=qe.contact)==null?void 0:Rt.email)||""},skillRequirements:Ht}});console.log("Transformed events with skill requirements:",Ze.map(qe=>({id:qe.id,title:qe.title,skillRequirements:qe.skillRequirements}))),t(Ze)}else console.error("Invalid data format:",Ae.data),t([]),u("Invalid data received from server")}catch(Ae){console.error("Failed to fetch events:",Ae),t([]),Nn.isAxiosError(Ae)?u(((Ee=(he=Ae.response)==null?void 0:he.data)==null?void 0:Ee.message)||Ae.message):u("Failed to load events")}finally{s(!1)}};E.useEffect(()=>{Y()},[]);const[X,K]=E.useState(""),F=he=>{var Ae;const Ee=(Ae=he.target.files)==null?void 0:Ae[0];if(Ee){const Ze=new FileReader;Ze.onloadend=()=>{K(Ze.result),f(qe=>({...qe,image:Ee}))},Ze.readAsDataURL(Ee)}},[re,Q]=E.useState(!1),[oe,me]=E.useState(0),[be,ye]=E.useState("");E.useEffect(()=>{const Ee=d.skillRequirements.filter(Ae=>Ae.skill&&el.some(Ze=>Ze.value===Ae.skill)).reduce((Ae,Ze)=>Ae+Ze.count,0);me(Ee),Ee>d.totalVolunteers?ye(`You've allocated ${Ee} skill positions but only have ${d.totalVolunteers} total volunteers`):ye("")},[d.skillRequirements,d.totalVolunteers]);const de=he=>{var Ae;if(!he)return;if(d.skillRequirements.some(Ze=>Ze.skill===he)){sn.warning(`${(Ae=el.find(Ze=>Ze.value===he))==null?void 0:Ae.label} is already added`);return}const Ee=[...d.skillRequirements,{skill:he,count:1}];console.log("Adding skill requirement:",he),console.log("Updated skill requirements:",Ee),f(Ze=>({...Ze,skillRequirements:Ee}))},we=he=>{f(Ee=>({...Ee,skillRequirements:Ee.skillRequirements.filter(Ae=>Ae.skill!==he)}))},We=(he,Ee)=>{f(Ae=>({...Ae,skillRequirements:Ae.skillRequirements.map(Ze=>Ze.skill===he?{...Ze,count:Ee}:Ze)}))},Me=async he=>{if(he.preventDefault(),!ne(d.totalVolunteers,d.currentVolunteers,d.totalScholars,d.currentScholars))return;if(be){sn.error(be);return}if(!d.latitude||!d.longitude){sn.error("Please select a location on the map");return}const Ee=d.skillRequirements.filter(qe=>qe.skill&&el.some(Ht=>Ht.value===qe.skill)),Ae={...d,skillRequirements:Ee};Q(!0);const Ze=new FormData;console.log("Form data before submission:",Ae),console.log("Requirements value:",Ae.requirements),Ze.append("latitude",d.latitude.toString()),Ze.append("longitude",d.longitude.toString()),console.log("Adding requirements to form data:",Ae.requirements),Ze.append("requirements",Ae.requirements||""),Object.entries(Ae).forEach(([qe,Ht])=>{qe==="contact"?(Ze.append("contactPhone",Ht.phone),Ze.append("contactEmail",Ht.email)):qe==="image"?Ht instanceof File?(console.log("Appending image file:",Ht.name),Ze.append("image",Ht)):typeof Ht=="string"&&Ht&&(console.log("Using existing image path:",Ht),Ze.append("existingImage",Ht)):qe!=="latitude"&&qe!=="longitude"&&qe!=="requirements"&&qe!=="skillRequirements"&&Ze.append(qe,String(Ht===null?"":Ht))}),Ze.append("skillRequirements",JSON.stringify(Ae.skillRequirements));for(let qe of Ze.entries())console.log("Form data entry:",qe[0],qe[1]);try{const qe=a?`/api/admin/events/${a.id}`:"/api/admin/events";console.log(`Submitting form to ${qe}`);const Ht=await Nn({method:a?"PUT":"POST",url:qe,data:Ze,headers:{"Content-Type":"multipart/form-data"}});console.log("Server response:",Ht.data),await Y(),G(),sn.success(`Event ${a?"updated":"created"} successfully`)}catch(qe){console.error("Failed to save event:",qe),sn.error("Failed to save event. Please try again.")}finally{Q(!1)}},ze=async he=>{if(window.confirm("Are you sure you want to delete this event?"))try{await Nn.delete(`/api/events/${he}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),sn.success("Event deleted successfully"),Y()}catch(Ee){console.error("Failed to delete event:",Ee),sn.error("Failed to delete event. Please try again.")}},He=async he=>{const Ee=window.scrollY;document.documentElement.style.setProperty("--scroll-y",`${Ee}px`);try{w(!0);const Ae=await Nn.get(`/api/events/${he}/participants`,{params:{includeDetails:!0,includeRole:!0,includeSkills:!0}});console.log("Fetched participants with details:",Ae.data),x(Ae.data);const Ze={};Ae.data.forEach(qe=>{qe.assigned_skill&&(Ze[qe.id]=qe.assigned_skill)}),et(Ze),i(e.find(qe=>qe.id===he)||null),g(!0)}catch(Ae){console.error("Failed to fetch participants:",Ae),sn.error("Failed to load participants")}finally{w(!1)}},dt=async(he,Ee)=>{if(!he||isNaN(he)){console.error("Invalid event ID:",he);return}const Ae=y.find(qe=>qe.id===Ee);if(!Ae)return;const Ze=window.prompt(`Please provide a reason for removing ${Ae.name} from this event (optional):`);if(Ze!==null)try{await Nn.delete(`/api/events/${he}/participants/${Ee}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},data:{reason:Ze}}),await He(he),await Y(),sn.success(`${Ae.name} has been removed from the event`)}catch(qe){console.error("Failed to remove participant:",qe),sn.error("Failed to remove participant")}},qt=async()=>{try{console.log("Fetching volunteers...");const he=await Nn.get("/api/admin/volunteers",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});console.log("Fetched volunteers:",he.data),T(he.data)}catch(he){console.error("Failed to fetch volunteers:",he),u("Failed to load volunteers list")}};E.useEffect(()=>{m&&qt()},[m]);const Zt=async he=>{if(a)try{const Ee=await Nn.post(`/api/events/${a.id}/add-volunteer`,{volunteerId:he.id},{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});await He(a.id),await Y(),S(!1),R(null)}catch(Ee){console.error("Failed to add volunteer:",Ee)}},Wt=(he,Ee)=>{const Ae=new Set(Ee.map(Ze=>Ze.id));return he.filter(Ze=>!Ae.has(Ze.id))},mn=async(he,Ee)=>{var Ae,Ze;try{const qe=document.querySelector(`button[data-user-id="${Ee}"].approve-participant-btn`);qe&&(qe.disabled=!0,qe.innerHTML='<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>'),await DG(he,Ee),qe?(qe.classList.add("approve-success"),qe.innerHTML=`
        <svg class="checkmark" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 52 52">
          <circle class="checkmark__circle" cx="26" cy="26" r="25" fill="none"/>
          <path class="checkmark__check" fill="none" d="M14.1 27.2l7.1 7.2 16.7-16.8"/>
        </svg>
      `,setTimeout(async()=>{sn.success("Participant approved successfully"),await He(he),await Y()},1500)):(sn.success("Participant approved successfully"),await He(he),await Y())}catch(qe){console.error("Failed to approve participant:",qe),sn.error(((Ze=(Ae=qe.response)==null?void 0:Ae.data)==null?void 0:Ze.error)||"Failed to approve participant");const Ht=document.querySelector(`button[data-user-id="${Ee}"].approve-participant-btn`);Ht&&(Ht.disabled=!1,Ht.innerHTML="<FaCheck size={16} />")}},[Re,Ge]=E.useState(""),[at,Ke]=E.useState(!1),[Qe,yt]=E.useState(null),ft=async()=>{var he,Ee;if(!(!a||!Qe))try{await ZQe(a.id,Qe.userId,Re),sn.success(`Participant ${Qe.name} was rejected`),await He(a.id),await Y(),Ke(!1),yt(null),Ge("")}catch(Ae){console.error("Failed to reject participant:",Ae),sn.error(((Ee=(he=Ae.response)==null?void 0:he.data)==null?void 0:Ee.error)||"Failed to reject participant")}},pt=()=>c.jsx("div",{className:"modal-overlay",onClick:()=>Ke(!1),children:c.jsxs("div",{className:"modal-content-rejection",onClick:he=>he.stopPropagation(),children:[c.jsx("h3",{children:"Reject Participant"}),c.jsxs("p",{children:["Are you sure you want to reject ",c.jsx("strong",{children:Qe==null?void 0:Qe.name})," from this event?"]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",children:"Reason (optional):"}),c.jsx("textarea",{className:"form-control",value:Re,onChange:he=>Ge(he.target.value),placeholder:"Provide a reason for rejection (will be sent to the volunteer)",rows:3})]}),c.jsxs("div",{className:"rejection-actions",children:[c.jsx("button",{onClick:()=>Ke(!1),className:"cancel-reject-btn",children:"Cancel"}),c.jsx("button",{onClick:ft,className:"confirm-reject-btn",children:"Confirm Rejection"})]})]})}),Lt=async he=>{try{const Ee=y.filter(Ht=>Ht.status==="PENDING");if(Ee.length===0)return;const Ae=document.querySelector(".approve-all-btn");Ae&&(Ae.disabled=!0,Ae.innerHTML='<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span> Processing...');let Ze=0,qe=0;await Promise.all(Ee.map(async Ht=>{try{await DG(he,Ht.id),Ze++}catch(gt){console.error(`Failed to approve participant ${Ht.id}:`,gt),qe++}})),Ae&&(Ae.classList.add("approve-success"),Ae.innerHTML=`
        <svg class="checkmark" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 52 52">
          <circle class="checkmark__circle" cx="26" cy="26" r="25" fill="none"/>
          <path class="checkmark__check" fill="none" d="M14.1 27.2l7.1 7.2 16.7-16.8"/>
        </svg>
        Approved ${Ze}
      `,setTimeout(()=>{Ae.classList.remove("approve-success"),Ae.disabled=!1,Ae.innerHTML="<FaCheck /> Approve All Pending"},2e3)),qe>0&&sn.error(`Failed to approve ${qe} participant(s)`),Ze>0&&sn.success(`Successfully approved ${Ze} participant(s)`),await He(he),await Y()}catch(Ee){console.error("Error approving all participants:",Ee),sn.error("Failed to approve participants");const Ae=document.querySelector(".approve-all-btn");Ae&&(Ae.disabled=!1,Ae.innerHTML="<FaCheck /> Approve All Pending")}},[ln,rr]=E.useState([]),[Fr,Qr]=E.useState(!1),[la,ai]=E.useState(""),[je,At]=E.useState(!1),wt=he=>{rr(Ee=>Ee.includes(he)?Ee.filter(Ae=>Ae!==he):[...Ee,he])},cn=async()=>{ln.length===0||!a||Qr(!0)},kt=async()=>{if(!(ln.length===0||!a)){At(!0);try{await Nn.delete(`/api/events/${a.id}/participants`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},data:{userIds:ln,reason:la}}),sn.success(`Successfully removed ${ln.length} participants`),await He(a.id),await Y(),rr([]),Qr(!1),ai("")}catch(he){console.error("Failed to remove participants:",he),sn.error("Failed to remove participants")}finally{At(!1)}}},Cn=()=>c.jsx("div",{className:"modal-overlay",onClick:()=>Qr(!1),children:c.jsxs("div",{className:"modal-content-rejection",onClick:he=>he.stopPropagation(),children:[c.jsx("h3",{children:"Remove Multiple Participants"}),c.jsxs("p",{children:["Are you sure you want to remove ",c.jsx("strong",{children:ln.length})," participants from this event?"]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",children:"Reason (optional):"}),c.jsx("textarea",{className:"form-control",value:la,onChange:he=>ai(he.target.value),placeholder:"Provide a reason for removal (will be sent to the volunteers)",rows:3})]}),c.jsxs("div",{className:"rejection-actions",children:[c.jsx("button",{onClick:()=>{Qr(!1),ai("")},className:"cancel-reject-btn",disabled:je,children:"Cancel"}),c.jsx("button",{onClick:kt,className:"confirm-reject-btn",disabled:je,children:je?"Removing...":"Remove Participants"})]})]})}),ke=({skills:he})=>!he||he.length===0?c.jsx("span",{className:"text-muted",children:"No skills listed"}):c.jsx("div",{className:"skill-badges",children:he.map((Ee,Ae)=>{const Ze=el.find(qe=>qe.value===Ee);return c.jsx("span",{className:"skill-badge",title:Ze?`${Ze.label}: ${Ze.description}`:Ee,"data-tooltip-id":`skill-tooltip-${Ae}`,children:Ze?Ze.label:Ee},Ae)})}),De=({disability:he})=>{var Ze;const[Ee,Ae]=E.useState(!1);return he?c.jsxs("div",{className:"disability-info-container",children:[c.jsx("div",{className:"disability-types",children:(Ze=he.types)==null?void 0:Ze.map((qe,Ht)=>c.jsx("span",{className:"disability-type-badge",children:qe},Ht))}),he.details&&c.jsxs("div",{className:"disability-details",children:[c.jsx("button",{className:"details-toggle-btn",onClick:()=>Ae(!Ee),children:Ee?"Hide details":"Show details"}),Ee&&c.jsx("div",{className:"details-content",children:he.details})]})]}):c.jsx("span",{className:"text-muted",children:"None"})},Xe=he=>he.reduce((Ee,Ae)=>{const Ze=Ae.role||"volunteer";return Ee[Ze]||(Ee[Ze]=[]),Ee[Ze].push(Ae),Ee},{}),[it,et]=E.useState({}),ie=(he,Ee)=>{et(Ae=>({...Ae,[he]:Ee===""?null:Ee}))},ge=he=>!he||he.length===0?el:el.filter(Ee=>he.some(Ae=>Ae.skill===Ee.value)),ce=he=>{const Ee={};return he.forEach(Ae=>{const Ze=it[Ae.id];Ze&&(Ee[Ze]=(Ee[Ze]||0)+1)}),Ee},fe=()=>{const he=Xe(y),Ee=he.volunteer||[],Ae=he.scholar||[],Ze=a!=null&&a.skillRequirements?ge(a.skillRequirements):el,qe=ce(Ee),Ht={};return a!=null&&a.skillRequirements&&a.skillRequirements.forEach(gt=>{const Rt=qe[gt.skill]||0;Ht[gt.skill]=gt.count-Rt}),c.jsx("div",{className:"modal-overlay",onClick:()=>g(!1),children:c.jsxs("div",{className:`modal-content-participants ${V&&W.length>0?"with-suggestions":""}`,onClick:gt=>gt.stopPropagation(),children:[c.jsxs("div",{className:"participants-header",children:[c.jsx("h2",{children:"Event Participants"}),c.jsxs("div",{className:"participants-actions",children:[a&&y.some(gt=>gt.status==="PENDING")&&c.jsxs("button",{onClick:()=>a&&Lt(a.id),className:"approve-all-btn",title:"Approve all pending participants",children:[c.jsx(KS,{})," Approve All Pending"]}),y.length>0&&c.jsx("div",{className:"bulk-actions",children:ln.length>0?c.jsxs("button",{onClick:cn,className:"bulk-remove-btn",title:"Remove selected participants",children:[c.jsx(LA,{})," Remove Selected (",ln.length,")"]}):null})]})]}),(a==null?void 0:a.skillRequirements)&&a.skillRequirements.length>0&&c.jsxs("div",{className:"skill-requirements-summary",children:[c.jsx("h4",{children:"Skill Requirements"}),c.jsx("div",{className:"skill-assignment-badges",children:a.skillRequirements.map(gt=>{const Rt=el.find(ar=>ar.value===gt.skill),wn=qe[gt.skill]||0,ca=gt.count-wn;return c.jsxs("div",{className:`skill-assignment-badge ${ca>0?"needs-more":"filled"}`,children:[c.jsx("span",{className:"skill-name",children:(Rt==null?void 0:Rt.label)||gt.skill}),c.jsxs("span",{className:"skill-count",children:[wn,"/",gt.count," assigned"]})]},gt.skill)})})]}),c.jsxs("div",{className:"volunteer-search-container",children:[c.jsxs("div",{className:"search-input-wrapper",children:[c.jsx(VSe,{className:"search-icon"}),c.jsx("input",{ref:I,type:"text",placeholder:"Add volunteers by name or email...",value:j,onChange:gt=>{const Rt=gt.target.value;D(Rt);const ca=Wt(Ee,y).filter(ar=>ar.name.toLowerCase().includes(Rt.toLowerCase())||ar.email.toLowerCase().includes(Rt.toLowerCase()));B(ca),q(!0)},onFocus:()=>q(!0),className:"quick-add-input"}),j&&c.jsx(Of,{className:"clear-search",onClick:()=>{D(""),B([]),q(!1)}})]}),V&&j&&W.length>0&&c.jsx("div",{className:"quick-suggestions",children:W.map(gt=>c.jsxs("div",{className:"suggestion-item",onClick:()=>{Zt(gt),D(""),q(!1)},children:[c.jsx("img",{src:gt.profile_photo||"/images/default-avatar.jpg",alt:gt.name,className:"suggestion-avatar"}),c.jsxs("div",{className:"suggestion-info",children:[c.jsx("div",{className:"suggestion-name",children:gt.name}),c.jsx("div",{className:"suggestion-email",children:gt.email})]})]},gt.id))})]}),c.jsxs("div",{className:"participants-list",children:[c.jsxs("h3",{className:"participant-section-title",children:["Volunteers (",Ee.length,")"]}),Ee.length>0?c.jsxs("table",{className:"participants-table",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:c.jsx("input",{type:"checkbox",checked:ln.length===Ee.length&&Ee.length>0,onChange:()=>{ln.length===Ee.length&&Ee.length>0?rr(gt=>gt.filter(Rt=>!Ee.some(wn=>wn.id===Rt))):rr(gt=>[...gt.filter(Rt=>!Ee.some(wn=>wn.id===Rt)),...Ee.map(Rt=>Rt.id)])},className:"select-all-checkbox"})}),c.jsx("th",{children:"Name"}),c.jsx("th",{children:"Email"}),c.jsx("th",{children:"Phone"}),c.jsx("th",{children:"Joined Date"}),c.jsx("th",{children:"Status"}),c.jsx("th",{children:"Skills"}),c.jsx("th",{children:"Disability"}),c.jsx("th",{children:"Assigned Skill"}),c.jsx("th",{children:"Actions"})]})}),c.jsx("tbody",{children:Ee.map(gt=>c.jsxs("tr",{children:[c.jsx("td",{children:c.jsx("input",{type:"checkbox",checked:ln.includes(gt.id),onChange:()=>wt(gt.id),className:"participant-checkbox"})}),c.jsx("td",{children:c.jsxs("div",{className:"participant-info",children:[c.jsx("img",{src:gt.profile_photo||"/images/default-avatar.jpg",alt:gt.name,className:"participant-avatar"}),c.jsx("span",{children:gt.name})]})}),c.jsx("td",{children:gt.email}),c.jsx("td",{children:gt.phone||"N/A"}),c.jsx("td",{children:new Date(gt.joined_at).toLocaleString()}),c.jsx("td",{children:c.jsx("span",{className:`status-badge ${gt.status.toLowerCase()}`,children:gt.status})}),c.jsx("td",{children:c.jsx(ke,{skills:gt.skills||[]})}),c.jsx("td",{children:c.jsx(De,{disability:gt.disability||null})}),c.jsx("td",{className:"skill-assignment-cell",children:c.jsx("div",{className:"skill-assignment-wrapper",children:c.jsxs("select",{value:it[gt.id]||"",onChange:Rt=>ie(gt.id,Rt.target.value),className:"skill-assignment-select",disabled:gt.status!=="ACTIVE",children:[c.jsx("option",{value:"",children:"None"}),Ze.map(Rt=>{const wn=!(a!=null&&a.skillRequirements)||Ht[Rt.value]>0||it[gt.id]===Rt.value;return c.jsxs("option",{value:Rt.value,disabled:!wn||gt.status!=="ACTIVE",children:[Rt.label," ",Ht[Rt.value]<=0&&it[gt.id]!==Rt.value?"(Full)":""]},Rt.value)})]})})}),c.jsx("td",{children:c.jsxs("div",{className:"participant-actions",children:[gt.status==="PENDING"?c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:()=>a&&mn(a.id,gt.id),className:"approve-participant-btn",title:"Approve participant","data-user-id":gt.id,disabled:!a,children:c.jsx(KS,{size:16})}),c.jsx("button",{onClick:()=>{yt({userId:gt.id,name:gt.name}),Ke(!0)},className:"reject-participant-btn",title:"Reject participant",disabled:!a,children:c.jsx(Of,{size:15})})]}):null,c.jsx("button",{onClick:()=>a&&dt(a.id,gt.id),className:"remove-participant-btn",title:"Remove participant",disabled:!a,children:c.jsx(cz,{size:16})})]})})]},gt.id))})]}):c.jsx("p",{children:"No volunteer participants yet"}),c.jsxs("h3",{className:"participant-section-title scholar-section-title",children:["Scholars (",Ae.length,")"]}),Ae.length>0?c.jsxs("table",{className:"participants-table scholars-table",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:c.jsx("input",{type:"checkbox",checked:ln.length===Ae.length&&Ae.length>0,onChange:()=>{ln.length===Ae.length&&Ae.length>0?rr(gt=>gt.filter(Rt=>!Ae.some(wn=>wn.id===Rt))):rr(gt=>[...gt.filter(Rt=>!Ae.some(wn=>wn.id===Rt)),...Ae.map(Rt=>Rt.id)])},className:"select-all-checkbox"})}),c.jsx("th",{children:"Name"}),c.jsx("th",{children:"Email"}),c.jsx("th",{children:"Phone"}),c.jsx("th",{children:"Joined Date"}),c.jsx("th",{children:"Status"}),c.jsx("th",{children:"Actions"})]})}),c.jsx("tbody",{children:Ae.map(gt=>c.jsxs("tr",{children:[c.jsx("td",{children:c.jsx("input",{type:"checkbox",checked:ln.includes(gt.id),onChange:()=>wt(gt.id),className:"participant-checkbox"})}),c.jsx("td",{children:c.jsxs("div",{className:"participant-info",children:[c.jsx("img",{src:gt.profile_photo||"/images/default-avatar.jpg",alt:gt.name,className:"participant-avatar scholar-avatar"}),c.jsx("span",{children:gt.name})]})}),c.jsx("td",{children:gt.email}),c.jsx("td",{children:gt.phone||"N/A"}),c.jsx("td",{children:new Date(gt.joined_at).toLocaleString()}),c.jsx("td",{children:c.jsx("span",{className:`status-badge ${gt.status.toLowerCase()}`,children:gt.status})}),c.jsx("td",{children:c.jsxs("div",{className:"participant-actions",children:[gt.status==="PENDING"?c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:()=>a&&mn(a.id,gt.id),className:"approve-participant-btn",title:"Approve participant","data-user-id":gt.id,disabled:!a,children:c.jsx(KS,{size:16})}),c.jsx("button",{onClick:()=>{yt({userId:gt.id,name:gt.name}),Ke(!0)},className:"reject-participant-btn",title:"Reject participant",disabled:!a,children:c.jsx(Of,{size:15})})]}):null,c.jsx("button",{onClick:()=>a&&dt(a.id,gt.id),className:"remove-participant-btn",title:"Remove participant",disabled:!a,children:c.jsx(cz,{size:16})})]})})]},gt.id))})]}):c.jsx("p",{children:"No scholar participants yet"})]}),c.jsx("div",{className:"automated-reminders-info",children:c.jsxs("p",{children:[c.jsx(MSe,{className:"reminder-icon"}),"Automated reminder emails and notifications are sent",c.jsx("span",{className:"reminder-timing",children:"  7 days before "})," and",c.jsx("span",{className:"reminder-timing",children:"  1 day before "}),"the event to all approved participants"]})}),c.jsx("button",{onClick:()=>g(!1),className:"participant-modal-close-btn",children:"Close"})]})})},pe=(he,Ee)=>!he||!Ee?"Time not set":!he.includes("AM")&&!he.includes("PM")?`${z(he)} - ${z(Ee)}`:`${he} - ${Ee}`,ve=he=>{const Ee=new Date,Ae=he.filter(qe=>new Date(qe.date)>=Ee),Ze=he.filter(qe=>new Date(qe.date)<Ee);return{currentEvents:Ae,pastEvents:Ze}},[Oe,Ve]=E.useState(!1),[Ue,$e]=E.useState(null),Be=async(he,Ee)=>{console.log("Selected position:",he),$e(he),f(Ae=>({...Ae,location:Ee,latitude:he.lat,longitude:he.lng})),console.log("Updated form data:",{location:Ee,latitude:he.lat,longitude:he.lng}),Ve(!1)},ut=()=>!(!d.latitude||!d.longitude);E.useEffect(()=>{const he=new URLSearchParams(window.location.search),Ee=he.get("highlight"),Ae=he.get("participants")==="true";if(Ee&&e.length>0){const Ze=e.find(qe=>qe.id.toString()===Ee);if(Ze){const qe=document.getElementById(`event-${Ee}`);qe&&(qe.scrollIntoView({behavior:"smooth",block:"center"}),qe.classList.add("highlighted"),Ae?(console.log("Opening participants for event:",Ze),i(Ze),He(Ze.id)):Z(Ze),setTimeout(()=>{qe.classList.remove("highlighted")},3e3))}if(history&&history.replaceState){const qe=window.location.pathname;history.replaceState({},document.title,qe)}}},[e]),E.useEffect(()=>{const he=localStorage.getItem("openEventParticipantsModal");if(he&&e.length>0){const Ee=parseInt(he),Ae=e.find(Ze=>Ze.id===Ee);Ae&&(console.log("Opening participants modal for event:",Ae.title),i(Ae),He(Ee),localStorage.removeItem("openEventParticipantsModal"))}},[e]),E.useEffect(()=>{const Ee=new URLSearchParams(window.location.search).get("highlight");if(Ee&&e.length>0){const Ae=e.find(Ze=>Ze.id.toString()===Ee);if(Ae){const Ze=document.getElementById(`event-${Ee}`);Ze&&(Ze.scrollIntoView({behavior:"smooth",block:"center"}),Ze.classList.add("highlighted"),Z(Ae),setTimeout(()=>{Ze.classList.remove("highlighted")},3e3))}}},[e]),E.useEffect(()=>{const he=localStorage.getItem("openEventModal");if(he&&e.length>0){const Ee=e.find(Ae=>Ae.id.toString()===he);Ee&&(Z(Ee),localStorage.removeItem("openEventModal"))}},[e]),E.useEffect(()=>{const he=localStorage.getItem("eventToEdit");if(he&&e.length>0)try{const Ee=JSON.parse(he),Ae=e.find(Ze=>Ze.id===Ee.id);Ae&&(Z(Ae),localStorage.removeItem("eventToEdit"))}catch(Ee){console.error("Error parsing stored event:",Ee)}},[e]),E.useEffect(()=>{const he=localStorage.getItem("eventToEdit");if(he)try{const Ee=JSON.parse(he);if(console.log("Found stored event:",Ee),e.length>0){const Ae=e.find(Ze=>Ze.id===Ee.id);if(Ae){console.log("Opening modal for event:",Ae),Z(Ae),localStorage.removeItem("eventToEdit");const Ze=document.getElementById(`event-${Ee.id}`);Ze&&(Ze.scrollIntoView({behavior:"smooth",block:"center"}),Ze.classList.add("highlighted"),setTimeout(()=>Ze.classList.remove("highlighted"),3e3))}}}catch(Ee){console.error("Error handling stored event:",Ee),localStorage.removeItem("eventToEdit")}},[e]);const Et=()=>{const he=el.filter(Ae=>!d.skillRequirements.some(Ze=>Ze.skill===Ae.value)),Ee=d.skillRequirements.filter(Ae=>Ae.skill&&el.some(Ze=>Ze.value===Ae.skill));return c.jsxs("div",{className:"form-group skill-requirements-section",children:[c.jsxs("label",{className:"form-label",children:["Volunteer Skill Requirements",c.jsx("span",{className:"field-help",children:"(Optional - Specify roles needed for this event)"})]}),c.jsxs("div",{className:"skill-allocation-info",children:[c.jsxs("span",{className:be?"text-danger":"",children:[oe," of ",d.totalVolunteers," volunteers allocated to specific skills"]}),be&&c.jsx("div",{className:"allocation-error",children:be})]}),c.jsx("div",{className:"skill-requirements-list",children:Ee.map(Ae=>{const Ze=el.find(qe=>qe.value===Ae.skill);return Ze?c.jsxs("div",{className:"skill-requirement-item",children:[c.jsxs("div",{className:"skill-info",children:[c.jsx("strong",{children:Ze.label}),c.jsx("small",{children:Ze.description})]}),c.jsxs("div",{className:"skill-controls",children:[c.jsx("input",{type:"number",value:Ae.count,onChange:qe=>We(Ae.skill,parseInt(qe.target.value)||0),min:"1",max:d.totalVolunteers,className:"skill-count-input"}),c.jsx("button",{type:"button",onClick:()=>we(Ae.skill),className:"remove-skill-btn",children:c.jsx(Of,{})})]})]},Ae.skill):null})}),he.length>0&&c.jsx("div",{className:"add-skill-container",children:c.jsx("div",{className:"skill-dropdown-container",children:c.jsxs("select",{className:"skill-dropdown",onChange:Ae=>{Ae.target.value&&(de(Ae.target.value),Ae.target.value="")},value:"",children:[c.jsx("option",{value:"",disabled:!0,children:"Select a skill to add..."}),he.map(Ae=>c.jsx("option",{value:Ae.value,children:Ae.label},Ae.value))]})})}),Ee.length===0&&c.jsx("div",{className:"no-skills-message",children:"No skills added yet. Use the dropdown above to add specific skills needed for this event."})]})},$t=he=>!he||he.length===0?null:c.jsxs("div",{className:"skill-requirements-badges",children:[c.jsx("h6",{children:"Skills Needed:"}),c.jsx("div",{className:"badges-container",children:he.map(Ee=>{const Ae=el.find(Ze=>Ze.value===Ee.skill);return c.jsxs("span",{className:"skill-requirement-badge",title:Ae==null?void 0:Ae.description,children:[Ae==null?void 0:Ae.label,": ",Ee.count]},Ee.skill)})})]});return c.jsxs("div",{className:"admin-events-container",children:[c.jsxs("div",{className:"admin-event-header",children:[c.jsx("h2",{className:"event-management-title",children:"Event Management"}),c.jsxs("button",{onClick:()=>Z(),className:"create-event-btn",children:[c.jsx(USe,{})," Create New Event"]})]}),o&&c.jsx("div",{children:"Loading events..."}),l&&c.jsx("div",{className:"error-message",children:l}),e&&e.length>0?c.jsxs(c.Fragment,{children:[c.jsx("h3",{className:"events-section-title",children:"Current & Upcoming Events"}),c.jsx("div",{className:"events-grid",children:ve(e).currentEvents.map(he=>{const Ee=he.totalVolunteers-he.currentVolunteers,Ae=he.totalScholars-he.currentScholars,Ze=he.currentVolunteers/he.totalVolunteers*100,qe=he.currentScholars/he.totalScholars*100;return c.jsxs("div",{id:`event-${he.id}`,className:"event-card admin",children:[c.jsx("img",{src:hD(he.image),alt:he.title,className:"event-image",onError:Ht=>{console.error("Failed to load image:",he.image);const gt=Ht.target;gt.src="/images/default-event.png",gt.onerror=null}}),c.jsxs("div",{className:"event-actions",children:[c.jsx("button",{onClick:()=>He(he.id),className:"participants-btn",children:c.jsx(cb,{size:18})}),c.jsx("button",{onClick:()=>Z(he),className:"edit-btn",children:c.jsx(sz,{size:18})}),c.jsx("button",{onClick:()=>ze(he.id),className:"delete-btn-event",children:c.jsx(LA,{size:18})})]}),c.jsx("h4",{children:he.title}),c.jsxs("p",{children:[c.jsx(qp,{size:14,className:"icon"})," ",he.location]}),c.jsxs("p",{children:[c.jsx(pc,{size:14,className:"icon"})," ",J(he.date)]}),c.jsxs("p",{children:[c.jsx(lb,{size:14,className:"icon"})," ",pe(he==null?void 0:he.startTime,he==null?void 0:he.endTime)]}),c.jsxs("div",{className:"progress-section",children:[c.jsx("h5",{children:"Volunteer Progress"}),c.jsx("div",{className:"progress-bar-container",children:c.jsx("div",{className:"progress-bar volunteer-progress",style:{width:`${Ze}%`},children:c.jsx("span",{className:"progress-percentage",children:Ze<5?"":`${Math.round(Ze)}%`})})}),c.jsx("p",{className:"volunteers-needed",children:Ee>0?`${Ee} more volunteers needed`:"No more volunteers needed"})]}),c.jsxs("div",{className:"progress-section",children:[c.jsx("h5",{children:"Scholar Progress"}),c.jsx("div",{className:"progress-bar-container",children:c.jsx("div",{className:"progress-bar scholar-progress",style:{width:`${qe}%`},children:c.jsx("span",{className:"progress-percentage",children:qe<5?"":`${Math.round(qe)}%`})})}),c.jsx("p",{className:"scholars-needed",children:Ae>0?`${Ae} more scholars needed`:"No more scholars needed"})]}),he.skillRequirements&&he.skillRequirements.length>0&&$t(he.skillRequirements),c.jsxs("p",{className:"event-status",children:["Status: ",he.status]})]},he.id)})}),ve(e).pastEvents.length>0&&c.jsxs(c.Fragment,{children:[c.jsx("h3",{className:"events-section-title past-events",children:"Past Events"}),c.jsx("div",{className:"events-grid past",children:ve(e).pastEvents.map(he=>{const Ee=he.totalVolunteers-he.currentVolunteers,Ae=he.currentVolunteers/he.totalVolunteers*100;return c.jsxs("div",{className:"event-card admin past",children:[c.jsx("img",{src:hD(he.image),alt:he.title,className:"event-image",onError:Ze=>{console.error("Failed to load image:",he.image);const qe=Ze.target;qe.src="/images/default-event.png",qe.onerror=null}}),c.jsxs("div",{className:"event-actions",children:[c.jsx("button",{onClick:()=>He(he.id),className:"participants-btn",children:c.jsx(cb,{size:18})}),c.jsx("button",{onClick:()=>Z(he),className:"edit-btn",children:c.jsx(sz,{size:18})}),c.jsx("button",{onClick:()=>ze(he.id),className:"delete-btn-event",children:c.jsx(LA,{size:18})})]}),c.jsx("h4",{children:he.title}),c.jsxs("p",{children:[c.jsx(qp,{size:14,className:"icon"})," ",he.location]}),c.jsxs("p",{children:[c.jsx(pc,{size:14,className:"icon"})," ",J(he.date)]}),c.jsxs("p",{children:[c.jsx(lb,{size:14,className:"icon"})," ",pe(he==null?void 0:he.startTime,he==null?void 0:he.endTime)]}),c.jsxs("div",{className:"progress-bar-container",children:[c.jsx("div",{className:"progress-bar",style:{width:`${Ae}%`,backgroundColor:Ae===100?"#28a745":void 0},children:c.jsx("span",{className:"progress-percentage",children:Ae<5?"":`${Math.round(Ae)}%`})}),Ae<5&&c.jsxs("span",{className:"progress-percentage",children:[Math.round(Ae),"%"]})]}),c.jsx("p",{className:"volunteers-needed",children:Ee>0?`${Ee} more volunteers needed`:"No more volunteers needed"}),c.jsxs("p",{className:"event-status",children:["Status: ",he.status]})]},he.id)})})]})]}):!o&&c.jsx("div",{children:"No events found"}),c.jsx(YQe,{show:n,onClose:G,title:a?"Edit Event":"Create New Event",isSubmitting:re,children:c.jsxs("form",{onSubmit:Me,className:"event-form",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",children:"Title"}),c.jsx("input",{type:"text",className:"form-control",value:d.title,onChange:he=>f({...d,title:he.target.value}),required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",children:"Date"}),c.jsx("input",{type:"date",className:"form-control",value:d.date,onChange:he=>f({...d,date:he.target.value}),required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",children:"Start Time"}),c.jsx("input",{type:"time",className:"form-control",value:d.startTime,onChange:he=>f({...d,startTime:he.target.value}),required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",children:"End Time"}),c.jsx("input",{type:"time",className:"form-control",value:d.endTime,onChange:he=>f({...d,endTime:he.target.value}),required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",children:"Location"}),c.jsxs("div",{className:"location-input-group",children:[c.jsx("input",{type:"text",className:"form-control",value:d.location,onChange:he=>f({...d,location:he.target.value}),required:!0}),c.jsxs("button",{type:"button",className:"map-picker-btn",onClick:()=>Ve(!0),children:[c.jsx(qp,{})," Pick on Map"]})]})]}),c.jsxs("div",{className:"coordinates-group",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",children:"Latitude"}),c.jsx("input",{type:"text",className:"form-control",value:d.latitude||"",onChange:he=>f({...d,latitude:parseFloat(he.target.value)||null}),placeholder:"Latitude will appear here after selecting location",readOnly:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",children:"Longitude"}),c.jsx("input",{type:"text",className:"form-control",value:d.longitude||"",onChange:he=>f({...d,longitude:parseFloat(he.target.value)||null}),placeholder:"Longitude will appear here after selecting location",readOnly:!0})]})]}),c.jsxs("div",{className:"form-group required",children:[c.jsxs("label",{className:"form-label",children:["Event Image",c.jsx("span",{className:"required-asterisk",children:"*"})]}),c.jsxs("div",{className:"image-upload-container",children:[X?c.jsx("div",{className:"image-preview",children:c.jsx("img",{src:X,alt:"Preview",onError:he=>{const Ee=he.target;Ee.src="/images/default-event.png"}})}):c.jsxs("div",{className:"image-preview",children:[c.jsx("img",{src:"/images/default-event.png",alt:"Default preview",className:"default-preview-image"}),c.jsx("p",{className:"no-image-overlay",children:"No image selected"})]}),c.jsxs("label",{className:"image-upload-label",children:[c.jsx(GSe,{className:"upload-icon"}),a?"Change Image":"Upload Image",c.jsx("input",{type:"file",accept:"image/*",className:"image-upload-input",onChange:F,required:!a})]})]})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",children:"Description"}),c.jsx("textarea",{rows:3,className:"form-control",value:d.description,onChange:he=>f({...d,description:he.target.value}),required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsxs("label",{className:"form-label",children:["Event Requirements",c.jsx("span",{className:"field-help",children:"(List any specific requirements for volunteers)"})]}),c.jsx("textarea",{rows:4,className:"form-control",value:d.requirements,onChange:he=>f({...d,requirements:he.target.value})}),!d.requirements&&c.jsx("div",{className:"requirements-example",children:c.jsxs("small",{className:"text-muted",children:["Suggested format:",c.jsxs("ul",{className:"mt-1",children:[c.jsx("li",{children:"Must be 18 years or older"}),c.jsx("li",{children:"Comfortable working outdoors"}),c.jsx("li",{children:"CPR certification (if relevant)"}),c.jsx("li",{children:"Specific skills needed"})]})]})})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",children:"Total Volunteers"}),c.jsx("input",{type:"number",className:`form-control ${h.totalVolunteers?"is-invalid":""}`,value:d.totalVolunteers,onChange:he=>{const Ee=parseInt(he.target.value);f({...d,totalVolunteers:Ee}),ne(Ee,d.currentVolunteers,d.totalScholars,d.currentScholars)},min:"1",required:!0}),h.totalVolunteers&&c.jsx("div",{className:"invalid-feedback",children:h.totalVolunteers})]}),Et(),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",children:"Current Volunteers"}),c.jsx("input",{type:"number",className:`form-control ${h.currentVolunteers?"is-invalid":""}`,value:d.currentVolunteers,onChange:he=>{const Ee=parseInt(he.target.value);f({...d,currentVolunteers:Ee}),ne(d.totalVolunteers,Ee,d.totalScholars,d.currentScholars)},min:"0",max:d.totalVolunteers,required:!0}),h.currentVolunteers&&c.jsx("div",{className:"invalid-feedback",children:h.currentVolunteers})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",children:"Total Scholars"}),c.jsx("input",{type:"number",className:`form-control ${h.totalScholars?"is-invalid":""}`,value:d.totalScholars,onChange:he=>{const Ee=parseInt(he.target.value);f({...d,totalScholars:Ee}),ne(d.totalVolunteers,d.currentVolunteers,Ee,d.currentScholars)},min:"0",required:!0}),h.totalScholars&&c.jsx("div",{className:"invalid-feedback",children:h.totalScholars})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",children:"Current Scholars"}),c.jsx("input",{type:"number",className:`form-control ${h.currentScholars?"is-invalid":""}`,value:d.currentScholars,onChange:he=>{const Ee=parseInt(he.target.value);f({...d,currentScholars:Ee}),ne(d.totalVolunteers,d.currentVolunteers,d.totalScholars,Ee)},min:"0",max:d.totalScholars,required:!0}),h.currentScholars&&c.jsx("div",{className:"invalid-feedback",children:h.currentScholars})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",children:"Contact Phone"}),c.jsx("input",{type:"text",className:"form-control",value:d.contact.phone,onChange:he=>f({...d,contact:{...d.contact,phone:he.target.value}}),required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",children:"Contact Email"}),c.jsx("input",{type:"email",className:"form-control",value:d.contact.email,onChange:he=>f({...d,contact:{...d.contact,email:he.target.value}}),required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",children:"Status"}),c.jsxs("select",{className:"form-control",value:d.status,onChange:he=>f({...d,status:he.target.value}),required:!0,children:[c.jsx("option",{value:"OPEN",children:"OPEN"}),c.jsx("option",{value:"CLOSED",children:"CLOSED"})]})]}),c.jsxs("div",{className:"modal-actions",children:[c.jsx("button",{type:"button",className:"event-admin-cancel",onClick:G,disabled:re,children:"Cancel"}),c.jsx("button",{type:"submit",className:"event-admin-submit",disabled:re||!ut(),children:re?"Saving...":a?"Update Event":"Create Event"})]})]})}),m&&fe(),Oe&&c.jsx(XQe,{onLocationSelect:Be,initialPosition:Ue||void 0,onClose:()=>Ve(!1)}),Fr&&Cn(),at&&pt()]})},QQe=({staff:e,onClose:t})=>c.jsx("div",{className:"modal-overlay",children:c.jsxs("div",{className:"modal-content",children:[c.jsx("h2",{children:"Staff Details"}),c.jsxs("div",{className:"modal-body",children:[c.jsxs("p",{children:[c.jsx("strong",{children:"Name:"})," ",e.name]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Email:"})," ",e.email]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Department:"})," ",e.department||"N/A"]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Phone:"})," ",e.phone||"N/A"]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Status:"})," ",e.status]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Created At:"})," ",new Date(e.created_at).toLocaleDateString()]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Last Login:"})," ",e.last_login?new Date(e.last_login).toLocaleDateString():"Never"]})]}),c.jsx("button",{className:"modal-close",onClick:t,children:"x"})]})}),JQe=({staff:e,onSubmit:t,onCancel:n})=>{const[r,a]=E.useState({name:e.name,email:e.email,department:e.department||"",phone:e.phone||"",status:e.status,password:""});return c.jsx("div",{className:"modal-overlay",children:c.jsxs("form",{className:"staff-form-content",onSubmit:i=>{i.preventDefault();const o={...r,...r.password?{password:r.password}:{}};t(o)},children:[c.jsx("h2",{children:"Edit Staff Member"}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Full Name"}),c.jsx("input",{type:"text",value:r.name,onChange:i=>a({...r,name:i.target.value}),placeholder:"Enter full name",required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Email"}),c.jsx("input",{type:"email",value:r.email,onChange:i=>a({...r,email:i.target.value}),placeholder:"staff.name@kkmk.com",required:!0}),c.jsx("small",{className:"form-note",children:"Email must be in format: staff.name@kkmk.com"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Password"}),c.jsx("input",{type:"password",value:r.password,onChange:i=>a({...r,password:i.target.value}),placeholder:"Leave blank to keep current password"}),c.jsx("small",{className:"form-note",children:"Only fill this if you want to change the password"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Department"}),c.jsx("input",{type:"text",value:r.department,onChange:i=>a({...r,department:i.target.value}),placeholder:"Enter department name"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Phone"}),c.jsx("input",{type:"tel",value:r.phone,onChange:i=>a({...r,phone:i.target.value}),placeholder:"Enter phone number"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Status"}),c.jsxs("select",{value:r.status,onChange:i=>a({...r,status:i.target.value}),required:!0,children:[c.jsx("option",{value:"active",children:"Active"}),c.jsx("option",{value:"inactive",children:"Inactive"}),c.jsx("option",{value:"suspended",children:"Suspended"})]})]}),c.jsxs("div",{className:"staff-form-actions",children:[c.jsx("button",{type:"submit",className:"submit-btn",children:"Save Changes"}),c.jsx("button",{type:"button",onClick:n,className:"cancel-btn",children:"Cancel"})]})]})})},eJe=({onSubmit:e,onCancel:t})=>{const[n,r]=E.useState({name:"",email:"",password:"",department:"",phone:"",status:"active"});return c.jsx("div",{className:"modal-overlay",children:c.jsxs("form",{className:"staff-form-content",onSubmit:a=>{a.preventDefault(),e(n)},children:[c.jsx("h2",{children:"New Staff Member"}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Full Name"}),c.jsx("input",{type:"text",value:n.name,onChange:a=>r({...n,name:a.target.value}),placeholder:"Enter full name",required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Email"}),c.jsx("input",{type:"email",value:n.email,onChange:a=>r({...n,email:a.target.value}),placeholder:"staff.name@kkmk.com",required:!0}),c.jsx("small",{className:"form-note",children:"Email must be in format: staff.name@kkmk.com"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Password"}),c.jsx("input",{type:"password",value:n.password,onChange:a=>r({...n,password:a.target.value}),placeholder:"Enter password",required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Department"}),c.jsx("input",{type:"text",value:n.department,onChange:a=>r({...n,department:a.target.value}),placeholder:"Enter department name"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Phone"}),c.jsx("input",{type:"tel",value:n.phone,onChange:a=>r({...n,phone:a.target.value}),placeholder:"Enter phone number"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Status"}),c.jsxs("select",{value:n.status,onChange:a=>r({...n,status:a.target.value}),required:!0,children:[c.jsx("option",{value:"active",children:"Active"}),c.jsx("option",{value:"inactive",children:"Inactive"}),c.jsx("option",{value:"suspended",children:"Suspended"})]})]}),c.jsxs("div",{className:"staff-form-actions",children:[c.jsx("button",{type:"submit",className:"submit-btn",children:"Create Staff"}),c.jsx("button",{type:"button",onClick:t,className:"cancel-btn",children:"Cancel"})]})]})})},tJe=()=>{const[e,t]=E.useState([]),[n,r]=E.useState(!0),[a,i]=E.useState(null),[o,s]=E.useState(""),[l,u]=E.useState(1),[d,f]=E.useState(10),[h,p]=E.useState(null),[m,g]=E.useState([]),[y,x]=E.useState(null),[b,w]=E.useState(null),[_,S]=E.useState(!1),[k,N]=E.useState("anytime"),[P,T]=E.useState({key:"",direction:null});E.useEffect(()=>{j()},[]);const j=async()=>{try{const Y=await Le.get("/admin/staff");t(Y.data),r(!1)}catch(Y){console.error("Error fetching staff members:",Y),i("Failed to fetch staff members"),r(!1)}},D=Y=>{let X="asc";P.key===Y&&(P.direction==="asc"?X="desc":P.direction==="desc"&&(X=null)),T({key:Y,direction:X})},M=Y=>!P.direction||!P.key?Y:[...Y].sort((X,K)=>{const F=X[P.key]||"",re=K[P.key]||"";return P.direction==="asc"?F<re?-1:1:F>re?-1:1}),R=Y=>P.key!==Y?"sort":P.direction==="asc"?"arrow_upward":P.direction==="desc"?"arrow_downward":"sort",W=M(e.filter(Y=>{var Q,oe,me,be;const X=o.toLowerCase(),K=((Q=Y.name)==null?void 0:Q.toLowerCase().includes(X))||((oe=Y.email)==null?void 0:oe.toLowerCase().includes(X))||((me=Y.department)==null?void 0:me.toLowerCase().includes(X))||((be=Y.phone)==null?void 0:be.toLowerCase().includes(X));if(k==="anytime")return K;const F=new Date(Y.created_at),re=new Date;switch(k){case"last7":const ye=new Date(re);return ye.setDate(re.getDate()-7),K&&F>=ye;case"last30":const de=new Date(re);return de.setDate(re.getDate()-7),K&&F<de;default:return K}})),B=Y=>{N(Y.target.value),u(1)},V=Math.ceil(W.length/d),q=(l-1)*d,I=q+d,O=W.slice(q,I),H=()=>{const Y=e.map(F=>({"Full Name":F.name,Email:F.email,Department:F.department,Phone:F.phone||"N/A",Status:F.status,"Created At":new Date(F.created_at).toLocaleDateString(),"Last Login":F.last_login?new Date(F.last_login).toLocaleDateString():"Never"})),X=Hn.json_to_sheet(Y),K=Hn.book_new();Hn.book_append_sheet(K,X,"Staff Members"),lu(K,`staff_members_${new Date().toISOString().split("T")[0]}.xlsx`)},ne=Y=>{if(Y.target.checked){const X=O.map(K=>K.id);g(X)}else g([])},z=Y=>{g(X=>X.includes(Y)?X.filter(K=>K!==Y):[...X,Y])},J=async()=>{var Y,X;if(!(!m.length||!window.confirm(`Delete ${m.length} staff member(s)?`)))try{await Le.delete("/admin/staff/bulk",{data:{ids:m}}),await j(),g([])}catch(K){console.error("Error performing bulk delete:",K),i(((X=(Y=K.response)==null?void 0:Y.data)==null?void 0:X.error)||"Failed to delete staff members")}},ee=async(Y,X)=>{var K,F;try{switch(Y){case"view":const re=await Le.get(`/admin/staff/${X.id}`);re.data&&x(re.data);break;case"edit":w(X);break;case"delete":window.confirm("Are you sure you want to delete this staff member?")&&(await Le.delete(`/admin/staff/${X.id}`),j());break}p(null)}catch(re){console.error(`Error performing ${Y}:`,re),i(((F=(K=re.response)==null?void 0:K.data)==null?void 0:F.error)||`Failed to ${Y} staff member`)}},G=async Y=>{var X,K;try{await Le.put(`/admin/staff/${b==null?void 0:b.id}`,Y),w(null),await j()}catch(F){console.error("Error updating staff:",F),i(((K=(X=F.response)==null?void 0:X.data)==null?void 0:K.error)||"Failed to update staff member")}},Z=async Y=>{var X,K;try{await Le.post("/admin/staff",Y),S(!1),await j()}catch(F){console.error("Error creating staff:",F),i(((K=(X=F.response)==null?void 0:X.data)==null?void 0:K.error)||"Failed to create staff member")}},se=()=>{const Y=[];if(V<=5)for(let K=1;K<=V;K++)Y.push(K);else if(l<=3){for(let K=1;K<=4;K++)Y.push(K);Y.push("..."),Y.push(V)}else if(l>=V-2){Y.push(1),Y.push("...");for(let K=V-3;K<=V;K++)Y.push(K)}else Y.push(1),Y.push("..."),Y.push(l-1),Y.push(l),Y.push(l+1),Y.push("..."),Y.push(V);return Y.map((K,F)=>c.jsx("button",{className:`page-number ${l===K?"active":""} ${K==="..."?"dots":""}`,onClick:()=>typeof K=="number"?ae(K):null,disabled:K==="...",children:K},F))},ae=Y=>{u(Y)};return n?c.jsx("div",{children:"Loading..."}):a?c.jsxs("div",{children:["Error: ",a]}):c.jsxs("div",{className:"user-management-container",children:[c.jsxs("header",{className:"header",children:[c.jsx("h3",{className:"volunteer-title-admin",children:"Staff Management"}),c.jsxs("div",{className:"controls",children:[m.length>0&&c.jsxs("button",{className:"bulk-delete-btn",onClick:J,children:["Delete Selected (",m.length,")"]}),c.jsx("input",{type:"text",placeholder:"Search by name, email, department...",className:"search-input",value:o,onChange:Y=>s(Y.target.value)}),c.jsxs("select",{className:"filter",value:k,onChange:B,children:[c.jsx("option",{value:"anytime",children:"Joined Anytime"}),c.jsx("option",{value:"last7",children:"Last 7 days"}),c.jsx("option",{value:"last30",children:"Last 30 days"})]}),c.jsx("button",{className:"export-btn",onClick:H,disabled:e.length===0,children:"Export"}),c.jsx("button",{className:"new-user-btn",onClick:()=>S(!0),children:"+ New Staff"})]})]}),c.jsx("div",{className:"table-wrapper",children:c.jsxs("table",{className:"user-table",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:c.jsx("input",{type:"checkbox",className:"styled-checkbox",checked:m.length===e.length,onChange:ne})}),c.jsxs("th",{onClick:()=>D("name"),className:"sortable-header",children:["Full Name ",c.jsx("span",{className:"material-icons sort-icon",children:R("name")})]}),c.jsxs("th",{onClick:()=>D("email"),className:"sortable-header",children:["Email Address ",c.jsx("span",{className:"material-icons sort-icon",children:R("email")})]}),c.jsxs("th",{onClick:()=>D("department"),className:"sortable-header",children:["Department ",c.jsx("span",{className:"material-icons sort-icon",children:R("department")})]}),c.jsxs("th",{onClick:()=>D("phone"),className:"sortable-header",children:["Phone ",c.jsx("span",{className:"material-icons sort-icon",children:R("phone")})]}),c.jsxs("th",{onClick:()=>D("status"),className:"sortable-header",children:["Status ",c.jsx("span",{className:"material-icons sort-icon",children:R("status")})]}),c.jsxs("th",{onClick:()=>D("last_login"),className:"sortable-header",children:["Last Login ",c.jsx("span",{className:"material-icons sort-icon",children:R("last_login")})]}),c.jsx("th",{children:"Actions"})]})}),c.jsx("tbody",{children:O.map(Y=>c.jsxs("tr",{children:[c.jsx("td",{children:c.jsx("input",{type:"checkbox",className:"styled-checkbox",checked:m.includes(Y.id),onChange:()=>z(Y.id)})}),c.jsx("td",{children:Y.name}),c.jsx("td",{children:Y.email}),c.jsx("td",{children:Y.department||"N/A"}),c.jsx("td",{children:Y.phone||"N/A"}),c.jsx("td",{children:Y.status}),c.jsx("td",{children:Y.last_login?new Date(Y.last_login).toLocaleDateString():"Never"}),c.jsx("td",{children:c.jsxs("div",{className:"dropdowns",children:[c.jsx("button",{className:"dots-button",onClick:()=>p(h===Y.id?null:Y.id)}),h===Y.id&&c.jsxs("div",{className:"dropdowns-content active",children:[c.jsx("button",{className:"dropdowns-item-admin view",onClick:()=>ee("view",Y),children:"View"}),c.jsx("button",{className:"dropdowns-item-admin edit",onClick:()=>ee("edit",Y),children:"Edit"}),c.jsx("button",{className:"dropdowns-item-admin delete",onClick:()=>ee("delete",Y),children:"Delete"})]})]})})]},Y.id))})]})}),c.jsxs("footer",{className:"pagination",children:[c.jsxs("div",{className:"pagination-controls",children:[c.jsx("button",{onClick:()=>ae(l-1),disabled:l===1,className:"page-nav",children:"<"}),se(),c.jsx("button",{onClick:()=>ae(l+1),disabled:l===V,className:"page-nav",children:">"})]}),c.jsx("div",{className:"rows-per-page",children:c.jsxs("select",{value:d,onChange:Y=>f(Number(Y.target.value)),children:[c.jsx("option",{value:10,children:"10 rows"}),c.jsx("option",{value:25,children:"25 rows"}),c.jsx("option",{value:50,children:"50 rows"})]})})]}),y&&c.jsx(QQe,{staff:y,onClose:()=>x(null)}),b&&c.jsx(JQe,{staff:b,onSubmit:G,onCancel:()=>w(null)}),_&&c.jsx(eJe,{onSubmit:Z,onCancel:()=>S(!1)})]})},nJe=()=>{const{user:e,updateUser:t}=Sc(),[n,r]=E.useState(null),[a,i]=E.useState(!1),[o,s]=E.useState(null),[l,u]=E.useState(null),d=E.useRef(null),[f,h]=E.useState({name:(e==null?void 0:e.name)||"",email:(e==null?void 0:e.email)||"",currentPassword:"",newPassword:"",confirmPassword:""}),[p,m]=E.useState(!1),[g,y]=E.useState(!1),[x,b]=E.useState(!1),[w,_]=E.useState(!1),[S,k]=E.useState(""),[N,P]=E.useState(!1),[T,j]=E.useState(null),[D,M]=E.useState(!1),[R,W]=E.useState(""),[B,V]=E.useState(null),q=Zr(),I=(e==null?void 0:e.role)==="admin";E.useEffect(()=>{localStorage.getItem("token")||q("/admin/login")},[q]),E.useEffect(()=>{(async()=>{try{const ae=await Le.get("/admin/mpin-status");_(ae.data.isMpinEnabled),k("")}catch(ae){console.error("Failed to fetch MPIN status:",ae)}})()},[]);const O=se=>{se.target.files&&se.target.files[0]&&r(se.target.files[0])},H=()=>{var se;(se=d.current)==null||se.click()},ne=async se=>{var ae,Y,X,K;if(se.preventDefault(),!!n){i(!0),s(null);try{const F=new FormData;F.append("profilePhoto",n);const re=I?"/admin/profile-photo":"/staff/profile-photo",Q=await Le.post(re,F,{headers:{"Content-Type":"multipart/form-data"}});(ae=Q.data)!=null&&ae.user&&(console.log("Profile photo update response:",Q.data),t({...Q.data.user,profilePhoto:Q.data.user.profile_photo}),alert("Profile photo updated successfully"),r(null))}catch(F){console.error("Error uploading file:",F),((Y=F.response)==null?void 0:Y.status)===401?q("/admin/login"):s(((K=(X=F.response)==null?void 0:X.data)==null?void 0:K.error)||"Failed to upload profile photo")}finally{i(!1)}}},z=se=>{h(ae=>({...ae,[se.target.name]:se.target.value}))},J=async se=>{var ae,Y;if(se.preventDefault(),u(null),f.newPassword!==f.confirmPassword){u("New passwords don't match");return}try{const X=(e==null?void 0:e.role)==="admin"?"/admin/profile":"/staff/profile";console.log("Using endpoint:",X),console.log("Profile data being sent:",{...f,newPassword:f.newPassword?"[FILTERED]":void 0});const K=await Le.put(X,{name:f.name,email:f.email,currentPassword:f.currentPassword,newPassword:f.newPassword||void 0});console.log("Profile update response:",K.data),K.data.user&&(t(K.data.user),alert("Profile updated successfully"),h(F=>({...F,currentPassword:"",newPassword:"",confirmPassword:""})))}catch(X){console.error("Profile update error:",X.response||X),u(((Y=(ae=X.response)==null?void 0:ae.data)==null?void 0:Y.error)||"Failed to update profile")}},ee=async()=>{var se,ae;if(w)M(!0);else try{const Y=await Le.post("/admin/toggle-mpin",{enabled:!w});_(Y.data.isMpinEnabled),Y.data.isMpinEnabled||k("")}catch(Y){j(((ae=(se=Y.response)==null?void 0:se.data)==null?void 0:ae.error)||"Failed to toggle MPIN")}},G=async()=>{var se,ae;try{const Y=await Le.post("/admin/toggle-mpin",{enabled:!1,password:R});_(Y.data.isMpinEnabled),k(""),M(!1),W(""),V(null)}catch(Y){V(((ae=(se=Y.response)==null?void 0:se.data)==null?void 0:ae.error)||"Invalid password")}},Z=async se=>{var ae,Y;if(se.preventDefault(),!S||S.length!==4||!/^\d+$/.test(S)){j("MPIN must be exactly 4 digits");return}try{await Le.post("/admin/set-mpin",{mpin:S}),j(null),alert("MPIN updated successfully"),k("")}catch(X){j(((Y=(ae=X.response)==null?void 0:ae.data)==null?void 0:Y.error)||"Failed to update MPIN")}};return c.jsxs("div",{className:"admin-pages",children:[c.jsx("h1",{children:"Settings"}),c.jsxs("div",{className:"settings-container",children:[c.jsxs("section",{className:"settings-section",children:[c.jsx("h2",{children:"Profile Photo"}),c.jsxs("form",{onSubmit:ne,className:"settings-form",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("input",{type:"file",id:"profilePhoto",ref:d,accept:"image/*",onChange:O,className:"admin-input",style:{display:"none"}}),c.jsx("button",{type:"button",onClick:H,className:"upload-button",children:"Choose Photo"}),n&&c.jsxs("div",{className:"selected-file",children:["Selected: ",n.name]})]}),o&&c.jsx("div",{className:"error-message",children:o}),c.jsx("div",{className:"form-actions",children:c.jsx("button",{type:"submit",className:"save-button",disabled:!n||a,children:a?"Uploading...":"Save Changes"})})]})]}),c.jsxs("section",{className:"settings-section",children:[c.jsx("h2",{children:"Profile Information"}),c.jsxs("form",{onSubmit:J,className:"settings-form",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Name"}),c.jsx("input",{type:"text",name:"name",value:f.name,onChange:z,className:"admin-input",placeholder:"Enter your name"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Email"}),c.jsx("input",{type:"email",name:"email",value:f.email,onChange:z,className:"admin-input",placeholder:"Enter your email"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Current Password"}),c.jsxs("div",{className:"password-input-wrapper",children:[c.jsx("input",{type:p?"text":"password",name:"currentPassword",value:f.currentPassword,onChange:z,className:"admin-input",placeholder:"Enter current password"}),f.currentPassword&&c.jsx("span",{className:"password-toggle-icon",onClick:()=>m(!p),title:p?"Hide password":"Show password",children:p?c.jsx("svg",{viewBox:"0 0 24 24",children:c.jsx("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"})}):c.jsx("svg",{viewBox:"0 0 24 24",children:c.jsx("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"})})})]})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"New Password"}),c.jsxs("div",{className:"password-input-wrapper",children:[c.jsx("input",{type:g?"text":"password",name:"newPassword",value:f.newPassword,onChange:z,className:"admin-input",placeholder:"Enter new password"}),f.newPassword&&c.jsx("span",{className:"password-toggle-icon",onClick:()=>y(!g),title:g?"Hide password":"Show password",children:g?c.jsx("svg",{viewBox:"0 0 24 24",children:c.jsx("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"})}):c.jsx("svg",{viewBox:"0 0 24 24",children:c.jsx("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"})})})]})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Confirm New Password"}),c.jsxs("div",{className:"password-input-wrapper",children:[c.jsx("input",{type:x?"text":"password",name:"confirmPassword",value:f.confirmPassword,onChange:z,className:"admin-input",placeholder:"Confirm new password"}),f.confirmPassword&&c.jsx("span",{className:"password-toggle-icon",onClick:()=>b(!x),title:x?"Hide password":"Show password",children:x?c.jsx("svg",{viewBox:"0 0 24 24",children:c.jsx("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"})}):c.jsx("svg",{viewBox:"0 0 24 24",children:c.jsx("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"})})})]})]}),l&&c.jsx("div",{className:"error-message",children:l}),c.jsx("div",{className:"form-actions",children:c.jsx("button",{type:"submit",className:"save-button",children:"Update Profile"})})]})]}),I&&c.jsxs("section",{className:"settings-section",children:[c.jsx("h2",{children:"MPIN Settings"}),c.jsxs("div",{className:"mpin-toggle",children:[c.jsxs("label",{className:"toggle-switch",children:[c.jsx("input",{type:"checkbox",checked:w,onChange:ee}),c.jsx("span",{className:"toggle-slider"})]}),c.jsx("span",{className:"toggle-label",children:w?"MPIN Login Enabled":"MPIN Login Disabled"})]}),w&&c.jsxs("form",{onSubmit:Z,className:"settings-form",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Set 4-Digit MPIN"}),c.jsxs("div",{className:"password-input-wrapper",children:[c.jsx("input",{type:N?"text":"password",value:S,onChange:se=>{const ae=se.target.value;(ae===""||/^\d+$/.test(ae)&&ae.length<=4)&&(k(ae),j(null))},placeholder:"Enter 4-digit MPIN",maxLength:4,pattern:"\\d{4}",className:"admin-input"}),S&&c.jsx("span",{className:"password-toggle-icon",onClick:()=>P(!N),title:N?"Hide MPIN":"Show MPIN",children:N?c.jsx("svg",{viewBox:"0 0 24 24",children:c.jsx("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"})}):c.jsx("svg",{viewBox:"0 0 24 24",children:c.jsx("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"})})})]})]}),T&&c.jsx("div",{className:"error-message",children:T}),c.jsx("div",{className:"form-actions",children:c.jsx("button",{type:"submit",className:"save-button",children:"Save MPIN"})})]})]})]}),D&&c.jsx("div",{className:"admin-mpin-modal-overlay",children:c.jsxs("div",{className:"admin-mpin-modal-content",children:[c.jsx("h3",{className:"admin-mpin-modal-title",children:"Confirm Password"}),c.jsx("p",{className:"admin-mpin-modal-description",children:"Please enter your password to disable MPIN"}),c.jsx("input",{type:"password",value:R,onChange:se=>W(se.target.value),className:"admin-input",placeholder:"Enter your password"}),B&&c.jsx("div",{className:"error-message",children:B}),c.jsxs("div",{className:"admin-mpin-modal-actions",children:[c.jsx("button",{className:"admin-mpin-cancel-button",onClick:()=>{M(!1),W(""),V(null)},children:"Cancel"}),c.jsx("button",{className:"admin-mpin-confirm-button",onClick:G,children:"Confirm"})]})]})})]})};function Pl(e){"@babel/helpers - typeof";return Pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pl(e)}function Ut(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function MT(e){return Ut(1,arguments),e instanceof Date||Pl(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function nn(e){Ut(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||Pl(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function qb(e){if(Ut(1,arguments),!MT(e)&&typeof e!="number")return!1;var t=nn(e);return!isNaN(Number(t))}function Wn(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function P$(e,t){Ut(2,arguments);var n=nn(e).getTime(),r=Wn(t);return new Date(n+r)}function pde(e,t){Ut(2,arguments);var n=Wn(t);return P$(e,-n)}var rJe=864e5;function aJe(e){Ut(1,arguments);var t=nn(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=t.getTime(),a=n-r;return Math.floor(a/rJe)+1}function h0(e){Ut(1,arguments);var t=1,n=nn(e),r=n.getUTCDay(),a=(r<t?7:0)+r-t;return n.setUTCDate(n.getUTCDate()-a),n.setUTCHours(0,0,0,0),n}function mde(e){Ut(1,arguments);var t=nn(e),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var a=h0(r),i=new Date(0);i.setUTCFullYear(n,0,4),i.setUTCHours(0,0,0,0);var o=h0(i);return t.getTime()>=a.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function iJe(e){Ut(1,arguments);var t=mde(e),n=new Date(0);n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0);var r=h0(n);return r}var oJe=6048e5;function gde(e){Ut(1,arguments);var t=nn(e),n=h0(t).getTime()-iJe(t).getTime();return Math.round(n/oJe)+1}var sJe={};function Hm(){return sJe}function Cm(e,t){var n,r,a,i,o,s,l,u;Ut(1,arguments);var d=Hm(),f=Wn((n=(r=(a=(i=t==null?void 0:t.weekStartsOn)!==null&&i!==void 0?i:t==null||(o=t.locale)===null||o===void 0||(s=o.options)===null||s===void 0?void 0:s.weekStartsOn)!==null&&a!==void 0?a:d.weekStartsOn)!==null&&r!==void 0?r:(l=d.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=nn(e),p=h.getUTCDay(),m=(p<f?7:0)+p-f;return h.setUTCDate(h.getUTCDate()-m),h.setUTCHours(0,0,0,0),h}function A$(e,t){var n,r,a,i,o,s,l,u;Ut(1,arguments);var d=nn(e),f=d.getUTCFullYear(),h=Hm(),p=Wn((n=(r=(a=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(o=t.locale)===null||o===void 0||(s=o.options)===null||s===void 0?void 0:s.firstWeekContainsDate)!==null&&a!==void 0?a:h.firstWeekContainsDate)!==null&&r!==void 0?r:(l=h.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var m=new Date(0);m.setUTCFullYear(f+1,0,p),m.setUTCHours(0,0,0,0);var g=Cm(m,t),y=new Date(0);y.setUTCFullYear(f,0,p),y.setUTCHours(0,0,0,0);var x=Cm(y,t);return d.getTime()>=g.getTime()?f+1:d.getTime()>=x.getTime()?f:f-1}function lJe(e,t){var n,r,a,i,o,s,l,u;Ut(1,arguments);var d=Hm(),f=Wn((n=(r=(a=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(o=t.locale)===null||o===void 0||(s=o.options)===null||s===void 0?void 0:s.firstWeekContainsDate)!==null&&a!==void 0?a:d.firstWeekContainsDate)!==null&&r!==void 0?r:(l=d.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),h=A$(e,t),p=new Date(0);p.setUTCFullYear(h,0,f),p.setUTCHours(0,0,0,0);var m=Cm(p,t);return m}var cJe=6048e5;function vde(e,t){Ut(1,arguments);var n=nn(e),r=Cm(n,t).getTime()-lJe(n,t).getTime();return Math.round(r/cJe)+1}function Cr(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}var uf={y:function(t,n){var r=t.getUTCFullYear(),a=r>0?r:1-r;return Cr(n==="yy"?a%100:a,n.length)},M:function(t,n){var r=t.getUTCMonth();return n==="M"?String(r+1):Cr(r+1,2)},d:function(t,n){return Cr(t.getUTCDate(),n.length)},a:function(t,n){var r=t.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(t,n){return Cr(t.getUTCHours()%12||12,n.length)},H:function(t,n){return Cr(t.getUTCHours(),n.length)},m:function(t,n){return Cr(t.getUTCMinutes(),n.length)},s:function(t,n){return Cr(t.getUTCSeconds(),n.length)},S:function(t,n){var r=n.length,a=t.getUTCMilliseconds(),i=Math.floor(a*Math.pow(10,r-3));return Cr(i,n.length)}},xg={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},uJe={G:function(t,n,r){var a=t.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(a,{width:"abbreviated"});case"GGGGG":return r.era(a,{width:"narrow"});case"GGGG":default:return r.era(a,{width:"wide"})}},y:function(t,n,r){if(n==="yo"){var a=t.getUTCFullYear(),i=a>0?a:1-a;return r.ordinalNumber(i,{unit:"year"})}return uf.y(t,n)},Y:function(t,n,r,a){var i=A$(t,a),o=i>0?i:1-i;if(n==="YY"){var s=o%100;return Cr(s,2)}return n==="Yo"?r.ordinalNumber(o,{unit:"year"}):Cr(o,n.length)},R:function(t,n){var r=mde(t);return Cr(r,n.length)},u:function(t,n){var r=t.getUTCFullYear();return Cr(r,n.length)},Q:function(t,n,r){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"Q":return String(a);case"QQ":return Cr(a,2);case"Qo":return r.ordinalNumber(a,{unit:"quarter"});case"QQQ":return r.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(a,{width:"wide",context:"formatting"})}},q:function(t,n,r){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"q":return String(a);case"qq":return Cr(a,2);case"qo":return r.ordinalNumber(a,{unit:"quarter"});case"qqq":return r.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(a,{width:"wide",context:"standalone"})}},M:function(t,n,r){var a=t.getUTCMonth();switch(n){case"M":case"MM":return uf.M(t,n);case"Mo":return r.ordinalNumber(a+1,{unit:"month"});case"MMM":return r.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(a,{width:"wide",context:"formatting"})}},L:function(t,n,r){var a=t.getUTCMonth();switch(n){case"L":return String(a+1);case"LL":return Cr(a+1,2);case"Lo":return r.ordinalNumber(a+1,{unit:"month"});case"LLL":return r.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(a,{width:"wide",context:"standalone"})}},w:function(t,n,r,a){var i=vde(t,a);return n==="wo"?r.ordinalNumber(i,{unit:"week"}):Cr(i,n.length)},I:function(t,n,r){var a=gde(t);return n==="Io"?r.ordinalNumber(a,{unit:"week"}):Cr(a,n.length)},d:function(t,n,r){return n==="do"?r.ordinalNumber(t.getUTCDate(),{unit:"date"}):uf.d(t,n)},D:function(t,n,r){var a=aJe(t);return n==="Do"?r.ordinalNumber(a,{unit:"dayOfYear"}):Cr(a,n.length)},E:function(t,n,r){var a=t.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(a,{width:"short",context:"formatting"});case"EEEE":default:return r.day(a,{width:"wide",context:"formatting"})}},e:function(t,n,r,a){var i=t.getUTCDay(),o=(i-a.weekStartsOn+8)%7||7;switch(n){case"e":return String(o);case"ee":return Cr(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(t,n,r,a){var i=t.getUTCDay(),o=(i-a.weekStartsOn+8)%7||7;switch(n){case"c":return String(o);case"cc":return Cr(o,n.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(t,n,r){var a=t.getUTCDay(),i=a===0?7:a;switch(n){case"i":return String(i);case"ii":return Cr(i,n.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(a,{width:"short",context:"formatting"});case"iiii":default:return r.day(a,{width:"wide",context:"formatting"})}},a:function(t,n,r){var a=t.getUTCHours(),i=a/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,n,r){var a=t.getUTCHours(),i;switch(a===12?i=xg.noon:a===0?i=xg.midnight:i=a/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,n,r){var a=t.getUTCHours(),i;switch(a>=17?i=xg.evening:a>=12?i=xg.afternoon:a>=4?i=xg.morning:i=xg.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,n,r){if(n==="ho"){var a=t.getUTCHours()%12;return a===0&&(a=12),r.ordinalNumber(a,{unit:"hour"})}return uf.h(t,n)},H:function(t,n,r){return n==="Ho"?r.ordinalNumber(t.getUTCHours(),{unit:"hour"}):uf.H(t,n)},K:function(t,n,r){var a=t.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(a,{unit:"hour"}):Cr(a,n.length)},k:function(t,n,r){var a=t.getUTCHours();return a===0&&(a=24),n==="ko"?r.ordinalNumber(a,{unit:"hour"}):Cr(a,n.length)},m:function(t,n,r){return n==="mo"?r.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):uf.m(t,n)},s:function(t,n,r){return n==="so"?r.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):uf.s(t,n)},S:function(t,n){return uf.S(t,n)},X:function(t,n,r,a){var i=a._originalDate||t,o=i.getTimezoneOffset();if(o===0)return"Z";switch(n){case"X":return IG(o);case"XXXX":case"XX":return dp(o);case"XXXXX":case"XXX":default:return dp(o,":")}},x:function(t,n,r,a){var i=a._originalDate||t,o=i.getTimezoneOffset();switch(n){case"x":return IG(o);case"xxxx":case"xx":return dp(o);case"xxxxx":case"xxx":default:return dp(o,":")}},O:function(t,n,r,a){var i=a._originalDate||t,o=i.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+MG(o,":");case"OOOO":default:return"GMT"+dp(o,":")}},z:function(t,n,r,a){var i=a._originalDate||t,o=i.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+MG(o,":");case"zzzz":default:return"GMT"+dp(o,":")}},t:function(t,n,r,a){var i=a._originalDate||t,o=Math.floor(i.getTime()/1e3);return Cr(o,n.length)},T:function(t,n,r,a){var i=a._originalDate||t,o=i.getTime();return Cr(o,n.length)}};function MG(e,t){var n=e>0?"-":"+",r=Math.abs(e),a=Math.floor(r/60),i=r%60;if(i===0)return n+String(a);var o=t;return n+String(a)+o+Cr(i,2)}function IG(e,t){if(e%60===0){var n=e>0?"-":"+";return n+Cr(Math.abs(e)/60,2)}return dp(e,t)}function dp(e,t){var n=t||"",r=e>0?"-":"+",a=Math.abs(e),i=Cr(Math.floor(a/60),2),o=Cr(a%60,2);return r+i+n+o}var RG=function(t,n){switch(t){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},yde=function(t,n){switch(t){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},dJe=function(t,n){var r=t.match(/(P+)(p+)?/)||[],a=r[1],i=r[2];if(!i)return RG(t,n);var o;switch(a){case"P":o=n.dateTime({width:"short"});break;case"PP":o=n.dateTime({width:"medium"});break;case"PPP":o=n.dateTime({width:"long"});break;case"PPPP":default:o=n.dateTime({width:"full"});break}return o.replace("{{date}}",RG(a,n)).replace("{{time}}",yde(i,n))},lI={p:yde,P:dJe};function hN(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}var fJe=["D","DD"],hJe=["YY","YYYY"];function xde(e){return fJe.indexOf(e)!==-1}function bde(e){return hJe.indexOf(e)!==-1}function pN(e,t,n){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var pJe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},mJe=function(t,n,r){var a,i=pJe[t];return typeof i=="string"?a=i:n===1?a=i.one:a=i.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+a:a+" ago":a};function pD(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth,r=e.formats[n]||e.formats[e.defaultWidth];return r}}var gJe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},vJe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},yJe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},xJe={date:pD({formats:gJe,defaultWidth:"full"}),time:pD({formats:vJe,defaultWidth:"full"}),dateTime:pD({formats:yJe,defaultWidth:"full"})},bJe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},wJe=function(t,n,r,a){return bJe[t]};function ax(e){return function(t,n){var r=n!=null&&n.context?String(n.context):"standalone",a;if(r==="formatting"&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,o=n!=null&&n.width?String(n.width):i;a=e.formattingValues[o]||e.formattingValues[i]}else{var s=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;a=e.values[l]||e.values[s]}var u=e.argumentCallback?e.argumentCallback(t):t;return a[u]}}var _Je={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},SJe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},CJe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},EJe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},NJe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},kJe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},jJe=function(t,n){var r=Number(t),a=r%100;if(a>20||a<10)switch(a%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},TJe={ordinalNumber:jJe,era:ax({values:_Je,defaultWidth:"wide"}),quarter:ax({values:SJe,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:ax({values:CJe,defaultWidth:"wide"}),day:ax({values:EJe,defaultWidth:"wide"}),dayPeriod:ax({values:NJe,defaultWidth:"wide",formattingValues:kJe,defaultFormattingWidth:"wide"})};function ix(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,a=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;var o=i[0],s=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(s)?AJe(s,function(f){return f.test(o)}):PJe(s,function(f){return f.test(o)}),u;u=e.valueCallback?e.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;var d=t.slice(o.length);return{value:u,rest:d}}}function PJe(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}function AJe(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}function DJe(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.match(e.matchPattern);if(!r)return null;var a=r[0],i=t.match(e.parsePattern);if(!i)return null;var o=e.valueCallback?e.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;var s=t.slice(a.length);return{value:o,rest:s}}}var OJe=/^(\d+)(th|st|nd|rd)?/i,MJe=/\d+/i,IJe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},RJe={any:[/^b/i,/^(a|c)/i]},FJe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},LJe={any:[/1/i,/2/i,/3/i,/4/i]},$Je={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},BJe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},zJe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},UJe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},WJe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},VJe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},HJe={ordinalNumber:DJe({matchPattern:OJe,parsePattern:MJe,valueCallback:function(t){return parseInt(t,10)}}),era:ix({matchPatterns:IJe,defaultMatchWidth:"wide",parsePatterns:RJe,defaultParseWidth:"any"}),quarter:ix({matchPatterns:FJe,defaultMatchWidth:"wide",parsePatterns:LJe,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:ix({matchPatterns:$Je,defaultMatchWidth:"wide",parsePatterns:BJe,defaultParseWidth:"any"}),day:ix({matchPatterns:zJe,defaultMatchWidth:"wide",parsePatterns:UJe,defaultParseWidth:"any"}),dayPeriod:ix({matchPatterns:WJe,defaultMatchWidth:"any",parsePatterns:VJe,defaultParseWidth:"any"})},wde={code:"en-US",formatDistance:mJe,formatLong:xJe,formatRelative:wJe,localize:TJe,match:HJe,options:{weekStartsOn:0,firstWeekContainsDate:1}},qJe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,GJe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,YJe=/^'([^]*?)'?$/,KJe=/''/g,XJe=/[a-zA-Z]/;function FG(e,t,n){var r,a,i,o,s,l,u,d,f,h,p,m,g,y,x,b,w,_;Ut(2,arguments);var S=String(t),k=Hm(),N=(r=(a=n==null?void 0:n.locale)!==null&&a!==void 0?a:k.locale)!==null&&r!==void 0?r:wde,P=Wn((i=(o=(s=(l=n==null?void 0:n.firstWeekContainsDate)!==null&&l!==void 0?l:n==null||(u=n.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&s!==void 0?s:k.firstWeekContainsDate)!==null&&o!==void 0?o:(f=k.locale)===null||f===void 0||(h=f.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(P>=1&&P<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var T=Wn((p=(m=(g=(y=n==null?void 0:n.weekStartsOn)!==null&&y!==void 0?y:n==null||(x=n.locale)===null||x===void 0||(b=x.options)===null||b===void 0?void 0:b.weekStartsOn)!==null&&g!==void 0?g:k.weekStartsOn)!==null&&m!==void 0?m:(w=k.locale)===null||w===void 0||(_=w.options)===null||_===void 0?void 0:_.weekStartsOn)!==null&&p!==void 0?p:0);if(!(T>=0&&T<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!N.localize)throw new RangeError("locale must contain localize property");if(!N.formatLong)throw new RangeError("locale must contain formatLong property");var j=nn(e);if(!qb(j))throw new RangeError("Invalid time value");var D=hN(j),M=pde(j,D),R={firstWeekContainsDate:P,weekStartsOn:T,locale:N,_originalDate:j},W=S.match(GJe).map(function(B){var V=B[0];if(V==="p"||V==="P"){var q=lI[V];return q(B,N.formatLong)}return B}).join("").match(qJe).map(function(B){if(B==="''")return"'";var V=B[0];if(V==="'")return ZJe(B);var q=uJe[V];if(q)return!(n!=null&&n.useAdditionalWeekYearTokens)&&bde(B)&&pN(B,t,String(e)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&xde(B)&&pN(B,t,String(e)),q(M,B,N.localize,R);if(V.match(XJe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+V+"`");return B}).join("");return W}function ZJe(e){var t=e.match(YJe);return t?t[1].replace(KJe,"'"):e}var QJe=6e4;function cI(e,t){Ut(2,arguments);var n=Wn(t);return P$(e,n*QJe)}var JJe=36e5;function eet(e,t){Ut(2,arguments);var n=Wn(t);return P$(e,n*JJe)}function sy(e,t){Ut(2,arguments);var n=nn(e),r=Wn(t);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function mN(e,t){Ut(2,arguments);var n=Wn(t),r=n*7;return sy(e,r)}function bc(e,t){Ut(2,arguments);var n=nn(e),r=Wn(t);if(isNaN(r))return new Date(NaN);if(!r)return n;var a=n.getDate(),i=new Date(n.getTime());i.setMonth(n.getMonth()+r+1,0);var o=i.getDate();return a>=o?i:(n.setFullYear(i.getFullYear(),i.getMonth(),a),n)}function _de(e,t){Ut(2,arguments);var n=Wn(t),r=n*3;return bc(e,r)}function p0(e,t){Ut(2,arguments);var n=Wn(t);return bc(e,n*12)}function tet(e,t){Ut(2,arguments);var n=Wn(t);return sy(e,-n)}function LG(e,t){Ut(2,arguments);var n=Wn(t);return mN(e,-n)}function m0(e,t){Ut(2,arguments);var n=Wn(t);return bc(e,-n)}function net(e,t){Ut(2,arguments);var n=Wn(t);return _de(e,-n)}function Gb(e,t){Ut(2,arguments);var n=Wn(t);return p0(e,-n)}function $G(e){Ut(1,arguments);var t=nn(e),n=t.getSeconds();return n}function bu(e){Ut(1,arguments);var t=nn(e),n=t.getMinutes();return n}function wu(e){Ut(1,arguments);var t=nn(e),n=t.getHours();return n}function ret(e){Ut(1,arguments);var t=nn(e),n=t.getDay();return n}function BG(e){Ut(1,arguments);var t=nn(e),n=t.getDate();return n}function Sde(e,t){var n,r,a,i,o,s,l,u;Ut(1,arguments);var d=Hm(),f=Wn((n=(r=(a=(i=t==null?void 0:t.weekStartsOn)!==null&&i!==void 0?i:t==null||(o=t.locale)===null||o===void 0||(s=o.options)===null||s===void 0?void 0:s.weekStartsOn)!==null&&a!==void 0?a:d.weekStartsOn)!==null&&r!==void 0?r:(l=d.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=nn(e),p=h.getDay(),m=(p<f?7:0)+p-f;return h.setDate(h.getDate()-m),h.setHours(0,0,0,0),h}function gN(e){return Ut(1,arguments),Sde(e,{weekStartsOn:1})}function aet(e){Ut(1,arguments);var t=nn(e),n=t.getFullYear(),r=new Date(0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);var a=gN(r),i=new Date(0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);var o=gN(i);return t.getTime()>=a.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function iet(e){Ut(1,arguments);var t=aet(e),n=new Date(0);n.setFullYear(t,0,4),n.setHours(0,0,0,0);var r=gN(n);return r}var oet=6048e5;function set(e){Ut(1,arguments);var t=nn(e),n=gN(t).getTime()-iet(t).getTime();return Math.round(n/oet)+1}function yo(e){Ut(1,arguments);var t=nn(e),n=t.getMonth();return n}function Qg(e){Ut(1,arguments);var t=nn(e),n=Math.floor(t.getMonth()/3)+1;return n}function qn(e){return Ut(1,arguments),nn(e).getFullYear()}function uI(e){Ut(1,arguments);var t=nn(e),n=t.getTime();return n}function cet(e,t){Ut(2,arguments);var n=nn(e),r=Wn(t);return n.setSeconds(r),n}function lC(e,t){Ut(2,arguments);var n=nn(e),r=Wn(t);return n.setMinutes(r),n}function cC(e,t){Ut(2,arguments);var n=nn(e),r=Wn(t);return n.setHours(r),n}function uet(e){Ut(1,arguments);var t=nn(e),n=t.getFullYear(),r=t.getMonth(),a=new Date(0);return a.setFullYear(n,r+1,0),a.setHours(0,0,0,0),a.getDate()}function Mo(e,t){Ut(2,arguments);var n=nn(e),r=Wn(t),a=n.getFullYear(),i=n.getDate(),o=new Date(0);o.setFullYear(a,r,15),o.setHours(0,0,0,0);var s=uet(o);return n.setMonth(r,Math.min(i,s)),n}function bg(e,t){Ut(2,arguments);var n=nn(e),r=Wn(t),a=Math.floor(n.getMonth()/3)+1,i=r-a;return Mo(n,n.getMonth()+i*3)}function td(e,t){Ut(2,arguments);var n=nn(e),r=Wn(t);return isNaN(n.getTime())?new Date(NaN):(n.setFullYear(r),n)}function zG(e){Ut(1,arguments);var t;if(e&&typeof e.forEach=="function")t=e;else if(Pl(e)==="object"&&e!==null)t=Array.prototype.slice.call(e);else return new Date(NaN);var n;return t.forEach(function(r){var a=nn(r);(n===void 0||n>a||isNaN(a.getDate()))&&(n=a)}),n||new Date(NaN)}function UG(e){Ut(1,arguments);var t;if(e&&typeof e.forEach=="function")t=e;else if(Pl(e)==="object"&&e!==null)t=Array.prototype.slice.call(e);else return new Date(NaN);var n;return t.forEach(function(r){var a=nn(r);(n===void 0||n<a||isNaN(Number(a)))&&(n=a)}),n||new Date(NaN)}function _u(e){Ut(1,arguments);var t=nn(e);return t.setHours(0,0,0,0),t}var det=864e5;function vN(e,t){Ut(2,arguments);var n=_u(e),r=_u(t),a=n.getTime()-hN(n),i=r.getTime()-hN(r);return Math.round((a-i)/det)}function yN(e,t){Ut(2,arguments);var n=nn(e),r=nn(t),a=n.getFullYear()-r.getFullYear(),i=n.getMonth()-r.getMonth();return a*12+i}function xN(e,t){Ut(2,arguments);var n=nn(e),r=nn(t);return n.getFullYear()-r.getFullYear()}function Cde(e){Ut(1,arguments);var t=nn(e);return t.setDate(1),t.setHours(0,0,0,0),t}function dI(e){Ut(1,arguments);var t=nn(e),n=t.getMonth(),r=n-n%3;return t.setMonth(r,1),t.setHours(0,0,0,0),t}function Ede(e){Ut(1,arguments);var t=nn(e),n=new Date(0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}function fI(e){Ut(1,arguments);var t=nn(e);return t.setHours(23,59,59,999),t}function fet(e){Ut(1,arguments);var t=nn(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function het(e){Ut(1,arguments);var t=nn(e),n=t.getFullYear();return t.setFullYear(n+1,0,0),t.setHours(23,59,59,999),t}function pet(e,t){Ut(2,arguments);var n=nn(e),r=nn(t);return n.getTime()===r.getTime()}function met(e,t){Ut(2,arguments);var n=_u(e),r=_u(t);return n.getTime()===r.getTime()}function get(e,t){Ut(2,arguments);var n=nn(e),r=nn(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function vet(e,t){Ut(2,arguments);var n=nn(e),r=nn(t);return n.getFullYear()===r.getFullYear()}function yet(e,t){Ut(2,arguments);var n=dI(e),r=dI(t);return n.getTime()===r.getTime()}function _h(e,t){Ut(2,arguments);var n=nn(e),r=nn(t);return n.getTime()>r.getTime()}function Uf(e,t){Ut(2,arguments);var n=nn(e),r=nn(t);return n.getTime()<r.getTime()}function Yb(e,t){Ut(2,arguments);var n=nn(e).getTime(),r=nn(t.start).getTime(),a=nn(t.end).getTime();if(!(r<=a))throw new RangeError("Invalid interval");return n>=r&&n<=a}function WG(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function xet(e,t){if(e){if(typeof e=="string")return WG(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?WG(e,t):void 0}}function VG(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=xet(e))||t){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(u){throw u},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var u=n.next();return o=u.done,u},e:function(u){s=!0,i=u},f:function(){try{o||n.return==null||n.return()}finally{if(s)throw i}}}}function bet(e,t){if(e==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function cr(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&KC(e,t)}function bN(e){return bN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},bN(e)}function Nde(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Nde=function(){return!!e})()}function wet(e,t){if(t&&(Pl(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jt(e)}function ur(e){var t=Nde();return function(){var n,r=bN(e);if(t){var a=bN(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return wet(this,n)}}function tr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _et(e,t){if(Pl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Pl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kde(e){var t=_et(e,"string");return Pl(t)=="symbol"?t:t+""}function Cet(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,kde(r.key),r)}}function nr(e,t,n){return t&&Cet(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Gt(e,t,n){return(t=kde(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Eet=10,jde=function(){function e(){tr(this,e),Gt(this,"priority",void 0),Gt(this,"subPriority",0)}return nr(e,[{key:"validate",value:function(n,r){return!0}}]),e}(),Net=function(e){cr(n,e);var t=ur(n);function n(r,a,i,o,s){var l;return tr(this,n),l=t.call(this),l.value=r,l.validateValue=a,l.setValue=i,l.priority=o,s&&(l.subPriority=s),l}return nr(n,[{key:"validate",value:function(a,i){return this.validateValue(a,this.value,i)}},{key:"set",value:function(a,i,o){return this.setValue(a,i,this.value,o)}}]),n}(jde),ket=function(e){cr(n,e);var t=ur(n);function n(){var r;tr(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r=t.call.apply(t,[this].concat(i)),Gt(Jt(r),"priority",Eet),Gt(Jt(r),"subPriority",-1),r}return nr(n,[{key:"set",value:function(a,i){if(i.timestampIsSet)return a;var o=new Date(0);return o.setFullYear(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate()),o.setHours(a.getUTCHours(),a.getUTCMinutes(),a.getUTCSeconds(),a.getUTCMilliseconds()),o}}]),n}(jde),br=function(){function e(){tr(this,e),Gt(this,"incompatibleTokens",void 0),Gt(this,"priority",void 0),Gt(this,"subPriority",void 0)}return nr(e,[{key:"run",value:function(n,r,a,i){var o=this.parse(n,r,a,i);return o?{setter:new Net(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}},{key:"validate",value:function(n,r,a){return!0}}]),e}(),jet=function(e){cr(n,e);var t=ur(n);function n(){var r;tr(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r=t.call.apply(t,[this].concat(i)),Gt(Jt(r),"priority",140),Gt(Jt(r),"incompatibleTokens",["R","u","t","T"]),r}return nr(n,[{key:"parse",value:function(a,i,o){switch(i){case"G":case"GG":case"GGG":return o.era(a,{width:"abbreviated"})||o.era(a,{width:"narrow"});case"GGGGG":return o.era(a,{width:"narrow"});case"GGGG":default:return o.era(a,{width:"wide"})||o.era(a,{width:"abbreviated"})||o.era(a,{width:"narrow"})}}},{key:"set",value:function(a,i,o){return i.era=o,a.setUTCFullYear(o,0,1),a.setUTCHours(0,0,0,0),a}}]),n}(br),D$=6e4,O$=36e5,Tet=1e3,Va={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},nu={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Ha(e,t){return e&&{value:t(e.value),rest:e.rest}}function _a(e,t){var n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}function ru(e,t){var n=t.match(e);if(!n)return null;if(n[0]==="Z")return{value:0,rest:t.slice(1)};var r=n[1]==="+"?1:-1,a=n[2]?parseInt(n[2],10):0,i=n[3]?parseInt(n[3],10):0,o=n[5]?parseInt(n[5],10):0;return{value:r*(a*O$+i*D$+o*Tet),rest:t.slice(n[0].length)}}function Tde(e){return _a(Va.anyDigitsSigned,e)}function Ba(e,t){switch(e){case 1:return _a(Va.singleDigit,t);case 2:return _a(Va.twoDigits,t);case 3:return _a(Va.threeDigits,t);case 4:return _a(Va.fourDigits,t);default:return _a(new RegExp("^\\d{1,"+e+"}"),t)}}function wN(e,t){switch(e){case 1:return _a(Va.singleDigitSigned,t);case 2:return _a(Va.twoDigitsSigned,t);case 3:return _a(Va.threeDigitsSigned,t);case 4:return _a(Va.fourDigitsSigned,t);default:return _a(new RegExp("^-?\\d{1,"+e+"}"),t)}}function M$(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function Pde(e,t){var n=t>0,r=n?t:1-t,a;if(r<=50)a=e||100;else{var i=r+50,o=Math.floor(i/100)*100,s=e>=i%100;a=e+o-(s?100:0)}return n?a:1-a}function Ade(e){return e%400===0||e%4===0&&e%100!==0}var Pet=function(e){cr(n,e);var t=ur(n);function n(){var r;tr(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r=t.call.apply(t,[this].concat(i)),Gt(Jt(r),"priority",130),Gt(Jt(r),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),r}return nr(n,[{key:"parse",value:function(a,i,o){var s=function(u){return{year:u,isTwoDigitYear:i==="yy"}};switch(i){case"y":return Ha(Ba(4,a),s);case"yo":return Ha(o.ordinalNumber(a,{unit:"year"}),s);default:return Ha(Ba(i.length,a),s)}}},{key:"validate",value:function(a,i){return i.isTwoDigitYear||i.year>0}},{key:"set",value:function(a,i,o){var s=a.getUTCFullYear();if(o.isTwoDigitYear){var l=Pde(o.year,s);return a.setUTCFullYear(l,0,1),a.setUTCHours(0,0,0,0),a}var u=!("era"in i)||i.era===1?o.year:1-o.year;return a.setUTCFullYear(u,0,1),a.setUTCHours(0,0,0,0),a}}]),n}(br),Aet=function(e){cr(n,e);var t=ur(n);function n(){var r;tr(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r=t.call.apply(t,[this].concat(i)),Gt(Jt(r),"priority",130),Gt(Jt(r),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),r}return nr(n,[{key:"parse",value:function(a,i,o){var s=function(u){return{year:u,isTwoDigitYear:i==="YY"}};switch(i){case"Y":return Ha(Ba(4,a),s);case"Yo":return Ha(o.ordinalNumber(a,{unit:"year"}),s);default:return Ha(Ba(i.length,a),s)}}},{key:"validate",value:function(a,i){return i.isTwoDigitYear||i.year>0}},{key:"set",value:function(a,i,o,s){var l=A$(a,s);if(o.isTwoDigitYear){var u=Pde(o.year,l);return a.setUTCFullYear(u,0,s.firstWeekContainsDate),a.setUTCHours(0,0,0,0),Cm(a,s)}var d=!("era"in i)||i.era===1?o.year:1-o.year;return a.setUTCFullYear(d,0,s.firstWeekContainsDate),a.setUTCHours(0,0,0,0),Cm(a,s)}}]),n}(br),Det=function(e){cr(n,e);var t=ur(n);function n(){var r;tr(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r=t.call.apply(t,[this].concat(i)),Gt(Jt(r),"priority",130),Gt(Jt(r),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),r}return nr(n,[{key:"parse",value:function(a,i){return wN(i==="R"?4:i.length,a)}},{key:"set",value:function(a,i,o){var s=new Date(0);return s.setUTCFullYear(o,0,4),s.setUTCHours(0,0,0,0),h0(s)}}]),n}(br),Oet=function(e){cr(n,e);var t=ur(n);function n(){var r;tr(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r=t.call.apply(t,[this].concat(i)),Gt(Jt(r),"priority",130),Gt(Jt(r),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),r}return nr(n,[{key:"parse",value:function(a,i){return wN(i==="u"?4:i.length,a)}},{key:"set",value:function(a,i,o){return a.setUTCFullYear(o,0,1),a.setUTCHours(0,0,0,0),a}}]),n}(br),Met=function(e){cr(n,e);var t=ur(n);function n(){var r;tr(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r=t.call.apply(t,[this].concat(i)),Gt(Jt(r),"priority",120),Gt(Jt(r),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),r}return nr(n,[{key:"parse",value:function(a,i,o){switch(i){case"Q":case"QQ":return Ba(i.length,a);case"Qo":return o.ordinalNumber(a,{unit:"quarter"});case"QQQ":return o.quarter(a,{width:"abbreviated",context:"formatting"})||o.quarter(a,{width:"narrow",context:"formatting"});case"QQQQQ":return o.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return o.quarter(a,{width:"wide",context:"formatting"})||o.quarter(a,{width:"abbreviated",context:"formatting"})||o.quarter(a,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(a,i){return i>=1&&i<=4}},{key:"set",value:function(a,i,o){return a.setUTCMonth((o-1)*3,1),a.setUTCHours(0,0,0,0),a}}]),n}(br),Iet=function(e){cr(n,e);var t=ur(n);function n(){var r;tr(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r=t.call.apply(t,[this].concat(i)),Gt(Jt(r),"priority",120),Gt(Jt(r),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),r}return nr(n,[{key:"parse",value:function(a,i,o){switch(i){case"q":case"qq":return Ba(i.length,a);case"qo":return o.ordinalNumber(a,{unit:"quarter"});case"qqq":return o.quarter(a,{width:"abbreviated",context:"standalone"})||o.quarter(a,{width:"narrow",context:"standalone"});case"qqqqq":return o.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return o.quarter(a,{width:"wide",context:"standalone"})||o.quarter(a,{width:"abbreviated",context:"standalone"})||o.quarter(a,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(a,i){return i>=1&&i<=4}},{key:"set",value:function(a,i,o){return a.setUTCMonth((o-1)*3,1),a.setUTCHours(0,0,0,0),a}}]),n}(br),Ret=function(e){cr(n,e);var t=ur(n);function n(){var r;tr(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r=t.call.apply(t,[this].concat(i)),Gt(Jt(r),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),Gt(Jt(r),"priority",110),r}return nr(n,[{key:"parse",value:function(a,i,o){var s=function(u){return u-1};switch(i){case"M":return Ha(_a(Va.month,a),s);case"MM":return Ha(Ba(2,a),s);case"Mo":return Ha(o.ordinalNumber(a,{unit:"month"}),s);case"MMM":return o.month(a,{width:"abbreviated",context:"formatting"})||o.month(a,{width:"narrow",context:"formatting"});case"MMMMM":return o.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return o.month(a,{width:"wide",context:"formatting"})||o.month(a,{width:"abbreviated",context:"formatting"})||o.month(a,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(a,i){return i>=0&&i<=11}},{key:"set",value:function(a,i,o){return a.setUTCMonth(o,1),a.setUTCHours(0,0,0,0),a}}]),n}(br),Fet=function(e){cr(n,e);var t=ur(n);function n(){var r;tr(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r=t.call.apply(t,[this].concat(i)),Gt(Jt(r),"priority",110),Gt(Jt(r),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),r}return nr(n,[{key:"parse",value:function(a,i,o){var s=function(u){return u-1};switch(i){case"L":return Ha(_a(Va.month,a),s);case"LL":return Ha(Ba(2,a),s);case"Lo":return Ha(o.ordinalNumber(a,{unit:"month"}),s);case"LLL":return o.month(a,{width:"abbreviated",context:"standalone"})||o.month(a,{width:"narrow",context:"standalone"});case"LLLLL":return o.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return o.month(a,{width:"wide",context:"standalone"})||o.month(a,{width:"abbreviated",context:"standalone"})||o.month(a,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(a,i){return i>=0&&i<=11}},{key:"set",value:function(a,i,o){return a.setUTCMonth(o,1),a.setUTCHours(0,0,0,0),a}}]),n}(br);function Let(e,t,n){Ut(2,arguments);var r=nn(e),a=Wn(t),i=vde(r,n)-a;return r.setUTCDate(r.getUTCDate()-i*7),r}var $et=function(e){cr(n,e);var t=ur(n);function n(){var r;tr(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r=t.call.apply(t,[this].concat(i)),Gt(Jt(r),"priority",100),Gt(Jt(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),r}return nr(n,[{key:"parse",value:function(a,i,o){switch(i){case"w":return _a(Va.week,a);case"wo":return o.ordinalNumber(a,{unit:"week"});default:return Ba(i.length,a)}}},{key:"validate",value:function(a,i){return i>=1&&i<=53}},{key:"set",value:function(a,i,o,s){return Cm(Let(a,o,s),s)}}]),n}(br);function Bet(e,t){Ut(2,arguments);var n=nn(e),r=Wn(t),a=gde(n)-r;return n.setUTCDate(n.getUTCDate()-a*7),n}var zet=function(e){cr(n,e);var t=ur(n);function n(){var r;tr(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r=t.call.apply(t,[this].concat(i)),Gt(Jt(r),"priority",100),Gt(Jt(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),r}return nr(n,[{key:"parse",value:function(a,i,o){switch(i){case"I":return _a(Va.week,a);case"Io":return o.ordinalNumber(a,{unit:"week"});default:return Ba(i.length,a)}}},{key:"validate",value:function(a,i){return i>=1&&i<=53}},{key:"set",value:function(a,i,o){return h0(Bet(a,o))}}]),n}(br),Uet=[31,28,31,30,31,30,31,31,30,31,30,31],Wet=[31,29,31,30,31,30,31,31,30,31,30,31],Vet=function(e){cr(n,e);var t=ur(n);function n(){var r;tr(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r=t.call.apply(t,[this].concat(i)),Gt(Jt(r),"priority",90),Gt(Jt(r),"subPriority",1),Gt(Jt(r),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),r}return nr(n,[{key:"parse",value:function(a,i,o){switch(i){case"d":return _a(Va.date,a);case"do":return o.ordinalNumber(a,{unit:"date"});default:return Ba(i.length,a)}}},{key:"validate",value:function(a,i){var o=a.getUTCFullYear(),s=Ade(o),l=a.getUTCMonth();return s?i>=1&&i<=Wet[l]:i>=1&&i<=Uet[l]}},{key:"set",value:function(a,i,o){return a.setUTCDate(o),a.setUTCHours(0,0,0,0),a}}]),n}(br),Het=function(e){cr(n,e);var t=ur(n);function n(){var r;tr(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r=t.call.apply(t,[this].concat(i)),Gt(Jt(r),"priority",90),Gt(Jt(r),"subpriority",1),Gt(Jt(r),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),r}return nr(n,[{key:"parse",value:function(a,i,o){switch(i){case"D":case"DD":return _a(Va.dayOfYear,a);case"Do":return o.ordinalNumber(a,{unit:"date"});default:return Ba(i.length,a)}}},{key:"validate",value:function(a,i){var o=a.getUTCFullYear(),s=Ade(o);return s?i>=1&&i<=366:i>=1&&i<=365}},{key:"set",value:function(a,i,o){return a.setUTCMonth(0,o),a.setUTCHours(0,0,0,0),a}}]),n}(br);function I$(e,t,n){var r,a,i,o,s,l,u,d;Ut(2,arguments);var f=Hm(),h=Wn((r=(a=(i=(o=n==null?void 0:n.weekStartsOn)!==null&&o!==void 0?o:n==null||(s=n.locale)===null||s===void 0||(l=s.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&i!==void 0?i:f.weekStartsOn)!==null&&a!==void 0?a:(u=f.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.weekStartsOn)!==null&&r!==void 0?r:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=nn(e),m=Wn(t),g=p.getUTCDay(),y=m%7,x=(y+7)%7,b=(x<h?7:0)+m-g;return p.setUTCDate(p.getUTCDate()+b),p}var qet=function(e){cr(n,e);var t=ur(n);function n(){var r;tr(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r=t.call.apply(t,[this].concat(i)),Gt(Jt(r),"priority",90),Gt(Jt(r),"incompatibleTokens",["D","i","e","c","t","T"]),r}return nr(n,[{key:"parse",value:function(a,i,o){switch(i){case"E":case"EE":case"EEE":return o.day(a,{width:"abbreviated",context:"formatting"})||o.day(a,{width:"short",context:"formatting"})||o.day(a,{width:"narrow",context:"formatting"});case"EEEEE":return o.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return o.day(a,{width:"short",context:"formatting"})||o.day(a,{width:"narrow",context:"formatting"});case"EEEE":default:return o.day(a,{width:"wide",context:"formatting"})||o.day(a,{width:"abbreviated",context:"formatting"})||o.day(a,{width:"short",context:"formatting"})||o.day(a,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(a,i){return i>=0&&i<=6}},{key:"set",value:function(a,i,o,s){return a=I$(a,o,s),a.setUTCHours(0,0,0,0),a}}]),n}(br),Get=function(e){cr(n,e);var t=ur(n);function n(){var r;tr(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r=t.call.apply(t,[this].concat(i)),Gt(Jt(r),"priority",90),Gt(Jt(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),r}return nr(n,[{key:"parse",value:function(a,i,o,s){var l=function(d){var f=Math.floor((d-1)/7)*7;return(d+s.weekStartsOn+6)%7+f};switch(i){case"e":case"ee":return Ha(Ba(i.length,a),l);case"eo":return Ha(o.ordinalNumber(a,{unit:"day"}),l);case"eee":return o.day(a,{width:"abbreviated",context:"formatting"})||o.day(a,{width:"short",context:"formatting"})||o.day(a,{width:"narrow",context:"formatting"});case"eeeee":return o.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return o.day(a,{width:"short",context:"formatting"})||o.day(a,{width:"narrow",context:"formatting"});case"eeee":default:return o.day(a,{width:"wide",context:"formatting"})||o.day(a,{width:"abbreviated",context:"formatting"})||o.day(a,{width:"short",context:"formatting"})||o.day(a,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(a,i){return i>=0&&i<=6}},{key:"set",value:function(a,i,o,s){return a=I$(a,o,s),a.setUTCHours(0,0,0,0),a}}]),n}(br),Yet=function(e){cr(n,e);var t=ur(n);function n(){var r;tr(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r=t.call.apply(t,[this].concat(i)),Gt(Jt(r),"priority",90),Gt(Jt(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),r}return nr(n,[{key:"parse",value:function(a,i,o,s){var l=function(d){var f=Math.floor((d-1)/7)*7;return(d+s.weekStartsOn+6)%7+f};switch(i){case"c":case"cc":return Ha(Ba(i.length,a),l);case"co":return Ha(o.ordinalNumber(a,{unit:"day"}),l);case"ccc":return o.day(a,{width:"abbreviated",context:"standalone"})||o.day(a,{width:"short",context:"standalone"})||o.day(a,{width:"narrow",context:"standalone"});case"ccccc":return o.day(a,{width:"narrow",context:"standalone"});case"cccccc":return o.day(a,{width:"short",context:"standalone"})||o.day(a,{width:"narrow",context:"standalone"});case"cccc":default:return o.day(a,{width:"wide",context:"standalone"})||o.day(a,{width:"abbreviated",context:"standalone"})||o.day(a,{width:"short",context:"standalone"})||o.day(a,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(a,i){return i>=0&&i<=6}},{key:"set",value:function(a,i,o,s){return a=I$(a,o,s),a.setUTCHours(0,0,0,0),a}}]),n}(br);function Ket(e,t){Ut(2,arguments);var n=Wn(t);n%7===0&&(n=n-7);var r=1,a=nn(e),i=a.getUTCDay(),o=n%7,s=(o+7)%7,l=(s<r?7:0)+n-i;return a.setUTCDate(a.getUTCDate()+l),a}var Xet=function(e){cr(n,e);var t=ur(n);function n(){var r;tr(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r=t.call.apply(t,[this].concat(i)),Gt(Jt(r),"priority",90),Gt(Jt(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),r}return nr(n,[{key:"parse",value:function(a,i,o){var s=function(u){return u===0?7:u};switch(i){case"i":case"ii":return Ba(i.length,a);case"io":return o.ordinalNumber(a,{unit:"day"});case"iii":return Ha(o.day(a,{width:"abbreviated",context:"formatting"})||o.day(a,{width:"short",context:"formatting"})||o.day(a,{width:"narrow",context:"formatting"}),s);case"iiiii":return Ha(o.day(a,{width:"narrow",context:"formatting"}),s);case"iiiiii":return Ha(o.day(a,{width:"short",context:"formatting"})||o.day(a,{width:"narrow",context:"formatting"}),s);case"iiii":default:return Ha(o.day(a,{width:"wide",context:"formatting"})||o.day(a,{width:"abbreviated",context:"formatting"})||o.day(a,{width:"short",context:"formatting"})||o.day(a,{width:"narrow",context:"formatting"}),s)}}},{key:"validate",value:function(a,i){return i>=1&&i<=7}},{key:"set",value:function(a,i,o){return a=Ket(a,o),a.setUTCHours(0,0,0,0),a}}]),n}(br),Zet=function(e){cr(n,e);var t=ur(n);function n(){var r;tr(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r=t.call.apply(t,[this].concat(i)),Gt(Jt(r),"priority",80),Gt(Jt(r),"incompatibleTokens",["b","B","H","k","t","T"]),r}return nr(n,[{key:"parse",value:function(a,i,o){switch(i){case"a":case"aa":case"aaa":return o.dayPeriod(a,{width:"abbreviated",context:"formatting"})||o.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaaa":return o.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return o.dayPeriod(a,{width:"wide",context:"formatting"})||o.dayPeriod(a,{width:"abbreviated",context:"formatting"})||o.dayPeriod(a,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(a,i,o){return a.setUTCHours(M$(o),0,0,0),a}}]),n}(br),Qet=function(e){cr(n,e);var t=ur(n);function n(){var r;tr(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r=t.call.apply(t,[this].concat(i)),Gt(Jt(r),"priority",80),Gt(Jt(r),"incompatibleTokens",["a","B","H","k","t","T"]),r}return nr(n,[{key:"parse",value:function(a,i,o){switch(i){case"b":case"bb":case"bbb":return o.dayPeriod(a,{width:"abbreviated",context:"formatting"})||o.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbbb":return o.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return o.dayPeriod(a,{width:"wide",context:"formatting"})||o.dayPeriod(a,{width:"abbreviated",context:"formatting"})||o.dayPeriod(a,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(a,i,o){return a.setUTCHours(M$(o),0,0,0),a}}]),n}(br),Jet=function(e){cr(n,e);var t=ur(n);function n(){var r;tr(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r=t.call.apply(t,[this].concat(i)),Gt(Jt(r),"priority",80),Gt(Jt(r),"incompatibleTokens",["a","b","t","T"]),r}return nr(n,[{key:"parse",value:function(a,i,o){switch(i){case"B":case"BB":case"BBB":return o.dayPeriod(a,{width:"abbreviated",context:"formatting"})||o.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBBB":return o.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return o.dayPeriod(a,{width:"wide",context:"formatting"})||o.dayPeriod(a,{width:"abbreviated",context:"formatting"})||o.dayPeriod(a,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(a,i,o){return a.setUTCHours(M$(o),0,0,0),a}}]),n}(br),ett=function(e){cr(n,e);var t=ur(n);function n(){var r;tr(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r=t.call.apply(t,[this].concat(i)),Gt(Jt(r),"priority",70),Gt(Jt(r),"incompatibleTokens",["H","K","k","t","T"]),r}return nr(n,[{key:"parse",value:function(a,i,o){switch(i){case"h":return _a(Va.hour12h,a);case"ho":return o.ordinalNumber(a,{unit:"hour"});default:return Ba(i.length,a)}}},{key:"validate",value:function(a,i){return i>=1&&i<=12}},{key:"set",value:function(a,i,o){var s=a.getUTCHours()>=12;return s&&o<12?a.setUTCHours(o+12,0,0,0):!s&&o===12?a.setUTCHours(0,0,0,0):a.setUTCHours(o,0,0,0),a}}]),n}(br),ttt=function(e){cr(n,e);var t=ur(n);function n(){var r;tr(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r=t.call.apply(t,[this].concat(i)),Gt(Jt(r),"priority",70),Gt(Jt(r),"incompatibleTokens",["a","b","h","K","k","t","T"]),r}return nr(n,[{key:"parse",value:function(a,i,o){switch(i){case"H":return _a(Va.hour23h,a);case"Ho":return o.ordinalNumber(a,{unit:"hour"});default:return Ba(i.length,a)}}},{key:"validate",value:function(a,i){return i>=0&&i<=23}},{key:"set",value:function(a,i,o){return a.setUTCHours(o,0,0,0),a}}]),n}(br),ntt=function(e){cr(n,e);var t=ur(n);function n(){var r;tr(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r=t.call.apply(t,[this].concat(i)),Gt(Jt(r),"priority",70),Gt(Jt(r),"incompatibleTokens",["h","H","k","t","T"]),r}return nr(n,[{key:"parse",value:function(a,i,o){switch(i){case"K":return _a(Va.hour11h,a);case"Ko":return o.ordinalNumber(a,{unit:"hour"});default:return Ba(i.length,a)}}},{key:"validate",value:function(a,i){return i>=0&&i<=11}},{key:"set",value:function(a,i,o){var s=a.getUTCHours()>=12;return s&&o<12?a.setUTCHours(o+12,0,0,0):a.setUTCHours(o,0,0,0),a}}]),n}(br),rtt=function(e){cr(n,e);var t=ur(n);function n(){var r;tr(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r=t.call.apply(t,[this].concat(i)),Gt(Jt(r),"priority",70),Gt(Jt(r),"incompatibleTokens",["a","b","h","H","K","t","T"]),r}return nr(n,[{key:"parse",value:function(a,i,o){switch(i){case"k":return _a(Va.hour24h,a);case"ko":return o.ordinalNumber(a,{unit:"hour"});default:return Ba(i.length,a)}}},{key:"validate",value:function(a,i){return i>=1&&i<=24}},{key:"set",value:function(a,i,o){var s=o<=24?o%24:o;return a.setUTCHours(s,0,0,0),a}}]),n}(br),att=function(e){cr(n,e);var t=ur(n);function n(){var r;tr(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r=t.call.apply(t,[this].concat(i)),Gt(Jt(r),"priority",60),Gt(Jt(r),"incompatibleTokens",["t","T"]),r}return nr(n,[{key:"parse",value:function(a,i,o){switch(i){case"m":return _a(Va.minute,a);case"mo":return o.ordinalNumber(a,{unit:"minute"});default:return Ba(i.length,a)}}},{key:"validate",value:function(a,i){return i>=0&&i<=59}},{key:"set",value:function(a,i,o){return a.setUTCMinutes(o,0,0),a}}]),n}(br),itt=function(e){cr(n,e);var t=ur(n);function n(){var r;tr(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r=t.call.apply(t,[this].concat(i)),Gt(Jt(r),"priority",50),Gt(Jt(r),"incompatibleTokens",["t","T"]),r}return nr(n,[{key:"parse",value:function(a,i,o){switch(i){case"s":return _a(Va.second,a);case"so":return o.ordinalNumber(a,{unit:"second"});default:return Ba(i.length,a)}}},{key:"validate",value:function(a,i){return i>=0&&i<=59}},{key:"set",value:function(a,i,o){return a.setUTCSeconds(o,0),a}}]),n}(br),ott=function(e){cr(n,e);var t=ur(n);function n(){var r;tr(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r=t.call.apply(t,[this].concat(i)),Gt(Jt(r),"priority",30),Gt(Jt(r),"incompatibleTokens",["t","T"]),r}return nr(n,[{key:"parse",value:function(a,i){var o=function(l){return Math.floor(l*Math.pow(10,-i.length+3))};return Ha(Ba(i.length,a),o)}},{key:"set",value:function(a,i,o){return a.setUTCMilliseconds(o),a}}]),n}(br),stt=function(e){cr(n,e);var t=ur(n);function n(){var r;tr(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r=t.call.apply(t,[this].concat(i)),Gt(Jt(r),"priority",10),Gt(Jt(r),"incompatibleTokens",["t","T","x"]),r}return nr(n,[{key:"parse",value:function(a,i){switch(i){case"X":return ru(nu.basicOptionalMinutes,a);case"XX":return ru(nu.basic,a);case"XXXX":return ru(nu.basicOptionalSeconds,a);case"XXXXX":return ru(nu.extendedOptionalSeconds,a);case"XXX":default:return ru(nu.extended,a)}}},{key:"set",value:function(a,i,o){return i.timestampIsSet?a:new Date(a.getTime()-o)}}]),n}(br),ltt=function(e){cr(n,e);var t=ur(n);function n(){var r;tr(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r=t.call.apply(t,[this].concat(i)),Gt(Jt(r),"priority",10),Gt(Jt(r),"incompatibleTokens",["t","T","X"]),r}return nr(n,[{key:"parse",value:function(a,i){switch(i){case"x":return ru(nu.basicOptionalMinutes,a);case"xx":return ru(nu.basic,a);case"xxxx":return ru(nu.basicOptionalSeconds,a);case"xxxxx":return ru(nu.extendedOptionalSeconds,a);case"xxx":default:return ru(nu.extended,a)}}},{key:"set",value:function(a,i,o){return i.timestampIsSet?a:new Date(a.getTime()-o)}}]),n}(br),ctt=function(e){cr(n,e);var t=ur(n);function n(){var r;tr(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r=t.call.apply(t,[this].concat(i)),Gt(Jt(r),"priority",40),Gt(Jt(r),"incompatibleTokens","*"),r}return nr(n,[{key:"parse",value:function(a){return Tde(a)}},{key:"set",value:function(a,i,o){return[new Date(o*1e3),{timestampIsSet:!0}]}}]),n}(br),utt=function(e){cr(n,e);var t=ur(n);function n(){var r;tr(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r=t.call.apply(t,[this].concat(i)),Gt(Jt(r),"priority",20),Gt(Jt(r),"incompatibleTokens","*"),r}return nr(n,[{key:"parse",value:function(a){return Tde(a)}},{key:"set",value:function(a,i,o){return[new Date(o),{timestampIsSet:!0}]}}]),n}(br),dtt={G:new jet,y:new Pet,Y:new Aet,R:new Det,u:new Oet,Q:new Met,q:new Iet,M:new Ret,L:new Fet,w:new $et,I:new zet,d:new Vet,D:new Het,E:new qet,e:new Get,c:new Yet,i:new Xet,a:new Zet,b:new Qet,B:new Jet,h:new ett,H:new ttt,K:new ntt,k:new rtt,m:new att,s:new itt,S:new ott,X:new stt,x:new ltt,t:new ctt,T:new utt},ftt=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,htt=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ptt=/^'([^]*?)'?$/,mtt=/''/g,gtt=/\S/,vtt=/[a-zA-Z]/;function mD(e,t,n,r){var a,i,o,s,l,u,d,f,h,p,m,g,y,x,b,w,_,S;Ut(3,arguments);var k=String(e),N=String(t),P=Hm(),T=(a=(i=r==null?void 0:r.locale)!==null&&i!==void 0?i:P.locale)!==null&&a!==void 0?a:wde;if(!T.match)throw new RangeError("locale must contain match property");var j=Wn((o=(s=(l=(u=r==null?void 0:r.firstWeekContainsDate)!==null&&u!==void 0?u:r==null||(d=r.locale)===null||d===void 0||(f=d.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&l!==void 0?l:P.firstWeekContainsDate)!==null&&s!==void 0?s:(h=P.locale)===null||h===void 0||(p=h.options)===null||p===void 0?void 0:p.firstWeekContainsDate)!==null&&o!==void 0?o:1);if(!(j>=1&&j<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var D=Wn((m=(g=(y=(x=r==null?void 0:r.weekStartsOn)!==null&&x!==void 0?x:r==null||(b=r.locale)===null||b===void 0||(w=b.options)===null||w===void 0?void 0:w.weekStartsOn)!==null&&y!==void 0?y:P.weekStartsOn)!==null&&g!==void 0?g:(_=P.locale)===null||_===void 0||(S=_.options)===null||S===void 0?void 0:S.weekStartsOn)!==null&&m!==void 0?m:0);if(!(D>=0&&D<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(N==="")return k===""?nn(n):new Date(NaN);var M={firstWeekContainsDate:j,weekStartsOn:D,locale:T},R=[new ket],W=N.match(htt).map(function(ae){var Y=ae[0];if(Y in lI){var X=lI[Y];return X(ae,T.formatLong)}return ae}).join("").match(ftt),B=[],V=VG(W),q;try{var I=function(){var Y=q.value;!(r!=null&&r.useAdditionalWeekYearTokens)&&bde(Y)&&pN(Y,N,e),!(r!=null&&r.useAdditionalDayOfYearTokens)&&xde(Y)&&pN(Y,N,e);var X=Y[0],K=dtt[X];if(K){var F=K.incompatibleTokens;if(Array.isArray(F)){var re=B.find(function(oe){return F.includes(oe.token)||oe.token===X});if(re)throw new RangeError("The format string mustn't contain `".concat(re.fullToken,"` and `").concat(Y,"` at the same time"))}else if(K.incompatibleTokens==="*"&&B.length>0)throw new RangeError("The format string mustn't contain `".concat(Y,"` and any other token at the same time"));B.push({token:X,fullToken:Y});var Q=K.run(k,Y,T.match,M);if(!Q)return{v:new Date(NaN)};R.push(Q.setter),k=Q.rest}else{if(X.match(vtt))throw new RangeError("Format string contains an unescaped latin alphabet character `"+X+"`");if(Y==="''"?Y="'":X==="'"&&(Y=ytt(Y)),k.indexOf(Y)===0)k=k.slice(Y.length);else return{v:new Date(NaN)}}};for(V.s();!(q=V.n()).done;){var O=I();if(Pl(O)==="object")return O.v}}catch(ae){V.e(ae)}finally{V.f()}if(k.length>0&&gtt.test(k))return new Date(NaN);var H=R.map(function(ae){return ae.priority}).sort(function(ae,Y){return Y-ae}).filter(function(ae,Y,X){return X.indexOf(ae)===Y}).map(function(ae){return R.filter(function(Y){return Y.priority===ae}).sort(function(Y,X){return X.subPriority-Y.subPriority})}).map(function(ae){return ae[0]}),ne=nn(n);if(isNaN(ne.getTime()))return new Date(NaN);var z=pde(ne,hN(ne)),J={},ee=VG(H),G;try{for(ee.s();!(G=ee.n()).done;){var Z=G.value;if(!Z.validate(z,M))return new Date(NaN);var se=Z.set(z,J,M);Array.isArray(se)?(z=se[0],bet(J,se[1])):z=se}}catch(ae){ee.e(ae)}finally{ee.f()}return z}function ytt(e){return e.match(ptt)[1].replace(mtt,"'")}function xtt(e,t){var n;Ut(1,arguments);var r=Wn((n=void 0)!==null&&n!==void 0?n:2);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var a=Stt(e),i;if(a.date){var o=Ctt(a.date,r);i=Ett(o.restDateString,o.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);var s=i.getTime(),l=0,u;if(a.time&&(l=Ntt(a.time),isNaN(l)))return new Date(NaN);if(a.timezone){if(u=ktt(a.timezone),isNaN(u))return new Date(NaN)}else{var d=new Date(s+l),f=new Date(0);return f.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),f.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),f}return new Date(s+l+u)}var sS={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},btt=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,wtt=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,_tt=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Stt(e){var t={},n=e.split(sS.dateTimeDelimiter),r;if(n.length>2)return t;if(/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],sS.timeZoneDelimiter.test(t.date)&&(t.date=e.split(sS.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length))),r){var a=sS.timezone.exec(r);a?(t.time=r.replace(a[1],""),t.timezone=a[1]):t.time=r}return t}function Ctt(e,t){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};var a=r[1]?parseInt(r[1]):null,i=r[2]?parseInt(r[2]):null;return{year:i===null?a:i*100,restDateString:e.slice((r[1]||r[2]).length)}}function Ett(e,t){if(t===null)return new Date(NaN);var n=e.match(btt);if(!n)return new Date(NaN);var r=!!n[4],a=ox(n[1]),i=ox(n[2])-1,o=ox(n[3]),s=ox(n[4]),l=ox(n[5])-1;if(r)return Dtt(t,s,l)?jtt(t,s,l):new Date(NaN);var u=new Date(0);return!Ptt(t,i,o)||!Att(t,a)?new Date(NaN):(u.setUTCFullYear(t,i,Math.max(a,o)),u)}function ox(e){return e?parseInt(e):1}function Ntt(e){var t=e.match(wtt);if(!t)return NaN;var n=gD(t[1]),r=gD(t[2]),a=gD(t[3]);return Ott(n,r,a)?n*O$+r*D$+a*1e3:NaN}function gD(e){return e&&parseFloat(e.replace(",","."))||0}function ktt(e){if(e==="Z")return 0;var t=e.match(_tt);if(!t)return 0;var n=t[1]==="+"?-1:1,r=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return Mtt(r,a)?n*(r*O$+a*D$):NaN}function jtt(e,t,n){var r=new Date(0);r.setUTCFullYear(e,0,4);var a=r.getUTCDay()||7,i=(t-1)*7+n+1-a;return r.setUTCDate(r.getUTCDate()+i),r}var Ttt=[31,null,31,30,31,30,31,31,30,31,30,31];function Dde(e){return e%400===0||e%4===0&&e%100!==0}function Ptt(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(Ttt[t]||(Dde(e)?29:28))}function Att(e,t){return t>=1&&t<=(Dde(e)?366:365)}function Dtt(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function Ott(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function Mtt(e,t){return t>=0&&t<=59}function Itt(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,hI(e,t)}function hI(e,t){return hI=Object.setPrototypeOf||function(r,a){return r.__proto__=a,r},hI(e,t)}function Rtt(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,i;for(i=0;i<r.length;i++)a=r[i],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function HG(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ftt(e,t,n){return e===t?!0:e.correspondingElement?e.correspondingElement.classList.contains(n):e.classList.contains(n)}function Ltt(e,t,n){if(e===t)return!0;for(;e.parentNode||e.host;){if(e.parentNode&&Ftt(e,t,n))return!0;e=e.parentNode||e.host}return e}function $tt(e){return document.documentElement.clientWidth<=e.clientX||document.documentElement.clientHeight<=e.clientY}var Btt=function(){if(!(typeof window>"u"||typeof window.addEventListener!="function")){var t=!1,n=Object.defineProperty({},"passive",{get:function(){t=!0}}),r=function(){};return window.addEventListener("testPassiveEventSupport",r,n),window.removeEventListener("testPassiveEventSupport",r,n),t}};function ztt(e){return e===void 0&&(e=0),function(){return++e}}var Utt=ztt(),pI,lS={},vD={},Wtt=["touchstart","touchmove"],Vtt="ignore-react-onclickoutside";function qG(e,t){var n={},r=Wtt.indexOf(t)!==-1;return r&&pI&&(n.passive=!e.props.preventDefault),n}function IT(e,t){var n,r,a=e.displayName||e.name||"Component";return r=n=function(i){Itt(o,i);function o(l){var u;return u=i.call(this,l)||this,u.__outsideClickHandler=function(d){if(typeof u.__clickOutsideHandlerProp=="function"){u.__clickOutsideHandlerProp(d);return}var f=u.getInstance();if(typeof f.props.handleClickOutside=="function"){f.props.handleClickOutside(d);return}if(typeof f.handleClickOutside=="function"){f.handleClickOutside(d);return}throw new Error("WrappedComponent: "+a+" lacks a handleClickOutside(event) function for processing outside click events.")},u.__getComponentNode=function(){var d=u.getInstance();return typeof d.setClickOutsideRef=="function"?d.setClickOutsideRef():jm.findDOMNode(d)},u.enableOnClickOutside=function(){if(!(typeof document>"u"||vD[u._uid])){typeof pI>"u"&&(pI=Btt()),vD[u._uid]=!0;var d=u.props.eventTypes;d.forEach||(d=[d]),lS[u._uid]=function(f){if(u.componentNode!==null&&!(u.initTimeStamp>f.timeStamp)&&(u.props.preventDefault&&f.preventDefault(),u.props.stopPropagation&&f.stopPropagation(),!(u.props.excludeScrollbar&&$tt(f)))){var h=f.composed&&f.composedPath&&f.composedPath().shift()||f.target;Ltt(h,u.componentNode,u.props.outsideClickIgnoreClass)===document&&u.__outsideClickHandler(f)}},d.forEach(function(f){document.addEventListener(f,lS[u._uid],qG(HG(u),f))})}},u.disableOnClickOutside=function(){delete vD[u._uid];var d=lS[u._uid];if(d&&typeof document<"u"){var f=u.props.eventTypes;f.forEach||(f=[f]),f.forEach(function(h){return document.removeEventListener(h,d,qG(HG(u),h))}),delete lS[u._uid]}},u.getRef=function(d){return u.instanceRef=d},u._uid=Utt(),u.initTimeStamp=performance.now(),u}var s=o.prototype;return s.getInstance=function(){if(e.prototype&&!e.prototype.isReactComponent)return this;var u=this.instanceRef;return u.getInstance?u.getInstance():u},s.componentDidMount=function(){typeof document>"u"||!document.createElement||(this.getInstance(),this.componentNode=this.__getComponentNode(),!this.props.disableOnClickOutside&&this.enableOnClickOutside())},s.componentDidUpdate=function(){this.componentNode=this.__getComponentNode()},s.componentWillUnmount=function(){this.disableOnClickOutside()},s.render=function(){var u=this.props;u.excludeScrollbar;var d=Rtt(u,["excludeScrollbar"]);return e.prototype&&e.prototype.isReactComponent?d.ref=this.getRef:d.wrappedRef=this.getRef,d.disableOnClickOutside=this.disableOnClickOutside,d.enableOnClickOutside=this.enableOnClickOutside,E.createElement(e,d)},o}(E.Component),n.displayName="OnClickOutside("+a+")",n.defaultProps={eventTypes:["mousedown","touchstart"],excludeScrollbar:!1,outsideClickIgnoreClass:Vtt,preventDefault:!1,stopPropagation:!1},n.getClass=function(){return e.getClass?e.getClass():e},r}var Ode=E.createContext(),Mde=E.createContext();function Htt(e){var t=e.children,n=E.useState(null),r=n[0],a=n[1],i=E.useRef(!1);E.useEffect(function(){return function(){i.current=!0}},[]);var o=E.useCallback(function(s){i.current||a(s)},[]);return E.createElement(Ode.Provider,{value:r},E.createElement(Mde.Provider,{value:o},t))}var Ide=function(t){return Array.isArray(t)?t[0]:t},Rde=function(t){if(typeof t=="function"){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return t.apply(void 0,r)}},mI=function(t,n){if(typeof t=="function")return Rde(t,n);t!=null&&(t.current=n)},GG=function(t){return t.reduce(function(n,r){var a=r[0],i=r[1];return n[a]=i,n},{})},YG=typeof window<"u"&&window.document&&window.document.createElement?E.useLayoutEffect:E.useEffect,qtt=typeof Element<"u",Gtt=typeof Map=="function",Ytt=typeof Set=="function",Ktt=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function uC(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,r,a;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!uC(e[r],t[r]))return!1;return!0}var i;if(Gtt&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(i=e.entries();!(r=i.next()).done;)if(!t.has(r.value[0]))return!1;for(i=e.entries();!(r=i.next()).done;)if(!uC(r.value[1],t.get(r.value[0])))return!1;return!0}if(Ytt&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(i=e.entries();!(r=i.next()).done;)if(!t.has(r.value[0]))return!1;return!0}if(Ktt&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(a=Object.keys(e),n=a.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,a[r]))return!1;if(qtt&&e instanceof Element)return!1;for(r=n;r--!==0;)if(!((a[r]==="_owner"||a[r]==="__v"||a[r]==="__o")&&e.$$typeof)&&!uC(e[a[r]],t[a[r]]))return!1;return!0}return e!==e&&t!==t}var Xtt=function(t,n){try{return uC(t,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const Ztt=sr(Xtt);var Qtt=[],Jtt=function(t,n,r){r===void 0&&(r={});var a=E.useRef(null),i={onFirstUpdate:r.onFirstUpdate,placement:r.placement||"bottom",strategy:r.strategy||"absolute",modifiers:r.modifiers||Qtt},o=E.useState({styles:{popper:{position:i.strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),s=o[0],l=o[1],u=E.useMemo(function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(p){var m=p.state,g=Object.keys(m.elements);jm.flushSync(function(){l({styles:GG(g.map(function(y){return[y,m.styles[y]||{}]})),attributes:GG(g.map(function(y){return[y,m.attributes[y]]}))})})},requires:["computeStyles"]}},[]),d=E.useMemo(function(){var h={onFirstUpdate:i.onFirstUpdate,placement:i.placement,strategy:i.strategy,modifiers:[].concat(i.modifiers,[u,{name:"applyStyles",enabled:!1}])};return Ztt(a.current,h)?a.current||h:(a.current=h,h)},[i.onFirstUpdate,i.placement,i.strategy,i.modifiers,u]),f=E.useRef();return YG(function(){f.current&&f.current.setOptions(d)},[d]),YG(function(){if(!(t==null||n==null)){var h=r.createPopper||Jne,p=h(t,n,d);return f.current=p,function(){p.destroy(),f.current=null}}},[t,n,r.createPopper]),{state:f.current?f.current.state:null,styles:s.styles,attributes:s.attributes,update:f.current?f.current.update:null,forceUpdate:f.current?f.current.forceUpdate:null}},ent=function(){},tnt=function(){return Promise.resolve(null)},nnt=[];function rnt(e){var t=e.placement,n=t===void 0?"bottom":t,r=e.strategy,a=r===void 0?"absolute":r,i=e.modifiers,o=i===void 0?nnt:i,s=e.referenceElement,l=e.onFirstUpdate,u=e.innerRef,d=e.children,f=E.useContext(Ode),h=E.useState(null),p=h[0],m=h[1],g=E.useState(null),y=g[0],x=g[1];E.useEffect(function(){mI(u,p)},[u,p]);var b=E.useMemo(function(){return{placement:n,strategy:a,onFirstUpdate:l,modifiers:[].concat(o,[{name:"arrow",enabled:y!=null,options:{element:y}}])}},[n,a,l,o,y]),w=Jtt(s||f,p,b),_=w.state,S=w.styles,k=w.forceUpdate,N=w.update,P=E.useMemo(function(){return{ref:m,style:S.popper,placement:_?_.placement:n,hasPopperEscaped:_&&_.modifiersData.hide?_.modifiersData.hide.hasPopperEscaped:null,isReferenceHidden:_&&_.modifiersData.hide?_.modifiersData.hide.isReferenceHidden:null,arrowProps:{style:S.arrow,ref:x},forceUpdate:k||ent,update:N||tnt}},[m,x,n,_,S,N,k]);return Ide(d)(P)}var ant=function(){},int=ant;const ont=sr(int);function snt(e){var t=e.children,n=e.innerRef,r=E.useContext(Mde),a=E.useCallback(function(i){mI(n,i),Rde(r,i)},[n,r]);return E.useEffect(function(){return function(){return mI(n,null)}},[]),E.useEffect(function(){ont(!!r,"`Reference` should not be used outside of a `Manager` component.")},[r]),Ide(t)({ref:a})}function lnt(e,t){if(Ut(2,arguments),Pl(t)!=="object"||t===null)throw new RangeError("values parameter must be an object");var n=nn(e);return isNaN(n.getTime())?new Date(NaN):(t.year!=null&&n.setFullYear(t.year),t.month!=null&&(n=Mo(n,t.month)),t.date!=null&&n.setDate(Wn(t.date)),t.hours!=null&&n.setHours(Wn(t.hours)),t.minutes!=null&&n.setMinutes(Wn(t.minutes)),t.seconds!=null&&n.setSeconds(Wn(t.seconds)),t.milliseconds!=null&&n.setMilliseconds(Wn(t.milliseconds)),n)}function KG(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function _N(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KG(Object(n),!0).forEach(function(r){Se(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KG(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gI(e){return gI=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gI(e)}function Oi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function XG(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Fde(r.key),r)}}function Mi(e,t,n){return t&&XG(e.prototype,t),n&&XG(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Se(e,t,n){return(t=Fde(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g0(){return g0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},g0.apply(this,arguments)}function Ii(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vI(e,t)}function SN(e){return SN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},SN(e)}function vI(e,t){return vI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},vI(e,t)}function Ne(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ri(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=SN(e);if(t){var a=SN(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return function(i,o){if(o&&(typeof o=="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ne(i)}(this,n)}}function Kb(e){return function(t){if(Array.isArray(t))return yD(t)}(e)||function(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(e)||function(t,n){if(t){if(typeof t=="string")return yD(t,n);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yD(t,n)}}(e)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function yD(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Fde(e){var t=function(n,r){if(typeof n!="object"||n===null)return n;var a=n[Symbol.toPrimitive];if(a!==void 0){var i=a.call(n,r);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(n)}(e,"string");return typeof t=="symbol"?t:String(t)}var ZG=function(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},QG=function(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},cnt={p:QG,P:function(e,t){var n,r=e.match(/(P+)(p+)?/)||[],a=r[1],i=r[2];if(!i)return ZG(e,t);switch(a){case"P":n=t.dateTime({width:"short"});break;case"PP":n=t.dateTime({width:"medium"});break;case"PPP":n=t.dateTime({width:"long"});break;default:n=t.dateTime({width:"full"})}return n.replace("{{date}}",ZG(a,t)).replace("{{time}}",QG(i,t))}},N1=12,unt=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;function Br(e){var t=e?typeof e=="string"||e instanceof String?xtt(e):nn(e):new Date;return xf(t)?t:null}function xf(e,t){return t=t||new Date("1/1/1000"),qb(e)&&!Uf(e,t)}function ga(e,t,n){if(n==="en")return FG(e,t,{awareOfUnicodeTokens:!0});var r=em(n);return n&&!r&&console.warn('A locale object was not found for the provided string ["'.concat(n,'"].')),!r&&Jp()&&em(Jp())&&(r=em(Jp())),FG(e,t,{locale:r||null,awareOfUnicodeTokens:!0})}function Ic(e,t){var n=t.dateFormat,r=t.locale;return e&&ga(e,Array.isArray(n)?n[0]:n,r)||""}function JG(e,t){var n=t.hour,r=n===void 0?0:n,a=t.minute,i=a===void 0?0:a,o=t.second;return cC(lC(cet(e,o===void 0?0:o),i),r)}function Su(e,t,n){var r=em(t||Jp());return Sde(e,{locale:r,weekStartsOn:n})}function ah(e){return Cde(e)}function Ix(e){return Ede(e)}function eY(e){return dI(e)}function tY(){return _u(Br())}function Wf(e,t){return e&&t?vet(e,t):!e&&!t}function oc(e,t){return e&&t?get(e,t):!e&&!t}function CN(e,t){return e&&t?yet(e,t):!e&&!t}function Gr(e,t){return e&&t?met(e,t):!e&&!t}function Op(e,t){return e&&t?pet(e,t):!e&&!t}function dC(e,t,n){var r,a=_u(t),i=fI(n);try{r=Yb(e,{start:a,end:i})}catch{r=!1}return r}function Jp(){return(typeof window<"u"?window:globalThis).__localeId__}function em(e){if(typeof e=="string"){var t=typeof window<"u"?window:globalThis;return t.__localeData__?t.__localeData__[e]:null}return e}function R$(e,t){return ga(Mo(Br(),e),"LLLL",t)}function Lde(e,t){return ga(Mo(Br(),e),"LLL",t)}function RT(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.minDate,r=t.maxDate,a=t.excludeDates,i=t.excludeDateIntervals,o=t.includeDates,s=t.includeDateIntervals,l=t.filterDate;return FT(e,{minDate:n,maxDate:r})||a&&a.some(function(u){return Gr(e,u)})||i&&i.some(function(u){var d=u.start,f=u.end;return Yb(e,{start:d,end:f})})||o&&!o.some(function(u){return Gr(e,u)})||s&&!s.some(function(u){var d=u.start,f=u.end;return Yb(e,{start:d,end:f})})||l&&!l(Br(e))||!1}function F$(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.excludeDates,r=t.excludeDateIntervals;return r&&r.length>0?r.some(function(a){var i=a.start,o=a.end;return Yb(e,{start:i,end:o})}):n&&n.some(function(a){return Gr(e,a)})||!1}function $de(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.minDate,r=t.maxDate,a=t.excludeDates,i=t.includeDates,o=t.filterDate;return FT(e,{minDate:Cde(n),maxDate:fet(r)})||a&&a.some(function(s){return oc(e,s)})||i&&!i.some(function(s){return oc(e,s)})||o&&!o(Br(e))||!1}function xD(e,t,n,r){var a=qn(e),i=yo(e),o=qn(t),s=yo(t),l=qn(r);return a===o&&a===l?i<=n&&n<=s:a<o?l===a&&i<=n||l===o&&s>=n||l<o&&l>a:void 0}function dnt(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.minDate,r=t.maxDate,a=t.excludeDates,i=t.includeDates,o=t.filterDate;return FT(e,{minDate:n,maxDate:r})||a&&a.some(function(s){return CN(e,s)})||i&&!i.some(function(s){return CN(e,s)})||o&&!o(Br(e))||!1}function bD(e,t,n){if(!qb(t)||!qb(n))return!1;var r=qn(t),a=qn(n);return r<=e&&a>=e}function Bde(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.minDate,r=t.maxDate,a=t.excludeDates,i=t.includeDates,o=t.filterDate,s=new Date(e,0,1);return FT(s,{minDate:Ede(n),maxDate:het(r)})||a&&a.some(function(l){return Wf(s,l)})||i&&!i.some(function(l){return Wf(s,l)})||o&&!o(Br(s))||!1}function wD(e,t,n,r){var a=qn(e),i=Qg(e),o=qn(t),s=Qg(t),l=qn(r);return a===o&&a===l?i<=n&&n<=s:a<o?l===a&&i<=n||l===o&&s>=n||l<o&&l>a:void 0}function FT(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.minDate,r=t.maxDate;return n&&vN(e,n)<0||r&&vN(e,r)>0}function nY(e,t){return t.some(function(n){return wu(n)===wu(e)&&bu(n)===bu(e)})}function rY(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.excludeTimes,r=t.includeTimes,a=t.filterTime;return n&&nY(e,n)||r&&!nY(e,r)||a&&!a(e)||!1}function aY(e,t){var n=t.minTime,r=t.maxTime;if(!n||!r)throw new Error("Both minTime and maxTime props required");var a,i=Br(),o=cC(lC(i,bu(e)),wu(e)),s=cC(lC(i,bu(n)),wu(n)),l=cC(lC(i,bu(r)),wu(r));try{a=!Yb(o,{start:s,end:l})}catch{a=!1}return a}function iY(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.minDate,r=t.includeDates,a=m0(e,1);return n&&yN(n,a)>0||r&&r.every(function(i){return yN(i,a)>0})||!1}function oY(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.maxDate,r=t.includeDates,a=bc(e,1);return n&&yN(a,n)>0||r&&r.every(function(i){return yN(a,i)>0})||!1}function sY(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.minDate,r=t.includeDates,a=Gb(e,1);return n&&xN(n,a)>0||r&&r.every(function(i){return xN(i,a)>0})||!1}function lY(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.maxDate,r=t.includeDates,a=p0(e,1);return n&&xN(a,n)>0||r&&r.every(function(i){return xN(a,i)>0})||!1}function zde(e){var t=e.minDate,n=e.includeDates;if(n&&t){var r=n.filter(function(a){return vN(a,t)>=0});return zG(r)}return n?zG(n):t}function Ude(e){var t=e.maxDate,n=e.includeDates;if(n&&t){var r=n.filter(function(a){return vN(a,t)<=0});return UG(r)}return n?UG(n):t}function cY(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"react-datepicker__day--highlighted",n=new Map,r=0,a=e.length;r<a;r++){var i=e[r];if(MT(i)){var o=ga(i,"MM.dd.yyyy"),s=n.get(o)||[];s.includes(t)||(s.push(t),n.set(o,s))}else if(gI(i)==="object"){var l=Object.keys(i),u=l[0],d=i[l[0]];if(typeof u=="string"&&d.constructor===Array)for(var f=0,h=d.length;f<h;f++){var p=ga(d[f],"MM.dd.yyyy"),m=n.get(p)||[];m.includes(u)||(m.push(u),n.set(p,m))}}}return n}function fnt(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"react-datepicker__day--holidays",n=new Map;return e.forEach(function(r){var a=r.date,i=r.holidayName;if(MT(a)){var o=ga(a,"MM.dd.yyyy"),s=n.get(o)||{};if(!("className"in s)||s.className!==t||(l=s.holidayNames,u=[i],l.length!==u.length||!l.every(function(f,h){return f===u[h]}))){var l,u;s.className=t;var d=s.holidayNames;s.holidayNames=d?[].concat(Kb(d),[i]):[i],n.set(o,s)}}}),n}function hnt(e,t,n,r,a){for(var i=a.length,o=[],s=0;s<i;s++){var l=cI(eet(e,wu(a[s])),bu(a[s])),u=cI(e,(n+1)*r);_h(l,t)&&Uf(l,u)&&o.push(a[s])}return o}function uY(e){return e<10?"0".concat(e):"".concat(e)}function Jg(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:N1,n=Math.ceil(qn(e)/t)*t;return{startPeriod:n-(t-1),endPeriod:n}}function dY(e){var t=e.getSeconds(),n=e.getMilliseconds();return nn(e.getTime()-1e3*t-n)}function pnt(e,t,n,r){for(var a=[],i=0;i<2*t+1;i++){var o=e+t-i,s=!0;n&&(s=qn(n)<=o),r&&s&&(s=qn(r)>=o),s&&a.push(o)}return a}var mnt=IT(function(e){Ii(n,le.Component);var t=Ri(n);function n(r){var a;Oi(this,n),Se(Ne(a=t.call(this,r)),"renderOptions",function(){var l=a.props.year,u=a.state.yearsList.map(function(h){return le.createElement("div",{className:l===h?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:h,onClick:a.onChange.bind(Ne(a),h),"aria-selected":l===h?"true":void 0},l===h?le.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",h)}),d=a.props.minDate?qn(a.props.minDate):null,f=a.props.maxDate?qn(a.props.maxDate):null;return f&&a.state.yearsList.find(function(h){return h===f})||u.unshift(le.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:a.incrementYears},le.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),d&&a.state.yearsList.find(function(h){return h===d})||u.push(le.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:a.decrementYears},le.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),u}),Se(Ne(a),"onChange",function(l){a.props.onChange(l)}),Se(Ne(a),"handleClickOutside",function(){a.props.onCancel()}),Se(Ne(a),"shiftYears",function(l){var u=a.state.yearsList.map(function(d){return d+l});a.setState({yearsList:u})}),Se(Ne(a),"incrementYears",function(){return a.shiftYears(1)}),Se(Ne(a),"decrementYears",function(){return a.shiftYears(-1)});var i=r.yearDropdownItemNumber,o=r.scrollableYearDropdown,s=i||(o?10:5);return a.state={yearsList:pnt(a.props.year,s,a.props.minDate,a.props.maxDate)},a.dropdownRef=E.createRef(),a}return Mi(n,[{key:"componentDidMount",value:function(){var r=this.dropdownRef.current;if(r){var a=r.children?Array.from(r.children):null,i=a?a.find(function(o){return o.ariaSelected}):null;r.scrollTop=i?i.offsetTop+(i.clientHeight-r.clientHeight)/2:(r.scrollHeight-r.clientHeight)/2}}},{key:"render",value:function(){var r=Rr({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return le.createElement("div",{className:r,ref:this.dropdownRef},this.renderOptions())}}]),n}()),gnt=function(e){Ii(n,le.Component);var t=Ri(n);function n(){var r;Oi(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return Se(Ne(r=t.call.apply(t,[this].concat(i))),"state",{dropdownVisible:!1}),Se(Ne(r),"renderSelectOptions",function(){for(var s=r.props.minDate?qn(r.props.minDate):1900,l=r.props.maxDate?qn(r.props.maxDate):2100,u=[],d=s;d<=l;d++)u.push(le.createElement("option",{key:d,value:d},d));return u}),Se(Ne(r),"onSelectChange",function(s){r.onChange(s.target.value)}),Se(Ne(r),"renderSelectMode",function(){return le.createElement("select",{value:r.props.year,className:"react-datepicker__year-select",onChange:r.onSelectChange},r.renderSelectOptions())}),Se(Ne(r),"renderReadView",function(s){return le.createElement("div",{key:"read",style:{visibility:s?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(l){return r.toggleDropdown(l)}},le.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),le.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},r.props.year))}),Se(Ne(r),"renderDropdown",function(){return le.createElement(mnt,{key:"dropdown",year:r.props.year,onChange:r.onChange,onCancel:r.toggleDropdown,minDate:r.props.minDate,maxDate:r.props.maxDate,scrollableYearDropdown:r.props.scrollableYearDropdown,yearDropdownItemNumber:r.props.yearDropdownItemNumber})}),Se(Ne(r),"renderScrollMode",function(){var s=r.state.dropdownVisible,l=[r.renderReadView(!s)];return s&&l.unshift(r.renderDropdown()),l}),Se(Ne(r),"onChange",function(s){r.toggleDropdown(),s!==r.props.year&&r.props.onChange(s)}),Se(Ne(r),"toggleDropdown",function(s){r.setState({dropdownVisible:!r.state.dropdownVisible},function(){r.props.adjustDateOnChange&&r.handleYearChange(r.props.date,s)})}),Se(Ne(r),"handleYearChange",function(s,l){r.onSelect(s,l),r.setOpen()}),Se(Ne(r),"onSelect",function(s,l){r.props.onSelect&&r.props.onSelect(s,l)}),Se(Ne(r),"setOpen",function(){r.props.setOpen&&r.props.setOpen(!0)}),r}return Mi(n,[{key:"render",value:function(){var r;switch(this.props.dropdownMode){case"scroll":r=this.renderScrollMode();break;case"select":r=this.renderSelectMode()}return le.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},r)}}]),n}(),vnt=IT(function(e){Ii(n,le.Component);var t=Ri(n);function n(){var r;Oi(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return Se(Ne(r=t.call.apply(t,[this].concat(i))),"isSelectedMonth",function(s){return r.props.month===s}),Se(Ne(r),"renderOptions",function(){return r.props.monthNames.map(function(s,l){return le.createElement("div",{className:r.isSelectedMonth(l)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:s,onClick:r.onChange.bind(Ne(r),l),"aria-selected":r.isSelectedMonth(l)?"true":void 0},r.isSelectedMonth(l)?le.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",s)})}),Se(Ne(r),"onChange",function(s){return r.props.onChange(s)}),Se(Ne(r),"handleClickOutside",function(){return r.props.onCancel()}),r}return Mi(n,[{key:"render",value:function(){return le.createElement("div",{className:"react-datepicker__month-dropdown"},this.renderOptions())}}]),n}()),ynt=function(e){Ii(n,le.Component);var t=Ri(n);function n(){var r;Oi(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return Se(Ne(r=t.call.apply(t,[this].concat(i))),"state",{dropdownVisible:!1}),Se(Ne(r),"renderSelectOptions",function(s){return s.map(function(l,u){return le.createElement("option",{key:u,value:u},l)})}),Se(Ne(r),"renderSelectMode",function(s){return le.createElement("select",{value:r.props.month,className:"react-datepicker__month-select",onChange:function(l){return r.onChange(l.target.value)}},r.renderSelectOptions(s))}),Se(Ne(r),"renderReadView",function(s,l){return le.createElement("div",{key:"read",style:{visibility:s?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:r.toggleDropdown},le.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),le.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},l[r.props.month]))}),Se(Ne(r),"renderDropdown",function(s){return le.createElement(vnt,{key:"dropdown",month:r.props.month,monthNames:s,onChange:r.onChange,onCancel:r.toggleDropdown})}),Se(Ne(r),"renderScrollMode",function(s){var l=r.state.dropdownVisible,u=[r.renderReadView(!l,s)];return l&&u.unshift(r.renderDropdown(s)),u}),Se(Ne(r),"onChange",function(s){r.toggleDropdown(),s!==r.props.month&&r.props.onChange(s)}),Se(Ne(r),"toggleDropdown",function(){return r.setState({dropdownVisible:!r.state.dropdownVisible})}),r}return Mi(n,[{key:"render",value:function(){var r,a=this,i=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(o){return Lde(o,a.props.locale)}:function(o){return R$(o,a.props.locale)});switch(this.props.dropdownMode){case"scroll":r=this.renderScrollMode(i);break;case"select":r=this.renderSelectMode(i)}return le.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},r)}}]),n}();function xnt(e,t){for(var n=[],r=ah(e),a=ah(t);!_h(r,a);)n.push(Br(r)),r=bc(r,1);return n}var bnt=IT(function(e){Ii(n,le.Component);var t=Ri(n);function n(r){var a;return Oi(this,n),Se(Ne(a=t.call(this,r)),"renderOptions",function(){return a.state.monthYearsList.map(function(i){var o=uI(i),s=Wf(a.props.date,i)&&oc(a.props.date,i);return le.createElement("div",{className:s?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:o,onClick:a.onChange.bind(Ne(a),o),"aria-selected":s?"true":void 0},s?le.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",ga(i,a.props.dateFormat,a.props.locale))})}),Se(Ne(a),"onChange",function(i){return a.props.onChange(i)}),Se(Ne(a),"handleClickOutside",function(){a.props.onCancel()}),a.state={monthYearsList:xnt(a.props.minDate,a.props.maxDate)},a}return Mi(n,[{key:"render",value:function(){var r=Rr({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return le.createElement("div",{className:r},this.renderOptions())}}]),n}()),wnt=function(e){Ii(n,le.Component);var t=Ri(n);function n(){var r;Oi(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return Se(Ne(r=t.call.apply(t,[this].concat(i))),"state",{dropdownVisible:!1}),Se(Ne(r),"renderSelectOptions",function(){for(var s=ah(r.props.minDate),l=ah(r.props.maxDate),u=[];!_h(s,l);){var d=uI(s);u.push(le.createElement("option",{key:d,value:d},ga(s,r.props.dateFormat,r.props.locale))),s=bc(s,1)}return u}),Se(Ne(r),"onSelectChange",function(s){r.onChange(s.target.value)}),Se(Ne(r),"renderSelectMode",function(){return le.createElement("select",{value:uI(ah(r.props.date)),className:"react-datepicker__month-year-select",onChange:r.onSelectChange},r.renderSelectOptions())}),Se(Ne(r),"renderReadView",function(s){var l=ga(r.props.date,r.props.dateFormat,r.props.locale);return le.createElement("div",{key:"read",style:{visibility:s?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:function(u){return r.toggleDropdown(u)}},le.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),le.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},l))}),Se(Ne(r),"renderDropdown",function(){return le.createElement(bnt,{key:"dropdown",date:r.props.date,dateFormat:r.props.dateFormat,onChange:r.onChange,onCancel:r.toggleDropdown,minDate:r.props.minDate,maxDate:r.props.maxDate,scrollableMonthYearDropdown:r.props.scrollableMonthYearDropdown,locale:r.props.locale})}),Se(Ne(r),"renderScrollMode",function(){var s=r.state.dropdownVisible,l=[r.renderReadView(!s)];return s&&l.unshift(r.renderDropdown()),l}),Se(Ne(r),"onChange",function(s){r.toggleDropdown();var l=Br(parseInt(s));Wf(r.props.date,l)&&oc(r.props.date,l)||r.props.onChange(l)}),Se(Ne(r),"toggleDropdown",function(){return r.setState({dropdownVisible:!r.state.dropdownVisible})}),r}return Mi(n,[{key:"render",value:function(){var r;switch(this.props.dropdownMode){case"scroll":r=this.renderScrollMode();break;case"select":r=this.renderSelectMode()}return le.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},r)}}]),n}(),_nt=function(e){Ii(n,le.Component);var t=Ri(n);function n(){var r;Oi(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return Se(Ne(r=t.call.apply(t,[this].concat(i))),"dayEl",le.createRef()),Se(Ne(r),"handleClick",function(s){!r.isDisabled()&&r.props.onClick&&r.props.onClick(s)}),Se(Ne(r),"handleMouseEnter",function(s){!r.isDisabled()&&r.props.onMouseEnter&&r.props.onMouseEnter(s)}),Se(Ne(r),"handleOnKeyDown",function(s){s.key===" "&&(s.preventDefault(),s.key="Enter"),r.props.handleOnKeyDown(s)}),Se(Ne(r),"isSameDay",function(s){return Gr(r.props.day,s)}),Se(Ne(r),"isKeyboardSelected",function(){return!r.props.disabledKeyboardNavigation&&!(r.isSameDay(r.props.selected)||r.isSameWeek(r.props.selected))&&(r.isSameDay(r.props.preSelection)||r.isSameWeek(r.props.preSelection))}),Se(Ne(r),"isDisabled",function(){return RT(r.props.day,r.props)}),Se(Ne(r),"isExcluded",function(){return F$(r.props.day,r.props)}),Se(Ne(r),"isStartOfWeek",function(){return Gr(r.props.day,Su(r.props.day,r.props.locale,r.props.calendarStartDay))}),Se(Ne(r),"isSameWeek",function(s){return r.props.showWeekPicker&&Gr(s,Su(r.props.day,r.props.locale,r.props.calendarStartDay))}),Se(Ne(r),"getHighLightedClass",function(){var s=r.props,l=s.day,u=s.highlightDates;if(!u)return!1;var d=ga(l,"MM.dd.yyyy");return u.get(d)}),Se(Ne(r),"getHolidaysClass",function(){var s=r.props,l=s.day,u=s.holidays;if(!u)return!1;var d=ga(l,"MM.dd.yyyy");return u.has(d)?[u.get(d).className]:void 0}),Se(Ne(r),"isInRange",function(){var s=r.props,l=s.day,u=s.startDate,d=s.endDate;return!(!u||!d)&&dC(l,u,d)}),Se(Ne(r),"isInSelectingRange",function(){var s,l=r.props,u=l.day,d=l.selectsStart,f=l.selectsEnd,h=l.selectsRange,p=l.selectsDisabledDaysInRange,m=l.startDate,g=l.endDate,y=(s=r.props.selectingDate)!==null&&s!==void 0?s:r.props.preSelection;return!(!(d||f||h)||!y||!p&&r.isDisabled())&&(d&&g&&(Uf(y,g)||Op(y,g))?dC(u,y,g):(f&&m&&(_h(y,m)||Op(y,m))||!(!h||!m||g||!_h(y,m)&&!Op(y,m)))&&dC(u,m,y))}),Se(Ne(r),"isSelectingRangeStart",function(){var s;if(!r.isInSelectingRange())return!1;var l=r.props,u=l.day,d=l.startDate,f=l.selectsStart,h=(s=r.props.selectingDate)!==null&&s!==void 0?s:r.props.preSelection;return Gr(u,f?h:d)}),Se(Ne(r),"isSelectingRangeEnd",function(){var s;if(!r.isInSelectingRange())return!1;var l=r.props,u=l.day,d=l.endDate,f=l.selectsEnd,h=l.selectsRange,p=(s=r.props.selectingDate)!==null&&s!==void 0?s:r.props.preSelection;return Gr(u,f||h?p:d)}),Se(Ne(r),"isRangeStart",function(){var s=r.props,l=s.day,u=s.startDate,d=s.endDate;return!(!u||!d)&&Gr(u,l)}),Se(Ne(r),"isRangeEnd",function(){var s=r.props,l=s.day,u=s.startDate,d=s.endDate;return!(!u||!d)&&Gr(d,l)}),Se(Ne(r),"isWeekend",function(){var s=ret(r.props.day);return s===0||s===6}),Se(Ne(r),"isAfterMonth",function(){return r.props.month!==void 0&&(r.props.month+1)%12===yo(r.props.day)}),Se(Ne(r),"isBeforeMonth",function(){return r.props.month!==void 0&&(yo(r.props.day)+1)%12===r.props.month}),Se(Ne(r),"isCurrentDay",function(){return r.isSameDay(Br())}),Se(Ne(r),"isSelected",function(){return r.isSameDay(r.props.selected)||r.isSameWeek(r.props.selected)}),Se(Ne(r),"getClassNames",function(s){var l,u=r.props.dayClassName?r.props.dayClassName(s):void 0;return Rr("react-datepicker__day",u,"react-datepicker__day--"+ga(r.props.day,"ddd",l),{"react-datepicker__day--disabled":r.isDisabled(),"react-datepicker__day--excluded":r.isExcluded(),"react-datepicker__day--selected":r.isSelected(),"react-datepicker__day--keyboard-selected":r.isKeyboardSelected(),"react-datepicker__day--range-start":r.isRangeStart(),"react-datepicker__day--range-end":r.isRangeEnd(),"react-datepicker__day--in-range":r.isInRange(),"react-datepicker__day--in-selecting-range":r.isInSelectingRange(),"react-datepicker__day--selecting-range-start":r.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":r.isSelectingRangeEnd(),"react-datepicker__day--today":r.isCurrentDay(),"react-datepicker__day--weekend":r.isWeekend(),"react-datepicker__day--outside-month":r.isAfterMonth()||r.isBeforeMonth()},r.getHighLightedClass("react-datepicker__day--highlighted"),r.getHolidaysClass())}),Se(Ne(r),"getAriaLabel",function(){var s=r.props,l=s.day,u=s.ariaLabelPrefixWhenEnabled,d=u===void 0?"Choose":u,f=s.ariaLabelPrefixWhenDisabled,h=f===void 0?"Not available":f,p=r.isDisabled()||r.isExcluded()?h:d;return"".concat(p," ").concat(ga(l,"PPPP",r.props.locale))}),Se(Ne(r),"getTitle",function(){var s=r.props,l=s.day,u=s.holidays,d=u===void 0?new Map:u,f=ga(l,"MM.dd.yyyy");return d.has(f)&&d.get(f).holidayNames.length>0?d.get(f).holidayNames.join(", "):""}),Se(Ne(r),"getTabIndex",function(s,l){var u=s||r.props.selected,d=l||r.props.preSelection;return(!r.props.showWeekPicker||!r.props.showWeekNumber&&r.isStartOfWeek())&&(r.isKeyboardSelected()||r.isSameDay(u)&&Gr(d,u))?0:-1}),Se(Ne(r),"handleFocusDay",function(){var s,l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},u=!1;r.getTabIndex()===0&&!l.isInputFocused&&r.isSameDay(r.props.preSelection)&&(document.activeElement&&document.activeElement!==document.body||(u=!0),r.props.inline&&!r.props.shouldFocusDayInline&&(u=!1),r.props.containerRef&&r.props.containerRef.current&&r.props.containerRef.current.contains(document.activeElement)&&document.activeElement.classList.contains("react-datepicker__day")&&(u=!0),r.props.monthShowsDuplicateDaysEnd&&r.isAfterMonth()&&(u=!1),r.props.monthShowsDuplicateDaysStart&&r.isBeforeMonth()&&(u=!1)),u&&((s=r.dayEl.current)===null||s===void 0||s.focus({preventScroll:!0}))}),Se(Ne(r),"renderDayContents",function(){return r.props.monthShowsDuplicateDaysEnd&&r.isAfterMonth()||r.props.monthShowsDuplicateDaysStart&&r.isBeforeMonth()?null:r.props.renderDayContents?r.props.renderDayContents(BG(r.props.day),r.props.day):BG(r.props.day)}),Se(Ne(r),"render",function(){return le.createElement("div",{ref:r.dayEl,className:r.getClassNames(r.props.day),onKeyDown:r.handleOnKeyDown,onClick:r.handleClick,onMouseEnter:r.handleMouseEnter,tabIndex:r.getTabIndex(),"aria-label":r.getAriaLabel(),role:"option",title:r.getTitle(),"aria-disabled":r.isDisabled(),"aria-current":r.isCurrentDay()?"date":void 0,"aria-selected":r.isSelected()||r.isInRange()},r.renderDayContents(),r.getTitle()!==""&&le.createElement("span",{className:"holiday-overlay"},r.getTitle()))}),r}return Mi(n,[{key:"componentDidMount",value:function(){this.handleFocusDay()}},{key:"componentDidUpdate",value:function(r){this.handleFocusDay(r)}}]),n}(),Snt=function(e){Ii(n,le.Component);var t=Ri(n);function n(){var r;Oi(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return Se(Ne(r=t.call.apply(t,[this].concat(i))),"weekNumberEl",le.createRef()),Se(Ne(r),"handleClick",function(s){r.props.onClick&&r.props.onClick(s)}),Se(Ne(r),"handleOnKeyDown",function(s){s.key===" "&&(s.preventDefault(),s.key="Enter"),r.props.handleOnKeyDown(s)}),Se(Ne(r),"isKeyboardSelected",function(){return!r.props.disabledKeyboardNavigation&&!Gr(r.props.date,r.props.selected)&&Gr(r.props.date,r.props.preSelection)}),Se(Ne(r),"getTabIndex",function(){return r.props.showWeekPicker&&r.props.showWeekNumber&&(r.isKeyboardSelected()||Gr(r.props.date,r.props.selected)&&Gr(r.props.preSelection,r.props.selected))?0:-1}),Se(Ne(r),"handleFocusWeekNumber",function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},l=!1;r.getTabIndex()===0&&!s.isInputFocused&&Gr(r.props.date,r.props.preSelection)&&(document.activeElement&&document.activeElement!==document.body||(l=!0),r.props.inline&&!r.props.shouldFocusDayInline&&(l=!1),r.props.containerRef&&r.props.containerRef.current&&r.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(l=!0)),l&&r.weekNumberEl.current&&r.weekNumberEl.current.focus({preventScroll:!0})}),r}return Mi(n,[{key:"componentDidMount",value:function(){this.handleFocusWeekNumber()}},{key:"componentDidUpdate",value:function(r){this.handleFocusWeekNumber(r)}},{key:"render",value:function(){var r=this.props,a=r.weekNumber,i=r.ariaLabelPrefix,o=i===void 0?"week ":i,s={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!r.onClick,"react-datepicker__week-number--selected":Gr(this.props.date,this.props.selected),"react-datepicker__week-number--keyboard-selected":this.isKeyboardSelected()};return le.createElement("div",{ref:this.weekNumberEl,className:Rr(s),"aria-label":"".concat(o," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},a)}}],[{key:"defaultProps",get:function(){return{ariaLabelPrefix:"week "}}}]),n}(),Cnt=function(e){Ii(n,le.Component);var t=Ri(n);function n(){var r;Oi(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return Se(Ne(r=t.call.apply(t,[this].concat(i))),"handleDayClick",function(s,l){r.props.onDayClick&&r.props.onDayClick(s,l)}),Se(Ne(r),"handleDayMouseEnter",function(s){r.props.onDayMouseEnter&&r.props.onDayMouseEnter(s)}),Se(Ne(r),"handleWeekClick",function(s,l,u){if(typeof r.props.onWeekSelect=="function"&&r.props.onWeekSelect(s,l,u),r.props.showWeekPicker){var d=Su(s,r.props.locale,r.props.calendarStartDay);r.handleDayClick(d,u)}r.props.shouldCloseOnSelect&&r.props.setOpen(!1)}),Se(Ne(r),"formatWeekNumber",function(s){return r.props.formatWeekNumber?r.props.formatWeekNumber(s):function(l,u){var d=Jp()&&em(Jp());return set(l,d?{locale:d}:null)}(s)}),Se(Ne(r),"renderDays",function(){var s=Su(r.props.day,r.props.locale,r.props.calendarStartDay),l=[],u=r.formatWeekNumber(s);if(r.props.showWeekNumber){var d=r.props.onWeekSelect||r.props.showWeekPicker?r.handleWeekClick.bind(Ne(r),s,u):void 0;l.push(le.createElement(Snt,{key:"W",weekNumber:u,date:s,onClick:d,selected:r.props.selected,preSelection:r.props.preSelection,ariaLabelPrefix:r.props.ariaLabelPrefix,showWeekPicker:r.props.showWeekPicker,showWeekNumber:r.props.showWeekNumber,disabledKeyboardNavigation:r.props.disabledKeyboardNavigation,handleOnKeyDown:r.props.handleOnKeyDown,isInputFocused:r.props.isInputFocused,containerRef:r.props.containerRef}))}return l.concat([0,1,2,3,4,5,6].map(function(f){var h=sy(s,f);return le.createElement(_nt,{ariaLabelPrefixWhenEnabled:r.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:r.props.disabledDayAriaLabelPrefix,key:h.valueOf(),day:h,month:r.props.month,onClick:r.handleDayClick.bind(Ne(r),h),onMouseEnter:r.handleDayMouseEnter.bind(Ne(r),h),minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,includeDates:r.props.includeDates,includeDateIntervals:r.props.includeDateIntervals,highlightDates:r.props.highlightDates,holidays:r.props.holidays,selectingDate:r.props.selectingDate,filterDate:r.props.filterDate,preSelection:r.props.preSelection,selected:r.props.selected,selectsStart:r.props.selectsStart,selectsEnd:r.props.selectsEnd,selectsRange:r.props.selectsRange,showWeekPicker:r.props.showWeekPicker,showWeekNumber:r.props.showWeekNumber,selectsDisabledDaysInRange:r.props.selectsDisabledDaysInRange,startDate:r.props.startDate,endDate:r.props.endDate,dayClassName:r.props.dayClassName,renderDayContents:r.props.renderDayContents,disabledKeyboardNavigation:r.props.disabledKeyboardNavigation,handleOnKeyDown:r.props.handleOnKeyDown,isInputFocused:r.props.isInputFocused,containerRef:r.props.containerRef,inline:r.props.inline,shouldFocusDayInline:r.props.shouldFocusDayInline,monthShowsDuplicateDaysEnd:r.props.monthShowsDuplicateDaysEnd,monthShowsDuplicateDaysStart:r.props.monthShowsDuplicateDaysStart,locale:r.props.locale})}))}),Se(Ne(r),"startOfWeek",function(){return Su(r.props.day,r.props.locale,r.props.calendarStartDay)}),Se(Ne(r),"isKeyboardSelected",function(){return!r.props.disabledKeyboardNavigation&&!Gr(r.startOfWeek(),r.props.selected)&&Gr(r.startOfWeek(),r.props.preSelection)}),r}return Mi(n,[{key:"render",value:function(){var r={"react-datepicker__week":!0,"react-datepicker__week--selected":Gr(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return le.createElement("div",{className:Rr(r)},this.renderDays())}}],[{key:"defaultProps",get:function(){return{shouldCloseOnSelect:!0}}}]),n}(),Wde="two_columns",Vde="three_columns",Hde="four_columns",_D=Se(Se(Se({},Wde,{grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2}),Vde,{grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3}),Hde,{grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4});function fY(e,t){return e?Hde:t?Wde:Vde}var Ent=function(e){Ii(n,le.Component);var t=Ri(n);function n(){var r;Oi(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return Se(Ne(r=t.call.apply(t,[this].concat(i))),"MONTH_REFS",Kb(Array(12)).map(function(){return le.createRef()})),Se(Ne(r),"QUARTER_REFS",Kb(Array(4)).map(function(){return le.createRef()})),Se(Ne(r),"isDisabled",function(s){return RT(s,r.props)}),Se(Ne(r),"isExcluded",function(s){return F$(s,r.props)}),Se(Ne(r),"handleDayClick",function(s,l){r.props.onDayClick&&r.props.onDayClick(s,l,r.props.orderInDisplay)}),Se(Ne(r),"handleDayMouseEnter",function(s){r.props.onDayMouseEnter&&r.props.onDayMouseEnter(s)}),Se(Ne(r),"handleMouseLeave",function(){r.props.onMouseLeave&&r.props.onMouseLeave()}),Se(Ne(r),"isRangeStartMonth",function(s){var l=r.props,u=l.day,d=l.startDate,f=l.endDate;return!(!d||!f)&&oc(Mo(u,s),d)}),Se(Ne(r),"isRangeStartQuarter",function(s){var l=r.props,u=l.day,d=l.startDate,f=l.endDate;return!(!d||!f)&&CN(bg(u,s),d)}),Se(Ne(r),"isRangeEndMonth",function(s){var l=r.props,u=l.day,d=l.startDate,f=l.endDate;return!(!d||!f)&&oc(Mo(u,s),f)}),Se(Ne(r),"isRangeEndQuarter",function(s){var l=r.props,u=l.day,d=l.startDate,f=l.endDate;return!(!d||!f)&&CN(bg(u,s),f)}),Se(Ne(r),"isInSelectingRangeMonth",function(s){var l,u=r.props,d=u.day,f=u.selectsStart,h=u.selectsEnd,p=u.selectsRange,m=u.startDate,g=u.endDate,y=(l=r.props.selectingDate)!==null&&l!==void 0?l:r.props.preSelection;return!(!(f||h||p)||!y)&&(f&&g?xD(y,g,s,d):(h&&m||!(!p||!m||g))&&xD(m,y,s,d))}),Se(Ne(r),"isSelectingMonthRangeStart",function(s){var l;if(!r.isInSelectingRangeMonth(s))return!1;var u=r.props,d=u.day,f=u.startDate,h=u.selectsStart,p=Mo(d,s),m=(l=r.props.selectingDate)!==null&&l!==void 0?l:r.props.preSelection;return oc(p,h?m:f)}),Se(Ne(r),"isSelectingMonthRangeEnd",function(s){var l;if(!r.isInSelectingRangeMonth(s))return!1;var u=r.props,d=u.day,f=u.endDate,h=u.selectsEnd,p=u.selectsRange,m=Mo(d,s),g=(l=r.props.selectingDate)!==null&&l!==void 0?l:r.props.preSelection;return oc(m,h||p?g:f)}),Se(Ne(r),"isInSelectingRangeQuarter",function(s){var l,u=r.props,d=u.day,f=u.selectsStart,h=u.selectsEnd,p=u.selectsRange,m=u.startDate,g=u.endDate,y=(l=r.props.selectingDate)!==null&&l!==void 0?l:r.props.preSelection;return!(!(f||h||p)||!y)&&(f&&g?wD(y,g,s,d):(h&&m||!(!p||!m||g))&&wD(m,y,s,d))}),Se(Ne(r),"isWeekInMonth",function(s){var l=r.props.day,u=sy(s,6);return oc(s,l)||oc(u,l)}),Se(Ne(r),"isCurrentMonth",function(s,l){return qn(s)===qn(Br())&&l===yo(Br())}),Se(Ne(r),"isCurrentQuarter",function(s,l){return qn(s)===qn(Br())&&l===Qg(Br())}),Se(Ne(r),"isSelectedMonth",function(s,l,u){return yo(u)===l&&qn(s)===qn(u)}),Se(Ne(r),"isSelectedQuarter",function(s,l,u){return Qg(s)===l&&qn(s)===qn(u)}),Se(Ne(r),"renderWeeks",function(){for(var s=[],l=r.props.fixedHeight,u=0,d=!1,f=Su(ah(r.props.day),r.props.locale,r.props.calendarStartDay);s.push(le.createElement(Cnt,{ariaLabelPrefix:r.props.weekAriaLabelPrefix,chooseDayAriaLabelPrefix:r.props.chooseDayAriaLabelPrefix,disabledDayAriaLabelPrefix:r.props.disabledDayAriaLabelPrefix,key:u,day:f,month:yo(r.props.day),onDayClick:r.handleDayClick,onDayMouseEnter:r.handleDayMouseEnter,onWeekSelect:r.props.onWeekSelect,formatWeekNumber:r.props.formatWeekNumber,locale:r.props.locale,minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,includeDates:r.props.includeDates,includeDateIntervals:r.props.includeDateIntervals,inline:r.props.inline,shouldFocusDayInline:r.props.shouldFocusDayInline,highlightDates:r.props.highlightDates,holidays:r.props.holidays,selectingDate:r.props.selectingDate,filterDate:r.props.filterDate,preSelection:r.props.preSelection,selected:r.props.selected,selectsStart:r.props.selectsStart,selectsEnd:r.props.selectsEnd,selectsRange:r.props.selectsRange,selectsDisabledDaysInRange:r.props.selectsDisabledDaysInRange,showWeekNumber:r.props.showWeekNumbers,showWeekPicker:r.props.showWeekPicker,startDate:r.props.startDate,endDate:r.props.endDate,dayClassName:r.props.dayClassName,setOpen:r.props.setOpen,shouldCloseOnSelect:r.props.shouldCloseOnSelect,disabledKeyboardNavigation:r.props.disabledKeyboardNavigation,renderDayContents:r.props.renderDayContents,handleOnKeyDown:r.props.handleOnKeyDown,isInputFocused:r.props.isInputFocused,containerRef:r.props.containerRef,calendarStartDay:r.props.calendarStartDay,monthShowsDuplicateDaysEnd:r.props.monthShowsDuplicateDaysEnd,monthShowsDuplicateDaysStart:r.props.monthShowsDuplicateDaysStart})),!d;){u++,f=mN(f,1);var h=l&&u>=6,p=!l&&!r.isWeekInMonth(f);if(h||p){if(!r.props.peekNextMonth)break;d=!0}}return s}),Se(Ne(r),"onMonthClick",function(s,l){r.handleDayClick(ah(Mo(r.props.day,l)),s)}),Se(Ne(r),"onMonthMouseEnter",function(s){r.handleDayMouseEnter(ah(Mo(r.props.day,s)))}),Se(Ne(r),"handleMonthNavigation",function(s,l){r.isDisabled(l)||r.isExcluded(l)||(r.props.setPreSelection(l),r.MONTH_REFS[s].current&&r.MONTH_REFS[s].current.focus())}),Se(Ne(r),"onMonthKeyDown",function(s,l){var u=r.props,d=u.selected,f=u.preSelection,h=u.disabledKeyboardNavigation,p=u.showTwoColumnMonthYearPicker,m=u.showFourColumnMonthYearPicker,g=u.setPreSelection,y=s.key;if(y!=="Tab"&&s.preventDefault(),!h){var x=fY(m,p),b=_D[x].verticalNavigationOffset,w=_D[x].grid;switch(y){case"Enter":r.onMonthClick(s,l),g(d);break;case"ArrowRight":r.handleMonthNavigation(l===11?0:l+1,bc(f,1));break;case"ArrowLeft":r.handleMonthNavigation(l===0?11:l-1,m0(f,1));break;case"ArrowUp":r.handleMonthNavigation(w[0].includes(l)?l+12-b:l-b,m0(f,b));break;case"ArrowDown":r.handleMonthNavigation(w[w.length-1].includes(l)?l-12+b:l+b,bc(f,b))}}}),Se(Ne(r),"onQuarterClick",function(s,l){r.handleDayClick(eY(bg(r.props.day,l)),s)}),Se(Ne(r),"onQuarterMouseEnter",function(s){r.handleDayMouseEnter(eY(bg(r.props.day,s)))}),Se(Ne(r),"handleQuarterNavigation",function(s,l){r.isDisabled(l)||r.isExcluded(l)||(r.props.setPreSelection(l),r.QUARTER_REFS[s-1].current&&r.QUARTER_REFS[s-1].current.focus())}),Se(Ne(r),"onQuarterKeyDown",function(s,l){var u=s.key;if(!r.props.disabledKeyboardNavigation)switch(u){case"Enter":r.onQuarterClick(s,l),r.props.setPreSelection(r.props.selected);break;case"ArrowRight":r.handleQuarterNavigation(l===4?1:l+1,_de(r.props.preSelection,1));break;case"ArrowLeft":r.handleQuarterNavigation(l===1?4:l-1,net(r.props.preSelection,1))}}),Se(Ne(r),"getMonthClassNames",function(s){var l=r.props,u=l.day,d=l.startDate,f=l.endDate,h=l.selected,p=l.minDate,m=l.maxDate,g=l.preSelection,y=l.monthClassName,x=l.excludeDates,b=l.includeDates,w=y?y(Mo(u,s)):void 0,_=Mo(u,s);return Rr("react-datepicker__month-text","react-datepicker__month-".concat(s),w,{"react-datepicker__month-text--disabled":(p||m||x||b)&&$de(_,r.props),"react-datepicker__month-text--selected":r.isSelectedMonth(u,s,h),"react-datepicker__month-text--keyboard-selected":!r.props.disabledKeyboardNavigation&&yo(g)===s,"react-datepicker__month-text--in-selecting-range":r.isInSelectingRangeMonth(s),"react-datepicker__month-text--in-range":xD(d,f,s,u),"react-datepicker__month-text--range-start":r.isRangeStartMonth(s),"react-datepicker__month-text--range-end":r.isRangeEndMonth(s),"react-datepicker__month-text--selecting-range-start":r.isSelectingMonthRangeStart(s),"react-datepicker__month-text--selecting-range-end":r.isSelectingMonthRangeEnd(s),"react-datepicker__month-text--today":r.isCurrentMonth(u,s)})}),Se(Ne(r),"getTabIndex",function(s){var l=yo(r.props.preSelection);return r.props.disabledKeyboardNavigation||s!==l?"-1":"0"}),Se(Ne(r),"getQuarterTabIndex",function(s){var l=Qg(r.props.preSelection);return r.props.disabledKeyboardNavigation||s!==l?"-1":"0"}),Se(Ne(r),"getAriaLabel",function(s){var l=r.props,u=l.chooseDayAriaLabelPrefix,d=u===void 0?"Choose":u,f=l.disabledDayAriaLabelPrefix,h=f===void 0?"Not available":f,p=l.day,m=Mo(p,s),g=r.isDisabled(m)||r.isExcluded(m)?h:d;return"".concat(g," ").concat(ga(m,"MMMM yyyy"))}),Se(Ne(r),"getQuarterClassNames",function(s){var l=r.props,u=l.day,d=l.startDate,f=l.endDate,h=l.selected,p=l.minDate,m=l.maxDate,g=l.preSelection,y=l.disabledKeyboardNavigation;return Rr("react-datepicker__quarter-text","react-datepicker__quarter-".concat(s),{"react-datepicker__quarter-text--disabled":(p||m)&&dnt(bg(u,s),r.props),"react-datepicker__quarter-text--selected":r.isSelectedQuarter(u,s,h),"react-datepicker__quarter-text--keyboard-selected":!y&&Qg(g)===s,"react-datepicker__quarter-text--in-selecting-range":r.isInSelectingRangeQuarter(s),"react-datepicker__quarter-text--in-range":wD(d,f,s,u),"react-datepicker__quarter-text--range-start":r.isRangeStartQuarter(s),"react-datepicker__quarter-text--range-end":r.isRangeEndQuarter(s)})}),Se(Ne(r),"getMonthContent",function(s){var l=r.props,u=l.showFullMonthYearPicker,d=l.renderMonthContent,f=l.locale,h=l.day,p=Lde(s,f),m=R$(s,f);return d?d(s,p,m,h):u?m:p}),Se(Ne(r),"getQuarterContent",function(s){var l=r.props,u=l.renderQuarterContent,d=function(f,h){return ga(bg(Br(),f),"QQQ",h)}(s,l.locale);return u?u(s,d):d}),Se(Ne(r),"renderMonths",function(){var s=r.props,l=s.showTwoColumnMonthYearPicker,u=s.showFourColumnMonthYearPicker,d=s.day,f=s.selected;return _D[fY(u,l)].grid.map(function(h,p){return le.createElement("div",{className:"react-datepicker__month-wrapper",key:p},h.map(function(m,g){return le.createElement("div",{ref:r.MONTH_REFS[m],key:g,onClick:function(y){r.onMonthClick(y,m)},onKeyDown:function(y){r.onMonthKeyDown(y,m)},onMouseEnter:function(){return r.onMonthMouseEnter(m)},tabIndex:r.getTabIndex(m),className:r.getMonthClassNames(m),role:"option","aria-label":r.getAriaLabel(m),"aria-current":r.isCurrentMonth(d,m)?"date":void 0,"aria-selected":r.isSelectedMonth(d,m,f)},r.getMonthContent(m))}))})}),Se(Ne(r),"renderQuarters",function(){var s=r.props,l=s.day,u=s.selected;return le.createElement("div",{className:"react-datepicker__quarter-wrapper"},[1,2,3,4].map(function(d,f){return le.createElement("div",{key:f,ref:r.QUARTER_REFS[f],role:"option",onClick:function(h){r.onQuarterClick(h,d)},onKeyDown:function(h){r.onQuarterKeyDown(h,d)},onMouseEnter:function(){return r.onQuarterMouseEnter(d)},className:r.getQuarterClassNames(d),"aria-selected":r.isSelectedQuarter(l,d,u),tabIndex:r.getQuarterTabIndex(d),"aria-current":r.isCurrentQuarter(l,d)?"date":void 0},r.getQuarterContent(d))}))}),Se(Ne(r),"getClassNames",function(){var s=r.props,l=s.selectingDate,u=s.selectsStart,d=s.selectsEnd,f=s.showMonthYearPicker,h=s.showQuarterYearPicker,p=s.showWeekPicker;return Rr("react-datepicker__month",{"react-datepicker__month--selecting-range":l&&(u||d)},{"react-datepicker__monthPicker":f},{"react-datepicker__quarterPicker":h},{"react-datepicker__weekPicker":p})}),r}return Mi(n,[{key:"render",value:function(){var r=this.props,a=r.showMonthYearPicker,i=r.showQuarterYearPicker,o=r.day,s=r.ariaLabelPrefix,l=s===void 0?"month ":s;return le.createElement("div",{className:this.getClassNames(),onMouseLeave:this.handleMouseLeave,"aria-label":"".concat(l," ").concat(ga(o,"yyyy-MM")),role:"listbox"},a?this.renderMonths():i?this.renderQuarters():this.renderWeeks())}}]),n}(),qde=function(e){Ii(n,le.Component);var t=Ri(n);function n(){var r;Oi(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return Se(Ne(r=t.call.apply(t,[this].concat(i))),"state",{height:null}),Se(Ne(r),"scrollToTheSelectedTime",function(){requestAnimationFrame(function(){r.list&&(r.list.scrollTop=r.centerLi&&n.calcCenterPosition(r.props.monthRef?r.props.monthRef.clientHeight-r.header.clientHeight:r.list.clientHeight,r.centerLi))})}),Se(Ne(r),"handleClick",function(s){(r.props.minTime||r.props.maxTime)&&aY(s,r.props)||(r.props.excludeTimes||r.props.includeTimes||r.props.filterTime)&&rY(s,r.props)||r.props.onChange(s)}),Se(Ne(r),"isSelectedTime",function(s){return r.props.selected&&(l=r.props.selected,u=s,dY(l).getTime()===dY(u).getTime());var l,u}),Se(Ne(r),"isDisabledTime",function(s){return(r.props.minTime||r.props.maxTime)&&aY(s,r.props)||(r.props.excludeTimes||r.props.includeTimes||r.props.filterTime)&&rY(s,r.props)}),Se(Ne(r),"liClasses",function(s){var l=["react-datepicker__time-list-item",r.props.timeClassName?r.props.timeClassName(s):void 0];return r.isSelectedTime(s)&&l.push("react-datepicker__time-list-item--selected"),r.isDisabledTime(s)&&l.push("react-datepicker__time-list-item--disabled"),r.props.injectTimes&&(60*wu(s)+bu(s))%r.props.intervals!=0&&l.push("react-datepicker__time-list-item--injected"),l.join(" ")}),Se(Ne(r),"handleOnKeyDown",function(s,l){s.key===" "&&(s.preventDefault(),s.key="Enter"),s.key!=="ArrowUp"&&s.key!=="ArrowLeft"||!s.target.previousSibling||(s.preventDefault(),s.target.previousSibling.focus()),s.key!=="ArrowDown"&&s.key!=="ArrowRight"||!s.target.nextSibling||(s.preventDefault(),s.target.nextSibling.focus()),s.key==="Enter"&&r.handleClick(l),r.props.handleOnKeyDown(s)}),Se(Ne(r),"renderTimes",function(){for(var s=[],l=r.props.format?r.props.format:"p",u=r.props.intervals,d=r.props.selected||r.props.openToDate||Br(),f=_u(d),h=r.props.injectTimes&&r.props.injectTimes.sort(function(w,_){return w-_}),p=60*function(w){var _=new Date(w.getFullYear(),w.getMonth(),w.getDate()),S=new Date(w.getFullYear(),w.getMonth(),w.getDate(),24);return Math.round((+S-+_)/36e5)}(d),m=p/u,g=0;g<m;g++){var y=cI(f,g*u);if(s.push(y),h){var x=hnt(f,y,g,u,h);s=s.concat(x)}}var b=s.reduce(function(w,_){return _.getTime()<=d.getTime()?_:w},s[0]);return s.map(function(w,_){return le.createElement("li",{key:_,onClick:r.handleClick.bind(Ne(r),w),className:r.liClasses(w),ref:function(S){w===b&&(r.centerLi=S)},onKeyDown:function(S){r.handleOnKeyDown(S,w)},tabIndex:w===b?0:-1,role:"option","aria-selected":r.isSelectedTime(w)?"true":void 0,"aria-disabled":r.isDisabledTime(w)?"true":void 0},ga(w,l,r.props.locale))})}),r}return Mi(n,[{key:"componentDidMount",value:function(){this.scrollToTheSelectedTime(),this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})}},{key:"render",value:function(){var r=this,a=this.state.height;return le.createElement("div",{className:"react-datepicker__time-container ".concat(this.props.todayButton?"react-datepicker__time-container--with-today-button":"")},le.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(this.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(i){r.header=i}},le.createElement("div",{className:"react-datepicker-time__header"},this.props.timeCaption)),le.createElement("div",{className:"react-datepicker__time"},le.createElement("div",{className:"react-datepicker__time-box"},le.createElement("ul",{className:"react-datepicker__time-list",ref:function(i){r.list=i},style:a?{height:a}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))}}],[{key:"defaultProps",get:function(){return{intervals:30,onTimeChange:function(){},todayButton:null,timeCaption:"Time"}}}]),n}();Se(qde,"calcCenterPosition",function(e,t){return t.offsetTop-(e/2-t.clientHeight/2)});var Nnt=function(e){Ii(n,le.Component);var t=Ri(n);function n(r){var a;return Oi(this,n),Se(Ne(a=t.call(this,r)),"YEAR_REFS",Kb(Array(a.props.yearItemNumber)).map(function(){return le.createRef()})),Se(Ne(a),"isDisabled",function(i){return RT(i,a.props)}),Se(Ne(a),"isExcluded",function(i){return F$(i,a.props)}),Se(Ne(a),"selectingDate",function(){var i;return(i=a.props.selectingDate)!==null&&i!==void 0?i:a.props.preSelection}),Se(Ne(a),"updateFocusOnPaginate",function(i){var o=(function(){this.YEAR_REFS[i].current.focus()}).bind(Ne(a));window.requestAnimationFrame(o)}),Se(Ne(a),"handleYearClick",function(i,o){a.props.onDayClick&&a.props.onDayClick(i,o)}),Se(Ne(a),"handleYearNavigation",function(i,o){var s=a.props,l=s.date,u=s.yearItemNumber,d=Jg(l,u).startPeriod;a.isDisabled(o)||a.isExcluded(o)||(a.props.setPreSelection(o),i-d==-1?a.updateFocusOnPaginate(u-1):i-d===u?a.updateFocusOnPaginate(0):a.YEAR_REFS[i-d].current.focus())}),Se(Ne(a),"isSameDay",function(i,o){return Gr(i,o)}),Se(Ne(a),"isCurrentYear",function(i){return i===qn(Br())}),Se(Ne(a),"isRangeStart",function(i){return a.props.startDate&&a.props.endDate&&Wf(td(Br(),i),a.props.startDate)}),Se(Ne(a),"isRangeEnd",function(i){return a.props.startDate&&a.props.endDate&&Wf(td(Br(),i),a.props.endDate)}),Se(Ne(a),"isInRange",function(i){return bD(i,a.props.startDate,a.props.endDate)}),Se(Ne(a),"isInSelectingRange",function(i){var o=a.props,s=o.selectsStart,l=o.selectsEnd,u=o.selectsRange,d=o.startDate,f=o.endDate;return!(!(s||l||u)||!a.selectingDate())&&(s&&f?bD(i,a.selectingDate(),f):(l&&d||!(!u||!d||f))&&bD(i,d,a.selectingDate()))}),Se(Ne(a),"isSelectingRangeStart",function(i){if(!a.isInSelectingRange(i))return!1;var o=a.props,s=o.startDate,l=o.selectsStart,u=td(Br(),i);return Wf(u,l?a.selectingDate():s)}),Se(Ne(a),"isSelectingRangeEnd",function(i){if(!a.isInSelectingRange(i))return!1;var o=a.props,s=o.endDate,l=o.selectsEnd,u=o.selectsRange,d=td(Br(),i);return Wf(d,l||u?a.selectingDate():s)}),Se(Ne(a),"isKeyboardSelected",function(i){var o=Ix(td(a.props.date,i));return!a.props.disabledKeyboardNavigation&&!a.props.inline&&!Gr(o,Ix(a.props.selected))&&Gr(o,Ix(a.props.preSelection))}),Se(Ne(a),"onYearClick",function(i,o){var s=a.props.date;a.handleYearClick(Ix(td(s,o)),i)}),Se(Ne(a),"onYearKeyDown",function(i,o){var s=i.key;if(!a.props.disabledKeyboardNavigation)switch(s){case"Enter":a.onYearClick(i,o),a.props.setPreSelection(a.props.selected);break;case"ArrowRight":a.handleYearNavigation(o+1,p0(a.props.preSelection,1));break;case"ArrowLeft":a.handleYearNavigation(o-1,Gb(a.props.preSelection,1))}}),Se(Ne(a),"getYearClassNames",function(i){var o=a.props,s=o.minDate,l=o.maxDate,u=o.selected,d=o.excludeDates,f=o.includeDates,h=o.filterDate;return Rr("react-datepicker__year-text",{"react-datepicker__year-text--selected":i===qn(u),"react-datepicker__year-text--disabled":(s||l||d||f||h)&&Bde(i,a.props),"react-datepicker__year-text--keyboard-selected":a.isKeyboardSelected(i),"react-datepicker__year-text--range-start":a.isRangeStart(i),"react-datepicker__year-text--range-end":a.isRangeEnd(i),"react-datepicker__year-text--in-range":a.isInRange(i),"react-datepicker__year-text--in-selecting-range":a.isInSelectingRange(i),"react-datepicker__year-text--selecting-range-start":a.isSelectingRangeStart(i),"react-datepicker__year-text--selecting-range-end":a.isSelectingRangeEnd(i),"react-datepicker__year-text--today":a.isCurrentYear(i)})}),Se(Ne(a),"getYearTabIndex",function(i){return a.props.disabledKeyboardNavigation?"-1":i===qn(a.props.preSelection)?"0":"-1"}),Se(Ne(a),"getYearContainerClassNames",function(){var i=a.props,o=i.selectingDate,s=i.selectsStart,l=i.selectsEnd,u=i.selectsRange;return Rr("react-datepicker__year",{"react-datepicker__year--selecting-range":o&&(s||l||u)})}),Se(Ne(a),"getYearContent",function(i){return a.props.renderYearContent?a.props.renderYearContent(i):i}),a}return Mi(n,[{key:"render",value:function(){for(var r=this,a=[],i=this.props,o=i.date,s=i.yearItemNumber,l=i.onYearMouseEnter,u=i.onYearMouseLeave,d=Jg(o,s),f=d.startPeriod,h=d.endPeriod,p=function(g){a.push(le.createElement("div",{ref:r.YEAR_REFS[g-f],onClick:function(y){r.onYearClick(y,g)},onKeyDown:function(y){r.onYearKeyDown(y,g)},tabIndex:r.getYearTabIndex(g),className:r.getYearClassNames(g),onMouseEnter:function(y){return l(y,g)},onMouseLeave:function(y){return u(y,g)},key:g,"aria-current":r.isCurrentYear(g)?"date":void 0},r.getYearContent(g)))},m=f;m<=h;m++)p(m);return le.createElement("div",{className:this.getYearContainerClassNames()},le.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.clearSelectingDate},a))}}]),n}(),knt=function(e){Ii(n,le.Component);var t=Ri(n);function n(r){var a;return Oi(this,n),Se(Ne(a=t.call(this,r)),"onTimeChange",function(i){a.setState({time:i});var o=a.props.date,s=o instanceof Date&&!isNaN(o)?o:new Date;s.setHours(i.split(":")[0]),s.setMinutes(i.split(":")[1]),a.props.onChange(s)}),Se(Ne(a),"renderTimeInput",function(){var i=a.state.time,o=a.props,s=o.date,l=o.timeString,u=o.customTimeInput;return u?le.cloneElement(u,{date:s,value:i,onChange:a.onTimeChange}):le.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",required:!0,value:i,onChange:function(d){a.onTimeChange(d.target.value||l)}})}),a.state={time:a.props.timeString},a}return Mi(n,[{key:"render",value:function(){return le.createElement("div",{className:"react-datepicker__input-time-container"},le.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),le.createElement("div",{className:"react-datepicker-time__input-container"},le.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))}}],[{key:"getDerivedStateFromProps",value:function(r,a){return r.timeString!==a.time?{time:r.timeString}:null}}]),n}();function jnt(e){var t=e.className,n=e.children,r=e.showPopperArrow,a=e.arrowProps,i=a===void 0?{}:a;return le.createElement("div",{className:t},r&&le.createElement("div",g0({className:"react-datepicker__triangle"},i)),n)}var Tnt=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],Pnt=function(e){Ii(n,le.Component);var t=Ri(n);function n(r){var a;return Oi(this,n),Se(Ne(a=t.call(this,r)),"handleClickOutside",function(i){a.props.onClickOutside(i)}),Se(Ne(a),"setClickOutsideRef",function(){return a.containerRef.current}),Se(Ne(a),"handleDropdownFocus",function(i){(function(){var o=((arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).className||"").split(/\s+/);return Tnt.some(function(s){return o.indexOf(s)>=0})})(i.target)&&a.props.onDropdownFocus()}),Se(Ne(a),"getDateInView",function(){var i=a.props,o=i.preSelection,s=i.selected,l=i.openToDate,u=zde(a.props),d=Ude(a.props),f=Br(),h=l||s||o;return h||(u&&Uf(f,u)?u:d&&_h(f,d)?d:f)}),Se(Ne(a),"increaseMonth",function(){a.setState(function(i){var o=i.date;return{date:bc(o,1)}},function(){return a.handleMonthChange(a.state.date)})}),Se(Ne(a),"decreaseMonth",function(){a.setState(function(i){var o=i.date;return{date:m0(o,1)}},function(){return a.handleMonthChange(a.state.date)})}),Se(Ne(a),"handleDayClick",function(i,o,s){a.props.onSelect(i,o,s),a.props.setPreSelection&&a.props.setPreSelection(i)}),Se(Ne(a),"handleDayMouseEnter",function(i){a.setState({selectingDate:i}),a.props.onDayMouseEnter&&a.props.onDayMouseEnter(i)}),Se(Ne(a),"handleMonthMouseLeave",function(){a.setState({selectingDate:null}),a.props.onMonthMouseLeave&&a.props.onMonthMouseLeave()}),Se(Ne(a),"handleYearMouseEnter",function(i,o){a.setState({selectingDate:td(Br(),o)}),a.props.onYearMouseEnter&&a.props.onYearMouseEnter(i,o)}),Se(Ne(a),"handleYearMouseLeave",function(i,o){a.props.onYearMouseLeave&&a.props.onYearMouseLeave(i,o)}),Se(Ne(a),"handleYearChange",function(i){a.props.onYearChange&&(a.props.onYearChange(i),a.setState({isRenderAriaLiveMessage:!0})),a.props.adjustDateOnChange&&(a.props.onSelect&&a.props.onSelect(i),a.props.setOpen&&a.props.setOpen(!0)),a.props.setPreSelection&&a.props.setPreSelection(i)}),Se(Ne(a),"handleMonthChange",function(i){a.handleCustomMonthChange(i),a.props.adjustDateOnChange&&(a.props.onSelect&&a.props.onSelect(i),a.props.setOpen&&a.props.setOpen(!0)),a.props.setPreSelection&&a.props.setPreSelection(i)}),Se(Ne(a),"handleCustomMonthChange",function(i){a.props.onMonthChange&&(a.props.onMonthChange(i),a.setState({isRenderAriaLiveMessage:!0}))}),Se(Ne(a),"handleMonthYearChange",function(i){a.handleYearChange(i),a.handleMonthChange(i)}),Se(Ne(a),"changeYear",function(i){a.setState(function(o){var s=o.date;return{date:td(s,i)}},function(){return a.handleYearChange(a.state.date)})}),Se(Ne(a),"changeMonth",function(i){a.setState(function(o){var s=o.date;return{date:Mo(s,i)}},function(){return a.handleMonthChange(a.state.date)})}),Se(Ne(a),"changeMonthYear",function(i){a.setState(function(o){var s=o.date;return{date:td(Mo(s,yo(i)),qn(i))}},function(){return a.handleMonthYearChange(a.state.date)})}),Se(Ne(a),"header",function(){var i=Su(arguments.length>0&&arguments[0]!==void 0?arguments[0]:a.state.date,a.props.locale,a.props.calendarStartDay),o=[];return a.props.showWeekNumbers&&o.push(le.createElement("div",{key:"W",className:"react-datepicker__day-name"},a.props.weekLabel||"#")),o.concat([0,1,2,3,4,5,6].map(function(s){var l=sy(i,s),u=a.formatWeekday(l,a.props.locale),d=a.props.weekDayClassName?a.props.weekDayClassName(l):void 0;return le.createElement("div",{key:s,className:Rr("react-datepicker__day-name",d)},u)}))}),Se(Ne(a),"formatWeekday",function(i,o){return a.props.formatWeekDay?function(s,l,u){return l(ga(s,"EEEE",u))}(i,a.props.formatWeekDay,o):a.props.useWeekdaysShort?function(s,l){return ga(s,"EEE",l)}(i,o):function(s,l){return ga(s,"EEEEEE",l)}(i,o)}),Se(Ne(a),"decreaseYear",function(){a.setState(function(i){var o=i.date;return{date:Gb(o,a.props.showYearPicker?a.props.yearItemNumber:1)}},function(){return a.handleYearChange(a.state.date)})}),Se(Ne(a),"clearSelectingDate",function(){a.setState({selectingDate:null})}),Se(Ne(a),"renderPreviousButton",function(){if(!a.props.renderCustomHeader){var i;switch(!0){case a.props.showMonthYearPicker:i=sY(a.state.date,a.props);break;case a.props.showYearPicker:i=function(x){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},w=b.minDate,_=b.yearItemNumber,S=_===void 0?N1:_,k=Jg(Ix(Gb(x,S)),S).endPeriod,N=w&&qn(w);return N&&N>k||!1}(a.state.date,a.props);break;default:i=iY(a.state.date,a.props)}if((a.props.forceShowMonthNavigation||a.props.showDisabledMonthNavigation||!i)&&!a.props.showTimeSelectOnly){var o=["react-datepicker__navigation","react-datepicker__navigation--previous"],s=a.decreaseMonth;(a.props.showMonthYearPicker||a.props.showQuarterYearPicker||a.props.showYearPicker)&&(s=a.decreaseYear),i&&a.props.showDisabledMonthNavigation&&(o.push("react-datepicker__navigation--previous--disabled"),s=null);var l=a.props.showMonthYearPicker||a.props.showQuarterYearPicker||a.props.showYearPicker,u=a.props,d=u.previousMonthButtonLabel,f=u.previousYearButtonLabel,h=a.props,p=h.previousMonthAriaLabel,m=p===void 0?typeof d=="string"?d:"Previous Month":p,g=h.previousYearAriaLabel,y=g===void 0?typeof f=="string"?f:"Previous Year":g;return le.createElement("button",{type:"button",className:o.join(" "),onClick:s,onKeyDown:a.props.handleOnKeyDown,"aria-label":l?y:m},le.createElement("span",{className:["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"].join(" ")},l?a.props.previousYearButtonLabel:a.props.previousMonthButtonLabel))}}}),Se(Ne(a),"increaseYear",function(){a.setState(function(i){var o=i.date;return{date:p0(o,a.props.showYearPicker?a.props.yearItemNumber:1)}},function(){return a.handleYearChange(a.state.date)})}),Se(Ne(a),"renderNextButton",function(){if(!a.props.renderCustomHeader){var i;switch(!0){case a.props.showMonthYearPicker:i=lY(a.state.date,a.props);break;case a.props.showYearPicker:i=function(x){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},w=b.maxDate,_=b.yearItemNumber,S=_===void 0?N1:_,k=Jg(p0(x,S),S).startPeriod,N=w&&qn(w);return N&&N<k||!1}(a.state.date,a.props);break;default:i=oY(a.state.date,a.props)}if((a.props.forceShowMonthNavigation||a.props.showDisabledMonthNavigation||!i)&&!a.props.showTimeSelectOnly){var o=["react-datepicker__navigation","react-datepicker__navigation--next"];a.props.showTimeSelect&&o.push("react-datepicker__navigation--next--with-time"),a.props.todayButton&&o.push("react-datepicker__navigation--next--with-today-button");var s=a.increaseMonth;(a.props.showMonthYearPicker||a.props.showQuarterYearPicker||a.props.showYearPicker)&&(s=a.increaseYear),i&&a.props.showDisabledMonthNavigation&&(o.push("react-datepicker__navigation--next--disabled"),s=null);var l=a.props.showMonthYearPicker||a.props.showQuarterYearPicker||a.props.showYearPicker,u=a.props,d=u.nextMonthButtonLabel,f=u.nextYearButtonLabel,h=a.props,p=h.nextMonthAriaLabel,m=p===void 0?typeof d=="string"?d:"Next Month":p,g=h.nextYearAriaLabel,y=g===void 0?typeof f=="string"?f:"Next Year":g;return le.createElement("button",{type:"button",className:o.join(" "),onClick:s,onKeyDown:a.props.handleOnKeyDown,"aria-label":l?y:m},le.createElement("span",{className:["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"].join(" ")},l?a.props.nextYearButtonLabel:a.props.nextMonthButtonLabel))}}}),Se(Ne(a),"renderCurrentMonth",function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:a.state.date,o=["react-datepicker__current-month"];return a.props.showYearDropdown&&o.push("react-datepicker__current-month--hasYearDropdown"),a.props.showMonthDropdown&&o.push("react-datepicker__current-month--hasMonthDropdown"),a.props.showMonthYearDropdown&&o.push("react-datepicker__current-month--hasMonthYearDropdown"),le.createElement("div",{className:o.join(" ")},ga(i,a.props.dateFormat,a.props.locale))}),Se(Ne(a),"renderYearDropdown",function(){var i=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(a.props.showYearDropdown&&!i)return le.createElement(gnt,{adjustDateOnChange:a.props.adjustDateOnChange,date:a.state.date,onSelect:a.props.onSelect,setOpen:a.props.setOpen,dropdownMode:a.props.dropdownMode,onChange:a.changeYear,minDate:a.props.minDate,maxDate:a.props.maxDate,year:qn(a.state.date),scrollableYearDropdown:a.props.scrollableYearDropdown,yearDropdownItemNumber:a.props.yearDropdownItemNumber})}),Se(Ne(a),"renderMonthDropdown",function(){var i=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(a.props.showMonthDropdown&&!i)return le.createElement(ynt,{dropdownMode:a.props.dropdownMode,locale:a.props.locale,onChange:a.changeMonth,month:yo(a.state.date),useShortMonthInDropdown:a.props.useShortMonthInDropdown})}),Se(Ne(a),"renderMonthYearDropdown",function(){var i=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(a.props.showMonthYearDropdown&&!i)return le.createElement(wnt,{dropdownMode:a.props.dropdownMode,locale:a.props.locale,dateFormat:a.props.dateFormat,onChange:a.changeMonthYear,minDate:a.props.minDate,maxDate:a.props.maxDate,date:a.state.date,scrollableMonthYearDropdown:a.props.scrollableMonthYearDropdown})}),Se(Ne(a),"handleTodayButtonClick",function(i){a.props.onSelect(tY(),i),a.props.setPreSelection&&a.props.setPreSelection(tY())}),Se(Ne(a),"renderTodayButton",function(){if(a.props.todayButton&&!a.props.showTimeSelectOnly)return le.createElement("div",{className:"react-datepicker__today-button",onClick:function(i){return a.handleTodayButtonClick(i)}},a.props.todayButton)}),Se(Ne(a),"renderDefaultHeader",function(i){var o=i.monthDate,s=i.i;return le.createElement("div",{className:"react-datepicker__header ".concat(a.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},a.renderCurrentMonth(o),le.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(a.props.dropdownMode),onFocus:a.handleDropdownFocus},a.renderMonthDropdown(s!==0),a.renderMonthYearDropdown(s!==0),a.renderYearDropdown(s!==0)),le.createElement("div",{className:"react-datepicker__day-names"},a.header(o)))}),Se(Ne(a),"renderCustomHeader",function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=i.monthDate,s=i.i;if(a.props.showTimeSelect&&!a.state.monthContainer||a.props.showTimeSelectOnly)return null;var l=iY(a.state.date,a.props),u=oY(a.state.date,a.props),d=sY(a.state.date,a.props),f=lY(a.state.date,a.props),h=!a.props.showMonthYearPicker&&!a.props.showQuarterYearPicker&&!a.props.showYearPicker;return le.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:a.props.onDropdownFocus},a.props.renderCustomHeader(_N(_N({},a.state),{},{customHeaderCount:s,monthDate:o,changeMonth:a.changeMonth,changeYear:a.changeYear,decreaseMonth:a.decreaseMonth,increaseMonth:a.increaseMonth,decreaseYear:a.decreaseYear,increaseYear:a.increaseYear,prevMonthButtonDisabled:l,nextMonthButtonDisabled:u,prevYearButtonDisabled:d,nextYearButtonDisabled:f})),h&&le.createElement("div",{className:"react-datepicker__day-names"},a.header(o)))}),Se(Ne(a),"renderYearHeader",function(){var i=a.state.date,o=a.props,s=o.showYearPicker,l=Jg(i,o.yearItemNumber),u=l.startPeriod,d=l.endPeriod;return le.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},s?"".concat(u," - ").concat(d):qn(i))}),Se(Ne(a),"renderHeader",function(i){switch(!0){case a.props.renderCustomHeader!==void 0:return a.renderCustomHeader(i);case(a.props.showMonthYearPicker||a.props.showQuarterYearPicker||a.props.showYearPicker):return a.renderYearHeader(i);default:return a.renderDefaultHeader(i)}}),Se(Ne(a),"renderMonths",function(){var i;if(!a.props.showTimeSelectOnly&&!a.props.showYearPicker){for(var o=[],s=a.props.showPreviousMonths?a.props.monthsShown-1:0,l=m0(a.state.date,s),u=(i=a.props.monthSelectedIn)!==null&&i!==void 0?i:s,d=0;d<a.props.monthsShown;++d){var f=bc(l,d-u+s),h="month-".concat(d),p=d<a.props.monthsShown-1,m=d>0;o.push(le.createElement("div",{key:h,ref:function(g){a.monthContainer=g},className:"react-datepicker__month-container"},a.renderHeader({monthDate:f,i:d}),le.createElement(Ent,{chooseDayAriaLabelPrefix:a.props.chooseDayAriaLabelPrefix,disabledDayAriaLabelPrefix:a.props.disabledDayAriaLabelPrefix,weekAriaLabelPrefix:a.props.weekAriaLabelPrefix,ariaLabelPrefix:a.props.monthAriaLabelPrefix,onChange:a.changeMonthYear,day:f,dayClassName:a.props.dayClassName,calendarStartDay:a.props.calendarStartDay,monthClassName:a.props.monthClassName,onDayClick:a.handleDayClick,handleOnKeyDown:a.props.handleOnDayKeyDown,onDayMouseEnter:a.handleDayMouseEnter,onMouseLeave:a.handleMonthMouseLeave,onWeekSelect:a.props.onWeekSelect,orderInDisplay:d,formatWeekNumber:a.props.formatWeekNumber,locale:a.props.locale,minDate:a.props.minDate,maxDate:a.props.maxDate,excludeDates:a.props.excludeDates,excludeDateIntervals:a.props.excludeDateIntervals,highlightDates:a.props.highlightDates,holidays:a.props.holidays,selectingDate:a.state.selectingDate,includeDates:a.props.includeDates,includeDateIntervals:a.props.includeDateIntervals,inline:a.props.inline,shouldFocusDayInline:a.props.shouldFocusDayInline,fixedHeight:a.props.fixedHeight,filterDate:a.props.filterDate,preSelection:a.props.preSelection,setPreSelection:a.props.setPreSelection,selected:a.props.selected,selectsStart:a.props.selectsStart,selectsEnd:a.props.selectsEnd,selectsRange:a.props.selectsRange,selectsDisabledDaysInRange:a.props.selectsDisabledDaysInRange,showWeekNumbers:a.props.showWeekNumbers,startDate:a.props.startDate,endDate:a.props.endDate,peekNextMonth:a.props.peekNextMonth,setOpen:a.props.setOpen,shouldCloseOnSelect:a.props.shouldCloseOnSelect,renderDayContents:a.props.renderDayContents,renderMonthContent:a.props.renderMonthContent,renderQuarterContent:a.props.renderQuarterContent,renderYearContent:a.props.renderYearContent,disabledKeyboardNavigation:a.props.disabledKeyboardNavigation,showMonthYearPicker:a.props.showMonthYearPicker,showFullMonthYearPicker:a.props.showFullMonthYearPicker,showTwoColumnMonthYearPicker:a.props.showTwoColumnMonthYearPicker,showFourColumnMonthYearPicker:a.props.showFourColumnMonthYearPicker,showYearPicker:a.props.showYearPicker,showQuarterYearPicker:a.props.showQuarterYearPicker,showWeekPicker:a.props.showWeekPicker,isInputFocused:a.props.isInputFocused,containerRef:a.containerRef,monthShowsDuplicateDaysEnd:p,monthShowsDuplicateDaysStart:m})))}return o}}),Se(Ne(a),"renderYears",function(){if(!a.props.showTimeSelectOnly)return a.props.showYearPicker?le.createElement("div",{className:"react-datepicker__year--container"},a.renderHeader(),le.createElement(Nnt,g0({onDayClick:a.handleDayClick,selectingDate:a.state.selectingDate,clearSelectingDate:a.clearSelectingDate,date:a.state.date},a.props,{onYearMouseEnter:a.handleYearMouseEnter,onYearMouseLeave:a.handleYearMouseLeave}))):void 0}),Se(Ne(a),"renderTimeSection",function(){if(a.props.showTimeSelect&&(a.state.monthContainer||a.props.showTimeSelectOnly))return le.createElement(qde,{selected:a.props.selected,openToDate:a.props.openToDate,onChange:a.props.onTimeChange,timeClassName:a.props.timeClassName,format:a.props.timeFormat,includeTimes:a.props.includeTimes,intervals:a.props.timeIntervals,minTime:a.props.minTime,maxTime:a.props.maxTime,excludeTimes:a.props.excludeTimes,filterTime:a.props.filterTime,timeCaption:a.props.timeCaption,todayButton:a.props.todayButton,showMonthDropdown:a.props.showMonthDropdown,showMonthYearDropdown:a.props.showMonthYearDropdown,showYearDropdown:a.props.showYearDropdown,withPortal:a.props.withPortal,monthRef:a.state.monthContainer,injectTimes:a.props.injectTimes,locale:a.props.locale,handleOnKeyDown:a.props.handleOnKeyDown,showTimeSelectOnly:a.props.showTimeSelectOnly})}),Se(Ne(a),"renderInputTimeSection",function(){var i=new Date(a.props.selected),o=xf(i)&&a.props.selected?"".concat(uY(i.getHours()),":").concat(uY(i.getMinutes())):"";if(a.props.showTimeInput)return le.createElement(knt,{date:i,timeString:o,timeInputLabel:a.props.timeInputLabel,onChange:a.props.onTimeChange,customTimeInput:a.props.customTimeInput})}),Se(Ne(a),"renderAriaLiveRegion",function(){var i,o=Jg(a.state.date,a.props.yearItemNumber),s=o.startPeriod,l=o.endPeriod;return i=a.props.showYearPicker?"".concat(s," - ").concat(l):a.props.showMonthYearPicker||a.props.showQuarterYearPicker?qn(a.state.date):"".concat(R$(yo(a.state.date),a.props.locale)," ").concat(qn(a.state.date)),le.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},a.state.isRenderAriaLiveMessage&&i)}),Se(Ne(a),"renderChildren",function(){if(a.props.children)return le.createElement("div",{className:"react-datepicker__children-container"},a.props.children)}),a.containerRef=le.createRef(),a.state={date:a.getDateInView(),selectingDate:null,monthContainer:null,isRenderAriaLiveMessage:!1},a}return Mi(n,[{key:"componentDidMount",value:function(){var r=this;this.props.showTimeSelect&&(this.assignMonthContainer=void r.setState({monthContainer:r.monthContainer}))}},{key:"componentDidUpdate",value:function(r){var a=this;if(!this.props.preSelection||Gr(this.props.preSelection,r.preSelection)&&this.props.monthSelectedIn===r.monthSelectedIn)this.props.openToDate&&!Gr(this.props.openToDate,r.openToDate)&&this.setState({date:this.props.openToDate});else{var i=!oc(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return i&&a.handleCustomMonthChange(a.state.date)})}}},{key:"render",value:function(){var r=this.props.container||jnt;return le.createElement("div",{style:{display:"contents"},ref:this.containerRef},le.createElement(r,{className:Rr("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showPopperArrow:this.props.showPopperArrow,arrowProps:this.props.arrowProps},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren()))}}],[{key:"defaultProps",get:function(){return{onDropdownFocus:function(){},monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",customTimeInput:null,yearItemNumber:N1}}}]),n}(),Ant=function(e){var t=e.icon,n=e.className,r=n===void 0?"":n,a=e.onClick,i="react-datepicker__calendar-icon";return le.isValidElement(t)?le.cloneElement(t,{className:"".concat(t.props.className||""," ").concat(i," ").concat(r),onClick:function(o){typeof t.props.onClick=="function"&&t.props.onClick(o),typeof a=="function"&&a(o)}}):typeof t=="string"?le.createElement("i",{className:"".concat(i," ").concat(t," ").concat(r),"aria-hidden":"true",onClick:a}):le.createElement("svg",{className:"".concat(i," ").concat(r),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:a},le.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},Gde=function(e){Ii(n,le.Component);var t=Ri(n);function n(r){var a;return Oi(this,n),(a=t.call(this,r)).el=document.createElement("div"),a}return Mi(n,[{key:"componentDidMount",value:function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)}},{key:"componentWillUnmount",value:function(){this.portalRoot.removeChild(this.el)}},{key:"render",value:function(){return Cp.createPortal(this.props.children,this.el)}}]),n}(),Dnt=function(e){return!e.disabled&&e.tabIndex!==-1},Yde=function(e){Ii(n,le.Component);var t=Ri(n);function n(r){var a;return Oi(this,n),Se(Ne(a=t.call(this,r)),"getTabChildren",function(){return Array.prototype.slice.call(a.tabLoopRef.current.querySelectorAll("[tabindex], a, button, input, select, textarea"),1,-1).filter(Dnt)}),Se(Ne(a),"handleFocusStart",function(){var i=a.getTabChildren();i&&i.length>1&&i[i.length-1].focus()}),Se(Ne(a),"handleFocusEnd",function(){var i=a.getTabChildren();i&&i.length>1&&i[0].focus()}),a.tabLoopRef=le.createRef(),a}return Mi(n,[{key:"render",value:function(){return this.props.enableTabLoop?le.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},le.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:"0",onFocus:this.handleFocusStart}),this.props.children,le.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:"0",onFocus:this.handleFocusEnd})):this.props.children}}],[{key:"defaultProps",get:function(){return{enableTabLoop:!0}}}]),n}(),Ont=function(e){Ii(n,le.Component);var t=Ri(n);function n(){return Oi(this,n),t.apply(this,arguments)}return Mi(n,[{key:"render",value:function(){var r,a=this.props,i=a.className,o=a.wrapperClassName,s=a.hidePopper,l=a.popperComponent,u=a.popperModifiers,d=a.popperPlacement,f=a.popperProps,h=a.targetComponent,p=a.enableTabLoop,m=a.popperOnKeyDown,g=a.portalId,y=a.portalHost;if(!s){var x=Rr("react-datepicker-popper",i);r=le.createElement(rnt,g0({modifiers:u,placement:d},f),function(w){var _=w.ref,S=w.style,k=w.placement,N=w.arrowProps;return le.createElement(Yde,{enableTabLoop:p},le.createElement("div",{ref:_,style:S,className:x,"data-placement":k,onKeyDown:m},le.cloneElement(l,{arrowProps:N})))})}this.props.popperContainer&&(r=le.createElement(this.props.popperContainer,{},r)),g&&!s&&(r=le.createElement(Gde,{portalId:g,portalHost:y},r));var b=Rr("react-datepicker-wrapper",o);return le.createElement(Htt,{className:"react-datepicker-manager"},le.createElement(snt,null,function(w){var _=w.ref;return le.createElement("div",{ref:_,className:b},h)}),r)}}],[{key:"defaultProps",get:function(){return{hidePopper:!0,popperModifiers:[],popperProps:{},popperPlacement:"bottom-start"}}}]),n}(),hY="react-datepicker-ignore-onclickoutside",Mnt=IT(Pnt),SD="Date input not valid.",v0=function(e){Ii(n,le.Component);var t=Ri(n);function n(r){var a;return Oi(this,n),Se(Ne(a=t.call(this,r)),"getPreSelection",function(){return a.props.openToDate?a.props.openToDate:a.props.selectsEnd&&a.props.startDate?a.props.startDate:a.props.selectsStart&&a.props.endDate?a.props.endDate:Br()}),Se(Ne(a),"modifyHolidays",function(){var i;return(i=a.props.holidays)===null||i===void 0?void 0:i.reduce(function(o,s){var l=new Date(s.date);return qb(l)?[].concat(Kb(o),[_N(_N({},s),{},{date:l})]):o},[])}),Se(Ne(a),"calcInitialState",function(){var i,o=a.getPreSelection(),s=zde(a.props),l=Ude(a.props),u=s&&Uf(o,_u(s))?s:l&&_h(o,fI(l))?l:o;return{open:a.props.startOpen||!1,preventFocus:!1,preSelection:(i=a.props.selectsRange?a.props.startDate:a.props.selected)!==null&&i!==void 0?i:u,highlightDates:cY(a.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1}}),Se(Ne(a),"clearPreventFocusTimeout",function(){a.preventFocusTimeout&&clearTimeout(a.preventFocusTimeout)}),Se(Ne(a),"setFocus",function(){a.input&&a.input.focus&&a.input.focus({preventScroll:!0})}),Se(Ne(a),"setBlur",function(){a.input&&a.input.blur&&a.input.blur(),a.cancelFocusInput()}),Se(Ne(a),"setOpen",function(i){var o=arguments.length>1&&arguments[1]!==void 0&&arguments[1];a.setState({open:i,preSelection:i&&a.state.open?a.state.preSelection:a.calcInitialState().preSelection,lastPreSelectChange:CD},function(){i||a.setState(function(s){return{focused:!!o&&s.focused}},function(){!o&&a.setBlur(),a.setState({inputValue:null})})})}),Se(Ne(a),"inputOk",function(){return MT(a.state.preSelection)}),Se(Ne(a),"isCalendarOpen",function(){return a.props.open===void 0?a.state.open&&!a.props.disabled&&!a.props.readOnly:a.props.open}),Se(Ne(a),"handleFocus",function(i){a.state.preventFocus||(a.props.onFocus(i),a.props.preventOpenOnFocus||a.props.readOnly||a.setOpen(!0)),a.setState({focused:!0})}),Se(Ne(a),"sendFocusBackToInput",function(){a.preventFocusTimeout&&a.clearPreventFocusTimeout(),a.setState({preventFocus:!0},function(){a.preventFocusTimeout=setTimeout(function(){a.setFocus(),a.setState({preventFocus:!1})})})}),Se(Ne(a),"cancelFocusInput",function(){clearTimeout(a.inputFocusTimeout),a.inputFocusTimeout=null}),Se(Ne(a),"deferFocusInput",function(){a.cancelFocusInput(),a.inputFocusTimeout=setTimeout(function(){return a.setFocus()},1)}),Se(Ne(a),"handleDropdownFocus",function(){a.cancelFocusInput()}),Se(Ne(a),"handleBlur",function(i){(!a.state.open||a.props.withPortal||a.props.showTimeInput)&&a.props.onBlur(i),a.setState({focused:!1})}),Se(Ne(a),"handleCalendarClickOutside",function(i){a.props.inline||a.setOpen(!1),a.props.onClickOutside(i),a.props.withPortal&&i.preventDefault()}),Se(Ne(a),"handleChange",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];var l=o[0];if(!a.props.onChangeRaw||(a.props.onChangeRaw.apply(Ne(a),o),typeof l.isDefaultPrevented=="function"&&!l.isDefaultPrevented())){a.setState({inputValue:l.target.value,lastPreSelectChange:Int});var u,d,f,h,p,m,g,y,x=(u=l.target.value,d=a.props.dateFormat,f=a.props.locale,h=a.props.strictParsing,p=a.props.minDate,m=null,g=em(f)||em(Jp()),y=!0,Array.isArray(d)?(d.forEach(function(b){var w=mD(u,b,new Date,{locale:g});h&&(y=xf(w,p)&&u===ga(w,b,f)),xf(w,p)&&y&&(m=w)}),m):(m=mD(u,d,new Date,{locale:g}),h?y=xf(m)&&u===ga(m,d,f):xf(m)||(d=d.match(unt).map(function(b){var w=b[0];return w==="p"||w==="P"?g?(0,cnt[w])(b,g.formatLong):w:b}).join(""),u.length>0&&(m=mD(u,d.slice(0,u.length),new Date)),xf(m)||(m=new Date(u))),xf(m)&&y?m:null));a.props.showTimeSelectOnly&&a.props.selected&&x&&!Gr(x,a.props.selected)&&(x=lnt(a.props.selected,{hours:wu(x),minutes:bu(x),seconds:$G(x)})),!x&&l.target.value||(a.props.showWeekPicker&&(x=Su(x,a.props.locale,a.props.calendarStartDay)),a.setSelected(x,l,!0))}}),Se(Ne(a),"handleSelect",function(i,o,s){if(a.props.shouldCloseOnSelect&&!a.props.showTimeSelect&&a.sendFocusBackToInput(),a.props.onChangeRaw&&a.props.onChangeRaw(o),a.props.showWeekPicker&&(i=Su(i,a.props.locale,a.props.calendarStartDay)),a.setSelected(i,o,!1,s),a.props.showDateSelect&&a.setState({isRenderAriaLiveMessage:!0}),!a.props.shouldCloseOnSelect||a.props.showTimeSelect)a.setPreSelection(i);else if(!a.props.inline){a.props.selectsRange||a.setOpen(!1);var l=a.props,u=l.startDate,d=l.endDate;!u||d||Uf(i,u)||a.setOpen(!1)}}),Se(Ne(a),"setSelected",function(i,o,s,l){var u=i;if(a.props.showYearPicker){if(u!==null&&Bde(qn(u),a.props))return}else if(a.props.showMonthYearPicker){if(u!==null&&$de(u,a.props))return}else if(u!==null&&RT(u,a.props))return;var d=a.props,f=d.onChange,h=d.selectsRange,p=d.startDate,m=d.endDate;if(!Op(a.props.selected,u)||a.props.allowSameDay||h)if(u!==null&&(!a.props.selected||s&&(a.props.showTimeSelect||a.props.showTimeSelectOnly||a.props.showTimeInput)||(u=JG(u,{hour:wu(a.props.selected),minute:bu(a.props.selected),second:$G(a.props.selected)})),a.props.inline||a.setState({preSelection:u}),a.props.focusSelectedMonth||a.setState({monthSelectedIn:l})),h){var g=p&&!m,y=p&&m;!p&&!m?f([u,null],o):g&&(Uf(u,p)?f([u,null],o):f([p,u],o)),y&&f([u,null],o)}else f(u,o);s||(a.props.onSelect(u,o),a.setState({inputValue:null}))}),Se(Ne(a),"setPreSelection",function(i){var o=a.props.minDate!==void 0,s=a.props.maxDate!==void 0,l=!0;if(i){a.props.showWeekPicker&&(i=Su(i,a.props.locale,a.props.calendarStartDay));var u=_u(i);if(o&&s)l=dC(i,a.props.minDate,a.props.maxDate);else if(o){var d=_u(a.props.minDate);l=_h(i,d)||Op(u,d)}else if(s){var f=fI(a.props.maxDate);l=Uf(i,f)||Op(u,f)}}l&&a.setState({preSelection:i})}),Se(Ne(a),"toggleCalendar",function(){a.setOpen(!a.state.open)}),Se(Ne(a),"handleTimeChange",function(i){var o=a.props.selected?a.props.selected:a.getPreSelection(),s=a.props.selected?i:JG(o,{hour:wu(i),minute:bu(i)});a.setState({preSelection:s}),a.props.onChange(s),a.props.shouldCloseOnSelect&&(a.sendFocusBackToInput(),a.setOpen(!1)),a.props.showTimeInput&&a.setOpen(!0),(a.props.showTimeSelectOnly||a.props.showTimeSelect)&&a.setState({isRenderAriaLiveMessage:!0}),a.setState({inputValue:null})}),Se(Ne(a),"onInputClick",function(){a.props.disabled||a.props.readOnly||a.setOpen(!0),a.props.onInputClick()}),Se(Ne(a),"onInputKeyDown",function(i){a.props.onKeyDown(i);var o=i.key;if(a.state.open||a.props.inline||a.props.preventOpenOnFocus){if(a.state.open){if(o==="ArrowDown"||o==="ArrowUp"){i.preventDefault();var s=a.props.showWeekPicker&&a.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',l=a.calendar.componentNode&&a.calendar.componentNode.querySelector(s);return void(l&&l.focus({preventScroll:!0}))}var u=Br(a.state.preSelection);o==="Enter"?(i.preventDefault(),a.inputOk()&&a.state.lastPreSelectChange===CD?(a.handleSelect(u,i),!a.props.shouldCloseOnSelect&&a.setPreSelection(u)):a.setOpen(!1)):o==="Escape"?(i.preventDefault(),a.sendFocusBackToInput(),a.setOpen(!1)):o==="Tab"&&a.setOpen(!1),a.inputOk()||a.props.onInputError({code:1,msg:SD})}}else o!=="ArrowDown"&&o!=="ArrowUp"&&o!=="Enter"||a.onInputClick()}),Se(Ne(a),"onPortalKeyDown",function(i){i.key==="Escape"&&(i.preventDefault(),a.setState({preventFocus:!0},function(){a.setOpen(!1),setTimeout(function(){a.setFocus(),a.setState({preventFocus:!1})})}))}),Se(Ne(a),"onDayKeyDown",function(i){a.props.onKeyDown(i);var o=i.key,s=Br(a.state.preSelection);if(o==="Enter")i.preventDefault(),a.handleSelect(s,i),!a.props.shouldCloseOnSelect&&a.setPreSelection(s);else if(o==="Escape")i.preventDefault(),a.setOpen(!1),a.inputOk()||a.props.onInputError({code:1,msg:SD});else if(!a.props.disabledKeyboardNavigation){var l;switch(o){case"ArrowLeft":l=a.props.showWeekPicker?LG(s,1):tet(s,1);break;case"ArrowRight":l=a.props.showWeekPicker?mN(s,1):sy(s,1);break;case"ArrowUp":l=LG(s,1);break;case"ArrowDown":l=mN(s,1);break;case"PageUp":l=m0(s,1);break;case"PageDown":l=bc(s,1);break;case"Home":l=Gb(s,1);break;case"End":l=p0(s,1);break;default:l=null}if(!l)return void(a.props.onInputError&&a.props.onInputError({code:1,msg:SD}));if(i.preventDefault(),a.setState({lastPreSelectChange:CD}),a.props.adjustDateOnChange&&a.setSelected(l),a.setPreSelection(l),a.props.inline){var u=yo(s),d=yo(l),f=qn(s),h=qn(l);u!==d||f!==h?a.setState({shouldFocusDayInline:!0}):a.setState({shouldFocusDayInline:!1})}}}),Se(Ne(a),"onPopperKeyDown",function(i){i.key==="Escape"&&(i.preventDefault(),a.sendFocusBackToInput())}),Se(Ne(a),"onClearClick",function(i){i&&i.preventDefault&&i.preventDefault(),a.sendFocusBackToInput(),a.props.selectsRange?a.props.onChange([null,null],i):a.props.onChange(null,i),a.setState({inputValue:null})}),Se(Ne(a),"clear",function(){a.onClearClick()}),Se(Ne(a),"onScroll",function(i){typeof a.props.closeOnScroll=="boolean"&&a.props.closeOnScroll?i.target!==document&&i.target!==document.documentElement&&i.target!==document.body||a.setOpen(!1):typeof a.props.closeOnScroll=="function"&&a.props.closeOnScroll(i)&&a.setOpen(!1)}),Se(Ne(a),"renderCalendar",function(){return a.props.inline||a.isCalendarOpen()?le.createElement(Mnt,{ref:function(i){a.calendar=i},locale:a.props.locale,calendarStartDay:a.props.calendarStartDay,chooseDayAriaLabelPrefix:a.props.chooseDayAriaLabelPrefix,disabledDayAriaLabelPrefix:a.props.disabledDayAriaLabelPrefix,weekAriaLabelPrefix:a.props.weekAriaLabelPrefix,monthAriaLabelPrefix:a.props.monthAriaLabelPrefix,adjustDateOnChange:a.props.adjustDateOnChange,setOpen:a.setOpen,shouldCloseOnSelect:a.props.shouldCloseOnSelect,dateFormat:a.props.dateFormatCalendar,useWeekdaysShort:a.props.useWeekdaysShort,formatWeekDay:a.props.formatWeekDay,dropdownMode:a.props.dropdownMode,selected:a.props.selected,preSelection:a.state.preSelection,onSelect:a.handleSelect,onWeekSelect:a.props.onWeekSelect,openToDate:a.props.openToDate,minDate:a.props.minDate,maxDate:a.props.maxDate,selectsStart:a.props.selectsStart,selectsEnd:a.props.selectsEnd,selectsRange:a.props.selectsRange,startDate:a.props.startDate,endDate:a.props.endDate,excludeDates:a.props.excludeDates,excludeDateIntervals:a.props.excludeDateIntervals,filterDate:a.props.filterDate,onClickOutside:a.handleCalendarClickOutside,formatWeekNumber:a.props.formatWeekNumber,highlightDates:a.state.highlightDates,holidays:fnt(a.modifyHolidays()),includeDates:a.props.includeDates,includeDateIntervals:a.props.includeDateIntervals,includeTimes:a.props.includeTimes,injectTimes:a.props.injectTimes,inline:a.props.inline,shouldFocusDayInline:a.state.shouldFocusDayInline,peekNextMonth:a.props.peekNextMonth,showMonthDropdown:a.props.showMonthDropdown,showPreviousMonths:a.props.showPreviousMonths,useShortMonthInDropdown:a.props.useShortMonthInDropdown,showMonthYearDropdown:a.props.showMonthYearDropdown,showWeekNumbers:a.props.showWeekNumbers,showYearDropdown:a.props.showYearDropdown,withPortal:a.props.withPortal,forceShowMonthNavigation:a.props.forceShowMonthNavigation,showDisabledMonthNavigation:a.props.showDisabledMonthNavigation,scrollableYearDropdown:a.props.scrollableYearDropdown,scrollableMonthYearDropdown:a.props.scrollableMonthYearDropdown,todayButton:a.props.todayButton,weekLabel:a.props.weekLabel,outsideClickIgnoreClass:hY,fixedHeight:a.props.fixedHeight,monthsShown:a.props.monthsShown,monthSelectedIn:a.state.monthSelectedIn,onDropdownFocus:a.handleDropdownFocus,onMonthChange:a.props.onMonthChange,onYearChange:a.props.onYearChange,dayClassName:a.props.dayClassName,weekDayClassName:a.props.weekDayClassName,monthClassName:a.props.monthClassName,timeClassName:a.props.timeClassName,showDateSelect:a.props.showDateSelect,showTimeSelect:a.props.showTimeSelect,showTimeSelectOnly:a.props.showTimeSelectOnly,onTimeChange:a.handleTimeChange,timeFormat:a.props.timeFormat,timeIntervals:a.props.timeIntervals,minTime:a.props.minTime,maxTime:a.props.maxTime,excludeTimes:a.props.excludeTimes,filterTime:a.props.filterTime,timeCaption:a.props.timeCaption,className:a.props.calendarClassName,container:a.props.calendarContainer,yearItemNumber:a.props.yearItemNumber,yearDropdownItemNumber:a.props.yearDropdownItemNumber,previousMonthAriaLabel:a.props.previousMonthAriaLabel,previousMonthButtonLabel:a.props.previousMonthButtonLabel,nextMonthAriaLabel:a.props.nextMonthAriaLabel,nextMonthButtonLabel:a.props.nextMonthButtonLabel,previousYearAriaLabel:a.props.previousYearAriaLabel,previousYearButtonLabel:a.props.previousYearButtonLabel,nextYearAriaLabel:a.props.nextYearAriaLabel,nextYearButtonLabel:a.props.nextYearButtonLabel,timeInputLabel:a.props.timeInputLabel,disabledKeyboardNavigation:a.props.disabledKeyboardNavigation,renderCustomHeader:a.props.renderCustomHeader,popperProps:a.props.popperProps,renderDayContents:a.props.renderDayContents,renderMonthContent:a.props.renderMonthContent,renderQuarterContent:a.props.renderQuarterContent,renderYearContent:a.props.renderYearContent,onDayMouseEnter:a.props.onDayMouseEnter,onMonthMouseLeave:a.props.onMonthMouseLeave,onYearMouseEnter:a.props.onYearMouseEnter,onYearMouseLeave:a.props.onYearMouseLeave,selectsDisabledDaysInRange:a.props.selectsDisabledDaysInRange,showTimeInput:a.props.showTimeInput,showMonthYearPicker:a.props.showMonthYearPicker,showFullMonthYearPicker:a.props.showFullMonthYearPicker,showTwoColumnMonthYearPicker:a.props.showTwoColumnMonthYearPicker,showFourColumnMonthYearPicker:a.props.showFourColumnMonthYearPicker,showYearPicker:a.props.showYearPicker,showQuarterYearPicker:a.props.showQuarterYearPicker,showWeekPicker:a.props.showWeekPicker,showPopperArrow:a.props.showPopperArrow,excludeScrollbar:a.props.excludeScrollbar,handleOnKeyDown:a.props.onKeyDown,handleOnDayKeyDown:a.onDayKeyDown,isInputFocused:a.state.focused,customTimeInput:a.props.customTimeInput,setPreSelection:a.setPreSelection},a.props.children):null}),Se(Ne(a),"renderAriaLiveRegion",function(){var i,o=a.props,s=o.dateFormat,l=o.locale,u=a.props.showTimeInput||a.props.showTimeSelect?"PPPPp":"PPPP";return i=a.props.selectsRange?"Selected start date: ".concat(Ic(a.props.startDate,{dateFormat:u,locale:l}),". ").concat(a.props.endDate?"End date: "+Ic(a.props.endDate,{dateFormat:u,locale:l}):""):a.props.showTimeSelectOnly?"Selected time: ".concat(Ic(a.props.selected,{dateFormat:s,locale:l})):a.props.showYearPicker?"Selected year: ".concat(Ic(a.props.selected,{dateFormat:"yyyy",locale:l})):a.props.showMonthYearPicker?"Selected month: ".concat(Ic(a.props.selected,{dateFormat:"MMMM yyyy",locale:l})):a.props.showQuarterYearPicker?"Selected quarter: ".concat(Ic(a.props.selected,{dateFormat:"yyyy, QQQ",locale:l})):"Selected date: ".concat(Ic(a.props.selected,{dateFormat:u,locale:l})),le.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},i)}),Se(Ne(a),"renderDateInput",function(){var i,o=Rr(a.props.className,Se({},hY,a.state.open)),s=a.props.customInput||le.createElement("input",{type:"text"}),l=a.props.customInputRef||"ref",u=typeof a.props.value=="string"?a.props.value:typeof a.state.inputValue=="string"?a.state.inputValue:a.props.selectsRange?function(d,f,h){if(!d)return"";var p=Ic(d,h),m=f?Ic(f,h):"";return"".concat(p," - ").concat(m)}(a.props.startDate,a.props.endDate,a.props):Ic(a.props.selected,a.props);return le.cloneElement(s,(Se(Se(Se(Se(Se(Se(Se(Se(Se(Se(i={},l,function(d){a.input=d}),"value",u),"onBlur",a.handleBlur),"onChange",a.handleChange),"onClick",a.onInputClick),"onFocus",a.handleFocus),"onKeyDown",a.onInputKeyDown),"id",a.props.id),"name",a.props.name),"form",a.props.form),Se(Se(Se(Se(Se(Se(Se(Se(Se(Se(i,"autoFocus",a.props.autoFocus),"placeholder",a.props.placeholderText),"disabled",a.props.disabled),"autoComplete",a.props.autoComplete),"className",Rr(s.props.className,o)),"title",a.props.title),"readOnly",a.props.readOnly),"required",a.props.required),"tabIndex",a.props.tabIndex),"aria-describedby",a.props.ariaDescribedBy),Se(Se(Se(i,"aria-invalid",a.props.ariaInvalid),"aria-labelledby",a.props.ariaLabelledBy),"aria-required",a.props.ariaRequired)))}),Se(Ne(a),"renderClearButton",function(){var i=a.props,o=i.isClearable,s=i.disabled,l=i.selected,u=i.startDate,d=i.endDate,f=i.clearButtonTitle,h=i.clearButtonClassName,p=h===void 0?"":h,m=i.ariaLabelClose,g=m===void 0?"Close":m;return!o||l==null&&u==null&&d==null?null:le.createElement("button",{type:"button",className:Rr("react-datepicker__close-icon",p,{"react-datepicker__close-icon--disabled":s}),disabled:s,"aria-label":g,onClick:a.onClearClick,title:f,tabIndex:-1})}),a.state=a.calcInitialState(),a.preventFocusTimeout=null,a}return Mi(n,[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.onScroll,!0)}},{key:"componentDidUpdate",value:function(r,a){var i,o;r.inline&&(i=r.selected,o=this.props.selected,i&&o?yo(i)!==yo(o)||qn(i)!==qn(o):i!==o)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&r.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),r.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:cY(this.props.highlightDates)}),a.focused||Op(r.selected,this.props.selected)||this.setState({inputValue:null}),a.open!==this.state.open&&(a.open===!1&&this.state.open===!0&&this.props.onCalendarOpen(),a.open===!0&&this.state.open===!1&&this.props.onCalendarClose())}},{key:"componentWillUnmount",value:function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0)}},{key:"renderInputContainer",value:function(){var r=this.props,a=r.showIcon,i=r.icon,o=r.calendarIconClassname,s=r.toggleCalendarOnIconClick,l=this.state.open;return le.createElement("div",{className:"react-datepicker__input-container".concat(a?" react-datepicker__view-calendar-icon":"")},a&&le.createElement(Ant,g0({icon:i,className:"".concat(o," ").concat(l&&"react-datepicker-ignore-onclickoutside")},s?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())}},{key:"render",value:function(){var r=this.renderCalendar();if(this.props.inline)return r;if(this.props.withPortal){var a=this.state.open?le.createElement(Yde,{enableTabLoop:this.props.enableTabLoop},le.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},r)):null;return this.state.open&&this.props.portalId&&(a=le.createElement(Gde,{portalId:this.props.portalId,portalHost:this.props.portalHost},a)),le.createElement("div",null,this.renderInputContainer(),a)}return le.createElement(Ont,{className:this.props.popperClassName,wrapperClassName:this.props.wrapperClassName,hidePopper:!this.isCalendarOpen(),portalId:this.props.portalId,portalHost:this.props.portalHost,popperModifiers:this.props.popperModifiers,targetComponent:this.renderInputContainer(),popperContainer:this.props.popperContainer,popperComponent:r,popperPlacement:this.props.popperPlacement,popperProps:this.props.popperProps,popperOnKeyDown:this.onPopperKeyDown,enableTabLoop:this.props.enableTabLoop})}}],[{key:"defaultProps",get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",onChange:function(){},disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",onFocus:function(){},onBlur:function(){},onKeyDown:function(){},onInputClick:function(){},onSelect:function(){},onClickOutside:function(){},onMonthChange:function(){},onCalendarOpen:function(){},onCalendarClose:function(){},preventOpenOnFocus:!1,onYearChange:function(){},onInputError:function(){},monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:N1,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1}}}]),n}(),Int="input",CD="navigate";$m.register(...s$);Nn.defaults.baseURL;const Rnt=()=>{const[e,t]=E.useState(0),[n,r]=E.useState(0),[a,i]=E.useState(0),[o,s]=E.useState(0),[l,u]=E.useState(0),[d,f]=E.useState([]),[h,p]=E.useState({current_total:"0.00",percentage_change:"0.00"}),[m,g]=E.useState({data:[0,0,0],period:"",donations:{morning:0,afternoon:0,evening:0},total:0}),[y,x]=E.useState({labels:[],data:[],current_total:"0.00",percentage_change:"0.00"}),[b,w]=E.useState({hourlyData:[],total:0,percentageChange:"0"}),[_,S]=E.useState(!0),[k,N]=E.useState(null),[P,T]=E.useState(!1),[j,D]=E.useState(new Date(new Date().setDate(new Date().getDate()-30))),[M,R]=E.useState(new Date),[W,B]=E.useState(!1);E.useEffect(()=>{const F=async()=>{var Q,oe,me;try{S(!0),N(null);const be=localStorage.getItem("token");if(!be){N("Authentication required. Please log in."),S(!1);return}const ye={headers:{Authorization:`Bearer ${be}`,Accept:"application/json"},params:W?{startDate:j.toISOString().split("T")[0],endDate:M.toISOString().split("T")[0]}:{}},de=async Re=>{try{return console.log(`Fetching from ${Re}...`,ye),(await Nn.get(Re,ye)).data}catch(Ge){throw console.error(`Error fetching from ${Re}:`,Ge),Ge}},we=await de("/api/admin/scholar-count");t(we.count);const We=await de("/api/admin/items-distributed");r(We.count);const Me=await de("/api/admin/new-sponsors-count");i(Me.count);const ze=await de("/api/admin/new-volunteers-count");s(ze.count);const He=await de("/api/admin/events-count");u(He.count);const dt=await de("/api/admin/generous-donors");f(dt);const qt=await de("/api/admin/donations-summary");p(qt);const Zt=await de("/api/admin/donation-time-stats");g(Zt);const Wt=await de("/api/admin/donation-trends");x(Wt);const mn=await de("/api/admin/daily-traffic");w(mn)}catch(be){console.error("Error fetching analytics data:",be),Nn.isAxiosError(be)?((Q=be.response)==null?void 0:Q.status)===401?(N("Authentication error: Please log in again"),sn.error("Authentication failed. Please log in again.")):(N(`API error: ${((me=(oe=be.response)==null?void 0:oe.data)==null?void 0:me.error)||be.message}`),sn.error("Failed to load analytics data")):(N("An unexpected error occurred"),sn.error("An unexpected error occurred"))}finally{S(!1)}};F();const re=setInterval(F,3e5);return()=>clearInterval(re)},[j,M,W]);const[V,q]=le.useState(!1),[I,O]=le.useState({title:"",data:{}}),H=F=>{if(typeof F=="string"){if(F.includes("+"))return"positive";if(F.includes("-"))return"negative"}return""},ne=()=>new Date().toLocaleString("en-US",{month:"long"}),z=()=>{if(j>M){sn.error("Start date cannot be after end date");return}B(!0),T(!1),sn.info("Applying date filter...")},J=()=>{D(new Date(new Date().setDate(new Date().getDate()-30))),R(new Date),B(!1),sn.info("Filter reset to default (last 30 days)")},ee=()=>{try{const F=Hn.book_new(),re=W?`${j.toISOString().split("T")[0]}_to_${M.toISOString().split("T")[0]}`:"last_30_days",Q=[["Analytics Report",`${W?`${j.toLocaleDateString()} to ${M.toLocaleDateString()}`:"Last 30 Days"}`],[""],["Metric","Value","Change %"],["Total Scholars",e,""],["Donations",h.current_total,`${h.percentage_change}%`],["Items Distributed",n,""],["New Sponsors",a,""],["New Volunteers",o,""],["Total Events",l,""]],oe=Hn.aoa_to_sheet(Q);Hn.book_append_sheet(F,oe,"Overview");const me=[["Donation Trends"],["Period","Amount"],...y.labels.map((He,dt)=>[He,y.data[dt]])],be=Hn.aoa_to_sheet(me);Hn.book_append_sheet(F,be,"Donation Trends");const ye=[["Donation Time Distribution",m.period],["Time Period","Donations","Percentage"],["Morning (5AM-12PM)",m.donations.morning,`${(m.donations.morning/m.total*100).toFixed(1)}%`],["Afternoon (12PM-4PM)",m.donations.afternoon,`${(m.donations.afternoon/m.total*100).toFixed(1)}%`],["Evening (4PM-9PM)",m.donations.evening,`${(m.donations.evening/m.total*100).toFixed(1)}%`],["Total",m.total,"100%"]],de=Hn.aoa_to_sheet(ye);Hn.book_append_sheet(F,de,"Donation Time Analysis");const we=[["Daily Traffic"],["Time Slot","Visitors"],["00-04",b.hourlyData[0]||0],["04-08",b.hourlyData[1]||0],["08-12",b.hourlyData[2]||0],["12-16",b.hourlyData[3]||0],["16-20",b.hourlyData[4]||0],["20-24",b.hourlyData[5]||0],["",""],["Total",b.total],["Change",`${b.percentageChange}%`]],We=Hn.aoa_to_sheet(we);Hn.book_append_sheet(F,We,"Daily Traffic");const Me=[["Most Generous Donors"],["Name","Total Donations"],...d.map(He=>[He.name,He.total_donations])],ze=Hn.aoa_to_sheet(Me);Hn.book_append_sheet(F,ze,"Top Donors"),lu(F,`analytics_report_${re}.xlsx`),sn.success("Analytics data exported successfully")}catch(F){console.error("Error exporting analytics data:",F),sn.error("Failed to export analytics data")}};b.hourlyData;const G={labels:["Morning (5AM-12PM)","Afternoon (12PM-4PM)","Evening (4PM-9PM)"],datasets:[{data:m.data,backgroundColor:["#FFDCD7","#EE3F24","#BF4D3B"],hoverBackgroundColor:["#FFDCD7","#EE3F24","#BF4D3B"],borderWidth:2}]},Z={responsive:!0,cutout:"70%",maintainAspectRatio:!1,plugins:{legend:{position:"bottom",align:"center",labels:{usePointStyle:!0,boxWidth:8,padding:15,font:{size:10}}},tooltip:{backgroundColor:"#622226",padding:15,bodyFont:{size:12,weight:"normal"},titleFont:{size:14,weight:"bold"},titleAlign:"left",bodyAlign:"left",callbacks:{label:F=>{const re=F.dataset,Q=F.dataIndex,oe=re.data[Q],me=re.data.reduce((we,We)=>we+We,0),be=(oe/me*100).toFixed(1),ye=["5am - 12pm","12pm - 4pm","4pm - 9pm"],de=[120,85,45];return[`Time: ${ye[Q]}`,`Donations: ${de[Q]}`,`${be}%`]},title:F=>F[0].label}}}},se={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{backgroundColor:"#EE3F24",titleColor:"#ffffff",bodyColor:"#ffffff",borderColor:"#EE3F24",borderWidth:1,padding:10,boxPadding:5,usePointStyle:!0,callbacks:{label:F=>`${(F.raw/1e3).toFixed(1)}K`}}},scales:{x:{display:!0,grid:{display:!1},ticks:{color:"#718096",font:{family:"Poppins",size:12}}},y:{display:!1,grid:{display:!1}}}},ae={labels:["5-8 AM","9-12 PM","1-4 PM","5-8 PM","9-12 AM"],datasets:[{data:b.hourlyData,backgroundColor:function(F){const re=F.chart,{ctx:Q,chartArea:oe}=re;if(!oe)return;const me=Q.createLinearGradient(0,oe.bottom,0,oe.top);return me.addColorStop(0,"#FFE6E6"),me.addColorStop(1,"#FF3D00"),me},borderRadius:6,borderSkipped:!1}]},Y={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{backgroundColor:"#622226",padding:12,titleFont:{family:"Poppins",size:12},bodyFont:{family:"Poppins",size:12},displayColors:!1,callbacks:{label:F=>`${F.parsed.y} visitors`}}},scales:{x:{grid:{display:!1},ticks:{color:"#718096",font:{size:11},display:!0,align:"center"},offset:!0},y:{display:!1,grid:{display:!1},ticks:{display:!1}}},barThickness:12,categoryPercentage:.8,barPercentage:.9},X=()=>{const F=window.scrollY;document.documentElement.style.setProperty("--scroll-y",`${F}px`);const re=(m.donations.morning/m.total*100).toFixed(1),Q=(m.donations.afternoon/m.total*100).toFixed(1),oe=(m.donations.evening/m.total*100).toFixed(1);O({title:"Donation Time Analysis",data:{Period:m.period,"Morning (5AM-12PM)":`${re}% (${m.donations.morning} donations)`,"Afternoon (12PM-4PM)":`${Q}% (${m.donations.afternoon} donations)`,"Evening (4PM-9PM)":`${oe}% (${m.donations.evening} donations)`,"Total Donations":`${m.total} donations`,"Most Active Time":m.donations.morning>m.donations.afternoon&&m.donations.morning>m.donations.evening?"Morning":m.donations.afternoon>m.donations.evening?"Afternoon":"Evening"}}),q(!0)},K=()=>{q(!1),O({title:"",data:{}})};return c.jsxs(c.Fragment,{children:[_?c.jsxs("div",{className:"analytics-loading",children:[c.jsx("div",{className:"spinner"}),c.jsx("p",{children:"Loading analytics data..."})]}):k?c.jsxs("div",{className:"analytics-error",children:[c.jsx("p",{children:k}),c.jsx("button",{onClick:()=>window.location.reload(),className:"retry-button",children:"Retry"})]}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"sta-date-filter-container",children:[c.jsxs("div",{className:"sta-date-filter-button",onClick:()=>T(!P),children:[c.jsx(bL,{size:14,color:"#FF3D00"}),c.jsx("span",{children:W?`${j.toLocaleDateString()} to ${M.toLocaleDateString()}`:"Filter by Date"})]}),W&&c.jsx("button",{className:"sta-date-reset-button",onClick:J,children:"Reset"}),c.jsxs("button",{className:"sta-export-button",onClick:ee,title:"Export analytics data",children:[c.jsx(Mne,{size:14}),c.jsx("span",{children:"Export"})]}),P&&c.jsxs("div",{className:"sta-date-filter-dropdown",children:[c.jsxs("div",{className:"sta-date-filter-inputs",children:[c.jsxs("div",{className:"sta-date-input-group",children:[c.jsx("label",{children:"From:"}),c.jsx(v0,{selected:j,onChange:F=>F&&D(F),selectsStart:!0,startDate:j,endDate:M,maxDate:new Date,className:"sta-date-picker"})]}),c.jsxs("div",{className:"sta-date-input-group",children:[c.jsx("label",{children:"To:"}),c.jsx(v0,{selected:M,onChange:F=>F&&R(F),selectsEnd:!0,startDate:j,endDate:M,minDate:j,maxDate:new Date,className:"sta-date-picker"})]})]}),c.jsxs("div",{className:"sta-date-filter-actions",children:[c.jsx("button",{className:"sta-apply-filter-button",onClick:z,children:"Apply Filter"}),c.jsx("button",{className:"sta-cancel-filter-button",onClick:()=>T(!1),children:"Cancel"})]})]})]}),W&&c.jsxs("div",{className:"sta-filter-active-bar",children:[c.jsx(pc,{size:16,color:"#FF3D00"}),c.jsxs("span",{children:["Showing data from ",j.toLocaleDateString()," to ",M.toLocaleDateString()]})]}),c.jsxs("div",{className:"sta-container-total",children:[c.jsxs("div",{className:"sta-earning-admin",children:[c.jsx("div",{className:"sta-pic-earning",children:c.jsx(One,{size:24,color:"#FF3D00"})}),c.jsxs("div",{className:"sta-earnings-text",children:[c.jsx("p",{className:"sta-earnings-text",children:"Total Scholars"}),c.jsx("div",{className:"sta-earnings-total",children:e})]})]}),c.jsxs("div",{className:"sta-donations-admin",children:[c.jsx("div",{className:"sta-pic-donation",children:c.jsx(tE,{size:24,color:"#FF3D00"})}),c.jsxs("div",{className:"sta-donations-admin-text",children:[c.jsx("p",{className:"sta-donations-admin-p",children:"Donation"}),c.jsx("div",{className:"sta-donations-total",children:h.current_total}),c.jsxs("p",{className:"sta-percent-display",children:[c.jsx("span",{className:"sta-plus-sign",children:parseFloat(h.percentage_change)>0?"+":""}),c.jsxs("span",{className:"sta-percent-rate",children:[h.percentage_change,"%"]})," ","since last month"]})]})]}),c.jsxs("div",{className:"sta-balance-admin",children:[c.jsx("div",{className:"sta-icon-wrapper",children:c.jsx(Ine,{size:24,color:"#FF3D00"})}),c.jsxs("div",{className:"sta-balance-admin-text",children:[c.jsx("p",{className:"sta-balance-admin-p",children:"Items Distributed"}),c.jsx("div",{className:"sta-balance-amount",children:n.toLocaleString()})]})]}),c.jsxs("div",{className:"sta-task-admin",children:[c.jsx("div",{className:"sta-taskicon-wrapper",children:c.jsx(tE,{size:24,color:"#FF3D00"})}),c.jsxs("div",{className:"sta-task-content",children:[c.jsx("p",{className:"sta-task-admin-p",children:"New Sponsors"}),c.jsx("div",{className:"sta-task-total",children:a})]})]}),c.jsxs("div",{className:"sta-task-admin",children:[c.jsx("div",{className:"sta-taskicon-wrapper",children:c.jsx(cb,{size:24,color:"#FF3D00"})}),c.jsxs("div",{className:"sta-task-content",children:[c.jsx("p",{className:"sta-balance-admin-p",children:"New Volunteers"}),c.jsx("div",{className:"sta-balance-amount",children:o})]})]}),c.jsxs("div",{className:"sta-total-admin",children:[c.jsx("div",{className:"sta-total-icon-wrapper",children:c.jsx(Dne,{size:24,color:"#FF3D00"})}),c.jsxs("div",{className:"sta-total-content",children:[c.jsx("p",{className:"sta-total-admin-p",children:"Total Events"}),c.jsx("div",{className:"sta-total-total",children:l})]})]})]}),c.jsx("div",{className:"sta-Bar-donut-chart-container",children:c.jsxs("div",{className:"sta-charts-container",children:[c.jsx("div",{className:"sta-chart-bar-container",children:c.jsxs("div",{className:"sta-chart-container",children:[c.jsx("div",{className:"sta-header-row",children:c.jsxs("div",{className:"sta-calendar-wrapper",children:[c.jsx(pc,{size:16,color:"#9e9ea1"}),c.jsx("span",{className:"sta-calendar-text",children:ne()})]})}),c.jsx("div",{className:"sta-chart-header",children:c.jsxs("div",{className:"sta-chart-text-left",children:[c.jsx("p",{className:"sta-p-text-view-report-no",children:y.current_total}),c.jsxs("div",{className:"sta-metrics-container",children:[c.jsxs("div",{className:"sta-metrics-row",children:[c.jsx("p",{className:"sta-p-text",children:"Total Donations"}),c.jsxs("div",{className:"sta-percentage-wrapper",children:[c.jsx("span",{className:"sta-arrow-up",children:parseFloat(y.percentage_change)>0?"":""}),c.jsxs("span",{className:"sta-p-text-view-report-percent",children:[Math.abs(parseFloat(y.percentage_change)),"%"]})]})]}),c.jsxs("div",{className:"sta-status-wrapper",children:[c.jsx("span",{className:"sta-status-icon",children:c.jsx(KS,{size:10})}),c.jsx("span",{className:"sta-status-text",children:"On track"})]})]})]})}),c.jsx("div",{className:"sta-Revenue-container",style:{height:"300px"},children:c.jsx(Oce,{data:{labels:y.labels,datasets:[{label:"Donations",data:y.data,borderColor:"#FF3D00",borderWidth:2,pointBackgroundColor:"#FF3D00",pointRadius:4,tension:.4,fill:!1}]},options:{...se,maintainAspectRatio:!0,aspectRatio:2}})})]})}),c.jsx("div",{className:"sta-chart-donut-container",children:c.jsxs("div",{className:"sta-donut-chart-container",children:[c.jsxs("div",{className:"sta-donut-chart-header",children:[c.jsxs("div",{className:"sta-donut-chart-text-left",children:[c.jsx("p",{className:"sta-donut-p-text",children:"Donation Time"}),c.jsx("p",{className:"sta-donut-p-text-period",children:m.period})]}),c.jsx("div",{className:"sta-donut-chart-text-right",children:c.jsx("button",{className:"sta-donut-view-report-button",onClick:X,children:"View Report"})})]}),c.jsx("div",{className:"sta-donut-chart-section",children:c.jsx("div",{className:"sta-donut-chart-container",children:c.jsx(l$,{data:G,options:Z,plugins:[{id:"customCanvasBackgroundColor",beforeDraw:F=>{const{ctx:re}=F;re.save(),re.globalCompositeOperation="destination-over",re.fillStyle="white",re.fillRect(0,0,F.width,F.height),re.restore()}}]})})})]})})]})}),c.jsxs("div",{className:"sta-rating-donors-donation-container",children:[c.jsxs("div",{className:"sta-generous-donors-container",children:[c.jsxs("div",{className:"sta-generous-donor-text",children:[c.jsx("p",{className:"sta-generous-donor-text-p",children:"Most Generous Donors"}),c.jsx("p",{className:"sta-generous-donor-text-p1",children:"Top sponsors this month"})]}),c.jsx("table",{className:"sta-donors-table",children:c.jsx("tbody",{children:d.map((F,re)=>c.jsxs("tr",{children:[c.jsx("td",{children:c.jsxs("div",{className:"sta-donor-info",children:[F.profile_photo?c.jsx("img",{src:F.profile_photo,alt:F.name,className:"sta-donor-avatar"}):c.jsx(Lne,{size:40,color:"#FF3D00",className:"sta-donor-icon"}),c.jsx("span",{className:"sta-donor-name",children:F.name})]})}),c.jsx("td",{className:"sta-donor-amount",children:F.total_donations})]},`donor-${F.id}-${re}`))})})]}),c.jsx("div",{className:"sta-donations-chart-line-container",children:c.jsxs("div",{className:"sta-bar-chart-header",children:[c.jsxs("div",{children:[c.jsx("div",{className:"sta-bar-chart-title",children:"Daily Traffic"}),c.jsxs("div",{className:"sta-bar-metrics",children:[c.jsx("span",{className:"sta-bar-value",children:b.total}),"",c.jsx("span",{className:"sta-bar-label",children:"donations"})]})]}),c.jsxs("div",{className:"sta-bar-change",children:[c.jsx("span",{className:"sta-bar-arrow",children:parseFloat(b.percentageChange)>0?"":""}),c.jsxs("span",{className:"sta-bar-percentage",children:[Math.abs(parseFloat(b.percentageChange)),"%"]})]}),c.jsx(ZE,{data:ae,options:Y})]})})]})]}),V&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"sta-modal-overlay",onClick:K}),c.jsxs("div",{className:"sta-modal-content",onClick:F=>F.stopPropagation(),children:[c.jsxs("div",{className:"sta-modal-header",children:[c.jsx("h2",{children:I.title}),c.jsx("button",{className:"sta-modal-close",onClick:K,children:""})]}),c.jsx("div",{className:"sta-modal-body",children:Object.entries(I.data).map(([F,re])=>c.jsxs("div",{className:"sta-modal-item",children:[c.jsx("span",{className:"sta-modal-label",children:F}),c.jsx("span",{className:"sta-modal-value","data-trend":H(re),children:re})]},F))})]})]})]})},Fnt=["amputa","animal ka","bilat","binibrocha","bobo","bogo","boto"],k1=e=>e?e.toLowerCase().split(/\s+/).some(n=>Fnt.some(r=>n.includes(r.toLowerCase()))):!1,pY=e=>{if(e.title&&k1(e.title))return{isValid:!1,error:"Your title contains inappropriate language",field:"title"};if(e.content&&k1(e.content))return{isValid:!1,error:"Your content contains inappropriate language",field:"content"};if(e.pollOptions){const t=e.pollOptions.findIndex(n=>k1(n));if(t!==-1)return{isValid:!1,error:`Option ${t+1} contains inappropriate language`,field:`pollOption-${t}`}}return{isValid:!0}},Lnt=xr(c.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m5 11h-4v4h-2v-4H7v-2h4V7h2v4h4z"})),$nt=xr(c.jsx("path",{d:"M19 7v2.99s-1.99.01-2 0V7h-3s.01-1.99 0-2h3V2h2v3h3v2zm-3 4V8h-3V5H5c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-8zM5 19l3-4 2 3 3-4 4 5z"})),Bnt=xr(c.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}));async function znt(e){return new Promise(t=>{const n=new Image,r=URL.createObjectURL(e);n.onload=()=>{const a=document.createElement("canvas"),i=a.getContext("2d");if(a.width=n.width,a.height=n.height,!i){URL.revokeObjectURL(r),t({isExplicit:!1});return}i.drawImage(n,0,0);const s=i.getImageData(0,0,a.width,a.height).data;let l=0,u=s.length/4;for(let h=0;h<s.length;h+=4){const p=s[h],m=s[h+1],g=s[h+2];p>60&&p<255&&m>40&&m<200&&g>20&&g<180&&Math.abs(p-m)>15&&p>m&&p>g&&l++}const d=l/u*100;URL.revokeObjectURL(r),a.remove();const f=d>30;t({isExplicit:f,reason:f?"Image contains potentially inappropriate content":void 0})},n.onerror=()=>{URL.revokeObjectURL(r),t({isExplicit:!1})},n.src=r})}const Unt=({onPostCreate:e,eventId:t,categoryInfo:n})=>{const[r,a]=E.useState(!1),[i,o]=E.useState("discussion"),[s,l]=E.useState(""),[u,d]=E.useState(""),[f,h]=E.useState(["",""]),[p,m]=E.useState("general"),[g,y]=E.useState(null),[x,b]=E.useState(null),[w,_]=E.useState(null),[S,k]=E.useState(null),[N,P]=E.useState(null),[T,j]=E.useState(!1),[D,M]=E.useState({top:0}),[R,W]=E.useState(!1),[B,V]=E.useState(!1);E.useEffect(()=>{const G=localStorage.getItem("user");if(G){const Z=JSON.parse(G);W(Z.role==="admin"),V(["admin","staff"].includes(Z.role))}},[]);const q=E.useMemo(()=>{const G=["General","Questions","Support","Suggestions"];return B?["Announcements","Events",...G]:G},[B]);E.useEffect(()=>{n.category==="event"&&n.eventTitle&&(m(n.eventTitle),console.log("Setting up event post with eventId:",t))},[n,t]);const I=async G=>{var se;const Z=(se=G.target.files)==null?void 0:se[0];if(Z)try{if((await znt(Z)).isExplicit){alert("This image appears to contain inappropriate content and cannot be uploaded."),G.target.value="";return}y(Z);const Y=new FileReader;Y.onloadend=()=>{b(Y.result)},Y.readAsDataURL(Z)}catch(ae){console.error("Error processing image:",ae),alert("Failed to process image. Please try another one."),G.target.value=""}},O=(G,Z)=>{k1(Z)?(j(!0),k(`Your ${G} contains inappropriate language`),P(G)):(k(null),P(null)),G==="title"?l(Z):d(Z)},H=(G,Z)=>{const se=[...f];se[G]=Z;const ae=pY({pollOptions:[Z]});!ae.isValid&&ae.error?k(ae.error):k(null),h(se)},ne=async G=>{G.preventDefault();const Z=pY({title:s,content:i==="discussion"?u:void 0,pollOptions:i==="poll"?f:void 0});if(!Z.isValid){k(Z.error||"Content contains inappropriate language");return}if(!s.trim()){alert("Please enter a title");return}if(i==="discussion"&&!u.trim()){alert("Please enter content");return}if(i==="poll"&&f.filter(K=>K.trim()).length<2){alert("Please add at least 2 poll options");return}const se=localStorage.getItem("user"),ae=se?JSON.parse(se):null,Y=new FormData;Y.append("title",s.trim()),Y.append("content",u.trim()),Y.append("authorId",(ae==null?void 0:ae.id)||"0"),n.category==="event"&&n.eventTitle?(Y.append("category",n.eventTitle),Y.append("eventId",t||"")):Y.append("category",p),Y.append("type",i);const X=!["admin","staff"].includes((ae==null?void 0:ae.role)||"");Y.append("approval_status",X?"pending":"approved"),g&&Y.append("image",g),i==="poll"&&Y.append("poll",JSON.stringify({question:s.trim(),options:f.filter(K=>K.trim()!=="").map((K,F)=>({id:F.toString(),text:K.trim(),votes:0}))})),console.log("Form data being sent:",Object.fromEntries(Y.entries())),await e(Y),a(!1),J()},z=()=>{h([...f,""])},J=()=>{l(""),d(""),h(["",""]),m("general"),y(null),b(null)},ee=()=>{const G=window.scrollY;document.documentElement.style.setProperty("--scroll-y",`${G}px`),a(!0)};return c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"create-post-trigger",onClick:ee,title:"Create new post",children:c.jsx(Lnt,{})}),r&&c.jsx("div",{className:"create-post-modal",onClick:()=>a(!1),children:c.jsxs("div",{className:"create-post-content",onClick:G=>G.stopPropagation(),style:{margin:"auto",marginTop:"calc(var(--scroll-y, 0px) + 50px)"},children:[c.jsx("div",{className:"create-post-header",children:c.jsx("h2",{children:"Create New Post"})}),c.jsxs("div",{className:"create-post-type-selector",children:[c.jsx("div",{className:`post-type-option ${i==="discussion"?"active":""}`,onClick:()=>o("discussion"),children:"Discussion"}),c.jsx("div",{className:`post-type-option ${i==="poll"?"active":""}`,onClick:()=>o("poll"),children:"Poll"})]}),c.jsxs("form",{onSubmit:ne,children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",children:i==="poll"?"Poll Question":"Title"}),c.jsx("input",{type:"text",className:"form-input",value:s,onChange:G=>O("title",G.target.value),placeholder:i==="poll"?"Enter your question here...":"Give your post a title..."})]}),n.category!=="event"&&c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",children:"Category"}),c.jsxs("select",{className:"form-select",value:p,onChange:G=>m(G.target.value),children:[c.jsx("option",{value:"",disabled:!0,children:"Select a category..."}),q.map(G=>c.jsx("option",{value:G.toLowerCase(),children:G},G))]})]}),i==="discussion"?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",children:"Content"}),c.jsx("textarea",{className:"form-textarea",value:u,onChange:G=>O("content",G.target.value),placeholder:"Share your thoughts here..."})]}),c.jsxs("div",{className:"image-upload",children:[c.jsx("input",{type:"file",id:"image-upload",hidden:!0,accept:"image/*",onChange:I}),c.jsxs("label",{htmlFor:"image-upload",className:"add-option-button",children:[c.jsx($nt,{})," Add Image"]}),x&&c.jsxs("div",{className:"image-preview",children:[c.jsx("img",{src:x,alt:"Preview"}),c.jsx("button",{type:"button",className:"remove-image",onClick:()=>{y(null),b(null)},children:c.jsx(Bnt,{})})]})]})]}):c.jsxs("div",{className:"poll-options",children:[f.map((G,Z)=>c.jsx("div",{className:"form-group",children:c.jsx("input",{type:"text",className:"form-input",placeholder:`Option ${Z+1}...`,value:G,onChange:se=>H(Z,se.target.value)})},Z)),c.jsx("button",{type:"button",className:"add-option-button",onClick:z,children:"Add Option"})]}),c.jsxs("div",{className:"create-post-actions",children:[c.jsx("div",{className:"post-action-cancel",onClick:()=>a(!1),children:"Cancel"}),c.jsx("div",{className:`post-action-submit ${!s.trim()||i==="discussion"&&!u.trim()?"disabled":""}`,onClick:ne,children:"Create Post"})]})]})]})})]})},mY=xr(c.jsx("path",{d:"M1 21h4V9H1zm22-11c0-1.1-.9-2-2-2h-6.31l.95-4.57.03-.32c0-.41-.17-.79-.44-1.06L14.17 1 7.59 7.59C7.22 7.95 7 8.45 7 9v10c0 1.1.9 2 2 2h9c.83 0 1.54-.5 1.84-1.22l3.02-7.05c.09-.23.14-.47.14-.73z"})),gY=xr(c.jsx("path",{d:"M9 21h9c.83 0 1.54-.5 1.84-1.22l3.02-7.05c.09-.23.14-.47.14-.73v-2c0-1.1-.9-2-2-2h-6.31l.95-4.57.03-.32c0-.41-.17-.79-.44-1.06L14.17 1 7.58 7.59C7.22 7.95 7 8.45 7 9v10c0 1.1.9 2 2 2M9 9l4.34-4.34L12 10h9v2l-3 7H9zM1 9h4v12H1z"})),Wnt=xr(c.jsx("path",{d:"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"})),Vnt=xr(c.jsx("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"})),Hnt=xr(c.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"})),qnt=xr(c.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"})),vY=xr(c.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"})),Gnt=xr(c.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM8 9h8v10H8zm7.5-5-1-1h-5l-1 1H5v2h14V4z"})),Ynt=xr(c.jsx("path",{d:"M16.59 7.58 10 14.17l-3.59-3.58L5 12l5 5 8-8zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"})),Knt=xr(c.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m3.59-13L12 10.59 8.41 7 7 8.41 10.59 12 7 15.59 8.41 17 12 13.41 15.59 17 17 15.59 13.41 12 17 8.41z"})),Xnt=xr(c.jsx("path",{d:"M6 2v6h.01L6 8.01 10 12l-4 4 .01.01H6V22h12v-5.99h-.01L18 16l-4-4 4-3.99-.01-.01H18V2zm10 14.5V20H8v-3.5l4-4zm-4-5-4-4V4h8v3.5z"})),Ao="https://kmfi.netlify.app/",yY=e=>{switch(e==null?void 0:e.toLowerCase()){case"volunteer":return"#4CAF50";case"scholar":return"#2196F3";case"sponsor":return"#f99407";case"admin":return"#FF5722";case"staff":return"#9C27B0";default:return"transparent"}},Znt={margin:0,padding:0,textAlign:"left",width:"100%",fontFamily:'"Poppins", sans-serif',fontWeight:500},Qnt=({view:e,category:t,posts:n=[],onAddComment:r,onVote:a,onCommentLike:i,onDeletePost:o,onUpdatePost:s,highlightedPostId:l,onCategoryChange:u,onDeleteComment:d,userRole:f,onApprovePost:h,onRejectPost:p,showApprovalActions:m=!1})=>{const[g,y]=E.useState([]),[x,b]=E.useState([]),[w,_]=E.useState({}),[S,k]=E.useState([]),[N,P]=E.useState([]),[T,j]=E.useState(n),[D,M]=E.useState(null),[R,W]=E.useState(null),[B,V]=E.useState(!1),[q,I]=E.useState({title:"",content:"",category:"",type:"discussion",poll:{options:[]}}),[O,H]=E.useState(null),[ne,z]=E.useState({}),[J,ee]=E.useState(!1),[G,Z]=E.useState(null),[se,ae]=E.useState(!1),[Y,X]=E.useState(!1),[K,F]=E.useState(!1),[re,Q]=E.useState(""),[oe,me]=E.useState(null),[be,ye]=E.useState({open:!1,message:"",severity:"success"}),de={display:"flex",alignItems:"center",justifyContent:"center","& img":{maxWidth:"90vw",maxHeight:"90vh",objectFit:"contain"}},we=je=>{H(je)},We=je=>je?(console.log("Processing avatar path:",je),je.startsWith("data:")||je.startsWith("http://")||je.startsWith("https://")?je:je.startsWith("/")?`${Ao}${je}`:`${Ao}/${je}`):"/images/default-avatar.jpg";E.useEffect(()=>{(async()=>{const At=localStorage.getItem("user"),wt=At?JSON.parse(At):null;if(wt)try{const cn=await fetch(`${Ao}/api/forum/user-liked-posts/${wt.id}`);if(cn.ok){const Cn=await cn.json();y(Cn)}const kt=await fetch(`${Ao}/api/forum/user-likes/${wt.id}`);if(kt.ok){const Cn=await kt.json();P(Cn)}}catch(cn){console.error("Error fetching user likes:",cn)}})()},[]),E.useEffect(()=>{(async()=>{const At=localStorage.getItem("user"),wt=At?JSON.parse(At):null;if(wt)try{const cn=await fetch(`${Ao}/api/forum/user-voted-polls/${wt.id}`);if(cn.ok){const kt=await cn.json();k(kt)}}catch(cn){console.error("Error fetching voted polls:",cn)}})()},[]),E.useEffect(()=>{const je=localStorage.getItem("user");if(je){const At=JSON.parse(je);ae(At.role==="admin"),X(["admin","staff"].includes(At.role))}},[]),E.useEffect(()=>{j(n)},[n]),E.useEffect(()=>{if(l){const je=document.getElementById(`post-${l}`);je&&setTimeout(()=>{je.scrollIntoView({behavior:"smooth"})},100)}},[l,n]);const Me=async je=>{const At=localStorage.getItem("user"),wt=At?JSON.parse(At):null;if(!wt){console.error("No user data found");return}const cn=!g.includes(je);try{const kt=await fetch(`${Ao}/api/forum/posts/${je}/like`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({increment:cn,userId:wt.id})});if(!kt.ok)throw new Error("Failed to update like");const Cn=await kt.json();y(cn?ke=>[...ke,je]:ke=>ke.filter(De=>De!==je)),j(ke=>ke.map(De=>De.id===je?{...De,likes:Cn.likes}:De))}catch(kt){console.error("Error updating like:",kt)}},ze=je=>{b(At=>At.includes(je)?At.filter(wt=>wt!==je):[...At,je])},He=async je=>{var kt;if(!((kt=w[je])!=null&&kt.trim()))return;if(k1(w[je])){z({...ne,[je]:"Your comment contains inappropriate language"}),ee(!0);return}z({...ne,[je]:""});const At=localStorage.getItem("user"),wt=At?JSON.parse(At):null;if(!wt)return;const cn={content:w[je].trim(),author_id:wt.id,author_name:wt.name,author_avatar:wt.profilePhoto||"https://mui.com/static/images/avatar/1.jpg"};try{const Cn=await fetch(`${Ao}/api/forum/posts/${je}/comments`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(cn)});if(!Cn.ok)throw new Error("Failed to add comment");const ke=await Cn.json();r(je,ke),_(De=>({...De,[je]:""}))}catch{}},dt=(je,At)=>{At?At.key==="Enter"&&!At.shiftKey&&(At.preventDefault(),He(je)):He(je)},qt=async(je,At)=>{const wt=localStorage.getItem("user"),cn=wt?JSON.parse(wt):null;if(!cn){console.error("No user data found");return}try{const kt=await fetch(`${Ao}/api/forum/posts/${je}/vote/${At}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:cn.id})});if(!kt.ok)throw new Error("Failed to record vote");const Cn=await kt.json();j(ke=>ke.map(De=>De.id===je?{...De,poll:Cn}:De)),k(ke=>[...ke,je]),a(je,At)}catch(kt){console.error("Error voting:",kt)}},Zt=async(je,At)=>{const wt=localStorage.getItem("user"),cn=wt?JSON.parse(wt):null;if(!cn){console.error("No user data found");return}const kt=!N.includes(At);try{const Cn=await fetch(`${Ao}/api/forum/posts/${je}/comments/${At}/like`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({increment:kt,userId:cn.id})});if(!Cn.ok)throw new Error("Failed to update like");const ke=await Cn.json();P(kt?De=>[...De,At]:De=>De.filter(Xe=>Xe!==At)),i(je,At)}catch(Cn){console.error("Error updating like:",Cn)}},Wt=async(je,At,wt,cn)=>{if(window.confirm("Are you sure you want to delete this comment?"))try{const kt=localStorage.getItem("user"),Cn=kt?JSON.parse(kt):null;if(!Cn){alert("You must be logged in to delete comments.");return}const ke=wt===Cn.id,De=Cn.role==="admin",Xe=Cn.role==="staff";if(!ke&&!De&&!Xe){alert("You do not have permission to delete this comment.");return}if(Xe&&!De&&cn==="admin"){alert("Staff cannot delete comments made by administrators.");return}console.log("Attempting to delete comment:",{postId:je,commentId:At,userId:Cn.id,userRole:Cn.role,commentAuthorId:wt,commentAuthorRole:cn});const it=await fetch(`${Ao}/api/forum/posts/${je}/comments/${At}`,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:Cn.id})});if(!it.ok){const et=await it.json().catch(()=>({error:`Server returned status: ${it.status}`}));throw console.error("Delete comment error:",et),new Error(et.error||`Failed to delete comment (${it.status})`)}console.log("Comment deleted successfully"),j(et=>et.map(ie=>ie.id===je?{...ie,comments:ie.comments.filter(ge=>ge.id!==At)}:ie)),d&&d(je,At)}catch(kt){console.error("Error deleting comment:",kt),alert(`Failed to delete comment: ${kt.message}`)}},mn=async je=>{if(Y)try{console.log("Approving post:",je),j(At=>At.map(wt=>wt.id===je?{...wt,approval_status:"approved"}:wt)),ye({open:!0,message:"Post approved successfully",severity:"success"}),h&&h(je)}catch(At){console.error("Error approving post:",At),ye({open:!0,message:"Failed to approve post",severity:"error"})}},Re=je=>{Y&&(me(je),Q(""),F(!0))},Ge=async()=>{if(!(!oe||!Y))try{console.log("Rejecting post:",oe,"with reason:",re),j(je=>je.map(At=>At.id===oe?{...At,approval_status:"rejected",rejection_reason:re.trim()||"Content does not meet community guidelines"}:At)),F(!1),ye({open:!0,message:"Post rejected",severity:"info"}),p&&p(oe,re)}catch(je){console.error("Error rejecting post:",je),ye({open:!0,message:"Failed to reject post",severity:"error"})}},at=(je,At)=>At===0?0:Math.round(je/At*100),Ke=je=>{if(!je)return"Invalid date";try{const At=new Date(je);return isNaN(At.getTime())?"Invalid date":At.toLocaleDateString()}catch(At){return console.error("Error formatting date:",je,At),"Invalid date"}},Qe=je=>je.comments?je.comments.length:0,yt=T?t.toLowerCase()==="pending approval"||t.toLowerCase()==="all"||t==="event"?T:T.filter(je=>je.category.toLowerCase()===t.toLowerCase()):[],ft=je=>{if(!je)return;const At=window.scrollY;if(document.documentElement.style.setProperty("--scroll-y",`${At}px`),je.type==="poll"&&je.poll&&je.poll.totalVotes&&je.poll.totalVotes>0){alert("Cannot edit poll after votes have been cast");return}I({title:je.title,content:je.content||"",category:je.category,type:je.type,poll:je.poll||{options:[]}}),W(je.id),V(!0)},pt=async je=>{if(confirm("Are you sure you want to delete this post?"))try{const At=localStorage.getItem("user"),wt=At?JSON.parse(At):null;if(!wt){alert("You must be logged in to delete posts.");return}console.log("Attempting to delete post:",{postId:je,userId:wt.id,userRole:f});const cn=await fetch(`${Ao}/api/forum/posts/${je}`,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:wt.id})});if(!cn.ok){const kt=await cn.json().catch(()=>({error:`Server returned status: ${cn.status}`}));throw console.error("Delete post error:",kt),new Error(kt.error||`Failed to delete post (${cn.status})`)}console.log("Post deleted successfully"),o(je)}catch(At){console.error("Error deleting post:",At),alert(`Failed to delete post: ${At.message}`)}},Lt=async()=>{if(!R)return;const je=localStorage.getItem("user"),At=je?JSON.parse(je):null;if(At&&!(!q.title.trim()||q.type==="discussion"&&!q.content.trim()))try{const wt={userId:At.id,title:q.title.trim(),content:q.type==="poll"?"":q.content.trim(),category:q.category,type:q.type,...q.type==="poll"&&{poll:q.poll}},cn=await fetch(`${Ao}/api/forum/posts/${R}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(wt)});if(!cn.ok)throw new Error("Failed to update post");const kt=await cn.json();j(ke=>ke.map(De=>De.id===R?{...De,...kt}:De)),s(R,kt),V(!1),rr(),W(null);const Cn=await fetch(`${Ao}/api/forum/posts`);if(Cn.ok){const ke=await Cn.json();j(ke)}}catch{alert("Failed to update post. Please try again.")}},ln=(je,At)=>{I(wt=>({...wt,[je]:At}))},rr=()=>{I({title:"",content:"",category:"",type:"discussion",poll:{options:[]}})},Fr=E.useMemo(()=>q.category&&(q.category.toLowerCase().includes("event:")||q.category.toLowerCase()==="events")?[q.category]:[q.category||"General","General","Announcements","Questions","Support","Suggestions"].filter((je,At,wt)=>wt.indexOf(je)===At),[q.category]);E.useEffect(()=>{const je=At=>{G&&!At.target.closest(".post-action-wrapper")&&Z(null)};return document.addEventListener("mousedown",je),()=>document.removeEventListener("mousedown",je)},[G]);const Qr=je=>{Z(G===je?null:je)},la=je=>!m||!Y||!je.approval_status||je.approval_status!=="pending"?null:c.jsxs("div",{className:"admin-approval-actions",children:[c.jsx(pf,{variant:"contained",size:"small",startIcon:c.jsx(Ynt,{}),onClick:()=>mn(je.id),sx:{backgroundColor:"#4caf50",color:"white",marginRight:1,"&:hover":{backgroundColor:"#388e3c"}},children:"Approve"}),c.jsx(pf,{variant:"contained",size:"small",startIcon:c.jsx(Knt,{}),onClick:()=>Re(je.id),sx:{backgroundColor:"#f44336",color:"white","&:hover":{backgroundColor:"#d32f2f"}},children:"Reject"})]}),ai=je=>je.approval_status!=="rejected"||!je.rejection_reason?null:c.jsxs(Oz,{sx:{backgroundColor:"#f8d7da",borderRadius:1,padding:2,marginBottom:2,display:"flex",alignItems:"center",gap:1},children:[c.jsx(vY,{sx:{color:"#721c24"}}),c.jsxs("div",{children:[c.jsx(fa,{variant:"subtitle2",sx:{color:"#721c24",fontWeight:600},children:"This post was rejected"}),c.jsxs(fa,{variant:"body2",sx:{color:"#721c24"},children:["Reason: ",je.rejection_reason]})]})]});return!n||n.length===0?c.jsx("div",{className:"no-posts",children:c.jsx(fa,{variant:"h6",color:"textSecondary",align:"center",children:"No posts available. Be the first to create a post!"})}):c.jsxs(c.Fragment,{children:[c.jsx(Xz,{open:J,autoHideDuration:6e3,onClose:()=>ee(!1),anchorOrigin:{vertical:"top",horizontal:"center"},sx:{width:"100%"},children:c.jsx(pz,{severity:"error",variant:"filled",onClose:()=>ee(!1),sx:{width:"100%",fontSize:"1rem",alignItems:"center","& .MuiAlert-icon":{fontSize:"24px"}},children:"Comment contains inappropriate language"})}),c.jsx(Xz,{open:be.open,autoHideDuration:4e3,onClose:()=>ye(je=>({...je,open:!1})),anchorOrigin:{vertical:"top",horizontal:"center"},children:c.jsx(pz,{severity:be.severity,variant:"filled",onClose:()=>ye(je=>({...je,open:!1})),children:be.message})}),c.jsxs("div",{className:`post-list ${e}`,children:[yt.map(je=>{var cn;const At=je.author_id===JSON.parse(localStorage.getItem("user")||"{}").id;return je.id,t.toLowerCase()!=="pending approval"&&je.approval_status==="pending"&&!At&&!Y||je.approval_status==="rejected"&&!At&&!Y?null:c.jsx(are,{id:`post-${je.id}`,sx:{mb:2,position:"relative",transition:"all 0.3s ease",borderLeft:"4px solid transparent",...je.id===l&&{borderLeft:"4px solid #f99407",backgroundColor:"rgba(249, 148, 7, 0.05)",boxShadow:"0 0 15px rgba(249, 148, 7, 0.2)"},...je.approval_status==="pending"&&{borderLeft:"4px solid #ffc107",backgroundColor:"rgba(255, 193, 7, 0.05)"},...je.approval_status==="rejected"&&{borderLeft:"4px solid #dc3545",backgroundColor:"rgba(220, 53, 69, 0.05)",opacity:.8}},children:c.jsxs(ire,{children:[c.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"1rem"},children:[c.jsx(Az,{src:We(je.author_avatar),sx:{marginRight:"1rem",border:`3px solid ${yY(je.author_role)}`},imgProps:{onError:kt=>{console.error("Avatar image failed to load:",je.author_avatar),kt.target.src="https://mui.com/static/images/avatar/1.jpg"}}}),c.jsx("div",{children:c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[c.jsx(fa,{variant:"subtitle1",sx:Znt,children:je.author_name}),je.author_role==="admin"&&c.jsx($A,{label:"Admin",size:"small",sx:{backgroundColor:"#FF5722",color:"white",height:"20px",fontSize:"0.7rem",fontWeight:600,fontFamily:'"Poppins", sans-serif',"& .MuiChip-label":{padding:"0 8px"}}}),je.author_role==="staff"&&c.jsx($A,{label:"Staff",size:"small",sx:{backgroundColor:"#9C27B0",color:"white",height:"20px",fontSize:"0.7rem",fontWeight:600,fontFamily:'"Poppins", sans-serif',"& .MuiChip-label":{padding:"0 8px"}}}),c.jsx(fa,{sx:{display:"block",textAlign:"left",fontFamily:'"Poppins", sans-serif'},children:Ke(je.created_at)})]})}),c.jsx($A,{label:je.category,size:"small",onClick:t.toLowerCase()==="all"?()=>u(je.category.toLowerCase()):void 0,sx:{marginLeft:"auto",fontFamily:'"Poppins", sans-serif',marginBottom:"20px",cursor:t.toLowerCase()==="all"?"pointer":"default",transition:"all 0.2s ease",borderColor:"transparent",...e==="grid"&&{maxWidth:"150px","& .MuiChip-label":{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",display:"block"}},...t.toLowerCase()==="all"&&{"&:hover":{backgroundColor:"#f99407",color:"white",transform:"translateY(-1px)",boxShadow:"0 2px 4px rgba(249, 148, 7, 0.2)"},"&:active":{transform:"translateY(0)",boxShadow:"none"}}}}),(At||se||Y&&je.author_role!=="admin")&&c.jsxs("div",{className:"post-action-wrapper",style:{marginLeft:"12px",position:"relative"},children:[c.jsx("button",{type:"button",className:"post-action-button",onClick:kt=>{kt.preventDefault(),kt.stopPropagation(),Qr(je.id)},children:c.jsx(Vnt,{})}),G===je.id&&c.jsxs("div",{className:"post-action-menu",onClick:kt=>kt.stopPropagation(),children:[At&&c.jsxs("button",{type:"button",className:"post-action-item",onClick:kt=>{kt.preventDefault(),ft(je),Z(null)},children:[c.jsx(Hnt,{fontSize:"small"})," Edit"]}),c.jsxs("button",{type:"button",className:"post-action-item delete",onClick:kt=>{kt.preventDefault(),window.confirm("Are you sure you want to delete this post?")&&(pt(je.id),Z(null))},children:[c.jsx(qnt,{fontSize:"small"})," ",se?"Delete (Admin)":f==="staff"?"Delete (Staff)":"Delete"]})]})]})]}),ai(je),la(je),c.jsx(fa,{variant:"h6",gutterBottom:!0,sx:{fontFamily:'"Poppins", sans-serif',fontWeight:600},children:je.title}),c.jsx(fa,{variant:"body1",paragraph:!0,sx:{textAlign:"left",width:"100%",fontFamily:'"Poppins", sans-serif'},children:je.content}),je.image_url&&c.jsx("div",{style:{marginBottom:16},children:c.jsx("img",{src:`${Ao}${je.image_url}`,alt:"Post attachment",style:{maxWidth:"100%",maxHeight:400,objectFit:"contain",cursor:"pointer"},onClick:()=>we(`${Ao}${je.image_url}`)})}),je.type==="poll"&&je.poll&&je.poll.options&&c.jsxs("div",{className:"poll-container",children:[je.poll.options.map(kt=>{var De;const Cn=((De=je.poll)==null?void 0:De.totalVotes)??0,ke=at(kt.votes,Cn);return c.jsxs(pf,{variant:"outlined",fullWidth:!0,disabled:S.includes(je.id)||f==="scholar"||je.approval_status==="pending"||je.approval_status==="rejected",onClick:()=>qt(je.id,kt.id),sx:{mb:1,fontFamily:'"Poppins", sans-serif',color:S.includes(je.id)||f==="scholar"?"#666":"#242424",borderColor:S.includes(je.id)||f==="scholar"?"#ddd":"#e0e0e0",justifyContent:"space-between",padding:"12px 20px",position:"relative",overflow:"hidden","&::before":S.includes(je.id)?{content:'""',position:"absolute",left:0,top:0,height:"100%",width:`${ke}%`,backgroundColor:"rgba(249, 148, 7, 0.1)",zIndex:0}:{},"&:hover":{backgroundColor:S.includes(je.id)?"transparent":"rgba(249, 148, 7, 0.1)",borderColor:S.includes(je.id)?"#ddd":"#f99407",color:S.includes(je.id)?"#666":"#f99407"}},children:[c.jsx("span",{style:{zIndex:1},children:kt.text}),c.jsxs("span",{style:{color:"#666",fontSize:"0.9em",fontWeight:500,zIndex:1},children:[kt.votes," votes (",ke,"%)"]})]},kt.id)}),c.jsx(fa,{variant:"caption",sx:{display:"block",textAlign:"right",marginTop:"0.5rem",color:"#666",fontFamily:'"Poppins", sans-serif'},children:f==="scholar"?"Scholars cannot vote on polls":je.approval_status==="pending"?"Voting will be enabled after approval":je.approval_status==="rejected"?"This poll has been rejected":c.jsxs(c.Fragment,{children:["Total votes: ",((cn=je.poll)==null?void 0:cn.totalVotes)??0," ",S.includes(je.id)&&" You voted"]})})]}),c.jsxs("div",{style:{display:"flex",gap:"1rem",marginTop:"1rem"},children:[f!=="scholar"&&(!je.approval_status||je.approval_status==="approved")&&c.jsxs(pf,{startIcon:g.includes(je.id)?c.jsx(mY,{}):c.jsx(gY,{}),size:"small",onClick:()=>Me(je.id),sx:{color:g.includes(je.id)?"#f99407":"inherit",fontFamily:'"Poppins", sans-serif',"&:hover":{color:"#f99407"}},children:[je.likes," Likes"]}),c.jsxs(pf,{startIcon:x.includes(je.id)?c.jsx(Jte,{}):c.jsx(Qte,{}),size:"small",onClick:f!=="scholar"&&(!je.approval_status||je.approval_status==="approved")?()=>ze(je.id):void 0,disabled:f==="scholar"||je.approval_status==="pending"||je.approval_status==="rejected",sx:{color:x.includes(je.id)?"#f99407":"inherit",fontFamily:'"Poppins", sans-serif',"&:hover":{color:f!=="scholar"&&(!je.approval_status||je.approval_status==="approved")?"#f99407":"inherit"}},children:[Qe(je)," Comments"]})]}),f!=="scholar"&&(!je.approval_status||je.approval_status==="approved")&&c.jsx(k3,{in:x.includes(je.id),children:c.jsxs("div",{className:"comments-section",children:[c.jsx("div",{className:"comments-list",children:je.comments&&je.comments.map(kt=>{const Cn=localStorage.getItem("user"),ke=Cn?JSON.parse(Cn):null,Xe=(ke==null?void 0:ke.id)===kt.author_id||se||Y&&kt.author_role!=="admin";return c.jsxs("div",{className:"comment-item",children:[c.jsxs("div",{className:"comment-header",children:[c.jsx(Az,{src:We(kt.author_avatar),sx:{width:32,height:32,border:`2px solid ${yY(kt.author_role)}`,padding:"1px"},imgProps:{onError:it=>{console.error("Comment avatar image failed to load:",kt.author_avatar),it.target.src="https://mui.com/static/images/avatar/1.jpg"}}}),c.jsxs("div",{className:"comment-info",children:[c.jsxs(fa,{variant:"subtitle2",sx:{textAlign:"left",fontFamily:'"Poppins", sans-serif',fontWeight:600},children:[kt.author_name,kt.author_role==="admin"&&c.jsx("span",{className:"badge admin-badge",children:"Admin"}),kt.author_role==="staff"&&c.jsx("span",{className:"badge staff-badge",children:"Staff"})]}),c.jsx(fa,{variant:"caption",color:"text.secondary",sx:{textAlign:"left",display:"block",fontFamily:'"Poppins", sans-serif'},children:Ke(kt.created_at)})]}),c.jsxs("div",{style:{marginLeft:"auto",display:"flex"},children:[Xe&&c.jsx(fv,{size:"small",onClick:()=>Wt(je.id,kt.id,kt.author_id,kt.author_role||"user"),sx:{color:"rgba(0,0,0,0.5)","&:hover":{color:"#f44336"}},children:c.jsx(Gnt,{fontSize:"small"})}),c.jsxs(fv,{size:"small",onClick:()=>Zt(je.id,kt.id),sx:{color:N.includes(kt.id)?"#f99407":"inherit","&:hover":{color:"#f99407"}},children:[N.includes(kt.id)?c.jsx(mY,{fontSize:"small"}):c.jsx(gY,{fontSize:"small"}),c.jsx(fa,{variant:"caption",sx:{ml:.5,color:"inherit"},children:kt.likes})]})]})]}),c.jsx(fa,{variant:"body2",className:"comment-content",sx:{textAlign:"left",fontFamily:'"Poppins", sans-serif'},children:kt.content})]},kt.id)})}),c.jsxs("div",{className:"add-comment",children:[ne[je.id]&&c.jsxs(fa,{color:"error",sx:{mb:1,p:1,bgcolor:"rgba(211, 47, 47, 0.1)",borderRadius:1,display:"flex",alignItems:"center",gap:1,fontSize:"0.875rem"},children:[c.jsx(vY,{fontSize:"small",color:"error"}),ne[je.id]]}),c.jsx(Qz,{fullWidth:!0,size:"small",placeholder:"Write a comment...",value:w[je.id]||"",onChange:kt=>_(Cn=>({...Cn,[je.id]:kt.target.value})),onKeyPress:kt=>dt(je.id,kt),onFocus:()=>{ne[je.id]&&z({...ne,[je.id]:""})},InputProps:{style:{fontFamily:'"Poppins", sans-serif',margin:0},className:"comment-input",endAdornment:c.jsx($ke,{position:"end",children:c.jsx(fv,{onClick:()=>dt(je.id),size:"small",sx:{color:"#f99407","&:hover":{backgroundColor:"rgba(249, 148, 7, 0.1)"}},children:c.jsx(Wnt,{})})})},sx:{"& .MuiOutlinedInput-root":{margin:0,padding:0},"& .MuiOutlinedInput-input":{margin:0,padding:"8px 14px"}}})]})]})})]})},je.id)}),c.jsx(PL,{open:!!O,onClose:()=>H(null),onClick:()=>H(null),sx:de,children:c.jsx(Oz,{onClick:je=>je.stopPropagation(),sx:{outline:"none",bgcolor:"transparent"},children:O&&c.jsx("img",{src:O,alt:"Enlarged post",style:{display:"block",maxWidth:"90vw",maxHeight:"90vh",objectFit:"contain"}})})})]}),c.jsxs(tke,{open:K,onClose:()=>F(!1),fullWidth:!0,maxWidth:"sm",children:[c.jsx(pke,{sx:{fontFamily:'"Poppins", sans-serif',fontWeight:600},children:"Reject Post"}),c.jsx(dke,{children:c.jsx(Qz,{autoFocus:!0,margin:"dense",label:"Reason for rejection",fullWidth:!0,multiline:!0,rows:4,value:re,onChange:je=>Q(je.target.value),placeholder:"Explain why this post is being rejected...",variant:"outlined",sx:{mt:1}})}),c.jsxs(ike,{children:[c.jsx(pf,{onClick:()=>F(!1),sx:{color:"text.secondary"},children:"Cancel"}),c.jsx(pf,{onClick:Ge,variant:"contained",sx:{backgroundColor:"#f44336","&:hover":{backgroundColor:"#d32f2f"}},children:"Reject"})]})]}),B&&c.jsx("div",{className:"edit-modal",onClick:()=>V(!1),children:c.jsxs("div",{className:"edit-modal-content",onClick:je=>je.stopPropagation(),children:[c.jsx("div",{className:"create-post-header",children:c.jsxs("h2",{children:["Edit ",q.type==="poll"?"Poll":"Post"]})}),c.jsxs("form",{onSubmit:je=>{je.preventDefault(),Lt()},children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",children:"Title"}),c.jsx("input",{type:"text",className:"form-input",value:q.title,onChange:je=>ln("title",je.target.value)})]}),q.type==="discussion"&&c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",children:"Content"}),c.jsx("textarea",{className:"form-textarea",value:q.content,onChange:je=>ln("content",je.target.value)})]}),!q.category.toLowerCase().includes("event")&&c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",children:"Category"}),c.jsx("select",{className:"form-select",value:q.category,onChange:je=>ln("category",je.target.value),children:Fr.map(je=>c.jsx("option",{value:je,children:je},je))})]}),c.jsxs("div",{className:"create-post-actions",children:[c.jsx("div",{className:"post-action-cancel",onClick:()=>V(!1),children:"Cancel"}),c.jsx("div",{className:"post-action-submit",onClick:Lt,children:"Save Changes"})]})]})]})})]})},Jnt=({activeCategory:e,onCategoryChange:t,isOpen:n,onClose:r,events:a,isAdmin:i=!1,pendingPostsCount:o=0,userRole:s=""})=>{const l=["All","General","Announcements","Events","Support","Questions","Suggestions"],u=i?[...l,"Pending Approval"]:l,d=f=>{t(f.toLowerCase()),r()};return c.jsxs(c.Fragment,{children:[c.jsx("div",{className:`sidebar-overlay ${n?"active":""}`,onClick:r}),c.jsxs("nav",{className:`forum-sidebar ${n?"active":""}`,children:[i&&c.jsx("div",{className:"admin-badge",children:s==="admin"?"Administrator":"Staff"}),c.jsx("div",{className:"forum-sidebar-header",children:c.jsx("h3",{children:"Categories"})}),c.jsx(lre,{className:"forum-sidebar-list",children:u.map(f=>c.jsx(nje,{style:{cursor:"pointer"},className:`forum-sidebar-item ${f.toLowerCase()===e.toLowerCase()?"active":""}`,onClick:()=>d(f),children:f==="Pending Approval"?c.jsx(xNe,{badgeContent:o,color:"error",sx:{width:"100%","& .MuiBadge-badge":{right:0}},children:c.jsx(Uz,{primary:c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[c.jsx(Xnt,{fontSize:"small"}),f]}),className:"forum-sidebar-text"})}):c.jsx(Uz,{primary:f,className:"forum-sidebar-text"})},f))})]})]})},ert=xr(c.jsx("path",{fillRule:"evenodd",d:"M3 3v8h8V3zm6 6H5V5h4zm-6 4v8h8v-8zm6 6H5v-4h4zm4-16v8h8V3zm6 6h-4V5h4zm-6 4v8h8v-8zm6 6h-4v-4h4z"})),trt=xr(c.jsx("path",{d:"M3 14h4v-4H3zm0 5h4v-4H3zM3 9h4V5H3zm5 5h13v-4H8zm0 5h13v-4H8zM8 5v4h13V5z"})),nrt=xr(c.jsx("path",{d:"M21 6h-2v9H6v2c0 .55.45 1 1 1h11l4 4V7c0-.55-.45-1-1-1m-4 6V3c0-.55-.45-1-1-1H3c-.55 0-1 .45-1 1v14l4-4h10c.55 0 1-.45 1-1"})),rrt=xr(c.jsx("path",{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5s-3 1.34-3 3 1.34 3 3 3m-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5 5 6.34 5 8s1.34 3 3 3m0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5m8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5"})),art=xr(c.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2M9 17H7v-7h2zm4 0h-2V7h2zm4 0h-2v-4h2z"})),irt=xr(c.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2"})),ort=xr(c.jsx("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"})),Gl="https://kmfi.netlify.app/",srt=()=>{const[e,t]=E.useState("All"),[n,r]=E.useState(null),[a,i]=E.useState("list"),[o,s]=E.useState([]),[l,u]=E.useState([]),[d,f]=E.useState(!0),[h,p]=E.useState(null),[m,g]=E.useState(null),[y,x]=E.useState(!1),[b,w]=E.useState(!1),[_,S]=E.useState({category:"All"}),k=E.useRef(null),[N,P]=E.useState(!1),[T,j]=E.useState(""),[D,M]=E.useState([]),[R,W]=E.useState(""),[B,V]=E.useState(0);E.useEffect(()=>{q(),O()},[]),E.useEffect(()=>{(()=>{const me=localStorage.getItem("user");if(me){const be=JSON.parse(me);P(be.role==="admin")}})()},[]),E.useEffect(()=>{const me=new URLSearchParams(window.location.search).get("postId");me&&o.length>0&&(g(me),x(!0),setTimeout(()=>{const be=document.getElementById(`post-${me}`);be&&(be.scrollIntoView({behavior:"smooth"}),be.classList.add("highlighted-post"),setTimeout(()=>{be.classList.remove("highlighted-post"),g(null)},3500))},300))},[o]),E.useEffect(()=>{const oe=()=>{new URLSearchParams(window.location.search).get("postId")||x(!1)};return window.addEventListener("popstate",oe),()=>window.removeEventListener("popstate",oe)},[]),E.useEffect(()=>(b?document.body.classList.add("sidebar-open"):document.body.classList.remove("sidebar-open"),()=>{document.body.classList.remove("sidebar-open")}),[b]),E.useEffect(()=>{const oe=()=>{window.innerWidth<=976&&i("grid")};return oe(),window.addEventListener("resize",oe),()=>window.removeEventListener("resize",oe)},[]),E.useEffect(()=>{const oe=localStorage.getItem("user");if(oe){const me=JSON.parse(oe);W(me.role)}},[]);const q=async()=>{try{f(!0),p(null);const oe=await fetch(`${Gl}/api/forum/posts`);if(!oe.ok)throw new Error(`HTTP error! status: ${oe.status}`);const me=await oe.json();s(me),M(me)}catch(oe){console.error("Failed to fetch posts:",oe),p("Failed to load posts. Please try again later.")}finally{f(!1)}},I=async oe=>{var me;try{f(!0),p(null);const be=await fetch(`${Gl}/api/forum/event-posts/${oe}`);if(!be.ok)throw new Error(`HTTP error! status: ${be.status}`);const ye=await be.json(),de=(me=l.find(We=>We.id===oe))==null?void 0:me.title,we=ye.map(We=>({...We,category:de||"Events"}));s(we)}catch(be){console.error("Failed to fetch event posts:",be),p("Failed to load posts. Please try again later.")}finally{f(!1)}},O=async()=>{try{const oe=await fetch(`${Gl}/api/events`);if(oe.ok){const me=await oe.json();console.log("Fetched events:",me),u(me)}}catch(oe){console.error("Error fetching events:",oe)}},H=async oe=>{try{console.log("Creating post with form data:",{eventId:oe.get("eventId"),category:oe.get("category"),title:oe.get("title")});const me=await fetch(`${Gl}/api/forum/posts`,{method:"POST",body:oe});if(!me.ok)throw new Error("Failed to create post");const be=await me.json();n?I(n):s(ye=>[be,...ye])}catch(me){console.error("Failed to create post:",me)}},ne=oe=>{const me=oe.toLowerCase();t(me),r(null),k.current&&k.current.scrollIntoView({behavior:"smooth",block:"start"}),me==="pending approval"?re():me==="events"?(O(),S({category:"events"})):(q(),S({category:me}))},z=async(oe,me)=>{r(oe),S({category:"event",eventTitle:me});try{f(!0),p(null),console.log("Fetching event posts for event:",{id:oe,title:me});const be=await fetch(`${Gl}/api/forum/event-posts/${oe}`);if(!be.ok){const de=await be.json().catch(()=>({error:"Unknown error"}));throw new Error(de.error||`Server returned ${be.status}`)}const ye=await be.json();console.log("Fetched event posts:",ye.length),s(ye)}catch(be){console.error("Error fetching event posts:",be),p(`Failed to load event posts: ${be.message}`),s([])}finally{f(!1)}},J=(oe,me)=>{s(be=>be.map(ye=>{if(ye.id===oe){const de=[...ye.comments||[],{...me,author_id:me.author_id,author_name:me.author_name,author_avatar:me.author_avatar,created_at:me.created_at}];return{...ye,comments:de}}return ye}))},ee=async(oe,me)=>{s(be=>be.map(ye=>ye.id===oe&&ye.poll?{...ye,poll:{...ye.poll,totalVotes:ye.poll.totalVotes+1,options:ye.poll.options.map(de=>({...de,votes:de.id===me?de.votes+1:de.votes}))}}:ye))},G=E.useCallback(async(oe,me)=>{s(be=>be.map(ye=>ye.id===oe?{...ye,comments:ye.comments.map(de=>de.id===me?{...de}:de)}:ye));try{const be=await fetch(`${Gl}/api/forum/posts`);if(be.ok){const ye=await be.json();s(ye)}}catch(be){console.error("Failed to refresh posts:",be)}},[]),Z=oe=>{s(me=>me.filter(be=>be.id!==oe))},se=(oe,me)=>{s(be=>be.map(ye=>ye.id===oe?{...ye,...me}:ye)),q()},ae=(oe,me)=>{s(be=>be.map(ye=>ye.id===oe?{...ye,comments:ye.comments.filter(de=>de.id!==me)}:ye))},Y=()=>_.category==="event"&&_.eventTitle?_.eventTitle:_.category==="all"?"Community Forum":_.category==="pending approval"?"Posts Pending Approval":`${_.category.charAt(0).toUpperCase()}${_.category.slice(1)} Discussions`,X=oe=>{if(j(oe),!oe.trim()){s(D);return}const me=oe.toLowerCase(),be=D.filter(ye=>{var He,dt;const de=ye.title.toLowerCase().includes(me),we=(He=ye.content)==null?void 0:He.toLowerCase().includes(me),We=ye.category.toLowerCase().includes(me),Me=(dt=ye.comments)==null?void 0:dt.some(qt=>qt.content.toLowerCase().includes(me)),ze=ye.author_name.toLowerCase().includes(me);return de||we||We||Me||ze});s(be)},K=async oe=>{try{const me=localStorage.getItem("user"),be=me?JSON.parse(me):null;if(!be){console.error("No user data found");return}if(!(await fetch(`${Gl}/api/forum/posts/${oe}/approve`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:be.id})})).ok)throw new Error("Failed to approve post");s(de=>de.map(we=>we.id===oe?{...we,approval_status:"approved",rejection_reason:void 0}:we)),V(de=>Math.max(0,de-1)),e==="pending approval"&&re()}catch(me){console.error("Error approving post:",me)}},F=async(oe,me)=>{try{const be=localStorage.getItem("user"),ye=be?JSON.parse(be):null;if(!ye){console.error("No user data found");return}if(!(await fetch(`${Gl}/api/forum/posts/${oe}/reject`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:ye.id,reason:me})})).ok)throw new Error("Failed to reject post");s(we=>we.map(We=>We.id===oe?{...We,approval_status:"rejected",rejection_reason:me}:We)),V(we=>Math.max(0,we-1)),e==="pending approval"&&re()}catch(be){console.error("Error rejecting post:",be)}},re=async()=>{try{f(!0),p(null);const oe=localStorage.getItem("user"),me=oe?JSON.parse(oe):null;if(!me||!["admin","staff"].includes(me.role)){console.error("Unauthorized access to pending posts"),p("You are not authorized to view pending posts"),f(!1);return}const be=await fetch(`${Gl}/api/forum/posts/status/pending?userId=${me.id}`);if(!be.ok)throw new Error(`HTTP error! status: ${be.status}`);const ye=await be.json();s(ye),t("pending approval"),S({category:"pending approval"})}catch(oe){console.error("Failed to fetch pending posts:",oe),p("Failed to load pending posts. Please try again later.")}finally{f(!1)}},Q=async()=>{try{const oe=localStorage.getItem("user"),me=oe?JSON.parse(oe):null;if(!me||!["admin","staff"].includes(me.role))return 0;const be=await fetch(`${Gl}/api/forum/pending-posts-count?userId=${me.id}`);if(!be.ok)throw new Error(`HTTP error! status: ${be.status}`);return(await be.json()).count}catch(oe){return console.error("Failed to fetch pending posts count:",oe),0}};return E.useEffect(()=>{if(N||["admin","staff"].includes(R)){const oe=async()=>{const be=await Q();V(be)};oe();const me=setInterval(oe,6e4);return()=>clearInterval(me)}},[N,R]),c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"forum-banner",children:c.jsxs("div",{className:"forum-banner-content",children:[c.jsx("h1",{children:"Community Forum"}),c.jsx("p",{children:"Join the conversation, share your thoughts, and connect with others"}),c.jsxs("div",{className:"forum-stats",children:[c.jsxs("div",{className:"stat-items",children:[c.jsx(nrt,{}),c.jsxs("div",{children:[c.jsx("h3",{children:o.length}),c.jsx("p",{children:"Discussions"})]})]}),c.jsxs("div",{className:"stat-items",children:[c.jsx(rrt,{}),c.jsxs("div",{children:[c.jsx("h3",{children:Array.from(new Set(o.map(oe=>oe.author_id))).length}),c.jsx("p",{children:"Members"})]})]}),c.jsxs("div",{className:"stat-items",children:[c.jsx(art,{}),c.jsxs("div",{children:[c.jsx("h3",{children:o.filter(oe=>oe.type==="poll").length}),c.jsx("p",{children:"Active Polls"})]})]})]}),c.jsx("div",{className:"role-legends",style:{display:"flex",gap:"20px",justifyContent:"center",marginTop:"20px",backgroundColor:"rgba(255, 255, 255, 0.04)",padding:"10px",borderRadius:"8px"},children:[{role:"Volunteer",color:"#4CAF50"},{role:"Sponsor",color:"#f99407"},{role:"Admin",color:"#FF5722"},{role:"Staff",color:"#9C27B0"}].map(({role:oe,color:me})=>c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"5px"},children:[c.jsx(irt,{sx:{color:me,fontSize:12}}),c.jsx("span",{style:{color:"white",fontSize:"0.9rem",fontFamily:'"Poppins", sans-serif'},children:oe})]},oe))})]})}),c.jsxs("div",{className:"forum-container",children:[c.jsx(Jnt,{activeCategory:e,onCategoryChange:ne,isOpen:b,onClose:()=>w(!1),events:l,isAdmin:N||R==="staff",pendingPostsCount:B,userRole:R}),c.jsxs("div",{className:"forum-main",ref:k,children:[c.jsxs("div",{className:"forum-header",children:[c.jsxs("div",{className:"header-left",children:[c.jsx(fv,{onClick:()=>w(!b),sx:{color:"#f99407","&:hover":{backgroundColor:"rgba(249, 148, 7, 0.1)"},width:40,height:40,padding:"8px",marginRight:"8px",display:{xs:"flex",md:"none"}},children:c.jsx(ort,{})}),c.jsx("h1",{children:Y()})]}),c.jsx("div",{className:"search-bar",children:c.jsx("input",{type:"text",placeholder:"Search posts, comments, categories...",value:T,onChange:oe=>X(oe.target.value)})}),c.jsxs("div",{className:"forum-controls",children:[window.innerWidth>976&&c.jsx(rTe,{title:`Switch to ${a==="list"?"grid":"list"} view`,children:c.jsx(fv,{onClick:()=>i(a==="list"?"grid":"list"),sx:{color:"#f99407","&:hover":{backgroundColor:"rgba(249, 148, 7, 0.1)"}},children:a==="list"?c.jsx(ert,{}):c.jsx(trt,{})})}),R!=="scholar"&&c.jsx(Unt,{onPostCreate:H,eventId:n||void 0,categoryInfo:_})]})]}),d?c.jsx("div",{className:"loading-state",children:"Loading..."}):h?c.jsx("div",{className:"error-state",children:h}):e==="events"&&!n?c.jsx("div",{className:"events-grid",children:l.map(oe=>c.jsxs(are,{onClick:()=>z(oe.id,oe.title),sx:{cursor:"pointer",padding:"0","&:hover":{transform:"translateY(-4px)",boxShadow:3,transition:"all 0.3s ease"}},children:[oe.image&&c.jsx("img",{src:`${Gl}${oe.image}`,alt:oe.title,style:{width:"100%",height:"200px",objectFit:"cover"}}),c.jsxs(ire,{children:[c.jsx(fa,{variant:"h6",sx:{fontFamily:'"Poppins", sans-serif',fontSize:"1.1rem",fontWeight:600,mb:1},children:oe.title}),c.jsx(fa,{variant:"body2",color:"text.secondary",sx:{fontFamily:'"Poppins", sans-serif',fontSize:"0.875rem"},children:"Click to view event posts"})]})]},oe.id))}):c.jsx(Qnt,{view:a,category:_.category,eventId:n,posts:o,highlightedPostId:m,onAddComment:J,onCategoryChange:ne,onVote:ee,onCommentLike:G,onDeletePost:Z,onUpdatePost:se,onDeleteComment:ae,userRole:R,onApprovePost:K,onRejectPost:F,showApprovalActions:_.category==="pending approval"})]})]})]})},lrt=[{value:"Piece",label:"Piece"},{value:"Box",label:"Box"},{value:"Pack",label:"Pack"},{value:"Kilogram",label:"Kilogram"},{value:"Liter",label:"Liter"},{value:"Set",label:"Set"}],xY=["Food & Nutrition","Medical Supplies & Medicines"],crt=({isOpen:e,onClose:t,item:n,type:r,onSubmit:a})=>{const[i,o]=E.useState({donatorName:"",email:"",contactNumber:"",item:"",quantity:0,category:"",frequency:"monthly",type:r,unit:"Piece",expirationDate:""});if(E.useEffect(()=>{e&&o({donatorName:(n==null?void 0:n.donatorName)||"",email:(n==null?void 0:n.email)||"",contactNumber:(n==null?void 0:n.contactNumber)||"",item:(n==null?void 0:n.item)||"",quantity:(n==null?void 0:n.quantity)||0,category:(n==null?void 0:n.category)||"",frequency:(n==null?void 0:n.frequency)||"monthly",type:(n==null?void 0:n.type)||r,unit:(n==null?void 0:n.unit)||"Piece",expirationDate:(n==null?void 0:n.expirationDate)||""})},[e,n,r]),!e)return null;const s=()=>{if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(i.email))return"Invalid email format";if(!/^(\+63|0)[0-9]{10}$/.test(i.contactNumber))return"Invalid contact number format. Use +63 or 0 followed by 10 digits";if(i.quantity<=0||!Number.isInteger(i.quantity))return"Quantity must be a positive integer";if(xY.includes(i.category)){if(!i.expirationDate)return"Expiration date is required for food and medical items";const h=new Date;if(new Date(i.expirationDate)<=h)return"Expiration date must be in the future"}return null},l=d=>{d.preventDefault();const f=s();if(f){alert(f);return}const h=i.type==="regular"?{donatorName:i.donatorName,email:i.email,contactNumber:i.contactNumber,item:i.item,quantity:i.quantity,category:i.category,frequency:i.frequency,type:"regular",verificationStatus:"pending",unit:i.unit,expirationDate:i.expirationDate}:{donatorName:i.donatorName,email:i.email,contactNumber:i.contactNumber,item:i.item,quantity:i.quantity,category:i.category,type:"in-kind",verificationStatus:"pending",unit:i.unit,expirationDate:i.expirationDate};a(h),o({donatorName:"",email:"",contactNumber:"",item:"",quantity:0,category:"",frequency:"monthly",type:r,unit:"Piece",expirationDate:""}),t()},u=d=>{(d==="monthly"||d==="quarterly"||d==="annually")&&o({...i,frequency:d})};return c.jsx("div",{className:"modal-overlay",children:c.jsxs("div",{className:"inventory-modal-content",children:[c.jsx("h2",{className:"inventory-modal-title",children:n?"Edit Item":`Add New ${r==="regular"?"Regular":"In-kind"} Item`}),c.jsxs("form",{className:"inventory-form",onSubmit:l,children:[c.jsx("input",{type:"text",placeholder:"Donator Name",value:i.donatorName,onChange:d=>o({...i,donatorName:d.target.value}),required:!0,className:"inventory-form-input"}),c.jsx("input",{type:"email",placeholder:"Email",value:i.email,onChange:d=>o({...i,email:d.target.value}),required:!0,className:"inventory-form-input"}),c.jsx("input",{type:"text",placeholder:"Contact Number",value:i.contactNumber,onChange:d=>o({...i,contactNumber:d.target.value}),required:!0,className:"inventory-form-input"}),c.jsx("input",{type:"text",placeholder:"Item",value:i.item,onChange:d=>o({...i,item:d.target.value}),required:!0,className:"inventory-form-input"}),c.jsxs("select",{value:i.category,onChange:d=>o({...i,category:d.target.value}),required:!0,className:"inventory-form-select",children:[c.jsx("option",{value:"",children:"Select a category"}),c.jsx("option",{value:"Food & Nutrition",children:"Food & Nutrition"}),c.jsx("option",{value:"Clothing & Footwear",children:"Clothing & Footwear"}),c.jsx("option",{value:"Medical Supplies & Medicines",children:"Medical Supplies & Medicines"}),c.jsx("option",{value:"School Supplies & Educational Materials",children:"School Supplies & Educational Materials"}),c.jsx("option",{value:"Disaster Relief Essentials",children:"Disaster Relief Essentials"}),c.jsx("option",{value:"Household & Hygiene Products",children:"Household & Hygiene Products"}),c.jsx("option",{value:"Technology & Learning Tools",children:"Technology & Learning Tools"}),c.jsx("option",{value:"Others",children:"Others"})]}),c.jsx("input",{type:"number",placeholder:"Quantity",value:i.quantity,onChange:d=>o({...i,quantity:parseInt(d.target.value)}),required:!0,min:"1",className:"inventory-form-input"}),r==="regular"&&c.jsxs("select",{value:i.frequency,onChange:d=>u(d.target.value),required:!0,className:"inventory-form-select",children:[c.jsx("option",{value:"monthly",children:"Monthly"}),c.jsx("option",{value:"quarterly",children:"Quarterly"}),c.jsx("option",{value:"annually",children:"Annually"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Unit:"}),c.jsx("select",{value:i.unit,onChange:d=>o({...i,unit:d.target.value}),required:!0,className:"inventory-form-select",children:lrt.map(d=>c.jsx("option",{value:d.value,children:d.label},d.value))})]}),xY.includes(i.category)&&c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Expiration Date:"}),c.jsx("input",{type:"date",value:i.expirationDate,onChange:d=>o({...i,expirationDate:d.target.value}),min:new Date().toISOString().split("T")[0],required:!0,className:"inventory-form-input"}),c.jsx("small",{children:"Required for food and medical items"})]}),c.jsxs("div",{className:"inventory-modal-buttons",children:[c.jsx("button",{type:"button",onClick:t,className:"inventory-modal-cancel",children:"Cancel"}),c.jsx("button",{type:"submit",className:"inventory-modal-submit",children:n?"Update":"Add"})]})]})]})})},urt=({isOpen:e,onClose:t,item:n,onSubmit:r})=>{const[a,i]=E.useState(1),[o,s]=E.useState([]),[l,u]=E.useState([]),[d,f]=E.useState(""),[h,p]=E.useState(!0),[m,g]=E.useState("all");E.useEffect(()=>{(async()=>{if(e)try{const N=localStorage.getItem("token");console.log("Fetching users...");const P=await Le.get("/admin/users",{headers:{Authorization:`Bearer ${N}`,"Content-Type":"application/json"}});console.log("Received users:",P.data),s(P.data)}catch(N){console.error("Error fetching users:",N)}finally{p(!1)}})()},[e]);const y=k=>{u(N=>N.includes(k)?N.filter(P=>P!==k):[...N,k])},x=()=>{l.length===o.length?u([]):u(o.map(k=>k.id))},b=k=>k.filter(N=>{const P=N.name.toLowerCase().includes(d.toLowerCase()),T=m==="all"||N.role===m;return P&&T}),w=()=>{const k=l.length*a,N=k<=n.quantity;return{isValid:N,message:N?"":`Not enough items. Need ${k} but only have ${n.quantity} available.`}},_=()=>{if(a<=0||!Number.isInteger(a))return"Quantity must be a positive integer";if(l.length===0)return"Please select at least one recipient";const k=l.length*a;return k>n.quantity?`Not enough items. Need ${k} but only have ${n.quantity} available.`:null},S=()=>{const k=_();if(k){alert(k);return}l.length>0?w().isValid?l.forEach(N=>{r(n.id,a,N,"scholar")}):alert(w().message):alert("Please select at least one user")};return e?c.jsx("div",{className:"modal-overlay",children:c.jsxs("div",{className:"modal-content-inventory distribute-modal",children:[c.jsxs("div",{className:"distribute-modal-grid",children:[c.jsxs("div",{className:"distribution-details",children:[c.jsx("h2",{children:"Distribute Item"}),c.jsxs("div",{className:"item-details",children:[c.jsxs("p",{children:[c.jsx("strong",{children:"Item:"})," ",n.item]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Available Quantity:"})," ",n.quantity]})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Quantity to Distribute:"}),c.jsx("input",{type:"number",min:"1",max:n.quantity,value:a,onChange:k=>i(parseInt(k.target.value)),required:!0})]})]}),c.jsxs("div",{className:"scholar-selection",children:[c.jsxs("div",{className:"scholar-search-header",children:[c.jsx("h3",{children:"Select User(s)"}),c.jsxs("div",{className:"scholar-controls",children:[c.jsx("button",{type:"button",onClick:x,className:"select-all-button",children:l.length===o.length?"Unselect All":"Select All"}),c.jsxs("div",{className:"search-filter-container",children:[c.jsx("input",{type:"text",placeholder:"Search users...",value:d,onChange:k=>f(k.target.value),className:"scholar-search"}),c.jsxs("select",{value:m,onChange:k=>g(k.target.value),className:"user-type-filter",children:[c.jsx("option",{value:"all",children:"All Users"}),c.jsx("option",{value:"scholar",children:"Scholars"}),c.jsx("option",{value:"volunteer",children:"Volunteers"}),c.jsx("option",{value:"sponsor",children:"Sponsors"})]})]})]})]}),c.jsx("div",{className:"scholars-grid",children:h?c.jsx("div",{className:"loading",children:"Loading users..."}):o.length===0?c.jsx("div",{className:"no-scholars",children:"No users found"}):b(o).map(k=>c.jsxs("div",{className:`scholar-card ${l.includes(k.id)?"selected":""}`,onClick:()=>y(k.id),children:[c.jsxs("div",{className:"styled-checkbox-inventory",children:[c.jsx("input",{type:"checkbox",checked:l.includes(k.id),onChange:()=>y(k.id),onClick:N=>N.stopPropagation()}),c.jsx("span",{className:"checkmark"})]}),c.jsxs("div",{className:"scholar-info",children:[c.jsx("div",{className:"scholar-name",children:k.name}),c.jsx("div",{className:"scholar-email",children:k.email}),c.jsx("div",{className:"user-role",children:k.role})]})]},k.id))})]})]}),c.jsxs("div",{className:"modal-footer",children:[c.jsx("div",{className:"selected-count",children:l.length>0?c.jsxs(c.Fragment,{children:[c.jsxs("div",{children:["Selected: ",l.length," user(s)"]}),c.jsxs("div",{className:"quantity-summary",children:["Total needed: ",l.length*a," items",!w().isValid&&c.jsx("div",{className:"quantity-error",children:w().message})]})]}):c.jsx("div",{children:"Selected: 0 user(s)"})}),c.jsxs("div",{className:"modal-actions",children:[c.jsx("button",{type:"button",onClick:t,className:"cancel-button",children:"Cancel"}),c.jsx("button",{type:"button",onClick:S,disabled:l.length===0||a<=0||!w().isValid,className:"distribute-button",children:"Distribute"})]})]})]})}):null},cS=e=>e?new Date(e).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0}):"N/A",drt=()=>{const[e,t]=E.useState([]),[n,r]=E.useState([]),[a,i]=E.useState(!1),[o,s]=E.useState(),[l,u]=E.useState(null),[d,f]=E.useState("regular"),[h,p]=E.useState("pending"),[m,g]=E.useState([]),[y,x]=E.useState(1),[b,w]=E.useState(1),[_,S]=E.useState(1),[k,N]=E.useState(10),[P,T]=E.useState(null),[j,D]=E.useState([]),[M,R]=E.useState({key:"",direction:null}),[W,B]=E.useState(""),V=Re=>{let Ge="asc";M.key===Re&&(M.direction==="asc"?Ge="desc":M.direction==="desc"&&(Ge=null)),R({key:Re,direction:Ge})},q=Re=>!M.direction||!M.key?Re:[...Re].sort((Ge,at)=>{const Ke=String(Ge[M.key]||""),Qe=String(at[M.key]||"");return M.direction==="asc"?Ke.localeCompare(Qe):Qe.localeCompare(Ke)}),I=Re=>M.key!==Re?"sort":M.direction==="asc"?"arrow_upward":M.direction==="desc"?"arrow_downward":"sort",O=(Re,Ge)=>{switch(Ge){case"inventory":x(Re);break;case"queue":w(Re);break;case"distribution":S(Re);break}},H=Re=>{N(Number(Re.target.value)),x(1),w(1),S(1)},ne=(Re,Ge,at)=>{const Ke=Math.ceil(Re/k),Qe=[];if(Ke<=5)for(let ft=1;ft<=Ke;ft++)Qe.push(ft);else if(Ge<=3){for(let ft=1;ft<=4;ft++)Qe.push(ft);Qe.push("..."),Qe.push(Ke)}else if(Ge>=Ke-2){Qe.push(1),Qe.push("...");for(let ft=Ke-3;ft<=Ke;ft++)Qe.push(ft)}else Qe.push(1),Qe.push("..."),Qe.push(Ge-1),Qe.push(Ge),Qe.push(Ge+1),Qe.push("..."),Qe.push(Ke);return Qe.map((ft,pt)=>c.jsx("button",{className:`page-number ${Ge===ft?"active":""} ${ft==="..."?"dots":""}`,onClick:()=>typeof ft=="number"?O(ft,at):null,disabled:ft==="...",children:ft},pt))},z=()=>({headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}}),J=async()=>{try{const[Re,Ge,at]=await Promise.all([Le.get("/inventory/regular"),Le.get("/inventory/inkind"),Le.get("/inventory/distributions")]);t(Re.data),r(Ge.data),g(at.data)}catch(Re){console.error("Error fetching data:",Re)}},ee=async()=>{try{const Re=await Le.get("/inventory/regular");t(Re.data)}catch(Re){console.error("Error fetching regular items:",Re)}},G=async()=>{try{const Re=await Le.get("/inventory/inkind");r(Re.data)}catch(Re){console.error("Error fetching in-kind items:",Re)}},Z=async()=>{try{const Re=await Le.get("/inventory/distributions");g(Re.data)}catch(Re){console.error("Error fetching distributions:",Re)}},se=E.useCallback(()=>J(),[]);E.useEffect(()=>{const Re=async()=>{await Promise.all([ee(),G(),Z()])};Re();const Ge=setInterval(Re,3e4);return()=>clearInterval(Ge)},[]),E.useEffect(()=>{(e.length>0||n.length>0)&&We()},[e.length,n.length]);const ae=async Re=>{try{const Ge=Re.type==="regular"?"regular":"inkind",at=await Le.post(`/inventory/${Ge}`,Re);Re.type==="regular"?t([...e,at.data]):r([...n,at.data])}catch(Ge){console.error("Error adding item:",Ge)}},Y=async Re=>{if(o)try{const Ge=o.type==="regular"?"regular":"inkind",at=await Le.put(`/inventory/${Ge}/${o.id}`,{donatorName:Re.donatorName,email:Re.email,contactNumber:Re.contactNumber,item:Re.item,quantity:Re.quantity,category:Re.category,unit:Re.unit,expirationDate:Re.expirationDate,...Ge==="regular"&&{frequency:Re.frequency}});Ge==="regular"?t(e.map(Ke=>Ke.id===o.id?at.data:Ke)):r(n.map(Ke=>Ke.id===o.id?at.data:Ke)),i(!1),s(void 0),se()}catch(Ge){console.error("Error updating item:",Ge),alert("Failed to update item. Please try again.")}},X=async(Re,Ge)=>{if(window.confirm("Are you sure you want to delete this item?"))try{const at=Ge==="regular"?"regular":"inkind";await Le.delete(`/inventory/${at}/${Re}`),Ge==="regular"?t(e.filter(Ke=>Ke.id!==Re)):r(n.filter(Ke=>Ke.id!==Re))}catch(at){console.error("Error deleting item:",at),alert("Failed to delete item. Please try again.")}},K=async(Re,Ge,at,Ke)=>{try{const Qe=(l==null?void 0:l.type)==="regular"?"regular":"inkind",yt=await Le.get(`/scholars/${at}`);if(!yt.data)throw new Error("Scholar information not found");console.log("Scholar info for notification:",yt.data);const ft=await Le.post(`/inventory/${Qe}/${Re}/distribute`,{quantity:Ge,recipientId:at,recipientType:Ke});if(ft.data.success){console.log("Distribution successful, sending notification...");try{const pt={email:yt.data.email,scholarName:yt.data.name,items:[{itemId:Re,itemName:l==null?void 0:l.item,quantity:Ge,unit:l==null?void 0:l.unit,category:l==null?void 0:l.category,type:l==null?void 0:l.type,recipientId:at}],distributionId:ft.data.distributionId};console.log("Sending notification with data:",pt);const Lt=await Le.post("/notifications/distribution-notification",pt);console.log("Notification response:",Lt.data),Lt.data.emailSent?console.log("Email notification sent successfully"):(console.warn("Email notification failed:",Lt.data.emailError),alert("Distribution successful but there might be an issue with the email notification."))}catch(pt){console.error("Error sending notification:",pt),alert("Distribution successful but notification may not have been sent.")}}await J(),u(null),alert("Items distributed successfully! Scholar has been notified.")}catch(Qe){console.error("Error in distribution process:",Qe),alert("Failed to distribute item. Please try again.")}},F=async(Re,Ge)=>{try{const at=Ge==="regular"?"regular":"inkind",Qe=(Ge==="regular"?e:n).find(ft=>ft.id===Re),yt=await Le.post(`/inventory/${at}/${Re}/verify`,{expirationDate:(Qe==null?void 0:Qe.expirationDate)||new Date().toISOString().split("T")[0]},z());Qe&&await Le.post("/notifications/donation-verification",{email:Qe.email,donorName:Qe.donatorName,items:[Qe],verificationDate:new Date}),Ge==="regular"?t(e.map(ft=>ft.id===Re?yt.data:ft)):r(n.map(ft=>ft.id===Re?yt.data:ft)),alert("Item verified successfully!")}catch(at){console.error("Error verifying item:",at),alert("Failed to verify item")}},re=async(Re,Ge)=>{const at=window.prompt("Please enter reason for rejection:");if(at)try{const Ke=Ge==="regular"?"regular":"inkind",yt=(Ge==="regular"?e:n).find(pt=>pt.id===Re),ft=await Le.post(`/inventory/${Ke}/${Re}/reject`,{reason:at},z());yt&&await Le.post("/notifications/donation-rejection",{email:yt.email,donorName:yt.donatorName,items:[yt],rejectionReason:at}),Ge==="regular"?t(e.map(pt=>pt.id===Re?ft.data:pt)):r(n.map(pt=>pt.id===Re?ft.data:pt)),alert("Item rejected successfully")}catch(Ke){console.error("Error rejecting item:",Ke),alert("Failed to reject item")}},Q=()=>{try{const Ge=[...e,...n].filter(Qe=>Qe.verificationStatus==="verified").map(Qe=>({"Donator Name":Qe.donatorName,Email:Qe.email,Contact:Qe.contactNumber,Item:Qe.item,Category:Qe.category,Quantity:Qe.quantity,Type:Qe.type,Frequency:Qe.type==="regular"?Qe.frequency:"N/A","Last Updated":Qe.lastUpdated})),at=Hn.json_to_sheet(Ge),Ke=Hn.book_new();Hn.book_append_sheet(Ke,at,"Verified Items"),lu(Ke,`verified_items_${new Date().toISOString().split("T")[0]}.xlsx`)}catch(Re){console.error("Export error:",Re)}},oe=()=>{try{const Ge=[...e,...n].filter(Qe=>Qe.verificationStatus==="pending").map(Qe=>({Type:Qe.type,"Donator Name":Qe.donatorName,Item:Qe.item,Category:Qe.category,Quantity:Qe.quantity,Status:Qe.verificationStatus})),at=Hn.json_to_sheet(Ge),Ke=Hn.book_new();Hn.book_append_sheet(Ke,at,"Verification Queue"),lu(Ke,`verification_queue_${new Date().toISOString().split("T")[0]}.xlsx`)}catch(Re){console.error("Export error:",Re)}},me=()=>{try{const Re=m.map(Ke=>({Date:new Date(Ke.distributedAt).toLocaleDateString(),Recipient:Ke.recipientName,"Recipient Email":Ke.recipientEmail,"Recipient Type":Ke.recipientType,Item:Ke.itemName,Quantity:Ke.quantity,"Item Type":Ke.itemType,Status:Ke.status||"Pending"})),Ge=Hn.json_to_sheet(Re),at=Hn.book_new();Hn.book_append_sheet(at,Ge,"Distribution History"),lu(at,`distribution_history_${new Date().toISOString().split("T")[0]}.xlsx`)}catch(Re){console.error("Export error:",Re)}},be=Re=>{let Ge=(Re==="regular"?e:n).filter(ft=>ft.verificationStatus==="verified");const at=Re;Ge=q(Ge);const Ke=(y-1)*k,Qe=Ke+k,yt=Ge.slice(Ke,Qe);return c.jsxs("div",{className:"inventory-section",children:[c.jsxs("div",{className:"table-header",children:[c.jsx("div",{className:"header-left",children:c.jsx("h2",{className:"table-title",children:Re==="regular"?"Verified Regular Donations":"Verified In-kind Donations"})}),c.jsxs("div",{className:"header-actions",children:[c.jsx("button",{className:"export-btn",onClick:Q,children:"Export"}),c.jsxs("button",{className:"add-button",onClick:()=>{f(at),s(void 0),i(!0)},children:["Add ",at==="regular"?"Regular":"In-kind"," Item"]})]})]}),c.jsx("div",{className:"inventory-table",children:c.jsxs("table",{children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsxs("th",{onClick:()=>V("donatorName"),className:"sortable-header",children:["Donator Name ",c.jsx("span",{className:"material-icons sort-icon",children:I("donatorName")})]}),c.jsxs("th",{onClick:()=>V("email"),className:"sortable-header",children:["Email ",c.jsx("span",{className:"material-icons sort-icon",children:I("email")})]}),c.jsxs("th",{onClick:()=>V("contactNumber"),className:"sortable-header",children:["Contact ",c.jsx("span",{className:"material-icons sort-icon",children:I("contactNumber")})]}),c.jsxs("th",{onClick:()=>V("item"),className:"sortable-header",children:["Item ",c.jsx("span",{className:"material-icons sort-icon",children:I("item")})]}),c.jsxs("th",{onClick:()=>V("category"),className:"sortable-header",children:["Category ",c.jsx("span",{className:"material-icons sort-icon",children:I("category")})]}),c.jsxs("th",{onClick:()=>V("quantity"),className:"sortable-header",children:["Quantity ",c.jsx("span",{className:"material-icons sort-icon",children:I("quantity")})]}),c.jsxs("th",{onClick:()=>V("unit"),className:"sortable-header",children:["Unit ",c.jsx("span",{className:"material-icons sort-icon",children:I("unit")})]}),c.jsxs("th",{onClick:()=>V("expirationDate"),className:"sortable-header",children:["Expiration Date ",c.jsx("span",{className:"material-icons sort-icon",children:I("expirationDate")})]}),Re==="regular"&&c.jsxs("th",{onClick:()=>V("frequency"),className:"sortable-header",children:["Frequency ",c.jsx("span",{className:"material-icons sort-icon",children:I("frequency")})]}),c.jsxs("th",{onClick:()=>V("lastUpdated"),className:"sortable-header",children:["Last Updated ",c.jsx("span",{className:"material-icons sort-icon",children:I("lastUpdated")})]}),c.jsx("th",{children:"Actions"})]})}),c.jsx("tbody",{children:yt.map(ft=>c.jsxs("tr",{children:[c.jsx("td",{children:ft.donatorName}),c.jsx("td",{children:ft.email}),c.jsx("td",{children:ft.contactNumber}),c.jsx("td",{children:ft.item}),c.jsx("td",{children:ft.category}),c.jsx("td",{children:ft.quantity}),c.jsx("td",{children:ft.unit}),c.jsx("td",{children:ft.expirationDate?new Date(ft.expirationDate).toLocaleDateString():"N/A"}),Re==="regular"&&c.jsx("td",{children:ft.frequency}),c.jsx("td",{children:ft.lastUpdated?cS(ft.lastUpdated):"N/A"}),c.jsx("td",{children:c.jsxs("div",{className:"action-buttons",children:[c.jsx("button",{className:"viewsss-button",onClick:()=>we(ft),children:"View"}),c.jsx("button",{className:"inventory-action-edit",onClick:()=>{s(ft),i(!0)},children:"Edit"}),c.jsx("button",{className:"inventory-action-delete",onClick:()=>X(ft.id,at),children:"Delete"}),c.jsx("button",{className:"distribute-button",onClick:()=>{u(ft)},disabled:ft.quantity===0,children:"Distribute"}),ft.verificationStatus==="verified"&&ft.email&&c.jsx("button",{className:"certificate-button",onClick:()=>mn(ft),disabled:dt.has(`${ft.type}-${ft.id}`),title:ft.certificate_sent?"Certificate already sent":"Send donation certificate",children:dt.has(`${ft.type}-${ft.id}`)?"Sending...":ft.certificate_sent?"Resend":"Certificate"})]})})]},ft.id))})]})}),c.jsxs("footer",{className:"pagination",children:[c.jsxs("div",{className:"pagination-controls",children:[c.jsx("button",{onClick:()=>O(y-1,"inventory"),disabled:y===1,className:"page-nav",children:"<"}),ne(Ge.length,y,"inventory"),c.jsx("button",{onClick:()=>O(y+1,"inventory"),disabled:y===Math.ceil(Ge.length/k),className:"page-nav",children:">"})]}),c.jsx("div",{className:"rows-per-page",children:c.jsxs("select",{value:k,onChange:H,children:[c.jsx("option",{value:10,children:"10 rows"}),c.jsx("option",{value:25,children:"25 rows"}),c.jsx("option",{value:50,children:"50 rows"})]})})]})]})},ye=()=>{let Re=[...e,...n].filter(Qe=>Qe.verificationStatus==="pending");Re=q(Re);const Ge=(b-1)*k,at=Ge+k,Ke=Re.slice(Ge,at);return c.jsxs("div",{className:"inventory-section",children:[c.jsxs("div",{className:"table-header",children:[c.jsx("div",{className:"header-left",children:c.jsx("h2",{className:"table-title",children:"Verification Queue"})}),c.jsx("div",{className:"header-actions",children:c.jsx("button",{className:"export-btn",onClick:oe,children:"Export"})})]}),c.jsx("div",{className:"inventory-table",children:c.jsxs("table",{children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsxs("th",{onClick:()=>V("type"),className:"sortable-header",children:["Type ",c.jsx("span",{className:"material-icons sort-icon",children:I("type")})]}),c.jsxs("th",{onClick:()=>V("donatorName"),className:"sortable-header",children:["Donator Name ",c.jsx("span",{className:"material-icons sort-icon",children:I("donatorName")})]}),c.jsxs("th",{onClick:()=>V("item"),className:"sortable-header",children:["Item ",c.jsx("span",{className:"material-icons sort-icon",children:I("item")})]}),c.jsxs("th",{onClick:()=>V("category"),className:"sortable-header",children:["Category ",c.jsx("span",{className:"material-icons sort-icon",children:I("category")})]}),c.jsxs("th",{onClick:()=>V("quantity"),className:"sortable-header",children:["Quantity ",c.jsx("span",{className:"material-icons sort-icon",children:I("quantity")})]}),c.jsx("th",{children:"Actions"})]})}),c.jsx("tbody",{children:Ke.map(Qe=>c.jsxs("tr",{children:[c.jsx("td",{children:Qe.type}),c.jsx("td",{children:Qe.donatorName}),c.jsx("td",{children:Qe.item}),c.jsx("td",{children:Qe.category}),c.jsx("td",{children:Qe.quantity}),c.jsx("td",{children:c.jsxs("div",{className:"action-buttons",children:[c.jsx("button",{className:"viewsss-button",onClick:()=>we(Qe),children:"View"}),c.jsx("button",{className:"verify-button",onClick:()=>F(Qe.id,Qe.type),children:"Verify"}),c.jsx("button",{className:"reject-button",onClick:()=>re(Qe.id,Qe.type),children:"Reject"})]})})]},`${Qe.type}-${Qe.id}`))})]})}),c.jsxs("footer",{className:"pagination",children:[c.jsxs("div",{className:"pagination-controls",children:[c.jsx("button",{onClick:()=>O(b-1,"queue"),disabled:b===1,className:"page-nav",children:"<"}),ne(Re.length,b,"queue"),c.jsx("button",{onClick:()=>O(b+1,"queue"),disabled:b===Math.ceil(Re.length/k),className:"page-nav",children:">"})]}),c.jsx("div",{className:"rows-per-page",children:c.jsxs("select",{value:k,onChange:H,children:[c.jsx("option",{value:10,children:"10 rows"}),c.jsx("option",{value:25,children:"25 rows"}),c.jsx("option",{value:50,children:"50 rows"})]})})]})]})},de=()=>{const Re=[...m].filter(yt=>{var ft,pt,Lt,ln;return(((ft=yt.recipientName)==null?void 0:ft.toLowerCase())||"").includes(W.toLowerCase())||(((pt=yt.recipientEmail)==null?void 0:pt.toLowerCase())||"").includes(W.toLowerCase())||(((Lt=yt.itemName)==null?void 0:Lt.toLowerCase())||"").includes(W.toLowerCase())||(((ln=yt.recipientType)==null?void 0:ln.toLowerCase())||"").includes(W.toLowerCase())});M.direction&&M.key&&Re.sort((yt,ft)=>{let pt=String(yt[M.key]||""),Lt=String(ft[M.key]||"");return M.key==="distributedAt"&&(pt=new Date(yt.distributedAt).getTime().toString(),Lt=new Date(ft.distributedAt).getTime().toString()),M.direction==="asc"?pt.localeCompare(Lt):Lt.localeCompare(pt)});const Ge=(_-1)*k,at=Ge+k,Ke=Re.slice(Ge,at),Qe=yt=>!yt||yt==="pending"?c.jsx("span",{className:"status-badge pending",children:"Pending"}):yt==="received"?c.jsx("span",{className:"status-badge received",children:"Received "}):yt==="not_received"?c.jsx("span",{className:"status-badge not-received",children:"Not Received "}):c.jsx("span",{className:"status-badge",children:yt});return c.jsxs("div",{className:"inventory-section",children:[c.jsxs("div",{className:"table-header",children:[c.jsx("div",{className:"header-left",children:c.jsx("h2",{className:"table-title",children:"Distribution History"})}),c.jsxs("div",{className:"header-actions",children:[c.jsx("input",{type:"text",placeholder:"Search distributions...",value:W,onChange:yt=>B(yt.target.value),className:"search-input"}),c.jsx("button",{className:"export-btn",onClick:me,children:"Export"})]})]}),c.jsx("div",{className:"inventory-table",children:c.jsxs("table",{children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsxs("th",{onClick:()=>V("distributedAt"),className:"sortable-header",children:["Date ",c.jsx("span",{className:"material-icons sort-icon",children:I("distributedAt")})]}),c.jsxs("th",{onClick:()=>V("recipientName"),className:"sortable-header",children:["Recipient ",c.jsx("span",{className:"material-icons sort-icon",children:I("recipientName")})]}),c.jsxs("th",{onClick:()=>V("recipientEmail"),className:"sortable-header",children:["Recipient Email ",c.jsx("span",{className:"material-icons sort-icon",children:I("recipientEmail")})]}),c.jsxs("th",{onClick:()=>V("recipientType"),className:"sortable-header",children:["Recipient Type ",c.jsx("span",{className:"material-icons sort-icon",children:I("recipientType")})]}),c.jsxs("th",{onClick:()=>V("itemName"),className:"sortable-header",children:["Item ",c.jsx("span",{className:"material-icons sort-icon",children:I("itemName")})]}),c.jsxs("th",{onClick:()=>V("quantity"),className:"sortable-header",children:["Quantity ",c.jsx("span",{className:"material-icons sort-icon",children:I("quantity")})]}),c.jsxs("th",{onClick:()=>V("itemType"),className:"sortable-header",children:["Item Type ",c.jsx("span",{className:"material-icons sort-icon",children:I("itemType")})]}),c.jsxs("th",{onClick:()=>V("status"),className:"sortable-header",children:["Status ",c.jsx("span",{className:"material-icons sort-icon",children:I("status")})]})]})}),c.jsx("tbody",{children:Ke.map(yt=>c.jsxs("tr",{children:[c.jsx("td",{children:new Date(yt.distributedAt).toLocaleDateString()}),c.jsx("td",{children:yt.recipientName}),c.jsx("td",{children:yt.recipientEmail}),c.jsx("td",{children:yt.recipientType}),c.jsx("td",{children:yt.itemName}),c.jsx("td",{children:yt.quantity}),c.jsx("td",{children:yt.itemType}),c.jsx("td",{children:Qe(yt.status)})]},yt.id))})]})}),c.jsxs("footer",{className:"pagination",children:[c.jsxs("div",{className:"pagination-controls",children:[c.jsx("button",{onClick:()=>O(_-1,"distribution"),disabled:_===1,className:"page-nav",children:"<"}),ne(m.length,_,"distribution"),c.jsx("button",{onClick:()=>O(_+1,"distribution"),disabled:_===Math.ceil(m.length/k),className:"page-nav",children:">"})]}),c.jsx("div",{className:"rows-per-page",children:c.jsxs("select",{value:k,onChange:H,children:[c.jsx("option",{value:10,children:"10 rows"}),c.jsx("option",{value:25,children:"25 rows"}),c.jsx("option",{value:50,children:"50 rows"})]})})]})]})},we=Re=>{T(Re)},We=()=>{const Re=new Date;new Date().setDate(Re.getDate()+30);const at=[...e,...n].filter(Ke=>Ke.verificationStatus==="verified"&&Ke.expirationDate).map(Ke=>({...Ke,daysUntilExpiration:Math.ceil((new Date(Ke.expirationDate||"").getTime()-Re.getTime())/(1e3*60*60*24)),isExpired:new Date(Ke.expirationDate||"")<=Re})).sort((Ke,Qe)=>Ke.daysUntilExpiration-Qe.daysUntilExpiration);D(at)};E.useEffect(()=>{se(),We()},[e,n]);const Me=()=>j.length===0?c.jsxs("div",{className:"inventory-section",children:[c.jsx("div",{className:"table-header",children:c.jsx("div",{className:"header-left",children:c.jsx("h2",{className:"table-title",children:"Items Nearing Expiration or Expired"})})}),c.jsx("div",{className:"inventory-table",children:c.jsx("p",{style:{padding:"20px",textAlign:"center"},children:"No expiring or expired items found."})})]}):c.jsxs("div",{className:"inventory-section expiring-items-section",children:[c.jsxs("div",{className:"table-header",children:[c.jsx("div",{className:"header-left",children:c.jsx("h2",{className:"table-title",children:"Items Nearing Expiration or Expired"})}),c.jsx("div",{className:"header-actions",children:c.jsx("button",{className:"export-btn",onClick:()=>{try{const Re=j.map(Ke=>({"Item Name":Ke.item,Category:Ke.category,Quantity:Ke.quantity,Unit:Ke.unit,Type:Ke.type,"Expiration Date":new Date(Ke.expirationDate||"").toLocaleDateString(),"Days Until Expiration":Ke.isExpired?"EXPIRED":`${Ke.daysUntilExpiration} days`})),Ge=Hn.json_to_sheet(Re),at=Hn.book_new();Hn.book_append_sheet(at,Ge,"Expiring Items"),lu(at,`expiring_items_${new Date().toISOString().split("T")[0]}.xlsx`)}catch(Re){console.error("Export error:",Re)}},children:"Export"})})]}),c.jsx("div",{className:"inventory-table",children:c.jsxs("table",{children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsxs("th",{onClick:()=>V("item"),className:"sortable-header",children:["Item Name ",c.jsx("span",{className:"material-icons sort-icon",children:I("item")})]}),c.jsxs("th",{onClick:()=>V("category"),className:"sortable-header",children:["Category ",c.jsx("span",{className:"material-icons sort-icon",children:I("category")})]}),c.jsxs("th",{onClick:()=>V("quantity"),className:"sortable-header",children:["Quantity ",c.jsx("span",{className:"material-icons sort-icon",children:I("quantity")})]}),c.jsxs("th",{onClick:()=>V("unit"),className:"sortable-header",children:["Unit ",c.jsx("span",{className:"material-icons sort-icon",children:I("unit")})]}),c.jsxs("th",{onClick:()=>V("type"),className:"sortable-header",children:["Type ",c.jsx("span",{className:"material-icons sort-icon",children:I("type")})]}),c.jsxs("th",{onClick:()=>V("expirationDate"),className:"sortable-header",children:["Expiration Date ",c.jsx("span",{className:"material-icons sort-icon",children:I("expirationDate")})]}),c.jsx("th",{children:"Status"}),c.jsx("th",{children:"Actions"})]})}),c.jsx("tbody",{children:j.map(Re=>c.jsxs("tr",{className:Re.isExpired?"expired-row":Re.daysUntilExpiration<=7?"urgent-expiration":"",children:[c.jsx("td",{children:Re.item}),c.jsx("td",{children:Re.category}),c.jsx("td",{children:Re.quantity}),c.jsx("td",{children:Re.unit}),c.jsx("td",{children:Re.type}),c.jsx("td",{children:new Date(Re.expirationDate||"").toLocaleDateString()}),c.jsx("td",{children:Re.isExpired?c.jsx("span",{className:"expiration-badge expired",children:"Expired"}):c.jsxs("span",{className:`expiration-badge ${Re.daysUntilExpiration<=7?"urgent":Re.daysUntilExpiration<=14?"warning":"notice"}`,children:[Re.daysUntilExpiration," days left"]})}),c.jsx("td",{children:Re.isExpired?c.jsx("button",{className:"delete-button",onClick:()=>X(Re.id,Re.type),children:"Delete"}):c.jsxs("div",{className:"action-buttons",children:[c.jsx("button",{className:"edit-button",onClick:()=>{s(Re),i(!0)},children:"Edit"}),c.jsx("button",{className:"delete-button",onClick:()=>X(Re.id,Re.type),children:"Delete"}),c.jsx("button",{className:"distribute-button",onClick:()=>u(Re),children:"Distribute"})]})})]},`${Re.type}-${Re.id}`))})]})})]}),He=Dl().state;E.useEffect(()=>{if(He&&He.selectedItemId&&He.openDistributeDialog)if(console.log("Navigate state received:",He),He.fromMap){const Ge=(at=>{console.log("Looking for item with ID:",at);const Ke=at.split("-");Ke[0],console.log("Available regular items:",e),console.log("Available in-kind items:",n);let Qe;const yt=[...e,...n];if(He.category&&He.category!=="all"){const ft=yt.filter(pt=>{var Lt;return pt.category.toLowerCase()===((Lt=He.category)==null?void 0:Lt.toLowerCase())});ft.length>0&&(console.log("Found items matching category:",He.category),Qe=ft[0])}if(!Qe)for(const ft of yt){const pt=ft.item.toLowerCase().replace(/\s+/g,"-");for(const Lt of Ke)if(pt.includes(Lt)||Lt.includes(pt)){console.log("Found matching item by name part:",ft),Qe=ft;break}if(Qe)break}return Qe||(Qe=yt.find(ft=>ft.verificationStatus==="verified"),console.log("Using first verified item as fallback:",Qe)),Qe})(He.selectedItemId);Ge?(console.log("Setting distribute item:",Ge),u(Ge),p(Ge.type==="regular"?"regular":"in-kind")):console.log("No matching item found for ID:",He.selectedItemId)}else try{const Re=parseInt(He.selectedItemId),Ke=((He.itemType||"regular")==="regular"?e:n).find(Qe=>Qe.id===Re);Ke&&(console.log("Setting distribute item by direct ID:",Ke),u(Ke))}catch(Re){console.error("Error parsing item ID:",Re)}},[He,e.length,n.length]),E.useEffect(()=>{se()},[]),E.useEffect(()=>{const Re=localStorage.getItem("distributeItemData");if(Re)try{const Ge=JSON.parse(Re);console.log("Found distribute data in localStorage:",Ge);const at=new Date().getTime();if(Ge.timestamp&&at-Ge.timestamp<1e4){localStorage.removeItem("distributeItemData");const Qe=(()=>{if(Ge.itemId){const yt=parseInt(Ge.itemId);if(!isNaN(yt)){const ft=e.find(Lt=>Lt.id===yt);if(ft)return ft;const pt=n.find(Lt=>Lt.id===yt);if(pt)return pt}}if(Ge.itemName){const yt=[...e,...n],ft=yt.find(Lt=>Lt.item.toLowerCase()===Ge.itemName.toLowerCase());if(ft)return ft;if(Ge.category&&Ge.category!=="all"){const Lt=yt.filter(ln=>ln.category.toLowerCase().includes(Ge.category.toLowerCase()));if(Lt.length>0){const ln=Lt.find(rr=>rr.item.toLowerCase().includes(Ge.itemName.toLowerCase()));return ln||Lt[0]}}const pt=yt.find(Lt=>Lt.item.toLowerCase().includes(Ge.itemName.toLowerCase())||Ge.itemName.toLowerCase().includes(Lt.item.toLowerCase()));if(pt)return pt}return[...e,...n].find(yt=>yt.verificationStatus==="verified")})();Qe&&(console.log("Found matching item:",Qe),u(Qe),p(Qe.type==="regular"?"regular":"in-kind"))}else console.log("Distribute data is too old, ignoring"),localStorage.removeItem("distributeItemData")}catch(Ge){console.error("Error parsing distribute data from localStorage:",Ge),localStorage.removeItem("distributeItemData")}},[e.length,n.length]);const[dt,qt]=E.useState(new Set),[Zt,Wt]=E.useState(null),mn=async Re=>{if(!Re||!Re.id)return;if(Re.verificationStatus!=="verified"){alert("Only verified donations can receive certificates");return}if(!Re.email){alert("Cannot send certificate: Donor email is missing");return}const Ge=Re.type,at=Re.id,Ke=`${Ge}-${at}`;if(window.confirm(`Send donation certificate to ${Re.donatorName} (${Re.email})?`))try{qt(yt=>new Set(yt).add(Ke));const Qe=await Le.post(`/inventory/${Ge}/${at}/send-certificate`);if(Qe.data.success)Wt({text:"Certificate sent successfully!",type:"success"}),Ge==="regular"?t(yt=>yt.map(ft=>ft.id===at?{...ft,certificate_sent:!0,certificate_sent_at:new Date().toISOString()}:ft)):r(yt=>yt.map(ft=>ft.id===at?{...ft,certificate_sent:!0,certificate_sent_at:new Date().toISOString()}:ft));else throw new Error(Qe.data.message||"Failed to send certificate");setTimeout(()=>{Wt(null)},3e3)}catch(Qe){console.error("Error sending certificate:",Qe),Wt({text:"Failed to send certificate. Please try again.",type:"error"}),setTimeout(()=>{Wt(null)},5e3)}finally{qt(Qe=>{const yt=new Set(Qe);return yt.delete(Ke),yt})}};return c.jsxs("div",{className:"inventory-container",children:[c.jsxs("div",{className:"inventory-header",children:[c.jsx("h1",{className:"inventory-title",children:"Inventory Management"}),c.jsx("div",{className:"inventory-actions",children:c.jsxs("div",{className:"inventory-tab-buttons",children:[c.jsx("button",{className:`inventory-tab-button ${h==="pending"?"active":""}`,onClick:()=>p("pending"),children:"Verification Queue"}),c.jsx("button",{className:`inventory-tab-button ${h==="regular"?"active":""}`,onClick:()=>p("regular"),children:"Regular Donations"}),c.jsx("button",{className:`inventory-tab-button ${h==="in-kind"?"active":""}`,onClick:()=>p("in-kind"),children:"In-kind Donations"}),c.jsx("button",{className:`inventory-tab-button ${h==="expiring"?"active":""}`,onClick:()=>p("expiring"),children:"Expiring Items"})]})})]}),c.jsxs("div",{className:"inventory-tables-container",children:[h==="expiring"&&Me()," ",h==="pending"?ye():h==="expiring"?null:be(h),de()]}),c.jsx(crt,{isOpen:a,onClose:()=>{i(!1),s(void 0)},item:o,type:(o==null?void 0:o.type)||d,onSubmit:o?Y:ae}),l&&c.jsx(urt,{isOpen:!!l,onClose:()=>u(null),item:l,onSubmit:K}),P&&c.jsx("div",{className:"modal-overlay",children:c.jsxs("div",{className:"modal-content-inventory",children:[c.jsx("h2",{children:"View Item Details"}),c.jsxs("div",{className:"view-details",children:[c.jsxs("p",{children:[c.jsx("strong",{children:"Donator Name:"})," ",P.donatorName]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Email:"})," ",P.email]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Contact Number:"})," ",P.contactNumber]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Item:"})," ",P.item]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Category:"})," ",P.category]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Quantity:"})," ",P.quantity]}),P.type==="regular"&&c.jsxs("p",{children:[c.jsx("strong",{children:"Frequency:"})," ",P.frequency]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Status:"})," ",P.verificationStatus]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Last Updated:"})," ",cS(P.lastUpdated)]}),P.verifiedAt&&c.jsxs("p",{children:[c.jsx("strong",{children:"Verified At:"})," ",cS(P.verifiedAt)]}),P.verifiedBy&&c.jsxs("p",{children:[c.jsx("strong",{children:"Verified By:"})," ",P.verifiedBy]}),P.rejectedAt&&c.jsxs("p",{children:[c.jsx("strong",{children:"Rejected At:"})," ",cS(P.rejectedAt)]}),P.rejectedBy&&c.jsxs("p",{children:[c.jsx("strong",{children:"Rejected By:"})," ",P.rejectedBy]}),P.rejectionReason&&c.jsxs("p",{children:[c.jsx("strong",{children:"Rejection Reason:"})," ",P.rejectionReason]}),P.expirationDate&&c.jsxs("p",{children:[c.jsx("strong",{children:"Expiration Date:"})," ",new Date(P.expirationDate).toLocaleDateString()]})]}),c.jsx("button",{className:"cancel-button",onClick:()=>T(null),children:"Close"})]})})]})};class frt{async getDonations(){try{return(await Le.get("/donations")).data}catch(t){throw console.error("Error fetching donations:",t),new Error("Failed to fetch donations")}}async addDonation(t){try{return(await Le.post("/donations",t,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(n){throw console.error("Error adding donation:",n),new Error("Failed to add donation")}}async deleteDonation(t){try{return(await Le.delete(`/donations/${t}`)).data}catch(n){throw console.error("Error deleting donation:",n),new Error("Failed to delete donation")}}async verifyDonation(t){try{return(await Le.put(`/donations/${t}/verify`)).data}catch(n){throw console.error("Error verifying donation:",n),new Error("Failed to verify donation")}}async rejectDonation(t,n){try{return(await Le.put(`/donations/${t}/reject`,{reason:n})).data}catch(r){throw console.error("Error rejecting donation:",r),new Error("Failed to reject donation")}}}const hrt=new frt,ED="https://kmfi.netlify.app/",prt=()=>{const[e,t]=E.useState("verified"),[n,r]=E.useState([]),[a,i]=E.useState(null),[o,s]=E.useState(!1),[l,u]=E.useState(!1),[d,f]=E.useState(null),[h,p]=E.useState(),[m,g]=E.useState(!1),[y,x]=E.useState(1),[b,w]=E.useState(10),[_,S]=E.useState(new Set),[k,N]=E.useState(null);E.useEffect(()=>{const G=async()=>{try{const ae=(await Le.get("/donations")).data.map(Y=>({id:Y.id,amount:parseFloat(Y.amount),donor:Y.full_name,date:Y.date,verificationStatus:Y.verification_status,proofOfPayment:Y.proof_of_payment?`${ED}${Y.proof_of_payment}`:null,remarks:Y.message,verifiedAt:Y.verified_at,verifiedBy:Y.verified_by,rejectedAt:Y.rejected_at,rejectedBy:Y.rejected_by,rejectionReason:Y.rejection_reason,fullName:Y.full_name,email:Y.email,contactNumber:Y.contact_number,message:Y.message,paymentMethod:Y.payment_method}));r(ae)}catch(se){console.error("Error loading donations:",se)}};G();const Z=setInterval(G,3e4);return()=>clearInterval(Z)},[]);const P=()=>n.filter(G=>G.verificationStatus==="verified").reduce((G,Z)=>G+Z.amount,0),T=()=>{const G=new Date,Z=G.getMonth()+1,se=G.getFullYear();return n.filter(ae=>{const[Y,X]=ae.date.split("-");return ae.verificationStatus==="verified"&&parseInt(X)===Z&&parseInt(Y)===se}).reduce((ae,Y)=>ae+Y.amount,0)},j=()=>n.filter(G=>G.verificationStatus==="pending").reduce((G,Z)=>G+Z.amount,0),D=async G=>{try{const Z=await Le.put(`/donations/${G}/verify`);console.log("Verification result:",Z),r(se=>se.map(ae=>ae.id===G?{...ae,verificationStatus:"verified",verifiedAt:Z.data.verified_at,verifiedBy:Z.data.verified_by}:ae)),alert("Donation verified successfully!")}catch(Z){console.error("Error verifying donation:",Z),alert("Failed to verify donation")}},M=async G=>{const Z=window.prompt("Please enter reason for rejection:");if(Z)try{const se=await Le.put(`/donations/${G}/reject`,{reason:Z});console.log("Rejection result:",se),r(ae=>ae.map(Y=>Y.id===G?{...Y,verificationStatus:"rejected",rejectedAt:se.data.rejected_at,rejectedBy:se.data.rejected_by,rejectionReason:Z}:Y)),alert("Donation rejected successfully")}catch(se){console.error("Error rejecting donation:",se),alert("Failed to reject donation")}},R=async G=>{if(window.confirm("Are you sure you want to delete this donation record? This action cannot be undone."))try{await hrt.deleteDonation(G),r(Z=>Z.filter(se=>se.id!==G)),alert("Donation record deleted successfully")}catch(Z){console.error("Error deleting donation:",Z),alert("Failed to delete donation")}},W=G=>{i(G),s(!0)},B=(G,Z)=>{f(G),p(Z),u(!0)},V=async G=>{var X,K;G.preventDefault();const Z=G.target,se=Z.querySelector('input[name="proofOfPayment"]'),ae=(X=se==null?void 0:se.files)==null?void 0:X[0];console.log("Selected file:",ae);const Y=new FormData;Y.append("fullName",Z.fullName.value),Y.append("email",Z.email.value),Y.append("contactNumber",Z.contactNumber.value),Y.append("amount",Z.amount.value),Y.append("message",((K=Z.message)==null?void 0:K.value)||""),Y.append("paymentMethod",Z.paymentMethod.value),Y.append("date",new Date().toLocaleDateString("en-US")),ae?(Y.append("proofOfPayment",ae),console.log("File appended to form data:",ae.name)):console.log("No file selected");try{const re=(await Le.post("/donations",Y,{headers:{"Content-Type":"multipart/form-data"}})).data,Q={id:re.id,amount:parseFloat(re.amount),donor:re.full_name,date:re.date,verificationStatus:re.verification_status,proofOfPayment:re.proof_of_payment?`${ED}${re.proof_of_payment}`:void 0,remarks:re.message,fullName:re.full_name,email:re.email,contactNumber:re.contact_number,message:re.message,paymentMethod:re.payment_method};r(oe=>[...oe,Q]),alert("Donation added successfully!"),g(!1),G.target.reset()}catch(F){console.error("Error adding donation:",F),alert("Failed to add donation")}},q=async G=>{const Z=n.find(se=>se.id===G);if(Z){if(Z.verificationStatus!=="verified"){alert("Only verified donations can receive certificates");return}if(!Z.email){alert("Cannot send certificate: Donor email is missing");return}if(window.confirm(`Send donation certificate to ${Z.fullName} (${Z.email})?`))try{S(ae=>new Set(ae).add(G));const se=await Le.post(`/donations/${G}/send-certificate`);if(se.data.success)N({text:"Certificate sent successfully!",type:"success"}),r(ae=>ae.map(Y=>Y.id===G?{...Y,certificate_sent:!0,certificate_sent_at:new Date().toISOString()}:Y));else throw new Error(se.data.message||"Failed to send certificate");setTimeout(()=>{N(null)},3e3)}catch(se){console.error("Error sending certificate:",se),N({text:"Failed to send certificate. Please try again.",type:"error"}),setTimeout(()=>{N(null)},5e3)}finally{S(se=>{const ae=new Set(se);return ae.delete(G),ae})}}},I=G=>{try{const Z=G.split("T")[0];return new Date(Z).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}catch{return G}},O=G=>{const Z=(y-1)*b,se=Z+b;return G.slice(Z,se)},H=G=>{x(G)},ne=G=>{w(Number(G.target.value)),x(1)},z=()=>{const G=n.filter(Y=>e==="verified"?Y.verificationStatus==="verified":Y.verificationStatus==="pending"),Z=Math.ceil(G.length/b),se=[];if(Z<=5)for(let Y=1;Y<=Z;Y++)se.push(Y);else if(y<=3){for(let Y=1;Y<=4;Y++)se.push(Y);se.push("..."),se.push(Z)}else if(y>=Z-2){se.push(1),se.push("...");for(let Y=Z-3;Y<=Z;Y++)se.push(Y)}else se.push(1),se.push("..."),se.push(y-1),se.push(y),se.push(y+1),se.push("..."),se.push(Z);return se.map((Y,X)=>c.jsx("button",{className:`page-number ${y===Y?"active":""} ${Y==="..."?"dots":""}`,onClick:()=>typeof Y=="number"?H(Y):null,disabled:Y==="...",children:Y},X))},J=()=>{const G=n.filter(se=>e==="verified"?se.verificationStatus==="verified":se.verificationStatus==="pending");return O(G).map(se=>c.jsxs("tr",{children:[c.jsx("td",{children:I(se.date)}),c.jsxs("td",{children:["",se.amount]}),c.jsx("td",{children:se.fullName}),c.jsx("td",{children:se.paymentMethod||"N/A"})," ",e==="verified"?c.jsxs(c.Fragment,{children:[c.jsx("td",{children:se.proofOfPayment&&c.jsx("button",{className:"proof-button",onClick:()=>B(se.proofOfPayment,se.message),children:"View Proof"})}),c.jsx("td",{children:c.jsxs("div",{className:"action-button-bank",children:[c.jsx("button",{onClick:()=>W(se),className:"view-button",children:"View"}),se.email&&c.jsx("button",{onClick:()=>q(se.id),className:"certificate-button",disabled:_.has(se.id),title:se.certificate_sent?"Certificate already sent":"Send donation certificate",children:_.has(se.id)?"Sending...":se.certificate_sent?"Resend":"Certificate"}),c.jsx("button",{onClick:()=>R(se.id),className:"delete-btn",children:"Delete"})]})})]}):c.jsxs(c.Fragment,{children:[c.jsx("td",{children:se.proofOfPayment&&c.jsx("button",{className:"proof-button",onClick:()=>B(se.proofOfPayment,se.message),children:"View Proof"})}),c.jsxs("td",{className:"action-button-bank",children:[c.jsx("button",{onClick:()=>D(se.id),className:"verify-button",children:"Verify"}),c.jsx("button",{onClick:()=>M(se.id),className:"reject-button",children:"Reject"})]})]})]},se.id))},ee=()=>{try{const G=n.filter(Y=>Y.verificationStatus===e).map(Y=>({Date:I(Y.date),Amount:`${Y.amount.toLocaleString()}`,"Donor Name":Y.fullName,Email:Y.email,"Contact Number":Y.contactNumber,Message:Y.message||"N/A",Status:Y.verificationStatus,"Verified By":Y.verifiedBy||"N/A","Verified At":Y.verifiedAt?I(Y.verifiedAt):"N/A"})),Z=Hn.json_to_sheet(G),se=Hn.book_new();Hn.book_append_sheet(se,Z,`${e}_donations`);const ae=`${e}_donations_${new Date().toISOString().split("T")[0]}.xlsx`;lu(se,ae)}catch(G){console.error("Export error:",G),alert("Failed to export data")}};return c.jsxs("div",{className:"bank-container",children:[c.jsxs("div",{className:"bank-header",children:[c.jsx("h1",{className:"bank-title",children:"Monetary Donations"}),c.jsxs("div",{className:"bank-actions",children:[c.jsxs("div",{className:"bank-tab-buttons",children:[c.jsx("button",{className:`bank-tab-buttons ${e==="verified"?"active":""}`,onClick:()=>t("verified"),children:"Verified Donations"}),c.jsx("button",{className:`bank-tab-buttons ${e==="pending"?"active":""}`,onClick:()=>t("pending"),children:"Verification Queue"})]}),c.jsx("button",{className:"export-btn",onClick:ee,disabled:n.length===0,children:"Export"}),c.jsx("button",{className:"add-button",onClick:()=>g(!0),children:"Add Donation"})]})]}),k&&c.jsxs("div",{className:`action-message ${k.type}`,style:{padding:"10px 20px",borderRadius:"4px",margin:"10px 0",backgroundColor:k.type==="success"?"#d4edda":"#f8d7da",color:k.type==="success"?"#155724":"#721c24",border:`1px solid ${k.type==="success"?"#c3e6cb":"#f5c6cb"}`,textAlign:"center",position:"relative",fontWeight:"500"},children:[k.text,c.jsx("span",{style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",cursor:"pointer",fontSize:"18px"},onClick:()=>N(null),children:""})]}),e==="verified"?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"stats-grid",children:[c.jsxs("div",{className:"stat-card total",children:[c.jsx("h3",{className:"stat-title",children:"Total Verified Donations"}),c.jsxs("p",{className:"stat-value",children:["",P()]})]}),c.jsxs("div",{className:"stat-card monthly",children:[c.jsx("h3",{className:"stat-title",children:"This Month (Verified)"}),c.jsxs("p",{className:"stat-value",children:["",T()]})]}),c.jsxs("div",{className:"stat-card pending",children:[c.jsx("h3",{className:"stat-title",children:"Pending Verification"}),c.jsxs("p",{className:"stat-value",children:["",j()]})]})]}),c.jsx("div",{className:"bank-table",children:c.jsxs("table",{children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"Date"}),c.jsx("th",{children:"Amount"}),c.jsx("th",{children:"Donor Name"}),c.jsx("th",{children:"Payment Method"})," ",c.jsx("th",{children:"Proof"}),c.jsx("th",{children:"Actions"})]})}),c.jsx("tbody",{children:J()})]})})]}):c.jsx("div",{className:"bank-table",children:c.jsxs("table",{children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"Date"}),c.jsx("th",{children:"Amount"}),c.jsx("th",{children:"Donor Name"}),c.jsx("th",{children:"Payment Method"})," ",c.jsx("th",{children:"Proof"}),c.jsx("th",{children:"Actions"})]})}),c.jsx("tbody",{children:J()})]})}),c.jsxs("footer",{className:"pagination",children:[c.jsxs("div",{className:"pagination-controls",children:[c.jsx("button",{onClick:()=>H(y-1),disabled:y===1,className:"page-nav",children:"<"}),z(),c.jsx("button",{onClick:()=>H(y+1),disabled:y===Math.ceil(n.filter(G=>e==="verified"?G.verificationStatus==="verified":G.verificationStatus==="pending").length/b),className:"page-nav",children:">"})]}),c.jsx("div",{className:"rows-per-page",children:c.jsxs("select",{value:b,onChange:ne,children:[c.jsx("option",{value:10,children:"10 rows"}),c.jsx("option",{value:25,children:"25 rows"}),c.jsx("option",{value:50,children:"50 rows"})]})})]}),o&&a&&c.jsx("div",{className:"modal-overlay",children:c.jsxs("div",{className:"modal-content",children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{children:"Donor Details"}),c.jsx("button",{className:"close-button",onClick:()=>s(!1),children:""})]}),c.jsxs("div",{className:"modal-body",children:[c.jsxs("div",{className:"detail-group",children:[c.jsx("label",{children:"Full Name:"}),c.jsx("p",{children:a.fullName})]}),c.jsxs("div",{className:"detail-group",children:[c.jsx("label",{children:"Email:"}),c.jsx("p",{children:a.email})]}),c.jsxs("div",{className:"detail-group",children:[c.jsx("label",{children:"Contact Number:"}),c.jsx("p",{children:a.contactNumber})]}),c.jsxs("div",{className:"detail-group",children:[c.jsx("label",{children:"Amount:"}),c.jsxs("p",{children:["",a.amount]})]}),c.jsxs("div",{className:"detail-group",children:[c.jsx("label",{children:"Payment Method:"}),c.jsx("p",{children:a.paymentMethod||"N/A"})]}),c.jsxs("div",{className:"detail-group",children:[c.jsx("label",{children:"Date:"}),c.jsx("p",{children:new Date().toLocaleString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0})})]}),a.message&&c.jsxs("div",{className:"detail-group",children:[c.jsx("label",{children:"Message:"}),c.jsx("p",{children:a.message})]}),a.proofOfPayment&&c.jsxs("div",{className:"detail-group",children:[c.jsx("label",{children:"Proof of Payment:"}),c.jsx("div",{className:"proof-preview",children:c.jsx("img",{src:a.proofOfPayment,alt:"Proof of Payment",style:{maxWidth:"100%",maxHeight:"200px",objectFit:"contain",cursor:"pointer"},onClick:()=>B(a.proofOfPayment)})})]}),a.verificationStatus==="verified"&&c.jsxs("div",{className:"detail-group",children:[c.jsx("label",{children:"Verified By:"}),c.jsxs("p",{children:[a.verifiedBy," on ",a.verifiedAt]})]}),a.verificationStatus==="verified"&&c.jsxs("div",{className:"detail-group",children:[c.jsx("label",{children:"Certificate Status:"}),c.jsx("p",{children:a.certificate_sent?`Certificate sent on ${a.certificate_sent_at?I(a.certificate_sent_at):"Unknown date"}`:"Certificate not sent yet"})]})]}),c.jsx("div",{className:"modal-footer",children:a.verificationStatus==="verified"&&a.email&&c.jsx("button",{className:"certificate-button",onClick:()=>{s(!1),q(a.id)},disabled:_.has(a.id),children:_.has(a.id)?"Sending...":a.certificate_sent?"Resend Certificate":"Send Certificate"})})]})}),l&&d&&c.jsx("div",{className:"modal-overlay",children:c.jsxs("div",{className:"modal-content",children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{children:"Proof of Payment"}),c.jsx("button",{className:"close-button",onClick:()=>u(!1),children:""})]}),c.jsxs("div",{className:"modal-body",children:[c.jsx("img",{src:d,alt:"Proof of Payment",style:{maxWidth:"100%",height:"auto",marginBottom:"1rem"},onError:G=>{console.error("Error loading image:",d);const Z=G.target;Z.onerror=null,Z.src=`${ED}/images/placeholder-image.jpg`,Z.alt="Failed to load proof of payment"}}),h&&c.jsxs("div",{className:"proof-message",children:[c.jsx("h3",{children:"Donor Message:"}),c.jsx("p",{children:h})]})]})]})}),m&&c.jsx("div",{className:"modal-overlay",children:c.jsxs("div",{className:"donation-modal-content",children:[c.jsx("div",{className:"donation-modal-header",children:c.jsx("h2",{className:"donation-modal-title",children:"Add New Donation"})}),c.jsxs("form",{onSubmit:V,children:[c.jsxs("div",{className:"donation-form-group",children:[c.jsx("label",{children:"Full Name:"}),c.jsx("input",{name:"fullName",type:"text",placeholder:"Enter donor's full name",required:!0})]}),c.jsxs("div",{className:"donation-form-group",children:[c.jsx("label",{children:"Email:"}),c.jsx("input",{name:"email",type:"email",placeholder:"Enter donor's email address",required:!0})]}),c.jsxs("div",{className:"donation-form-group",children:[c.jsx("label",{children:"Contact Number:"}),c.jsx("input",{name:"contactNumber",type:"tel",placeholder:"Enter contact number",required:!0})]}),c.jsxs("div",{className:"donation-form-group",children:[c.jsx("label",{children:"Amount (PHP):"}),c.jsx("input",{name:"amount",type:"number",placeholder:"Enter donation amount",required:!0,min:"1",max:"999999999.99",step:"0.01"})]}),c.jsxs("div",{className:"donation-form-group",children:[c.jsx("label",{children:"Payment Method:"}),c.jsxs("select",{name:"paymentMethod",required:!0,className:"payment-method-select",children:[c.jsx("option",{value:"",children:"Select payment method"}),c.jsx("option",{value:"gcash",children:"GCash"}),c.jsx("option",{value:"bank_transfer",children:"Bank Transfer"})]})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Proof of Payment:"}),c.jsx("input",{type:"file",id:"proofOfPayment",name:"proofOfPayment",accept:"image/*",onChange:G=>{var ae,Y;const Z=(Y=(ae=G.target.files)==null?void 0:ae[0])==null?void 0:Y.name,se=document.querySelector('label[for="proofOfPayment"]');se&&Z?se.innerHTML=`<i class="fa fa-upload"></i><span class="file-name-truncate">${Z}</span>`:se&&(se.innerHTML='<i class="fa fa-upload"></i><span class="file-name-truncate">Choose a file...</span>')}}),c.jsxs("label",{htmlFor:"proofOfPayment",children:[c.jsx("i",{className:"fa fa-upload"})," Choose a file..."]})]}),c.jsxs("div",{className:"donation-form-group",children:[c.jsx("label",{children:"Message:"}),c.jsx("textarea",{name:"message",placeholder:"Enter any additional message or notes (optional)"})]}),c.jsxs("div",{className:"donation-modal-actions",children:[c.jsx("button",{type:"button",className:"donation-cancel-btn",onClick:()=>g(!1),children:"Cancel"}),c.jsx("button",{type:"submit",className:"donation-submit-btn",children:"Add Donation"})]})]})]})})]})},mrt="/assets/kmlogo1.BoCD717Bpng",grt=()=>{const{eventId:e}=Rw(),t=Zr(),{user:n}=Sc(),[r,a]=E.useState(null),[i,o]=E.useState(!1),[s,l]=E.useState(null),[u,d]=E.useState(!1),[f,h]=E.useState(null),[p,m]=E.useState(!1),[g,y]=E.useState(""),[x,b]=E.useState(!1),[w,_]=E.useState(""),[S,k]=E.useState(!1),[N,P]=E.useState(!1);E.useEffect(()=>{},[]);const T=ae=>{if(!ae)return"/images/default-event.png";if(console.log("Processing event image path:",ae),ae.startsWith("data:")||ae.startsWith("http"))return ae;if(ae.startsWith("/uploads")){const X="https://kmfi.netlify.app/";return console.log(`Resolving with base URL: ${X}${ae}`),`${X}${ae}`}const Y="https://kmfi.netlify.app/";return console.log(`Resolving relative path: ${Y}/uploads/events/${ae}`),`${Y}/uploads/events/${ae}`},j=async()=>{var ae,Y;try{o(!0),l(null);const X=await Le.get(`/events/${e}`);console.log("Raw event data:",X.data);const K=X.data.image,F=T(K);console.log("Processed image URL:",F);const re={...X.data,image:F,totalVolunteers:parseInt(X.data.total_volunteers)||0,currentVolunteers:parseInt(X.data.current_volunteers)||0,totalScholars:parseInt(X.data.total_scholars)||0,currentScholars:parseInt(X.data.current_scholars)||0,contact:{phone:X.data.contact_phone||((ae=X.data.contact)==null?void 0:ae.phone)||"",email:X.data.contact_email||((Y=X.data.contact)==null?void 0:Y.email)||""},startTime:X.data.start_time||"",endTime:X.data.end_time||"",requirements:X.data.requirements||"No specific requirements have been set for this event."};a(re)}catch(X){console.error("Failed to fetch event details:",X),l("Failed to load event details")}finally{o(!1)}},D=async()=>{if(n)try{const ae=await Le.get(`/events/${e}/check-rejection`);if(ae.data.isRejected){b(!0),_(ae.data.reason||"No specific reason provided.");return}const Y=await Le.get(`/events/${e}/check-participation`);m(Y.data.hasJoined),y(Y.data.status||"")}catch(ae){console.error("Failed to check participation status:",ae)}};E.useEffect(()=>{n&&e&&D()},[n,e]),E.useEffect(()=>{e&&j()},[e]),E.useEffect(()=>{n&&e&&!u&&D()},[u]),E.useEffect(()=>{n&&e&&D()},[n==null?void 0:n.id,e]);const M=ae=>{try{return new Date(ae).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}catch{return ae}},R=ae=>{if(!ae)return"";const[Y,X]=ae.split(":"),K=parseInt(Y,10),F=K>=12?"PM":"AM";return`${K%12||12}:${X} ${F}`},W=(ae,Y)=>{if(!ae||!Y)return"Time to be announced";const X=R(ae),K=R(Y);return`${X} - ${K}`},B=ae=>{const Y=new Date(ae),X=new Date,K=Y.getTime()-X.getTime(),F=Math.ceil(K/(1e3*60*60*24));return F>0?F:0},V=async()=>{if(!n){t("/register",{state:{preselectedRole:"volunteer",eventId:e}});return}const ae=window.scrollY;document.documentElement.style.setProperty("--scroll-y",`${ae}px`),k(!0)},q=async()=>{var ae,Y,X,K,F,re;try{d(!0),h(null),console.log("Joining event with user role:",n==null?void 0:n.role);try{const Q=await Le.post(`/events/${e}/join`,{role:(n==null?void 0:n.role)||"volunteer"});if(r){const oe=Q.data.event;a({...r,currentVolunteers:oe.current_volunteers,currentScholars:oe.current_scholars})}console.log("Join response:",Q.data),await j(),await D(),m(!0),k(!1),P(!1)}catch(Q){console.error("Failed to join event:",Q.response||Q),((ae=Q.response)==null?void 0:ae.status)===403&&((K=(X=(Y=Q.response)==null?void 0:Y.data)==null?void 0:X.error)!=null&&K.includes("cannot join this event because your previous request was declined"))?(b(!0),_(Q.response.data.reason||"Your previous request to join was declined by an administrator."),h("You cannot join this event because your previous request was declined.")):h(((re=(F=Q.response)==null?void 0:F.data)==null?void 0:re.error)||"Failed to join event")}}finally{d(!1)}},I=async()=>{var ae,Y,X,K;try{d(!0),m(!1),y(""),console.log("Starting unjoin process - UI already updated");const F=await Le.post(`/events/${e}/unjoin`,{role:(n==null?void 0:n.role)||"volunteer"}).catch(re=>{var Q,oe;if(((oe=(Q=re.response)==null?void 0:Q.data)==null?void 0:oe.error)==="You have not joined this event")return console.log('Got expected "not joined" error - ignoring'),{data:{message:"Already left event",success:!0}};throw re});if(console.log("Unjoin response received:",F.data),r&&F.data.event){const re=F.data.event;console.log("Updating event counts with:",{volunteers:re.current_volunteers,scholars:re.current_scholars}),a(Q=>Q?{...Q,currentVolunteers:re.current_volunteers,currentScholars:re.current_scholars}:null)}window.location.reload()}catch(F){if(console.error("Failed to unjoin event:",F.response||F),m(!0),((Y=(ae=F.response)==null?void 0:ae.data)==null?void 0:Y.error)==="You have not joined this event"){console.log('Got "not joined" error during catch - forcing reload'),window.location.reload();return}h(((K=(X=F.response)==null?void 0:X.data)==null?void 0:K.error)||"Failed to unjoin event")}finally{setTimeout(()=>{d(!1)},300)}};E.useEffect(()=>{console.log("Current user:",n)},[n]);const O=()=>(console.log("Button state:",{hasJoined:p,participantStatus:g,isJoining:u,isRejected:x}),r?x?"Joining Restricted":r.status==="CLOSED"?"Event Closed":ee<=0&&G<=0&&!p?"Fully Booked":p?g==="PENDING"?"Pending Approval":"Leave Event":n?n.role==="sponsor"?"Contact Admin":"Join":"Sign Up":"");E.useEffect(()=>{!u&&!p&&console.log("Leave button was pressed. Current state:",{hasJoined:p,participantStatus:g,isJoining:u})},[u,p]);const H=()=>{if(x){alert(`You cannot join this event. ${w}`);return}if(n&&n.role==="sponsor"){alert("Please contact the admin if you would like to join this event.");return}if(!n){t("/register",{state:{preselectedRole:"volunteer",eventId:e}});return}if(p){if(g==="PENDING"){alert("Your registration is pending approval. Please wait for admin confirmation.");return}if(console.log("Leave button clicked, hasJoined =",p),window.confirm("Are you sure you want to leave this event?")){console.log("Leave confirmed, calling handleUnjoinEvent");const Y=document.querySelector(".volunteer-button2");Y&&(Y.textContent="Leaving...",Y.classList.add("leaving"),Y.setAttribute("disabled","true")),I()}}else V()},ne=ae=>{if(!ae)return"No specific requirements for this event.";if(ae.includes("")||/\d+\./.test(ae)){const Y=ae.split(`
`).filter(X=>X.trim()!=="");return c.jsx("ul",{className:"requirements-list",children:Y.map((X,K)=>c.jsx("li",{children:X.trim()},K))})}if(ae.includes(`
`)){const Y=ae.split(`
`).filter(X=>X.trim()!=="");return c.jsx("ul",{className:"requirements-list",children:Y.map((X,K)=>c.jsx("li",{children:X.trim()},K))})}if(ae.includes(";")||ae.includes(",")){const Y=ae.includes(";")?";":",",X=ae.split(Y).filter(K=>K.trim()!=="");return c.jsx("ul",{className:"requirements-list",children:X.map((K,F)=>c.jsx("li",{children:K.trim()},F))})}return c.jsx("p",{children:ae})};if(i)return c.jsx("div",{children:"Loading event details..."});if(s)return c.jsx("div",{className:"error-message",children:s});if(!r)return c.jsx("div",{children:"Event not found"});const z=Math.min(r.currentVolunteers/r.totalVolunteers*100,100),J=Math.min(r.currentScholars/r.totalScholars*100,100),ee=Math.max(r.totalVolunteers-r.currentVolunteers,0),G=Math.max(r.totalScholars-r.currentScholars,0),Z=B(r.date),se=()=>n?n.role==="scholar"||n.role==="admin"||n.role==="staff":!1;return c.jsxs(gd.div,{className:"event-details-container",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},children:[c.jsxs("div",{className:"event-header",children:[c.jsx("div",{className:"event-header-left",children:c.jsx("h1",{className:"event-title",children:r.title})}),c.jsxs("div",{className:"event-header-right",children:[c.jsx("img",{src:"https://kmpayatasb.org/wp-content/uploads/2024/01/KM-Logo-Final-2-01.png",alt:"Organization Logo",className:"organization-logo"}),c.jsx("img",{src:mrt,alt:"KM Icon",className:"organization-logo-mobile"})]})]}),c.jsxs("div",{className:"event-main",children:[c.jsxs("div",{className:"event-image-container",children:[c.jsx("img",{src:(r==null?void 0:r.image)||"/images/default-event.png",alt:r==null?void 0:r.title,className:"event-image2",onError:ae=>{console.error(`Failed to load image: ${r==null?void 0:r.image}`);const Y=ae.target;Y.src="/images/default-event.png",Y.onerror=null}}),c.jsx("div",{className:"event-date-type",children:c.jsxs("p",{children:[c.jsx("strong",{children:M(r.date)})," | Volunteer Event"]})})]}),c.jsxs("div",{className:"event-details-card-details",children:[c.jsxs("p",{className:"event-details-info-side",children:[c.jsx(qp,{style:{marginRight:"5px"}})," ",r.location]}),c.jsxs("p",{className:"event-details-info-side",children:[c.jsx(pc,{style:{marginRight:"5px"}})," ",M(r.date)]}),c.jsxs("p",{className:"event-details-info-side",children:[c.jsx(lb,{style:{marginRight:"5px"}})," ",W(r.startTime,r.endTime)]}),c.jsxs("p",{className:"event-details-info-side",children:[c.jsx(zSe,{style:{marginRight:"5px"}})," ",r.contact.phone||"No phone provided"]}),c.jsxs("p",{className:"event-details-info-side",children:[c.jsx($Se,{style:{marginRight:"5px"}})," ",r.contact.email||"No email provided"]}),c.jsxs("p",{className:"event-details-info-side",children:[c.jsx("strong",{children:"Status:"})," ",r.status]}),c.jsxs("div",{className:"event-details-info-side",children:[c.jsx("strong",{children:"Volunteer Progress:"}),c.jsx("div",{className:"progress-bar-container",children:c.jsx("div",{className:"progress-bar volunteer-progress",style:{width:`${z}%`},children:c.jsx("span",{className:"progress-percentage",children:z<5?"":`${Math.round(z)}%`})})})]}),c.jsxs("p",{className:"event-details-info-side",children:[c.jsxs("strong",{children:["Volunteers Needed:  ",ee>0?ee:"Goal Reached!"]})," "]}),se()&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"event-details-info-side",children:[c.jsx("strong",{children:"Scholar Progress:"}),c.jsx("div",{className:"progress-bar-container",children:c.jsx("div",{className:"progress-bar scholar-progress",style:{width:`${J}%`},children:c.jsx("span",{className:"progress-percentage",children:J<5?"":`${Math.round(J)}%`})})})]}),c.jsx("p",{className:"event-details-info-side",children:c.jsxs("strong",{children:["Scholars Needed: ",G>0?G:"Goal Reached!"]})})]}),ee>0||se()&&G>0?Z>0&&c.jsxs("p",{children:[Z," Days Left to join"]}):c.jsxs("p",{children:[c.jsx("strong",{children:"Thank you!"})," We've reached our volunteer",se()?" and scholar":""," goals"]}),x&&c.jsxs("div",{className:"event-rejection-message",children:[c.jsx("p",{children:"You cannot join this event because your previous request was declined."}),w&&c.jsxs("p",{children:[c.jsx("strong",{children:"Reason:"})," ",w]})]}),c.jsx("button",{className:`volunteer-button2 ${p?g==="PENDING"?"pending-button":"leave-button":x?"rejected-button":""}`,disabled:r.status==="CLOSED"||ee<=0&&!p||u||p&&g==="PENDING"||x,onClick:H,children:u?p?"Leaving...":"Joining...":O()}),f&&c.jsx("p",{className:"error-message",children:f})]})]}),c.jsxs("div",{className:"event-description",children:[c.jsx("h3",{children:r.title}),c.jsx("p",{children:r.description})]}),c.jsx(pb,{children:S&&c.jsx(gd.div,{className:"requirements-modal",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:c.jsxs(gd.div,{className:"requirements-modal-content",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1,transition:{type:"spring",stiffness:300,damping:30}},exit:{opacity:0,scale:.9},children:[c.jsxs("div",{className:"requirements-modal-header",children:[c.jsx("h2",{children:"Event Requirements"}),c.jsx("button",{className:"requirements-modal-close",onClick:()=>k(!1),children:c.jsx(Of,{})})]}),c.jsxs("div",{className:"requirements-modal-body",children:[c.jsx("p",{children:"Before joining this event, please review the following requirements:"}),typeof r.requirements=="string"?ne(r.requirements):c.jsx("p",{children:"No specific requirements for this event."}),c.jsxs("div",{className:"agreement-checkbox",children:[c.jsx("input",{type:"checkbox",id:"terms-agreement",checked:N,onChange:ae=>P(ae.target.checked)}),c.jsx("label",{htmlFor:"terms-agreement",children:"I agree that I meet all the requirements and will adhere to the guidelines set for this event. I understand that if I do not meet these requirements, my participation may be revoked."})]})]}),c.jsxs("div",{className:"modal-buttons",children:[c.jsx("button",{className:"modal-button modal-button-cancel",onClick:()=>k(!1),children:"Cancel"}),c.jsx("button",{className:`modal-button modal-button-confirm ${!N&&"modal-button-disabled"}`,disabled:!N||u,onClick:q,children:u?"Joining...":"Confirm"})]})]})})})]})},vrt=()=>{const[e,t]=E.useState([]),[n,r]=E.useState(null),[a,i]=E.useState(!1);E.useEffect(()=>{const l=async()=>{try{const d=await Le.get("/contacts");t(d.data)}catch(d){console.error("Error fetching contacts:",d)}};l();const u=setInterval(l,3e4);return()=>clearInterval(u)},[]);const o=async l=>{if(window.confirm("Are you sure you want to delete this contact?"))try{await Le.delete(`/contacts/${l}`),t(e.filter(u=>u.id!==l)),alert("Contact deleted successfully")}catch(u){console.error("Error deleting contact:",u),alert("Failed to delete contact")}},s=l=>{r(l),i(!0)};return c.jsxs("div",{className:"bank-container",children:[c.jsx("div",{className:"bank-header",children:c.jsx("h1",{className:"bank-title",children:"Contact Support"})}),c.jsxs("div",{className:"statsss-grid",children:[c.jsxs("div",{className:"stat-card total",children:[c.jsx("h3",{className:"stat-title",children:"Total Messages"}),c.jsx("p",{className:"stat-value",children:e.length})]}),c.jsxs("div",{className:"stat-card monthly",children:[c.jsx("h3",{className:"stat-title",children:"This Month"}),c.jsx("p",{className:"stat-value",children:e.filter(l=>{const u=new Date(l.created_at),d=new Date;return u.getMonth()===d.getMonth()&&u.getFullYear()===d.getFullYear()}).length})]})]}),c.jsx("div",{className:"bank-table",children:c.jsxs("table",{children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"Date"}),c.jsx("th",{children:"Name"}),c.jsx("th",{children:"Email"}),c.jsx("th",{children:"Phone"}),c.jsx("th",{children:"Actions"})]})}),c.jsx("tbody",{children:e.map(l=>c.jsxs("tr",{children:[c.jsx("td",{children:new Date(l.created_at).toLocaleDateString()}),c.jsx("td",{children:`${l.first_name} ${l.last_name}`}),c.jsx("td",{children:l.email}),c.jsx("td",{children:l.phone}),c.jsx("td",{children:c.jsxs("div",{className:"action-button-bank",children:[c.jsx("button",{className:"verify-button",onClick:()=>s(l),children:"View"}),c.jsx("button",{className:"reject-button",onClick:()=>o(l.id),children:"Delete"})]})})]},l.id))})]})}),a&&n&&c.jsx("div",{className:"modal-overlay",children:c.jsxs("div",{className:"modal-content",children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{children:"Contact Details"}),c.jsx("button",{className:"close-button",onClick:()=>i(!1),children:""})]}),c.jsxs("div",{className:"modal-body",children:[c.jsxs("div",{className:"detail-group",children:[c.jsx("label",{children:"Full Name:"}),c.jsx("p",{children:`${n.first_name} ${n.last_name}`})]}),c.jsxs("div",{className:"detail-group",children:[c.jsx("label",{children:"Email:"}),c.jsx("p",{children:n.email})]}),c.jsxs("div",{className:"detail-group",children:[c.jsx("label",{children:"Phone:"}),c.jsx("p",{children:n.phone})]}),c.jsxs("div",{className:"detail-group",children:[c.jsx("label",{children:"Message:"}),c.jsx("p",{children:n.message})]}),c.jsxs("div",{className:"detail-group",children:[c.jsx("label",{children:"Submitted On:"}),c.jsx("p",{children:new Date(n.created_at).toLocaleString()})]})]})]})})]})};var yI=function(){return yI=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},yI.apply(this,arguments)},bY={bottomleft:"leaflet-bottom leaflet-left",bottomright:"leaflet-bottom leaflet-right",topleft:"leaflet-top leaflet-left",topright:"leaflet-top leaflet-right"},ND=function(e){var t,n,r=le.useState(document.createElement("div")),a=r[0],i=r[1],o=e.position&&bY[e.position]||bY.topright,s=le.useRef(null),l=mT();le.useEffect(function(){s.current!==null&&(co.DomEvent.disableClickPropagation(s.current),co.DomEvent.disableScrollPropagation(s.current))},[s]),le.useEffect(function(){var d=l.getContainer(),f=d.getElementsByClassName(o);i(f[0])},[o]),le.useEffect(function(){a!==null&&(e.prepend!==void 0&&e.prepend===!0?a.prepend(s.current):a.append(s.current))},[a,e.prepend,s]);var u=(((n=(t=e.container)===null||t===void 0?void 0:t.className)===null||n===void 0?void 0:n.concat(" "))||"")+"leaflet-control";return le.createElement("div",yI({},e.container,{ref:s,className:u}),e.children)};const kD={ALL:"ALL",EVENTS:"EVENTS",OFFICE:"OFFICE"},wY=[14.717955,121.107932],jD={id:-1,lat:wY[0],lng:wY[1],name:"KapatidKita MahalKita Main Office",type:"office",details:{address:"Phase 3 Block 2, Lupang Pangako, Quezon City",description:"KKMK Main Office Location"}},yrt=new Ei.Icon({iconUrl:"/images/kkmk-logo.png",iconSize:[40,40],iconAnchor:[20,20],popupAnchor:[0,-20],className:"office-marker"}),xrt=new Ei.Icon({iconUrl:"/images/default-event.jpg",iconSize:[35,35],iconAnchor:[17,17],popupAnchor:[0,-17],className:"event-marker"}),au={VERY_HIGH:"#991b1b",HIGH:"#dc2626",MEDIUM:"#ef4444",LOW:"#f87171",VERY_LOW:"#fca5a5"},fC={LUPANG_PANGAKO:"#ef4444",PAYATAS:"#f97316",COMMONWEALTH:"#06b6d4"},_Y={LUPANG_PANGAKO:"Lupang Pangako",PAYATAS:"Payatas",COMMONWEALTH:"Commonwealth"},brt=({sectors:e})=>{const t={population:e.reduce((a,i)=>a+i.population,0),distributions:e.reduce((a,i)=>a+i.totalDistributions,0)},n=[{min:80,color:au.VERY_HIGH,label:"80-100%"},{min:60,color:au.HIGH,label:"60-79%"},{min:40,color:au.MEDIUM,label:"40-59%"},{min:20,color:au.LOW,label:"20-39%"},{min:0,color:au.VERY_LOW,label:"0-19%"}],r=(a,i=101)=>e.filter(l=>(l.percentageComplete??0)>=a&&(l.percentageComplete??0)<i).reduce((l,u)=>l+u.totalDistributions,0)/t.distributions*100;return c.jsxs("div",{className:"sector-progress-container",children:[c.jsx("h4",{children:"Distribution Progress"}),c.jsxs("div",{className:"sector-progress-bar",children:[c.jsx("div",{className:"progress-segments",children:n.map((a,i)=>{var o;return c.jsx("div",{className:"progress-segment",style:{width:`${r(a.min,(o=n[i-1])==null?void 0:o.min)}%`,backgroundColor:a.color}},a.label)})}),c.jsx("div",{className:"progress-labels",children:n.map(a=>{const o=e.filter(l=>{var u;return(l.percentageComplete??0)>=a.min&&(l.percentageComplete??0)<(((u=n[n.indexOf(a)-1])==null?void 0:u.min)||101)}).reduce((l,u)=>l+u.totalDistributions,0),s=(o/t.distributions*100).toFixed(1);return c.jsxs("div",{className:"progress-label",children:[c.jsx("span",{className:"color-dot",style:{backgroundColor:a.color}}),c.jsx("span",{children:a.label}),c.jsxs("span",{className:"distribution-count",children:["(",o.toLocaleString()," distributions)"]}),c.jsxs("span",{className:"percentage-value",children:[s,"%"]})]},a.label)})}),c.jsxs("div",{className:"total-progress",children:["Total Progress: ",(t.distributions/t.population*100).toFixed(1),"%",c.jsx("br",{}),"(",t.distributions.toLocaleString()," / ",t.population.toLocaleString(),")"]})]})]})},wrt=({stats:e})=>c.jsxs("div",{className:"sector-stat-card-public",style:{borderLeftColor:fC[e.type]},children:[c.jsx("h4",{children:e.name}),c.jsxs("div",{className:"stat-details-public",children:[c.jsxs("p",{children:[c.jsx("span",{children:"Total Population:"}),c.jsx("strong",{children:e.totalPopulation.toLocaleString()})]}),c.jsxs("p",{children:[c.jsx("span",{children:"Total Distributions:"}),c.jsx("strong",{children:e.totalDistributions.toLocaleString()})]}),c.jsxs("p",{children:[c.jsx("span",{children:"Coverage:"}),c.jsxs("strong",{children:[e.percentageComplete.toFixed(1),"%"]})]})]})]}),Yl={NORTH:{coordinates:[[14.7297784,121.1183808],[14.7264579,121.1215136],[14.7247147,121.1214278],[14.7189038,121.1200116],[14.7213527,121.1105702],[14.7220583,121.1085103],[14.7223488,121.1069653],[14.7230545,121.1058495],[14.7231375,121.1052487],[14.7226809,121.1036179],[14.7297784,121.1183808]],color:"#4A90E2",name:"North Sector"},CENTRAL:{coordinates:[[14.7226809,121.1036179],[14.7220583,121.1032746],[14.7209791,121.101558],[14.7186547,121.1005709],[14.717119,121.100528],[14.7164134,121.099541],[14.7149606,121.0977385],[14.7141304,121.0919879],[14.7087343,121.1146901],[14.7133003,121.1162779],[14.7189038,121.1200116],[14.7213527,121.1105702],[14.7220583,121.1085103],[14.7226809,121.1036179]],color:"#50C878",name:"Central Sector"},SOUTH:{coordinates:[[14.7141304,121.0919879],[14.7135078,121.0899708],[14.7091909,121.0854647],[14.7048325,121.0889409],[14.7032966,121.0891554],[14.7027985,121.0937045],[14.7023003,121.1022017],[14.7027985,121.1059353],[14.7052475,121.1108706],[14.7067419,121.1139176],[14.7087343,121.1146901],[14.7141304,121.0919879]],color:"#FFD700",name:"South Sector"}},SY=[[14.7297784,121.1183808],[14.7284917,121.1174367],[14.7276201,121.1167929],[14.7269975,121.1153767],[14.726541,121.1143897],[14.7258354,121.1134455],[14.7238016,121.1128876],[14.7225979,121.1130164],[14.7218923,121.1128447],[14.7213942,121.1117718],[14.7213527,121.1105702],[14.7220583,121.1085103],[14.7223488,121.1069653],[14.7230545,121.1058495],[14.7231375,121.1052487],[14.7226809,121.1036179],[14.7220583,121.1032746],[14.7209791,121.101558],[14.720232,121.1005709],[14.7186547,121.1005709],[14.717119,121.100528],[14.7164134,121.099541],[14.7149606,121.0977385],[14.7147115,121.0966656],[14.7143795,121.0956357],[14.7137154,121.0949061],[14.7140889,121.0932324],[14.7141304,121.0919879],[14.7141304,121.0905287],[14.7135078,121.0899708],[14.7127192,121.0901854],[14.7120135,121.0900567],[14.7114739,121.0884688],[14.7091909,121.0854647],[14.7048325,121.0889409],[14.7032966,121.0891554],[14.7029645,121.0900567],[14.70284,121.0924599],[14.7027985,121.0937045],[14.702757,121.0955498],[14.703006,121.0976956],[14.7027985,121.0998843],[14.7023003,121.1022017],[14.7020513,121.1036608],[14.7022173,121.1050341],[14.7027985,121.1059353],[14.7040853,121.1068366],[14.704957,121.1078665],[14.7056626,121.1092827],[14.7052475,121.1108706],[14.7051645,121.1125872],[14.705206,121.1131451],[14.7067419,121.1139176],[14.7087343,121.1146901],[14.7133003,121.1162779],[14.7179491,121.1194537],[14.7189038,121.1200116],[14.7247147,121.1214278],[14.7253788,121.1215136],[14.7258354,121.1212561],[14.7264579,121.1215136],[14.7297784,121.1183808]],_rt=()=>{const[e,t]=E.useState([jD]),[n,r]=E.useState(!0),[a,i]=E.useState(!1),[o,s]=E.useState([]),[l,u]=E.useState(!1),[d,f]=E.useState("ALL"),[h,p]=E.useState([]),[m,g]=E.useState([]),[y,x]=E.useState([]),[b,w]=E.useState(null),[_,S]=E.useState({NORTH:{distributions:0,total:0,distributionPercentage:0},CENTRAL:{distributions:0,total:0,distributionPercentage:0},SOUTH:{distributions:0,total:0,distributionPercentage:0}}),[k,N]=E.useState([]),P=Zr(),T=[14.7164,121.1194],j=H=>H?H.startsWith("data:")||H.startsWith("http")?H:`https://kmfi.netlify.app/${H}`:"";E.useEffect(()=>{(async()=>{try{r(!0);const ne=await Le.get("/events");console.log("Raw response:",ne.data);const z=new Date,J=ne.data.filter(ee=>new Date(ee.date)>=z).map(ee=>{const G=ee.image?ee.image.startsWith("http")?ee.image:j(ee.image):"/images/default-event.jpg";return{id:ee.id,lat:parseFloat(ee.latitude)||0,lng:parseFloat(ee.longitude)||0,name:ee.title||"Unnamed Event",type:"event",details:{image:G,address:ee.location||"Unknown Location",description:ee.description||"No description available",date:ee.date||"Date not specified"}}});console.log("Processed events:",J),t([jD,...J])}catch(ne){console.error("Failed to fetch events:",ne),t([jD])}finally{r(!1)}})()},[]),E.useEffect(()=>{(async()=>{if(a)try{r(!0);const[ne,z,J]=await Promise.all([Le.get("/admin/sectors/all"),Le.get("/admin/distributions/stats"),Le.get("/admin/scholar-distributions/stats")]),ee=ne.data.map(Z=>{var Y,X;const se=((Y=z.data.find(K=>K.sector_id===Z.id))==null?void 0:Y.total_distributions)||0,ae=((X=J.data.find(K=>K.sector_id===Z.id))==null?void 0:X.count)||0;return{id:Z.id,name:Z.name,type:Z.type,barangay:Z.barangay,phase:Z.phase,block:Z.block,coordinates:JSON.parse(Z.coordinates),population:parseInt(Z.population),totalDistributions:se,scholarCount:ae,color:fC[Z.type],percentageComplete:se/parseInt(Z.population)*100}}),G=Object.keys(_Y).map(Z=>{const se=ee.filter(ae=>ae.type===Z);return{type:Z,name:_Y[Z],totalPopulation:se.reduce((ae,Y)=>ae+Y.population,0),totalDistributions:se.reduce((ae,Y)=>ae+Y.totalDistributions,0),scholarCount:se.reduce((ae,Y)=>ae+Y.scholarCount,0),percentageComplete:se.reduce((ae,Y)=>ae+(Y.percentageComplete||0),0)/se.length,sectors:se}});p(ee),g(G),s(ee)}catch(ne){console.error("Failed to fetch heatmap data:",ne)}finally{r(!1)}})()},[a]),E.useEffect(()=>{(async()=>{if(a)try{const[ne,z,J,ee]=await Promise.all([Le.get("/sectors"),Le.get("/distributions"),Le.get("/scholars"),Le.get("/sectors/payatas-boundary")]),G=ne.data.map(se=>({...se,coordinates:JSON.parse(se.coordinates),color:fC[se.type],totalDistributions:0,scholarCount:0}));z.data.forEach(se=>{const ae=G.find(Y=>Y.id===se.sectorId);ae&&(ae.totalDistributions=se.count)}),J.data.forEach(se=>{const ae=G.find(Y=>Y.id===se.sectorId);ae&&(ae.scholarCount=(ae.scholarCount||0)+1)});const Z=["LUPANG_PANGAKO","PAYATAS","COMMONWEALTH"].map(se=>{const ae=G.filter(K=>K.type===se),Y=ae.reduce((K,F)=>K+F.population,0),X=ae.reduce((K,F)=>K+F.totalDistributions,0);return{type:se,name:se.replace("_"," ").toLowerCase(),totalPopulation:Y,totalDistributions:X,scholarCount:ae.reduce((K,F)=>K+(F.scholarCount||0),0),percentageComplete:Y>0?X/Y*100:0,sectors:ae}});w({...ee.data,coordinates:JSON.parse(ee.data.coordinates)}),p(G),x(Z)}catch(ne){console.error("Error fetching map data:",ne)}})()},[a]),E.useEffect(()=>{(async()=>{if(a)try{const[ne,z]=await Promise.all([Le.get("/admin/sectors/all"),Le.get("/admin/distributions/stats")]),J=Object.keys(Yl).map(G=>{const Z=z.data.filter(ae=>{const Y=ne.data.find(X=>X.id===ae.sector_id);return Y&&Y.type===G}).reduce((ae,Y)=>ae+Y.total_distributions,0),se=ne.data.filter(ae=>ae.type===G).reduce((ae,Y)=>ae+parseInt(Y.population),0);return{id:parseInt(G),name:Yl[G].name,type:G,coordinates:Yl[G].coordinates,population:se,totalDistributions:Z,barangay:"",phase:"",block:"",color:fC[G],percentageComplete:0,scholarCount:0}}),ee=J.reduce((G,Z)=>G+Z.totalDistributions,0);J.forEach(G=>{G.percentageComplete=G.totalDistributions/ee*100}),p(J)}catch(ne){console.error("Failed to fetch sector data:",ne)}})()},[a]);const D=(H,ne)=>{for(const[z,J]of Object.entries(Yl))if(q([H,ne],J.coordinates))return z;return null};E.useEffect(()=>{(async()=>{if(a)try{const ne=await Le.get("/inventory/scholar-distributions");N(ne.data);const z={..._};ne.data.forEach(ee=>{const G=D(ee.latitude,ee.longitude);if(G){const Z=ee.distributions.reduce((se,ae)=>se+ae.quantity,0);z[G].total+=Z}});const J=Object.values(z).reduce((ee,G)=>ee+G.total,0);Object.keys(z).forEach(ee=>{z[ee].distributionPercentage=z[ee].total/J*100}),S(z)}catch(ne){console.error("Error fetching scholar distributions:",ne)}})()},[a]);const M=()=>e.filter(H=>d===kD.ALL?!0:d===kD.EVENTS?H.type==="event":d===kD.OFFICE?H.type==="office":!1),R=H=>H.type==="office"?yrt:H.details.image?new Ei.Icon({iconUrl:H.details.image,iconSize:[35,35],iconAnchor:[17,17],popupAnchor:[0,-17],className:"event-marker"}):xrt,W=H=>c.jsxs("div",{className:"marker-popup",children:[H.details.image&&c.jsx("div",{className:"marker-image-container",children:c.jsx("img",{src:H.details.image,alt:H.name,className:"marker-event-image",onError:ne=>{const z=ne.target;z.src="/images/default-event.jpg"}})}),c.jsx("h3",{children:H.name}),c.jsxs("p",{children:[c.jsx("strong",{children:"Date:"})," ",H.details.date||"Not specified"]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Location:"})," ",H.details.address||"Not specified"]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Description:"})," ",H.details.description||"No description available"]}),H.id>0&&c.jsx("button",{className:"view-details-btn",onClick:()=>P(`/event/${H.id}`),children:"View Event Details"})]}),B=()=>c.jsxs("div",{className:"heatmap-legend",children:[c.jsx("h4",{children:"Distribution Coverage"}),c.jsxs("div",{className:"legend-items",children:[c.jsxs("div",{className:"legend-item",children:[c.jsx("span",{className:"color-box",style:{backgroundColor:au.VERY_HIGH}}),c.jsx("span",{children:"80-100%"})]}),c.jsxs("div",{className:"legend-item",children:[c.jsx("span",{className:"color-box",style:{backgroundColor:au.HIGH}}),c.jsx("span",{children:"60-79%"})]}),c.jsxs("div",{className:"legend-item",children:[c.jsx("span",{className:"color-box",style:{backgroundColor:au.MEDIUM}}),c.jsx("span",{children:"40-59%"})]}),c.jsxs("div",{className:"legend-item",children:[c.jsx("span",{className:"color-box",style:{backgroundColor:au.LOW}}),c.jsx("span",{children:"20-39%"})]}),c.jsxs("div",{className:"legend-item",children:[c.jsx("span",{className:"color-box",style:{backgroundColor:au.VERY_LOW}}),c.jsx("span",{children:"0-19%"})]})]})]});new Ei.Icon({iconUrl:"/images/scholar-marker.png",iconSize:[35,35],iconAnchor:[17,17],popupAnchor:[0,-17]});const V=()=>c.jsx("div",{className:"map-controls",children:a?c.jsx("button",{className:"map-type-btn",onClick:()=>i(!1),children:"Back to Standard Map"}):c.jsx(c.Fragment,{children:c.jsx("div",{className:"map-filters",children:c.jsxs("select",{value:d,onChange:H=>f(H.target.value),className:"location-filter",children:[c.jsx("option",{value:"ALL",children:"All Locations"}),c.jsx("option",{value:"EVENTS",children:"Events Only"}),c.jsx("option",{value:"OFFICE",children:"Main Office"})]})})})}),q=(H,ne)=>{const z=H[0],J=H[1];let ee=!1;for(let G=0,Z=ne.length-1;G<ne.length;Z=G++){const se=ne[G][0],ae=ne[G][1],Y=ne[Z][0],X=ne[Z][1];ae>J!=X>J&&z<(Y-se)*(J-ae)/(X-ae)+se&&(ee=!ee)}return ee},I=()=>c.jsxs(c.Fragment,{children:[c.jsx(c1,{positions:SY,pathOptions:{color:"#374151",fillColor:"transparent",weight:2,dashArray:"5, 10"}}),Object.entries(Yl).map(([H,ne])=>{var ee;const z=_[H],J=.2+z.distributionPercentage/100*.6;return c.jsx(c1,{positions:ne.coordinates,pathOptions:{color:ne.color,fillColor:ne.color,fillOpacity:J,weight:2},children:c.jsx(u1,{children:c.jsxs("div",{className:"sector-popup",children:[c.jsx("h4",{children:ne.name}),c.jsxs("p",{children:[c.jsx("strong",{children:"Total Items Distributed:"})," ",z.total.toLocaleString()]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Distribution Share:"})," ",z.distributionPercentage.toFixed(1),"%"]}),((ee=z.distributions)==null?void 0:ee.length)>0&&c.jsxs("div",{className:"recent-distributions",children:[c.jsx("h5",{children:"Recent Distributions"}),c.jsx("ul",{children:z.distributions.slice(0,5).map((G,Z)=>c.jsxs("li",{children:[G.quantity," ",G.itemName," (",G.category,")"]},Z))})]})]})})},H)})]});E.useEffect(()=>{let H=!0;return(async()=>{if(a)try{r(!0);const z=await Le.get("/inventory/distributions-by-sector");if(!H)return;const J={NORTH:{distributions:[],total:0,distributionPercentage:0},CENTRAL:{distributions:[],total:0,distributionPercentage:0},SOUTH:{distributions:[],total:0,distributionPercentage:0}};z.data.forEach(G=>{const Z=D(G.latitude,G.longitude);Z&&(J[Z].distributions.push({category:G.category,itemName:G.itemName,quantity:G.quantity}),J[Z].total+=G.quantity)});const ee=Object.values(J).reduce((G,Z)=>G+Z.total,0);Object.keys(J).forEach(G=>{const Z=G;J[Z].distributionPercentage=ee>0?J[Z].total/ee*100:0}),S(J)}catch(z){console.error("Failed to fetch heatmap data:",z)}finally{H&&r(!1)}})(),()=>{H=!1}},[a]);const O=`map-${a?"heatmap":"standard"}-${Date.now()}`;return E.useEffect(()=>{(async()=>{if(a)try{r(!0);const ne=await Le.get("/admin/distributions-by-sector"),z=[{id:1,name:"North Sector",type:"PAYATAS",barangay:"Payatas",phase:"North",block:"N/A",coordinates:Yl.NORTH.coordinates,population:1e3,totalDistributions:0,percentageComplete:0,scholarCount:0,color:Yl.NORTH.color},{id:2,name:"Central Sector",type:"PAYATAS",barangay:"Payatas",phase:"Central",block:"N/A",coordinates:Yl.CENTRAL.coordinates,population:1500,totalDistributions:0,percentageComplete:0,scholarCount:0,color:Yl.CENTRAL.color},{id:3,name:"South Sector",type:"PAYATAS",barangay:"Payatas",phase:"South",block:"N/A",coordinates:Yl.SOUTH.coordinates,population:1200,totalDistributions:0,percentageComplete:0,scholarCount:0,color:Yl.SOUTH.color}];ne.data.forEach(ee=>{const G=D(ee.latitude,ee.longitude);G==="NORTH"?z[0].totalDistributions+=ee.quantity:G==="CENTRAL"?z[1].totalDistributions+=ee.quantity:G==="SOUTH"&&(z[2].totalDistributions+=ee.quantity)}),z.forEach(ee=>{ee.percentageComplete=ee.totalDistributions/ee.population*100}),p(z);const J={NORTH:{total:z[0].totalDistributions,distributionPercentage:z[0].percentageComplete},CENTRAL:{total:z[1].totalDistributions,distributionPercentage:z[1].percentageComplete},SOUTH:{total:z[2].totalDistributions,distributionPercentage:z[2].percentageComplete}};S(J)}catch(ne){console.error("Failed to fetch distribution data:",ne)}finally{r(!1)}})()},[a]),c.jsxs("div",{className:"interactive-map-container",children:[c.jsxs("div",{className:"map-header",children:[c.jsx("h1",{children:"Interactive Map"}),V()]}),n?c.jsx("div",{className:"loading",children:"Loading map..."}):c.jsxs(gT,{center:T,zoom:15,scrollWheelZoom:!0,className:"interactive-map",children:[c.jsx(Tb,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>'}),c.jsx(c1,{positions:SY,pathOptions:{color:"#374151",fillColor:"transparent",weight:2,dashArray:"5, 10"},children:c.jsx(u1,{children:c.jsx("h4",{children:"Payatas Boundary"})})}),a?c.jsxs(c.Fragment,{children:[I(),c.jsx(ND,{position:"topright",children:y.map(H=>c.jsx(wrt,{stats:{type:H.type,name:H.name,totalPopulation:H.totalPopulation,totalDistributions:H.totalDistributions,percentageComplete:H.percentageComplete,sectors:H.sectors}},H.type))}),c.jsx(ND,{position:"bottomright",children:c.jsx(B,{})}),c.jsx(ND,{position:"bottomleft",children:c.jsx(brt,{sectors:h})})]}):M().map(H=>c.jsx(vT,{position:[H.lat,H.lng],icon:R(H),children:c.jsx(u1,{children:W(H)})},`${H.type}-${H.id}`))]},O)]})},Srt=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),Crt=({currentAmount:e,amountNeeded:t})=>{const n=e||0,r=t||1,a=Math.min(n/r*100,100);return c.jsxs("div",{className:"scholar-progress-container",children:[c.jsx("div",{className:"scholar-progress-bar",children:c.jsx("div",{className:"scholar-progress-fill",style:{width:`${a}%`}})}),c.jsxs("div",{className:"scholar-progress-text",children:[c.jsxs("span",{children:["",n.toLocaleString()]}),c.jsxs("span",{children:["",r.toLocaleString()]})]})]})},Ert=()=>{const e=Zr(),[t,n]=E.useState([]),[r,a]=E.useState(!0),[i,o]=E.useState(null),[s,l]=E.useState(null),[u,d]=E.useState("details"),[f,h]=E.useState(!1),[p,m]=E.useState(""),[g,y]=E.useState(""),[x,b]=E.useState(""),[w,_]=E.useState(""),{user:S}=Fk(),k=B=>{console.log("Processing salary range in StudentProfile:",B);const V=B.match(/P([\d,]+) - P([\d,]+)/);if(!V||V.length<3)return B.includes("and above")?(console.log("High earner detected, suggesting high-need students"),{min:2e4,max:15e4}):(console.log("Could not parse salary range, using default filter"),null);const q=parseInt(V[1].replace(/,/g,""),10),I=parseInt(V[2].replace(/,/g,""),10);console.log("Parsed salary range:",{minSalary:q,maxSalary:I});const O=Math.max(3e3,Math.floor(q*.15)),H=Math.min(15e4,Math.ceil(I*.7));return console.log("Calculated amount range for filtering:",{suggestedMin:O,suggestedMax:H}),{min:O,max:H}};E.useEffect(()=>{(async()=>{try{const V=await Le.get("/scholars");if(!V.data)throw new Error("No data returned");let q=V.data.filter(I=>I.is_verified&&I.status==="active");if(S&&S.role==="sponsor"&&S.salaryRange){console.log("Sponsor found with salary range in StudentProfile:",S.salaryRange);const I=k(S.salaryRange);if(I){const O=q.filter(H=>{const ne=H.amount_needed>=I.min&&H.amount_needed<=I.max;return console.log(`Student ${H.first_name} (amount: ${H.amount_needed}) matches range: ${ne}`),ne});console.log("Students matching sponsor's range:",O.length),O.length>0?q=O:console.log("No matches found for sponsor's range, showing all active students")}}n(q),a(!1)}catch(V){console.error("Error fetching students:",V),o("Failed to fetch students"),a(!1)}})()},[S]);const N=E.useMemo(()=>t.filter(B=>{var ne,z,J,ee,G,Z;const V=p.toLowerCase(),q=((ne=B.first_name)==null?void 0:ne.toLowerCase().includes(V))||((z=B.last_name)==null?void 0:z.toLowerCase().includes(V))||((J=B.school)==null?void 0:J.toLowerCase().includes(V))||((ee=B.education_level)==null?void 0:ee.toLowerCase().includes(V)),I=g?(G=B.education_level)==null?void 0:G.toLowerCase().includes(g.toLowerCase()):!0,O=x?x==="high"?B.current_amount>=B.amount_needed*.5:B.current_amount<B.amount_needed*.5:!0,H=w?((Z=B.gender)==null?void 0:Z.toLowerCase())===w.toLowerCase():!0;return q&&I&&O&&H}),[t,p,g,x,w]),P=B=>{e(`/StudentProfile/${B}`)},T=()=>{h(!1),l(null)},j=B=>{m(B.target.value)},D=B=>{y(B.target.value)},M=B=>{b(B.target.value)},R=B=>{_(B.target.value)},W=B=>B.image_url?B.image_url.startsWith("data:")||B.image_url.startsWith("http")?B.image_url:`https://kmfi.netlify.app/${B.image_url}`:B.profile_photo?B.profile_photo.startsWith("data:")||B.profile_photo.startsWith("http")?B.profile_photo:`https://kmfi.netlify.app/${B.profile_photo}`:"/images/default-avatar.jpg";return c.jsxs("div",{className:"student-profile-container",children:[c.jsxs("div",{className:"student-profile-sidebar",children:[c.jsx("button",{className:"student-profile-btn active",children:"Sponsor A Student"}),c.jsx("button",{className:"student-profile-btn",onClick:()=>e(Nt.MY_SCHOLAR),children:"My Scholar"})]}),c.jsxs("div",{className:"student-profile-main",children:[c.jsx("h1",{className:"student-profile-title",children:"Student"}),c.jsx("p",{className:"student-profile-desc",children:"Join us in making education accessible to deserving students. Your sponsorship can transform lives and create lasting impact in our communities."}),c.jsx("h2",{className:"student-profile-subtitle",children:"Sponsorship Share Explained"}),c.jsx("p",{className:"student-profile-desc",children:"Each student's educational journey requires different levels of support. The progress bar shows how close they are to reaching their educational funding goals. You can contribute any amount to help them achieve their dreams."}),S&&S.role==="sponsor"&&c.jsx("div",{className:"sponsor-message",children:c.jsx("p",{children:"The students shown below have been tailored based on your financial capacity. These matches consider your salary range to suggest appropriate sponsorship opportunities."})}),c.jsxs("div",{className:"student-profile-filters",children:[c.jsx("input",{type:"text",placeholder:"Search by name, school, or education level",className:"student-profile-search",value:p,onChange:j}),c.jsxs("select",{className:"student-profile-select",value:x,onChange:M,children:[c.jsx("option",{value:"",children:"All Donation Levels"}),c.jsx("option",{value:"high",children:"Well-Supported (50%+ Funded)"}),c.jsx("option",{value:"low",children:"Seeking Support (Under 50% Funded)"})]}),c.jsxs("select",{className:"student-profile-select",value:w,onChange:R,children:[c.jsx("option",{value:"",children:"All Genders"}),c.jsx("option",{value:"male",children:"Male"}),c.jsx("option",{value:"female",children:"Female"})]}),c.jsxs("select",{className:"student-profile-select",value:g,onChange:D,children:[c.jsx("option",{value:"",children:"All Education Levels"}),c.jsx("option",{value:"elementary",children:"Elementary"}),c.jsx("option",{value:"junior high",children:"Junior High School"}),c.jsx("option",{value:"senior high",children:"Senior High School"}),c.jsx("option",{value:"vocational",children:"Vocational"}),c.jsx("option",{value:"college",children:"College"}),c.jsx("option",{value:"graduate",children:"Graduate School"})]})]}),r&&c.jsx("p",{children:"Loading students..."}),i&&c.jsx("p",{className:"error-message",children:i}),c.jsx("div",{className:"student-profile-grid",children:N.length===0?c.jsx("div",{className:"nostudents-found",children:c.jsx("p",{className:"nostudents",children:"No students found matching your search."})}):N.map(B=>c.jsxs("div",{className:"student-profile-card",onClick:()=>P(B.id),children:[c.jsx("img",{src:W(B),alt:`${B.first_name} ${B.last_name}`,className:"student-profile-image",onError:V=>{const q=V.target;q.src="/images/default-avatar.jpg"}}),c.jsxs("h3",{className:"student-profile-name",children:[`${B.first_name} ${B.last_name}`,": Journey to Success"]}),c.jsx(Crt,{currentAmount:B.current_amount||0,amountNeeded:B.amount_needed||1}),c.jsxs("p",{className:"student-profile-details",children:["Education Level: ",B.education_level||"Not specified",c.jsx("br",{}),"School: ",B.school||"Not specified"]})]},B.id))}),f&&s&&c.jsx("div",{className:"student-modal-overlay",onClick:T,children:c.jsxs("div",{className:"student-modal",onClick:B=>B.stopPropagation(),children:[c.jsx("button",{className:"modal-close-btn",onClick:T,children:""}),c.jsxs("div",{className:"modal-content",children:[c.jsx("img",{src:W(s),alt:`${s.first_name} ${s.last_name}`,className:"modal-student-image",onError:B=>{const V=B.target;V.src="/images/default-avatar.jpg"}}),c.jsxs("div",{className:"modal-details",children:[c.jsx("h2",{children:`${s.first_name} ${s.last_name}`}),c.jsxs("div",{className:"modal-tabs",children:[c.jsx("button",{className:`tab-btn ${u==="details"?"active":""}`,onClick:()=>d("details"),children:"Details"}),c.jsx("button",{className:`tab-btn ${u==="updates"?"active":""}`,onClick:()=>d("updates"),children:"Updates"})]}),c.jsx("div",{className:"tab-content",children:u==="details"?c.jsxs("div",{className:"details-tab",children:[c.jsxs("p",{children:[c.jsx("strong",{children:"First Name:"})," ",s.first_name]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Last Name:"})," ",s.last_name]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Date of Birth:"})," ",Srt(s.date_of_birth)]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Gender:"})," ",s.gender]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Education Level:"})," ",s.education_level]}),c.jsxs("p",{children:[c.jsx("strong",{children:"School:"})," ",s.school]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Favorite Subject:"})," ",s.favorite_subject||"Not specified"]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Favorite Activity:"})," ",s.favorite_activity||"Not specified"]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Favorite Color:"})," ",s.favorite_color||"Not specified"]})]}):c.jsx("div",{className:"updates-tab",children:c.jsx("p",{children:"Recent updates will be displayed here."})})})]})]})]})})]})]})};let Kde={};const Nrt=5e3;Le.interceptors.request.use(async e=>{const t=`${e.method}-${e.url}`,n=Kde[t];return e.method==="get"&&n&&Date.now()-n.timestamp<Nrt?Promise.reject({response:{data:n.data},__CACHE:!0}):e});Le.interceptors.response.use(e=>{if(e.config.method==="get"){const t=`${e.config.method}-${e.config.url}`;Kde[t]={data:e.data,timestamp:Date.now()}}return e},e=>e.__CACHE?Promise.resolve({data:e.response.data}):Promise.reject(e));const krt={getAllScholars:async()=>(await Le.get("/scholars")).data,getScholarById:async e=>(await Le.get(`/scholars/${e}`)).data,getScholarDetails:async e=>(await Le.get(`/scholars/${e}`)).data},Rc={gcash:{name:"GCash",qrCode:"/images/payments/gcash.jpg",details:{accountName:"KKMK Foundation",accountNumber:"0907 123 4906"}},credit_card:{name:"Credit Card",qrCode:"",details:{accountName:"KKMK Foundation",accountNumber:"2354 5678 9012 3456",additionalInfo:"We accept Visa, Mastercard, and JCB"}},bank_transfer:{name:"Bank Transfer",qrCode:"",details:{accountName:"KKMK Foundation",accountNumber:"5734-5678-9012",additionalInfo:"BDO Savings Account"}}},jrt=({currentAmount:e,amountNeeded:t})=>{const n=Math.min(e/t*100,100);return c.jsxs("div",{className:"scholar-progress-container",children:[c.jsx("div",{className:"scholar-progress-bar",children:c.jsx("div",{className:"scholar-progress-fill",style:{width:`${n}%`}})}),c.jsxs("div",{className:"scholar-progress-text",children:[c.jsxs("span",{children:["",e.toLocaleString()]}),c.jsxs("span",{children:["",t.toLocaleString()]})]})]})},Trt=()=>{const{studentId:e}=Rw(),t=Zr(),{user:n}=Sc(),[r,a]=E.useState("story"),[i,o]=E.useState(null),[s,l]=E.useState(!0),[u,d]=E.useState(null),[f,h]=E.useState(!1),[p,m]=E.useState(1),[g,y]=E.useState(!1),[x,b]=E.useState({scholarId:e||"",amount:0,name:"",email:"",phone:"",message:"",paymentMethod:"",proof:null,proofPreview:"",frequency:"monthly"}),[w,_]=E.useState([]),S=(z,J)=>{b(ee=>({...ee,[z]:J}))},k=()=>{if(!n){t("/register",{state:{preselectedRole:"sponsor",scholarId:e}});return}if(n.role==="volunteer"||n.role==="scholar"){alert("Please contact the admin if you would like to support this scholar.");return}m(1),i&&b({scholarId:e||"",amount:i.amount_needed,name:(n==null?void 0:n.name)||"",email:(n==null?void 0:n.email)||"",phone:(n==null?void 0:n.phone)||"",message:"",paymentMethod:"",proof:null,proofPreview:"",frequency:"monthly"});const z=window.scrollY;document.documentElement.style.setProperty("--scroll-y",`${z}px`),h(!0)},N=()=>{t("/help")},P=()=>{y(!g)},T=()=>{y(!1)},j=()=>{h(!1)},D=async z=>{z.preventDefault();try{const J=new FormData;console.log("Submitting donation form with data:",x),n&&n.role==="sponsor"&&J.append("sponsorId",n.id.toString()),J.append("scholarId",x.scholarId),J.append("amount",x.amount.toString()),J.append("name",x.name),J.append("email",x.email),J.append("phone",x.phone),J.append("message",x.message||""),J.append("paymentMethod",x.paymentMethod),J.append("frequency",x.frequency),x.proof&&J.append("proof",x.proof);const ee=await Le.post("/scholardonations/submit",J,{headers:{"Content-Type":"multipart/form-data"}});if(ee.status===201){const G=ee.data;console.log("Donation submitted successfully:",G),alert("Thank you for your donation! We will verify your payment shortly."),h(!1),b({scholarId:e||"",amount:0,name:"",email:"",phone:"",message:"",paymentMethod:"",proof:null,proofPreview:"",frequency:"monthly"}),m(1)}}catch(J){console.error("Error submitting donation:",J),alert(J instanceof Error?J.message:"Failed to submit donation. Please try again.")}},M=z=>{var ee;const J=(ee=z.target.files)==null?void 0:ee[0];if(J){const G=new FileReader;G.onloadend=()=>{b(Z=>({...Z,proof:J,proofPreview:G.result}))},G.readAsDataURL(J)}},R=()=>{b(z=>({...z,proof:null,proofPreview:""}))};E.useEffect(()=>{n&&n.role==="sponsor"&&f&&b(z=>({...z,name:n.name||z.name,email:n.email||z.email,phone:n.phone||z.phone}))},[n,f]);const W=()=>{switch(p){case 1:return c.jsxs("div",{className:"donation-step",children:[c.jsx("h3",{children:"Scholarship Amount"}),c.jsx("div",{className:"fixed-amount-container",children:c.jsxs("div",{className:"fixed-amount-display",children:[c.jsxs("p",{children:["Full scholarship support for ",i==null?void 0:i.first_name," costs:"]}),c.jsxs("div",{className:"fixed-amount-value",children:["",i?i.amount_needed.toLocaleString():"0"]}),c.jsx("p",{className:"fixed-amount-description",children:"This covers school supplies, uniform, and educational materials for the school year."})]})}),c.jsxs("div",{className:"frequency-selection",children:[c.jsx("label",{htmlFor:"sponsorship-frequency",children:"Sponsorship Frequency:"}),c.jsxs("select",{id:"sponsorship-frequency",className:"frequency-dropdown",value:x.frequency,onChange:z=>S("frequency",z.target.value),children:[c.jsx("option",{value:"monthly",children:"Monthly"}),c.jsx("option",{value:"quarterly",children:"Quarterly (Every 3 months)"}),c.jsx("option",{value:"semi_annual",children:"Semi-Annual (Every 6 months)"}),c.jsx("option",{value:"annual",children:"Annual (Once a year)"})]}),c.jsxs("p",{className:"frequency-description",children:["Choose how often you'd like to contribute to ",i==null?void 0:i.first_name,"'s education."]})]})]});case 2:return c.jsxs("div",{className:"donation-step",children:[c.jsx("h3",{children:"Your Details"}),n&&n.role==="sponsor"&&c.jsx("p",{className:"autofill-notice",style:{color:"#4CAF50",fontSize:"0.9rem",marginBottom:"10px"},children:" Your profile information has been autofilled"}),c.jsxs("div",{className:"donation-form",children:[c.jsx("input",{type:"text",placeholder:"Your Name",value:x.name,onChange:z=>S("name",z.target.value)}),c.jsx("input",{type:"email",placeholder:"Email Address",value:x.email,onChange:z=>S("email",z.target.value)}),c.jsx("input",{type:"tel",placeholder:"Phone Number",value:x.phone,onChange:z=>S("phone",z.target.value)}),c.jsx("textarea",{placeholder:"Leave a message (optional)",value:x.message,onChange:z=>S("message",z.target.value),rows:4})]})]});case 3:return c.jsxs("div",{className:"donation-step",children:[c.jsx("h3",{children:"Payment Method"}),c.jsx("div",{className:"payment-options",children:Object.keys(Rc).map(z=>c.jsx("button",{className:`payment-btn ${x.paymentMethod===z?"selected":""}`,onClick:()=>S("paymentMethod",z),children:Rc[z].name},z))}),x.paymentMethod&&c.jsxs("div",{className:"payment-details",children:[Rc[x.paymentMethod].qrCode&&c.jsx("div",{className:"qr-code-container",children:c.jsx("img",{src:Rc[x.paymentMethod].qrCode,alt:`${Rc[x.paymentMethod].name} QR Code`,className:"payment-qr-code"})}),c.jsxs("div",{className:"payment-info",children:[c.jsxs("h4",{children:[Rc[x.paymentMethod].name," Payment Details"]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Account Name:"})," ",Rc[x.paymentMethod].details.accountName]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Account Number:"})," ",Rc[x.paymentMethod].details.accountNumber]}),Rc[x.paymentMethod].details.additionalInfo&&c.jsxs("p",{children:[c.jsx("strong",{children:"Additional Info:"})," ",Rc[x.paymentMethod].details.additionalInfo]})]}),c.jsxs("div",{className:"proof-upload-section",children:[c.jsx("h4",{children:"Proof of Payment"}),c.jsx("p",{className:"proof-description",children:"Optional: Upload your payment receipt"}),c.jsxs("div",{className:"proof-upload-container",children:[c.jsx("input",{type:"file",id:"proofUpload",accept:"image/*",onChange:M,style:{display:"none"}}),c.jsx("label",{htmlFor:"proofUpload",className:"proof-upload-label",children:x.proofPreview?c.jsxs("div",{className:"proof-preview-container",children:[c.jsx("img",{src:x.proofPreview,alt:"Payment proof",className:"proof-preview-image"}),c.jsx("button",{type:"button",className:"remove-proof-btn",onClick:z=>{z.preventDefault(),R()},children:c.jsx(Of,{})})]}):c.jsxs("div",{className:"proof-upload-placeholder",children:[c.jsx(Ab,{size:24}),c.jsx("span",{children:"Upload Receipt"})]})})]})]})]}),c.jsxs("div",{className:"donation-summary",children:[c.jsx("h4",{children:"Donation Summary"}),c.jsxs("p",{children:["Amount: ",x.amount.toLocaleString()]}),c.jsxs("p",{children:["Frequency: ",x.frequency.replace("_","-").charAt(0).toUpperCase()+x.frequency.replace("_","-").slice(1)]}),c.jsxs("p",{children:["Name: ",x.name]}),c.jsxs("p",{children:["Email: ",x.email]}),c.jsxs("p",{children:["Phone: ",x.phone]}),x.message&&c.jsxs("p",{children:["Message: ",x.message]}),x.proofPreview&&c.jsxs("p",{children:[c.jsx("strong",{children:"Receipt:"})," Uploaded "]})]})]});default:return null}},B=()=>c.jsx("div",{className:"donation-modal-overlay",onClick:j,children:c.jsxs("div",{className:"donation-modal",onClick:z=>z.stopPropagation(),children:[c.jsx("button",{className:"close-btn",onClick:j,children:c.jsx(Of,{})}),c.jsxs("div",{className:"donation-header",children:[c.jsxs("h2",{children:["Support ",i==null?void 0:i.first_name,"'s Education"]}),c.jsx("div",{className:"step-indicators",children:[1,2,3].map(z=>c.jsx("div",{className:`step ${p===z?"active":""}`,children:z},z))})]}),W(),c.jsxs("div",{className:"donation-actions",children:[p>1&&c.jsx("button",{onClick:()=>m(z=>z-1),children:"Previous"}),p<3?c.jsx("button",{onClick:()=>m(z=>z+1),disabled:p===1&&(x.amount===0||x.amount<100)||p===2&&(!x.name||!x.email||!x.phone),children:"Next"}):c.jsx("button",{onClick:D,disabled:!x.paymentMethod,children:"Complete Donation"})]})]})}),V=()=>n?n.role==="volunteer"||n.role==="scholar"?"Contact Admin":"Sponsor Now":"Sign Up to Sponsor",q=(z,J,ee)=>c.jsxs("button",{className:"donate-dropdown-item",onClick:J,children:[z,c.jsxs("div",{className:"info-icon-container",children:[c.jsx(Rne,{className:"info-icon"}),c.jsx("span",{className:"info-tooltip",children:ee})]})]});E.useEffect(()=>{(async()=>{if(e)try{l(!0);const J=await krt.getScholarDetails(e);o(J)}catch(J){console.error("Error fetching student details:",J),d("Failed to load student details")}finally{l(!1)}})()},[e]),E.useEffect(()=>{r==="updates"&&(async()=>{if(e)try{const J=await Le.get(`/scholardonations/history/${e}`);_(J.data)}catch(J){console.error("Error fetching donation updates:",J)}})()},[e,r]);const I=z=>new Date(z).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}),O=z=>z?z.startsWith("data:")||z.startsWith("http")?z:`https://kmfi.netlify.app/${z}`:"",H=z=>[{icon:c.jsx(wL,{}),label:"Education",value:`${z.school}${z.education_level?`, ${z.education_level}`:""}`},{icon:c.jsx(ISe,{}),label:"Interest",value:z.favorite_subject||z.favorite_activity||"Learning"}];if(s)return c.jsx("div",{className:"student-loading",children:"Loading student story..."});if(u)return c.jsxs("div",{className:"student-error",children:["Error: ",u]});if(!i)return c.jsx("div",{className:"student-not-found",children:"No student found"});const ne=H(i);return c.jsxs("div",{className:"student-profile-container",children:[c.jsx("div",{className:"student-profile-sidebar",children:c.jsx("button",{className:"student-profile-btn",onClick:()=>t("/StudentProfile"),children:"Back to Students"})}),c.jsxs("div",{className:"student-profile-main student-story-main",children:[c.jsxs("div",{className:"student-story-header",children:[c.jsxs("div",{className:"student-portrait-container",children:[c.jsx("img",{src:O(i.image_url),alt:`${i.first_name}`,className:"student-portrait"}),c.jsx(jrt,{currentAmount:i.current_amount,amountNeeded:i.amount_needed}),c.jsxs("div",{className:"student-donate-dropdown-container",children:[c.jsxs("button",{className:"student-profile-donate-btn",onClick:P,children:[V()," ",c.jsx(zc,{})]}),g&&c.jsxs("div",{className:"donate-dropdown-menu",children:[q("Sponsor Now",()=>{k(),T()},"Full scholarship support for this student for the whole year"),q("Donate Now",()=>{N(),T()},"One-time donation to the general fund")]})]})]}),c.jsxs("div",{className:"student-story-intro",children:[c.jsx("h1",{className:"student-name",children:`${i.first_name} ${i.last_name}`}),c.jsx("div",{className:"student-highlights",children:ne.map((z,J)=>c.jsxs("div",{className:"highlight-item",children:[c.jsx("div",{className:"highlight-icon",children:z.icon}),c.jsxs("div",{className:"highlight-content",children:[c.jsx("span",{className:"highlight-label",children:z.label}),c.jsx("span",{className:"highlight-value",children:z.value})]})]},J))}),c.jsxs("div",{className:"student-tabs",children:[c.jsx("button",{className:`tab-btn ${r==="story"?"active":""}`,onClick:()=>a("story"),children:"Story"}),c.jsx("button",{className:`tab-btn ${r==="updates"?"active":""}`,onClick:()=>a("updates"),children:"Updates"})]})]})]}),c.jsx("div",{className:"student-content-area",children:r==="story"?c.jsx("div",{className:"student-story",children:i.other_details?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"story-quote-mark start-quote",children:'"'}),c.jsx("div",{className:"story-contentss",children:i.other_details}),c.jsx("div",{className:"story-quote-mark end-quote",children:'"'})]}):c.jsxs("div",{className:"no-story-message",children:[c.jsxs("p",{children:["We're still writing ",i.first_name,"'s story. This young dreamer has great potential and needs your support to achieve their educational goals."]}),c.jsx("div",{className:"student-donate-dropdown-container"})]})}):c.jsx("div",{className:"updates-tab",children:w.length>0?c.jsx("div",{className:"donation-updates",children:w.map((z,J)=>c.jsxs("div",{className:"update-item",children:[c.jsx("div",{className:"update-icon",children:""}),c.jsxs("div",{className:"update-content",children:[c.jsxs("p",{className:"update-text",children:["Received a donation of ",c.jsxs("span",{className:"amount",children:["",z.amount.toLocaleString()]})]}),c.jsx("p",{className:"update-date",children:I(z.created_at)})]})]},J))}):c.jsxs("div",{className:"no-updates",children:[c.jsxs("p",{children:["No donation updates yet. Be the first to support ",i.first_name,"!"]}),c.jsxs("div",{className:"student-donate-dropdown-container",children:[c.jsxs("button",{className:"student-support-cta dropdown-toggle",onClick:P,children:["Support Now ",c.jsx(zc,{})]}),g&&c.jsxs("div",{className:"donate-dropdown-menu",children:[q("Sponsor Now",()=>{k(),T()},"Full scholarship support for this student"),q("Donate Now",()=>{N(),T()},"One-time donation to the general fund")]})]})]})})})]}),f&&B()]})},EN=e=>Math.round(e).toLocaleString(),Prt=({currentAmount:e,amountNeeded:t})=>{const n=Math.min(e/t*100,100);return c.jsxs("div",{className:"scholar-progress-container",children:[c.jsx("div",{className:"scholar-progress-bar",children:c.jsx("div",{className:"scholar-progress-fill",style:{width:`${n}%`}})}),c.jsxs("div",{className:"scholar-progress-text",children:[c.jsxs("span",{children:["",EN(e)]}),c.jsxs("span",{children:["",EN(t)]})]})]})},Art=()=>{const e=Zr(),{user:t}=Sc(),[n,r]=E.useState([]),[a,i]=E.useState(!0),[o,s]=E.useState(null),l=u=>u.image_url?u.image_url.startsWith("data:")||u.image_url.startsWith("http")?u.image_url:`https://kmfi.netlify.app/${u.image_url}`:u.image?u.image.startsWith("data:")||u.image.startsWith("http")?u.image:`https://kmfi.netlify.app/${u.image}`:"/images/default-avatar.jpg";return E.useEffect(()=>{(async()=>{try{i(!0),s(null);const d=(t==null?void 0:t.id)||JSON.parse(localStorage.getItem("user")||"{}").id;if(!d){i(!1);return}console.log("Fetching donations for sponsor ID:",d);const f=await Le.get(`/scholardonations/sponsor/${d}`);if(console.log("Response data:",f.data),!f.data||!Array.isArray(f.data)){console.error("Invalid response format:",f.data),s("Received invalid data from server"),i(!1);return}const h=f.data,p=new Map;h.forEach(g=>{p.has(g.scholar_id)||p.set(g.scholar_id,{scholarId:g.scholar_id,name:`${g.scholar_first_name} ${g.scholar_last_name}`,image:g.scholar_image||"",image_url:g.image_url||"",totalDonated:0,lastDonation:g.created_at,donations:[],currentAmount:g.current_amount||0,amountNeeded:g.amount_needed||1e4});const y=p.get(g.scholar_id);g.verification_status==="verified"&&(y.totalDonated+=parseFloat(g.amount)||0),y.donations.push(g)});const m=Array.from(p.values());console.log("Processed scholars:",m),r(m)}catch(d){console.error("Error fetching sponsor donations:",d),s("Failed to load sponsored scholars. Please try again later.")}finally{i(!1)}})()},[t==null?void 0:t.id]),a?c.jsxs("div",{className:"loading-container",style:{display:"flex",justifyContent:"center",alignItems:"center",height:"50vh"},children:[c.jsx("div",{className:"loading-spinner"}),c.jsx("p",{children:"Loading sponsored scholars..."})]}):c.jsxs("div",{className:"student-profile-container",children:[c.jsxs("div",{className:"student-profile-sidebar",children:[c.jsx("button",{className:"student-profile-btn active",children:"My Scholars"}),c.jsx("button",{className:"student-profile-btn",onClick:()=>e("/StudentProfile"),children:"Back to Students"})]}),c.jsxs("div",{className:"student-profile-main",children:[c.jsx("h1",{className:"student-profile-title",children:"My Scholars"}),o&&c.jsx("div",{className:"error-message",style:{color:"red",padding:"10px",margin:"10px 0",backgroundColor:"#ffeeee",borderRadius:"5px"},children:o}),!t&&!localStorage.getItem("user")?c.jsxs("div",{className:"no-scholars-message",children:[c.jsx("p",{children:"Please log in to view your sponsored scholars."}),c.jsx("button",{className:"browse-scholars-btn",onClick:()=>e("/login"),children:"Login"})]}):c.jsxs(c.Fragment,{children:[c.jsx("p",{className:"student-profile-desc",children:"View and track your donations to scholars."}),c.jsx("div",{className:"student-profile-grid",children:n.map(u=>c.jsxs("div",{className:"student-profile-card",children:[c.jsx("img",{src:l(u),alt:u.name,className:"student-profile-image",onClick:()=>e(`/StudentProfile/${u.scholarId}`),onError:d=>{console.log(`Image failed to load for scholar ${u.scholarId}`),d.target.src="/images/default-avatar.jpg"}}),c.jsx("h3",{className:"student-profile-name",children:u.name}),c.jsx(Prt,{currentAmount:u.currentAmount,amountNeeded:u.amountNeeded}),c.jsxs("div",{className:"donation-info",children:[c.jsxs("p",{className:"total-donated",children:["Total Donated: ",EN(u.totalDonated)]}),c.jsxs("p",{className:"last-donation",children:["Last Donation: ",new Date(u.lastDonation).toLocaleDateString()]})]}),c.jsxs("div",{className:"donation-history",children:[c.jsx("h4",{children:"Recent Donations"}),u.donations.length>0?u.donations.slice(0,3).map(d=>c.jsxs("div",{className:"donation-item",children:[c.jsxs("span",{className:"donation-amount",children:["",EN(parseFloat(d.amount)||0)]}),c.jsx("span",{className:`donation-status ${d.verification_status}`,children:d.verification_status}),c.jsx("span",{className:"donation-date",children:new Date(d.created_at).toLocaleDateString()})]},d.id)):c.jsx("p",{children:"No recent donations"})]})]},u.scholarId))}),n.length===0&&!o&&c.jsxs("div",{className:"no-scholars-message",children:[c.jsx("p",{children:"You haven't made any donations yet."}),c.jsx("button",{className:"browse-scholars-btn",onClick:()=>e("/StudentProfile"),children:"Browse Scholars"})]})]})]})]})},tl="https://kmfi.netlify.app/",uS={firstName:"",lastName:"",address:"",dateOfBirth:"",gradeLevel:"",school:"",guardianName:"",guardianPhone:"",gender:"",favoriteSubject:"",favoriteActivity:"",favoriteColor:"",otherDetails:"",image:null,imagePreview:"",status:"active",assignedUserId:void 0,currentAmount:0,amountNeeded:0},TD=({currentAmount:e,amountNeeded:t})=>{const n=e||0,r=t||1,a=Math.min(n/r*100,100);return c.jsxs("div",{className:"scholar-progress-container",children:[c.jsx("div",{className:"scholar-progress-bar",children:c.jsx("div",{className:"scholar-progress-fill",style:{width:`${a}%`}})}),c.jsxs("div",{className:"scholar-progress-text",children:[c.jsxs("span",{children:["",n.toLocaleString()]}),c.jsxs("span",{children:["",r.toLocaleString()]})]})]})},Drt=()=>{const e=Rw(),t=Zr(),n=Dl(),[r,a]=E.useState([]),[i,o]=E.useState(!1),[s,l]=E.useState(uS),[u,d]=E.useState(null),[f,h]=E.useState(!1),[p,m]=E.useState(!1),[g,y]=E.useState(""),[x,b]=E.useState(""),[w,_]=E.useState([]),[S,k]=E.useState([]),[N,P]=E.useState(!1);E.useRef(null);const[T,j]=E.useState(!1),[D,M]=E.useState("all"),[R,W]=E.useState(!1);E.useEffect(()=>{(async()=>{try{const de=await Le.get("/scholars");if(de.status!==200)throw new Error("Failed to fetch scholars");const we=de.data.map(Me=>({...Me,grade_level:Me.education_level,assigned_user:Me.assigned_user_id?{id:Me.assigned_user_id,name:Me.assigned_user_name,email:Me.assigned_user_email,profile_photo:Me.assigned_user_profile_photo}:void 0}));a(we);const We=e.id;if(We)if(we.find(ze=>ze.id===parseInt(We)))O(parseInt(We)),W(!0);else try{await O(parseInt(We)),W(!0)}catch(ze){console.error("Failed to load scholar:",ze),alert("Could not find the requested scholar profile.")}}catch(de){console.error("Error fetching scholars:",de)}})(),n.pathname.includes("/Scholars/Profile/")&&W(!0)},[e.id,n.pathname]);const B=ye=>{const{name:de,value:we}=ye.target;l(We=>({...We,[de]:we}))},V=ye=>{var we;const de=(we=ye.target.files)==null?void 0:we[0];if(de){const We=new FileReader;We.onloadend=()=>{l(Me=>({...Me,image:de,imagePreview:We.result}))},We.readAsDataURL(de)}},q=async ye=>{ye.preventDefault();try{const de=new FormData;Object.entries(s).forEach(([ze,He])=>{ze==="image"&&He?de.append("image",He):ze==="assignedUserId"&&He?de.append("userId",He.toString()):ze!=="imagePreview"&&de.append(ze,He)});const we=await fetch(`${tl}/api/scholars/create`,{method:"POST",body:de,credentials:"include"});if(!we.ok){const ze=await we.json();throw new Error(ze.message||"Failed to create scholar profile")}const We=await we.json();console.log("Scholar created:",We);const Me=await fetch(`${tl}/api/scholars`,{credentials:"include"}).then(ze=>ze.json());a(Me),l(uS),o(!1),alert("Scholar profile created successfully!")}catch(de){console.error("Error creating scholar:",de),alert(de instanceof Error?de.message:"Failed to create scholar profile. Please try again.")}},I=async ye=>{try{const de=await Le.get(`/admin/scholars/${ye}`);if(de.status!==200)throw new Error("Failed to fetch scholar details");const we=de.data;console.log("Scholar data from API:",we);const We=we.date_of_birth?new Date(we.date_of_birth).toISOString().split("T")[0]:"";return{id:we.id,firstName:we.first_name||"",lastName:we.last_name||"",address:we.address||"",dateOfBirth:We,gradeLevel:we.education_level||we.grade_level||"",school:we.school||"",guardianName:we.guardian_name||"",guardianPhone:we.guardian_phone||"",gender:we.gender||"",favoriteSubject:we.favorite_subject||"",favoriteActivity:we.favorite_activity||"",favoriteColor:we.favorite_color||"",otherDetails:we.other_details||"",imagePreview:we.image_url?`${tl}${we.image_url}`:we.profile_photo?`${tl}${we.profile_photo}`:"",status:we.status||"active",currentAmount:we.current_amount||0,amountNeeded:we.amount_needed||0,isVerified:we.is_verified,userId:we.user_id,assignedUser:we.assigned_user||null}}catch(de){throw console.error("Error fetching scholar details:",de),de}},O=async ye=>{try{const de=await I(ye),we=window.scrollY;document.documentElement.style.setProperty("--scroll-y",`${we}px`),d({id:de.id,first_name:de.firstName,last_name:de.lastName,address:de.address,date_of_birth:de.dateOfBirth,education_level:de.gradeLevel,school:de.school,guardian_name:de.guardianName,guardian_phone:de.guardianPhone,gender:de.gender,favorite_subject:de.favoriteSubject,favorite_activity:de.favoriteActivity,favorite_color:de.favoriteColor,other_details:de.otherDetails,image_url:de.imagePreview,profile_photo:void 0,status:de.status,is_active:de.status!=="inactive",is_verified:de.isVerified||!1,current_amount:de.currentAmount,amount_needed:de.amountNeeded,created_at:new Date().toISOString(),user_id:de.userId,assigned_user:de.assignedUser}),h(!0)}catch(de){throw console.error("Error fetching scholar details:",de),alert("Failed to load scholar details"),de}},H=async ye=>{try{const de=await I(ye),we=window.scrollY;document.documentElement.style.setProperty("--scroll-y",`${we}px`),l({firstName:de.firstName,lastName:de.lastName,address:de.address,dateOfBirth:de.dateOfBirth,gradeLevel:de.gradeLevel,school:de.school,guardianName:de.guardianName,guardianPhone:de.guardianPhone,gender:de.gender,favoriteSubject:de.favoriteSubject,favoriteActivity:de.favoriteActivity,favoriteColor:de.favoriteColor,otherDetails:de.otherDetails,image:null,imagePreview:de.imagePreview,status:de.status,assignedUserId:de.userId,currentAmount:de.currentAmount,amountNeeded:de.amountNeeded}),d({id:de.id,first_name:de.firstName,last_name:de.lastName,address:de.address,date_of_birth:de.dateOfBirth,education_level:de.gradeLevel,school:de.school,guardian_name:de.guardianName,guardian_phone:de.guardianPhone,gender:de.gender,favorite_subject:de.favoriteSubject,favorite_activity:de.favoriteActivity,favorite_color:de.favoriteColor,other_details:de.otherDetails,image_url:de.imagePreview,profile_photo:void 0,status:de.status,is_active:de.status!=="inactive",is_verified:de.isVerified||!1,current_amount:de.currentAmount,amount_needed:de.amountNeeded,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),user_id:de.userId,assigned_user:de.assignedUser}),m(!0)}catch(de){console.error("Error fetching scholar details:",de),alert("Failed to load scholar details")}},ne=async ye=>{if(ye.preventDefault(),!!u)try{const de=new FormData;if(Object.entries(s).forEach(([Me,ze])=>{Me==="image"&&ze?de.append("image",ze):Me!=="imagePreview"&&de.append(Me,ze)}),!(await fetch(`${tl}/api/scholars/${u.id}`,{method:"PUT",body:de,credentials:"include"})).ok)throw new Error("Failed to update scholar");const We=await fetch(`${tl}/api/scholars`,{credentials:"include"}).then(Me=>Me.json());a(We),m(!1),d(null),alert("Scholar updated successfully!")}catch(de){console.error("Error updating scholar:",de),alert("Failed to update scholar")}},z=ye=>{b(ye.target.value)},J=r.filter(ye=>{var Wt,mn,Re,Ge;const de=x.toLowerCase(),we=((Wt=ye==null?void 0:ye.first_name)==null?void 0:Wt.toLowerCase())||"",We=((mn=ye==null?void 0:ye.last_name)==null?void 0:mn.toLowerCase())||"",Me=((Re=ye==null?void 0:ye.school)==null?void 0:Re.toLowerCase())||"",ze=((Ge=ye==null?void 0:ye.education_level)==null?void 0:Ge.toLowerCase())||"",He=we.includes(de)||We.includes(de)||Me.includes(de)||ze.includes(de),dt=(ye==null?void 0:ye.is_active)??!1,qt=(ye==null?void 0:ye.status)||"unknown";return He&&(D==="all"||D==="active"&&qt==="active"&&dt||D==="inactive"&&(qt==="inactive"||!dt)||D==="graduated"&&qt==="graduated")}),ee=ye=>{M(ye.target.value)};J.reduce((ye,de)=>{const we=de.status||"active";return ye[we]||(ye[we]=[]),ye[we].push(de),ye},{});const G=()=>c.jsxs("div",{className:"admin-scholar-form-group",children:[c.jsx("label",{children:"Status"}),c.jsxs("select",{name:"status",value:s.status,onChange:B,required:!0,children:[c.jsx("option",{value:"active",children:"Active"}),c.jsx("option",{value:"inactive",children:"Inactive"}),c.jsx("option",{value:"graduated",children:"Graduated"})]})]}),Z=async()=>{try{const de=await(await fetch(`${tl}/api/users/role/scholar`)).json();_(de)}catch(ye){console.error("Error fetching scholar users:",ye)}},se=async ye=>{try{if(l(We=>({...We,assignedUserId:ye})),!u){y(""),P(!1);return}const de=await fetch(`${tl}/api/scholars/${u==null?void 0:u.id}/assign-user`,{method:"POST",body:JSON.stringify({userId:ye}),headers:{"Content-Type":"application/json"},credentials:"include"});if(!de.ok)throw new Error("Failed to assign user");const we=await de.json();if(u){const We={id:we.assigned_user_id,name:we.assigned_user_name,email:we.assigned_user_email,profile_photo:we.assigned_user_profile_photo};d(Me=>Me?{...Me,assigned_user:We}:null),a(Me=>Me.map(ze=>ze.id===u.id?{...ze,assigned_user:We}:ze))}y(""),P(!1),alert("Scholar user assigned successfully")}catch(de){console.error("Error assigning scholar:",de),alert("Failed to assign scholar user")}},ae=async()=>{if(u&&window.confirm("Are you sure you want to remove this user assignment?"))try{const ye=await fetch(`${tl}/api/scholars/${u.id}/unassign-user`,{method:"DELETE",credentials:"include"});if(!ye.ok)throw new Error("Failed to unassign user");const de=await ye.json();a(we=>we.map(We=>We.id===de.id?{...de,assigned_user:void 0}:We)),d(we=>we?{...we,assigned_user:void 0}:null)}catch(ye){console.error("Error unassigning user:",ye),alert("Failed to remove user assignment")}},Y=()=>c.jsxs("div",{className:"scholar-user-search",children:[N&&S.length>0&&c.jsx("div",{className:"search-suggestions",children:S.map(ye=>c.jsxs("div",{className:"suggestion-item",onClick:()=>se(ye.id),children:[c.jsx("img",{src:ye.profile_photo||"/images/default-avatar.jpg",alt:ye.name,className:"suggestion-avatar"}),c.jsxs("div",{className:"suggestion-info",children:[c.jsx("div",{className:"suggestion-name",children:ye.name}),c.jsx("div",{className:"suggestion-email",children:ye.email})]})]},ye.id))}),c.jsx("div",{className:"divider"}),(u==null?void 0:u.assigned_user)&&c.jsxs("div",{className:"current-assignment",children:[c.jsx("h4",{children:"Currently Assigned User:"}),c.jsxs("div",{className:"assigned-user-info",children:[c.jsx("img",{src:u.assigned_user.profile_photo||"/images/default-avatar.jpg",alt:u.assigned_user.name,className:"assigned-user-avatar"}),c.jsxs("div",{className:"assigned-user-details",children:[c.jsxs("p",{children:[c.jsx("strong",{children:"Name:"})," ",u.assigned_user.name]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Email:"})," ",u.assigned_user.email]})]}),c.jsx("button",{className:"remove-assignment-btn",onClick:ae,title:"Remove assignment",children:c.jsx(Of,{})})]})]})]}),X=ye=>{const de=window.scrollY;document.documentElement.style.setProperty("--scroll-y",`${de}px`),d(ye),j(!0),Z()},K=ye=>c.jsxs("div",{className:"admin-scholar-card-actions",children:[c.jsx("button",{className:"admin-scholar-view-btn",onClick:()=>O(ye.id),children:"View Details"}),c.jsx("button",{className:"admin-scholar-edit-btn",onClick:()=>H(ye.id),children:"Edit Profile"}),c.jsx("button",{className:"admin-scholar-assign-btn",onClick:()=>X(ye),children:"Assign User"})]}),F=()=>c.jsx("div",{className:"admin-scholar-modal-overlay",onClick:()=>j(!1),children:c.jsxs("div",{className:"admin-scholar-modal",onClick:ye=>ye.stopPropagation(),children:[c.jsx("h2",{children:"Assign User Account"}),Y(),c.jsx("button",{className:"admin-scholar-cancel-btn",onClick:()=>j(!1),children:"Close"})]})});E.useEffect(()=>{(i||p)&&Z()},[i,p]);const re=()=>u?c.jsx("div",{className:"admin-scholar-modal-overlay",onClick:()=>R?t("/admin/maps"):h(!1),children:c.jsxs("div",{className:"admin-scholar-modal",onClick:ye=>ye.stopPropagation(),children:[c.jsx("h2",{children:"Scholar Details"}),c.jsxs("div",{className:"admin-scholar-details",children:[c.jsx("img",{src:u.image_url?`${u.image_url}`:u.profile_photo?`${tl}${u.profile_photo}`:"https://via.placeholder.com/150",alt:`${u.first_name} ${u.last_name}`,className:"admin-scholar-detail-image"}),c.jsxs("div",{className:"admin-scholar-info-details",children:[c.jsxs("p",{children:[c.jsx("strong",{children:"Name:"})," ",u.first_name," ",u.last_name]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Address:"})," ",u.address]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Date of Birth:"})," ",new Date(u.date_of_birth).toLocaleDateString()]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Gender:"})," ",u.gender]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Education Level:"})," ",u.education_level]}),c.jsxs("p",{children:[c.jsx("strong",{children:"School:"})," ",u.school]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Guardian Name:"})," ",u.guardian_name]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Guardian Phone:"})," ",u.guardian_phone]}),u.other_details&&c.jsxs("div",{className:"admin-scholar-other-details",children:[c.jsx("p",{children:c.jsx("strong",{children:"Details:"})}),c.jsx("p",{children:u.other_details})]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Status:"})," ",c.jsx("span",{className:`status-${u.is_active?"active":"inactive"}`,children:u.is_active?"Active":"Inactive"})]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Verification Status:"})," ",c.jsx("span",{className:`status-${u.is_verified?"verified":"unverified"}`,children:u.is_verified?"Verified":"Not Verified"})]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Current Amount:"})," ",(u.current_amount||0).toLocaleString()]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Amount Needed:"})," ",(u.amount_needed||0).toLocaleString()]})]})]}),c.jsxs("div",{className:"admin-scholar-modal-actions",children:[R&&c.jsx("button",{className:"admin-scholar-back-btn",onClick:()=>t("/Maps"),children:"Back to Map"}),c.jsx("button",{className:"admin-scholar-close-btn",onClick:()=>R?t("/Scholars/Management"):h(!1),children:R?"Go to Scholar List":"Close"})]})]})}):null,Q=ye=>ye.assigned_user?c.jsxs("div",{className:"assigned-user-badge",children:[c.jsx("img",{src:ye.assigned_user.profile_photo||"/images/default-avatar.jpg",alt:ye.assigned_user.name,className:"assigned-user-avatar-small"}),c.jsx("span",{children:ye.assigned_user.name})]}):null,oe=()=>{o(!1),l(uS)},me=()=>{m(!1),d(null),l(uS)},be=ye=>{if(!ye)return"/images/default-avatar.jpg";const de=ye.image_url,we=ye.profile_photo;return de?`${tl}${de}`:we?`${tl}${we}`:"/images/default-avatar.jpg"};return c.jsxs("div",{className:"admin-scholar-container",children:[!R&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"admin-scholar-header",children:[c.jsx("h1",{children:"Scholar Profiles"}),c.jsxs("div",{className:"admin-scholar-actions",children:[c.jsx("input",{type:"text",placeholder:"Search scholars...",className:"admin-scholar-search",value:x,onChange:z}),c.jsxs("select",{className:"admin-scholar-filter",value:D,onChange:ee,children:[c.jsx("option",{value:"all",children:"All Scholars"}),c.jsx("option",{value:"active",children:"Active"}),c.jsx("option",{value:"inactive",children:"Inactive"}),c.jsx("option",{value:"graduated",children:"Graduated"})]})]})]}),c.jsxs("div",{className:"admin-scholar-sections",children:[c.jsx("div",{className:"admin-scholar-grid",children:J.filter(ye=>(D==="all"||D==="active")&&ye.status==="active"&&ye.is_active).map(ye=>c.jsxs("div",{className:"admin-scholar-card",children:[c.jsx("img",{src:be(ye),alt:`${ye.first_name} ${ye.last_name}`,className:"admin-scholar-image",onError:de=>{const we=de.target;we.src="/images/default-avatar.jpg"}}),c.jsxs("div",{className:"admin-scholar-info",children:[c.jsxs("h3",{children:[ye.first_name," ",ye.last_name]}),c.jsx("div",{className:"admin-scholar-badges",children:ye.is_verified&&c.jsx("span",{className:"admin-scholar-verified-badge",children:"Verified"})}),c.jsx(TD,{currentAmount:ye.current_amount||0,amountNeeded:ye.amount_needed||1}),c.jsxs("p",{children:["Status: ",ye.is_active?"Active":"Inactive"]}),c.jsxs("p",{children:["Education Level: ",ye.education_level]}),c.jsxs("p",{children:["School: ",ye.school]}),Q(ye),K(ye)]})]},ye.id))}),J.some(ye=>!ye.is_active||ye.status==="inactive")&&c.jsxs(c.Fragment,{children:[c.jsx("h2",{className:"section-title",children:"For Endorsement"}),c.jsx("div",{className:"admin-scholar-grid",children:J.filter(ye=>!ye.is_active||ye.status==="inactive").map(ye=>c.jsxs("div",{className:"admin-scholar-card inactive",children:[c.jsx("img",{src:be(ye),alt:`${ye.first_name} ${ye.last_name}`,className:"admin-scholar-image",onError:de=>{const we=de.target;we.src="/images/default-avatar.jpg"}}),c.jsxs("div",{className:"admin-scholar-info",children:[c.jsxs("h3",{children:[ye.first_name," ",ye.last_name]}),c.jsx("div",{className:"admin-scholar-badges",children:ye.is_verified&&c.jsx("span",{className:"admin-scholar-verified-badge",children:"Verified"})}),c.jsx(TD,{currentAmount:ye.current_amount||0,amountNeeded:ye.amount_needed||1}),c.jsxs("p",{children:["Status: ",ye.is_active?"Active":"Inactive"]}),c.jsxs("p",{children:["Year Level: ",ye.education_level]}),c.jsxs("p",{children:["School: ",ye.school]}),Q(ye),K(ye)]})]},ye.id))})]}),J.some(ye=>ye.status==="graduated")&&c.jsxs(c.Fragment,{children:[c.jsx("h2",{className:"graduated-section-title",children:"Graduated Scholars"}),c.jsx("div",{className:"admin-scholar-grid",children:J.filter(ye=>ye.status==="graduated").map(ye=>c.jsxs("div",{className:"admin-scholar-card graduated",children:[c.jsx("img",{src:be(ye),alt:`${ye.first_name} ${ye.last_name}`,className:"admin-scholar-image",onError:de=>{const we=de.target;we.src="/images/default-avatar.jpg"}}),c.jsxs("div",{className:"admin-scholar-info",children:[c.jsxs("h3",{children:[ye.first_name," ",ye.last_name]}),c.jsx("div",{className:"admin-scholar-badges",children:ye.is_verified&&c.jsx("span",{className:"admin-scholar-verified-badge",children:"Verified"})}),c.jsx(TD,{currentAmount:ye.current_amount||0,amountNeeded:ye.amount_needed||1}),c.jsxs("p",{children:["Status: ",ye.is_active?"Active":"Inactive"]}),c.jsxs("p",{children:["Year Level: ",ye.education_level]}),c.jsxs("p",{children:["School: ",ye.school]}),Q(ye),K(ye)]})]},ye.id))})]})]})]}),(f||R)&&u&&re(),p&&u&&c.jsx("div",{className:"admin-scholar-modal-overlay",onClick:me,children:c.jsxs("div",{className:"admin-scholar-modal",onClick:ye=>ye.stopPropagation(),children:[c.jsx("h2",{children:"Edit Scholar"}),c.jsxs("form",{onSubmit:ne,className:"admin-scholar-form",children:[c.jsxs("div",{className:"admin-scholar-image-upload",children:[c.jsx("input",{type:"file",id:"scholarImage",accept:"image/*",onChange:V,className:"admin-scholar-image-input",hidden:!0}),c.jsx("label",{htmlFor:"scholarImage",className:"admin-scholar-image-label",children:s.imagePreview?c.jsx("img",{src:s.imagePreview,alt:"Preview",className:"admin-scholar-image-preview"}):c.jsxs("div",{className:"admin-scholar-image-placeholder",children:[c.jsx(Ab,{size:24}),c.jsx("span",{children:"Upload Photo"})]})})]}),c.jsxs("div",{className:"admin-scholar-form-row",children:[c.jsxs("div",{className:"admin-scholar-form-group",children:[c.jsx("label",{children:"First Name"}),c.jsx("input",{type:"text",name:"firstName",value:s.firstName,onChange:B,required:!0})]}),c.jsxs("div",{className:"admin-scholar-form-group",children:[c.jsx("label",{children:"Last Name"}),c.jsx("input",{type:"text",name:"lastName",value:s.lastName,onChange:B,required:!0})]})]}),c.jsxs("div",{className:"admin-scholar-form-group",children:[c.jsx("label",{children:"Address"}),c.jsx("input",{type:"text",name:"address",value:s.address,onChange:B,required:!0})]}),c.jsxs("div",{className:"admin-scholar-form-row",children:[c.jsxs("div",{className:"admin-scholar-form-group",children:[c.jsx("label",{children:"Date of Birth"}),c.jsx("input",{type:"date",name:"dateOfBirth",value:s.dateOfBirth,onChange:B,required:!0})]}),c.jsxs("div",{className:"admin-scholar-form-group",children:[c.jsx("label",{children:"Gender"}),c.jsxs("select",{name:"gender",value:s.gender,onChange:B,required:!0,children:[c.jsx("option",{value:"",children:"Select Gender"}),c.jsx("option",{value:"male",children:"Male"}),c.jsx("option",{value:"female",children:"Female"})]})]})]}),c.jsxs("div",{className:"admin-scholar-form-row",children:[c.jsxs("div",{className:"admin-scholar-form-group",children:[c.jsx("label",{children:"Education Level"}),c.jsxs("select",{name:"gradeLevel",value:s.gradeLevel,onChange:B,required:!0,children:[c.jsx("option",{value:"",children:"Select Education Level"}),c.jsx("option",{value:"Elementary",children:"Elementary"}),c.jsx("option",{value:"Junior High School",children:"Junior High School"}),c.jsx("option",{value:"Senior High School",children:"Senior High School"}),c.jsx("option",{value:"Vocational",children:"Vocational"}),c.jsx("option",{value:"College",children:"College"}),c.jsx("option",{value:"Graduate School",children:"Graduate School"})]})]}),c.jsxs("div",{className:"admin-scholar-form-group",children:[c.jsx("label",{children:"School"}),c.jsx("input",{type:"text",name:"school",value:s.school,onChange:B,required:!0})]})]}),c.jsxs("div",{className:"admin-scholar-form-row",children:[c.jsxs("div",{className:"admin-scholar-form-group",children:[c.jsx("label",{children:"Guardian Name"}),c.jsx("input",{type:"text",name:"guardianName",value:s.guardianName,onChange:B,required:!0})]}),c.jsxs("div",{className:"admin-scholar-form-group",children:[c.jsx("label",{children:"Guardian Phone"}),c.jsx("input",{type:"tel",name:"guardianPhone",value:s.guardianPhone,onChange:B,required:!0})]})]}),c.jsxs("div",{className:"admin-scholar-form-group",children:[c.jsx("label",{children:"Details"}),c.jsx("textarea",{name:"otherDetails",value:s.otherDetails,onChange:B,rows:4})]}),c.jsx("div",{className:"admin-scholar-form-row",children:c.jsx(G,{})}),c.jsxs("div",{className:"admin-scholar-form-row",children:[c.jsxs("div",{className:"admin-scholar-form-group",children:[c.jsx("label",{children:"Current Amount"}),c.jsx("input",{type:"number",name:"currentAmount",value:s.currentAmount,onChange:B,min:"0",step:"0.01"})]}),c.jsxs("div",{className:"admin-scholar-form-group",children:[c.jsx("label",{children:"Amount Needed"}),c.jsx("input",{type:"number",name:"amountNeeded",value:s.amountNeeded,onChange:B,min:"0",step:"0.01"})]})]}),c.jsxs("div",{className:"admin-scholar-form-actions",children:[c.jsx("button",{type:"button",className:"admin-scholar-cancel-btn",onClick:me,children:"Cancel"}),c.jsx("button",{type:"submit",className:"admin-scholar-save-btn",children:"Update Scholar"})]})]})]})}),i&&c.jsx("div",{className:"admin-scholar-modal-overlay",onClick:oe,children:c.jsxs("div",{className:"admin-scholar-modal",onClick:ye=>ye.stopPropagation(),children:[c.jsx("h2",{children:"Add New Scholar"}),c.jsxs("form",{onSubmit:q,className:"admin-scholar-form",children:[c.jsxs("div",{className:"admin-scholar-image-upload",children:[c.jsx("input",{type:"file",id:"scholarImage",accept:"image/*",onChange:V,className:"admin-scholar-image-input",hidden:!0}),c.jsx("label",{htmlFor:"scholarImage",className:"admin-scholar-image-label",children:s.imagePreview?c.jsx("img",{src:s.imagePreview,alt:"Preview",className:"admin-scholar-image-preview"}):c.jsxs("div",{className:"admin-scholar-image-placeholder",children:[c.jsx(Ab,{size:24}),c.jsx("span",{children:"Upload Photo"})]})})]}),c.jsxs("div",{className:"admin-scholar-form-row",children:[c.jsxs("div",{className:"admin-scholar-form-group",children:[c.jsx("label",{children:"First Name"}),c.jsx("input",{type:"text",name:"firstName",value:s.firstName,onChange:B,placeholder:"Enter first name",required:!0})]}),c.jsxs("div",{className:"admin-scholar-form-group",children:[c.jsx("label",{children:"Last Name"}),c.jsx("input",{type:"text",name:"lastName",value:s.lastName,onChange:B,placeholder:"Enter last name",required:!0})]})]}),c.jsxs("div",{className:"admin-scholar-form-group",children:[c.jsx("label",{children:"Address"}),c.jsx("input",{type:"text",name:"address",value:s.address,onChange:B,placeholder:"Enter complete address",required:!0})]}),c.jsxs("div",{className:"admin-scholar-form-row",children:[c.jsxs("div",{className:"admin-scholar-form-group",children:[c.jsx("label",{children:"Date of Birth"}),c.jsx("input",{type:"date",name:"dateOfBirth",value:s.dateOfBirth,onChange:B,placeholder:"Select date of birth",required:!0})]}),c.jsxs("div",{className:"admin-scholar-form-group",children:[c.jsx("label",{children:"Gender"}),c.jsxs("select",{name:"gender",value:s.gender,onChange:B,required:!0,children:[c.jsx("option",{value:"",children:"Select Gender"}),c.jsx("option",{value:"male",children:"Male"}),c.jsx("option",{value:"female",children:"Female"})]})]})]}),c.jsxs("div",{className:"admin-scholar-form-row",children:[c.jsxs("div",{className:"admin-scholar-form-group",children:[c.jsx("label",{children:"Education Level"}),c.jsxs("select",{name:"gradeLevel",value:s.gradeLevel,onChange:B,required:!0,children:[c.jsx("option",{value:"",children:"Select Education Level"}),c.jsx("option",{value:"Elementary",children:"Elementary"}),c.jsx("option",{value:"Junior High School",children:"Junior High School"}),c.jsx("option",{value:"Senior High School",children:"Senior High School"}),c.jsx("option",{value:"Vocational",children:"Vocational"}),c.jsx("option",{value:"College",children:"College"}),c.jsx("option",{value:"Graduate School",children:"Graduate School"})]})]}),c.jsxs("div",{className:"admin-scholar-form-group",children:[c.jsx("label",{children:"School"}),c.jsx("input",{type:"text",name:"school",value:s.school,onChange:B,placeholder:"Enter school name",required:!0})]})]}),c.jsxs("div",{className:"admin-scholar-form-row",children:[c.jsxs("div",{className:"admin-scholar-form-group",children:[c.jsx("label",{children:"Guardian Name"}),c.jsx("input",{type:"text",name:"guardianName",value:s.guardianName,onChange:B,placeholder:"Enter guardian's full name",required:!0})]}),c.jsxs("div",{className:"admin-scholar-form-group",children:[c.jsx("label",{children:"Guardian Phone"}),c.jsx("input",{type:"tel",name:"guardianPhone",value:s.guardianPhone,onChange:B,placeholder:"Enter guardian's phone number",required:!0})]})]}),c.jsxs("div",{className:"admin-scholar-form-group",children:[c.jsx("label",{children:"Details"}),c.jsx("textarea",{name:"otherDetails",value:s.otherDetails,onChange:B,rows:4,placeholder:"Enter any additional details about the scholar"})]}),c.jsx("div",{className:"admin-scholar-form-row",children:c.jsx(G,{})}),c.jsxs("div",{className:"admin-scholar-form-row",children:[c.jsxs("div",{className:"admin-scholar-form-group",children:[c.jsx("label",{children:"Current Amount"}),c.jsx("input",{type:"number",name:"currentAmount",value:s.currentAmount,onChange:B,min:"0",step:"0.01",placeholder:"Enter current amount"})]}),c.jsxs("div",{className:"admin-scholar-form-group",children:[c.jsx("label",{children:"Amount Needed"}),c.jsx("input",{type:"number",name:"amountNeeded",value:s.amountNeeded,onChange:B,min:"0",step:"0.01",placeholder:"Enter amount needed"})]})]}),c.jsxs("div",{className:"admin-scholar-form-actions",children:[c.jsx("button",{type:"button",className:"admin-scholar-cancel-btn",onClick:oe,children:"Cancel"}),c.jsx("button",{type:"submit",className:"admin-scholar-save-btn",children:"Save Scholar"})]})]})]})}),T&&u&&F()]})},CY=e=>{if(!e)return"One-time";switch(e){case"monthly":return"Monthly";case"quarterly":return"Quarterly";case"semi_annual":return"Semi-Annual";case"annual":return"Annual";default:return e.charAt(0).toUpperCase()+e.slice(1).replace("_","-")}},Ort=()=>{const[e,t]=E.useState([]),[n,r]=E.useState(!1),[a,i]=E.useState(null),[o,s]=E.useState(!0),[l,u]=E.useState("pending"),[d,f]=E.useState(null),[h,p]=E.useState(!1),[m,g]=E.useState(!1),[y,x]=E.useState(null),[b,w]=E.useState(!1),[_,S]=E.useState(null),[k,N]=E.useState(new Set);E.useEffect(()=>{P();const V=setInterval(P,3e4);return()=>clearInterval(V)},[]);const P=async()=>{try{s(!0),x(null);const V=new Date().getTime(),q=await Le.get(`/scholardonations/all?timestamp=${V}`);if(console.log("Response from API:",q),!q.data)throw new Error("No data received from server");if(console.log("Fetched scholar donations:",q.data),!Array.isArray(q.data))throw new Error("Invalid data format received from server");const I=q.data.map(O=>{console.log("Processing donation:",O),console.log("Scholar name field:",O.scholar_name),console.log("Scholar_id:",O.scholar_id);const H=["scholar_name","scholarName","scholar_fullname","scholar.name","scholarFullName"];let ne=null;for(const z of H){const J=z.includes(".")?z.split(".").reduce((ee,G)=>ee&&ee[G],O):O[z];if(J){console.log(`Found scholar name in field: ${z} = ${J}`),ne=J;break}}return{...O,donor_name:O.donor_name||"Anonymous",scholar_name:ne||O.scholar_name,scholar_first_name:O.scholar_first_name||(O.scholar?O.scholar.first_name:""),scholar_last_name:O.scholar_last_name||(O.scholar?O.scholar.last_name:""),proof_image:O.proof_of_payment||O.proof_image}});console.log("Processed donations:",I),t(I),s(!1)}catch(V){console.error("Error fetching donations:",V),x("Failed to load scholar donations data"),s(!1)}},T=async V=>{const q=e.find(O=>O.id===V);if(!q)return;let I="Unknown Scholar";if(q.scholar_name?I=q.scholar_name:q.scholar_first_name?I=q.scholar_first_name+(q.scholar_last_name?" "+q.scholar_last_name:""):q.scholar&&q.scholar.first_name&&(I=q.scholar.first_name+(q.scholar.last_name?" "+q.scholar.last_name:"")),!!window.confirm(`Verify this donation for ${I}?`))try{w(!0),await Le.post(`/scholardonations/verify/${V}`),await P(),S({text:"Donation verified successfully!",type:"success"}),setTimeout(()=>{S(null)},3e3)}catch(O){console.error("Error verifying donation:",O),S({text:"Failed to verify donation. Please try again.",type:"error"}),setTimeout(()=>{S(null)},5e3)}finally{w(!1)}},j=async V=>{const q=window.prompt("Please enter reason for rejection (optional):");try{w(!0),await Le.post(`/scholardonations/reject/${V}`,{reason:q||""}),await P(),S({text:"Donation rejected successfully.",type:"success"}),setTimeout(()=>{S(null)},3e3)}catch(I){console.error("Error rejecting donation:",I),S({text:"Failed to reject donation. Please try again.",type:"error"}),setTimeout(()=>{S(null)},5e3)}finally{w(!1)}},D=V=>{i(V),r(!0)},M=async V=>{if(!(!V||!V.id)){if(V.scholar_name?V.scholar_name:V.scholar_first_name?V.scholar_first_name+(V.scholar_last_name?" "+V.scholar_last_name:""):V.scholar&&V.scholar.first_name&&V.scholar.first_name+(V.scholar.last_name?" "+V.scholar.last_name:""),V.verification_status!=="verified"){alert("Only verified donations can receive certificates");return}if(!V.donor_email){alert("Cannot send certificate: Donor email is missing");return}if(window.confirm(`Send donation certificate to ${V.donor_name} (${V.donor_email})?`))try{N(I=>new Set(I).add(V.id));const q=await Le.post(`/scholardonations/send-certificate/${V.id}`);if(q.data.success)S({text:"Certificate sent successfully!",type:"success"}),await P();else throw new Error(q.data.message||"Failed to send certificate");setTimeout(()=>{S(null)},3e3)}catch(q){console.error("Error sending certificate:",q),S({text:"Failed to send certificate. Please try again.",type:"error"}),setTimeout(()=>{S(null)},5e3)}finally{N(q=>{const I=new Set(q);return I.delete(V.id),I})}}},R=e.filter(V=>V.verification_status===l),W=V=>e.filter(q=>q.verification_status===V).reduce((q,I)=>q+Number(I.amount),0),B=V=>{if(!V)return"N/A";try{return new Date(V).toLocaleString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0})}catch(q){return console.error("Error formatting date:",q),"Invalid Date"}};return o?c.jsx("div",{className:"loading-container",children:"Loading scholar donations..."}):y?c.jsxs("div",{className:"error-container",children:["Error: ",y]}):c.jsxs("div",{className:"bank-container",children:[c.jsxs("div",{className:"bank-header",children:[c.jsx("h1",{className:"bank-title",children:"Scholar Donations Management"}),c.jsx("div",{className:"bank-actions",children:c.jsx("div",{className:"bank-tab-buttons",children:["pending","verified","rejected"].map(V=>c.jsx("button",{className:`bank-tab-buttons ${l===V?"active":""}`,onClick:()=>u(V),children:V.charAt(0).toUpperCase()+V.slice(1)},V))})})]}),_&&c.jsxs("div",{className:`action-message ${_.type}`,style:{padding:"10px 20px",borderRadius:"4px",margin:"10px 0",backgroundColor:_.type==="success"?"#d4edda":"#f8d7da",color:_.type==="success"?"#155724":"#721c24",border:`1px solid ${_.type==="success"?"#c3e6cb":"#f5c6cb"}`,textAlign:"center",position:"relative",fontWeight:"500"},children:[_.text,c.jsx("span",{style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",cursor:"pointer",fontSize:"18px"},onClick:()=>S(null),children:""})]}),c.jsxs("div",{className:"stats-grid",children:[c.jsxs("div",{className:"stat-card total",children:[c.jsx("h3",{className:"stat-title",children:"Pending Donations"}),c.jsxs("p",{className:"stat-value",children:["",W("pending").toLocaleString()]})]}),c.jsxs("div",{className:"stat-card monthly",children:[c.jsx("h3",{className:"stat-title",children:"Verified Donations"}),c.jsxs("p",{className:"stat-value",children:["",W("verified").toLocaleString()]})]}),c.jsxs("div",{className:"stat-card pending",children:[c.jsx("h3",{className:"stat-title",children:"Rejected Donations"}),c.jsxs("p",{className:"stat-value",children:["",W("rejected").toLocaleString()]})]})]}),b&&c.jsxs("div",{style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",padding:"20px",backgroundColor:"rgba(255, 255, 255, 0.9)",borderRadius:"8px",boxShadow:"0 0 10px rgba(0,0,0,0.2)",zIndex:1e3,display:"flex",flexDirection:"column",alignItems:"center",gap:"10px"},children:[c.jsx("div",{className:"loading-spinner"}),c.jsx("p",{children:"Processing request..."})]}),R.length===0?c.jsxs("div",{className:"no-data-message",children:["No ",l," donations found."]}):c.jsx("div",{className:"donation-table",children:c.jsxs("table",{children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"Date"}),c.jsx("th",{children:"Scholar"}),c.jsx("th",{children:"Amount"}),c.jsx("th",{children:"Donor"}),c.jsx("th",{children:"Method"}),c.jsx("th",{children:"Frequency"})," ",c.jsx("th",{children:"Status"}),c.jsx("th",{children:"Actions"})]})}),c.jsx("tbody",{children:R.map(V=>{console.log("Rendering donation row:",V);let q="Unknown Scholar (ID: "+V.scholar_id+")";return V.scholar_name?q=V.scholar_name:V.scholar_first_name?q=V.scholar_first_name+(V.scholar_last_name?" "+V.scholar_last_name:""):V.scholar&&V.scholar.first_name&&(q=V.scholar.first_name+(V.scholar.last_name?" "+V.scholar.last_name:"")),console.log("Scholar name display value:",q),c.jsxs("tr",{children:[c.jsx("td",{children:B(V.created_at)}),c.jsx("td",{children:q}),c.jsxs("td",{children:["",Number(V.amount).toLocaleString()]}),c.jsx("td",{children:V.donor_name||"Anonymous"}),c.jsx("td",{children:V.payment_method}),c.jsx("td",{children:CY(V.frequency)})," ",c.jsx("td",{children:c.jsx("span",{className:`status-badge ${V.verification_status}`,children:V.verification_status})}),c.jsx("td",{children:c.jsxs("div",{className:"action-button-bank",children:[c.jsx("button",{className:"view-button",onClick:()=>{f(V),p(!0)},children:"View"}),V.verification_status==="verified"&&V.donor_email&&c.jsx("button",{className:"certificate-button",onClick:()=>M(V),disabled:k.has(V.id),title:V.certificate_sent?"Certificate already sent":"Send donation certificate",children:k.has(V.id)?"Sending...":V.certificate_sent?"Resend":"Certificate"}),V.verification_status==="pending"&&c.jsxs(c.Fragment,{children:[c.jsx("button",{className:"verify-button",onClick:()=>T(V.id),disabled:b,children:b?"Processing...":"Verify"}),c.jsx("button",{className:"reject-button",onClick:()=>j(V.id),disabled:b,children:b?"Processing...":"Reject"})]})]})})]},V.id)})})]})}),n&&a&&c.jsx("div",{className:"modal-overlay proof-overlay",onClick:()=>r(!1),children:c.jsxs("div",{className:`modal-content proof-modal ${m?"enlarged":""}`,onClick:V=>V.stopPropagation(),children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{children:"Proof of Payment"}),c.jsx("button",{className:"close-button",onClick:()=>r(!1),children:""})]}),c.jsx("div",{className:"modal-body proof-modal-body",children:c.jsx("img",{src:a,alt:"Proof of Payment",className:"proof-modal-image",onClick:()=>g(!m),style:{cursor:"zoom-in"}})})]})}),h&&d&&c.jsx("div",{className:"modal-overlay",children:c.jsxs("div",{className:"modal-content",children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{children:"Donation Details"}),c.jsx("button",{className:"close-button",onClick:()=>p(!1),children:""})]}),c.jsxs("div",{className:"modal-body",children:[c.jsxs("div",{className:"detail-group",children:[c.jsx("label",{children:"Scholar Name:"}),c.jsx("p",{children:d.scholar_name?d.scholar_name:d.scholar_first_name?d.scholar_first_name+(d.scholar_last_name?" "+d.scholar_last_name:""):d.scholar?d.scholar.first_name+(d.scholar.last_name?" "+d.scholar.last_name:""):`Unknown Scholar (ID: ${d.scholar_id})`})]}),c.jsxs("div",{className:"detail-group",children:[c.jsx("label",{children:"Donor Name:"}),c.jsx("p",{children:d.donor_name||"Anonymous"})]}),c.jsxs("div",{className:"detail-group",children:[c.jsx("label",{children:"Email:"}),c.jsx("p",{children:d.donor_email||"Not provided"})]}),c.jsxs("div",{className:"detail-group",children:[c.jsx("label",{children:"Contact Number:"}),c.jsx("p",{children:d.donor_phone||"Not provided"})]}),c.jsxs("div",{className:"detail-group",children:[c.jsx("label",{children:"Amount:"}),c.jsxs("p",{children:["",Number(d.amount).toLocaleString()]})]}),c.jsxs("div",{className:"detail-group",children:[c.jsx("label",{children:"Payment Method:"}),c.jsx("p",{children:d.payment_method})]}),c.jsxs("div",{className:"detail-group",children:[c.jsx("label",{children:"Frequency:"}),c.jsx("p",{children:CY(d.frequency)})]}),c.jsxs("div",{className:"detail-group",children:[c.jsx("label",{children:"Date:"}),c.jsx("p",{children:B(d.created_at)})]}),d.message&&c.jsxs("div",{className:"detail-group",children:[c.jsx("label",{children:"Message:"}),c.jsx("p",{children:d.message})]}),d.proof_image&&c.jsxs("div",{className:"detail-group",children:[c.jsx("label",{children:"Proof of Payment:"}),c.jsx("div",{className:"proof-preview",children:c.jsx("img",{src:d.proof_image,alt:"Proof of Payment",className:"proof-thumbnail",onClick:()=>D(d.proof_image)})})]}),d.verification_status==="verified"&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"detail-group",children:[c.jsx("label",{children:"Verified At:"}),c.jsx("p",{children:d.verified_at?B(d.verified_at):"N/A"})]}),c.jsxs("div",{className:"detail-group",children:[c.jsx("label",{children:"Verified By:"}),c.jsx("p",{children:d.verified_by||"N/A"})]}),c.jsxs("div",{className:"detail-group",children:[c.jsx("label",{children:"Certificate Status:"}),c.jsx("p",{children:d.certificate_sent?`Certificate sent on ${B(d.certificate_sent_at)}`:"Certificate not sent yet"})]})]}),d.verification_status==="rejected"&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"detail-group",children:[c.jsx("label",{children:"Rejected At:"}),c.jsx("p",{children:B(d.rejected_at)})]}),c.jsxs("div",{className:"detail-group",children:[c.jsx("label",{children:"Rejected By:"}),c.jsx("p",{children:d.rejected_by||"N/A"})]}),c.jsxs("div",{className:"detail-group",children:[c.jsx("label",{children:"Rejection Reason:"}),c.jsx("p",{children:d.rejection_reason||"No reason provided"})]})]})]}),d.verification_status==="pending"&&c.jsxs("div",{className:"modal-footer",children:[c.jsx("button",{className:"verify-button",onClick:()=>{p(!1),T(d.id)},disabled:b,children:b?"Processing...":"Verify Donation"}),c.jsx("button",{className:"reject-button",onClick:()=>{p(!1),j(d.id)},disabled:b,children:b?"Processing...":"Reject Donation"})]})]})})]})},Mrt=()=>{const[e,t]=E.useState("all"),[n,r]=E.useState([]),[a,i]=E.useState(null),[o,s]=E.useState(!1),[l,u]=E.useState(!1),[d,f]=E.useState(null),[h,p]=E.useState(!1),[m,g]=E.useState(null),y=E.useRef(null),[x,b]=E.useState(!1),w=E.useRef(null),_=E.useRef(null),[S,k]=E.useState([]),[N,P]=E.useState(!1),[T,j]=E.useState([]),[D,M]=E.useState(!1),R={grade1:"Grade 1",grade2:"Grade 2",grade3:"Grade 3",grade4:"Grade 4",grade5:"Grade 5",grade6:"Grade 6",grade7:"Grade 7 (Junior High)",grade8:"Grade 8 (Junior High)",grade9:"Grade 9 (Junior High)",grade10:"Grade 10 (Junior High)",grade11:"Grade 11 (Senior High)",grade12:"Grade 12 (Senior High)",college:"College"};E.useEffect(()=>{W();const X=setInterval(W,3e4);return()=>clearInterval(X)},[]),E.useEffect(()=>{B()},[n]);const W=async()=>{try{const{data:X}=await Le.get("/scholars/report-cards/all"),K=X.map(F=>({...F,status:F.status==="pending"?"in_review":F.status}));console.log("Processed reports:",K),r(K)}catch(X){console.error("Error loading report cards:",X)}},B=()=>{const X=n.filter(re=>re.status==="verified"),K={};X.forEach(re=>{const Q=re.grade_level||"unknown";K[Q]||(K[Q]=[]),K[Q].push(re)});const F=Object.entries(K).map(([re,Q])=>({label:R[re]||re,reports:Q}));F.sort((re,Q)=>{if(re.label.toLowerCase().includes("college"))return 1;if(Q.label.toLowerCase().includes("college"))return-1;const oe=re.label.match(/grade(\d+)/i),me=Q.label.match(/grade(\d+)/i);return oe&&me?parseInt(oe[1])-parseInt(me[1]):re.label.localeCompare(Q.label)}),k(F)},V=async(X,K)=>{try{await Le.put(`/scholars/report-cards/${X}/verify`),await W(),alert(`Report card for ${K||"scholar"} has been verified successfully! A notification has been sent to the scholar.`)}catch(F){console.error("Error verifying report card:",F),alert("Failed to verify report card")}},q=async(X,K)=>{const F=window.prompt("Please provide a reason for rejection:");if(!F){alert("A rejection reason is required");return}try{await Le.put(`/scholars/report-cards/${X}/reject`,{reason:F}),await W(),alert(`Report card rejected. ${K||"The scholar"} will be notified to submit a new report card.`)}catch(re){console.error("Error rejecting report card:",re),alert("Failed to reject report card. Please try again.")}},I=async(X,K)=>{if(window.confirm(`Are you sure you want to request ${K||"this scholar"} to submit a new report card? They will need to provide their grade level and upload new report card images.`))try{await Le.put(`/scholars/report-cards/${X}/renew`),await W(),alert(`${K||"Scholar"} has been notified to submit a new report card. Their previous submissions will remain in the system until deleted.`)}catch(F){console.error("Error requesting report card renewal:",F),alert("Failed to request report card renewal")}},O=X=>{i(X),s(!0)},H=X=>{f(X),u(!0)},ne=X=>{g(X),p(!0),b(!1),document.body.classList.add("printing-report");const K=()=>{var Q,oe;const F=((Q=w.current)==null?void 0:Q.complete)&&w.current.naturalHeight!==0,re=((oe=_.current)==null?void 0:oe.complete)&&_.current.naturalHeight!==0;F&&re?(b(!0),setTimeout(()=>{window.print(),setTimeout(()=>{p(!1),g(null),document.body.classList.remove("printing-report")},500)},500)):setTimeout(K,200)};setTimeout(K,200)},z=async(X,K)=>{M(!0);try{const{data:F}=await Le.get(`/scholars/report-card/${X}/history`);j(F),P(!0)}catch(F){console.error("Error loading report card history:",F),alert("Failed to load report card history")}finally{M(!1)}},J=X=>new Date(X).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),ee=X=>{switch(X){case"in_review":return"#3498db";case"verified":return"#2ecc71";case"rejected":return"#e74c3c";default:return"#666"}},G=X=>X.status==="rejected"?"Rejected":X.status.replace("_"," "),Z=()=>e==="all"?n:e==="by-grade"?n.filter(X=>X.status==="verified"):n.filter(X=>X.status===e),se=X=>{if(!X)return"Not specified";switch(X.toLowerCase()){case"1st":return"1st Grading";case"2nd":return"2nd Grading";case"3rd":return"3rd Grading";case"4th":return"4th Grading";case"1st_sem":return"1st Semester";case"2nd_sem":return"2nd Semester";case"3rd_sem":return"3rd Semester";default:return X}},ae=X=>X.toLowerCase().includes("college")?{icon:c.jsx(qSe,{className:"grade-level-icon"}),color:"#2c3e50"}:X.toLowerCase().includes("senior")?{icon:c.jsx(YSe,{className:"grade-level-icon"}),color:"#8e44ad"}:X.toLowerCase().includes("junior")?{icon:c.jsx(WSe,{className:"grade-level-icon"}),color:"#2980b9"}:X.match(/grade [7-9]/i)?{icon:c.jsx(RSe,{className:"grade-level-icon"}),color:"#27ae60"}:{icon:c.jsx(wL,{className:"grade-level-icon"}),color:"#e67e22"},Y=X=>{const{icon:K,color:F}=ae(X.label);return c.jsxs("div",{className:"grade-level-section",children:[c.jsxs("div",{className:"grade-level-header",style:{backgroundColor:F},children:[K,c.jsxs("h3",{className:"grade-level-title",children:[X.label,c.jsxs("span",{className:"scholar-count",children:["(",X.reports.length," scholars)"]})]})]}),c.jsx("div",{className:"grade-level-content",children:c.jsx("div",{className:"scholars-grid",children:X.reports.map(re=>c.jsxs("div",{className:"scholar-card",children:[c.jsxs("div",{className:"scholar-info",children:[c.jsx("h4",{children:re.user_name}),c.jsxs("p",{className:"submission-date",children:["Submitted: ",J(re.submitted_at)]}),c.jsxs("p",{className:"grading-period",children:["Grading Period: ",se(re.grading_period)]})]}),c.jsxs("div",{className:"report-actions",children:[c.jsx("button",{className:"view-images-btn",onClick:()=>H(re.front_image),children:"View Front"}),c.jsx("button",{className:"view-images-btn",onClick:()=>H(re.back_image),children:"View Back"})]}),c.jsxs("div",{className:"card-actions",children:[c.jsx("button",{onClick:()=>O(re),children:"Details"}),c.jsx("button",{onClick:()=>ne(re),children:"Print"})]})]},re.id))})})]},X.label)};return c.jsxs("div",{className:"scholar-reports-container",children:[!h&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"reports-header",children:[c.jsx("h1",{children:"Scholar Report Cards"}),c.jsxs("div",{className:"view-buttons",children:[c.jsx("button",{className:e==="all"?"active":"",onClick:()=>t("all"),children:"All Reports"}),c.jsxs("button",{className:`status-button in-review ${e==="in_review"?"active":""}`,onClick:()=>t("in_review"),children:["In Review (",n.filter(X=>X.status==="in_review").length,")"]}),c.jsxs("button",{className:`status-button verified ${e==="verified"?"active":""}`,onClick:()=>t("verified"),children:["Verified (",n.filter(X=>X.status==="verified").length,")"]}),c.jsxs("button",{className:`status-button rejected ${e==="rejected"?"active":""}`,onClick:()=>t("rejected"),children:["Rejected (",n.filter(X=>X.status==="rejected").length,")"]}),c.jsx("button",{className:`status-button grade-level ${e==="by-grade"?"active":""}`,onClick:()=>t("by-grade"),children:"By Grade Level"})]})]}),e==="by-grade"?c.jsx("div",{className:"grade-level-container",children:S.length===0?c.jsx("div",{className:"no-reports-message",children:c.jsx("p",{children:"No verified report cards found. Verify some report cards to see them organized by grade level."})}):c.jsx("div",{className:"grade-level-groups",children:S.map(Y)})}):c.jsx("div",{className:"reports-table",children:c.jsxs("table",{children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"Date Submitted"}),c.jsx("th",{children:"Scholar Name"}),c.jsx("th",{children:"Grade Level"}),c.jsx("th",{children:"Grading Period"}),c.jsx("th",{children:"Status"}),c.jsx("th",{children:"Images"}),c.jsx("th",{children:"Actions"})]})}),c.jsx("tbody",{children:Z().map(X=>c.jsxs("tr",{children:[c.jsx("td",{children:J(X.submitted_at)}),c.jsx("td",{children:X.user_name}),c.jsx("td",{children:R[X.grade_level]||X.grade_level||"Unknown"}),c.jsx("td",{children:se(X.grading_period)}),c.jsx("td",{children:c.jsxs("span",{className:"status-badge",style:{backgroundColor:ee(X.status)},children:[G(X)," (",X.verification_step,"/3)"]})}),c.jsxs("td",{children:[c.jsx("button",{className:"image-view-button",onClick:()=>H(X.front_image),children:"Front"}),c.jsx("button",{className:"image-view-button",onClick:()=>H(X.back_image),children:"Back"})]}),c.jsx("td",{children:X.status==="in_review"?c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:()=>V(X.id,X.user_name),children:"Verify"}),c.jsx("button",{onClick:()=>q(X.id,X.user_name),className:"reject-button",children:"Reject"}),c.jsx("button",{onClick:()=>ne(X),className:"print-btn",children:"Print"})]}):c.jsxs(c.Fragment,{children:[c.jsx("button",{className:"view-details-button",onClick:()=>O(X),children:"View Details"}),c.jsx("button",{onClick:()=>ne(X),className:"print-btn",children:"Print"}),X.status==="verified"&&c.jsx("button",{onClick:()=>I(X.id,X.user_name),className:"renew-btn",children:"Renew"}),c.jsx("button",{onClick:()=>z(X.user_id,X.user_name),className:"history-btn",children:"History"})]})})]},X.id))})]})}),o&&a&&c.jsx("div",{className:"modal-overlay",children:c.jsxs("div",{className:"modal-content",children:[c.jsx("h2",{children:"Report Card Details"}),c.jsxs("div",{className:"report-details",children:[c.jsxs("p",{children:[c.jsx("strong",{children:"Scholar:"})," ",a.user_name]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Email:"})," ",a.user_email]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Grade Level:"})," ",R[a.grade_level]||a.grade_level]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Grading Period:"})," ",se(a.grading_period)]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Submitted:"})," ",J(a.submitted_at)]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Status:"})," ",a.status]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Verification Step:"})," ",a.verification_step,"/3"]})]}),c.jsxs("div",{className:"modal-actions",children:[c.jsx("button",{onClick:()=>ne(a),className:"print-btn",children:"Print Report"}),c.jsx("button",{className:"report-modal-close-button",onClick:()=>s(!1),children:"Close"})]})]})}),l&&d&&c.jsx("div",{className:"modal-overlay",children:c.jsxs("div",{className:"modal-content",children:[c.jsx("img",{src:d,alt:"Report Card",style:{maxWidth:"100%"}}),c.jsx("div",{className:"report-modal-close-button",onClick:()=>u(!1),children:"Close"})]})}),N&&c.jsx("div",{className:"modal-overlay",children:c.jsxs("div",{className:"modal-content history-modal",children:[c.jsx("h2",{children:"Report Card History"}),D?c.jsx("p",{children:"Loading history..."}):T.length===0?c.jsx("p",{children:"No previous report card submissions found."}):c.jsx("div",{className:"history-list",children:c.jsxs("table",{children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"School Year"}),c.jsx("th",{children:"Grade Level"}),c.jsx("th",{children:"Grading Period"}),c.jsx("th",{children:"Status"}),c.jsx("th",{children:"Submitted"}),c.jsx("th",{children:"Archived"}),c.jsx("th",{children:"Reason"})]})}),c.jsx("tbody",{children:T.map(X=>c.jsxs("tr",{children:[c.jsx("td",{children:X.school_year||"N/A"}),c.jsx("td",{children:R[X.grade_level]||X.grade_level||"Unknown"}),c.jsx("td",{children:se(X.grading_period)}),c.jsx("td",{children:X.status.replace("_"," ")}),c.jsx("td",{children:J(X.submitted_at)}),c.jsx("td",{children:J(X.archived_at)}),c.jsx("td",{children:X.renewal_reason||"Manual renewal"})]},X.history_id))})]})}),c.jsx("button",{className:"report-modal-close-button",onClick:()=>P(!1),children:"Close"})]})})]}),h&&m&&c.jsxs("div",{className:"print-container",ref:y,children:[c.jsxs("div",{className:"print-page",children:[c.jsxs("div",{className:"print-header",children:[c.jsx("h1",{children:"Scholar Report Card"}),c.jsxs("p",{className:"print-date",children:["Printed: ",new Date().toLocaleDateString()]})]}),c.jsxs("div",{className:"print-report-details",children:[c.jsx("h2",{children:"Scholar Information"}),c.jsxs("p",{children:[c.jsx("strong",{children:"Name:"})," ",m.user_name||"N/A"]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Email:"})," ",m.user_email||"N/A"]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Grade Level:"})," ",R[m.grade_level]||m.grade_level]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Grading Period:"})," ",se(m.grading_period)]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Submitted:"})," ",J(m.submitted_at)]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Status:"})," ",m.status.replace("_"," ")]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Verification Step:"})," ",m.verification_step,"/3"]})]}),c.jsx("h3",{className:"print-images-title",children:"Report Card Images"}),c.jsxs("div",{className:"print-images-row",children:[c.jsxs("div",{className:"print-image-container",children:[c.jsx("h4",{children:"Front Side"}),c.jsx("img",{ref:w,src:m.front_image,alt:"Report Card Front",onLoad:()=>w.current&&console.log("Front image loaded"),onError:()=>console.error("Error loading front image")})]}),c.jsxs("div",{className:"print-image-container",children:[c.jsx("h4",{children:"Back Side"}),c.jsx("img",{ref:_,src:m.back_image,alt:"Report Card Back",onLoad:()=>_.current&&console.log("Back image loaded"),onError:()=>console.error("Error loading back image")})]})]}),c.jsx("div",{className:"print-footer",children:c.jsx("p",{children:"This document is confidential and intended only for administrative purposes."})})]}),!x&&c.jsx("div",{className:"print-loading",children:"Loading images for printing..."})]})]})};var Irt=Array.isArray,ps=Irt,Rrt=typeof Pg=="object"&&Pg&&Pg.Object===Object&&Pg,Xde=Rrt,Frt=Xde,Lrt=typeof self=="object"&&self&&self.Object===Object&&self,$rt=Frt||Lrt||Function("return this")(),Fu=$rt,Brt=Fu,zrt=Brt.Symbol,v2=zrt,EY=v2,Zde=Object.prototype,Urt=Zde.hasOwnProperty,Wrt=Zde.toString,sx=EY?EY.toStringTag:void 0;function Vrt(e){var t=Urt.call(e,sx),n=e[sx];try{e[sx]=void 0;var r=!0}catch{}var a=Wrt.call(e);return r&&(t?e[sx]=n:delete e[sx]),a}var Hrt=Vrt,qrt=Object.prototype,Grt=qrt.toString;function Yrt(e){return Grt.call(e)}var Krt=Yrt,NY=v2,Xrt=Hrt,Zrt=Krt,Qrt="[object Null]",Jrt="[object Undefined]",kY=NY?NY.toStringTag:void 0;function eat(e){return e==null?e===void 0?Jrt:Qrt:kY&&kY in Object(e)?Xrt(e):Zrt(e)}var Xd=eat;function tat(e){return e!=null&&typeof e=="object"}var Zd=tat,nat=Xd,rat=Zd,aat="[object Symbol]";function iat(e){return typeof e=="symbol"||rat(e)&&nat(e)==aat}var ly=iat,oat=ps,sat=ly,lat=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,cat=/^\w*$/;function uat(e,t){if(oat(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||sat(e)?!0:cat.test(e)||!lat.test(e)||t!=null&&e in Object(t)}var L$=uat;function dat(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Rh=dat;const cy=sr(Rh);var fat=Xd,hat=Rh,pat="[object AsyncFunction]",mat="[object Function]",gat="[object GeneratorFunction]",vat="[object Proxy]";function yat(e){if(!hat(e))return!1;var t=fat(e);return t==mat||t==gat||t==pat||t==vat}var $$=yat;const zn=sr($$);var xat=Fu,bat=xat["__core-js_shared__"],wat=bat,PD=wat,jY=function(){var e=/[^.]+$/.exec(PD&&PD.keys&&PD.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function _at(e){return!!jY&&jY in e}var Sat=_at,Cat=Function.prototype,Eat=Cat.toString;function Nat(e){if(e!=null){try{return Eat.call(e)}catch{}try{return e+""}catch{}}return""}var Qde=Nat,kat=$$,jat=Sat,Tat=Rh,Pat=Qde,Aat=/[\\^$.*+?()[\]{}|]/g,Dat=/^\[object .+?Constructor\]$/,Oat=Function.prototype,Mat=Object.prototype,Iat=Oat.toString,Rat=Mat.hasOwnProperty,Fat=RegExp("^"+Iat.call(Rat).replace(Aat,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Lat(e){if(!Tat(e)||jat(e))return!1;var t=kat(e)?Fat:Dat;return t.test(Pat(e))}var $at=Lat;function Bat(e,t){return e==null?void 0:e[t]}var zat=Bat,Uat=$at,Wat=zat;function Vat(e,t){var n=Wat(e,t);return Uat(n)?n:void 0}var qm=Vat,Hat=qm,qat=Hat(Object,"create"),LT=qat,TY=LT;function Gat(){this.__data__=TY?TY(null):{},this.size=0}var Yat=Gat;function Kat(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Xat=Kat,Zat=LT,Qat="__lodash_hash_undefined__",Jat=Object.prototype,eit=Jat.hasOwnProperty;function tit(e){var t=this.__data__;if(Zat){var n=t[e];return n===Qat?void 0:n}return eit.call(t,e)?t[e]:void 0}var nit=tit,rit=LT,ait=Object.prototype,iit=ait.hasOwnProperty;function oit(e){var t=this.__data__;return rit?t[e]!==void 0:iit.call(t,e)}var sit=oit,lit=LT,cit="__lodash_hash_undefined__";function uit(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=lit&&t===void 0?cit:t,this}var dit=uit,fit=Yat,hit=Xat,pit=nit,mit=sit,git=dit;function uy(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}uy.prototype.clear=fit;uy.prototype.delete=hit;uy.prototype.get=pit;uy.prototype.has=mit;uy.prototype.set=git;var vit=uy;function yit(){this.__data__=[],this.size=0}var xit=yit;function bit(e,t){return e===t||e!==e&&t!==t}var B$=bit,wit=B$;function _it(e,t){for(var n=e.length;n--;)if(wit(e[n][0],t))return n;return-1}var $T=_it,Sit=$T,Cit=Array.prototype,Eit=Cit.splice;function Nit(e){var t=this.__data__,n=Sit(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():Eit.call(t,n,1),--this.size,!0}var kit=Nit,jit=$T;function Tit(e){var t=this.__data__,n=jit(t,e);return n<0?void 0:t[n][1]}var Pit=Tit,Ait=$T;function Dit(e){return Ait(this.__data__,e)>-1}var Oit=Dit,Mit=$T;function Iit(e,t){var n=this.__data__,r=Mit(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var Rit=Iit,Fit=xit,Lit=kit,$it=Pit,Bit=Oit,zit=Rit;function dy(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}dy.prototype.clear=Fit;dy.prototype.delete=Lit;dy.prototype.get=$it;dy.prototype.has=Bit;dy.prototype.set=zit;var BT=dy,Uit=qm,Wit=Fu,Vit=Uit(Wit,"Map"),z$=Vit,PY=vit,Hit=BT,qit=z$;function Git(){this.size=0,this.__data__={hash:new PY,map:new(qit||Hit),string:new PY}}var Yit=Git;function Kit(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Xit=Kit,Zit=Xit;function Qit(e,t){var n=e.__data__;return Zit(t)?n[typeof t=="string"?"string":"hash"]:n.map}var zT=Qit,Jit=zT;function eot(e){var t=Jit(this,e).delete(e);return this.size-=t?1:0,t}var tot=eot,not=zT;function rot(e){return not(this,e).get(e)}var aot=rot,iot=zT;function oot(e){return iot(this,e).has(e)}var sot=oot,lot=zT;function cot(e,t){var n=lot(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var uot=cot,dot=Yit,fot=tot,hot=aot,pot=sot,mot=uot;function fy(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}fy.prototype.clear=dot;fy.prototype.delete=fot;fy.prototype.get=hot;fy.prototype.has=pot;fy.prototype.set=mot;var U$=fy,Jde=U$,got="Expected a function";function W$(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(got);var n=function(){var r=arguments,a=t?t.apply(this,r):r[0],i=n.cache;if(i.has(a))return i.get(a);var o=e.apply(this,r);return n.cache=i.set(a,o)||i,o};return n.cache=new(W$.Cache||Jde),n}W$.Cache=Jde;var efe=W$;const vot=sr(efe);var yot=efe,xot=500;function bot(e){var t=yot(e,function(r){return n.size===xot&&n.clear(),r}),n=t.cache;return t}var wot=bot,_ot=wot,Sot=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Cot=/\\(\\)?/g,Eot=_ot(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Sot,function(n,r,a,i){t.push(a?i.replace(Cot,"$1"):r||n)}),t}),Not=Eot;function kot(e,t){for(var n=-1,r=e==null?0:e.length,a=Array(r);++n<r;)a[n]=t(e[n],n,e);return a}var V$=kot,AY=v2,jot=V$,Tot=ps,Pot=ly,DY=AY?AY.prototype:void 0,OY=DY?DY.toString:void 0;function tfe(e){if(typeof e=="string")return e;if(Tot(e))return jot(e,tfe)+"";if(Pot(e))return OY?OY.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var Aot=tfe,Dot=Aot;function Oot(e){return e==null?"":Dot(e)}var nfe=Oot,Mot=ps,Iot=L$,Rot=Not,Fot=nfe;function Lot(e,t){return Mot(e)?e:Iot(e,t)?[e]:Rot(Fot(e))}var rfe=Lot,$ot=ly;function Bot(e){if(typeof e=="string"||$ot(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var UT=Bot,zot=rfe,Uot=UT;function Wot(e,t){t=zot(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[Uot(t[n++])];return n&&n==r?e:void 0}var H$=Wot,Vot=H$;function Hot(e,t,n){var r=e==null?void 0:Vot(e,t);return r===void 0?n:r}var afe=Hot;const yc=sr(afe);function qot(e){return e==null}var Got=qot;const er=sr(Got);var Yot=Xd,Kot=ps,Xot=Zd,Zot="[object String]";function Qot(e){return typeof e=="string"||!Kot(e)&&Xot(e)&&Yot(e)==Zot}var Jot=Qot;const y2=sr(Jot);var ife={exports:{}},Dr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q$=Symbol.for("react.element"),G$=Symbol.for("react.portal"),WT=Symbol.for("react.fragment"),VT=Symbol.for("react.strict_mode"),HT=Symbol.for("react.profiler"),qT=Symbol.for("react.provider"),GT=Symbol.for("react.context"),est=Symbol.for("react.server_context"),YT=Symbol.for("react.forward_ref"),KT=Symbol.for("react.suspense"),XT=Symbol.for("react.suspense_list"),ZT=Symbol.for("react.memo"),QT=Symbol.for("react.lazy"),tst=Symbol.for("react.offscreen"),ofe;ofe=Symbol.for("react.module.reference");function Ll(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case q$:switch(e=e.type,e){case WT:case HT:case VT:case KT:case XT:return e;default:switch(e=e&&e.$$typeof,e){case est:case GT:case YT:case QT:case ZT:case qT:return e;default:return t}}case G$:return t}}}Dr.ContextConsumer=GT;Dr.ContextProvider=qT;Dr.Element=q$;Dr.ForwardRef=YT;Dr.Fragment=WT;Dr.Lazy=QT;Dr.Memo=ZT;Dr.Portal=G$;Dr.Profiler=HT;Dr.StrictMode=VT;Dr.Suspense=KT;Dr.SuspenseList=XT;Dr.isAsyncMode=function(){return!1};Dr.isConcurrentMode=function(){return!1};Dr.isContextConsumer=function(e){return Ll(e)===GT};Dr.isContextProvider=function(e){return Ll(e)===qT};Dr.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===q$};Dr.isForwardRef=function(e){return Ll(e)===YT};Dr.isFragment=function(e){return Ll(e)===WT};Dr.isLazy=function(e){return Ll(e)===QT};Dr.isMemo=function(e){return Ll(e)===ZT};Dr.isPortal=function(e){return Ll(e)===G$};Dr.isProfiler=function(e){return Ll(e)===HT};Dr.isStrictMode=function(e){return Ll(e)===VT};Dr.isSuspense=function(e){return Ll(e)===KT};Dr.isSuspenseList=function(e){return Ll(e)===XT};Dr.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===WT||e===HT||e===VT||e===KT||e===XT||e===tst||typeof e=="object"&&e!==null&&(e.$$typeof===QT||e.$$typeof===ZT||e.$$typeof===qT||e.$$typeof===GT||e.$$typeof===YT||e.$$typeof===ofe||e.getModuleId!==void 0)};Dr.typeOf=Ll;ife.exports=Dr;var nst=ife.exports,rst=Xd,ast=Zd,ist="[object Number]";function ost(e){return typeof e=="number"||ast(e)&&rst(e)==ist}var sfe=ost;const sst=sr(sfe);var lst=sfe;function cst(e){return lst(e)&&e!=+e}var ust=cst;const x2=sr(ust);var wl=function(t){return t===0?0:t>0?1:-1},xI=function(t){return y2(t)&&t.indexOf("%")===t.length-1},Xt=function(t){return sst(t)&&!x2(t)},fi=function(t){return Xt(t)||y2(t)},dst=0,JT=function(t){var n=++dst;return"".concat(t||"").concat(n)},Qo=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Xt(t)&&!y2(t))return r;var i;if(xI(t)){var o=t.indexOf("%");i=n*parseFloat(t.slice(0,o))/100}else i=+t;return x2(i)&&(i=r),a&&i>n&&(i=n),i},Tg=function(t){if(!t)return null;var n=Object.keys(t);return n&&n.length?t[n[0]]:null},fst=function(t){if(!Array.isArray(t))return!1;for(var n=t.length,r={},a=0;a<n;a++)if(!r[t[a]])r[t[a]]=!0;else return!0;return!1},MY=function(t,n){return Xt(t)&&Xt(n)?function(r){return t+r*(n-t)}:function(){return n}};function bI(e,t,n){return!e||!e.length?null:e.find(function(r){return r&&(typeof t=="function"?t(r):yc(r,t))===n})}function wI(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function _I(e){"@babel/helpers - typeof";return _I=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_I(e)}var hst=["viewBox","children"],pst=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],IY=["points","pathLength"],AD={svg:hst,polygon:IY,polyline:IY},Y$=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],NN=function(t,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(E.isValidElement(t)&&(r=t.props),!cy(r))return null;var a={};return Object.keys(r).forEach(function(i){Y$.includes(i)&&(a[i]=n||function(o){return r[i](r,o)})}),a},mst=function(t,n,r){return function(a){return t(n,r,a),null}},eP=function(t,n,r){if(!cy(t)||_I(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var o=t[i];Y$.includes(i)&&typeof o=="function"&&(a||(a={}),a[i]=mst(o,n,r))}),a},gst=["children"],vst=["children"];function RY(e,t){if(e==null)return{};var n=yst(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function yst(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var FY={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},ih=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},LY=null,DD=null,K$=function e(t){if(t===LY&&Array.isArray(DD))return DD;var n=[];return E.Children.forEach(t,function(r){er(r)||(nst.isFragment(r)?n=n.concat(e(r.props.children)):n.push(r))}),DD=n,LY=t,n};function Cu(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(function(a){return ih(a)}):r=[ih(t)],K$(e).forEach(function(a){var i=yc(a,"type.displayName")||yc(a,"type.name");r.indexOf(i)!==-1&&n.push(a)}),n}function ul(e,t){var n=Cu(e,t);return n&&n[0]}var $Y=function(t){if(!t||!t.props)return!1;var n=t.props,r=n.width,a=n.height;return!(!Xt(r)||r<=0||!Xt(a)||a<=0)},xst=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],bst=function(t){return t&&t.type&&y2(t.type)&&xst.indexOf(t.type)>=0},wst=function(t,n,r,a){var i,o=(i=AD==null?void 0:AD[a])!==null&&i!==void 0?i:[];return n.startsWith("data-")||!zn(t)&&(a&&o.includes(n)||pst.includes(n))||r&&Y$.includes(n)},Bn=function(t,n,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(E.isValidElement(t)&&(a=t.props),!cy(a))return null;var i={};return Object.keys(a).forEach(function(o){var s;wst((s=a)===null||s===void 0?void 0:s[o],o,n,r)&&(i[o]=a[o])}),i},SI=function e(t,n){if(t===n)return!0;var r=E.Children.count(t);if(r!==E.Children.count(n))return!1;if(r===0)return!0;if(r===1)return BY(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var a=0;a<r;a++){var i=t[a],o=n[a];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!BY(i,o))return!1}return!0},BY=function(t,n){if(er(t)&&er(n))return!0;if(!er(t)&&!er(n)){var r=t.props||{},a=r.children,i=RY(r,gst),o=n.props||{},s=o.children,l=RY(o,vst);return a&&s?wI(i,l)&&SI(a,s):!a&&!s?wI(i,l):!1}return!1},zY=function(t,n){var r=[],a={};return K$(t).forEach(function(i,o){if(bst(i))r.push(i);else if(i){var s=ih(i.type),l=n[s]||{},u=l.handler,d=l.once;if(u&&(!d||!a[s])){var f=u(i,s,o);r.push(f),a[s]=!0}}}),r},_st=function(t){var n=t&&t.type;return n&&FY[n]?FY[n]:null},Sst=function(t,n){return K$(n).indexOf(t)},Cst=["children","width","height","viewBox","className","style","title","desc"];function CI(){return CI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},CI.apply(this,arguments)}function Est(e,t){if(e==null)return{};var n=Nst(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Nst(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function EI(e){var t=e.children,n=e.width,r=e.height,a=e.viewBox,i=e.className,o=e.style,s=e.title,l=e.desc,u=Est(e,Cst),d=a||{width:n,height:r,x:0,y:0},f=Tt("recharts-surface",i);return le.createElement("svg",CI({},Bn(u,!0,"svg"),{className:f,width:n,height:r,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),le.createElement("title",null,s),le.createElement("desc",null,l),t)}var kst=["children","className"];function NI(){return NI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},NI.apply(this,arguments)}function jst(e,t){if(e==null)return{};var n=Tst(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Tst(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var Fa=le.forwardRef(function(e,t){var n=e.children,r=e.className,a=jst(e,kst),i=Tt("recharts-layer",r);return le.createElement("g",NI({className:i},Bn(a,!0),{ref:t}),n)}),y0=function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),i=2;i<r;i++)a[i-2]=arguments[i]};function Pst(e,t,n){var r=-1,a=e.length;t<0&&(t=-t>a?0:a+t),n=n>a?a:n,n<0&&(n+=a),a=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(a);++r<a;)i[r]=e[r+t];return i}var Ast=Pst,Dst=Ast;function Ost(e,t,n){var r=e.length;return n=n===void 0?r:n,!t&&n>=r?e:Dst(e,t,n)}var Mst=Ost,Ist="\\ud800-\\udfff",Rst="\\u0300-\\u036f",Fst="\\ufe20-\\ufe2f",Lst="\\u20d0-\\u20ff",$st=Rst+Fst+Lst,Bst="\\ufe0e\\ufe0f",zst="\\u200d",Ust=RegExp("["+zst+Ist+$st+Bst+"]");function Wst(e){return Ust.test(e)}var lfe=Wst;function Vst(e){return e.split("")}var Hst=Vst,cfe="\\ud800-\\udfff",qst="\\u0300-\\u036f",Gst="\\ufe20-\\ufe2f",Yst="\\u20d0-\\u20ff",Kst=qst+Gst+Yst,Xst="\\ufe0e\\ufe0f",Zst="["+cfe+"]",kI="["+Kst+"]",jI="\\ud83c[\\udffb-\\udfff]",Qst="(?:"+kI+"|"+jI+")",ufe="[^"+cfe+"]",dfe="(?:\\ud83c[\\udde6-\\uddff]){2}",ffe="[\\ud800-\\udbff][\\udc00-\\udfff]",Jst="\\u200d",hfe=Qst+"?",pfe="["+Xst+"]?",elt="(?:"+Jst+"(?:"+[ufe,dfe,ffe].join("|")+")"+pfe+hfe+")*",tlt=pfe+hfe+elt,nlt="(?:"+[ufe+kI+"?",kI,dfe,ffe,Zst].join("|")+")",rlt=RegExp(jI+"(?="+jI+")|"+nlt+tlt,"g");function alt(e){return e.match(rlt)||[]}var ilt=alt,olt=Hst,slt=lfe,llt=ilt;function clt(e){return slt(e)?llt(e):olt(e)}var ult=clt,dlt=Mst,flt=lfe,hlt=ult,plt=nfe;function mlt(e){return function(t){t=plt(t);var n=flt(t)?hlt(t):void 0,r=n?n[0]:t.charAt(0),a=n?dlt(n,1).join(""):t.slice(1);return r[e]()+a}}var glt=mlt,vlt=glt,ylt=vlt("toUpperCase"),xlt=ylt;const tP=sr(xlt);function qr(e){return function(){return e}}const mfe=Math.cos,kN=Math.sin,Nc=Math.sqrt,jN=Math.PI,nP=2*jN,TI=Math.PI,PI=2*TI,fp=1e-6,blt=PI-fp;function gfe(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function wlt(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return gfe;const n=10**t;return function(r){this._+=r[0];for(let a=1,i=r.length;a<i;++a)this._+=Math.round(arguments[a]*n)/n+r[a]}}class _lt{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?gfe:wlt(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,a){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+a}`}bezierCurveTo(t,n,r,a,i,o){this._append`C${+t},${+n},${+r},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,n,r,a,i){if(t=+t,n=+n,r=+r,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,s=this._y1,l=r-t,u=a-n,d=o-t,f=s-n,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(h>fp)if(!(Math.abs(f*l-u*d)>fp)||!i)this._append`L${this._x1=t},${this._y1=n}`;else{let p=r-o,m=a-s,g=l*l+u*u,y=p*p+m*m,x=Math.sqrt(g),b=Math.sqrt(h),w=i*Math.tan((TI-Math.acos((g+h-y)/(2*x*b)))/2),_=w/b,S=w/x;Math.abs(_-1)>fp&&this._append`L${t+_*d},${n+_*f}`,this._append`A${i},${i},0,0,${+(f*p>d*m)},${this._x1=t+S*l},${this._y1=n+S*u}`}}arc(t,n,r,a,i,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(a),l=r*Math.sin(a),u=t+s,d=n+l,f=1^o,h=o?a-i:i-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>fp||Math.abs(this._y1-d)>fp)&&this._append`L${u},${d}`,r&&(h<0&&(h=h%PI+PI),h>blt?this._append`A${r},${r},0,1,${f},${t-s},${n-l}A${r},${r},0,1,${f},${this._x1=u},${this._y1=d}`:h>fp&&this._append`A${r},${r},0,${+(h>=TI)},${f},${this._x1=t+r*Math.cos(i)},${this._y1=n+r*Math.sin(i)}`)}rect(t,n,r,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+a}h${-r}Z`}toString(){return this._}}function X$(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new _lt(t)}function Z$(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function vfe(e){this._context=e}vfe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function rP(e){return new vfe(e)}function yfe(e){return e[0]}function xfe(e){return e[1]}function bfe(e,t){var n=qr(!0),r=null,a=rP,i=null,o=X$(s);e=typeof e=="function"?e:e===void 0?yfe:qr(e),t=typeof t=="function"?t:t===void 0?xfe:qr(t);function s(l){var u,d=(l=Z$(l)).length,f,h=!1,p;for(r==null&&(i=a(p=o())),u=0;u<=d;++u)!(u<d&&n(f=l[u],u,l))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,u,l),+t(f,u,l));if(p)return i=null,p+""||null}return s.x=function(l){return arguments.length?(e=typeof l=="function"?l:qr(+l),s):e},s.y=function(l){return arguments.length?(t=typeof l=="function"?l:qr(+l),s):t},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:qr(!!l),s):n},s.curve=function(l){return arguments.length?(a=l,r!=null&&(i=a(r)),s):a},s.context=function(l){return arguments.length?(l==null?r=i=null:i=a(r=l),s):r},s}function dS(e,t,n){var r=null,a=qr(!0),i=null,o=rP,s=null,l=X$(u);e=typeof e=="function"?e:e===void 0?yfe:qr(+e),t=typeof t=="function"?t:qr(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?xfe:qr(+n);function u(f){var h,p,m,g=(f=Z$(f)).length,y,x=!1,b,w=new Array(g),_=new Array(g);for(i==null&&(s=o(b=l())),h=0;h<=g;++h){if(!(h<g&&a(y=f[h],h,f))===x)if(x=!x)p=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),m=h-1;m>=p;--m)s.point(w[m],_[m]);s.lineEnd(),s.areaEnd()}x&&(w[h]=+e(y,h,f),_[h]=+t(y,h,f),s.point(r?+r(y,h,f):w[h],n?+n(y,h,f):_[h]))}if(b)return s=null,b+""||null}function d(){return bfe().defined(a).curve(o).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:qr(+f),r=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:qr(+f),u):e},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:qr(+f),u):r},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:qr(+f),n=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:qr(+f),u):t},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:qr(+f),u):n},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(n)},u.lineX1=function(){return d().x(r).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:qr(!!f),u):a},u.curve=function(f){return arguments.length?(o=f,i!=null&&(s=o(i)),u):o},u.context=function(f){return arguments.length?(f==null?i=s=null:s=o(i=f),u):i},u}class wfe{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function Slt(e){return new wfe(e,!0)}function Clt(e){return new wfe(e,!1)}const Q$={draw(e,t){const n=Nc(t/jN);e.moveTo(n,0),e.arc(0,0,n,0,nP)}},Elt={draw(e,t){const n=Nc(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},_fe=Nc(1/3),Nlt=_fe*2,klt={draw(e,t){const n=Nc(t/Nlt),r=n*_fe;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},jlt={draw(e,t){const n=Nc(t),r=-n/2;e.rect(r,r,n,n)}},Tlt=.8908130915292852,Sfe=kN(jN/10)/kN(7*jN/10),Plt=kN(nP/10)*Sfe,Alt=-mfe(nP/10)*Sfe,Dlt={draw(e,t){const n=Nc(t*Tlt),r=Plt*n,a=Alt*n;e.moveTo(0,-n),e.lineTo(r,a);for(let i=1;i<5;++i){const o=nP*i/5,s=mfe(o),l=kN(o);e.lineTo(l*n,-s*n),e.lineTo(s*r-l*a,l*r+s*a)}e.closePath()}},OD=Nc(3),Olt={draw(e,t){const n=-Nc(t/(OD*3));e.moveTo(0,n*2),e.lineTo(-OD*n,-n),e.lineTo(OD*n,-n),e.closePath()}},nl=-.5,rl=Nc(3)/2,AI=1/Nc(12),Mlt=(AI/2+1)*3,Ilt={draw(e,t){const n=Nc(t/Mlt),r=n/2,a=n*AI,i=r,o=n*AI+n,s=-i,l=o;e.moveTo(r,a),e.lineTo(i,o),e.lineTo(s,l),e.lineTo(nl*r-rl*a,rl*r+nl*a),e.lineTo(nl*i-rl*o,rl*i+nl*o),e.lineTo(nl*s-rl*l,rl*s+nl*l),e.lineTo(nl*r+rl*a,nl*a-rl*r),e.lineTo(nl*i+rl*o,nl*o-rl*i),e.lineTo(nl*s+rl*l,nl*l-rl*s),e.closePath()}};function Rlt(e,t){let n=null,r=X$(a);e=typeof e=="function"?e:qr(e||Q$),t=typeof t=="function"?t:qr(t===void 0?64:+t);function a(){let i;if(n||(n=i=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),i)return n=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:qr(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:qr(+i),a):t},a.context=function(i){return arguments.length?(n=i??null,a):n},a}function TN(){}function PN(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function Cfe(e){this._context=e}Cfe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:PN(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:PN(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Flt(e){return new Cfe(e)}function Efe(e){this._context=e}Efe.prototype={areaStart:TN,areaEnd:TN,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:PN(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Llt(e){return new Efe(e)}function Nfe(e){this._context=e}Nfe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:PN(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function $lt(e){return new Nfe(e)}function kfe(e){this._context=e}kfe.prototype={areaStart:TN,areaEnd:TN,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Blt(e){return new kfe(e)}function UY(e){return e<0?-1:1}function WY(e,t,n){var r=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(r||a<0&&-0),o=(n-e._y1)/(a||r<0&&-0),s=(i*a+o*r)/(r+a);return(UY(i)+UY(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(s))||0}function VY(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function MD(e,t,n){var r=e._x0,a=e._y0,i=e._x1,o=e._y1,s=(i-r)/3;e._context.bezierCurveTo(r+s,a+s*t,i-s,o-s*n,i,o)}function AN(e){this._context=e}AN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:MD(this,this._t0,VY(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,MD(this,VY(this,n=WY(this,e,t)),n);break;default:MD(this,this._t0,n=WY(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function jfe(e){this._context=new Tfe(e)}(jfe.prototype=Object.create(AN.prototype)).point=function(e,t){AN.prototype.point.call(this,t,e)};function Tfe(e){this._context=e}Tfe.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,a,i){this._context.bezierCurveTo(t,e,r,n,i,a)}};function zlt(e){return new AN(e)}function Ult(e){return new jfe(e)}function Pfe(e){this._context=e}Pfe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=HY(e),a=HY(t),i=0,o=1;o<n;++i,++o)this._context.bezierCurveTo(r[0][i],a[0][i],r[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function HY(e){var t,n=e.length-1,r,a=new Array(n),i=new Array(n),o=new Array(n);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[n-1]=2,i[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=a[t]/i[t-1],i[t]-=r,o[t]-=r*o[t-1];for(a[n-1]=o[n-1]/i[n-1],t=n-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[n-1]=(e[n]+a[n-1])/2,t=0;t<n-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function Wlt(e){return new Pfe(e)}function aP(e,t){this._context=e,this._t=t}aP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function Vlt(e){return new aP(e,.5)}function Hlt(e){return new aP(e,0)}function qlt(e){return new aP(e,1)}function x0(e,t){if((o=e.length)>1)for(var n=1,r,a,i=e[t[0]],o,s=i.length;n<o;++n)for(a=i,i=e[t[n]],r=0;r<s;++r)i[r][1]+=i[r][0]=isNaN(a[r][1])?a[r][0]:a[r][1]}function DI(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function Glt(e,t){return e[t]}function Ylt(e){const t=[];return t.key=e,t}function Klt(){var e=qr([]),t=DI,n=x0,r=Glt;function a(i){var o=Array.from(e.apply(this,arguments),Ylt),s,l=o.length,u=-1,d;for(const f of i)for(s=0,++u;s<l;++s)(o[s][u]=[0,+r(f,o[s].key,u,i)]).data=f;for(s=0,d=Z$(t(o));s<l;++s)o[d[s]].index=s;return n(o,d),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:qr(Array.from(i)),a):e},a.value=function(i){return arguments.length?(r=typeof i=="function"?i:qr(+i),a):r},a.order=function(i){return arguments.length?(t=i==null?DI:typeof i=="function"?i:qr(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(n=i??x0,a):n},a}function Xlt(e,t){if((r=e.length)>0){for(var n,r,a=0,i=e[0].length,o;a<i;++a){for(o=n=0;n<r;++n)o+=e[n][a][1]||0;if(o)for(n=0;n<r;++n)e[n][a][1]/=o}x0(e,t)}}function Zlt(e,t){if((a=e.length)>0){for(var n=0,r=e[t[0]],a,i=r.length;n<i;++n){for(var o=0,s=0;o<a;++o)s+=e[o][n][1]||0;r[n][1]+=r[n][0]=-s/2}x0(e,t)}}function Qlt(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var n=0,r=1,a,i,o;r<i;++r){for(var s=0,l=0,u=0;s<o;++s){for(var d=e[t[s]],f=d[r][1]||0,h=d[r-1][1]||0,p=(f-h)/2,m=0;m<s;++m){var g=e[t[m]],y=g[r][1]||0,x=g[r-1][1]||0;p+=y-x}l+=f,u+=p*f}a[r-1][1]+=a[r-1][0]=n,l&&(n-=u/l)}a[r-1][1]+=a[r-1][0]=n,x0(e,t)}}function Xb(e){"@babel/helpers - typeof";return Xb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xb(e)}var Jlt=["type","size","sizeType"];function OI(){return OI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},OI.apply(this,arguments)}function qY(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function GY(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qY(Object(n),!0).forEach(function(r){ect(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qY(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ect(e,t,n){return t=tct(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tct(e){var t=nct(e,"string");return Xb(t)=="symbol"?t:t+""}function nct(e,t){if(Xb(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Xb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rct(e,t){if(e==null)return{};var n=act(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function act(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var Afe={symbolCircle:Q$,symbolCross:Elt,symbolDiamond:klt,symbolSquare:jlt,symbolStar:Dlt,symbolTriangle:Olt,symbolWye:Ilt},ict=Math.PI/180,oct=function(t){var n="symbol".concat(tP(t));return Afe[n]||Q$},sct=function(t,n,r){if(n==="area")return t;switch(r){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*ict;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},lct=function(t,n){Afe["symbol".concat(tP(t))]=n},J$=function(t){var n=t.type,r=n===void 0?"circle":n,a=t.size,i=a===void 0?64:a,o=t.sizeType,s=o===void 0?"area":o,l=rct(t,Jlt),u=GY(GY({},l),{},{type:r,size:i,sizeType:s}),d=function(){var y=oct(r),x=Rlt().type(y).size(sct(i,s,r));return x()},f=u.className,h=u.cx,p=u.cy,m=Bn(u,!0);return h===+h&&p===+p&&i===+i?le.createElement("path",OI({},m,{className:Tt("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:d()})):null};J$.registerSymbol=lct;function b0(e){"@babel/helpers - typeof";return b0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},b0(e)}function MI(){return MI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},MI.apply(this,arguments)}function YY(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function cct(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YY(Object(n),!0).forEach(function(r){Zb(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YY(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uct(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dct(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ofe(r.key),r)}}function fct(e,t,n){return t&&dct(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function hct(e,t,n){return t=DN(t),pct(e,Dfe()?Reflect.construct(t,n||[],DN(e).constructor):t.apply(e,n))}function pct(e,t){if(t&&(b0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mct(e)}function mct(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Dfe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Dfe=function(){return!!e})()}function DN(e){return DN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},DN(e)}function gct(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&II(e,t)}function II(e,t){return II=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},II(e,t)}function Zb(e,t,n){return t=Ofe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ofe(e){var t=vct(e,"string");return b0(t)=="symbol"?t:t+""}function vct(e,t){if(b0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(b0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var al=32,e8=function(e){function t(){return uct(this,t),hct(this,t,arguments)}return gct(t,e),fct(t,[{key:"renderIcon",value:function(r){var a=this.props.inactiveColor,i=al/2,o=al/6,s=al/3,l=r.inactive?a:r.color;if(r.type==="plainline")return le.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:i,x2:al,y2:i,className:"recharts-legend-icon"});if(r.type==="line")return le.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(i,"h").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*s,",").concat(i,`
            H`).concat(al,"M").concat(2*s,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(s,",").concat(i),className:"recharts-legend-icon"});if(r.type==="rect")return le.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(al/8,"h").concat(al,"v").concat(al*3/4,"h").concat(-al,"z"),className:"recharts-legend-icon"});if(le.isValidElement(r.legendIcon)){var u=cct({},r);return delete u.legendIcon,le.cloneElement(r.legendIcon,u)}return le.createElement(J$,{fill:l,cx:i,cy:i,size:al,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,a=this.props,i=a.payload,o=a.iconSize,s=a.layout,l=a.formatter,u=a.inactiveColor,d={x:0,y:0,width:al,height:al},f={display:s==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(p,m){var g=p.formatter||l,y=Tt(Zb(Zb({"recharts-legend-item":!0},"legend-item-".concat(m),!0),"inactive",p.inactive));if(p.type==="none")return null;var x=zn(p.value)?null:p.value;y0(!zn(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=p.inactive?u:p.color;return le.createElement("li",MI({className:y,style:f,key:"legend-item-".concat(m)},eP(r.props,p,m)),le.createElement(EI,{width:o,height:o,viewBox:d,style:h},r.renderIcon(p)),le.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},g?g(x,p,m):x))})}},{key:"render",value:function(){var r=this.props,a=r.payload,i=r.layout,o=r.align;if(!a||!a.length)return null;var s={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return le.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(E.PureComponent);Zb(e8,"displayName","Legend");Zb(e8,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var yct=BT;function xct(){this.__data__=new yct,this.size=0}var bct=xct;function wct(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var _ct=wct;function Sct(e){return this.__data__.get(e)}var Cct=Sct;function Ect(e){return this.__data__.has(e)}var Nct=Ect,kct=BT,jct=z$,Tct=U$,Pct=200;function Act(e,t){var n=this.__data__;if(n instanceof kct){var r=n.__data__;if(!jct||r.length<Pct-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Tct(r)}return n.set(e,t),this.size=n.size,this}var Dct=Act,Oct=BT,Mct=bct,Ict=_ct,Rct=Cct,Fct=Nct,Lct=Dct;function hy(e){var t=this.__data__=new Oct(e);this.size=t.size}hy.prototype.clear=Mct;hy.prototype.delete=Ict;hy.prototype.get=Rct;hy.prototype.has=Fct;hy.prototype.set=Lct;var Mfe=hy,$ct="__lodash_hash_undefined__";function Bct(e){return this.__data__.set(e,$ct),this}var zct=Bct;function Uct(e){return this.__data__.has(e)}var Wct=Uct,Vct=U$,Hct=zct,qct=Wct;function ON(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new Vct;++t<n;)this.add(e[t])}ON.prototype.add=ON.prototype.push=Hct;ON.prototype.has=qct;var Ife=ON;function Gct(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Rfe=Gct;function Yct(e,t){return e.has(t)}var Ffe=Yct,Kct=Ife,Xct=Rfe,Zct=Ffe,Qct=1,Jct=2;function eut(e,t,n,r,a,i){var o=n&Qct,s=e.length,l=t.length;if(s!=l&&!(o&&l>s))return!1;var u=i.get(e),d=i.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,p=n&Jct?new Kct:void 0;for(i.set(e,t),i.set(t,e);++f<s;){var m=e[f],g=t[f];if(r)var y=o?r(g,m,f,t,e,i):r(m,g,f,e,t,i);if(y!==void 0){if(y)continue;h=!1;break}if(p){if(!Xct(t,function(x,b){if(!Zct(p,b)&&(m===x||a(m,x,n,r,i)))return p.push(b)})){h=!1;break}}else if(!(m===g||a(m,g,n,r,i))){h=!1;break}}return i.delete(e),i.delete(t),h}var Lfe=eut,tut=Fu,nut=tut.Uint8Array,rut=nut;function aut(e){var t=-1,n=Array(e.size);return e.forEach(function(r,a){n[++t]=[a,r]}),n}var iut=aut;function out(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var t8=out,KY=v2,XY=rut,sut=B$,lut=Lfe,cut=iut,uut=t8,dut=1,fut=2,hut="[object Boolean]",put="[object Date]",mut="[object Error]",gut="[object Map]",vut="[object Number]",yut="[object RegExp]",xut="[object Set]",but="[object String]",wut="[object Symbol]",_ut="[object ArrayBuffer]",Sut="[object DataView]",ZY=KY?KY.prototype:void 0,ID=ZY?ZY.valueOf:void 0;function Cut(e,t,n,r,a,i,o){switch(n){case Sut:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case _ut:return!(e.byteLength!=t.byteLength||!i(new XY(e),new XY(t)));case hut:case put:case vut:return sut(+e,+t);case mut:return e.name==t.name&&e.message==t.message;case yut:case but:return e==t+"";case gut:var s=cut;case xut:var l=r&dut;if(s||(s=uut),e.size!=t.size&&!l)return!1;var u=o.get(e);if(u)return u==t;r|=fut,o.set(e,t);var d=lut(s(e),s(t),r,a,i,o);return o.delete(e),d;case wut:if(ID)return ID.call(e)==ID.call(t)}return!1}var Eut=Cut;function Nut(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e}var $fe=Nut,kut=$fe,jut=ps;function Tut(e,t,n){var r=t(e);return jut(e)?r:kut(r,n(e))}var Put=Tut;function Aut(e,t){for(var n=-1,r=e==null?0:e.length,a=0,i=[];++n<r;){var o=e[n];t(o,n,e)&&(i[a++]=o)}return i}var Dut=Aut;function Out(){return[]}var Mut=Out,Iut=Dut,Rut=Mut,Fut=Object.prototype,Lut=Fut.propertyIsEnumerable,QY=Object.getOwnPropertySymbols,$ut=QY?function(e){return e==null?[]:(e=Object(e),Iut(QY(e),function(t){return Lut.call(e,t)}))}:Rut,But=$ut;function zut(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var Uut=zut,Wut=Xd,Vut=Zd,Hut="[object Arguments]";function qut(e){return Vut(e)&&Wut(e)==Hut}var Gut=qut,JY=Gut,Yut=Zd,Bfe=Object.prototype,Kut=Bfe.hasOwnProperty,Xut=Bfe.propertyIsEnumerable,Zut=JY(function(){return arguments}())?JY:function(e){return Yut(e)&&Kut.call(e,"callee")&&!Xut.call(e,"callee")},n8=Zut,MN={exports:{}};function Qut(){return!1}var Jut=Qut;MN.exports;(function(e,t){var n=Fu,r=Jut,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===a,s=o?n.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||r;e.exports=u})(MN,MN.exports);var zfe=MN.exports,edt=9007199254740991,tdt=/^(?:0|[1-9]\d*)$/;function ndt(e,t){var n=typeof e;return t=t??edt,!!t&&(n=="number"||n!="symbol"&&tdt.test(e))&&e>-1&&e%1==0&&e<t}var r8=ndt,rdt=9007199254740991;function adt(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=rdt}var a8=adt,idt=Xd,odt=a8,sdt=Zd,ldt="[object Arguments]",cdt="[object Array]",udt="[object Boolean]",ddt="[object Date]",fdt="[object Error]",hdt="[object Function]",pdt="[object Map]",mdt="[object Number]",gdt="[object Object]",vdt="[object RegExp]",ydt="[object Set]",xdt="[object String]",bdt="[object WeakMap]",wdt="[object ArrayBuffer]",_dt="[object DataView]",Sdt="[object Float32Array]",Cdt="[object Float64Array]",Edt="[object Int8Array]",Ndt="[object Int16Array]",kdt="[object Int32Array]",jdt="[object Uint8Array]",Tdt="[object Uint8ClampedArray]",Pdt="[object Uint16Array]",Adt="[object Uint32Array]",ea={};ea[Sdt]=ea[Cdt]=ea[Edt]=ea[Ndt]=ea[kdt]=ea[jdt]=ea[Tdt]=ea[Pdt]=ea[Adt]=!0;ea[ldt]=ea[cdt]=ea[wdt]=ea[udt]=ea[_dt]=ea[ddt]=ea[fdt]=ea[hdt]=ea[pdt]=ea[mdt]=ea[gdt]=ea[vdt]=ea[ydt]=ea[xdt]=ea[bdt]=!1;function Ddt(e){return sdt(e)&&odt(e.length)&&!!ea[idt(e)]}var Odt=Ddt;function Mdt(e){return function(t){return e(t)}}var Ufe=Mdt,IN={exports:{}};IN.exports;(function(e,t){var n=Xde,r=t&&!t.nodeType&&t,a=r&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===r,o=i&&n.process,s=function(){try{var l=a&&a.require&&a.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();e.exports=s})(IN,IN.exports);var Idt=IN.exports,Rdt=Odt,Fdt=Ufe,eK=Idt,tK=eK&&eK.isTypedArray,Ldt=tK?Fdt(tK):Rdt,Wfe=Ldt,$dt=Uut,Bdt=n8,zdt=ps,Udt=zfe,Wdt=r8,Vdt=Wfe,Hdt=Object.prototype,qdt=Hdt.hasOwnProperty;function Gdt(e,t){var n=zdt(e),r=!n&&Bdt(e),a=!n&&!r&&Udt(e),i=!n&&!r&&!a&&Vdt(e),o=n||r||a||i,s=o?$dt(e.length,String):[],l=s.length;for(var u in e)(t||qdt.call(e,u))&&!(o&&(u=="length"||a&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Wdt(u,l)))&&s.push(u);return s}var Ydt=Gdt,Kdt=Object.prototype;function Xdt(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||Kdt;return e===n}var Zdt=Xdt;function Qdt(e,t){return function(n){return e(t(n))}}var Vfe=Qdt,Jdt=Vfe,eft=Jdt(Object.keys,Object),tft=eft,nft=Zdt,rft=tft,aft=Object.prototype,ift=aft.hasOwnProperty;function oft(e){if(!nft(e))return rft(e);var t=[];for(var n in Object(e))ift.call(e,n)&&n!="constructor"&&t.push(n);return t}var sft=oft,lft=$$,cft=a8;function uft(e){return e!=null&&cft(e.length)&&!lft(e)}var iP=uft,dft=Ydt,fft=sft,hft=iP;function pft(e){return hft(e)?dft(e):fft(e)}var i8=pft,mft=Put,gft=But,vft=i8;function yft(e){return mft(e,vft,gft)}var xft=yft,nK=xft,bft=1,wft=Object.prototype,_ft=wft.hasOwnProperty;function Sft(e,t,n,r,a,i){var o=n&bft,s=nK(e),l=s.length,u=nK(t),d=u.length;if(l!=d&&!o)return!1;for(var f=l;f--;){var h=s[f];if(!(o?h in t:_ft.call(t,h)))return!1}var p=i.get(e),m=i.get(t);if(p&&m)return p==t&&m==e;var g=!0;i.set(e,t),i.set(t,e);for(var y=o;++f<l;){h=s[f];var x=e[h],b=t[h];if(r)var w=o?r(b,x,h,t,e,i):r(x,b,h,e,t,i);if(!(w===void 0?x===b||a(x,b,n,r,i):w)){g=!1;break}y||(y=h=="constructor")}if(g&&!y){var _=e.constructor,S=t.constructor;_!=S&&"constructor"in e&&"constructor"in t&&!(typeof _=="function"&&_ instanceof _&&typeof S=="function"&&S instanceof S)&&(g=!1)}return i.delete(e),i.delete(t),g}var Cft=Sft,Eft=qm,Nft=Fu,kft=Eft(Nft,"DataView"),jft=kft,Tft=qm,Pft=Fu,Aft=Tft(Pft,"Promise"),Dft=Aft,Oft=qm,Mft=Fu,Ift=Oft(Mft,"Set"),Hfe=Ift,Rft=qm,Fft=Fu,Lft=Rft(Fft,"WeakMap"),$ft=Lft,RI=jft,FI=z$,LI=Dft,$I=Hfe,BI=$ft,qfe=Xd,py=Qde,rK="[object Map]",Bft="[object Object]",aK="[object Promise]",iK="[object Set]",oK="[object WeakMap]",sK="[object DataView]",zft=py(RI),Uft=py(FI),Wft=py(LI),Vft=py($I),Hft=py(BI),hp=qfe;(RI&&hp(new RI(new ArrayBuffer(1)))!=sK||FI&&hp(new FI)!=rK||LI&&hp(LI.resolve())!=aK||$I&&hp(new $I)!=iK||BI&&hp(new BI)!=oK)&&(hp=function(e){var t=qfe(e),n=t==Bft?e.constructor:void 0,r=n?py(n):"";if(r)switch(r){case zft:return sK;case Uft:return rK;case Wft:return aK;case Vft:return iK;case Hft:return oK}return t});var qft=hp,RD=Mfe,Gft=Lfe,Yft=Eut,Kft=Cft,lK=qft,cK=ps,uK=zfe,Xft=Wfe,Zft=1,dK="[object Arguments]",fK="[object Array]",fS="[object Object]",Qft=Object.prototype,hK=Qft.hasOwnProperty;function Jft(e,t,n,r,a,i){var o=cK(e),s=cK(t),l=o?fK:lK(e),u=s?fK:lK(t);l=l==dK?fS:l,u=u==dK?fS:u;var d=l==fS,f=u==fS,h=l==u;if(h&&uK(e)){if(!uK(t))return!1;o=!0,d=!1}if(h&&!d)return i||(i=new RD),o||Xft(e)?Gft(e,t,n,r,a,i):Yft(e,t,l,n,r,a,i);if(!(n&Zft)){var p=d&&hK.call(e,"__wrapped__"),m=f&&hK.call(t,"__wrapped__");if(p||m){var g=p?e.value():e,y=m?t.value():t;return i||(i=new RD),a(g,y,n,r,i)}}return h?(i||(i=new RD),Kft(e,t,n,r,a,i)):!1}var eht=Jft,tht=eht,pK=Zd;function Gfe(e,t,n,r,a){return e===t?!0:e==null||t==null||!pK(e)&&!pK(t)?e!==e&&t!==t:tht(e,t,n,r,Gfe,a)}var o8=Gfe,nht=Mfe,rht=o8,aht=1,iht=2;function oht(e,t,n,r){var a=n.length,i=a,o=!r;if(e==null)return!i;for(e=Object(e);a--;){var s=n[a];if(o&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++a<i;){s=n[a];var l=s[0],u=e[l],d=s[1];if(o&&s[2]){if(u===void 0&&!(l in e))return!1}else{var f=new nht;if(r)var h=r(u,d,l,e,t,f);if(!(h===void 0?rht(d,u,aht|iht,r,f):h))return!1}}return!0}var sht=oht,lht=Rh;function cht(e){return e===e&&!lht(e)}var Yfe=cht,uht=Yfe,dht=i8;function fht(e){for(var t=dht(e),n=t.length;n--;){var r=t[n],a=e[r];t[n]=[r,a,uht(a)]}return t}var hht=fht;function pht(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var Kfe=pht,mht=sht,ght=hht,vht=Kfe;function yht(e){var t=ght(e);return t.length==1&&t[0][2]?vht(t[0][0],t[0][1]):function(n){return n===e||mht(n,e,t)}}var xht=yht;function bht(e,t){return e!=null&&t in Object(e)}var wht=bht,_ht=rfe,Sht=n8,Cht=ps,Eht=r8,Nht=a8,kht=UT;function jht(e,t,n){t=_ht(t,e);for(var r=-1,a=t.length,i=!1;++r<a;){var o=kht(t[r]);if(!(i=e!=null&&n(e,o)))break;e=e[o]}return i||++r!=a?i:(a=e==null?0:e.length,!!a&&Nht(a)&&Eht(o,a)&&(Cht(e)||Sht(e)))}var Tht=jht,Pht=wht,Aht=Tht;function Dht(e,t){return e!=null&&Aht(e,t,Pht)}var Oht=Dht,Mht=o8,Iht=afe,Rht=Oht,Fht=L$,Lht=Yfe,$ht=Kfe,Bht=UT,zht=1,Uht=2;function Wht(e,t){return Fht(e)&&Lht(t)?$ht(Bht(e),t):function(n){var r=Iht(n,e);return r===void 0&&r===t?Rht(n,e):Mht(t,r,zht|Uht)}}var Vht=Wht;function Hht(e){return e}var my=Hht;function qht(e){return function(t){return t==null?void 0:t[e]}}var Ght=qht,Yht=H$;function Kht(e){return function(t){return Yht(t,e)}}var Xht=Kht,Zht=Ght,Qht=Xht,Jht=L$,ept=UT;function tpt(e){return Jht(e)?Zht(ept(e)):Qht(e)}var npt=tpt,rpt=xht,apt=Vht,ipt=my,opt=ps,spt=npt;function lpt(e){return typeof e=="function"?e:e==null?ipt:typeof e=="object"?opt(e)?apt(e[0],e[1]):rpt(e):spt(e)}var Fh=lpt;function cpt(e,t,n,r){for(var a=e.length,i=n+(r?1:-1);r?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var upt=cpt;function dpt(e){return e!==e}var fpt=dpt;function hpt(e,t,n){for(var r=n-1,a=e.length;++r<a;)if(e[r]===t)return r;return-1}var ppt=hpt,mpt=upt,gpt=fpt,vpt=ppt;function ypt(e,t,n){return t===t?vpt(e,t,n):mpt(e,gpt,n)}var xpt=ypt,bpt=xpt;function wpt(e,t){var n=e==null?0:e.length;return!!n&&bpt(e,t,0)>-1}var _pt=wpt;function Spt(e,t,n){for(var r=-1,a=e==null?0:e.length;++r<a;)if(n(t,e[r]))return!0;return!1}var Cpt=Spt;function Ept(){}var Npt=Ept,FD=Hfe,kpt=Npt,jpt=t8,Tpt=1/0,Ppt=FD&&1/jpt(new FD([,-0]))[1]==Tpt?function(e){return new FD(e)}:kpt,Apt=Ppt,Dpt=Ife,Opt=_pt,Mpt=Cpt,Ipt=Ffe,Rpt=Apt,Fpt=t8,Lpt=200;function $pt(e,t,n){var r=-1,a=Opt,i=e.length,o=!0,s=[],l=s;if(n)o=!1,a=Mpt;else if(i>=Lpt){var u=t?null:Rpt(e);if(u)return Fpt(u);o=!1,a=Ipt,l=new Dpt}else l=t?[]:s;e:for(;++r<i;){var d=e[r],f=t?t(d):d;if(d=n||d!==0?d:0,o&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;t&&l.push(f),s.push(d)}else a(l,f,n)||(l!==s&&l.push(f),s.push(d))}return s}var Bpt=$pt,zpt=Fh,Upt=Bpt;function Wpt(e,t){return e&&e.length?Upt(e,zpt(t)):[]}var Vpt=Wpt;const mK=sr(Vpt);function Xfe(e,t,n){return t===!0?mK(e,n):zn(t)?mK(e,t):e}function w0(e){"@babel/helpers - typeof";return w0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},w0(e)}var Hpt=["ref"];function gK(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function qu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gK(Object(n),!0).forEach(function(r){oP(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gK(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qpt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vK(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Qfe(r.key),r)}}function Gpt(e,t,n){return t&&vK(e.prototype,t),n&&vK(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ypt(e,t,n){return t=RN(t),Kpt(e,Zfe()?Reflect.construct(t,n||[],RN(e).constructor):t.apply(e,n))}function Kpt(e,t){if(t&&(w0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xpt(e)}function Xpt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zfe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Zfe=function(){return!!e})()}function RN(e){return RN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},RN(e)}function Zpt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zI(e,t)}function zI(e,t){return zI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},zI(e,t)}function oP(e,t,n){return t=Qfe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qfe(e){var t=Qpt(e,"string");return w0(t)=="symbol"?t:t+""}function Qpt(e,t){if(w0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(w0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Jpt(e,t){if(e==null)return{};var n=emt(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function emt(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function tmt(e){return e.value}function nmt(e,t){if(le.isValidElement(e))return le.cloneElement(e,t);if(typeof e=="function")return le.createElement(e,t);t.ref;var n=Jpt(t,Hpt);return le.createElement(e8,n)}var yK=1,tm=function(e){function t(){var n;qpt(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=Ypt(this,t,[].concat(a)),oP(n,"lastBoundingBox",{width:-1,height:-1}),n}return Zpt(t,e),Gpt(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>yK||Math.abs(a.height-this.lastBoundingBox.height)>yK)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,r&&r(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?qu({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var a=this.props,i=a.layout,o=a.align,s=a.verticalAlign,l=a.margin,u=a.chartWidth,d=a.chartHeight,f,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&i==="vertical"){var p=this.getBBoxSnapshot();f={left:((u||0)-p.width)/2}}else f=o==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(s==="middle"){var m=this.getBBoxSnapshot();h={top:((d||0)-m.height)/2}}else h=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return qu(qu({},f),h)}},{key:"render",value:function(){var r=this,a=this.props,i=a.content,o=a.width,s=a.height,l=a.wrapperStyle,u=a.payloadUniqBy,d=a.payload,f=qu(qu({position:"absolute",width:o||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return le.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){r.wrapperNode=p}},nmt(i,qu(qu({},this.props),{},{payload:Xfe(d,u,tmt)})))}}],[{key:"getWithHeight",value:function(r,a){var i=qu(qu({},this.defaultProps),r.props),o=i.layout;return o==="vertical"&&Xt(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||a}:null}}])}(E.PureComponent);oP(tm,"displayName","Legend");oP(tm,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var xK=v2,rmt=n8,amt=ps,bK=xK?xK.isConcatSpreadable:void 0;function imt(e){return amt(e)||rmt(e)||!!(bK&&e&&e[bK])}var omt=imt,smt=$fe,lmt=omt;function Jfe(e,t,n,r,a){var i=-1,o=e.length;for(n||(n=lmt),a||(a=[]);++i<o;){var s=e[i];t>0&&n(s)?t>1?Jfe(s,t-1,n,r,a):smt(a,s):r||(a[a.length]=s)}return a}var ehe=Jfe;function cmt(e){return function(t,n,r){for(var a=-1,i=Object(t),o=r(t),s=o.length;s--;){var l=o[e?s:++a];if(n(i[l],l,i)===!1)break}return t}}var umt=cmt,dmt=umt,fmt=dmt(),hmt=fmt,pmt=hmt,mmt=i8;function gmt(e,t){return e&&pmt(e,t,mmt)}var the=gmt,vmt=iP;function ymt(e,t){return function(n,r){if(n==null)return n;if(!vmt(n))return e(n,r);for(var a=n.length,i=t?a:-1,o=Object(n);(t?i--:++i<a)&&r(o[i],i,o)!==!1;);return n}}var xmt=ymt,bmt=the,wmt=xmt,_mt=wmt(bmt),s8=_mt,Smt=s8,Cmt=iP;function Emt(e,t){var n=-1,r=Cmt(e)?Array(e.length):[];return Smt(e,function(a,i,o){r[++n]=t(a,i,o)}),r}var nhe=Emt;function Nmt(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}var kmt=Nmt,wK=ly;function jmt(e,t){if(e!==t){var n=e!==void 0,r=e===null,a=e===e,i=wK(e),o=t!==void 0,s=t===null,l=t===t,u=wK(t);if(!s&&!u&&!i&&e>t||i&&o&&l&&!s&&!u||r&&o&&l||!n&&l||!a)return 1;if(!r&&!i&&!u&&e<t||u&&n&&a&&!r&&!i||s&&n&&a||!o&&a||!l)return-1}return 0}var Tmt=jmt,Pmt=Tmt;function Amt(e,t,n){for(var r=-1,a=e.criteria,i=t.criteria,o=a.length,s=n.length;++r<o;){var l=Pmt(a[r],i[r]);if(l){if(r>=s)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return e.index-t.index}var Dmt=Amt,LD=V$,Omt=H$,Mmt=Fh,Imt=nhe,Rmt=kmt,Fmt=Ufe,Lmt=Dmt,$mt=my,Bmt=ps;function zmt(e,t,n){t.length?t=LD(t,function(i){return Bmt(i)?function(o){return Omt(o,i.length===1?i[0]:i)}:i}):t=[$mt];var r=-1;t=LD(t,Fmt(Mmt));var a=Imt(e,function(i,o,s){var l=LD(t,function(u){return u(i)});return{criteria:l,index:++r,value:i}});return Rmt(a,function(i,o){return Lmt(i,o,n)})}var Umt=zmt;function Wmt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var Vmt=Wmt,Hmt=Vmt,_K=Math.max;function qmt(e,t,n){return t=_K(t===void 0?e.length-1:t,0),function(){for(var r=arguments,a=-1,i=_K(r.length-t,0),o=Array(i);++a<i;)o[a]=r[t+a];a=-1;for(var s=Array(t+1);++a<t;)s[a]=r[a];return s[t]=n(o),Hmt(e,this,s)}}var Gmt=qmt;function Ymt(e){return function(){return e}}var Kmt=Ymt,Xmt=qm,Zmt=function(){try{var e=Xmt(Object,"defineProperty");return e({},"",{}),e}catch{}}(),rhe=Zmt,Qmt=Kmt,SK=rhe,Jmt=my,egt=SK?function(e,t){return SK(e,"toString",{configurable:!0,enumerable:!1,value:Qmt(t),writable:!0})}:Jmt,tgt=egt,ngt=800,rgt=16,agt=Date.now;function igt(e){var t=0,n=0;return function(){var r=agt(),a=rgt-(r-n);if(n=r,a>0){if(++t>=ngt)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var ogt=igt,sgt=tgt,lgt=ogt,cgt=lgt(sgt),ugt=cgt,dgt=my,fgt=Gmt,hgt=ugt;function pgt(e,t){return hgt(fgt(e,t,dgt),e+"")}var mgt=pgt,ggt=B$,vgt=iP,ygt=r8,xgt=Rh;function bgt(e,t,n){if(!xgt(n))return!1;var r=typeof t;return(r=="number"?vgt(n)&&ygt(t,n.length):r=="string"&&t in n)?ggt(n[t],e):!1}var sP=bgt,wgt=ehe,_gt=Umt,Sgt=mgt,CK=sP,Cgt=Sgt(function(e,t){if(e==null)return[];var n=t.length;return n>1&&CK(e,t[0],t[1])?t=[]:n>2&&CK(t[0],t[1],t[2])&&(t=[t[0]]),_gt(e,wgt(t,1),[])}),Egt=Cgt;const l8=sr(Egt);function Qb(e){"@babel/helpers - typeof";return Qb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qb(e)}function UI(){return UI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},UI.apply(this,arguments)}function Ngt(e,t){return Pgt(e)||Tgt(e,t)||jgt(e,t)||kgt()}function kgt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jgt(e,t){if(e){if(typeof e=="string")return EK(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return EK(e,t)}}function EK(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Tgt(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,s=[],l=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function Pgt(e){if(Array.isArray(e))return e}function NK(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function $D(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?NK(Object(n),!0).forEach(function(r){Agt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NK(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Agt(e,t,n){return t=Dgt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dgt(e){var t=Ogt(e,"string");return Qb(t)=="symbol"?t:t+""}function Ogt(e,t){if(Qb(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Qb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mgt(e){return Array.isArray(e)&&fi(e[0])&&fi(e[1])?e.join(" ~ "):e}var Igt=function(t){var n=t.separator,r=n===void 0?" : ":n,a=t.contentStyle,i=a===void 0?{}:a,o=t.itemStyle,s=o===void 0?{}:o,l=t.labelStyle,u=l===void 0?{}:l,d=t.payload,f=t.formatter,h=t.itemSorter,p=t.wrapperClassName,m=t.labelClassName,g=t.label,y=t.labelFormatter,x=t.accessibilityLayer,b=x===void 0?!1:x,w=function(){if(d&&d.length){var M={padding:0,margin:0},R=(h?l8(d,h):d).map(function(W,B){if(W.type==="none")return null;var V=$D({display:"block",paddingTop:4,paddingBottom:4,color:W.color||"#000"},s),q=W.formatter||f||Mgt,I=W.value,O=W.name,H=I,ne=O;if(q&&H!=null&&ne!=null){var z=q(I,O,W,B,d);if(Array.isArray(z)){var J=Ngt(z,2);H=J[0],ne=J[1]}else H=z}return le.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(B),style:V},fi(ne)?le.createElement("span",{className:"recharts-tooltip-item-name"},ne):null,fi(ne)?le.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,le.createElement("span",{className:"recharts-tooltip-item-value"},H),le.createElement("span",{className:"recharts-tooltip-item-unit"},W.unit||""))});return le.createElement("ul",{className:"recharts-tooltip-item-list",style:M},R)}return null},_=$D({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),S=$D({margin:0},u),k=!er(g),N=k?g:"",P=Tt("recharts-default-tooltip",p),T=Tt("recharts-tooltip-label",m);k&&y&&d!==void 0&&d!==null&&(N=y(g,d));var j=b?{role:"status","aria-live":"assertive"}:{};return le.createElement("div",UI({className:P,style:_},j),le.createElement("p",{className:T,style:S},le.isValidElement(N)?N:"".concat(N)),w())};function Jb(e){"@babel/helpers - typeof";return Jb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jb(e)}function hS(e,t,n){return t=Rgt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rgt(e){var t=Fgt(e,"string");return Jb(t)=="symbol"?t:t+""}function Fgt(e,t){if(Jb(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Jb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lx="recharts-tooltip-wrapper",Lgt={visibility:"hidden"};function $gt(e){var t=e.coordinate,n=e.translateX,r=e.translateY;return Tt(lx,hS(hS(hS(hS({},"".concat(lx,"-right"),Xt(n)&&t&&Xt(t.x)&&n>=t.x),"".concat(lx,"-left"),Xt(n)&&t&&Xt(t.x)&&n<t.x),"".concat(lx,"-bottom"),Xt(r)&&t&&Xt(t.y)&&r>=t.y),"".concat(lx,"-top"),Xt(r)&&t&&Xt(t.y)&&r<t.y))}function kK(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.key,a=e.offsetTopLeft,i=e.position,o=e.reverseDirection,s=e.tooltipDimension,l=e.viewBox,u=e.viewBoxDimension;if(i&&Xt(i[r]))return i[r];var d=n[r]-s-a,f=n[r]+a;if(t[r])return o[r]?d:f;if(o[r]){var h=d,p=l[r];return h<p?Math.max(f,l[r]):Math.max(d,l[r])}var m=f+s,g=l[r]+u;return m>g?Math.max(d,l[r]):Math.max(f,l[r])}function Bgt(e){var t=e.translateX,n=e.translateY,r=e.useTranslate3d;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function zgt(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.offsetTopLeft,a=e.position,i=e.reverseDirection,o=e.tooltipBox,s=e.useTranslate3d,l=e.viewBox,u,d,f;return o.height>0&&o.width>0&&n?(d=kK({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),f=kK({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),u=Bgt({translateX:d,translateY:f,useTranslate3d:s})):u=Lgt,{cssProperties:u,cssClasses:$gt({translateX:d,translateY:f,coordinate:n})}}function _0(e){"@babel/helpers - typeof";return _0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_0(e)}function jK(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function TK(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jK(Object(n),!0).forEach(function(r){VI(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jK(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ugt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wgt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ihe(r.key),r)}}function Vgt(e,t,n){return t&&Wgt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Hgt(e,t,n){return t=FN(t),qgt(e,ahe()?Reflect.construct(t,n||[],FN(e).constructor):t.apply(e,n))}function qgt(e,t){if(t&&(_0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ggt(e)}function Ggt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ahe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ahe=function(){return!!e})()}function FN(e){return FN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},FN(e)}function Ygt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&WI(e,t)}function WI(e,t){return WI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},WI(e,t)}function VI(e,t,n){return t=ihe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ihe(e){var t=Kgt(e,"string");return _0(t)=="symbol"?t:t+""}function Kgt(e,t){if(_0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(_0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var PK=1,Xgt=function(e){function t(){var n;Ugt(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=Hgt(this,t,[].concat(a)),VI(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),VI(n,"handleKeyDown",function(o){if(o.key==="Escape"){var s,l,u,d;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(u=(d=n.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),n}return Ygt(t,e),Vgt(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>PK||Math.abs(r.height-this.state.lastBoundingBox.height)>PK)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,s=a.animationDuration,l=a.animationEasing,u=a.children,d=a.coordinate,f=a.hasPayload,h=a.isAnimationActive,p=a.offset,m=a.position,g=a.reverseDirection,y=a.useTranslate3d,x=a.viewBox,b=a.wrapperStyle,w=zgt({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:p,position:m,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:x}),_=w.cssClasses,S=w.cssProperties,k=TK(TK({transition:h&&i?"transform ".concat(s,"ms ").concat(l):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},b);return le.createElement("div",{tabIndex:-1,className:_,style:k,ref:function(P){r.wrapperNode=P}},u)}}])}(E.PureComponent),Zgt=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},lP={isSsr:Zgt()};function S0(e){"@babel/helpers - typeof";return S0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},S0(e)}function AK(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function DK(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AK(Object(n),!0).forEach(function(r){c8(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AK(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Qgt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jgt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,she(r.key),r)}}function evt(e,t,n){return t&&Jgt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function tvt(e,t,n){return t=LN(t),nvt(e,ohe()?Reflect.construct(t,n||[],LN(e).constructor):t.apply(e,n))}function nvt(e,t){if(t&&(S0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rvt(e)}function rvt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ohe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ohe=function(){return!!e})()}function LN(e){return LN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},LN(e)}function avt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&HI(e,t)}function HI(e,t){return HI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},HI(e,t)}function c8(e,t,n){return t=she(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function she(e){var t=ivt(e,"string");return S0(t)=="symbol"?t:t+""}function ivt(e,t){if(S0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(S0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function ovt(e){return e.dataKey}function svt(e,t){return le.isValidElement(e)?le.cloneElement(e,t):typeof e=="function"?le.createElement(e,t):le.createElement(Igt,t)}var rc=function(e){function t(){return Qgt(this,t),tvt(this,t,arguments)}return avt(t,e),evt(t,[{key:"render",value:function(){var r=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,s=a.animationDuration,l=a.animationEasing,u=a.content,d=a.coordinate,f=a.filterNull,h=a.isAnimationActive,p=a.offset,m=a.payload,g=a.payloadUniqBy,y=a.position,x=a.reverseDirection,b=a.useTranslate3d,w=a.viewBox,_=a.wrapperStyle,S=m??[];f&&S.length&&(S=Xfe(m.filter(function(N){return N.value!=null&&(N.hide!==!0||r.props.includeHidden)}),g,ovt));var k=S.length>0;return le.createElement(Xgt,{allowEscapeViewBox:o,animationDuration:s,animationEasing:l,isAnimationActive:h,active:i,coordinate:d,hasPayload:k,offset:p,position:y,reverseDirection:x,useTranslate3d:b,viewBox:w,wrapperStyle:_},svt(u,DK(DK({},this.props),{},{payload:S})))}}])}(E.PureComponent);c8(rc,"displayName","Tooltip");c8(rc,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!lP.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var lvt=Fu,cvt=function(){return lvt.Date.now()},uvt=cvt,dvt=/\s/;function fvt(e){for(var t=e.length;t--&&dvt.test(e.charAt(t)););return t}var hvt=fvt,pvt=hvt,mvt=/^\s+/;function gvt(e){return e&&e.slice(0,pvt(e)+1).replace(mvt,"")}var vvt=gvt,yvt=vvt,OK=Rh,xvt=ly,MK=NaN,bvt=/^[-+]0x[0-9a-f]+$/i,wvt=/^0b[01]+$/i,_vt=/^0o[0-7]+$/i,Svt=parseInt;function Cvt(e){if(typeof e=="number")return e;if(xvt(e))return MK;if(OK(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=OK(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=yvt(e);var n=wvt.test(e);return n||_vt.test(e)?Svt(e.slice(2),n?2:8):bvt.test(e)?MK:+e}var lhe=Cvt,Evt=Rh,BD=uvt,IK=lhe,Nvt="Expected a function",kvt=Math.max,jvt=Math.min;function Tvt(e,t,n){var r,a,i,o,s,l,u=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(Nvt);t=IK(t)||0,Evt(n)&&(d=!!n.leading,f="maxWait"in n,i=f?kvt(IK(n.maxWait)||0,t):i,h="trailing"in n?!!n.trailing:h);function p(k){var N=r,P=a;return r=a=void 0,u=k,o=e.apply(P,N),o}function m(k){return u=k,s=setTimeout(x,t),d?p(k):o}function g(k){var N=k-l,P=k-u,T=t-N;return f?jvt(T,i-P):T}function y(k){var N=k-l,P=k-u;return l===void 0||N>=t||N<0||f&&P>=i}function x(){var k=BD();if(y(k))return b(k);s=setTimeout(x,g(k))}function b(k){return s=void 0,h&&r?p(k):(r=a=void 0,o)}function w(){s!==void 0&&clearTimeout(s),u=0,r=l=a=s=void 0}function _(){return s===void 0?o:b(BD())}function S(){var k=BD(),N=y(k);if(r=arguments,a=this,l=k,N){if(s===void 0)return m(l);if(f)return clearTimeout(s),s=setTimeout(x,t),p(l)}return s===void 0&&(s=setTimeout(x,t)),o}return S.cancel=w,S.flush=_,S}var Pvt=Tvt,Avt=Pvt,Dvt=Rh,Ovt="Expected a function";function Mvt(e,t,n){var r=!0,a=!0;if(typeof e!="function")throw new TypeError(Ovt);return Dvt(n)&&(r="leading"in n?!!n.leading:r,a="trailing"in n?!!n.trailing:a),Avt(e,t,{leading:r,maxWait:t,trailing:a})}var Ivt=Mvt;const Rvt=sr(Ivt);var $N=function(t){return null};$N.displayName="Cell";function ew(e){"@babel/helpers - typeof";return ew=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ew(e)}function RK(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function qI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RK(Object(n),!0).forEach(function(r){Fvt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RK(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Fvt(e,t,n){return t=Lvt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lvt(e){var t=$vt(e,"string");return ew(t)=="symbol"?t:t+""}function $vt(e,t){if(ew(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ew(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wg={widthCache:{},cacheCount:0},Bvt=2e3,zvt={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},FK="recharts_measurement_span";function Uvt(e){var t=qI({},e);return Object.keys(t).forEach(function(n){t[n]||delete t[n]}),t}var LK=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||lP.isSsr)return{width:0,height:0};var r=Uvt(n),a=JSON.stringify({text:t,copyStyle:r});if(wg.widthCache[a])return wg.widthCache[a];try{var i=document.getElementById(FK);i||(i=document.createElement("span"),i.setAttribute("id",FK),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=qI(qI({},zvt),r);Object.assign(i.style,o),i.textContent="".concat(t);var s=i.getBoundingClientRect(),l={width:s.width,height:s.height};return wg.widthCache[a]=l,++wg.cacheCount>Bvt&&(wg.cacheCount=0,wg.widthCache={}),l}catch{return{width:0,height:0}}},Wvt=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function tw(e){"@babel/helpers - typeof";return tw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tw(e)}function BN(e,t){return Gvt(e)||qvt(e,t)||Hvt(e,t)||Vvt()}function Vvt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hvt(e,t){if(e){if(typeof e=="string")return $K(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $K(e,t)}}function $K(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function qvt(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,s=[],l=!0,u=!1;try{if(i=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function Gvt(e){if(Array.isArray(e))return e}function Yvt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function BK(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Xvt(r.key),r)}}function Kvt(e,t,n){return t&&BK(e.prototype,t),n&&BK(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Xvt(e){var t=Zvt(e,"string");return tw(t)=="symbol"?t:t+""}function Zvt(e,t){if(tw(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(tw(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var zK=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,UK=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Qvt=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Jvt=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,che={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},e0t=Object.keys(che),ev="NaN";function t0t(e,t){return e*che[t]}var pS=function(){function e(t,n){Yvt(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),n!==""&&!Qvt.test(n)&&(this.num=NaN,this.unit=""),e0t.includes(n)&&(this.num=t0t(t,n),this.unit="px")}return Kvt(e,[{key:"add",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,a=(r=Jvt.exec(n))!==null&&r!==void 0?r:[],i=BN(a,3),o=i[1],s=i[2];return new e(parseFloat(o),s??"")}}])}();function uhe(e){if(e.includes(ev))return ev;for(var t=e;t.includes("*")||t.includes("/");){var n,r=(n=zK.exec(t))!==null&&n!==void 0?n:[],a=BN(r,4),i=a[1],o=a[2],s=a[3],l=pS.parse(i??""),u=pS.parse(s??""),d=o==="*"?l.multiply(u):l.divide(u);if(d.isNaN())return ev;t=t.replace(zK,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=UK.exec(t))!==null&&f!==void 0?f:[],p=BN(h,4),m=p[1],g=p[2],y=p[3],x=pS.parse(m??""),b=pS.parse(y??""),w=g==="+"?x.add(b):x.subtract(b);if(w.isNaN())return ev;t=t.replace(UK,w.toString())}return t}var WK=/\(([^()]*)\)/;function n0t(e){for(var t=e;t.includes("(");){var n=WK.exec(t),r=BN(n,2),a=r[1];t=t.replace(WK,uhe(a))}return t}function r0t(e){var t=e.replace(/\s+/g,"");return t=n0t(t),t=uhe(t),t}function a0t(e){try{return r0t(e)}catch{return ev}}function zD(e){var t=a0t(e.slice(5,-1));return t===ev?"":t}var i0t=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],o0t=["dx","dy","angle","className","breakAll"];function GI(){return GI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},GI.apply(this,arguments)}function VK(e,t){if(e==null)return{};var n=s0t(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function s0t(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function HK(e,t){return d0t(e)||u0t(e,t)||c0t(e,t)||l0t()}function l0t(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function c0t(e,t){if(e){if(typeof e=="string")return qK(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qK(e,t)}}function qK(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u0t(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,s=[],l=!0,u=!1;try{if(i=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function d0t(e){if(Array.isArray(e))return e}var dhe=/[ \f\n\r\t\v\u2028\u2029]+/,fhe=function(t){var n=t.children,r=t.breakAll,a=t.style;try{var i=[];er(n)||(r?i=n.toString().split(""):i=n.toString().split(dhe));var o=i.map(function(l){return{word:l,width:LK(l,a).width}}),s=r?0:LK("",a).width;return{wordsWithComputedWidth:o,spaceWidth:s}}catch{return null}},f0t=function(t,n,r,a,i){var o=t.maxLines,s=t.children,l=t.style,u=t.breakAll,d=Xt(o),f=s,h=function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return B.reduce(function(V,q){var I=q.word,O=q.width,H=V[V.length-1];if(H&&(a==null||i||H.width+O+r<Number(a)))H.words.push(I),H.width+=O+r;else{var ne={words:[I],width:O};V.push(ne)}return V},[])},p=h(n),m=function(B){return B.reduce(function(V,q){return V.width>q.width?V:q})};if(!d)return p;for(var g="",y=function(B){var V=f.slice(0,B),q=fhe({breakAll:u,style:l,children:V+g}).wordsWithComputedWidth,I=h(q),O=I.length>o||m(I).width>Number(a);return[O,I]},x=0,b=f.length-1,w=0,_;x<=b&&w<=f.length-1;){var S=Math.floor((x+b)/2),k=S-1,N=y(k),P=HK(N,2),T=P[0],j=P[1],D=y(S),M=HK(D,1),R=M[0];if(!T&&!R&&(x=S+1),T&&R&&(b=S-1),!T&&R){_=j;break}w++}return _||p},GK=function(t){var n=er(t)?[]:t.toString().split(dhe);return[{words:n}]},h0t=function(t){var n=t.width,r=t.scaleToFit,a=t.children,i=t.style,o=t.breakAll,s=t.maxLines;if((n||r)&&!lP.isSsr){var l,u,d=fhe({breakAll:o,children:a,style:i});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;l=f,u=h}else return GK(a);return f0t({breakAll:o,children:a,maxLines:s,style:i},l,u,n,r)}return GK(a)},YK="#808080",C0=function(t){var n=t.x,r=n===void 0?0:n,a=t.y,i=a===void 0?0:a,o=t.lineHeight,s=o===void 0?"1em":o,l=t.capHeight,u=l===void 0?"0.71em":l,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,p=h===void 0?"start":h,m=t.verticalAnchor,g=m===void 0?"end":m,y=t.fill,x=y===void 0?YK:y,b=VK(t,i0t),w=E.useMemo(function(){return h0t({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:f,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,f,b.style,b.width]),_=b.dx,S=b.dy,k=b.angle,N=b.className,P=b.breakAll,T=VK(b,o0t);if(!fi(r)||!fi(i))return null;var j=r+(Xt(_)?_:0),D=i+(Xt(S)?S:0),M;switch(g){case"start":M=zD("calc(".concat(u,")"));break;case"middle":M=zD("calc(".concat((w.length-1)/2," * -").concat(s," + (").concat(u," / 2))"));break;default:M=zD("calc(".concat(w.length-1," * -").concat(s,")"));break}var R=[];if(f){var W=w[0].width,B=b.width;R.push("scale(".concat((Xt(B)?B/W:1)/W,")"))}return k&&R.push("rotate(".concat(k,", ").concat(j,", ").concat(D,")")),R.length&&(T.transform=R.join(" ")),le.createElement("text",GI({},Bn(T,!0),{x:j,y:D,className:Tt("recharts-text",N),textAnchor:p,fill:x.includes("url")?YK:x}),w.map(function(V,q){var I=V.words.join(P?"":" ");return le.createElement("tspan",{x:j,dy:q===0?M:s,key:"".concat(I,"-").concat(q)},I)}))};function oh(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function p0t(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function u8(e){let t,n,r;e.length!==2?(t=oh,n=(s,l)=>oh(e(s),l),r=(s,l)=>e(s)-l):(t=e===oh||e===p0t?e:m0t,n=e,r=e);function a(s,l,u=0,d=s.length){if(u<d){if(t(l,l)!==0)return d;do{const f=u+d>>>1;n(s[f],l)<0?u=f+1:d=f}while(u<d)}return u}function i(s,l,u=0,d=s.length){if(u<d){if(t(l,l)!==0)return d;do{const f=u+d>>>1;n(s[f],l)<=0?u=f+1:d=f}while(u<d)}return u}function o(s,l,u=0,d=s.length){const f=a(s,l,u,d-1);return f>u&&r(s[f-1],l)>-r(s[f],l)?f-1:f}return{left:a,center:o,right:i}}function m0t(){return 0}function hhe(e){return e===null?NaN:+e}function*g0t(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const v0t=u8(oh),b2=v0t.right;u8(hhe).center;class KK extends Map{constructor(t,n=b0t){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,a]of t)this.set(r,a)}get(t){return super.get(XK(this,t))}has(t){return super.has(XK(this,t))}set(t,n){return super.set(y0t(this,t),n)}delete(t){return super.delete(x0t(this,t))}}function XK({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function y0t({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function x0t({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function b0t(e){return e!==null&&typeof e=="object"?e.valueOf():e}function w0t(e=oh){if(e===oh)return phe;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function phe(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const _0t=Math.sqrt(50),S0t=Math.sqrt(10),C0t=Math.sqrt(2);function zN(e,t,n){const r=(t-e)/Math.max(0,n),a=Math.floor(Math.log10(r)),i=r/Math.pow(10,a),o=i>=_0t?10:i>=S0t?5:i>=C0t?2:1;let s,l,u;return a<0?(u=Math.pow(10,-a)/o,s=Math.round(e*u),l=Math.round(t*u),s/u<e&&++s,l/u>t&&--l,u=-u):(u=Math.pow(10,a)*o,s=Math.round(e/u),l=Math.round(t/u),s*u<e&&++s,l*u>t&&--l),l<s&&.5<=n&&n<2?zN(e,t,n*2):[s,l,u]}function YI(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[a,i,o]=r?zN(t,e,n):zN(e,t,n);if(!(i>=a))return[];const s=i-a+1,l=new Array(s);if(r)if(o<0)for(let u=0;u<s;++u)l[u]=(i-u)/-o;else for(let u=0;u<s;++u)l[u]=(i-u)*o;else if(o<0)for(let u=0;u<s;++u)l[u]=(a+u)/-o;else for(let u=0;u<s;++u)l[u]=(a+u)*o;return l}function KI(e,t,n){return t=+t,e=+e,n=+n,zN(e,t,n)[2]}function XI(e,t,n){t=+t,e=+e,n=+n;const r=t<e,a=r?KI(t,e,n):KI(e,t,n);return(r?-1:1)*(a<0?1/-a:a)}function ZK(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function QK(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function mhe(e,t,n=0,r=1/0,a){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(a=a===void 0?phe:w0t(a);r>n;){if(r-n>600){const l=r-n+1,u=t-n+1,d=Math.log(l),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(l-f)/l)*(u-l/2<0?-1:1),p=Math.max(n,Math.floor(t-u*f/l+h)),m=Math.min(r,Math.floor(t+(l-u)*f/l+h));mhe(e,t,p,m,a)}const i=e[t];let o=n,s=r;for(cx(e,n,t),a(e[r],i)>0&&cx(e,n,r);o<s;){for(cx(e,o,s),++o,--s;a(e[o],i)<0;)++o;for(;a(e[s],i)>0;)--s}a(e[n],i)===0?cx(e,n,s):(++s,cx(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}return e}function cx(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function E0t(e,t,n){if(e=Float64Array.from(g0t(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return QK(e);if(t>=1)return ZK(e);var r,a=(r-1)*t,i=Math.floor(a),o=ZK(mhe(e,i).subarray(0,i+1)),s=QK(e.subarray(i+1));return o+(s-o)*(a-i)}}function N0t(e,t,n=hhe){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,a=(r-1)*t,i=Math.floor(a),o=+n(e[i],i,e),s=+n(e[i+1],i+1,e);return o+(s-o)*(a-i)}}function k0t(e,t,n){e=+e,t=+t,n=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+n;for(var r=-1,a=Math.max(0,Math.ceil((t-e)/n))|0,i=new Array(a);++r<a;)i[r]=e+r*n;return i}function $l(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Qd(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const ZI=Symbol("implicit");function d8(){var e=new KK,t=[],n=[],r=ZI;function a(i){let o=e.get(i);if(o===void 0){if(r!==ZI)return r;e.set(i,o=t.push(i)-1)}return n[o%n.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new KK;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(n=Array.from(i),a):n.slice()},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return d8(t,n).unknown(r)},$l.apply(a,arguments),a}function nw(){var e=d8().unknown(void 0),t=e.domain,n=e.range,r=0,a=1,i,o,s=!1,l=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,p=a<r,m=p?a:r,g=p?r:a;i=(g-m)/Math.max(1,h-l+u*2),s&&(i=Math.floor(i)),m+=(g-m-i*(h-l))*d,o=i*(1-l),s&&(m=Math.round(m),o=Math.round(o));var y=k0t(h).map(function(x){return m+i*x});return n(p?y.reverse():y)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([r,a]=h,r=+r,a=+a,f()):[r,a]},e.rangeRound=function(h){return[r,a]=h,r=+r,a=+a,s=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(h){return arguments.length?(s=!!h,f()):s},e.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),f()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return nw(t(),[r,a]).round(s).paddingInner(l).paddingOuter(u).align(d)},$l.apply(f(),arguments)}function ghe(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return ghe(t())},e}function j1(){return ghe(nw.apply(null,arguments).paddingInner(1))}function f8(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function vhe(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function w2(){}var rw=.7,UN=1/rw,jv="\\s*([+-]?\\d+)\\s*",aw="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Eu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",j0t=/^#([0-9a-f]{3,8})$/,T0t=new RegExp(`^rgb\\(${jv},${jv},${jv}\\)$`),P0t=new RegExp(`^rgb\\(${Eu},${Eu},${Eu}\\)$`),A0t=new RegExp(`^rgba\\(${jv},${jv},${jv},${aw}\\)$`),D0t=new RegExp(`^rgba\\(${Eu},${Eu},${Eu},${aw}\\)$`),O0t=new RegExp(`^hsl\\(${aw},${Eu},${Eu}\\)$`),M0t=new RegExp(`^hsla\\(${aw},${Eu},${Eu},${aw}\\)$`),JK={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};f8(w2,iw,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:eX,formatHex:eX,formatHex8:I0t,formatHsl:R0t,formatRgb:tX,toString:tX});function eX(){return this.rgb().formatHex()}function I0t(){return this.rgb().formatHex8()}function R0t(){return yhe(this).formatHsl()}function tX(){return this.rgb().formatRgb()}function iw(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=j0t.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?nX(t):n===3?new Jo(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?mS(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?mS(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=T0t.exec(e))?new Jo(t[1],t[2],t[3],1):(t=P0t.exec(e))?new Jo(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=A0t.exec(e))?mS(t[1],t[2],t[3],t[4]):(t=D0t.exec(e))?mS(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=O0t.exec(e))?iX(t[1],t[2]/100,t[3]/100,1):(t=M0t.exec(e))?iX(t[1],t[2]/100,t[3]/100,t[4]):JK.hasOwnProperty(e)?nX(JK[e]):e==="transparent"?new Jo(NaN,NaN,NaN,0):null}function nX(e){return new Jo(e>>16&255,e>>8&255,e&255,1)}function mS(e,t,n,r){return r<=0&&(e=t=n=NaN),new Jo(e,t,n,r)}function F0t(e){return e instanceof w2||(e=iw(e)),e?(e=e.rgb(),new Jo(e.r,e.g,e.b,e.opacity)):new Jo}function QI(e,t,n,r){return arguments.length===1?F0t(e):new Jo(e,t,n,r??1)}function Jo(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}f8(Jo,QI,vhe(w2,{brighter(e){return e=e==null?UN:Math.pow(UN,e),new Jo(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?rw:Math.pow(rw,e),new Jo(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Jo(nm(this.r),nm(this.g),nm(this.b),WN(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rX,formatHex:rX,formatHex8:L0t,formatRgb:aX,toString:aX}));function rX(){return`#${Mp(this.r)}${Mp(this.g)}${Mp(this.b)}`}function L0t(){return`#${Mp(this.r)}${Mp(this.g)}${Mp(this.b)}${Mp((isNaN(this.opacity)?1:this.opacity)*255)}`}function aX(){const e=WN(this.opacity);return`${e===1?"rgb(":"rgba("}${nm(this.r)}, ${nm(this.g)}, ${nm(this.b)}${e===1?")":`, ${e})`}`}function WN(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function nm(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Mp(e){return e=nm(e),(e<16?"0":"")+e.toString(16)}function iX(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new lc(e,t,n,r)}function yhe(e){if(e instanceof lc)return new lc(e.h,e.s,e.l,e.opacity);if(e instanceof w2||(e=iw(e)),!e)return new lc;if(e instanceof lc)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),i=Math.max(t,n,r),o=NaN,s=i-a,l=(i+a)/2;return s?(t===i?o=(n-r)/s+(n<r)*6:n===i?o=(r-t)/s+2:o=(t-n)/s+4,s/=l<.5?i+a:2-i-a,o*=60):s=l>0&&l<1?0:o,new lc(o,s,l,e.opacity)}function $0t(e,t,n,r){return arguments.length===1?yhe(e):new lc(e,t,n,r??1)}function lc(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}f8(lc,$0t,vhe(w2,{brighter(e){return e=e==null?UN:Math.pow(UN,e),new lc(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?rw:Math.pow(rw,e),new lc(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new Jo(UD(e>=240?e-240:e+120,a,r),UD(e,a,r),UD(e<120?e+240:e-120,a,r),this.opacity)},clamp(){return new lc(oX(this.h),gS(this.s),gS(this.l),WN(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=WN(this.opacity);return`${e===1?"hsl(":"hsla("}${oX(this.h)}, ${gS(this.s)*100}%, ${gS(this.l)*100}%${e===1?")":`, ${e})`}`}}));function oX(e){return e=(e||0)%360,e<0?e+360:e}function gS(e){return Math.max(0,Math.min(1,e||0))}function UD(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const h8=e=>()=>e;function B0t(e,t){return function(n){return e+n*t}}function z0t(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function U0t(e){return(e=+e)==1?xhe:function(t,n){return n-t?z0t(t,n,e):h8(isNaN(t)?n:t)}}function xhe(e,t){var n=t-e;return n?B0t(e,n):h8(isNaN(e)?t:e)}const sX=function e(t){var n=U0t(t);function r(a,i){var o=n((a=QI(a)).r,(i=QI(i)).r),s=n(a.g,i.g),l=n(a.b,i.b),u=xhe(a.opacity,i.opacity);return function(d){return a.r=o(d),a.g=s(d),a.b=l(d),a.opacity=u(d),a+""}}return r.gamma=e,r}(1);function W0t(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),a;return function(i){for(a=0;a<n;++a)r[a]=e[a]*(1-i)+t[a]*i;return r}}function V0t(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function H0t(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,a=new Array(r),i=new Array(n),o;for(o=0;o<r;++o)a[o]=gy(e[o],t[o]);for(;o<n;++o)i[o]=t[o];return function(s){for(o=0;o<r;++o)i[o]=a[o](s);return i}}function q0t(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function VN(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function G0t(e,t){var n={},r={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?n[a]=gy(e[a],t[a]):r[a]=t[a];return function(i){for(a in n)r[a]=n[a](i);return r}}var JI=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,WD=new RegExp(JI.source,"g");function Y0t(e){return function(){return e}}function K0t(e){return function(t){return e(t)+""}}function X0t(e,t){var n=JI.lastIndex=WD.lastIndex=0,r,a,i,o=-1,s=[],l=[];for(e=e+"",t=t+"";(r=JI.exec(e))&&(a=WD.exec(t));)(i=a.index)>n&&(i=t.slice(n,i),s[o]?s[o]+=i:s[++o]=i),(r=r[0])===(a=a[0])?s[o]?s[o]+=a:s[++o]=a:(s[++o]=null,l.push({i:o,x:VN(r,a)})),n=WD.lastIndex;return n<t.length&&(i=t.slice(n),s[o]?s[o]+=i:s[++o]=i),s.length<2?l[0]?K0t(l[0].x):Y0t(t):(t=l.length,function(u){for(var d=0,f;d<t;++d)s[(f=l[d]).i]=f.x(u);return s.join("")})}function gy(e,t){var n=typeof t,r;return t==null||n==="boolean"?h8(t):(n==="number"?VN:n==="string"?(r=iw(t))?(t=r,sX):X0t:t instanceof iw?sX:t instanceof Date?q0t:V0t(t)?W0t:Array.isArray(t)?H0t:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?G0t:VN)(e,t)}function p8(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Z0t(e,t){t===void 0&&(t=e,e=gy);for(var n=0,r=t.length-1,a=t[0],i=new Array(r<0?0:r);n<r;)i[n]=e(a,a=t[++n]);return function(o){var s=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return i[s](o-s)}}function Q0t(e){return function(){return e}}function HN(e){return+e}var lX=[0,1];function Lo(e){return e}function eR(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Q0t(isNaN(t)?NaN:.5)}function J0t(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function eyt(e,t,n){var r=e[0],a=e[1],i=t[0],o=t[1];return a<r?(r=eR(a,r),i=n(o,i)):(r=eR(r,a),i=n(i,o)),function(s){return i(r(s))}}function tyt(e,t,n){var r=Math.min(e.length,t.length)-1,a=new Array(r),i=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)a[o]=eR(e[o],e[o+1]),i[o]=n(t[o],t[o+1]);return function(s){var l=b2(e,s,1,r)-1;return i[l](a[l](s))}}function _2(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function cP(){var e=lX,t=lX,n=gy,r,a,i,o=Lo,s,l,u;function d(){var h=Math.min(e.length,t.length);return o!==Lo&&(o=J0t(e[0],e[h-1])),s=h>2?tyt:eyt,l=u=null,f}function f(h){return h==null||isNaN(h=+h)?i:(l||(l=s(e.map(r),t,n)))(r(o(h)))}return f.invert=function(h){return o(a((u||(u=s(t,e.map(r),VN)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,HN),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),n=p8,d()},f.clamp=function(h){return arguments.length?(o=h?!0:Lo,d()):o!==Lo},f.interpolate=function(h){return arguments.length?(n=h,d()):n},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,p){return r=h,a=p,d()}}function m8(){return cP()(Lo,Lo)}function nyt(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function qN(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function E0(e){return e=qN(Math.abs(e)),e?e[1]:NaN}function ryt(e,t){return function(n,r){for(var a=n.length,i=[],o=0,s=e[0],l=0;a>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),i.push(n.substring(a-=s,a+s)),!((l+=s+1)>r));)s=e[o=(o+1)%e.length];return i.reverse().join(t)}}function ayt(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var iyt=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ow(e){if(!(t=iyt.exec(e)))throw new Error("invalid format: "+e);var t;return new g8({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}ow.prototype=g8.prototype;function g8(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}g8.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function oyt(e){e:for(var t=e.length,n=1,r=-1,a;n<t;++n)switch(e[n]){case".":r=a=n;break;case"0":r===0&&(r=n),a=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(a+1):e}var bhe;function syt(e,t){var n=qN(e,t);if(!n)return e+"";var r=n[0],a=n[1],i=a-(bhe=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=r.length;return i===o?r:i>o?r+new Array(i-o+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+qN(e,Math.max(0,t+i-1))[0]}function cX(e,t){var n=qN(e,t);if(!n)return e+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}const uX={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:nyt,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>cX(e*100,t),r:cX,s:syt,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function dX(e){return e}var fX=Array.prototype.map,hX=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function lyt(e){var t=e.grouping===void 0||e.thousands===void 0?dX:ryt(fX.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?dX:ayt(fX.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(f){f=ow(f);var h=f.fill,p=f.align,m=f.sign,g=f.symbol,y=f.zero,x=f.width,b=f.comma,w=f.precision,_=f.trim,S=f.type;S==="n"?(b=!0,S="g"):uX[S]||(w===void 0&&(w=12),_=!0,S="g"),(y||h==="0"&&p==="=")&&(y=!0,h="0",p="=");var k=g==="$"?n:g==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",N=g==="$"?r:/[%p]/.test(S)?o:"",P=uX[S],T=/[defgprs%]/.test(S);w=w===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function j(D){var M=k,R=N,W,B,V;if(S==="c")R=P(D)+R,D="";else{D=+D;var q=D<0||1/D<0;if(D=isNaN(D)?l:P(Math.abs(D),w),_&&(D=oyt(D)),q&&+D==0&&m!=="+"&&(q=!1),M=(q?m==="("?m:s:m==="-"||m==="("?"":m)+M,R=(S==="s"?hX[8+bhe/3]:"")+R+(q&&m==="("?")":""),T){for(W=-1,B=D.length;++W<B;)if(V=D.charCodeAt(W),48>V||V>57){R=(V===46?a+D.slice(W+1):D.slice(W))+R,D=D.slice(0,W);break}}}b&&!y&&(D=t(D,1/0));var I=M.length+D.length+R.length,O=I<x?new Array(x-I+1).join(h):"";switch(b&&y&&(D=t(O+D,O.length?x-R.length:1/0),O=""),p){case"<":D=M+D+R+O;break;case"=":D=M+O+D+R;break;case"^":D=O.slice(0,I=O.length>>1)+M+D+R+O.slice(I);break;default:D=O+M+D+R;break}return i(D)}return j.toString=function(){return f+""},j}function d(f,h){var p=u((f=ow(f),f.type="f",f)),m=Math.max(-8,Math.min(8,Math.floor(E0(h)/3)))*3,g=Math.pow(10,-m),y=hX[8+m/3];return function(x){return p(g*x)+y}}return{format:u,formatPrefix:d}}var vS,v8,whe;cyt({thousands:",",grouping:[3],currency:["$",""]});function cyt(e){return vS=lyt(e),v8=vS.format,whe=vS.formatPrefix,vS}function uyt(e){return Math.max(0,-E0(Math.abs(e)))}function dyt(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(E0(t)/3)))*3-E0(Math.abs(e)))}function fyt(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,E0(t)-E0(e))+1}function _he(e,t,n,r){var a=XI(e,t,n),i;switch(r=ow(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(i=dyt(a,o))&&(r.precision=i),whe(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(i=fyt(a,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=i-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(i=uyt(a))&&(r.precision=i-(r.type==="%")*2);break}}return v8(r)}function Lh(e){var t=e.domain;return e.ticks=function(n){var r=t();return YI(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var a=t();return _he(a[0],a[a.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),a=0,i=r.length-1,o=r[a],s=r[i],l,u,d=10;for(s<o&&(u=o,o=s,s=u,u=a,a=i,i=u);d-- >0;){if(u=KI(o,s,n),u===l)return r[a]=o,r[i]=s,t(r);if(u>0)o=Math.floor(o/u)*u,s=Math.ceil(s/u)*u;else if(u<0)o=Math.ceil(o*u)/u,s=Math.floor(s*u)/u;else break;l=u}return e},e}function GN(){var e=m8();return e.copy=function(){return _2(e,GN())},$l.apply(e,arguments),Lh(e)}function She(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,HN),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return She(e).unknown(t)},e=arguments.length?Array.from(e,HN):[0,1],Lh(n)}function Che(e,t){e=e.slice();var n=0,r=e.length-1,a=e[n],i=e[r],o;return i<a&&(o=n,n=r,r=o,o=a,a=i,i=o),e[n]=t.floor(a),e[r]=t.ceil(i),e}function pX(e){return Math.log(e)}function mX(e){return Math.exp(e)}function hyt(e){return-Math.log(-e)}function pyt(e){return-Math.exp(-e)}function myt(e){return isFinite(e)?+("1e"+e):e<0?0:e}function gyt(e){return e===10?myt:e===Math.E?Math.exp:t=>Math.pow(e,t)}function vyt(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function gX(e){return(t,n)=>-e(-t,n)}function y8(e){const t=e(pX,mX),n=t.domain;let r=10,a,i;function o(){return a=vyt(r),i=gyt(r),n()[0]<0?(a=gX(a),i=gX(i),e(hyt,pyt)):e(pX,mX),t}return t.base=function(s){return arguments.length?(r=+s,o()):r},t.domain=function(s){return arguments.length?(n(s),o()):n()},t.ticks=s=>{const l=n();let u=l[0],d=l[l.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=a(u),p=a(d),m,g;const y=s==null?10:+s;let x=[];if(!(r%1)&&p-h<y){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(m=1;m<r;++m)if(g=h<0?m/i(-h):m*i(h),!(g<u)){if(g>d)break;x.push(g)}}else for(;h<=p;++h)for(m=r-1;m>=1;--m)if(g=h>0?m/i(-h):m*i(h),!(g<u)){if(g>d)break;x.push(g)}x.length*2<y&&(x=YI(u,d,y))}else x=YI(h,p,Math.min(p-h,y)).map(i);return f?x.reverse():x},t.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=ow(l)).precision==null&&(l.trim=!0),l=v8(l)),s===1/0)return l;const u=Math.max(1,r*s/t.ticks().length);return d=>{let f=d/i(Math.round(a(d)));return f*r<r-.5&&(f*=r),f<=u?l(d):""}},t.nice=()=>n(Che(n(),{floor:s=>i(Math.floor(a(s))),ceil:s=>i(Math.ceil(a(s)))})),t}function Ehe(){const e=y8(cP()).domain([1,10]);return e.copy=()=>_2(e,Ehe()).base(e.base()),$l.apply(e,arguments),e}function vX(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function yX(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function x8(e){var t=1,n=e(vX(t),yX(t));return n.constant=function(r){return arguments.length?e(vX(t=+r),yX(t)):t},Lh(n)}function Nhe(){var e=x8(cP());return e.copy=function(){return _2(e,Nhe()).constant(e.constant())},$l.apply(e,arguments)}function xX(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function yyt(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function xyt(e){return e<0?-e*e:e*e}function b8(e){var t=e(Lo,Lo),n=1;function r(){return n===1?e(Lo,Lo):n===.5?e(yyt,xyt):e(xX(n),xX(1/n))}return t.exponent=function(a){return arguments.length?(n=+a,r()):n},Lh(t)}function w8(){var e=b8(cP());return e.copy=function(){return _2(e,w8()).exponent(e.exponent())},$l.apply(e,arguments),e}function byt(){return w8.apply(null,arguments).exponent(.5)}function bX(e){return Math.sign(e)*e*e}function wyt(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function khe(){var e=m8(),t=[0,1],n=!1,r;function a(i){var o=wyt(e(i));return isNaN(o)?r:n?Math.round(o):o}return a.invert=function(i){return e.invert(bX(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,HN)).map(bX)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(n=!!i,a):n},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return khe(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},$l.apply(a,arguments),Lh(a)}function jhe(){var e=[],t=[],n=[],r;function a(){var o=0,s=Math.max(1,t.length);for(n=new Array(s-1);++o<s;)n[o-1]=N0t(e,o/s);return i}function i(o){return o==null||isNaN(o=+o)?r:t[b2(n,o)]}return i.invertExtent=function(o){var s=t.indexOf(o);return s<0?[NaN,NaN]:[s>0?n[s-1]:e[0],s<n.length?n[s]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let s of o)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(oh),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.quantiles=function(){return n.slice()},i.copy=function(){return jhe().domain(e).range(t).unknown(r)},$l.apply(i,arguments)}function The(){var e=0,t=1,n=1,r=[.5],a=[0,1],i;function o(l){return l!=null&&l<=l?a[b2(r,l,0,n)]:i}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*t-(l-n)*e)/(n+1);return o}return o.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,s()):[e,t]},o.range=function(l){return arguments.length?(n=(a=Array.from(l)).length-1,s()):a.slice()},o.invertExtent=function(l){var u=a.indexOf(l);return u<0?[NaN,NaN]:u<1?[e,r[0]]:u>=n?[r[n-1],t]:[r[u-1],r[u]]},o.unknown=function(l){return arguments.length&&(i=l),o},o.thresholds=function(){return r.slice()},o.copy=function(){return The().domain([e,t]).range(a).unknown(i)},$l.apply(Lh(o),arguments)}function Phe(){var e=[.5],t=[0,1],n,r=1;function a(i){return i!=null&&i<=i?t[b2(e,i,0,r)]:n}return a.domain=function(i){return arguments.length?(e=Array.from(i),r=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),r=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return Phe().domain(e).range(t).unknown(n)},$l.apply(a,arguments)}const VD=new Date,HD=new Date;function yi(e,t,n,r){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),s=a.ceil(i);return i-o<s-i?o:s},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,s)=>{const l=[];if(i=a.ceil(i),s=s==null?1:Math.floor(s),!(i<o)||!(s>0))return l;let u;do l.push(u=new Date(+i)),t(i,s),e(i);while(u<i&&i<o);return l},a.filter=i=>yi(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;t(o,-1),!i(o););else for(;--s>=0;)for(;t(o,1),!i(o););}),n&&(a.count=(i,o)=>(VD.setTime(+i),HD.setTime(+o),e(VD),e(HD),Math.floor(n(VD,HD))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(r?o=>r(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const YN=yi(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);YN.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?yi(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):YN);YN.range;const ud=1e3,_l=ud*60,dd=_l*60,Rd=dd*24,_8=Rd*7,wX=Rd*30,qD=Rd*365,Ip=yi(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ud)},(e,t)=>(t-e)/ud,e=>e.getUTCSeconds());Ip.range;const S8=yi(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ud)},(e,t)=>{e.setTime(+e+t*_l)},(e,t)=>(t-e)/_l,e=>e.getMinutes());S8.range;const C8=yi(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*_l)},(e,t)=>(t-e)/_l,e=>e.getUTCMinutes());C8.range;const E8=yi(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ud-e.getMinutes()*_l)},(e,t)=>{e.setTime(+e+t*dd)},(e,t)=>(t-e)/dd,e=>e.getHours());E8.range;const N8=yi(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*dd)},(e,t)=>(t-e)/dd,e=>e.getUTCHours());N8.range;const S2=yi(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*_l)/Rd,e=>e.getDate()-1);S2.range;const uP=yi(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Rd,e=>e.getUTCDate()-1);uP.range;const Ahe=yi(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Rd,e=>Math.floor(e/Rd));Ahe.range;function Gm(e){return yi(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*_l)/_8)}const dP=Gm(0),KN=Gm(1),_yt=Gm(2),Syt=Gm(3),N0=Gm(4),Cyt=Gm(5),Eyt=Gm(6);dP.range;KN.range;_yt.range;Syt.range;N0.range;Cyt.range;Eyt.range;function Ym(e){return yi(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/_8)}const fP=Ym(0),XN=Ym(1),Nyt=Ym(2),kyt=Ym(3),k0=Ym(4),jyt=Ym(5),Tyt=Ym(6);fP.range;XN.range;Nyt.range;kyt.range;k0.range;jyt.range;Tyt.range;const k8=yi(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());k8.range;const j8=yi(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());j8.range;const Fd=yi(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Fd.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:yi(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Fd.range;const Ld=yi(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Ld.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:yi(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Ld.range;function Dhe(e,t,n,r,a,i){const o=[[Ip,1,ud],[Ip,5,5*ud],[Ip,15,15*ud],[Ip,30,30*ud],[i,1,_l],[i,5,5*_l],[i,15,15*_l],[i,30,30*_l],[a,1,dd],[a,3,3*dd],[a,6,6*dd],[a,12,12*dd],[r,1,Rd],[r,2,2*Rd],[n,1,_8],[t,1,wX],[t,3,3*wX],[e,1,qD]];function s(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const p=f&&typeof f.range=="function"?f:l(u,d,f),m=p?p.range(u,+d+1):[];return h?m.reverse():m}function l(u,d,f){const h=Math.abs(d-u)/f,p=u8(([,,y])=>y).right(o,h);if(p===o.length)return e.every(XI(u/qD,d/qD,f));if(p===0)return YN.every(Math.max(XI(u,d,f),1));const[m,g]=o[h/o[p-1][2]<o[p][2]/h?p-1:p];return m.every(g)}return[s,l]}const[Pyt,Ayt]=Dhe(Ld,j8,fP,Ahe,N8,C8),[Dyt,Oyt]=Dhe(Fd,k8,dP,S2,E8,S8);function GD(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function YD(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function ux(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function Myt(e){var t=e.dateTime,n=e.date,r=e.time,a=e.periods,i=e.days,o=e.shortDays,s=e.months,l=e.shortMonths,u=dx(a),d=fx(a),f=dx(i),h=fx(i),p=dx(o),m=fx(o),g=dx(s),y=fx(s),x=dx(l),b=fx(l),w={a:q,A:I,b:O,B:H,c:null,d:kX,e:kX,f:rxt,g:hxt,G:mxt,H:ext,I:txt,j:nxt,L:Ohe,m:axt,M:ixt,p:ne,q:z,Q:PX,s:AX,S:oxt,u:sxt,U:lxt,V:cxt,w:uxt,W:dxt,x:null,X:null,y:fxt,Y:pxt,Z:gxt,"%":TX},_={a:J,A:ee,b:G,B:Z,c:null,d:jX,e:jX,f:bxt,g:Pxt,G:Dxt,H:vxt,I:yxt,j:xxt,L:Ihe,m:wxt,M:_xt,p:se,q:ae,Q:PX,s:AX,S:Sxt,u:Cxt,U:Ext,V:Nxt,w:kxt,W:jxt,x:null,X:null,y:Txt,Y:Axt,Z:Oxt,"%":TX},S={a:j,A:D,b:M,B:R,c:W,d:EX,e:EX,f:Xyt,g:CX,G:SX,H:NX,I:NX,j:qyt,L:Kyt,m:Hyt,M:Gyt,p:T,q:Vyt,Q:Qyt,s:Jyt,S:Yyt,u:$yt,U:Byt,V:zyt,w:Lyt,W:Uyt,x:B,X:V,y:CX,Y:SX,Z:Wyt,"%":Zyt};w.x=k(n,w),w.X=k(r,w),w.c=k(t,w),_.x=k(n,_),_.X=k(r,_),_.c=k(t,_);function k(Y,X){return function(K){var F=[],re=-1,Q=0,oe=Y.length,me,be,ye;for(K instanceof Date||(K=new Date(+K));++re<oe;)Y.charCodeAt(re)===37&&(F.push(Y.slice(Q,re)),(be=_X[me=Y.charAt(++re)])!=null?me=Y.charAt(++re):be=me==="e"?" ":"0",(ye=X[me])&&(me=ye(K,be)),F.push(me),Q=re+1);return F.push(Y.slice(Q,re)),F.join("")}}function N(Y,X){return function(K){var F=ux(1900,void 0,1),re=P(F,Y,K+="",0),Q,oe;if(re!=K.length)return null;if("Q"in F)return new Date(F.Q);if("s"in F)return new Date(F.s*1e3+("L"in F?F.L:0));if(X&&!("Z"in F)&&(F.Z=0),"p"in F&&(F.H=F.H%12+F.p*12),F.m===void 0&&(F.m="q"in F?F.q:0),"V"in F){if(F.V<1||F.V>53)return null;"w"in F||(F.w=1),"Z"in F?(Q=YD(ux(F.y,0,1)),oe=Q.getUTCDay(),Q=oe>4||oe===0?XN.ceil(Q):XN(Q),Q=uP.offset(Q,(F.V-1)*7),F.y=Q.getUTCFullYear(),F.m=Q.getUTCMonth(),F.d=Q.getUTCDate()+(F.w+6)%7):(Q=GD(ux(F.y,0,1)),oe=Q.getDay(),Q=oe>4||oe===0?KN.ceil(Q):KN(Q),Q=S2.offset(Q,(F.V-1)*7),F.y=Q.getFullYear(),F.m=Q.getMonth(),F.d=Q.getDate()+(F.w+6)%7)}else("W"in F||"U"in F)&&("w"in F||(F.w="u"in F?F.u%7:"W"in F?1:0),oe="Z"in F?YD(ux(F.y,0,1)).getUTCDay():GD(ux(F.y,0,1)).getDay(),F.m=0,F.d="W"in F?(F.w+6)%7+F.W*7-(oe+5)%7:F.w+F.U*7-(oe+6)%7);return"Z"in F?(F.H+=F.Z/100|0,F.M+=F.Z%100,YD(F)):GD(F)}}function P(Y,X,K,F){for(var re=0,Q=X.length,oe=K.length,me,be;re<Q;){if(F>=oe)return-1;if(me=X.charCodeAt(re++),me===37){if(me=X.charAt(re++),be=S[me in _X?X.charAt(re++):me],!be||(F=be(Y,K,F))<0)return-1}else if(me!=K.charCodeAt(F++))return-1}return F}function T(Y,X,K){var F=u.exec(X.slice(K));return F?(Y.p=d.get(F[0].toLowerCase()),K+F[0].length):-1}function j(Y,X,K){var F=p.exec(X.slice(K));return F?(Y.w=m.get(F[0].toLowerCase()),K+F[0].length):-1}function D(Y,X,K){var F=f.exec(X.slice(K));return F?(Y.w=h.get(F[0].toLowerCase()),K+F[0].length):-1}function M(Y,X,K){var F=x.exec(X.slice(K));return F?(Y.m=b.get(F[0].toLowerCase()),K+F[0].length):-1}function R(Y,X,K){var F=g.exec(X.slice(K));return F?(Y.m=y.get(F[0].toLowerCase()),K+F[0].length):-1}function W(Y,X,K){return P(Y,t,X,K)}function B(Y,X,K){return P(Y,n,X,K)}function V(Y,X,K){return P(Y,r,X,K)}function q(Y){return o[Y.getDay()]}function I(Y){return i[Y.getDay()]}function O(Y){return l[Y.getMonth()]}function H(Y){return s[Y.getMonth()]}function ne(Y){return a[+(Y.getHours()>=12)]}function z(Y){return 1+~~(Y.getMonth()/3)}function J(Y){return o[Y.getUTCDay()]}function ee(Y){return i[Y.getUTCDay()]}function G(Y){return l[Y.getUTCMonth()]}function Z(Y){return s[Y.getUTCMonth()]}function se(Y){return a[+(Y.getUTCHours()>=12)]}function ae(Y){return 1+~~(Y.getUTCMonth()/3)}return{format:function(Y){var X=k(Y+="",w);return X.toString=function(){return Y},X},parse:function(Y){var X=N(Y+="",!1);return X.toString=function(){return Y},X},utcFormat:function(Y){var X=k(Y+="",_);return X.toString=function(){return Y},X},utcParse:function(Y){var X=N(Y+="",!0);return X.toString=function(){return Y},X}}}var _X={"-":"",_:" ",0:"0"},Fi=/^\s*\d+/,Iyt=/^%/,Ryt=/[\\^$*+?|[\]().{}]/g;function pr(e,t,n){var r=e<0?"-":"",a=(r?-e:e)+"",i=a.length;return r+(i<n?new Array(n-i+1).join(t)+a:a)}function Fyt(e){return e.replace(Ryt,"\\$&")}function dx(e){return new RegExp("^(?:"+e.map(Fyt).join("|")+")","i")}function fx(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function Lyt(e,t,n){var r=Fi.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function $yt(e,t,n){var r=Fi.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function Byt(e,t,n){var r=Fi.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function zyt(e,t,n){var r=Fi.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function Uyt(e,t,n){var r=Fi.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function SX(e,t,n){var r=Fi.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function CX(e,t,n){var r=Fi.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Wyt(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Vyt(e,t,n){var r=Fi.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function Hyt(e,t,n){var r=Fi.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function EX(e,t,n){var r=Fi.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function qyt(e,t,n){var r=Fi.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function NX(e,t,n){var r=Fi.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Gyt(e,t,n){var r=Fi.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function Yyt(e,t,n){var r=Fi.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Kyt(e,t,n){var r=Fi.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Xyt(e,t,n){var r=Fi.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Zyt(e,t,n){var r=Iyt.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Qyt(e,t,n){var r=Fi.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function Jyt(e,t,n){var r=Fi.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function kX(e,t){return pr(e.getDate(),t,2)}function ext(e,t){return pr(e.getHours(),t,2)}function txt(e,t){return pr(e.getHours()%12||12,t,2)}function nxt(e,t){return pr(1+S2.count(Fd(e),e),t,3)}function Ohe(e,t){return pr(e.getMilliseconds(),t,3)}function rxt(e,t){return Ohe(e,t)+"000"}function axt(e,t){return pr(e.getMonth()+1,t,2)}function ixt(e,t){return pr(e.getMinutes(),t,2)}function oxt(e,t){return pr(e.getSeconds(),t,2)}function sxt(e){var t=e.getDay();return t===0?7:t}function lxt(e,t){return pr(dP.count(Fd(e)-1,e),t,2)}function Mhe(e){var t=e.getDay();return t>=4||t===0?N0(e):N0.ceil(e)}function cxt(e,t){return e=Mhe(e),pr(N0.count(Fd(e),e)+(Fd(e).getDay()===4),t,2)}function uxt(e){return e.getDay()}function dxt(e,t){return pr(KN.count(Fd(e)-1,e),t,2)}function fxt(e,t){return pr(e.getFullYear()%100,t,2)}function hxt(e,t){return e=Mhe(e),pr(e.getFullYear()%100,t,2)}function pxt(e,t){return pr(e.getFullYear()%1e4,t,4)}function mxt(e,t){var n=e.getDay();return e=n>=4||n===0?N0(e):N0.ceil(e),pr(e.getFullYear()%1e4,t,4)}function gxt(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+pr(t/60|0,"0",2)+pr(t%60,"0",2)}function jX(e,t){return pr(e.getUTCDate(),t,2)}function vxt(e,t){return pr(e.getUTCHours(),t,2)}function yxt(e,t){return pr(e.getUTCHours()%12||12,t,2)}function xxt(e,t){return pr(1+uP.count(Ld(e),e),t,3)}function Ihe(e,t){return pr(e.getUTCMilliseconds(),t,3)}function bxt(e,t){return Ihe(e,t)+"000"}function wxt(e,t){return pr(e.getUTCMonth()+1,t,2)}function _xt(e,t){return pr(e.getUTCMinutes(),t,2)}function Sxt(e,t){return pr(e.getUTCSeconds(),t,2)}function Cxt(e){var t=e.getUTCDay();return t===0?7:t}function Ext(e,t){return pr(fP.count(Ld(e)-1,e),t,2)}function Rhe(e){var t=e.getUTCDay();return t>=4||t===0?k0(e):k0.ceil(e)}function Nxt(e,t){return e=Rhe(e),pr(k0.count(Ld(e),e)+(Ld(e).getUTCDay()===4),t,2)}function kxt(e){return e.getUTCDay()}function jxt(e,t){return pr(XN.count(Ld(e)-1,e),t,2)}function Txt(e,t){return pr(e.getUTCFullYear()%100,t,2)}function Pxt(e,t){return e=Rhe(e),pr(e.getUTCFullYear()%100,t,2)}function Axt(e,t){return pr(e.getUTCFullYear()%1e4,t,4)}function Dxt(e,t){var n=e.getUTCDay();return e=n>=4||n===0?k0(e):k0.ceil(e),pr(e.getUTCFullYear()%1e4,t,4)}function Oxt(){return"+0000"}function TX(){return"%"}function PX(e){return+e}function AX(e){return Math.floor(+e/1e3)}var _g,Fhe,Lhe;Mxt({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Mxt(e){return _g=Myt(e),Fhe=_g.format,_g.parse,Lhe=_g.utcFormat,_g.utcParse,_g}function Ixt(e){return new Date(e)}function Rxt(e){return e instanceof Date?+e:+new Date(+e)}function T8(e,t,n,r,a,i,o,s,l,u){var d=m8(),f=d.invert,h=d.domain,p=u(".%L"),m=u(":%S"),g=u("%I:%M"),y=u("%I %p"),x=u("%a %d"),b=u("%b %d"),w=u("%B"),_=u("%Y");function S(k){return(l(k)<k?p:s(k)<k?m:o(k)<k?g:i(k)<k?y:r(k)<k?a(k)<k?x:b:n(k)<k?w:_)(k)}return d.invert=function(k){return new Date(f(k))},d.domain=function(k){return arguments.length?h(Array.from(k,Rxt)):h().map(Ixt)},d.ticks=function(k){var N=h();return e(N[0],N[N.length-1],k??10)},d.tickFormat=function(k,N){return N==null?S:u(N)},d.nice=function(k){var N=h();return(!k||typeof k.range!="function")&&(k=t(N[0],N[N.length-1],k??10)),k?h(Che(N,k)):d},d.copy=function(){return _2(d,T8(e,t,n,r,a,i,o,s,l,u))},d}function Fxt(){return $l.apply(T8(Dyt,Oyt,Fd,k8,dP,S2,E8,S8,Ip,Fhe).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Lxt(){return $l.apply(T8(Pyt,Ayt,Ld,j8,fP,uP,N8,C8,Ip,Lhe).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function hP(){var e=0,t=1,n,r,a,i,o=Lo,s=!1,l;function u(f){return f==null||isNaN(f=+f)?l:o(a===0?.5:(f=(i(f)-n)*a,s?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,n=i(e=+e),r=i(t=+t),a=n===r?0:1/(r-n),u):[e,t]},u.clamp=function(f){return arguments.length?(s=!!f,u):s},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var p,m;return arguments.length?([p,m]=h,o=f(p,m),u):[o(0),o(1)]}}return u.range=d(gy),u.rangeRound=d(p8),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return i=f,n=f(e),r=f(t),a=n===r?0:1/(r-n),u}}function $h(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function $he(){var e=Lh(hP()(Lo));return e.copy=function(){return $h(e,$he())},Qd.apply(e,arguments)}function Bhe(){var e=y8(hP()).domain([1,10]);return e.copy=function(){return $h(e,Bhe()).base(e.base())},Qd.apply(e,arguments)}function zhe(){var e=x8(hP());return e.copy=function(){return $h(e,zhe()).constant(e.constant())},Qd.apply(e,arguments)}function P8(){var e=b8(hP());return e.copy=function(){return $h(e,P8()).exponent(e.exponent())},Qd.apply(e,arguments)}function $xt(){return P8.apply(null,arguments).exponent(.5)}function Uhe(){var e=[],t=Lo;function n(r){if(r!=null&&!isNaN(r=+r))return t((b2(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let a of r)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(oh),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,a)=>t(a/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(a,i)=>E0t(e,i/r))},n.copy=function(){return Uhe(t).domain(e)},Qd.apply(n,arguments)}function pP(){var e=0,t=.5,n=1,r=1,a,i,o,s,l,u=Lo,d,f=!1,h;function p(g){return isNaN(g=+g)?h:(g=.5+((g=+d(g))-i)*(r*g<r*i?s:l),u(f?Math.max(0,Math.min(1,g)):g))}p.domain=function(g){return arguments.length?([e,t,n]=g,a=d(e=+e),i=d(t=+t),o=d(n=+n),s=a===i?0:.5/(i-a),l=i===o?0:.5/(o-i),r=i<a?-1:1,p):[e,t,n]},p.clamp=function(g){return arguments.length?(f=!!g,p):f},p.interpolator=function(g){return arguments.length?(u=g,p):u};function m(g){return function(y){var x,b,w;return arguments.length?([x,b,w]=y,u=Z0t(g,[x,b,w]),p):[u(0),u(.5),u(1)]}}return p.range=m(gy),p.rangeRound=m(p8),p.unknown=function(g){return arguments.length?(h=g,p):h},function(g){return d=g,a=g(e),i=g(t),o=g(n),s=a===i?0:.5/(i-a),l=i===o?0:.5/(o-i),r=i<a?-1:1,p}}function Whe(){var e=Lh(pP()(Lo));return e.copy=function(){return $h(e,Whe())},Qd.apply(e,arguments)}function Vhe(){var e=y8(pP()).domain([.1,1,10]);return e.copy=function(){return $h(e,Vhe()).base(e.base())},Qd.apply(e,arguments)}function Hhe(){var e=x8(pP());return e.copy=function(){return $h(e,Hhe()).constant(e.constant())},Qd.apply(e,arguments)}function A8(){var e=b8(pP());return e.copy=function(){return $h(e,A8()).exponent(e.exponent())},Qd.apply(e,arguments)}function Bxt(){return A8.apply(null,arguments).exponent(.5)}const DX=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:nw,scaleDiverging:Whe,scaleDivergingLog:Vhe,scaleDivergingPow:A8,scaleDivergingSqrt:Bxt,scaleDivergingSymlog:Hhe,scaleIdentity:She,scaleImplicit:ZI,scaleLinear:GN,scaleLog:Ehe,scaleOrdinal:d8,scalePoint:j1,scalePow:w8,scaleQuantile:jhe,scaleQuantize:The,scaleRadial:khe,scaleSequential:$he,scaleSequentialLog:Bhe,scaleSequentialPow:P8,scaleSequentialQuantile:Uhe,scaleSequentialSqrt:$xt,scaleSequentialSymlog:zhe,scaleSqrt:byt,scaleSymlog:Nhe,scaleThreshold:Phe,scaleTime:Fxt,scaleUtc:Lxt,tickFormat:_he},Symbol.toStringTag,{value:"Module"}));var zxt=ly;function Uxt(e,t,n){for(var r=-1,a=e.length;++r<a;){var i=e[r],o=t(i);if(o!=null&&(s===void 0?o===o&&!zxt(o):n(o,s)))var s=o,l=i}return l}var mP=Uxt;function Wxt(e,t){return e>t}var qhe=Wxt,Vxt=mP,Hxt=qhe,qxt=my;function Gxt(e){return e&&e.length?Vxt(e,qxt,Hxt):void 0}var Yxt=Gxt;const gP=sr(Yxt);function Kxt(e,t){return e<t}var Ghe=Kxt,Xxt=mP,Zxt=Ghe,Qxt=my;function Jxt(e){return e&&e.length?Xxt(e,Qxt,Zxt):void 0}var e1t=Jxt;const vP=sr(e1t);var t1t=V$,n1t=Fh,r1t=nhe,a1t=ps;function i1t(e,t){var n=a1t(e)?t1t:r1t;return n(e,n1t(t))}var o1t=i1t,s1t=ehe,l1t=o1t;function c1t(e,t){return s1t(l1t(e,t),1)}var u1t=c1t;const d1t=sr(u1t);var f1t=o8;function h1t(e,t){return f1t(e,t)}var p1t=h1t;const D8=sr(p1t);var vy=1e9,m1t={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},M8,ya=!0,Al="[DecimalError] ",rm=Al+"Invalid argument: ",O8=Al+"Exponent out of range: ",yy=Math.floor,pp=Math.pow,g1t=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,js,wi=1e7,na=7,Yhe=9007199254740991,ZN=yy(Yhe/na),tn={};tn.absoluteValue=tn.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};tn.comparedTo=tn.cmp=function(e){var t,n,r,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(r=i.d.length,a=e.d.length,t=0,n=r<a?r:a;t<n;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return r===a?0:r>a^i.s<0?1:-1};tn.decimalPlaces=tn.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*na;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};tn.dividedBy=tn.div=function(e){return bd(this,new this.constructor(e))};tn.dividedToIntegerBy=tn.idiv=function(e){var t=this,n=t.constructor;return zr(bd(t,new n(e),0,1),n.precision)};tn.equals=tn.eq=function(e){return!this.cmp(e)};tn.exponent=function(){return ni(this)};tn.greaterThan=tn.gt=function(e){return this.cmp(e)>0};tn.greaterThanOrEqualTo=tn.gte=function(e){return this.cmp(e)>=0};tn.isInteger=tn.isint=function(){return this.e>this.d.length-2};tn.isNegative=tn.isneg=function(){return this.s<0};tn.isPositive=tn.ispos=function(){return this.s>0};tn.isZero=function(){return this.s===0};tn.lessThan=tn.lt=function(e){return this.cmp(e)<0};tn.lessThanOrEqualTo=tn.lte=function(e){return this.cmp(e)<1};tn.logarithm=tn.log=function(e){var t,n=this,r=n.constructor,a=r.precision,i=a+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(js))throw Error(Al+"NaN");if(n.s<1)throw Error(Al+(n.s?"NaN":"-Infinity"));return n.eq(js)?new r(0):(ya=!1,t=bd(sw(n,i),sw(e,i),i),ya=!0,zr(t,a))};tn.minus=tn.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Zhe(t,e):Khe(t,(e.s=-e.s,e))};tn.modulo=tn.mod=function(e){var t,n=this,r=n.constructor,a=r.precision;if(e=new r(e),!e.s)throw Error(Al+"NaN");return n.s?(ya=!1,t=bd(n,e,0,1).times(e),ya=!0,n.minus(t)):zr(new r(n),a)};tn.naturalExponential=tn.exp=function(){return Xhe(this)};tn.naturalLogarithm=tn.ln=function(){return sw(this)};tn.negated=tn.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};tn.plus=tn.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Khe(t,e):Zhe(t,(e.s=-e.s,e))};tn.precision=tn.sd=function(e){var t,n,r,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(rm+e);if(t=ni(a)+1,r=a.d.length-1,n=r*na+1,r=a.d[r],r){for(;r%10==0;r/=10)n--;for(r=a.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};tn.squareRoot=tn.sqrt=function(){var e,t,n,r,a,i,o,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(Al+"NaN")}for(e=ni(s),ya=!1,a=Math.sqrt(+s),a==0||a==1/0?(t=cu(s.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=yy((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new l(t)):r=new l(a.toString()),n=l.precision,a=o=n+3;;)if(i=r,r=i.plus(bd(s,i,o+2)).times(.5),cu(i.d).slice(0,o)===(t=cu(r.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(zr(i,n+1,0),i.times(i).eq(s)){r=i;break}}else if(t!="9999")break;o+=4}return ya=!0,zr(r,n)};tn.times=tn.mul=function(e){var t,n,r,a,i,o,s,l,u,d=this,f=d.constructor,h=d.d,p=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,n=d.e+e.e,l=h.length,u=p.length,l<u&&(i=h,h=p,p=i,o=l,l=u,u=o),i=[],o=l+u,r=o;r--;)i.push(0);for(r=u;--r>=0;){for(t=0,a=l+r;a>r;)s=i[a]+p[r]*h[a-r-1]+t,i[a--]=s%wi|0,t=s/wi|0;i[a]=(i[a]+t)%wi|0}for(;!i[--o];)i.pop();return t?++n:i.shift(),e.d=i,e.e=n,ya?zr(e,f.precision):e};tn.toDecimalPlaces=tn.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(Pu(e,0,vy),t===void 0?t=r.rounding:Pu(t,0,8),zr(n,e+ni(n)+1,t))};tn.toExponential=function(e,t){var n,r=this,a=r.constructor;return e===void 0?n=Em(r,!0):(Pu(e,0,vy),t===void 0?t=a.rounding:Pu(t,0,8),r=zr(new a(r),e+1,t),n=Em(r,!0,e+1)),n};tn.toFixed=function(e,t){var n,r,a=this,i=a.constructor;return e===void 0?Em(a):(Pu(e,0,vy),t===void 0?t=i.rounding:Pu(t,0,8),r=zr(new i(a),e+ni(a)+1,t),n=Em(r.abs(),!1,e+ni(r)+1),a.isneg()&&!a.isZero()?"-"+n:n)};tn.toInteger=tn.toint=function(){var e=this,t=e.constructor;return zr(new t(e),ni(e)+1,t.rounding)};tn.toNumber=function(){return+this};tn.toPower=tn.pow=function(e){var t,n,r,a,i,o,s=this,l=s.constructor,u=12,d=+(e=new l(e));if(!e.s)return new l(js);if(s=new l(s),!s.s){if(e.s<1)throw Error(Al+"Infinity");return s}if(s.eq(js))return s;if(r=l.precision,e.eq(js))return zr(s,r);if(t=e.e,n=e.d.length-1,o=t>=n,i=s.s,o){if((n=d<0?-d:d)<=Yhe){for(a=new l(js),t=Math.ceil(r/na+4),ya=!1;n%2&&(a=a.times(s),MX(a.d,t)),n=yy(n/2),n!==0;)s=s.times(s),MX(s.d,t);return ya=!0,e.s<0?new l(js).div(a):zr(a,r)}}else if(i<0)throw Error(Al+"NaN");return i=i<0&&e.d[Math.max(t,n)]&1?-1:1,s.s=1,ya=!1,a=e.times(sw(s,r+u)),ya=!0,a=Xhe(a),a.s=i,a};tn.toPrecision=function(e,t){var n,r,a=this,i=a.constructor;return e===void 0?(n=ni(a),r=Em(a,n<=i.toExpNeg||n>=i.toExpPos)):(Pu(e,1,vy),t===void 0?t=i.rounding:Pu(t,0,8),a=zr(new i(a),e,t),n=ni(a),r=Em(a,e<=n||n<=i.toExpNeg,e)),r};tn.toSignificantDigits=tn.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(Pu(e,1,vy),t===void 0?t=r.rounding:Pu(t,0,8)),zr(new r(n),e,t)};tn.toString=tn.valueOf=tn.val=tn.toJSON=tn[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=ni(e),n=e.constructor;return Em(e,t<=n.toExpNeg||t>=n.toExpPos)};function Khe(e,t){var n,r,a,i,o,s,l,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),ya?zr(t,f):t;if(l=e.d,u=t.d,o=e.e,a=t.e,l=l.slice(),i=o-a,i){for(i<0?(r=l,i=-i,s=u.length):(r=u,a=o,s=l.length),o=Math.ceil(f/na),s=o>s?o+1:s+1,i>s&&(i=s,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for(s=l.length,i=u.length,s-i<0&&(i=s,r=u,u=l,l=r),n=0;i;)n=(l[--i]=l[i]+u[i]+n)/wi|0,l[i]%=wi;for(n&&(l.unshift(n),++a),s=l.length;l[--s]==0;)l.pop();return t.d=l,t.e=a,ya?zr(t,f):t}function Pu(e,t,n){if(e!==~~e||e<t||e>n)throw Error(rm+e)}function cu(e){var t,n,r,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)r=e[t]+"",n=na-r.length,n&&(i+=bf(n)),i+=r;o=e[t],r=o+"",n=na-r.length,n&&(i+=bf(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var bd=function(){function e(r,a){var i,o=0,s=r.length;for(r=r.slice();s--;)i=r[s]*a+o,r[s]=i%wi|0,o=i/wi|0;return o&&r.unshift(o),r}function t(r,a,i,o){var s,l;if(i!=o)l=i>o?1:-1;else for(s=l=0;s<i;s++)if(r[s]!=a[s]){l=r[s]>a[s]?1:-1;break}return l}function n(r,a,i){for(var o=0;i--;)r[i]-=o,o=r[i]<a[i]?1:0,r[i]=o*wi+r[i]-a[i];for(;!r[0]&&r.length>1;)r.shift()}return function(r,a,i,o){var s,l,u,d,f,h,p,m,g,y,x,b,w,_,S,k,N,P,T=r.constructor,j=r.s==a.s?1:-1,D=r.d,M=a.d;if(!r.s)return new T(r);if(!a.s)throw Error(Al+"Division by zero");for(l=r.e-a.e,N=M.length,S=D.length,p=new T(j),m=p.d=[],u=0;M[u]==(D[u]||0);)++u;if(M[u]>(D[u]||0)&&--l,i==null?b=i=T.precision:o?b=i+(ni(r)-ni(a))+1:b=i,b<0)return new T(0);if(b=b/na+2|0,u=0,N==1)for(d=0,M=M[0],b++;(u<S||d)&&b--;u++)w=d*wi+(D[u]||0),m[u]=w/M|0,d=w%M|0;else{for(d=wi/(M[0]+1)|0,d>1&&(M=e(M,d),D=e(D,d),N=M.length,S=D.length),_=N,g=D.slice(0,N),y=g.length;y<N;)g[y++]=0;P=M.slice(),P.unshift(0),k=M[0],M[1]>=wi/2&&++k;do d=0,s=t(M,g,N,y),s<0?(x=g[0],N!=y&&(x=x*wi+(g[1]||0)),d=x/k|0,d>1?(d>=wi&&(d=wi-1),f=e(M,d),h=f.length,y=g.length,s=t(f,g,h,y),s==1&&(d--,n(f,N<h?P:M,h))):(d==0&&(s=d=1),f=M.slice()),h=f.length,h<y&&f.unshift(0),n(g,f,y),s==-1&&(y=g.length,s=t(M,g,N,y),s<1&&(d++,n(g,N<y?P:M,y))),y=g.length):s===0&&(d++,g=[0]),m[u++]=d,s&&g[0]?g[y++]=D[_]||0:(g=[D[_]],y=1);while((_++<S||g[0]!==void 0)&&b--)}return m[0]||m.shift(),p.e=l,zr(p,o?i+ni(p)+1:i)}}();function Xhe(e,t){var n,r,a,i,o,s,l=0,u=0,d=e.constructor,f=d.precision;if(ni(e)>16)throw Error(O8+ni(e));if(!e.s)return new d(js);for(ya=!1,s=f,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(r=Math.log(pp(2,u))/Math.LN10*2+5|0,s+=r,n=a=i=new d(js),d.precision=s;;){if(a=zr(a.times(e),s),n=n.times(++l),o=i.plus(bd(a,n,s)),cu(o.d).slice(0,s)===cu(i.d).slice(0,s)){for(;u--;)i=zr(i.times(i),s);return d.precision=f,t==null?(ya=!0,zr(i,f)):i}i=o}}function ni(e){for(var t=e.e*na,n=e.d[0];n>=10;n/=10)t++;return t}function KD(e,t,n){if(t>e.LN10.sd())throw ya=!0,n&&(e.precision=n),Error(Al+"LN10 precision limit exceeded");return zr(new e(e.LN10),t)}function bf(e){for(var t="";e--;)t+="0";return t}function sw(e,t){var n,r,a,i,o,s,l,u,d,f=1,h=10,p=e,m=p.d,g=p.constructor,y=g.precision;if(p.s<1)throw Error(Al+(p.s?"NaN":"-Infinity"));if(p.eq(js))return new g(0);if(t==null?(ya=!1,u=y):u=t,p.eq(10))return t==null&&(ya=!0),KD(g,u);if(u+=h,g.precision=u,n=cu(m),r=n.charAt(0),i=ni(p),Math.abs(i)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(e),n=cu(p.d),r=n.charAt(0),f++;i=ni(p),r>1?(p=new g("0."+n),i++):p=new g(r+"."+n.slice(1))}else return l=KD(g,u+2,y).times(i+""),p=sw(new g(r+"."+n.slice(1)),u-h).plus(l),g.precision=y,t==null?(ya=!0,zr(p,y)):p;for(s=o=p=bd(p.minus(js),p.plus(js),u),d=zr(p.times(p),u),a=3;;){if(o=zr(o.times(d),u),l=s.plus(bd(o,new g(a),u)),cu(l.d).slice(0,u)===cu(s.d).slice(0,u))return s=s.times(2),i!==0&&(s=s.plus(KD(g,u+2,y).times(i+""))),s=bd(s,new g(f),u),g.precision=y,t==null?(ya=!0,zr(s,y)):s;s=l,a+=2}}function OX(e,t){var n,r,a;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(r,a),t){if(a-=r,n=n-r-1,e.e=yy(n/na),e.d=[],r=(n+1)%na,n<0&&(r+=na),r<a){for(r&&e.d.push(+t.slice(0,r)),a-=na;r<a;)e.d.push(+t.slice(r,r+=na));t=t.slice(r),r=na-t.length}else r-=a;for(;r--;)t+="0";if(e.d.push(+t),ya&&(e.e>ZN||e.e<-ZN))throw Error(O8+n)}else e.s=0,e.e=0,e.d=[0];return e}function zr(e,t,n){var r,a,i,o,s,l,u,d,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(r=t-o,r<0)r+=na,a=t,u=f[d=0];else{if(d=Math.ceil((r+1)/na),i=f.length,d>=i)return e;for(u=i=f[d],o=1;i>=10;i/=10)o++;r%=na,a=r-na+o}if(n!==void 0&&(i=pp(10,o-a-1),s=u/i%10|0,l=t<0||f[d+1]!==void 0||u%i,l=n<4?(s||l)&&(n==0||n==(e.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?a>0?u/pp(10,o-a):0:f[d-1])%10&1||n==(e.s<0?8:7))),t<1||!f[0])return l?(i=ni(e),f.length=1,t=t-i-1,f[0]=pp(10,(na-t%na)%na),e.e=yy(-t/na)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(r==0?(f.length=d,i=1,d--):(f.length=d+1,i=pp(10,na-r),f[d]=a>0?(u/pp(10,o-a)%pp(10,a)|0)*i:0),l)for(;;)if(d==0){(f[0]+=i)==wi&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=wi)break;f[d--]=0,i=1}for(r=f.length;f[--r]===0;)f.pop();if(ya&&(e.e>ZN||e.e<-ZN))throw Error(O8+ni(e));return e}function Zhe(e,t){var n,r,a,i,o,s,l,u,d,f,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),ya?zr(t,p):t;if(l=e.d,f=t.d,r=t.e,u=e.e,l=l.slice(),o=u-r,o){for(d=o<0,d?(n=l,o=-o,s=f.length):(n=f,r=u,s=l.length),a=Math.max(Math.ceil(p/na),s)+2,o>a&&(o=a,n.length=1),n.reverse(),a=o;a--;)n.push(0);n.reverse()}else{for(a=l.length,s=f.length,d=a<s,d&&(s=a),a=0;a<s;a++)if(l[a]!=f[a]){d=l[a]<f[a];break}o=0}for(d&&(n=l,l=f,f=n,t.s=-t.s),s=l.length,a=f.length-s;a>0;--a)l[s++]=0;for(a=f.length;a>o;){if(l[--a]<f[a]){for(i=a;i&&l[--i]===0;)l[i]=wi-1;--l[i],l[a]+=wi}l[a]-=f[a]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(t.d=l,t.e=r,ya?zr(t,p):t):new h(0)}function Em(e,t,n){var r,a=ni(e),i=cu(e.d),o=i.length;return t?(n&&(r=n-o)>0?i=i.charAt(0)+"."+i.slice(1)+bf(r):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+bf(-a-1)+i,n&&(r=n-o)>0&&(i+=bf(r))):a>=o?(i+=bf(a+1-o),n&&(r=n-a-1)>0&&(i=i+"."+bf(r))):((r=a+1)<o&&(i=i.slice(0,r)+"."+i.slice(r)),n&&(r=n-o)>0&&(a+1===o&&(i+="."),i+=bf(r))),e.s<0?"-"+i:i}function MX(e,t){if(e.length>t)return e.length=t,!0}function Qhe(e){var t,n,r;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(rm+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return OX(o,i.toString())}else if(typeof i!="string")throw Error(rm+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,g1t.test(i))OX(o,i);else throw Error(rm+i)}if(a.prototype=tn,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=Qhe,a.config=a.set=v1t,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return a.config(e),a}function v1t(e){if(!e||typeof e!="object")throw Error(Al+"Object expected");var t,n,r,a=["precision",1,vy,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((r=e[n=a[t]])!==void 0)if(yy(r)===r&&r>=a[t+1]&&r<=a[t+2])this[n]=r;else throw Error(rm+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(rm+n+": "+r);return this}var M8=Qhe(m1t);js=new M8(1);const Ir=M8;function y1t(e){return _1t(e)||w1t(e)||b1t(e)||x1t()}function x1t(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function b1t(e,t){if(e){if(typeof e=="string")return tR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tR(e,t)}}function w1t(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function _1t(e){if(Array.isArray(e))return tR(e)}function tR(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var S1t=function(t){return t},Jhe={},epe=function(t){return t===Jhe},IX=function(t){return function n(){return arguments.length===0||arguments.length===1&&epe(arguments.length<=0?void 0:arguments[0])?n:t.apply(void 0,arguments)}},C1t=function e(t,n){return t===1?n:IX(function(){for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];var o=a.filter(function(s){return s!==Jhe}).length;return o>=t?n.apply(void 0,a):e(t-o,IX(function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var d=a.map(function(f){return epe(f)?l.shift():f});return n.apply(void 0,y1t(d).concat(l))}))})},yP=function(t){return C1t(t.length,t)},nR=function(t,n){for(var r=[],a=t;a<n;++a)r[a-t]=a;return r},E1t=yP(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(n){return t[n]}).map(e)}),N1t=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return S1t;var a=n.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce(function(s,l){return l(s)},i.apply(void 0,arguments))}},rR=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},tpe=function(t){var n=null,r=null;return function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return n&&i.every(function(s,l){return s===n[l]})||(n=i,r=t.apply(void 0,i)),r}};function k1t(e){var t;return e===0?t=1:t=Math.floor(new Ir(e).abs().log(10).toNumber())+1,t}function j1t(e,t,n){for(var r=new Ir(e),a=0,i=[];r.lt(t)&&a<1e5;)i.push(r.toNumber()),r=r.add(n),a++;return i}var T1t=yP(function(e,t,n){var r=+e,a=+t;return r+n*(a-r)}),P1t=yP(function(e,t,n){var r=t-+e;return r=r||1/0,(n-e)/r}),A1t=yP(function(e,t,n){var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});const xP={rangeStep:j1t,getDigitCount:k1t,interpolateNumber:T1t,uninterpolateNumber:P1t,uninterpolateTruncation:A1t};function aR(e){return M1t(e)||O1t(e)||npe(e)||D1t()}function D1t(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O1t(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function M1t(e){if(Array.isArray(e))return iR(e)}function lw(e,t){return F1t(e)||R1t(e,t)||npe(e,t)||I1t()}function I1t(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function npe(e,t){if(e){if(typeof e=="string")return iR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iR(e,t)}}function iR(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function R1t(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],r=!0,a=!1,i=void 0;try{for(var o=e[Symbol.iterator](),s;!(r=(s=o.next()).done)&&(n.push(s.value),!(t&&n.length===t));r=!0);}catch(l){a=!0,i=l}finally{try{!r&&o.return!=null&&o.return()}finally{if(a)throw i}}return n}}function F1t(e){if(Array.isArray(e))return e}function rpe(e){var t=lw(e,2),n=t[0],r=t[1],a=n,i=r;return n>r&&(a=r,i=n),[a,i]}function ape(e,t,n){if(e.lte(0))return new Ir(0);var r=xP.getDigitCount(e.toNumber()),a=new Ir(10).pow(r),i=e.div(a),o=r!==1?.05:.1,s=new Ir(Math.ceil(i.div(o).toNumber())).add(n).mul(o),l=s.mul(a);return t?l:new Ir(Math.ceil(l))}function L1t(e,t,n){var r=1,a=new Ir(e);if(!a.isint()&&n){var i=Math.abs(e);i<1?(r=new Ir(10).pow(xP.getDigitCount(e)-1),a=new Ir(Math.floor(a.div(r).toNumber())).mul(r)):i>1&&(a=new Ir(Math.floor(e)))}else e===0?a=new Ir(Math.floor((t-1)/2)):n||(a=new Ir(Math.floor(e)));var o=Math.floor((t-1)/2),s=N1t(E1t(function(l){return a.add(new Ir(l-o).mul(r)).toNumber()}),nR);return s(0,t)}function ipe(e,t,n,r){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new Ir(0),tickMin:new Ir(0),tickMax:new Ir(0)};var i=ape(new Ir(t).sub(e).div(n-1),r,a),o;e<=0&&t>=0?o=new Ir(0):(o=new Ir(e).add(t).div(2),o=o.sub(new Ir(o).mod(i)));var s=Math.ceil(o.sub(e).div(i).toNumber()),l=Math.ceil(new Ir(t).sub(o).div(i).toNumber()),u=s+l+1;return u>n?ipe(e,t,n,r,a+1):(u<n&&(l=t>0?l+(n-u):l,s=t>0?s:s+(n-u)),{step:i,tickMin:o.sub(new Ir(s).mul(i)),tickMax:o.add(new Ir(l).mul(i))})}function $1t(e){var t=lw(e,2),n=t[0],r=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),s=rpe([n,r]),l=lw(s,2),u=l[0],d=l[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(aR(nR(0,a-1).map(function(){return 1/0}))):[].concat(aR(nR(0,a-1).map(function(){return-1/0})),[d]);return n>r?rR(f):f}if(u===d)return L1t(u,a,i);var h=ipe(u,d,o,i),p=h.step,m=h.tickMin,g=h.tickMax,y=xP.rangeStep(m,g.add(new Ir(.1).mul(p)),p);return n>r?rR(y):y}function B1t(e,t){var n=lw(e,2),r=n[0],a=n[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=rpe([r,a]),s=lw(o,2),l=s[0],u=s[1];if(l===-1/0||u===1/0)return[r,a];if(l===u)return[l];var d=Math.max(t,2),f=ape(new Ir(u).sub(l).div(d-1),i,0),h=[].concat(aR(xP.rangeStep(new Ir(l),new Ir(u).sub(new Ir(.99).mul(f)),f)),[u]);return r>a?rR(h):h}var z1t=tpe($1t),U1t=tpe(B1t),W1t="Invariant failed";function j0(e,t){throw new Error(W1t)}var V1t=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function T0(e){"@babel/helpers - typeof";return T0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},T0(e)}function QN(){return QN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},QN.apply(this,arguments)}function H1t(e,t){return K1t(e)||Y1t(e,t)||G1t(e,t)||q1t()}function q1t(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function G1t(e,t){if(e){if(typeof e=="string")return RX(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return RX(e,t)}}function RX(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Y1t(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,s=[],l=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function K1t(e){if(Array.isArray(e))return e}function X1t(e,t){if(e==null)return{};var n=Z1t(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Z1t(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Q1t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function J1t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,lpe(r.key),r)}}function ebt(e,t,n){return t&&J1t(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function tbt(e,t,n){return t=JN(t),nbt(e,ope()?Reflect.construct(t,n||[],JN(e).constructor):t.apply(e,n))}function nbt(e,t){if(t&&(T0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rbt(e)}function rbt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ope(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ope=function(){return!!e})()}function JN(e){return JN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},JN(e)}function abt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oR(e,t)}function oR(e,t){return oR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},oR(e,t)}function spe(e,t,n){return t=lpe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lpe(e){var t=ibt(e,"string");return T0(t)=="symbol"?t:t+""}function ibt(e,t){if(T0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(T0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var I8=function(e){function t(){return Q1t(this,t),tbt(this,t,arguments)}return abt(t,e),ebt(t,[{key:"render",value:function(){var r=this.props,a=r.offset,i=r.layout,o=r.width,s=r.dataKey,l=r.data,u=r.dataPointFormatter,d=r.xAxis,f=r.yAxis,h=X1t(r,V1t),p=Bn(h,!1);this.props.direction==="x"&&d.type!=="number"&&j0();var m=l.map(function(g){var y=u(g,s),x=y.x,b=y.y,w=y.value,_=y.errorVal;if(!_)return null;var S=[],k,N;if(Array.isArray(_)){var P=H1t(_,2);k=P[0],N=P[1]}else k=N=_;if(i==="vertical"){var T=d.scale,j=b+a,D=j+o,M=j-o,R=T(w-k),W=T(w+N);S.push({x1:W,y1:D,x2:W,y2:M}),S.push({x1:R,y1:j,x2:W,y2:j}),S.push({x1:R,y1:D,x2:R,y2:M})}else if(i==="horizontal"){var B=f.scale,V=x+a,q=V-o,I=V+o,O=B(w-k),H=B(w+N);S.push({x1:q,y1:H,x2:I,y2:H}),S.push({x1:V,y1:O,x2:V,y2:H}),S.push({x1:q,y1:O,x2:I,y2:O})}return le.createElement(Fa,QN({className:"recharts-errorBar",key:"bar-".concat(S.map(function(ne){return"".concat(ne.x1,"-").concat(ne.x2,"-").concat(ne.y1,"-").concat(ne.y2)}))},p),S.map(function(ne){return le.createElement("line",QN({},ne,{key:"line-".concat(ne.x1,"-").concat(ne.x2,"-").concat(ne.y1,"-").concat(ne.y2)}))}))});return le.createElement(Fa,{className:"recharts-errorBars"},m)}}])}(le.Component);spe(I8,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});spe(I8,"displayName","ErrorBar");function cw(e){"@babel/helpers - typeof";return cw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cw(e)}function FX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Qh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FX(Object(n),!0).forEach(function(r){obt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function obt(e,t,n){return t=sbt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sbt(e){var t=lbt(e,"string");return cw(t)=="symbol"?t:t+""}function lbt(e,t){if(cw(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(cw(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cpe=function(t){var n=t.children,r=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,o=ul(n,tm);if(!o)return null;var s=tm.defaultProps,l=s!==void 0?Qh(Qh({},s),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:i==="children"?u=(r||[]).reduce(function(d,f){var h=f.item,p=f.props,m=p.sectors||p.data||[];return d.concat(m.map(function(g){return{type:o.props.iconType||h.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):u=(r||[]).map(function(d){var f=d.item,h=f.type.defaultProps,p=h!==void 0?Qh(Qh({},h),f.props):{},m=p.dataKey,g=p.name,y=p.legendType,x=p.hide;return{inactive:x,dataKey:m,type:l.iconType||y||"square",color:R8(f),value:g||m,payload:p}}),Qh(Qh(Qh({},l),tm.getWithHeight(o,a)),{},{payload:u,item:o})};function uw(e){"@babel/helpers - typeof";return uw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uw(e)}function LX(e){return fbt(e)||dbt(e)||ubt(e)||cbt()}function cbt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ubt(e,t){if(e){if(typeof e=="string")return sR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sR(e,t)}}function dbt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function fbt(e){if(Array.isArray(e))return sR(e)}function sR(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ra(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$X(Object(n),!0).forEach(function(r){Tv(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$X(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Tv(e,t,n){return t=hbt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hbt(e){var t=pbt(e,"string");return uw(t)=="symbol"?t:t+""}function pbt(e,t){if(uw(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(uw(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ts(e,t,n){return er(e)||er(t)?n:fi(t)?yc(e,t,n):zn(t)?t(e):n}function T1(e,t,n,r){var a=d1t(e,function(s){return Ts(s,t)});if(n==="number"){var i=a.filter(function(s){return Xt(s)||parseFloat(s)});return i.length?[vP(i),gP(i)]:[1/0,-1/0]}var o=r?a.filter(function(s){return!er(s)}):a;return o.map(function(s){return fi(s)||s instanceof Date?s:""})}var mbt=function(t){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,s=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(s<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var l=i.range,u=0;u<s;u++){var d=u>0?a[u-1].coordinate:a[s-1].coordinate,f=a[u].coordinate,h=u>=s-1?a[0].coordinate:a[u+1].coordinate,p=void 0;if(wl(f-d)!==wl(h-f)){var m=[];if(wl(h-f)===wl(l[1]-l[0])){p=h;var g=f+l[1]-l[0];m[0]=Math.min(g,(g+d)/2),m[1]=Math.max(g,(g+d)/2)}else{p=d;var y=h+l[1]-l[0];m[0]=Math.min(f,(y+f)/2),m[1]=Math.max(f,(y+f)/2)}var x=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(t>x[0]&&t<=x[1]||t>=m[0]&&t<=m[1]){o=a[u].index;break}}else{var b=Math.min(d,h),w=Math.max(d,h);if(t>(b+f)/2&&t<=(w+f)/2){o=a[u].index;break}}}else for(var _=0;_<s;_++)if(_===0&&t<=(r[_].coordinate+r[_+1].coordinate)/2||_>0&&_<s-1&&t>(r[_].coordinate+r[_-1].coordinate)/2&&t<=(r[_].coordinate+r[_+1].coordinate)/2||_===s-1&&t>(r[_].coordinate+r[_-1].coordinate)/2){o=r[_].index;break}return o},R8=function(t){var n,r=t,a=r.type.displayName,i=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Ra(Ra({},t.type.defaultProps),t.props):t.props,o=i.stroke,s=i.fill,l;switch(a){case"Line":l=o;break;case"Area":case"Radar":l=o&&o!=="none"?o:s;break;default:l=s;break}return l},gbt=function(t){var n=t.barSize,r=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var o={},s=Object.keys(i),l=0,u=s.length;l<u;l++)for(var d=i[s[l]].stackGroups,f=Object.keys(d),h=0,p=f.length;h<p;h++){var m=d[f[h]],g=m.items,y=m.cateAxisId,x=g.filter(function(N){return ih(N.type).indexOf("Bar")>=0});if(x&&x.length){var b=x[0].type.defaultProps,w=b!==void 0?Ra(Ra({},b),x[0].props):x[0].props,_=w.barSize,S=w[y];o[S]||(o[S]=[]);var k=er(_)?n:_;o[S].push({item:x[0],stackList:x.slice(1),barSize:er(k)?void 0:Qo(k,r,0)})}}return o},vbt=function(t){var n=t.barGap,r=t.barCategoryGap,a=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,s=t.maxBarSize,l=o.length;if(l<1)return null;var u=Qo(n,a,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,p=a/l,m=o.reduce(function(_,S){return _+S.barSize||0},0);m+=(l-1)*u,m>=a&&(m-=(l-1)*u,u=0),m>=a&&p>0&&(h=!0,p*=.9,m=l*p);var g=(a-m)/2>>0,y={offset:g-u,size:0};d=o.reduce(function(_,S){var k={item:S.item,position:{offset:y.offset+y.size+u,size:h?p:S.barSize}},N=[].concat(LX(_),[k]);return y=N[N.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(P){N.push({item:P,position:y})}),N},f)}else{var x=Qo(r,a,0,!0);a-2*x-(l-1)*u<=0&&(u=0);var b=(a-2*x-(l-1)*u)/l;b>1&&(b>>=0);var w=s===+s?Math.min(b,s):b;d=o.reduce(function(_,S,k){var N=[].concat(LX(_),[{item:S.item,position:{offset:x+(b+u)*k+(b-w)/2,size:w}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(P){N.push({item:P,position:N[N.length-1].position})}),N},f)}return d},ybt=function(t,n,r,a){var i=r.children,o=r.width,s=r.margin,l=o-(s.left||0)-(s.right||0),u=cpe({children:i,legendWidth:l});if(u){var d=a||{},f=d.width,h=d.height,p=u.align,m=u.verticalAlign,g=u.layout;if((g==="vertical"||g==="horizontal"&&m==="middle")&&p!=="center"&&Xt(t[p]))return Ra(Ra({},t),{},Tv({},p,t[p]+(f||0)));if((g==="horizontal"||g==="vertical"&&p==="center")&&m!=="middle"&&Xt(t[m]))return Ra(Ra({},t),{},Tv({},m,t[m]+(h||0)))}return t},xbt=function(t,n,r){return er(n)?!0:t==="horizontal"?n==="yAxis":t==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},upe=function(t,n,r,a,i){var o=n.props.children,s=Cu(o,I8).filter(function(u){return xbt(a,i,u.props.direction)});if(s&&s.length){var l=s.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=Ts(d,r);if(er(f))return u;var h=Array.isArray(f)?[vP(f),gP(f)]:[f,f],p=l.reduce(function(m,g){var y=Ts(d,g,0),x=h[0]-Math.abs(Array.isArray(y)?y[0]:y),b=h[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(x,m[0]),Math.max(b,m[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},bbt=function(t,n,r,a,i){var o=n.map(function(s){return upe(t,s,r,i,a)}).filter(function(s){return!er(s)});return o&&o.length?o.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},dpe=function(t,n,r,a,i){var o=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&upe(t,l,u,a)||T1(t,u,r,i)});if(r==="number")return o.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var s={};return o.reduce(function(l,u){for(var d=0,f=u.length;d<f;d++)s[u[d]]||(s[u[d]]=!0,l.push(u[d]));return l},[])},fpe=function(t,n){return t==="horizontal"&&n==="xAxis"||t==="vertical"&&n==="yAxis"||t==="centric"&&n==="angleAxis"||t==="radial"&&n==="radiusAxis"},Rx=function(t,n,r){if(!t)return null;var a=t.scale,i=t.duplicateDomain,o=t.type,s=t.range,l=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(n||r)&&o==="category"&&a.bandwidth?a.bandwidth()/l:0;if(u=t.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?wl(s[0]-s[1])*2*u:u,n&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=i?i.indexOf(f):f;return{coordinate:a(h)+u,value:f,offset:u}});return d.filter(function(f){return!x2(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:a(f)+u,value:f,index:h,offset:u}}):a.ticks&&!r?a.ticks(t.tickCount).map(function(f){return{coordinate:a(f)+u,value:f,offset:u}}):a.domain().map(function(f,h){return{coordinate:a(f)+u,value:i?i[f]:f,index:h,offset:u}})},XD=new WeakMap,yS=function(t,n){if(typeof n!="function")return t;XD.has(t)||XD.set(t,new WeakMap);var r=XD.get(t);if(r.has(n))return r.get(n);var a=function(){t.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,a),a},wbt=function(t,n,r){var a=t.scale,i=t.type,o=t.layout,s=t.axisType;if(a==="auto")return o==="radial"&&s==="radiusAxis"?{scale:nw(),realScaleType:"band"}:o==="radial"&&s==="angleAxis"?{scale:GN(),realScaleType:"linear"}:i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0)?{scale:j1(),realScaleType:"point"}:i==="category"?{scale:nw(),realScaleType:"band"}:{scale:GN(),realScaleType:"linear"};if(y2(a)){var l="scale".concat(tP(a));return{scale:(DX[l]||j1)(),realScaleType:DX[l]?l:"point"}}return zn(a)?{scale:a}:{scale:j1(),realScaleType:"point"}},BX=1e-4,_bt=function(t){var n=t.domain();if(!(!n||n.length<=2)){var r=n.length,a=t.range(),i=Math.min(a[0],a[1])-BX,o=Math.max(a[0],a[1])+BX,s=t(n[0]),l=t(n[r-1]);(s<i||s>o||l<i||l>o)&&t.domain([n[0],n[r-1]])}},Sbt=function(t){var n=t.length;if(!(n<=0))for(var r=0,a=t[0].length;r<a;++r)for(var i=0,o=0,s=0;s<n;++s){var l=x2(t[s][r][1])?t[s][r][0]:t[s][r][1];l>=0?(t[s][r][0]=i,t[s][r][1]=i+l,i=t[s][r][1]):(t[s][r][0]=o,t[s][r][1]=o+l,o=t[s][r][1])}},Cbt=function(t){var n=t.length;if(!(n<=0))for(var r=0,a=t[0].length;r<a;++r)for(var i=0,o=0;o<n;++o){var s=x2(t[o][r][1])?t[o][r][0]:t[o][r][1];s>=0?(t[o][r][0]=i,t[o][r][1]=i+s,i=t[o][r][1]):(t[o][r][0]=0,t[o][r][1]=0)}},Ebt={sign:Sbt,expand:Xlt,none:x0,silhouette:Zlt,wiggle:Qlt,positive:Cbt},Nbt=function(t,n,r){var a=n.map(function(s){return s.props.dataKey}),i=Ebt[r],o=Klt().keys(a).value(function(s,l){return+Ts(s,l,0)}).order(DI).offset(i);return o(t)},kbt=function(t,n,r,a,i,o){if(!t)return null;var s=o?n.reverse():n,l={},u=s.reduce(function(f,h){var p,m=(p=h.type)!==null&&p!==void 0&&p.defaultProps?Ra(Ra({},h.type.defaultProps),h.props):h.props,g=m.stackId,y=m.hide;if(y)return f;var x=m[r],b=f[x]||{hasStack:!1,stackGroups:{}};if(fi(g)){var w=b.stackGroups[g]||{numericAxisId:r,cateAxisId:a,items:[]};w.items.push(h),b.hasStack=!0,b.stackGroups[g]=w}else b.stackGroups[JT("_stackId_")]={numericAxisId:r,cateAxisId:a,items:[h]};return Ra(Ra({},f),{},Tv({},x,b))},l),d={};return Object.keys(u).reduce(function(f,h){var p=u[h];if(p.hasStack){var m={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(g,y){var x=p.stackGroups[y];return Ra(Ra({},g),{},Tv({},y,{numericAxisId:r,cateAxisId:a,items:x.items,stackedData:Nbt(t,x.items,i)}))},m)}return Ra(Ra({},f),{},Tv({},h,p))},d)},jbt=function(t,n){var r=n.realScaleType,a=n.type,i=n.tickCount,o=n.originalDomain,s=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(i&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=z1t(u,i,s);return t.domain([vP(d),gP(d)]),{niceTicks:d}}if(i&&a==="number"){var f=t.domain(),h=U1t(f,i,s);return{niceTicks:h}}return null},Tbt=function(t,n){var r,a=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Ra(Ra({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(fi(i)){var o=n[i];if(o){var s=o.items.indexOf(t);return s>=0?o.stackedData[s]:null}}return null},Pbt=function(t){return t.reduce(function(n,r){return[vP(r.concat([n[0]]).filter(Xt)),gP(r.concat([n[1]]).filter(Xt))]},[1/0,-1/0])},hpe=function(t,n,r){return Object.keys(t).reduce(function(a,i){var o=t[i],s=o.stackedData,l=s.reduce(function(u,d){var f=Pbt(d.slice(n,r+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],a[0]),Math.max(l[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},zX=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,UX=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,lR=function(t,n,r){if(zn(t))return t(n,r);if(!Array.isArray(t))return n;var a=[];if(Xt(t[0]))a[0]=r?t[0]:Math.min(t[0],n[0]);else if(zX.test(t[0])){var i=+zX.exec(t[0])[1];a[0]=n[0]-i}else zn(t[0])?a[0]=t[0](n[0]):a[0]=n[0];if(Xt(t[1]))a[1]=r?t[1]:Math.max(t[1],n[1]);else if(UX.test(t[1])){var o=+UX.exec(t[1])[1];a[1]=n[1]+o}else zn(t[1])?a[1]=t[1](n[1]):a[1]=n[1];return a},cR=function(t,n,r){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!r||a>0)return a}if(t&&n&&n.length>=2){for(var i=l8(n,function(f){return f.coordinate}),o=1/0,s=1,l=i.length;s<l;s++){var u=i[s],d=i[s-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},WX=function(t,n,r){return!t||!t.length||D8(t,yc(r,"type.defaultProps.domain"))?n:t},Abt=function(t,n){var r=t.type.defaultProps?Ra(Ra({},t.type.defaultProps),t.props):t.props,a=r.dataKey,i=r.name,o=r.unit,s=r.formatter,l=r.tooltipType,u=r.chartType,d=r.hide;return Ra(Ra({},Bn(t,!1)),{},{dataKey:a,unit:o,formatter:s,name:i||a,color:R8(t),value:Ts(n,a),type:l,payload:n,chartType:u,hide:d})};function dw(e){"@babel/helpers - typeof";return dw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dw(e)}function VX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Qu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VX(Object(n),!0).forEach(function(r){ppe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ppe(e,t,n){return t=Dbt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dbt(e){var t=Obt(e,"string");return dw(t)=="symbol"?t:t+""}function Obt(e,t){if(dw(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(dw(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mbt(e,t){return Lbt(e)||Fbt(e,t)||Rbt(e,t)||Ibt()}function Ibt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rbt(e,t){if(e){if(typeof e=="string")return HX(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return HX(e,t)}}function HX(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Fbt(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,s=[],l=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function Lbt(e){if(Array.isArray(e))return e}var ek=Math.PI/180,$bt=function(t){return t*180/Math.PI},Kr=function(t,n,r,a){return{x:t+Math.cos(-ek*a)*r,y:n+Math.sin(-ek*a)*r}},mpe=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},Bbt=function(t,n,r,a,i){var o=t.width,s=t.height,l=t.startAngle,u=t.endAngle,d=Qo(t.cx,o,o/2),f=Qo(t.cy,s,s/2),h=mpe(o,s,r),p=Qo(t.innerRadius,h,0),m=Qo(t.outerRadius,h,h*.8),g=Object.keys(n);return g.reduce(function(y,x){var b=n[x],w=b.domain,_=b.reversed,S;if(er(b.range))a==="angleAxis"?S=[l,u]:a==="radiusAxis"&&(S=[p,m]),_&&(S=[S[1],S[0]]);else{S=b.range;var k=S,N=Mbt(k,2);l=N[0],u=N[1]}var P=wbt(b,i),T=P.realScaleType,j=P.scale;j.domain(w).range(S),_bt(j);var D=jbt(j,Qu(Qu({},b),{},{realScaleType:T})),M=Qu(Qu(Qu({},b),D),{},{range:S,radius:m,realScaleType:T,scale:j,cx:d,cy:f,innerRadius:p,outerRadius:m,startAngle:l,endAngle:u});return Qu(Qu({},y),{},ppe({},x,M))},{})},zbt=function(t,n){var r=t.x,a=t.y,i=n.x,o=n.y;return Math.sqrt(Math.pow(r-i,2)+Math.pow(a-o,2))},Ubt=function(t,n){var r=t.x,a=t.y,i=n.cx,o=n.cy,s=zbt({x:r,y:a},{x:i,y:o});if(s<=0)return{radius:s};var l=(r-i)/s,u=Math.acos(l);return a>o&&(u=2*Math.PI-u),{radius:s,angle:$bt(u),angleInRadian:u}},Wbt=function(t){var n=t.startAngle,r=t.endAngle,a=Math.floor(n/360),i=Math.floor(r/360),o=Math.min(a,i);return{startAngle:n-o*360,endAngle:r-o*360}},Vbt=function(t,n){var r=n.startAngle,a=n.endAngle,i=Math.floor(r/360),o=Math.floor(a/360),s=Math.min(i,o);return t+s*360},qX=function(t,n){var r=t.x,a=t.y,i=Ubt({x:r,y:a},n),o=i.radius,s=i.angle,l=n.innerRadius,u=n.outerRadius;if(o<l||o>u)return!1;if(o===0)return!0;var d=Wbt(n),f=d.startAngle,h=d.endAngle,p=s,m;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;m=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;m=p>=h&&p<=f}return m?Qu(Qu({},n),{},{radius:o,angle:Vbt(p,n)}):null},gpe=function(t){return!E.isValidElement(t)&&!zn(t)&&typeof t!="boolean"?t.className:""};function fw(e){"@babel/helpers - typeof";return fw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fw(e)}var Hbt=["offset"];function qbt(e){return Xbt(e)||Kbt(e)||Ybt(e)||Gbt()}function Gbt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ybt(e,t){if(e){if(typeof e=="string")return uR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uR(e,t)}}function Kbt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Xbt(e){if(Array.isArray(e))return uR(e)}function uR(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Zbt(e,t){if(e==null)return{};var n=Qbt(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Qbt(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function GX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function oi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GX(Object(n),!0).forEach(function(r){Jbt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Jbt(e,t,n){return t=ewt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ewt(e){var t=twt(e,"string");return fw(t)=="symbol"?t:t+""}function twt(e,t){if(fw(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(fw(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hw(){return hw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hw.apply(this,arguments)}var nwt=function(t){var n=t.value,r=t.formatter,a=er(t.children)?n:t.children;return zn(r)?r(a):a},rwt=function(t,n){var r=wl(n-t),a=Math.min(Math.abs(n-t),360);return r*a},awt=function(t,n,r){var a=t.position,i=t.viewBox,o=t.offset,s=t.className,l=i,u=l.cx,d=l.cy,f=l.innerRadius,h=l.outerRadius,p=l.startAngle,m=l.endAngle,g=l.clockWise,y=(f+h)/2,x=rwt(p,m),b=x>=0?1:-1,w,_;a==="insideStart"?(w=p+b*o,_=g):a==="insideEnd"?(w=m-b*o,_=!g):a==="end"&&(w=m+b*o,_=g),_=x<=0?_:!_;var S=Kr(u,d,y,w),k=Kr(u,d,y,w+(_?1:-1)*359),N="M".concat(S.x,",").concat(S.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(_?0:1,`,
    `).concat(k.x,",").concat(k.y),P=er(t.id)?JT("recharts-radial-line-"):t.id;return le.createElement("text",hw({},r,{dominantBaseline:"central",className:Tt("recharts-radial-bar-label",s)}),le.createElement("defs",null,le.createElement("path",{id:P,d:N})),le.createElement("textPath",{xlinkHref:"#".concat(P)},n))},iwt=function(t){var n=t.viewBox,r=t.offset,a=t.position,i=n,o=i.cx,s=i.cy,l=i.innerRadius,u=i.outerRadius,d=i.startAngle,f=i.endAngle,h=(d+f)/2;if(a==="outside"){var p=Kr(o,s,u+r,h),m=p.x,g=p.y;return{x:m,y:g,textAnchor:m>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"end"};var y=(l+u)/2,x=Kr(o,s,y,h),b=x.x,w=x.y;return{x:b,y:w,textAnchor:"middle",verticalAnchor:"middle"}},owt=function(t){var n=t.viewBox,r=t.parentViewBox,a=t.offset,i=t.position,o=n,s=o.x,l=o.y,u=o.width,d=o.height,f=d>=0?1:-1,h=f*a,p=f>0?"end":"start",m=f>0?"start":"end",g=u>=0?1:-1,y=g*a,x=g>0?"end":"start",b=g>0?"start":"end";if(i==="top"){var w={x:s+u/2,y:l-f*a,textAnchor:"middle",verticalAnchor:p};return oi(oi({},w),r?{height:Math.max(l-r.y,0),width:u}:{})}if(i==="bottom"){var _={x:s+u/2,y:l+d+h,textAnchor:"middle",verticalAnchor:m};return oi(oi({},_),r?{height:Math.max(r.y+r.height-(l+d),0),width:u}:{})}if(i==="left"){var S={x:s-y,y:l+d/2,textAnchor:x,verticalAnchor:"middle"};return oi(oi({},S),r?{width:Math.max(S.x-r.x,0),height:d}:{})}if(i==="right"){var k={x:s+u+y,y:l+d/2,textAnchor:b,verticalAnchor:"middle"};return oi(oi({},k),r?{width:Math.max(r.x+r.width-k.x,0),height:d}:{})}var N=r?{width:u,height:d}:{};return i==="insideLeft"?oi({x:s+y,y:l+d/2,textAnchor:b,verticalAnchor:"middle"},N):i==="insideRight"?oi({x:s+u-y,y:l+d/2,textAnchor:x,verticalAnchor:"middle"},N):i==="insideTop"?oi({x:s+u/2,y:l+h,textAnchor:"middle",verticalAnchor:m},N):i==="insideBottom"?oi({x:s+u/2,y:l+d-h,textAnchor:"middle",verticalAnchor:p},N):i==="insideTopLeft"?oi({x:s+y,y:l+h,textAnchor:b,verticalAnchor:m},N):i==="insideTopRight"?oi({x:s+u-y,y:l+h,textAnchor:x,verticalAnchor:m},N):i==="insideBottomLeft"?oi({x:s+y,y:l+d-h,textAnchor:b,verticalAnchor:p},N):i==="insideBottomRight"?oi({x:s+u-y,y:l+d-h,textAnchor:x,verticalAnchor:p},N):cy(i)&&(Xt(i.x)||xI(i.x))&&(Xt(i.y)||xI(i.y))?oi({x:s+Qo(i.x,u),y:l+Qo(i.y,d),textAnchor:"end",verticalAnchor:"end"},N):oi({x:s+u/2,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},N)},swt=function(t){return"cx"in t&&Xt(t.cx)};function Yi(e){var t=e.offset,n=t===void 0?5:t,r=Zbt(e,Hbt),a=oi({offset:n},r),i=a.viewBox,o=a.position,s=a.value,l=a.children,u=a.content,d=a.className,f=d===void 0?"":d,h=a.textBreakAll;if(!i||er(s)&&er(l)&&!E.isValidElement(u)&&!zn(u))return null;if(E.isValidElement(u))return E.cloneElement(u,a);var p;if(zn(u)){if(p=E.createElement(u,a),E.isValidElement(p))return p}else p=nwt(a);var m=swt(i),g=Bn(a,!0);if(m&&(o==="insideStart"||o==="insideEnd"||o==="end"))return awt(a,p,g);var y=m?iwt(a):owt(a);return le.createElement(C0,hw({className:Tt("recharts-label",f)},g,y,{breakAll:h}),p)}Yi.displayName="Label";var vpe=function(t){var n=t.cx,r=t.cy,a=t.angle,i=t.startAngle,o=t.endAngle,s=t.r,l=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,p=t.top,m=t.left,g=t.width,y=t.height,x=t.clockWise,b=t.labelViewBox;if(b)return b;if(Xt(g)&&Xt(y)){if(Xt(f)&&Xt(h))return{x:f,y:h,width:g,height:y};if(Xt(p)&&Xt(m))return{x:p,y:m,width:g,height:y}}return Xt(f)&&Xt(h)?{x:f,y:h,width:0,height:0}:Xt(n)&&Xt(r)?{cx:n,cy:r,startAngle:i||a||0,endAngle:o||a||0,innerRadius:u||0,outerRadius:d||l||s||0,clockWise:x}:t.viewBox?t.viewBox:{}},lwt=function(t,n){return t?t===!0?le.createElement(Yi,{key:"label-implicit",viewBox:n}):fi(t)?le.createElement(Yi,{key:"label-implicit",viewBox:n,value:t}):E.isValidElement(t)?t.type===Yi?E.cloneElement(t,{key:"label-implicit",viewBox:n}):le.createElement(Yi,{key:"label-implicit",content:t,viewBox:n}):zn(t)?le.createElement(Yi,{key:"label-implicit",content:t,viewBox:n}):cy(t)?le.createElement(Yi,hw({viewBox:n},t,{key:"label-implicit"})):null:null},cwt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var a=t.children,i=vpe(t),o=Cu(a,Yi).map(function(l,u){return E.cloneElement(l,{viewBox:n||i,key:"label-".concat(u)})});if(!r)return o;var s=lwt(t.label,n||i);return[s].concat(qbt(o))};Yi.parseViewBox=vpe;Yi.renderCallByParent=cwt;function uwt(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var dwt=uwt;const fwt=sr(dwt);function pw(e){"@babel/helpers - typeof";return pw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pw(e)}var hwt=["valueAccessor"],pwt=["data","dataKey","clockWise","id","textBreakAll"];function mwt(e){return xwt(e)||ywt(e)||vwt(e)||gwt()}function gwt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vwt(e,t){if(e){if(typeof e=="string")return dR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dR(e,t)}}function ywt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function xwt(e){if(Array.isArray(e))return dR(e)}function dR(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function tk(){return tk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tk.apply(this,arguments)}function YX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function KX(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YX(Object(n),!0).forEach(function(r){bwt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bwt(e,t,n){return t=wwt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wwt(e){var t=_wt(e,"string");return pw(t)=="symbol"?t:t+""}function _wt(e,t){if(pw(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(pw(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function XX(e,t){if(e==null)return{};var n=Swt(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Swt(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var Cwt=function(t){return Array.isArray(t.value)?fwt(t.value):t.value};function am(e){var t=e.valueAccessor,n=t===void 0?Cwt:t,r=XX(e,hwt),a=r.data,i=r.dataKey,o=r.clockWise,s=r.id,l=r.textBreakAll,u=XX(r,pwt);return!a||!a.length?null:le.createElement(Fa,{className:"recharts-label-list"},a.map(function(d,f){var h=er(i)?n(d,f):Ts(d&&d.payload,i),p=er(s)?{}:{id:"".concat(s,"-").concat(f)};return le.createElement(Yi,tk({},Bn(d,!0),u,p,{parentViewBox:d.parentViewBox,value:h,textBreakAll:l,viewBox:Yi.parseViewBox(er(o)?d:KX(KX({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}am.displayName="LabelList";function Ewt(e,t){return e?e===!0?le.createElement(am,{key:"labelList-implicit",data:t}):le.isValidElement(e)||zn(e)?le.createElement(am,{key:"labelList-implicit",data:t,content:e}):cy(e)?le.createElement(am,tk({data:t},e,{key:"labelList-implicit"})):null:null}function Nwt(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var r=e.children,a=Cu(r,am).map(function(o,s){return E.cloneElement(o,{data:t,key:"labelList-".concat(s)})});if(!n)return a;var i=Ewt(e.label,t);return[i].concat(mwt(a))}am.renderCallByParent=Nwt;function mw(e){"@babel/helpers - typeof";return mw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mw(e)}function fR(){return fR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fR.apply(this,arguments)}function ZX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function QX(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZX(Object(n),!0).forEach(function(r){kwt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kwt(e,t,n){return t=jwt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jwt(e){var t=Twt(e,"string");return mw(t)=="symbol"?t:t+""}function Twt(e,t){if(mw(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(mw(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Pwt=function(t,n){var r=wl(n-t),a=Math.min(Math.abs(n-t),359.999);return r*a},xS=function(t){var n=t.cx,r=t.cy,a=t.radius,i=t.angle,o=t.sign,s=t.isExternal,l=t.cornerRadius,u=t.cornerIsExternal,d=l*(s?1:-1)+a,f=Math.asin(l/d)/ek,h=u?i:i+o*f,p=Kr(n,r,d,h),m=Kr(n,r,a,h),g=u?i-o*f:i,y=Kr(n,r,d*Math.cos(f*ek),g);return{center:p,circleTangency:m,lineTangency:y,theta:f}},ype=function(t){var n=t.cx,r=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.startAngle,s=t.endAngle,l=Pwt(o,s),u=o+l,d=Kr(n,r,i,o),f=Kr(n,r,i,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var p=Kr(n,r,a,o),m=Kr(n,r,a,u);h+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(o<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},Awt=function(t){var n=t.cx,r=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,s=t.forceCornerRadius,l=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=wl(d-u),h=xS({cx:n,cy:r,radius:i,angle:u,sign:f,cornerRadius:o,cornerIsExternal:l}),p=h.circleTangency,m=h.lineTangency,g=h.theta,y=xS({cx:n,cy:r,radius:i,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:l}),x=y.circleTangency,b=y.lineTangency,w=y.theta,_=l?Math.abs(u-d):Math.abs(u-d)-g-w;if(_<0)return s?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):ype({cx:n,cy:r,innerRadius:a,outerRadius:i,startAngle:u,endAngle:d});var S="M ".concat(m.x,",").concat(m.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(_>180),",").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
  `);if(a>0){var k=xS({cx:n,cy:r,radius:a,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),N=k.circleTangency,P=k.lineTangency,T=k.theta,j=xS({cx:n,cy:r,radius:a,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),D=j.circleTangency,M=j.lineTangency,R=j.theta,W=l?Math.abs(u-d):Math.abs(u-d)-T-R;if(W<0&&o===0)return"".concat(S,"L").concat(n,",").concat(r,"Z");S+="L".concat(M.x,",").concat(M.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(D.x,",").concat(D.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(W>180),",").concat(+(f>0),",").concat(N.x,",").concat(N.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(P.x,",").concat(P.y,"Z")}else S+="L".concat(n,",").concat(r,"Z");return S},Dwt={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},xpe=function(t){var n=QX(QX({},Dwt),t),r=n.cx,a=n.cy,i=n.innerRadius,o=n.outerRadius,s=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,d=n.startAngle,f=n.endAngle,h=n.className;if(o<i||d===f)return null;var p=Tt("recharts-sector",h),m=o-i,g=Qo(s,m,0,!0),y;return g>0&&Math.abs(d-f)<360?y=Awt({cx:r,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(g,m/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:f}):y=ype({cx:r,cy:a,innerRadius:i,outerRadius:o,startAngle:d,endAngle:f}),le.createElement("path",fR({},Bn(n,!0),{className:p,d:y,role:"img"}))};function gw(e){"@babel/helpers - typeof";return gw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gw(e)}function hR(){return hR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hR.apply(this,arguments)}function JX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function eZ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?JX(Object(n),!0).forEach(function(r){Owt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Owt(e,t,n){return t=Mwt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mwt(e){var t=Iwt(e,"string");return gw(t)=="symbol"?t:t+""}function Iwt(e,t){if(gw(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(gw(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tZ={curveBasisClosed:Llt,curveBasisOpen:$lt,curveBasis:Flt,curveBumpX:Slt,curveBumpY:Clt,curveLinearClosed:Blt,curveLinear:rP,curveMonotoneX:zlt,curveMonotoneY:Ult,curveNatural:Wlt,curveStep:Vlt,curveStepAfter:qlt,curveStepBefore:Hlt},bS=function(t){return t.x===+t.x&&t.y===+t.y},hx=function(t){return t.x},px=function(t){return t.y},Rwt=function(t,n){if(zn(t))return t;var r="curve".concat(tP(t));return(r==="curveMonotone"||r==="curveBump")&&n?tZ["".concat(r).concat(n==="vertical"?"Y":"X")]:tZ[r]||rP},Fwt=function(t){var n=t.type,r=n===void 0?"linear":n,a=t.points,i=a===void 0?[]:a,o=t.baseLine,s=t.layout,l=t.connectNulls,u=l===void 0?!1:l,d=Rwt(r,s),f=u?i.filter(function(g){return bS(g)}):i,h;if(Array.isArray(o)){var p=u?o.filter(function(g){return bS(g)}):o,m=f.map(function(g,y){return eZ(eZ({},g),{},{base:p[y]})});return s==="vertical"?h=dS().y(px).x1(hx).x0(function(g){return g.base.x}):h=dS().x(hx).y1(px).y0(function(g){return g.base.y}),h.defined(bS).curve(d),h(m)}return s==="vertical"&&Xt(o)?h=dS().y(px).x1(hx).x0(o):Xt(o)?h=dS().x(hx).y1(px).y0(o):h=bfe().x(hx).y(px),h.defined(bS).curve(d),h(f)},pR=function(t){var n=t.className,r=t.points,a=t.path,i=t.pathRef;if((!r||!r.length)&&!a)return null;var o=r&&r.length?Fwt(t):a;return E.createElement("path",hR({},Bn(t,!1),NN(t),{className:Tt("recharts-curve",n),d:o,ref:i}))},Lwt=Object.getOwnPropertyNames,$wt=Object.getOwnPropertySymbols,Bwt=Object.prototype.hasOwnProperty;function nZ(e,t){return function(r,a,i){return e(r,a,i)&&t(r,a,i)}}function wS(e){return function(n,r,a){if(!n||!r||typeof n!="object"||typeof r!="object")return e(n,r,a);var i=a.cache,o=i.get(n),s=i.get(r);if(o&&s)return o===r&&s===n;i.set(n,r),i.set(r,n);var l=e(n,r,a);return i.delete(n),i.delete(r),l}}function rZ(e){return Lwt(e).concat($wt(e))}var zwt=Object.hasOwn||function(e,t){return Bwt.call(e,t)};function Km(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var Uwt="__v",Wwt="__o",Vwt="_owner",aZ=Object.getOwnPropertyDescriptor,iZ=Object.keys;function Hwt(e,t,n){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function qwt(e,t){return Km(e.getTime(),t.getTime())}function Gwt(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function Ywt(e,t){return e===t}function oZ(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var a=new Array(r),i=e.entries(),o,s,l=0;(o=i.next())&&!o.done;){for(var u=t.entries(),d=!1,f=0;(s=u.next())&&!s.done;){if(a[f]){f++;continue}var h=o.value,p=s.value;if(n.equals(h[0],p[0],l,f,e,t,n)&&n.equals(h[1],p[1],h[0],p[0],e,t,n)){d=a[f]=!0;break}f++}if(!d)return!1;l++}return!0}var Kwt=Km;function Xwt(e,t,n){var r=iZ(e),a=r.length;if(iZ(t).length!==a)return!1;for(;a-- >0;)if(!bpe(e,t,n,r[a]))return!1;return!0}function mx(e,t,n){var r=rZ(e),a=r.length;if(rZ(t).length!==a)return!1;for(var i,o,s;a-- >0;)if(i=r[a],!bpe(e,t,n,i)||(o=aZ(e,i),s=aZ(t,i),(o||s)&&(!o||!s||o.configurable!==s.configurable||o.enumerable!==s.enumerable||o.writable!==s.writable)))return!1;return!0}function Zwt(e,t){return Km(e.valueOf(),t.valueOf())}function Qwt(e,t){return e.source===t.source&&e.flags===t.flags}function sZ(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var a=new Array(r),i=e.values(),o,s;(o=i.next())&&!o.done;){for(var l=t.values(),u=!1,d=0;(s=l.next())&&!s.done;){if(!a[d]&&n.equals(o.value,s.value,o.value,s.value,e,t,n)){u=a[d]=!0;break}d++}if(!u)return!1}return!0}function Jwt(e,t){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function e2t(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function bpe(e,t,n,r){return(r===Vwt||r===Wwt||r===Uwt)&&(e.$$typeof||t.$$typeof)?!0:zwt(t,r)&&n.equals(e[r],t[r],r,r,e,t,n)}var t2t="[object Arguments]",n2t="[object Boolean]",r2t="[object Date]",a2t="[object Error]",i2t="[object Map]",o2t="[object Number]",s2t="[object Object]",l2t="[object RegExp]",c2t="[object Set]",u2t="[object String]",d2t="[object URL]",f2t=Array.isArray,lZ=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,cZ=Object.assign,h2t=Object.prototype.toString.call.bind(Object.prototype.toString);function p2t(e){var t=e.areArraysEqual,n=e.areDatesEqual,r=e.areErrorsEqual,a=e.areFunctionsEqual,i=e.areMapsEqual,o=e.areNumbersEqual,s=e.areObjectsEqual,l=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,d=e.areSetsEqual,f=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(m,g,y){if(m===g)return!0;if(m==null||g==null)return!1;var x=typeof m;if(x!==typeof g)return!1;if(x!=="object")return x==="number"?o(m,g,y):x==="function"?a(m,g,y):!1;var b=m.constructor;if(b!==g.constructor)return!1;if(b===Object)return s(m,g,y);if(f2t(m))return t(m,g,y);if(lZ!=null&&lZ(m))return f(m,g,y);if(b===Date)return n(m,g,y);if(b===RegExp)return u(m,g,y);if(b===Map)return i(m,g,y);if(b===Set)return d(m,g,y);var w=h2t(m);return w===r2t?n(m,g,y):w===l2t?u(m,g,y):w===i2t?i(m,g,y):w===c2t?d(m,g,y):w===s2t?typeof m.then!="function"&&typeof g.then!="function"&&s(m,g,y):w===d2t?h(m,g,y):w===a2t?r(m,g,y):w===t2t?s(m,g,y):w===n2t||w===o2t||w===u2t?l(m,g,y):!1}}function m2t(e){var t=e.circular,n=e.createCustomConfig,r=e.strict,a={areArraysEqual:r?mx:Hwt,areDatesEqual:qwt,areErrorsEqual:Gwt,areFunctionsEqual:Ywt,areMapsEqual:r?nZ(oZ,mx):oZ,areNumbersEqual:Kwt,areObjectsEqual:r?mx:Xwt,arePrimitiveWrappersEqual:Zwt,areRegExpsEqual:Qwt,areSetsEqual:r?nZ(sZ,mx):sZ,areTypedArraysEqual:r?mx:Jwt,areUrlsEqual:e2t};if(n&&(a=cZ({},a,n(a))),t){var i=wS(a.areArraysEqual),o=wS(a.areMapsEqual),s=wS(a.areObjectsEqual),l=wS(a.areSetsEqual);a=cZ({},a,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:l})}return a}function g2t(e){return function(t,n,r,a,i,o,s){return e(t,n,s)}}function v2t(e){var t=e.circular,n=e.comparator,r=e.createState,a=e.equals,i=e.strict;if(r)return function(l,u){var d=r(),f=d.cache,h=f===void 0?t?new WeakMap:void 0:f,p=d.meta;return n(l,u,{cache:h,equals:a,meta:p,strict:i})};if(t)return function(l,u){return n(l,u,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var o={cache:void 0,equals:a,meta:void 0,strict:i};return function(l,u){return n(l,u,o)}}var y2t=Bh();Bh({strict:!0});Bh({circular:!0});Bh({circular:!0,strict:!0});Bh({createInternalComparator:function(){return Km}});Bh({strict:!0,createInternalComparator:function(){return Km}});Bh({circular:!0,createInternalComparator:function(){return Km}});Bh({circular:!0,createInternalComparator:function(){return Km},strict:!0});function Bh(e){e===void 0&&(e={});var t=e.circular,n=t===void 0?!1:t,r=e.createInternalComparator,a=e.createState,i=e.strict,o=i===void 0?!1:i,s=m2t(e),l=p2t(s),u=r?r(l):g2t(l);return v2t({circular:n,comparator:l,createState:a,equals:u,strict:o})}function x2t(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function uZ(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function a(i){n<0&&(n=i),i-n>t?(e(i),n=-1):x2t(a)};requestAnimationFrame(r)}function mR(e){"@babel/helpers - typeof";return mR=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mR(e)}function b2t(e){return C2t(e)||S2t(e)||_2t(e)||w2t()}function w2t(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _2t(e,t){if(e){if(typeof e=="string")return dZ(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dZ(e,t)}}function dZ(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function S2t(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function C2t(e){if(Array.isArray(e))return e}function E2t(){var e={},t=function(){return null},n=!1,r=function a(i){if(!n){if(Array.isArray(i)){if(!i.length)return;var o=i,s=b2t(o),l=s[0],u=s.slice(1);if(typeof l=="number"){uZ(a.bind(null,u),l);return}a(l),uZ(a.bind(null,u));return}mR(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){n=!0},start:function(i){n=!1,r(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function vw(e){"@babel/helpers - typeof";return vw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vw(e)}function fZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function hZ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fZ(Object(n),!0).forEach(function(r){wpe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fZ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wpe(e,t,n){return t=N2t(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function N2t(e){var t=k2t(e,"string");return vw(t)==="symbol"?t:String(t)}function k2t(e,t){if(vw(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(vw(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var j2t=function(t,n){return[Object.keys(t),Object.keys(n)].reduce(function(r,a){return r.filter(function(i){return a.includes(i)})})},T2t=function(t){return t},P2t=function(t){return t.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},P1=function(t,n){return Object.keys(n).reduce(function(r,a){return hZ(hZ({},r),{},wpe({},a,t(a,n[a])))},{})},pZ=function(t,n,r){return t.map(function(a){return"".concat(P2t(a)," ").concat(n,"ms ").concat(r)}).join(",")};function A2t(e,t){return M2t(e)||O2t(e,t)||_pe(e,t)||D2t()}function D2t(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O2t(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,s=[],l=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function M2t(e){if(Array.isArray(e))return e}function I2t(e){return L2t(e)||F2t(e)||_pe(e)||R2t()}function R2t(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _pe(e,t){if(e){if(typeof e=="string")return gR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gR(e,t)}}function F2t(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function L2t(e){if(Array.isArray(e))return gR(e)}function gR(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var nk=1e-4,Spe=function(t,n){return[0,3*t,3*n-6*t,3*t-3*n+1]},Cpe=function(t,n){return t.map(function(r,a){return r*Math.pow(n,a)}).reduce(function(r,a){return r+a})},mZ=function(t,n){return function(r){var a=Spe(t,n);return Cpe(a,r)}},$2t=function(t,n){return function(r){var a=Spe(t,n),i=[].concat(I2t(a.map(function(o,s){return o*s}).slice(1)),[0]);return Cpe(i,r)}},gZ=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var a=n[0],i=n[1],o=n[2],s=n[3];if(n.length===1)switch(n[0]){case"linear":a=0,i=0,o=1,s=1;break;case"ease":a=.25,i=.1,o=.25,s=1;break;case"ease-in":a=.42,i=0,o=1,s=1;break;case"ease-out":a=.42,i=0,o=.58,s=1;break;case"ease-in-out":a=0,i=0,o=.58,s=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),d=A2t(u,4);a=d[0],i=d[1],o=d[2],s=d[3]}}}var f=mZ(a,o),h=mZ(i,s),p=$2t(a,o),m=function(x){return x>1?1:x<0?0:x},g=function(x){for(var b=x>1?1:x,w=b,_=0;_<8;++_){var S=f(w)-b,k=p(w);if(Math.abs(S-b)<nk||k<nk)return h(w);w=m(w-S/k)}return h(w)};return g.isStepper=!1,g},B2t=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.stiff,r=n===void 0?100:n,a=t.damping,i=a===void 0?8:a,o=t.dt,s=o===void 0?17:o,l=function(d,f,h){var p=-(d-f)*r,m=h*i,g=h+(p-m)*s/1e3,y=h*s/1e3+d;return Math.abs(y-f)<nk&&Math.abs(g)<nk?[f,0]:[y,g]};return l.isStepper=!0,l.dt=s,l},z2t=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var a=n[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return gZ(a);case"spring":return B2t();default:if(a.split("(")[0]==="cubic-bezier")return gZ(a)}return typeof a=="function"?a:null};function yw(e){"@babel/helpers - typeof";return yw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yw(e)}function vZ(e){return V2t(e)||W2t(e)||Epe(e)||U2t()}function U2t(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function W2t(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function V2t(e){if(Array.isArray(e))return yR(e)}function yZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Bi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yZ(Object(n),!0).forEach(function(r){vR(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yZ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vR(e,t,n){return t=H2t(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function H2t(e){var t=q2t(e,"string");return yw(t)==="symbol"?t:String(t)}function q2t(e,t){if(yw(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(yw(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function G2t(e,t){return X2t(e)||K2t(e,t)||Epe(e,t)||Y2t()}function Y2t(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Epe(e,t){if(e){if(typeof e=="string")return yR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yR(e,t)}}function yR(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function K2t(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,s=[],l=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function X2t(e){if(Array.isArray(e))return e}var rk=function(t,n,r){return t+(n-t)*r},xR=function(t){var n=t.from,r=t.to;return n!==r},Z2t=function e(t,n,r){var a=P1(function(i,o){if(xR(o)){var s=t(o.from,o.to,o.velocity),l=G2t(s,2),u=l[0],d=l[1];return Bi(Bi({},o),{},{from:u,velocity:d})}return o},n);return r<1?P1(function(i,o){return xR(o)?Bi(Bi({},o),{},{velocity:rk(o.velocity,a[i].velocity,r),from:rk(o.from,a[i].from,r)}):o},n):e(t,a,r-1)};const Q2t=function(e,t,n,r,a){var i=j2t(e,t),o=i.reduce(function(y,x){return Bi(Bi({},y),{},vR({},x,[e[x],t[x]]))},{}),s=i.reduce(function(y,x){return Bi(Bi({},y),{},vR({},x,{from:e[x],velocity:0,to:t[x]}))},{}),l=-1,u,d,f=function(){return null},h=function(){return P1(function(x,b){return b.from},s)},p=function(){return!Object.values(s).filter(xR).length},m=function(x){u||(u=x);var b=x-u,w=b/n.dt;s=Z2t(n,s,w),a(Bi(Bi(Bi({},e),t),h())),u=x,p()||(l=requestAnimationFrame(f))},g=function(x){d||(d=x);var b=(x-d)/r,w=P1(function(S,k){return rk.apply(void 0,vZ(k).concat([n(b)]))},o);if(a(Bi(Bi(Bi({},e),t),w)),b<1)l=requestAnimationFrame(f);else{var _=P1(function(S,k){return rk.apply(void 0,vZ(k).concat([n(1)]))},o);a(Bi(Bi(Bi({},e),t),_))}};return f=n.isStepper?m:g,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function P0(e){"@babel/helpers - typeof";return P0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},P0(e)}var J2t=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function e_t(e,t){if(e==null)return{};var n=t_t(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function t_t(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,i;for(i=0;i<r.length;i++)a=r[i],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function ZD(e){return i_t(e)||a_t(e)||r_t(e)||n_t()}function n_t(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function r_t(e,t){if(e){if(typeof e=="string")return bR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bR(e,t)}}function a_t(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function i_t(e){if(Array.isArray(e))return bR(e)}function bR(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Kl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xZ(Object(n),!0).forEach(function(r){Fx(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xZ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Fx(e,t,n){return t=Npe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o_t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s_t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Npe(r.key),r)}}function l_t(e,t,n){return t&&s_t(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Npe(e){var t=c_t(e,"string");return P0(t)==="symbol"?t:String(t)}function c_t(e,t){if(P0(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(P0(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function u_t(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wR(e,t)}function wR(e,t){return wR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},wR(e,t)}function d_t(e){var t=f_t();return function(){var r=ak(e),a;if(t){var i=ak(this).constructor;a=Reflect.construct(r,arguments,i)}else a=r.apply(this,arguments);return _R(this,a)}}function _R(e,t){if(t&&(P0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SR(e)}function SR(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f_t(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ak(e){return ak=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ak(e)}var Sh=function(e){u_t(n,e);var t=d_t(n);function n(r,a){var i;o_t(this,n),i=t.call(this,r,a);var o=i.props,s=o.isActive,l=o.attributeName,u=o.from,d=o.to,f=o.steps,h=o.children,p=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(SR(i)),i.changeStyle=i.changeStyle.bind(SR(i)),!s||p<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:d}),_R(i);if(f&&f.length)i.state={style:f[0].style};else if(u){if(typeof h=="function")return i.state={style:u},_R(i);i.state={style:l?Fx({},l,u):u}}else i.state={style:{}};return i}return l_t(n,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,o=a.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,o=i.isActive,s=i.canBegin,l=i.attributeName,u=i.shouldReAnimate,d=i.to,f=i.from,h=this.state.style;if(s){if(!o){var p={style:l?Fx({},l,d):d};this.state&&h&&(l&&h[l]!==d||!l&&h!==d)&&this.setState(p);return}if(!(y2t(a.to,d)&&a.canBegin&&a.isActive)){var m=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=m||u?f:a.to;if(this.state&&h){var y={style:l?Fx({},l,g):g};(l&&h[l]!==g||!l&&h!==g)&&this.setState(y)}this.runAnimation(Kl(Kl({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,o=a.from,s=a.to,l=a.duration,u=a.easing,d=a.begin,f=a.onAnimationEnd,h=a.onAnimationStart,p=Q2t(o,s,z2t(u),l,this.changeStyle),m=function(){i.stopJSAnimation=p()};this.manager.start([h,d,m,l,f])}},{key:"runStepAnimation",value:function(a){var i=this,o=a.steps,s=a.begin,l=a.onAnimationStart,u=o[0],d=u.style,f=u.duration,h=f===void 0?0:f,p=function(g,y,x){if(x===0)return g;var b=y.duration,w=y.easing,_=w===void 0?"ease":w,S=y.style,k=y.properties,N=y.onAnimationEnd,P=x>0?o[x-1]:y,T=k||Object.keys(S);if(typeof _=="function"||_==="spring")return[].concat(ZD(g),[i.runJSAnimation.bind(i,{from:P.style,to:S,duration:b,easing:_}),b]);var j=pZ(T,b,_),D=Kl(Kl(Kl({},P.style),S),{},{transition:j});return[].concat(ZD(g),[D,b,N]).filter(T2t)};return this.manager.start([l].concat(ZD(o.reduce(p,[d,Math.max(h,s)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=E2t());var i=a.begin,o=a.duration,s=a.attributeName,l=a.to,u=a.easing,d=a.onAnimationStart,f=a.onAnimationEnd,h=a.steps,p=a.children,m=this.manager;if(this.unSubscribe=m.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var g=s?Fx({},s,l):l,y=pZ(Object.keys(g),o,u);m.start([d,i,Kl(Kl({},g),{},{transition:y}),o,f])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var s=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var l=e_t(a,J2t),u=E.Children.count(i),d=this.state.style;if(typeof i=="function")return i(d);if(!s||u===0||o<=0)return i;var f=function(p){var m=p.props,g=m.style,y=g===void 0?{}:g,x=m.className,b=E.cloneElement(p,Kl(Kl({},l),{},{style:Kl(Kl({},y),d),className:x}));return b};return u===1?f(E.Children.only(i)):le.createElement("div",null,E.Children.map(i,function(h){return f(h)}))}}]),n}(E.PureComponent);Sh.displayName="Animate";Sh.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Sh.propTypes={from:Vt.oneOfType([Vt.object,Vt.string]),to:Vt.oneOfType([Vt.object,Vt.string]),attributeName:Vt.string,duration:Vt.number,begin:Vt.number,easing:Vt.oneOfType([Vt.string,Vt.func]),steps:Vt.arrayOf(Vt.shape({duration:Vt.number.isRequired,style:Vt.object.isRequired,easing:Vt.oneOfType([Vt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Vt.func]),properties:Vt.arrayOf("string"),onAnimationEnd:Vt.func})),children:Vt.oneOfType([Vt.node,Vt.func]),isActive:Vt.bool,canBegin:Vt.bool,onAnimationEnd:Vt.func,shouldReAnimate:Vt.bool,onAnimationStart:Vt.func,onAnimationReStart:Vt.func};function xw(e){"@babel/helpers - typeof";return xw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xw(e)}function ik(){return ik=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ik.apply(this,arguments)}function h_t(e,t){return v_t(e)||g_t(e,t)||m_t(e,t)||p_t()}function p_t(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m_t(e,t){if(e){if(typeof e=="string")return bZ(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bZ(e,t)}}function bZ(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g_t(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,s=[],l=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function v_t(e){if(Array.isArray(e))return e}function wZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function _Z(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wZ(Object(n),!0).forEach(function(r){y_t(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wZ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function y_t(e,t,n){return t=x_t(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x_t(e){var t=b_t(e,"string");return xw(t)=="symbol"?t:t+""}function b_t(e,t){if(xw(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(xw(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var SZ=function(t,n,r,a,i){var o=Math.min(Math.abs(r)/2,Math.abs(a)/2),s=a>=0?1:-1,l=r>=0?1:-1,u=a>=0&&r>=0||a<0&&r<0?1:0,d;if(o>0&&i instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=i[h]>o?o:i[h];d="M".concat(t,",").concat(n+s*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+l*f[0],",").concat(n)),d+="L ".concat(t+r-l*f[1],",").concat(n),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+r,",").concat(n+s*f[1])),d+="L ".concat(t+r,",").concat(n+a-s*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+r-l*f[2],",").concat(n+a)),d+="L ".concat(t+l*f[3],",").concat(n+a),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(n+a-s*f[3])),d+="Z"}else if(o>0&&i===+i&&i>0){var m=Math.min(o,i);d="M ".concat(t,",").concat(n+s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(t+l*m,",").concat(n,`
            L `).concat(t+r-l*m,",").concat(n,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(t+r,",").concat(n+s*m,`
            L `).concat(t+r,",").concat(n+a-s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(t+r-l*m,",").concat(n+a,`
            L `).concat(t+l*m,",").concat(n+a,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(t,",").concat(n+a-s*m," Z")}else d="M ".concat(t,",").concat(n," h ").concat(r," v ").concat(a," h ").concat(-r," Z");return d},w_t=function(t,n){if(!t||!n)return!1;var r=t.x,a=t.y,i=n.x,o=n.y,s=n.width,l=n.height;if(Math.abs(s)>0&&Math.abs(l)>0){var u=Math.min(i,i+s),d=Math.max(i,i+s),f=Math.min(o,o+l),h=Math.max(o,o+l);return r>=u&&r<=d&&a>=f&&a<=h}return!1},__t={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},F8=function(t){var n=_Z(_Z({},__t),t),r=E.useRef(),a=E.useState(-1),i=h_t(a,2),o=i[0],s=i[1];E.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var _=r.current.getTotalLength();_&&s(_)}catch{}},[]);var l=n.x,u=n.y,d=n.width,f=n.height,h=n.radius,p=n.className,m=n.animationEasing,g=n.animationDuration,y=n.animationBegin,x=n.isAnimationActive,b=n.isUpdateAnimationActive;if(l!==+l||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var w=Tt("recharts-rectangle",p);return b?le.createElement(Sh,{canBegin:o>0,from:{width:d,height:f,x:l,y:u},to:{width:d,height:f,x:l,y:u},duration:g,animationEasing:m,isActive:b},function(_){var S=_.width,k=_.height,N=_.x,P=_.y;return le.createElement(Sh,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:g,isActive:x,easing:m},le.createElement("path",ik({},Bn(n,!0),{className:w,d:SZ(N,P,S,k,h),ref:r})))}):le.createElement("path",ik({},Bn(n,!0),{className:w,d:SZ(l,u,d,f,h)}))},S_t=["points","className","baseLinePoints","connectNulls"];function tv(){return tv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tv.apply(this,arguments)}function C_t(e,t){if(e==null)return{};var n=E_t(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function E_t(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function CZ(e){return T_t(e)||j_t(e)||k_t(e)||N_t()}function N_t(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function k_t(e,t){if(e){if(typeof e=="string")return CR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return CR(e,t)}}function j_t(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function T_t(e){if(Array.isArray(e))return CR(e)}function CR(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var EZ=function(t){return t&&t.x===+t.x&&t.y===+t.y},P_t=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return t.forEach(function(r){EZ(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),EZ(t[0])&&n[n.length-1].push(t[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},A1=function(t,n){var r=P_t(t);n&&(r=[r.reduce(function(i,o){return[].concat(CZ(i),CZ(o))},[])]);var a=r.map(function(i){return i.reduce(function(o,s,l){return"".concat(o).concat(l===0?"M":"L").concat(s.x,",").concat(s.y)},"")}).join("");return r.length===1?"".concat(a,"Z"):a},A_t=function(t,n,r){var a=A1(t,r);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(A1(n.reverse(),r).slice(1))},D_t=function(t){var n=t.points,r=t.className,a=t.baseLinePoints,i=t.connectNulls,o=C_t(t,S_t);if(!n||!n.length)return null;var s=Tt("recharts-polygon",r);if(a&&a.length){var l=o.stroke&&o.stroke!=="none",u=A_t(n,a,i);return le.createElement("g",{className:s},le.createElement("path",tv({},Bn(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),l?le.createElement("path",tv({},Bn(o,!0),{fill:"none",d:A1(n,i)})):null,l?le.createElement("path",tv({},Bn(o,!0),{fill:"none",d:A1(a,i)})):null)}var d=A1(n,i);return le.createElement("path",tv({},Bn(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:s,d}))};function ER(){return ER=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ER.apply(this,arguments)}var L8=function(t){var n=t.cx,r=t.cy,a=t.r,i=t.className,o=Tt("recharts-dot",i);return n===+n&&r===+r&&a===+a?E.createElement("circle",ER({},Bn(t,!1),NN(t),{className:o,cx:n,cy:r,r:a})):null};function bw(e){"@babel/helpers - typeof";return bw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bw(e)}var O_t=["x","y","top","left","width","height","className"];function NR(){return NR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},NR.apply(this,arguments)}function NZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function M_t(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?NZ(Object(n),!0).forEach(function(r){I_t(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NZ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function I_t(e,t,n){return t=R_t(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R_t(e){var t=F_t(e,"string");return bw(t)=="symbol"?t:t+""}function F_t(e,t){if(bw(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(bw(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function L_t(e,t){if(e==null)return{};var n=$_t(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function $_t(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var B_t=function(t,n,r,a,i,o){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(o,",").concat(n,"h").concat(r)},z_t=function(t){var n=t.x,r=n===void 0?0:n,a=t.y,i=a===void 0?0:a,o=t.top,s=o===void 0?0:o,l=t.left,u=l===void 0?0:l,d=t.width,f=d===void 0?0:d,h=t.height,p=h===void 0?0:h,m=t.className,g=L_t(t,O_t),y=M_t({x:r,y:i,top:s,left:u,width:f,height:p},g);return!Xt(r)||!Xt(i)||!Xt(f)||!Xt(p)||!Xt(s)||!Xt(u)?null:le.createElement("path",NR({},Bn(y,!0),{className:Tt("recharts-cross",m),d:B_t(r,i,f,p,s,u)}))},U_t=mP,W_t=qhe,V_t=Fh;function H_t(e,t){return e&&e.length?U_t(e,V_t(t),W_t):void 0}var q_t=H_t;const G_t=sr(q_t);var Y_t=mP,K_t=Fh,X_t=Ghe;function Z_t(e,t){return e&&e.length?Y_t(e,K_t(t),X_t):void 0}var Q_t=Z_t;const J_t=sr(Q_t);var eSt=["cx","cy","angle","ticks","axisLine"],tSt=["ticks","tick","angle","tickFormatter","stroke"];function A0(e){"@babel/helpers - typeof";return A0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},A0(e)}function D1(){return D1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},D1.apply(this,arguments)}function kZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Jh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kZ(Object(n),!0).forEach(function(r){bP(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kZ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jZ(e,t){if(e==null)return{};var n=nSt(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function nSt(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function rSt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function TZ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,jpe(r.key),r)}}function aSt(e,t,n){return t&&TZ(e.prototype,t),n&&TZ(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function iSt(e,t,n){return t=ok(t),oSt(e,kpe()?Reflect.construct(t,n||[],ok(e).constructor):t.apply(e,n))}function oSt(e,t){if(t&&(A0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sSt(e)}function sSt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kpe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kpe=function(){return!!e})()}function ok(e){return ok=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ok(e)}function lSt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kR(e,t)}function kR(e,t){return kR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},kR(e,t)}function bP(e,t,n){return t=jpe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jpe(e){var t=cSt(e,"string");return A0(t)=="symbol"?t:t+""}function cSt(e,t){if(A0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(A0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wP=function(e){function t(){return rSt(this,t),iSt(this,t,arguments)}return lSt(t,e),aSt(t,[{key:"getTickValueCoord",value:function(r){var a=r.coordinate,i=this.props,o=i.angle,s=i.cx,l=i.cy;return Kr(s,l,a,o)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,a;switch(r){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var r=this.props,a=r.cx,i=r.cy,o=r.angle,s=r.ticks,l=G_t(s,function(d){return d.coordinate||0}),u=J_t(s,function(d){return d.coordinate||0});return{cx:a,cy:i,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,a=r.cx,i=r.cy,o=r.angle,s=r.ticks,l=r.axisLine,u=jZ(r,eSt),d=s.reduce(function(m,g){return[Math.min(m[0],g.coordinate),Math.max(m[1],g.coordinate)]},[1/0,-1/0]),f=Kr(a,i,d[0],o),h=Kr(a,i,d[1],o),p=Jh(Jh(Jh({},Bn(u,!1)),{},{fill:"none"},Bn(l,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return le.createElement("line",D1({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var r=this,a=this.props,i=a.ticks,o=a.tick,s=a.angle,l=a.tickFormatter,u=a.stroke,d=jZ(a,tSt),f=this.getTickTextAnchor(),h=Bn(d,!1),p=Bn(o,!1),m=i.map(function(g,y){var x=r.getTickValueCoord(g),b=Jh(Jh(Jh(Jh({textAnchor:f,transform:"rotate(".concat(90-s,", ").concat(x.x,", ").concat(x.y,")")},h),{},{stroke:"none",fill:u},p),{},{index:y},x),{},{payload:g});return le.createElement(Fa,D1({className:Tt("recharts-polar-radius-axis-tick",gpe(o)),key:"tick-".concat(g.coordinate)},eP(r.props,g,y)),t.renderTickItem(o,b,l?l(g.value,y):g.value))});return le.createElement(Fa,{className:"recharts-polar-radius-axis-ticks"},m)}},{key:"render",value:function(){var r=this.props,a=r.ticks,i=r.axisLine,o=r.tick;return!a||!a.length?null:le.createElement(Fa,{className:Tt("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),Yi.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,a,i){var o;return le.isValidElement(r)?o=le.cloneElement(r,a):zn(r)?o=r(a):o=le.createElement(C0,D1({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])}(E.PureComponent);bP(wP,"displayName","PolarRadiusAxis");bP(wP,"axisType","radiusAxis");bP(wP,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function D0(e){"@babel/helpers - typeof";return D0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},D0(e)}function bp(){return bp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bp.apply(this,arguments)}function PZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ep(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?PZ(Object(n),!0).forEach(function(r){_P(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PZ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uSt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function AZ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ppe(r.key),r)}}function dSt(e,t,n){return t&&AZ(e.prototype,t),n&&AZ(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function fSt(e,t,n){return t=sk(t),hSt(e,Tpe()?Reflect.construct(t,n||[],sk(e).constructor):t.apply(e,n))}function hSt(e,t){if(t&&(D0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pSt(e)}function pSt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Tpe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Tpe=function(){return!!e})()}function sk(e){return sk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},sk(e)}function mSt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jR(e,t)}function jR(e,t){return jR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},jR(e,t)}function _P(e,t,n){return t=Ppe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ppe(e){var t=gSt(e,"string");return D0(t)=="symbol"?t:t+""}function gSt(e,t){if(D0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(D0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vSt=Math.PI/180,DZ=1e-5,SP=function(e){function t(){return uSt(this,t),fSt(this,t,arguments)}return mSt(t,e),dSt(t,[{key:"getTickLineCoord",value:function(r){var a=this.props,i=a.cx,o=a.cy,s=a.radius,l=a.orientation,u=a.tickSize,d=u||8,f=Kr(i,o,s,r.coordinate),h=Kr(i,o,s+(l==="inner"?-1:1)*d,r.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(r){var a=this.props.orientation,i=Math.cos(-r.coordinate*vSt),o;return i>DZ?o=a==="outer"?"start":"end":i<-DZ?o=a==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var r=this.props,a=r.cx,i=r.cy,o=r.radius,s=r.axisLine,l=r.axisLineType,u=ep(ep({},Bn(this.props,!1)),{},{fill:"none"},Bn(s,!1));if(l==="circle")return le.createElement(L8,bp({className:"recharts-polar-angle-axis-line"},u,{cx:a,cy:i,r:o}));var d=this.props.ticks,f=d.map(function(h){return Kr(a,i,o,h.coordinate)});return le.createElement(D_t,bp({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var r=this,a=this.props,i=a.ticks,o=a.tick,s=a.tickLine,l=a.tickFormatter,u=a.stroke,d=Bn(this.props,!1),f=Bn(o,!1),h=ep(ep({},d),{},{fill:"none"},Bn(s,!1)),p=i.map(function(m,g){var y=r.getTickLineCoord(m),x=r.getTickTextAnchor(m),b=ep(ep(ep({textAnchor:x},d),{},{stroke:"none",fill:u},f),{},{index:g,payload:m,x:y.x2,y:y.y2});return le.createElement(Fa,bp({className:Tt("recharts-polar-angle-axis-tick",gpe(o)),key:"tick-".concat(m.coordinate)},eP(r.props,m,g)),s&&le.createElement("line",bp({className:"recharts-polar-angle-axis-tick-line"},h,y)),o&&t.renderTickItem(o,b,l?l(m.value,g):m.value))});return le.createElement(Fa,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var r=this.props,a=r.ticks,i=r.radius,o=r.axisLine;return i<=0||!a||!a.length?null:le.createElement(Fa,{className:Tt("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,a,i){var o;return le.isValidElement(r)?o=le.cloneElement(r,a):zn(r)?o=r(a):o=le.createElement(C0,bp({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])}(E.PureComponent);_P(SP,"displayName","PolarAngleAxis");_P(SP,"axisType","angleAxis");_P(SP,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var ySt=Vfe,xSt=ySt(Object.getPrototypeOf,Object),bSt=xSt,wSt=Xd,_St=bSt,SSt=Zd,CSt="[object Object]",ESt=Function.prototype,NSt=Object.prototype,Ape=ESt.toString,kSt=NSt.hasOwnProperty,jSt=Ape.call(Object);function TSt(e){if(!SSt(e)||wSt(e)!=CSt)return!1;var t=_St(e);if(t===null)return!0;var n=kSt.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&Ape.call(n)==jSt}var PSt=TSt;const ASt=sr(PSt);var DSt=Xd,OSt=Zd,MSt="[object Boolean]";function ISt(e){return e===!0||e===!1||OSt(e)&&DSt(e)==MSt}var RSt=ISt;const FSt=sr(RSt);function ww(e){"@babel/helpers - typeof";return ww=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ww(e)}function lk(){return lk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lk.apply(this,arguments)}function LSt(e,t){return USt(e)||zSt(e,t)||BSt(e,t)||$St()}function $St(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BSt(e,t){if(e){if(typeof e=="string")return OZ(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return OZ(e,t)}}function OZ(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function zSt(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,s=[],l=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function USt(e){if(Array.isArray(e))return e}function MZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function IZ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?MZ(Object(n),!0).forEach(function(r){WSt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MZ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function WSt(e,t,n){return t=VSt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VSt(e){var t=HSt(e,"string");return ww(t)=="symbol"?t:t+""}function HSt(e,t){if(ww(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ww(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var RZ=function(t,n,r,a,i){var o=r-a,s;return s="M ".concat(t,",").concat(n),s+="L ".concat(t+r,",").concat(n),s+="L ".concat(t+r-o/2,",").concat(n+i),s+="L ".concat(t+r-o/2-a,",").concat(n+i),s+="L ".concat(t,",").concat(n," Z"),s},qSt={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},GSt=function(t){var n=IZ(IZ({},qSt),t),r=E.useRef(),a=E.useState(-1),i=LSt(a,2),o=i[0],s=i[1];E.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var w=r.current.getTotalLength();w&&s(w)}catch{}},[]);var l=n.x,u=n.y,d=n.upperWidth,f=n.lowerWidth,h=n.height,p=n.className,m=n.animationEasing,g=n.animationDuration,y=n.animationBegin,x=n.isUpdateAnimationActive;if(l!==+l||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var b=Tt("recharts-trapezoid",p);return x?le.createElement(Sh,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:l,y:u},duration:g,animationEasing:m,isActive:x},function(w){var _=w.upperWidth,S=w.lowerWidth,k=w.height,N=w.x,P=w.y;return le.createElement(Sh,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:g,easing:m},le.createElement("path",lk({},Bn(n,!0),{className:b,d:RZ(N,P,_,S,k),ref:r})))}):le.createElement("g",null,le.createElement("path",lk({},Bn(n,!0),{className:b,d:RZ(l,u,d,f,h)})))},YSt=["option","shapeType","propTransformer","activeClassName","isActive"];function _w(e){"@babel/helpers - typeof";return _w=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_w(e)}function KSt(e,t){if(e==null)return{};var n=XSt(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function XSt(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function FZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ck(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FZ(Object(n),!0).forEach(function(r){ZSt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FZ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ZSt(e,t,n){return t=QSt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QSt(e){var t=JSt(e,"string");return _w(t)=="symbol"?t:t+""}function JSt(e,t){if(_w(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(_w(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eCt(e,t){return ck(ck({},t),e)}function tCt(e,t){return e==="symbols"}function LZ(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return le.createElement(F8,n);case"trapezoid":return le.createElement(GSt,n);case"sector":return le.createElement(xpe,n);case"symbols":if(tCt(t))return le.createElement(J$,n);break;default:return null}}function nCt(e){return E.isValidElement(e)?e.props:e}function rCt(e){var t=e.option,n=e.shapeType,r=e.propTransformer,a=r===void 0?eCt:r,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,s=e.isActive,l=KSt(e,YSt),u;if(E.isValidElement(t))u=E.cloneElement(t,ck(ck({},l),nCt(t)));else if(zn(t))u=t(l);else if(ASt(t)&&!FSt(t)){var d=a(t,l);u=le.createElement(LZ,{shapeType:n,elementProps:d})}else{var f=l;u=le.createElement(LZ,{shapeType:n,elementProps:f})}return s?le.createElement(Fa,{className:o},u):u}function CP(e,t){return t!=null&&"trapezoids"in e.props}function EP(e,t){return t!=null&&"sectors"in e.props}function Sw(e,t){return t!=null&&"points"in e.props}function aCt(e,t){var n,r,a=e.x===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.x)||e.x===t.x,i=e.y===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.y)||e.y===t.y;return a&&i}function iCt(e,t){var n=e.endAngle===t.endAngle,r=e.startAngle===t.startAngle;return n&&r}function oCt(e,t){var n=e.x===t.x,r=e.y===t.y,a=e.z===t.z;return n&&r&&a}function sCt(e,t){var n;return CP(e,t)?n=aCt:EP(e,t)?n=iCt:Sw(e,t)&&(n=oCt),n}function lCt(e,t){var n;return CP(e,t)?n="trapezoids":EP(e,t)?n="sectors":Sw(e,t)&&(n="points"),n}function cCt(e,t){if(CP(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(EP(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Sw(e,t)?t.payload:{}}function uCt(e){var t=e.activeTooltipItem,n=e.graphicalItem,r=e.itemData,a=lCt(n,t),i=cCt(n,t),o=r.filter(function(l,u){var d=D8(i,l),f=n.props[a].filter(function(m){var g=sCt(n,t);return g(m,t)}),h=n.props[a].indexOf(f[f.length-1]),p=u===h;return d&&p}),s=r.indexOf(o[o.length-1]);return s}var hC;function O0(e){"@babel/helpers - typeof";return O0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},O0(e)}function nv(){return nv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nv.apply(this,arguments)}function $Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Vr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$Z(Object(n),!0).forEach(function(r){yl(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$Z(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function dCt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function BZ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ope(r.key),r)}}function fCt(e,t,n){return t&&BZ(e.prototype,t),n&&BZ(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function hCt(e,t,n){return t=uk(t),pCt(e,Dpe()?Reflect.construct(t,n||[],uk(e).constructor):t.apply(e,n))}function pCt(e,t){if(t&&(O0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mCt(e)}function mCt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Dpe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Dpe=function(){return!!e})()}function uk(e){return uk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},uk(e)}function gCt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&TR(e,t)}function TR(e,t){return TR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},TR(e,t)}function yl(e,t,n){return t=Ope(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ope(e){var t=vCt(e,"string");return O0(t)=="symbol"?t:t+""}function vCt(e,t){if(O0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(O0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Au=function(e){function t(n){var r;return dCt(this,t),r=hCt(this,t,[n]),yl(r,"pieRef",null),yl(r,"sectorRefs",[]),yl(r,"id",JT("recharts-pie-")),yl(r,"handleAnimationEnd",function(){var a=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),zn(a)&&a()}),yl(r,"handleAnimationStart",function(){var a=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),zn(a)&&a()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return gCt(t,e),fCt(t,[{key:"isActiveIndex",value:function(r){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(r)!==-1:r===a}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,s=i.labelLine,l=i.dataKey,u=i.valueKey,d=Bn(this.props,!1),f=Bn(o,!1),h=Bn(s,!1),p=o&&o.offsetRadius||20,m=r.map(function(g,y){var x=(g.startAngle+g.endAngle)/2,b=Kr(g.cx,g.cy,g.outerRadius+p,x),w=Vr(Vr(Vr(Vr({},d),g),{},{stroke:"none"},f),{},{index:y,textAnchor:t.getTextAnchor(b.x,g.cx)},b),_=Vr(Vr(Vr(Vr({},d),g),{},{fill:"none",stroke:g.fill},h),{},{index:y,points:[Kr(g.cx,g.cy,g.outerRadius,x),b]}),S=l;return er(l)&&er(u)?S="value":er(l)&&(S=u),le.createElement(Fa,{key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(y)},s&&t.renderLabelLineItem(s,_,"line"),t.renderLabelItem(o,w,Ts(g,S)))});return le.createElement(Fa,{className:"recharts-pie-labels"},m)}},{key:"renderSectorsStatically",value:function(r){var a=this,i=this.props,o=i.activeShape,s=i.blendStroke,l=i.inactiveShape;return r.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&r.length!==1)return null;var f=a.isActiveIndex(d),h=l&&a.hasActiveIndex()?l:null,p=f?o:h,m=Vr(Vr({},u),{},{stroke:s?u.fill:u.stroke,tabIndex:-1});return le.createElement(Fa,nv({ref:function(y){y&&!a.sectorRefs.includes(y)&&a.sectorRefs.push(y)},tabIndex:-1,className:"recharts-pie-sector"},eP(a.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),le.createElement(rCt,nv({option:p,isActive:f,shapeType:"sector"},m)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,a=this.props,i=a.sectors,o=a.isAnimationActive,s=a.animationBegin,l=a.animationDuration,u=a.animationEasing,d=a.animationId,f=this.state,h=f.prevSectors,p=f.prevIsAnimationActive;return le.createElement(Sh,{begin:s,duration:l,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(m){var g=m.t,y=[],x=i&&i[0],b=x.startAngle;return i.forEach(function(w,_){var S=h&&h[_],k=_>0?yc(w,"paddingAngle",0):0;if(S){var N=MY(S.endAngle-S.startAngle,w.endAngle-w.startAngle),P=Vr(Vr({},w),{},{startAngle:b+k,endAngle:b+N(g)+k});y.push(P),b=P.endAngle}else{var T=w.endAngle,j=w.startAngle,D=MY(0,T-j),M=D(g),R=Vr(Vr({},w),{},{startAngle:b+k,endAngle:b+M+k});y.push(R),b=R.endAngle}}),le.createElement(Fa,null,r.renderSectorsStatically(y))})}},{key:"attachKeyboardHandlers",value:function(r){var a=this;r.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[o].focus(),a.setState({sectorToFocus:o});break}case"ArrowRight":{var s=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[s].focus(),a.setState({sectorToFocus:s});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,a=r.sectors,i=r.isAnimationActive,o=this.state.prevSectors;return i&&a&&a.length&&(!o||!D8(o,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,a=this.props,i=a.hide,o=a.sectors,s=a.className,l=a.label,u=a.cx,d=a.cy,f=a.innerRadius,h=a.outerRadius,p=a.isAnimationActive,m=this.state.isAnimationFinished;if(i||!o||!o.length||!Xt(u)||!Xt(d)||!Xt(f)||!Xt(h))return null;var g=Tt("recharts-pie",s);return le.createElement(Fa,{tabIndex:this.props.rootTabIndex,className:g,ref:function(x){r.pieRef=x}},this.renderSectors(),l&&this.renderLabels(o),Yi.renderCallByParent(this.props,null,!1),(!p||m)&&am.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,a){return a.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==a.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:r.sectors!==a.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,a){return r>a?"start":r<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,a,i){if(le.isValidElement(r))return le.cloneElement(r,a);if(zn(r))return r(a);var o=Tt("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return le.createElement(pR,nv({},a,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(r,a,i){if(le.isValidElement(r))return le.cloneElement(r,a);var o=i;if(zn(r)&&(o=r(a),le.isValidElement(o)))return o;var s=Tt("recharts-pie-label-text",typeof r!="boolean"&&!zn(r)?r.className:"");return le.createElement(C0,nv({},a,{alignmentBaseline:"middle",className:s}),o)}}])}(E.PureComponent);hC=Au;yl(Au,"displayName","Pie");yl(Au,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!lP.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});yl(Au,"parseDeltaAngle",function(e,t){var n=wl(t-e),r=Math.min(Math.abs(t-e),360);return n*r});yl(Au,"getRealPieData",function(e){var t=e.data,n=e.children,r=Bn(e,!1),a=Cu(n,$N);return t&&t.length?t.map(function(i,o){return Vr(Vr(Vr({payload:i},r),i),a&&a[o]&&a[o].props)}):a&&a.length?a.map(function(i){return Vr(Vr({},r),i.props)}):[]});yl(Au,"parseCoordinateOfPie",function(e,t){var n=t.top,r=t.left,a=t.width,i=t.height,o=mpe(a,i),s=r+Qo(e.cx,a,a/2),l=n+Qo(e.cy,i,i/2),u=Qo(e.innerRadius,o,0),d=Qo(e.outerRadius,o,o*.8),f=e.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:s,cy:l,innerRadius:u,outerRadius:d,maxRadius:f}});yl(Au,"getComposedData",function(e){var t=e.item,n=e.offset,r=t.type.defaultProps!==void 0?Vr(Vr({},t.type.defaultProps),t.props):t.props,a=hC.getRealPieData(r);if(!a||!a.length)return null;var i=r.cornerRadius,o=r.startAngle,s=r.endAngle,l=r.paddingAngle,u=r.dataKey,d=r.nameKey,f=r.valueKey,h=r.tooltipType,p=Math.abs(r.minAngle),m=hC.parseCoordinateOfPie(r,n),g=hC.parseDeltaAngle(o,s),y=Math.abs(g),x=u;er(u)&&er(f)?(y0(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x="value"):er(u)&&(y0(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x=f);var b=a.filter(function(P){return Ts(P,x,0)!==0}).length,w=(y>=360?b:b-1)*l,_=y-b*p-w,S=a.reduce(function(P,T){var j=Ts(T,x,0);return P+(Xt(j)?j:0)},0),k;if(S>0){var N;k=a.map(function(P,T){var j=Ts(P,x,0),D=Ts(P,d,T),M=(Xt(j)?j:0)/S,R;T?R=N.endAngle+wl(g)*l*(j!==0?1:0):R=o;var W=R+wl(g)*((j!==0?p:0)+M*_),B=(R+W)/2,V=(m.innerRadius+m.outerRadius)/2,q=[{name:D,value:j,payload:P,dataKey:x,type:h}],I=Kr(m.cx,m.cy,V,B);return N=Vr(Vr(Vr({percent:M,cornerRadius:i,name:D,tooltipPayload:q,midAngle:B,middleRadius:V,tooltipPosition:I},P),m),{},{value:Ts(P,x),startAngle:R,endAngle:W,payload:P,paddingAngle:wl(g)*l}),N})}return Vr(Vr({},m),{},{sectors:k,data:a})});var yCt=Math.ceil,xCt=Math.max;function bCt(e,t,n,r){for(var a=-1,i=xCt(yCt((t-e)/(n||1)),0),o=Array(i);i--;)o[r?i:++a]=e,e+=n;return o}var wCt=bCt,_Ct=lhe,zZ=1/0,SCt=17976931348623157e292;function CCt(e){if(!e)return e===0?e:0;if(e=_Ct(e),e===zZ||e===-zZ){var t=e<0?-1:1;return t*SCt}return e===e?e:0}var ECt=CCt,NCt=wCt,kCt=sP,QD=ECt;function jCt(e){return function(t,n,r){return r&&typeof r!="number"&&kCt(t,n,r)&&(n=r=void 0),t=QD(t),n===void 0?(n=t,t=0):n=QD(n),r=r===void 0?t<n?1:-1:QD(r),NCt(t,n,r,e)}}var TCt=jCt,PCt=TCt,ACt=PCt(),DCt=ACt;const dk=sr(DCt);function Cw(e){"@babel/helpers - typeof";return Cw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cw(e)}function UZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function WZ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?UZ(Object(n),!0).forEach(function(r){Mpe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UZ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Mpe(e,t,n){return t=OCt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OCt(e){var t=MCt(e,"string");return Cw(t)=="symbol"?t:t+""}function MCt(e,t){if(Cw(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Cw(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ICt=["Webkit","Moz","O","ms"],RCt=function(t,n){var r=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=ICt.reduce(function(i,o){return WZ(WZ({},i),{},Mpe({},o+r,n))},{});return a[t]=n,a};function M0(e){"@babel/helpers - typeof";return M0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},M0(e)}function fk(){return fk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fk.apply(this,arguments)}function VZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function JD(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VZ(Object(n),!0).forEach(function(r){ys(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VZ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function FCt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function HZ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Rpe(r.key),r)}}function LCt(e,t,n){return t&&HZ(e.prototype,t),n&&HZ(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function $Ct(e,t,n){return t=hk(t),BCt(e,Ipe()?Reflect.construct(t,n||[],hk(e).constructor):t.apply(e,n))}function BCt(e,t){if(t&&(M0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zCt(e)}function zCt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ipe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ipe=function(){return!!e})()}function hk(e){return hk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},hk(e)}function UCt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&PR(e,t)}function PR(e,t){return PR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},PR(e,t)}function ys(e,t,n){return t=Rpe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rpe(e){var t=WCt(e,"string");return M0(t)=="symbol"?t:t+""}function WCt(e,t){if(M0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(M0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var VCt=function(t){var n=t.data,r=t.startIndex,a=t.endIndex,i=t.x,o=t.width,s=t.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=j1().domain(dk(0,l)).range([i,i+o-s]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(a),scale:u,scaleValues:d}},qZ=function(t){return t.changedTouches&&!!t.changedTouches.length},I0=function(e){function t(n){var r;return FCt(this,t),r=$Ct(this,t,[n]),ys(r,"handleDrag",function(a){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(a):r.state.isSlideMoving&&r.handleSlideDrag(a)}),ys(r,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&r.handleDrag(a.changedTouches[0])}),ys(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=r.props,i=a.endIndex,o=a.onDragEnd,s=a.startIndex;o==null||o({endIndex:i,startIndex:s})}),r.detachDragEndListener()}),ys(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),ys(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),ys(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),ys(r,"handleSlideDragStart",function(a){var i=qZ(a)?a.changedTouches[0]:a;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return UCt(t,e),LCt(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var a=r.startX,i=r.endX,o=this.state.scaleValues,s=this.props,l=s.gap,u=s.data,d=u.length-1,f=Math.min(a,i),h=Math.max(a,i),p=t.getIndexInRange(o,f),m=t.getIndexInRange(o,h);return{startIndex:p-p%l,endIndex:m===d?d:m-m%l}}},{key:"getTextOfTick",value:function(r){var a=this.props,i=a.data,o=a.tickFormatter,s=a.dataKey,l=Ts(i[r],s,r);return zn(o)?o(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var a=this.state,i=a.slideMoveStartX,o=a.startX,s=a.endX,l=this.props,u=l.x,d=l.width,f=l.travellerWidth,h=l.startIndex,p=l.endIndex,m=l.onChange,g=r.pageX-i;g>0?g=Math.min(g,u+d-f-s,u+d-f-o):g<0&&(g=Math.max(g,u-o,u-s));var y=this.getIndex({startX:o+g,endX:s+g});(y.startIndex!==h||y.endIndex!==p)&&m&&m(y),this.setState({startX:o+g,endX:s+g,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,a){var i=qZ(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var a=this.state,i=a.brushMoveStartX,o=a.movingTravellerId,s=a.endX,l=a.startX,u=this.state[o],d=this.props,f=d.x,h=d.width,p=d.travellerWidth,m=d.onChange,g=d.gap,y=d.data,x={startX:this.state.startX,endX:this.state.endX},b=r.pageX-i;b>0?b=Math.min(b,f+h-p-u):b<0&&(b=Math.max(b,f-u)),x[o]=u+b;var w=this.getIndex(x),_=w.startIndex,S=w.endIndex,k=function(){var P=y.length-1;return o==="startX"&&(s>l?_%g===0:S%g===0)||s<l&&S===P||o==="endX"&&(s>l?S%g===0:_%g===0)||s>l&&S===P};this.setState(ys(ys({},o,u+b),"brushMoveStartX",r.pageX),function(){m&&k()&&m(w)})}},{key:"handleTravellerMoveKeyboard",value:function(r,a){var i=this,o=this.state,s=o.scaleValues,l=o.startX,u=o.endX,d=this.state[a],f=s.indexOf(d);if(f!==-1){var h=f+r;if(!(h===-1||h>=s.length)){var p=s[h];a==="startX"&&p>=u||a==="endX"&&p<=l||this.setState(ys({},a,p),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,a=r.x,i=r.y,o=r.width,s=r.height,l=r.fill,u=r.stroke;return le.createElement("rect",{stroke:u,fill:l,x:a,y:i,width:o,height:s})}},{key:"renderPanorama",value:function(){var r=this.props,a=r.x,i=r.y,o=r.width,s=r.height,l=r.data,u=r.children,d=r.padding,f=E.Children.only(u);return f?le.cloneElement(f,{x:a,y:i,width:o,height:s,margin:d,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,a){var i,o,s=this,l=this.props,u=l.y,d=l.travellerWidth,f=l.height,h=l.traveller,p=l.ariaLabel,m=l.data,g=l.startIndex,y=l.endIndex,x=Math.max(r,this.props.x),b=JD(JD({},Bn(this.props,!1)),{},{x,y:u,width:d,height:f}),w=p||"Min value: ".concat((i=m[g])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=m[y])===null||o===void 0?void 0:o.name);return le.createElement(Fa,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),s.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,a))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,b))}},{key:"renderSlide",value:function(r,a){var i=this.props,o=i.y,s=i.height,l=i.stroke,u=i.travellerWidth,d=Math.min(r,a)+u,f=Math.max(Math.abs(a-r)-u,0);return le.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:d,y:o,width:f,height:s})}},{key:"renderText",value:function(){var r=this.props,a=r.startIndex,i=r.endIndex,o=r.y,s=r.height,l=r.travellerWidth,u=r.stroke,d=this.state,f=d.startX,h=d.endX,p=5,m={pointerEvents:"none",fill:u};return le.createElement(Fa,{className:"recharts-brush-texts"},le.createElement(C0,fk({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:o+s/2},m),this.getTextOfTick(a)),le.createElement(C0,fk({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+p,y:o+s/2},m),this.getTextOfTick(i)))}},{key:"render",value:function(){var r=this.props,a=r.data,i=r.className,o=r.children,s=r.x,l=r.y,u=r.width,d=r.height,f=r.alwaysShowText,h=this.state,p=h.startX,m=h.endX,g=h.isTextActive,y=h.isSlideMoving,x=h.isTravellerMoving,b=h.isTravellerFocused;if(!a||!a.length||!Xt(s)||!Xt(l)||!Xt(u)||!Xt(d)||u<=0||d<=0)return null;var w=Tt("recharts-brush",i),_=le.Children.count(o)===1,S=RCt("userSelect","none");return le.createElement(Fa,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),_&&this.renderPanorama(),this.renderSlide(p,m),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(m,"endX"),(g||y||x||b||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var a=r.x,i=r.y,o=r.width,s=r.height,l=r.stroke,u=Math.floor(i+s/2)-1;return le.createElement(le.Fragment,null,le.createElement("rect",{x:a,y:i,width:o,height:s,fill:l,stroke:"none"}),le.createElement("line",{x1:a+1,y1:u,x2:a+o-1,y2:u,fill:"none",stroke:"#fff"}),le.createElement("line",{x1:a+1,y1:u+2,x2:a+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,a){var i;return le.isValidElement(r)?i=le.cloneElement(r,a):zn(r)?i=r(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(r,a){var i=r.data,o=r.width,s=r.x,l=r.travellerWidth,u=r.updateId,d=r.startIndex,f=r.endIndex;if(i!==a.prevData||u!==a.prevUpdateId)return JD({prevData:i,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:o},i&&i.length?VCt({data:i,width:o,x:s,travellerWidth:l,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||s!==a.prevX||l!==a.prevTravellerWidth)){a.scale.range([s,s+o-l]);var h=a.scale.domain().map(function(p){return a.scale(p)});return{prevData:i,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:o,startX:a.scale(r.startIndex),endX:a.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,a){for(var i=r.length,o=0,s=i-1;s-o>1;){var l=Math.floor((o+s)/2);r[l]>a?s=l:o=l}return a>=r[s]?s:o}}])}(E.PureComponent);ys(I0,"displayName","Brush");ys(I0,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var HCt=s8;function qCt(e,t){var n;return HCt(e,function(r,a,i){return n=t(r,a,i),!n}),!!n}var GCt=qCt,YCt=Rfe,KCt=Fh,XCt=GCt,ZCt=ps,QCt=sP;function JCt(e,t,n){var r=ZCt(e)?YCt:XCt;return n&&QCt(e,t,n)&&(t=void 0),r(e,KCt(t))}var eEt=JCt;const tEt=sr(eEt);var Nu=function(t,n){var r=t.alwaysShow,a=t.ifOverflow;return r&&(a="extendDomain"),a===n},GZ=rhe;function nEt(e,t,n){t=="__proto__"&&GZ?GZ(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var rEt=nEt,aEt=rEt,iEt=the,oEt=Fh;function sEt(e,t){var n={};return t=oEt(t),iEt(e,function(r,a,i){aEt(n,a,t(r,a,i))}),n}var lEt=sEt;const cEt=sr(lEt);function uEt(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}var dEt=uEt,fEt=s8;function hEt(e,t){var n=!0;return fEt(e,function(r,a,i){return n=!!t(r,a,i),n}),n}var pEt=hEt,mEt=dEt,gEt=pEt,vEt=Fh,yEt=ps,xEt=sP;function bEt(e,t,n){var r=yEt(e)?mEt:gEt;return n&&xEt(e,t,n)&&(t=void 0),r(e,vEt(t))}var wEt=bEt;const _Et=sr(wEt);function Ew(e){"@babel/helpers - typeof";return Ew=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ew(e)}function SEt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function YZ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Fpe(r.key),r)}}function CEt(e,t,n){return t&&YZ(e.prototype,t),n&&YZ(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function KZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function _S(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KZ(Object(n),!0).forEach(function(r){$8(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KZ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $8(e,t,n){return t=Fpe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fpe(e){var t=EEt(e,"string");return Ew(t)=="symbol"?t:t+""}function EEt(e,t){if(Ew(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ew(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Lpe=function(t,n){var r=t.x,a=t.y,i=n.x,o=n.y;return{x:Math.min(r,i),y:Math.min(a,o),width:Math.abs(i-r),height:Math.abs(o-a)}},NEt=function(t){var n=t.x1,r=t.y1,a=t.x2,i=t.y2;return Lpe({x:n,y:r},{x:a,y:i})},$pe=function(){function e(t){SEt(this,e),this.scale=t}return CEt(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=r.bandAware,i=r.position;if(n!==void 0){if(i)switch(i){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(n)+s}default:return this.scale(n)}if(a){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),a=r[0],i=r[r.length-1];return a<=i?n>=a&&n<=i:n>=i&&n<=a}}],[{key:"create",value:function(n){return new e(n)}}])}();$8($pe,"EPS",1e-4);var B8=function(t){var n=Object.keys(t).reduce(function(r,a){return _S(_S({},r),{},$8({},a,$pe.create(t[a])))},{});return _S(_S({},n),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,s=i.position;return cEt(a,function(l,u){return n[u].apply(l,{bandAware:o,position:s})})},isInRange:function(a){return _Et(a,function(i,o){return n[o].isInRange(i)})}})},kEt=vot(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),Bpe=E.createContext(void 0),zpe=E.createContext(void 0),Upe=E.createContext(void 0),jEt=E.createContext({}),Wpe=E.createContext(void 0),TEt=E.createContext(0),PEt=E.createContext(0),XZ=function(t){var n=t.state,r=n.xAxisMap,a=n.yAxisMap,i=n.offset,o=t.clipPathId,s=t.children,l=t.width,u=t.height,d=kEt(i);return le.createElement(Bpe.Provider,{value:r},le.createElement(zpe.Provider,{value:a},le.createElement(jEt.Provider,{value:i},le.createElement(Upe.Provider,{value:d},le.createElement(Wpe.Provider,{value:o},le.createElement(TEt.Provider,{value:u},le.createElement(PEt.Provider,{value:l},s)))))))},AEt=function(){return E.useContext(Wpe)},DEt=function(t){var n=E.useContext(Bpe);n==null&&j0();var r=n[t];return r==null&&j0(),r},OEt=function(t){var n=E.useContext(zpe);n==null&&j0();var r=n[t];return r==null&&j0(),r},MEt=function(){var t=E.useContext(Upe);return t};function R0(e){"@babel/helpers - typeof";return R0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},R0(e)}function IEt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function REt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Hpe(r.key),r)}}function FEt(e,t,n){return t&&REt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function LEt(e,t,n){return t=pk(t),$Et(e,Vpe()?Reflect.construct(t,n||[],pk(e).constructor):t.apply(e,n))}function $Et(e,t){if(t&&(R0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return BEt(e)}function BEt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vpe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Vpe=function(){return!!e})()}function pk(e){return pk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},pk(e)}function zEt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&AR(e,t)}function AR(e,t){return AR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},AR(e,t)}function ZZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function QZ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZZ(Object(n),!0).forEach(function(r){z8(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZZ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function z8(e,t,n){return t=Hpe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hpe(e){var t=UEt(e,"string");return R0(t)=="symbol"?t:t+""}function UEt(e,t){if(R0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(R0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function WEt(e,t){return GEt(e)||qEt(e,t)||HEt(e,t)||VEt()}function VEt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HEt(e,t){if(e){if(typeof e=="string")return JZ(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return JZ(e,t)}}function JZ(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function qEt(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,s=[],l=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function GEt(e){if(Array.isArray(e))return e}function DR(){return DR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},DR.apply(this,arguments)}var YEt=function(t,n){var r;return le.isValidElement(t)?r=le.cloneElement(t,n):zn(t)?r=t(n):r=le.createElement("line",DR({},n,{className:"recharts-reference-line-line"})),r},KEt=function(t,n,r,a,i,o,s,l,u){var d=i.x,f=i.y,h=i.width,p=i.height;if(r){var m=u.y,g=t.y.apply(m,{position:o});if(Nu(u,"discard")&&!t.y.isInRange(g))return null;var y=[{x:d+h,y:g},{x:d,y:g}];return l==="left"?y.reverse():y}if(n){var x=u.x,b=t.x.apply(x,{position:o});if(Nu(u,"discard")&&!t.x.isInRange(b))return null;var w=[{x:b,y:f+p},{x:b,y:f}];return s==="top"?w.reverse():w}if(a){var _=u.segment,S=_.map(function(k){return t.apply(k,{position:o})});return Nu(u,"discard")&&tEt(S,function(k){return!t.isInRange(k)})?null:S}return null};function XEt(e){var t=e.x,n=e.y,r=e.segment,a=e.xAxisId,i=e.yAxisId,o=e.shape,s=e.className,l=e.alwaysShow,u=AEt(),d=DEt(a),f=OEt(i),h=MEt();if(!u||!h)return null;y0(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=B8({x:d.scale,y:f.scale}),m=fi(t),g=fi(n),y=r&&r.length===2,x=KEt(p,m,g,y,h,e.position,d.orientation,f.orientation,e);if(!x)return null;var b=WEt(x,2),w=b[0],_=w.x,S=w.y,k=b[1],N=k.x,P=k.y,T=Nu(e,"hidden")?"url(#".concat(u,")"):void 0,j=QZ(QZ({clipPath:T},Bn(e,!0)),{},{x1:_,y1:S,x2:N,y2:P});return le.createElement(Fa,{className:Tt("recharts-reference-line",s)},YEt(o,j),Yi.renderCallByParent(e,NEt({x1:_,y1:S,x2:N,y2:P})))}var U8=function(e){function t(){return IEt(this,t),LEt(this,t,arguments)}return zEt(t,e),FEt(t,[{key:"render",value:function(){return le.createElement(XEt,this.props)}}])}(le.Component);z8(U8,"displayName","ReferenceLine");z8(U8,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function OR(){return OR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},OR.apply(this,arguments)}function F0(e){"@babel/helpers - typeof";return F0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},F0(e)}function eQ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function tQ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eQ(Object(n),!0).forEach(function(r){NP(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eQ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ZEt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function QEt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Gpe(r.key),r)}}function JEt(e,t,n){return t&&QEt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function eNt(e,t,n){return t=mk(t),tNt(e,qpe()?Reflect.construct(t,n||[],mk(e).constructor):t.apply(e,n))}function tNt(e,t){if(t&&(F0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nNt(e)}function nNt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qpe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qpe=function(){return!!e})()}function mk(e){return mk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},mk(e)}function rNt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&MR(e,t)}function MR(e,t){return MR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},MR(e,t)}function NP(e,t,n){return t=Gpe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gpe(e){var t=aNt(e,"string");return F0(t)=="symbol"?t:t+""}function aNt(e,t){if(F0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(F0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var iNt=function(t){var n=t.x,r=t.y,a=t.xAxis,i=t.yAxis,o=B8({x:a.scale,y:i.scale}),s=o.apply({x:n,y:r},{bandAware:!0});return Nu(t,"discard")&&!o.isInRange(s)?null:s},kP=function(e){function t(){return ZEt(this,t),eNt(this,t,arguments)}return rNt(t,e),JEt(t,[{key:"render",value:function(){var r=this.props,a=r.x,i=r.y,o=r.r,s=r.alwaysShow,l=r.clipPathId,u=fi(a),d=fi(i);if(y0(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=iNt(this.props);if(!f)return null;var h=f.x,p=f.y,m=this.props,g=m.shape,y=m.className,x=Nu(this.props,"hidden")?"url(#".concat(l,")"):void 0,b=tQ(tQ({clipPath:x},Bn(this.props,!0)),{},{cx:h,cy:p});return le.createElement(Fa,{className:Tt("recharts-reference-dot",y)},t.renderDot(g,b),Yi.renderCallByParent(this.props,{x:h-o,y:p-o,width:2*o,height:2*o}))}}])}(le.Component);NP(kP,"displayName","ReferenceDot");NP(kP,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});NP(kP,"renderDot",function(e,t){var n;return le.isValidElement(e)?n=le.cloneElement(e,t):zn(e)?n=e(t):n=le.createElement(L8,OR({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),n});function IR(){return IR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},IR.apply(this,arguments)}function L0(e){"@babel/helpers - typeof";return L0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},L0(e)}function nQ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function rQ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nQ(Object(n),!0).forEach(function(r){jP(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nQ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function oNt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sNt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Kpe(r.key),r)}}function lNt(e,t,n){return t&&sNt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function cNt(e,t,n){return t=gk(t),uNt(e,Ype()?Reflect.construct(t,n||[],gk(e).constructor):t.apply(e,n))}function uNt(e,t){if(t&&(L0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dNt(e)}function dNt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ype(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ype=function(){return!!e})()}function gk(e){return gk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gk(e)}function fNt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&RR(e,t)}function RR(e,t){return RR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},RR(e,t)}function jP(e,t,n){return t=Kpe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kpe(e){var t=hNt(e,"string");return L0(t)=="symbol"?t:t+""}function hNt(e,t){if(L0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(L0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var pNt=function(t,n,r,a,i){var o=i.x1,s=i.x2,l=i.y1,u=i.y2,d=i.xAxis,f=i.yAxis;if(!d||!f)return null;var h=B8({x:d.scale,y:f.scale}),p={x:t?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(l,{position:"start"}):h.y.rangeMin},m={x:n?h.x.apply(s,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(u,{position:"end"}):h.y.rangeMax};return Nu(i,"discard")&&(!h.isInRange(p)||!h.isInRange(m))?null:Lpe(p,m)},TP=function(e){function t(){return oNt(this,t),cNt(this,t,arguments)}return fNt(t,e),lNt(t,[{key:"render",value:function(){var r=this.props,a=r.x1,i=r.x2,o=r.y1,s=r.y2,l=r.className,u=r.alwaysShow,d=r.clipPathId;y0(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=fi(a),h=fi(i),p=fi(o),m=fi(s),g=this.props.shape;if(!f&&!h&&!p&&!m&&!g)return null;var y=pNt(f,h,p,m,this.props);if(!y&&!g)return null;var x=Nu(this.props,"hidden")?"url(#".concat(d,")"):void 0;return le.createElement(Fa,{className:Tt("recharts-reference-area",l)},t.renderRect(g,rQ(rQ({clipPath:x},Bn(this.props,!0)),y)),Yi.renderCallByParent(this.props,y))}}])}(le.Component);jP(TP,"displayName","ReferenceArea");jP(TP,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});jP(TP,"renderRect",function(e,t){var n;return le.isValidElement(e)?n=le.cloneElement(e,t):zn(e)?n=e(t):n=le.createElement(F8,IR({},t,{className:"recharts-reference-area-rect"})),n});function aQ(e){return yNt(e)||vNt(e)||gNt(e)||mNt()}function mNt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gNt(e,t){if(e){if(typeof e=="string")return FR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return FR(e,t)}}function vNt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function yNt(e){if(Array.isArray(e))return FR(e)}function FR(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var LR=function(t,n,r,a,i){var o=Cu(t,U8),s=Cu(t,kP),l=[].concat(aQ(o),aQ(s)),u=Cu(t,TP),d="".concat(a,"Id"),f=a[0],h=n;if(l.length&&(h=l.reduce(function(g,y){if(y.props[d]===r&&Nu(y.props,"extendDomain")&&Xt(y.props[f])){var x=y.props[f];return[Math.min(g[0],x),Math.max(g[1],x)]}return g},h)),u.length){var p="".concat(f,"1"),m="".concat(f,"2");h=u.reduce(function(g,y){if(y.props[d]===r&&Nu(y.props,"extendDomain")&&Xt(y.props[p])&&Xt(y.props[m])){var x=y.props[p],b=y.props[m];return[Math.min(g[0],x,b),Math.max(g[1],x,b)]}return g},h)}return i&&i.length&&(h=i.reduce(function(g,y){return Xt(y)?[Math.min(g[0],y),Math.max(g[1],y)]:g},h)),h},Xpe={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function a(l,u,d){this.fn=l,this.context=u,this.once=d||!1}function i(l,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new a(d,f||l,h),m=n?n+u:u;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],p]:l._events[m].push(p):(l._events[m]=p,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},s.prototype.listeners=function(u){var d=n?n+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,m=new Array(p);h<p;h++)m[h]=f[h].fn;return m},s.prototype.listenerCount=function(u){var d=n?n+u:u,f=this._events[d];return f?f.fn?1:f.length:0},s.prototype.emit=function(u,d,f,h,p,m){var g=n?n+u:u;if(!this._events[g])return!1;var y=this._events[g],x=arguments.length,b,w;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),x){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,d),!0;case 3:return y.fn.call(y.context,d,f),!0;case 4:return y.fn.call(y.context,d,f,h),!0;case 5:return y.fn.call(y.context,d,f,h,p),!0;case 6:return y.fn.call(y.context,d,f,h,p,m),!0}for(w=1,b=new Array(x-1);w<x;w++)b[w-1]=arguments[w];y.fn.apply(y.context,b)}else{var _=y.length,S;for(w=0;w<_;w++)switch(y[w].once&&this.removeListener(u,y[w].fn,void 0,!0),x){case 1:y[w].fn.call(y[w].context);break;case 2:y[w].fn.call(y[w].context,d);break;case 3:y[w].fn.call(y[w].context,d,f);break;case 4:y[w].fn.call(y[w].context,d,f,h);break;default:if(!b)for(S=1,b=new Array(x-1);S<x;S++)b[S-1]=arguments[S];y[w].fn.apply(y[w].context,b)}}return!0},s.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},s.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},s.prototype.removeListener=function(u,d,f,h){var p=n?n+u:u;if(!this._events[p])return this;if(!d)return o(this,p),this;var m=this._events[p];if(m.fn)m.fn===d&&(!h||m.once)&&(!f||m.context===f)&&o(this,p);else{for(var g=0,y=[],x=m.length;g<x;g++)(m[g].fn!==d||h&&!m[g].once||f&&m[g].context!==f)&&y.push(m[g]);y.length?this._events[p]=y.length===1?y[0]:y:o(this,p)}return this},s.prototype.removeAllListeners=function(u){var d;return u?(d=n?n+u:u,this._events[d]&&o(this,d)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s})(Xpe);var xNt=Xpe.exports;const bNt=sr(xNt);var eO=new bNt,tO="recharts.syncMouseEvents";function Nw(e){"@babel/helpers - typeof";return Nw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nw(e)}function wNt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _Nt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Zpe(r.key),r)}}function SNt(e,t,n){return t&&_Nt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function nO(e,t,n){return t=Zpe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zpe(e){var t=CNt(e,"string");return Nw(t)=="symbol"?t:t+""}function CNt(e,t){if(Nw(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Nw(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ENt=function(){function e(){wNt(this,e),nO(this,"activeIndex",0),nO(this,"coordinateList",[]),nO(this,"layout","horizontal")}return SNt(e,[{key:"setDetails",value:function(n){var r,a=n.coordinateList,i=a===void 0?null:a,o=n.container,s=o===void 0?null:o,l=n.layout,u=l===void 0?null:l,d=n.offset,f=d===void 0?null:d,h=n.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(r=i??this.coordinateList)!==null&&r!==void 0?r:[],this.container=s??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,o=a.y,s=a.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,d=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=i+l+u,h=o+this.offset.top+s/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function NNt(e,t,n){if(n==="number"&&t===!0&&Array.isArray(e)){var r=e==null?void 0:e[0],a=e==null?void 0:e[1];if(r&&a&&Xt(r)&&Xt(a))return!0}return!1}function kNt(e,t,n,r){var a=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-a,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function Qpe(e){var t=e.cx,n=e.cy,r=e.radius,a=e.startAngle,i=e.endAngle,o=Kr(t,n,r,a),s=Kr(t,n,r,i);return{points:[o,s],cx:t,cy:n,radius:r,startAngle:a,endAngle:i}}function jNt(e,t,n){var r,a,i,o;if(e==="horizontal")r=t.x,i=r,a=n.top,o=n.top+n.height;else if(e==="vertical")a=t.y,o=a,r=n.left,i=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var s=t.cx,l=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,h=Kr(s,l,u,f),p=Kr(s,l,d,f);r=h.x,a=h.y,i=p.x,o=p.y}else return Qpe(t);return[{x:r,y:a},{x:i,y:o}]}function kw(e){"@babel/helpers - typeof";return kw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kw(e)}function iQ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function SS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iQ(Object(n),!0).forEach(function(r){TNt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iQ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function TNt(e,t,n){return t=PNt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function PNt(e){var t=ANt(e,"string");return kw(t)=="symbol"?t:t+""}function ANt(e,t){if(kw(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(kw(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function DNt(e){var t,n,r=e.element,a=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,s=e.activePayload,l=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,p=(t=r.props.cursor)!==null&&t!==void 0?t:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!p||!i||!o||h!=="ScatterChart"&&a!=="axis")return null;var m,g=pR;if(h==="ScatterChart")m=o,g=z_t;else if(h==="BarChart")m=kNt(f,o,l,d),g=F8;else if(f==="radial"){var y=Qpe(o),x=y.cx,b=y.cy,w=y.radius,_=y.startAngle,S=y.endAngle;m={cx:x,cy:b,startAngle:_,endAngle:S,innerRadius:w,outerRadius:w},g=xpe}else m={points:jNt(f,o,l)},g=pR;var k=SS(SS(SS(SS({stroke:"#ccc",pointerEvents:"none"},l),m),Bn(p,!1)),{},{payload:s,payloadIndex:u,className:Tt("recharts-tooltip-cursor",p.className)});return E.isValidElement(p)?E.cloneElement(p,k):E.createElement(g,k)}var ONt=["item"],MNt=["children","className","width","height","style","compact","title","desc"];function $0(e){"@babel/helpers - typeof";return $0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$0(e)}function rv(){return rv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rv.apply(this,arguments)}function oQ(e,t){return FNt(e)||RNt(e,t)||eme(e,t)||INt()}function INt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RNt(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,s=[],l=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function FNt(e){if(Array.isArray(e))return e}function sQ(e,t){if(e==null)return{};var n=LNt(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function LNt(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function $Nt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function BNt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,tme(r.key),r)}}function zNt(e,t,n){return t&&BNt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function UNt(e,t,n){return t=vk(t),WNt(e,Jpe()?Reflect.construct(t,n||[],vk(e).constructor):t.apply(e,n))}function WNt(e,t){if(t&&($0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VNt(e)}function VNt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Jpe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Jpe=function(){return!!e})()}function vk(e){return vk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},vk(e)}function HNt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$R(e,t)}function $R(e,t){return $R=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},$R(e,t)}function B0(e){return YNt(e)||GNt(e)||eme(e)||qNt()}function qNt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eme(e,t){if(e){if(typeof e=="string")return BR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return BR(e,t)}}function GNt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function YNt(e){if(Array.isArray(e))return BR(e)}function BR(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function lQ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ct(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lQ(Object(n),!0).forEach(function(r){vn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lQ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vn(e,t,n){return t=tme(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tme(e){var t=KNt(e,"string");return $0(t)=="symbol"?t:t+""}function KNt(e,t){if($0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if($0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var XNt={xAxis:["bottom","top"],yAxis:["left","right"]},ZNt={width:"100%",height:"100%"},nme={x:0,y:0};function CS(e){return e}var QNt=function(t,n){return n==="horizontal"?t.x:n==="vertical"?t.y:n==="centric"?t.angle:t.radius},JNt=function(t,n,r,a){var i=n.find(function(d){return d&&d.index===r});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,s=a.radius;return ct(ct(ct({},a),Kr(a.cx,a.cy,s,o)),{},{angle:o,radius:s})}var l=i.coordinate,u=a.angle;return ct(ct(ct({},a),Kr(a.cx,a.cy,l,u)),{},{angle:u,radius:l})}return nme},PP=function(t,n){var r=n.graphicalItems,a=n.dataStartIndex,i=n.dataEndIndex,o=(r??[]).reduce(function(s,l){var u=l.props.data;return u&&u.length?[].concat(B0(s),B0(u)):s},[]);return o.length>0?o:t&&t.length&&Xt(a)&&Xt(i)?t.slice(a,i+1):[]};function rme(e){return e==="number"?[0,"auto"]:void 0}var zR=function(t,n,r,a){var i=t.graphicalItems,o=t.tooltipAxis,s=PP(n,t);return r<0||!i||!i.length||r>=s.length?null:i.reduce(function(l,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:n;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=r&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var p=f===void 0?s:f;h=bI(p,o.dataKey,a)}else h=f&&f[r]||s[r];return h?[].concat(B0(l),[Abt(u,h)]):l},[])},cQ=function(t,n,r,a){var i=a||{x:t.chartX,y:t.chartY},o=QNt(i,r),s=t.orderedTooltipTicks,l=t.tooltipAxis,u=t.tooltipTicks,d=mbt(o,s,u,l);if(d>=0&&u){var f=u[d]&&u[d].value,h=zR(t,n,d,f),p=JNt(r,s,d,i);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},ekt=function(t,n){var r=n.axes,a=n.graphicalItems,i=n.axisType,o=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,p=fpe(d,i);return r.reduce(function(m,g){var y,x=g.type.defaultProps!==void 0?ct(ct({},g.type.defaultProps),g.props):g.props,b=x.type,w=x.dataKey,_=x.allowDataOverflow,S=x.allowDuplicatedCategory,k=x.scale,N=x.ticks,P=x.includeHidden,T=x[o];if(m[T])return m;var j=PP(t.data,{graphicalItems:a.filter(function(z){var J,ee=o in z.props?z.props[o]:(J=z.type.defaultProps)===null||J===void 0?void 0:J[o];return ee===T}),dataStartIndex:l,dataEndIndex:u}),D=j.length,M,R,W;NNt(x.domain,_,b)&&(M=lR(x.domain,null,_),p&&(b==="number"||k!=="auto")&&(W=T1(j,w,"category")));var B=rme(b);if(!M||M.length===0){var V,q=(V=x.domain)!==null&&V!==void 0?V:B;if(w){if(M=T1(j,w,b),b==="category"&&p){var I=fst(M);S&&I?(R=M,M=dk(0,D)):S||(M=WX(q,M,g).reduce(function(z,J){return z.indexOf(J)>=0?z:[].concat(B0(z),[J])},[]))}else if(b==="category")S?M=M.filter(function(z){return z!==""&&!er(z)}):M=WX(q,M,g).reduce(function(z,J){return z.indexOf(J)>=0||J===""||er(J)?z:[].concat(B0(z),[J])},[]);else if(b==="number"){var O=bbt(j,a.filter(function(z){var J,ee,G=o in z.props?z.props[o]:(J=z.type.defaultProps)===null||J===void 0?void 0:J[o],Z="hide"in z.props?z.props.hide:(ee=z.type.defaultProps)===null||ee===void 0?void 0:ee.hide;return G===T&&(P||!Z)}),w,i,d);O&&(M=O)}p&&(b==="number"||k!=="auto")&&(W=T1(j,w,"category"))}else p?M=dk(0,D):s&&s[T]&&s[T].hasStack&&b==="number"?M=h==="expand"?[0,1]:hpe(s[T].stackGroups,l,u):M=dpe(j,a.filter(function(z){var J=o in z.props?z.props[o]:z.type.defaultProps[o],ee="hide"in z.props?z.props.hide:z.type.defaultProps.hide;return J===T&&(P||!ee)}),b,d,!0);if(b==="number")M=LR(f,M,T,i,N),q&&(M=lR(q,M,_));else if(b==="category"&&q){var H=q,ne=M.every(function(z){return H.indexOf(z)>=0});ne&&(M=H)}}return ct(ct({},m),{},vn({},T,ct(ct({},x),{},{axisType:i,domain:M,categoricalDomain:W,duplicateDomain:R,originalDomain:(y=x.domain)!==null&&y!==void 0?y:B,isCategorical:p,layout:d})))},{})},tkt=function(t,n){var r=n.graphicalItems,a=n.Axis,i=n.axisType,o=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,d=t.layout,f=t.children,h=PP(t.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),p=h.length,m=fpe(d,i),g=-1;return r.reduce(function(y,x){var b=x.type.defaultProps!==void 0?ct(ct({},x.type.defaultProps),x.props):x.props,w=b[o],_=rme("number");if(!y[w]){g++;var S;return m?S=dk(0,p):s&&s[w]&&s[w].hasStack?(S=hpe(s[w].stackGroups,l,u),S=LR(f,S,w,i)):(S=lR(_,dpe(h,r.filter(function(k){var N,P,T=o in k.props?k.props[o]:(N=k.type.defaultProps)===null||N===void 0?void 0:N[o],j="hide"in k.props?k.props.hide:(P=k.type.defaultProps)===null||P===void 0?void 0:P.hide;return T===w&&!j}),"number",d),a.defaultProps.allowDataOverflow),S=LR(f,S,w,i)),ct(ct({},y),{},vn({},w,ct(ct({axisType:i},a.defaultProps),{},{hide:!0,orientation:yc(XNt,"".concat(i,".").concat(g%2),null),domain:S,originalDomain:_,isCategorical:m,layout:d})))}return y},{})},nkt=function(t,n){var r=n.axisType,a=r===void 0?"xAxis":r,i=n.AxisComp,o=n.graphicalItems,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,d=t.children,f="".concat(a,"Id"),h=Cu(d,i),p={};return h&&h.length?p=ekt(t,{axes:h,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u}):o&&o.length&&(p=tkt(t,{Axis:i,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u})),p},rkt=function(t){var n=Tg(t),r=Rx(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:l8(r,function(a){return a.coordinate}),tooltipAxis:n,tooltipAxisBandSize:cR(n,r)}},uQ=function(t){var n=t.children,r=t.defaultShowTooltip,a=ul(n,I0),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},akt=function(t){return!t||!t.length?!1:t.some(function(n){var r=ih(n&&n.type);return r&&r.indexOf("Bar")>=0})},dQ=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},ikt=function(t,n){var r=t.props,a=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,s=t.yAxisMap,l=s===void 0?{}:s,u=r.width,d=r.height,f=r.children,h=r.margin||{},p=ul(f,I0),m=ul(f,tm),g=Object.keys(l).reduce(function(S,k){var N=l[k],P=N.orientation;return!N.mirror&&!N.hide?ct(ct({},S),{},vn({},P,S[P]+N.width)):S},{left:h.left||0,right:h.right||0}),y=Object.keys(o).reduce(function(S,k){var N=o[k],P=N.orientation;return!N.mirror&&!N.hide?ct(ct({},S),{},vn({},P,yc(S,"".concat(P))+N.height)):S},{top:h.top||0,bottom:h.bottom||0}),x=ct(ct({},y),g),b=x.bottom;p&&(x.bottom+=p.props.height||I0.defaultProps.height),m&&n&&(x=ybt(x,a,r,n));var w=u-x.left-x.right,_=d-x.top-x.bottom;return ct(ct({brushBottom:b},x),{},{width:Math.max(w,0),height:Math.max(_,0)})},okt=function(t,n){if(n==="xAxis")return t[n].width;if(n==="yAxis")return t[n].height},skt=function(t){var n=t.chartName,r=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,o=t.validateTooltipEventTypes,s=o===void 0?["axis"]:o,l=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(x,b){var w=b.graphicalItems,_=b.stackGroups,S=b.offset,k=b.updateId,N=b.dataStartIndex,P=b.dataEndIndex,T=x.barSize,j=x.layout,D=x.barGap,M=x.barCategoryGap,R=x.maxBarSize,W=dQ(j),B=W.numericAxisName,V=W.cateAxisName,q=akt(w),I=[];return w.forEach(function(O,H){var ne=PP(x.data,{graphicalItems:[O],dataStartIndex:N,dataEndIndex:P}),z=O.type.defaultProps!==void 0?ct(ct({},O.type.defaultProps),O.props):O.props,J=z.dataKey,ee=z.maxBarSize,G=z["".concat(B,"Id")],Z=z["".concat(V,"Id")],se={},ae=l.reduce(function(We,Me){var ze=b["".concat(Me.axisType,"Map")],He=z["".concat(Me.axisType,"Id")];ze&&ze[He]||Me.axisType==="zAxis"||j0();var dt=ze[He];return ct(ct({},We),{},vn(vn({},Me.axisType,dt),"".concat(Me.axisType,"Ticks"),Rx(dt)))},se),Y=ae[V],X=ae["".concat(V,"Ticks")],K=_&&_[G]&&_[G].hasStack&&Tbt(O,_[G].stackGroups),F=ih(O.type).indexOf("Bar")>=0,re=cR(Y,X),Q=[],oe=q&&gbt({barSize:T,stackGroups:_,totalSize:okt(ae,V)});if(F){var me,be,ye=er(ee)?R:ee,de=(me=(be=cR(Y,X,!0))!==null&&be!==void 0?be:ye)!==null&&me!==void 0?me:0;Q=vbt({barGap:D,barCategoryGap:M,bandSize:de!==re?de:re,sizeList:oe[Z],maxBarSize:ye}),de!==re&&(Q=Q.map(function(We){return ct(ct({},We),{},{position:ct(ct({},We.position),{},{offset:We.position.offset-de/2})})}))}var we=O&&O.type&&O.type.getComposedData;we&&I.push({props:ct(ct({},we(ct(ct({},ae),{},{displayedData:ne,props:x,dataKey:J,item:O,bandSize:re,barPosition:Q,offset:S,stackedData:K,layout:j,dataStartIndex:N,dataEndIndex:P}))),{},vn(vn(vn({key:O.key||"item-".concat(H)},B,ae[B]),V,ae[V]),"animationId",k)),childIndex:Sst(O,x.children),item:O})}),I},p=function(x,b){var w=x.props,_=x.dataStartIndex,S=x.dataEndIndex,k=x.updateId;if(!$Y({props:w}))return null;var N=w.children,P=w.layout,T=w.stackOffset,j=w.data,D=w.reverseStackOrder,M=dQ(P),R=M.numericAxisName,W=M.cateAxisName,B=Cu(N,r),V=kbt(j,B,"".concat(R,"Id"),"".concat(W,"Id"),T,D),q=l.reduce(function(z,J){var ee="".concat(J.axisType,"Map");return ct(ct({},z),{},vn({},ee,nkt(w,ct(ct({},J),{},{graphicalItems:B,stackGroups:J.axisType===R&&V,dataStartIndex:_,dataEndIndex:S}))))},{}),I=ikt(ct(ct({},q),{},{props:w,graphicalItems:B}),b==null?void 0:b.legendBBox);Object.keys(q).forEach(function(z){q[z]=d(w,q[z],I,z.replace("Map",""),n)});var O=q["".concat(W,"Map")],H=rkt(O),ne=h(w,ct(ct({},q),{},{dataStartIndex:_,dataEndIndex:S,updateId:k,graphicalItems:B,stackGroups:V,offset:I}));return ct(ct({formattedGraphicalItems:ne,graphicalItems:B,offset:I,stackGroups:V},H),q)},m=function(y){function x(b){var w,_,S;return $Nt(this,x),S=UNt(this,x,[b]),vn(S,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),vn(S,"accessibilityManager",new ENt),vn(S,"handleLegendBBoxUpdate",function(k){if(k){var N=S.state,P=N.dataStartIndex,T=N.dataEndIndex,j=N.updateId;S.setState(ct({legendBBox:k},p({props:S.props,dataStartIndex:P,dataEndIndex:T,updateId:j},ct(ct({},S.state),{},{legendBBox:k}))))}}),vn(S,"handleReceiveSyncEvent",function(k,N,P){if(S.props.syncId===k){if(P===S.eventEmitterSymbol&&typeof S.props.syncMethod!="function")return;S.applySyncEvent(N)}}),vn(S,"handleBrushChange",function(k){var N=k.startIndex,P=k.endIndex;if(N!==S.state.dataStartIndex||P!==S.state.dataEndIndex){var T=S.state.updateId;S.setState(function(){return ct({dataStartIndex:N,dataEndIndex:P},p({props:S.props,dataStartIndex:N,dataEndIndex:P,updateId:T},S.state))}),S.triggerSyncEvent({dataStartIndex:N,dataEndIndex:P})}}),vn(S,"handleMouseEnter",function(k){var N=S.getMouseInfo(k);if(N){var P=ct(ct({},N),{},{isTooltipActive:!0});S.setState(P),S.triggerSyncEvent(P);var T=S.props.onMouseEnter;zn(T)&&T(P,k)}}),vn(S,"triggeredAfterMouseMove",function(k){var N=S.getMouseInfo(k),P=N?ct(ct({},N),{},{isTooltipActive:!0}):{isTooltipActive:!1};S.setState(P),S.triggerSyncEvent(P);var T=S.props.onMouseMove;zn(T)&&T(P,k)}),vn(S,"handleItemMouseEnter",function(k){S.setState(function(){return{isTooltipActive:!0,activeItem:k,activePayload:k.tooltipPayload,activeCoordinate:k.tooltipPosition||{x:k.cx,y:k.cy}}})}),vn(S,"handleItemMouseLeave",function(){S.setState(function(){return{isTooltipActive:!1}})}),vn(S,"handleMouseMove",function(k){k.persist(),S.throttleTriggeredAfterMouseMove(k)}),vn(S,"handleMouseLeave",function(k){S.throttleTriggeredAfterMouseMove.cancel();var N={isTooltipActive:!1};S.setState(N),S.triggerSyncEvent(N);var P=S.props.onMouseLeave;zn(P)&&P(N,k)}),vn(S,"handleOuterEvent",function(k){var N=_st(k),P=yc(S.props,"".concat(N));if(N&&zn(P)){var T,j;/.*touch.*/i.test(N)?j=S.getMouseInfo(k.changedTouches[0]):j=S.getMouseInfo(k),P((T=j)!==null&&T!==void 0?T:{},k)}}),vn(S,"handleClick",function(k){var N=S.getMouseInfo(k);if(N){var P=ct(ct({},N),{},{isTooltipActive:!0});S.setState(P),S.triggerSyncEvent(P);var T=S.props.onClick;zn(T)&&T(P,k)}}),vn(S,"handleMouseDown",function(k){var N=S.props.onMouseDown;if(zn(N)){var P=S.getMouseInfo(k);N(P,k)}}),vn(S,"handleMouseUp",function(k){var N=S.props.onMouseUp;if(zn(N)){var P=S.getMouseInfo(k);N(P,k)}}),vn(S,"handleTouchMove",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&S.throttleTriggeredAfterMouseMove(k.changedTouches[0])}),vn(S,"handleTouchStart",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&S.handleMouseDown(k.changedTouches[0])}),vn(S,"handleTouchEnd",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&S.handleMouseUp(k.changedTouches[0])}),vn(S,"handleDoubleClick",function(k){var N=S.props.onDoubleClick;if(zn(N)){var P=S.getMouseInfo(k);N(P,k)}}),vn(S,"handleContextMenu",function(k){var N=S.props.onContextMenu;if(zn(N)){var P=S.getMouseInfo(k);N(P,k)}}),vn(S,"triggerSyncEvent",function(k){S.props.syncId!==void 0&&eO.emit(tO,S.props.syncId,k,S.eventEmitterSymbol)}),vn(S,"applySyncEvent",function(k){var N=S.props,P=N.layout,T=N.syncMethod,j=S.state.updateId,D=k.dataStartIndex,M=k.dataEndIndex;if(k.dataStartIndex!==void 0||k.dataEndIndex!==void 0)S.setState(ct({dataStartIndex:D,dataEndIndex:M},p({props:S.props,dataStartIndex:D,dataEndIndex:M,updateId:j},S.state)));else if(k.activeTooltipIndex!==void 0){var R=k.chartX,W=k.chartY,B=k.activeTooltipIndex,V=S.state,q=V.offset,I=V.tooltipTicks;if(!q)return;if(typeof T=="function")B=T(I,k);else if(T==="value"){B=-1;for(var O=0;O<I.length;O++)if(I[O].value===k.activeLabel){B=O;break}}var H=ct(ct({},q),{},{x:q.left,y:q.top}),ne=Math.min(R,H.x+H.width),z=Math.min(W,H.y+H.height),J=I[B]&&I[B].value,ee=zR(S.state,S.props.data,B),G=I[B]?{x:P==="horizontal"?I[B].coordinate:ne,y:P==="horizontal"?z:I[B].coordinate}:nme;S.setState(ct(ct({},k),{},{activeLabel:J,activeCoordinate:G,activePayload:ee,activeTooltipIndex:B}))}else S.setState(k)}),vn(S,"renderCursor",function(k){var N,P=S.state,T=P.isTooltipActive,j=P.activeCoordinate,D=P.activePayload,M=P.offset,R=P.activeTooltipIndex,W=P.tooltipAxisBandSize,B=S.getTooltipEventType(),V=(N=k.props.active)!==null&&N!==void 0?N:T,q=S.props.layout,I=k.key||"_recharts-cursor";return le.createElement(DNt,{key:I,activeCoordinate:j,activePayload:D,activeTooltipIndex:R,chartName:n,element:k,isActive:V,layout:q,offset:M,tooltipAxisBandSize:W,tooltipEventType:B})}),vn(S,"renderPolarAxis",function(k,N,P){var T=yc(k,"type.axisType"),j=yc(S.state,"".concat(T,"Map")),D=k.type.defaultProps,M=D!==void 0?ct(ct({},D),k.props):k.props,R=j&&j[M["".concat(T,"Id")]];return E.cloneElement(k,ct(ct({},R),{},{className:Tt(T,R.className),key:k.key||"".concat(N,"-").concat(P),ticks:Rx(R,!0)}))}),vn(S,"renderPolarGrid",function(k){var N=k.props,P=N.radialLines,T=N.polarAngles,j=N.polarRadius,D=S.state,M=D.radiusAxisMap,R=D.angleAxisMap,W=Tg(M),B=Tg(R),V=B.cx,q=B.cy,I=B.innerRadius,O=B.outerRadius;return E.cloneElement(k,{polarAngles:Array.isArray(T)?T:Rx(B,!0).map(function(H){return H.coordinate}),polarRadius:Array.isArray(j)?j:Rx(W,!0).map(function(H){return H.coordinate}),cx:V,cy:q,innerRadius:I,outerRadius:O,key:k.key||"polar-grid",radialLines:P})}),vn(S,"renderLegend",function(){var k=S.state.formattedGraphicalItems,N=S.props,P=N.children,T=N.width,j=N.height,D=S.props.margin||{},M=T-(D.left||0)-(D.right||0),R=cpe({children:P,formattedGraphicalItems:k,legendWidth:M,legendContent:u});if(!R)return null;var W=R.item,B=sQ(R,ONt);return E.cloneElement(W,ct(ct({},B),{},{chartWidth:T,chartHeight:j,margin:D,onBBoxUpdate:S.handleLegendBBoxUpdate}))}),vn(S,"renderTooltip",function(){var k,N=S.props,P=N.children,T=N.accessibilityLayer,j=ul(P,rc);if(!j)return null;var D=S.state,M=D.isTooltipActive,R=D.activeCoordinate,W=D.activePayload,B=D.activeLabel,V=D.offset,q=(k=j.props.active)!==null&&k!==void 0?k:M;return E.cloneElement(j,{viewBox:ct(ct({},V),{},{x:V.left,y:V.top}),active:q,label:B,payload:q?W:[],coordinate:R,accessibilityLayer:T})}),vn(S,"renderBrush",function(k){var N=S.props,P=N.margin,T=N.data,j=S.state,D=j.offset,M=j.dataStartIndex,R=j.dataEndIndex,W=j.updateId;return E.cloneElement(k,{key:k.key||"_recharts-brush",onChange:yS(S.handleBrushChange,k.props.onChange),data:T,x:Xt(k.props.x)?k.props.x:D.left,y:Xt(k.props.y)?k.props.y:D.top+D.height+D.brushBottom-(P.bottom||0),width:Xt(k.props.width)?k.props.width:D.width,startIndex:M,endIndex:R,updateId:"brush-".concat(W)})}),vn(S,"renderReferenceElement",function(k,N,P){if(!k)return null;var T=S,j=T.clipPathId,D=S.state,M=D.xAxisMap,R=D.yAxisMap,W=D.offset,B=k.type.defaultProps||{},V=k.props,q=V.xAxisId,I=q===void 0?B.xAxisId:q,O=V.yAxisId,H=O===void 0?B.yAxisId:O;return E.cloneElement(k,{key:k.key||"".concat(N,"-").concat(P),xAxis:M[I],yAxis:R[H],viewBox:{x:W.left,y:W.top,width:W.width,height:W.height},clipPathId:j})}),vn(S,"renderActivePoints",function(k){var N=k.item,P=k.activePoint,T=k.basePoint,j=k.childIndex,D=k.isRange,M=[],R=N.props.key,W=N.item.type.defaultProps!==void 0?ct(ct({},N.item.type.defaultProps),N.item.props):N.item.props,B=W.activeDot,V=W.dataKey,q=ct(ct({index:j,dataKey:V,cx:P.x,cy:P.y,r:4,fill:R8(N.item),strokeWidth:2,stroke:"#fff",payload:P.payload,value:P.value},Bn(B,!1)),NN(B));return M.push(x.renderActiveDot(B,q,"".concat(R,"-activePoint-").concat(j))),T?M.push(x.renderActiveDot(B,ct(ct({},q),{},{cx:T.x,cy:T.y}),"".concat(R,"-basePoint-").concat(j))):D&&M.push(null),M}),vn(S,"renderGraphicChild",function(k,N,P){var T=S.filterFormatItem(k,N,P);if(!T)return null;var j=S.getTooltipEventType(),D=S.state,M=D.isTooltipActive,R=D.tooltipAxis,W=D.activeTooltipIndex,B=D.activeLabel,V=S.props.children,q=ul(V,rc),I=T.props,O=I.points,H=I.isRange,ne=I.baseLine,z=T.item.type.defaultProps!==void 0?ct(ct({},T.item.type.defaultProps),T.item.props):T.item.props,J=z.activeDot,ee=z.hide,G=z.activeBar,Z=z.activeShape,se=!!(!ee&&M&&q&&(J||G||Z)),ae={};j!=="axis"&&q&&q.props.trigger==="click"?ae={onClick:yS(S.handleItemMouseEnter,k.props.onClick)}:j!=="axis"&&(ae={onMouseLeave:yS(S.handleItemMouseLeave,k.props.onMouseLeave),onMouseEnter:yS(S.handleItemMouseEnter,k.props.onMouseEnter)});var Y=E.cloneElement(k,ct(ct({},T.props),ae));function X(Me){return typeof R.dataKey=="function"?R.dataKey(Me.payload):null}if(se)if(W>=0){var K,F;if(R.dataKey&&!R.allowDuplicatedCategory){var re=typeof R.dataKey=="function"?X:"payload.".concat(R.dataKey.toString());K=bI(O,re,B),F=H&&ne&&bI(ne,re,B)}else K=O==null?void 0:O[W],F=H&&ne&&ne[W];if(Z||G){var Q=k.props.activeIndex!==void 0?k.props.activeIndex:W;return[E.cloneElement(k,ct(ct(ct({},T.props),ae),{},{activeIndex:Q})),null,null]}if(!er(K))return[Y].concat(B0(S.renderActivePoints({item:T,activePoint:K,basePoint:F,childIndex:W,isRange:H})))}else{var oe,me=(oe=S.getItemByXY(S.state.activeCoordinate))!==null&&oe!==void 0?oe:{graphicalItem:Y},be=me.graphicalItem,ye=be.item,de=ye===void 0?k:ye,we=be.childIndex,We=ct(ct(ct({},T.props),ae),{},{activeIndex:we});return[E.cloneElement(de,We),null,null]}return H?[Y,null,null]:[Y,null]}),vn(S,"renderCustomized",function(k,N,P){return E.cloneElement(k,ct(ct({key:"recharts-customized-".concat(P)},S.props),S.state))}),vn(S,"renderMap",{CartesianGrid:{handler:CS,once:!0},ReferenceArea:{handler:S.renderReferenceElement},ReferenceLine:{handler:CS},ReferenceDot:{handler:S.renderReferenceElement},XAxis:{handler:CS},YAxis:{handler:CS},Brush:{handler:S.renderBrush,once:!0},Bar:{handler:S.renderGraphicChild},Line:{handler:S.renderGraphicChild},Area:{handler:S.renderGraphicChild},Radar:{handler:S.renderGraphicChild},RadialBar:{handler:S.renderGraphicChild},Scatter:{handler:S.renderGraphicChild},Pie:{handler:S.renderGraphicChild},Funnel:{handler:S.renderGraphicChild},Tooltip:{handler:S.renderCursor,once:!0},PolarGrid:{handler:S.renderPolarGrid,once:!0},PolarAngleAxis:{handler:S.renderPolarAxis},PolarRadiusAxis:{handler:S.renderPolarAxis},Customized:{handler:S.renderCustomized}}),S.clipPathId="".concat((w=b.id)!==null&&w!==void 0?w:JT("recharts"),"-clip"),S.throttleTriggeredAfterMouseMove=Rvt(S.triggeredAfterMouseMove,(_=b.throttleDelay)!==null&&_!==void 0?_:1e3/60),S.state={},S}return HNt(x,y),zNt(x,[{key:"componentDidMount",value:function(){var w,_;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,_=w.children,S=w.data,k=w.height,N=w.layout,P=ul(_,rc);if(P){var T=P.props.defaultIndex;if(!(typeof T!="number"||T<0||T>this.state.tooltipTicks.length-1)){var j=this.state.tooltipTicks[T]&&this.state.tooltipTicks[T].value,D=zR(this.state,S,T,j),M=this.state.tooltipTicks[T].coordinate,R=(this.state.offset.top+k)/2,W=N==="horizontal",B=W?{x:M,y:R}:{y:M,x:R},V=this.state.formattedGraphicalItems.find(function(I){var O=I.item;return O.type.name==="Scatter"});V&&(B=ct(ct({},B),V.props.points[T].tooltipPosition),D=V.props.points[T].tooltipPayload);var q={activeTooltipIndex:T,isTooltipActive:!0,activeLabel:j,activePayload:D,activeCoordinate:B};this.setState(q),this.renderCursor(P),this.accessibilityManager.setIndex(T)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,_){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==_.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var S,k;this.accessibilityManager.setDetails({offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(k=this.props.margin.top)!==null&&k!==void 0?k:0}})}return null}},{key:"componentDidUpdate",value:function(w){SI([ul(w.children,rc)],[ul(this.props.children,rc)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=ul(this.props.children,rc);if(w&&typeof w.props.shared=="boolean"){var _=w.props.shared?"axis":"item";return s.indexOf(_)>=0?_:i}return i}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var _=this.container,S=_.getBoundingClientRect(),k=Wvt(S),N={chartX:Math.round(w.pageX-k.left),chartY:Math.round(w.pageY-k.top)},P=S.width/_.offsetWidth||1,T=this.inRange(N.chartX,N.chartY,P);if(!T)return null;var j=this.state,D=j.xAxisMap,M=j.yAxisMap,R=this.getTooltipEventType(),W=cQ(this.state,this.props.data,this.props.layout,T);if(R!=="axis"&&D&&M){var B=Tg(D).scale,V=Tg(M).scale,q=B&&B.invert?B.invert(N.chartX):null,I=V&&V.invert?V.invert(N.chartY):null;return ct(ct({},N),{},{xValue:q,yValue:I},W)}return W?ct(ct({},N),W):null}},{key:"inRange",value:function(w,_){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,k=this.props.layout,N=w/S,P=_/S;if(k==="horizontal"||k==="vertical"){var T=this.state.offset,j=N>=T.left&&N<=T.left+T.width&&P>=T.top&&P<=T.top+T.height;return j?{x:N,y:P}:null}var D=this.state,M=D.angleAxisMap,R=D.radiusAxisMap;if(M&&R){var W=Tg(M);return qX({x:N,y:P},W)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,_=this.getTooltipEventType(),S=ul(w,rc),k={};S&&_==="axis"&&(S.props.trigger==="click"?k={onClick:this.handleClick}:k={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var N=NN(this.props,this.handleOuterEvent);return ct(ct({},N),k)}},{key:"addListener",value:function(){eO.on(tO,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){eO.removeListener(tO,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,_,S){for(var k=this.state.formattedGraphicalItems,N=0,P=k.length;N<P;N++){var T=k[N];if(T.item===w||T.props.key===w.key||_===ih(T.item.type)&&S===T.childIndex)return T}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,_=this.state.offset,S=_.left,k=_.top,N=_.height,P=_.width;return le.createElement("defs",null,le.createElement("clipPath",{id:w},le.createElement("rect",{x:S,y:k,height:N,width:P})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(_,S){var k=oQ(S,2),N=k[0],P=k[1];return ct(ct({},_),{},vn({},N,P.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(_,S){var k=oQ(S,2),N=k[0],P=k[1];return ct(ct({},_),{},vn({},N,P.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var _;return(_=this.state.xAxisMap)===null||_===void 0||(_=_[w])===null||_===void 0?void 0:_.scale}},{key:"getYScaleByAxisId",value:function(w){var _;return(_=this.state.yAxisMap)===null||_===void 0||(_=_[w])===null||_===void 0?void 0:_.scale}},{key:"getItemByXY",value:function(w){var _=this.state,S=_.formattedGraphicalItems,k=_.activeItem;if(S&&S.length)for(var N=0,P=S.length;N<P;N++){var T=S[N],j=T.props,D=T.item,M=D.type.defaultProps!==void 0?ct(ct({},D.type.defaultProps),D.props):D.props,R=ih(D.type);if(R==="Bar"){var W=(j.data||[]).find(function(I){return w_t(w,I)});if(W)return{graphicalItem:T,payload:W}}else if(R==="RadialBar"){var B=(j.data||[]).find(function(I){return qX(w,I)});if(B)return{graphicalItem:T,payload:B}}else if(CP(T,k)||EP(T,k)||Sw(T,k)){var V=uCt({graphicalItem:T,activeTooltipItem:k,itemData:M.data}),q=M.activeIndex===void 0?V:M.activeIndex;return{graphicalItem:ct(ct({},T),{},{childIndex:q}),payload:Sw(T,k)?M.data[V]:T.props.data[V]}}}return null}},{key:"render",value:function(){var w=this;if(!$Y(this))return null;var _=this.props,S=_.children,k=_.className,N=_.width,P=_.height,T=_.style,j=_.compact,D=_.title,M=_.desc,R=sQ(_,MNt),W=Bn(R,!1);if(j)return le.createElement(XZ,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},le.createElement(EI,rv({},W,{width:N,height:P,title:D,desc:M}),this.renderClipPath(),zY(S,this.renderMap)));if(this.props.accessibilityLayer){var B,V;W.tabIndex=(B=this.props.tabIndex)!==null&&B!==void 0?B:0,W.role=(V=this.props.role)!==null&&V!==void 0?V:"application",W.onKeyDown=function(I){w.accessibilityManager.keyboardEvent(I)},W.onFocus=function(){w.accessibilityManager.focus()}}var q=this.parseEventsOfWrapper();return le.createElement(XZ,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},le.createElement("div",rv({className:Tt("recharts-wrapper",k),style:ct({position:"relative",cursor:"default",width:N,height:P},T)},q,{ref:function(O){w.container=O}}),le.createElement(EI,rv({},W,{width:N,height:P,title:D,desc:M,style:ZNt}),this.renderClipPath(),zY(S,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(E.Component);vn(m,"displayName",n),vn(m,"defaultProps",ct({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),vn(m,"getDerivedStateFromProps",function(y,x){var b=y.dataKey,w=y.data,_=y.children,S=y.width,k=y.height,N=y.layout,P=y.stackOffset,T=y.margin,j=x.dataStartIndex,D=x.dataEndIndex;if(x.updateId===void 0){var M=uQ(y);return ct(ct(ct({},M),{},{updateId:0},p(ct(ct({props:y},M),{},{updateId:0}),x)),{},{prevDataKey:b,prevData:w,prevWidth:S,prevHeight:k,prevLayout:N,prevStackOffset:P,prevMargin:T,prevChildren:_})}if(b!==x.prevDataKey||w!==x.prevData||S!==x.prevWidth||k!==x.prevHeight||N!==x.prevLayout||P!==x.prevStackOffset||!wI(T,x.prevMargin)){var R=uQ(y),W={chartX:x.chartX,chartY:x.chartY,isTooltipActive:x.isTooltipActive},B=ct(ct({},cQ(x,w,N)),{},{updateId:x.updateId+1}),V=ct(ct(ct({},R),W),B);return ct(ct(ct({},V),p(ct({props:y},V),x)),{},{prevDataKey:b,prevData:w,prevWidth:S,prevHeight:k,prevLayout:N,prevStackOffset:P,prevMargin:T,prevChildren:_})}if(!SI(_,x.prevChildren)){var q,I,O,H,ne=ul(_,I0),z=ne&&(q=(I=ne.props)===null||I===void 0?void 0:I.startIndex)!==null&&q!==void 0?q:j,J=ne&&(O=(H=ne.props)===null||H===void 0?void 0:H.endIndex)!==null&&O!==void 0?O:D,ee=z!==j||J!==D,G=!er(w),Z=G&&!ee?x.updateId:x.updateId+1;return ct(ct({updateId:Z},p(ct(ct({props:y},x),{},{updateId:Z,dataStartIndex:z,dataEndIndex:J}),x)),{},{prevChildren:_,dataStartIndex:z,dataEndIndex:J})}return null}),vn(m,"renderActiveDot",function(y,x,b){var w;return E.isValidElement(y)?w=E.cloneElement(y,x):zn(y)?w=y(x):w=le.createElement(L8,x),le.createElement(Fa,{className:"recharts-active-dot",key:b},w)});var g=E.forwardRef(function(x,b){return le.createElement(m,rv({},x,{ref:b}))});return g.displayName=m.displayName,g},fQ=skt({chartName:"PieChart",GraphicalChild:Au,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:SP},{axisType:"radiusAxis",AxisComp:wP}],formatAxisMap:Bbt,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const lkt="/assets/Emil.C97FL45bjpg",ckt="/assets/hya.C-5QkgfVjpg",ukt="/assets/jason.DgG4-coqjpg",dkt="https://www.google.com/maps/dir/?api=1";delete co.Icon.Default.prototype._getIconUrl;co.Icon.Default.mergeOptions({iconRetinaUrl:lkt,iconUrl:ckt,shadowUrl:ukt});const fkt=new Ei.Icon({iconUrl:"../../img/Emil.jpg",iconRetinaUrl:"../../img/hya.jpg",shadowUrl:"../../img/jason.jpg",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),yk=[14.717955,121.107932],hkt=[[14.7297784,121.1183808],[14.7284917,121.1174367],[14.7297784,121.1183808]],Vc={NORTH:{coordinates:[[14.7297784,121.1183808],[14.7264579,121.1215136],[14.7247147,121.1214278],[14.7189038,121.1200116],[14.7213527,121.1105702],[14.7220583,121.1085103],[14.7223488,121.1069653],[14.7230545,121.1058495],[14.7231375,121.1052487],[14.7226809,121.1036179],[14.7297784,121.1183808]],color:"#4A90E2",name:"Payatas C"},CENTRAL:{coordinates:[[14.7226809,121.1036179],[14.7220583,121.1032746],[14.7209791,121.101558],[14.7186547,121.1005709],[14.717119,121.100528],[14.7164134,121.099541],[14.7149606,121.0977385],[14.7141304,121.0919879],[14.7087343,121.1146901],[14.7133003,121.1162779],[14.7189038,121.1200116],[14.7213527,121.1105702],[14.7220583,121.1085103],[14.7226809,121.1036179]],color:"#50C878",name:"Payatas B"},SOUTH:{coordinates:[[14.7141304,121.0919879],[14.7135078,121.0899708],[14.7091909,121.0854647],[14.7048325,121.0889409],[14.7032966,121.0891554],[14.7027985,121.0891554],[14.7027985,121.0937045],[14.7023003,121.1022017],[14.7027985,121.1059353],[14.7052475,121.1108706],[14.7067419,121.1139176],[14.7087343,121.1146901],[14.7141304,121.0919879]],color:"#FFD700",name:"Payatas A"}},pkt=(e,t)=>{const n=e[0],r=e[1];let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const s=t[i][0],l=t[i][1],u=t[o][0],d=t[o][1];l>r!=d>r&&n<(u-s)*(r-l)/(d-l)+s&&(a=!a)}return a},mkt=({polygon:e,sectorData:t})=>{const n=mT(),r=E.useRef([]),a=E.useRef(null),i=E.useRef(null);return E.useEffect(()=>{if(n){try{r.current&&(r.current.forEach(h=>{h&&n.removeLayer(h)}),r.current=[]),a.current&&(a.current.remove(),a.current=null),i.current&&(i.current.remove(),i.current=null),document.querySelectorAll(".sector-progress-container, .stats-legend").forEach(h=>{var p;(p=h.parentNode)==null||p.removeChild(h)});const s=Object.values(t).reduce((h,p)=>h+p.scholars.length,0),l=Object.values(t).reduce((h,p)=>h+p.events.length,0);Object.entries(Vc).forEach(([h,p])=>{const m=t[h],g=m.scholars.length,y=m.events.length,x=s>0?g/s*100:0,b=l>0?y/l*100:0,w=.2+(g+y)/(s+l)*.6,_=co.polygon(p.coordinates,{color:p.color,weight:2,fillOpacity:w,fillColor:p.color}).addTo(n),k=_.getBounds().getCenter(),N=co.divIcon({className:"sector-percentage-label",html:`
           
          `,iconSize:[140,100]}),P=co.marker(k,{icon:N,interactive:!1}).addTo(n);r.current.push(_,P),_.on("click",()=>{const T=t[h],j=Object.values(t).reduce((z,J)=>z+J.scholars.length,0),D=Object.values(t).reduce((z,J)=>z+J.events.length,0),M=Object.values(t).reduce((z,J)=>z+J.distributions,0),R=j>0?(T.scholars.length/j*100).toFixed(1):0,W=D>0?(T.events.length/D*100).toFixed(1):0,B=T.distributionPercentage.toFixed(1),V=T.scholars.length+T.events.length,q=j+D,I=(V/q*100).toFixed(1),O=co.DomUtil.create("div","sector-click-popup");O.innerHTML=`
            <h3>${Vc[h].name} Statistics</h3>
            <div class="sector-stats-list">
              <div class="sector-stat-row">
                <span>Scholars</span>
                <span class="stat-percentage">${R}%</span>
              </div>
              <div class="sector-stat-row">
                <span>Events</span>
                <span class="stat-percentage">${W}%</span>
              </div>
                 <div class="sector-stat-row">
                 <div class="sector-events-list">
                <h6>Events in this Area</h4>
                <ul>
                  ${T.events.map(z=>`
                    <li>${z.name}</li>
                  `).join("")}
                </ul>
              </div>
              </div>
              <div class="sector-stat-row">
                <span>Items Distributed</span>
                <span class="stat-percentage">${B}%</span>
              </div>
              <div class="sector-stat-row total-row">
                <span>Total Coverage</span>
                <span class="stat-percentage">${I}%</span>
              </div>
            </div>
            
            ${T.events.length>0?`
             
            `:""}
          `;const ne=_.getBounds().getCenter();co.popup({className:"sector-click-popup-wrapper",offset:[0,-10]}).setLatLng(ne).setContent(O).openOn(n)})});const u=Object.values(t).reduce((h,p)=>h+p.distributions,0),d=co.Control.extend({options:{position:"bottomleft"},onAdd:function(){const h=co.DomUtil.create("div","sector-progress-container");return h.innerHTML=`
            <h4>Distribution Progress by Area</h4>
            <div class="sector-progress-bar">
              <div class="progress-segments">
                ${Object.entries(t).sort((p,m)=>m[1].distributionPercentage-p[1].distributionPercentage).map(([p,m])=>`
                    <div class="progress-segment" 
                         style="width: ${m.distributionPercentage}%; 
                                background-color: ${Vc[p].color};">
                    </div>
                  `).join("")}
              </div>
              <div class="progress-labels">
                ${Object.entries(t).sort((p,m)=>m[1].distributionPercentage-p[1].distributionPercentage).map(([p,m])=>`
                    <div class="progress-label">
                      <span class="color-dot" style="background-color: ${Vc[p].color}"></span>
                      <span class="sector-name">${Vc[p].name}</span>
                      <span class="distribution-count">${m.distributions} items</span>
                      <span class="percentage-value">${m.distributionPercentage.toFixed(1)}%</span>
                    </div>
                  `).join("")}
              </div>
              <div class="total-progress">
                Total Distributions: <strong>${u}</strong>
              </div>
            </div>
          `,h}});a.current=new d().addTo(n);const f=co.Control.extend({options:{position:"bottomright"},onAdd:function(){const h=co.DomUtil.create("div","info legend stats-legend"),p=Object.values(t).reduce((g,y)=>g+y.scholars.length,0),m=Object.values(t).reduce((g,y)=>g+y.events.length,0);return h.innerHTML=`
            <h4>Distribution by Sector</h4>
            <div class="sector-summary">
              ${Object.entries(t).map(([g,y])=>`
                <div class="sector-legend-item">
                  <div class="sector-legend-header">
                    <span class="color-box" style="background-color: ${Vc[g].color}"></span>
                    <span class="sector-name">${Vc[g].name}</span>
                  </div>
                  <div class="sector-legend-stats">
                    <div class="stat-item">
                      <span>Scholars:</span>
                      <strong>${y.scholars.length}</strong>
                      <span>(${(y.scholars.length/p*100).toFixed(1)}%)</span>
                    </div>
                    <div class="stat-item">
                      <span>Events:</span>
                      <strong>${y.events.length}</strong>
                      <span>(${(y.events.length/m*100).toFixed(1)}%)</span>
                    </div>
                    <div class="stat-item">
                      <span>Distributions:</span>
                      <strong>${y.distributions}</strong>
                      <span>(${y.distributionPercentage.toFixed(1)}%)</span>
                    </div>
                    <div class="stat-item total">
                      <span>Total:</span>
                      <strong>${y.total}</strong>
                    </div>
                  </div>
                </div>
              `).join("")}
            </div>
            <div class="legend-totals">
              <div class="total-item">
                <span>Total Scholars:</span>
                <strong>${p}</strong>
              </div>
              <div class="total-item">
                <span>Total Events:</span>
                <strong>${m}</strong>
              </div>
              <div class="total-item">
                <span>Total Distributions:</span>
                <strong>${u}</strong>
              </div>
              <div class="total-item grand-total">
                <span>Total Locations:</span>
                <strong>${p+m}</strong>
              </div>
            </div>
          `,h}});i.current=new f().addTo(n),r.current.push(a.current,i.current)}catch(o){console.error("Error setting up sector visualization:",o)}return()=>{r.current&&r.current.forEach(o=>{o&&n.removeLayer(o)}),a.current&&a.current.remove(),i.current&&i.current.remove()}}},[n,e,t]),null},gkt=({mapType:e})=>{const t=mT();return E.useEffect(()=>{if(!t)return;const n=co.latLngBounds(hkt);(()=>{t.fitBounds(n,{padding:[35,35],maxZoom:13.5,animate:!0,duration:1}),t.setMinZoom(3),t.setMaxZoom(18),t.setMaxBounds(void 0)})();const a=new ResizeObserver(()=>{t.invalidateSize()});return a.observe(t.getContainer()),()=>{a.disconnect()}},[t,e]),null},vkt=new Ei.Icon({iconUrl:"/images/kkmk-logo.png",iconSize:[40,40],iconAnchor:[20,20],popupAnchor:[0,-20],className:"office-marker"}),hQ={id:-1,lat:yk[0],lng:yk[1],name:"KapatidKita MahalKita Main Office",type:"office",details:{address:"Payatas, Quezon City",description:"KKMK Main Office Location"}},rO="https://kmfi.netlify.app/",ykt=()=>{const e=Zr(),[t,n]=E.useState([hQ]),[r,a]=E.useState(!0),[i,o]=E.useState(0),[s,l]=E.useState([]),[u,d]=E.useState([]),[f,h]=E.useState("standard"),[p,m]=E.useState("all"),[g,y]=E.useState([]),[x,b]=E.useState([]),[w,_]=E.useState({}),[S,k]=E.useState([]),N=[14.7164,121.1194],P=[[14.7297784,121.1183808],[14.7284917,121.1174367],[14.7276201,121.1167929],[14.7269975,121.1153767],[14.726541,121.1143897],[14.7258354,121.1134455],[14.7238016,121.1128876],[14.7225979,121.1130164],[14.7218923,121.1128447],[14.7213942,121.1117718],[14.7213527,121.1105702],[14.7220583,121.1085103],[14.7223488,121.1069653],[14.7230545,121.1058495],[14.7231375,121.1052487],[14.7226809,121.1036179],[14.7220583,121.1032746],[14.7209791,121.101558],[14.720232,121.1005709],[14.7186547,121.1005709],[14.717119,121.100528],[14.7164134,121.099541],[14.7149606,121.0977385],[14.7147115,121.0966656],[14.7143795,121.0956357],[14.7137154,121.0949061],[14.7140889,121.0932324],[14.7141304,121.0919879],[14.7141304,121.0905287],[14.7135078,121.0899708],[14.7127192,121.0901854],[14.7120135,121.0900567],[14.7114739,121.0884688],[14.7091909,121.0854647],[14.7048325,121.0889409],[14.7032966,121.0891554],[14.7029645,121.0900567],[14.70284,121.0924599],[14.7027985,121.0937045],[14.702757,121.0955498],[14.703006,121.0976956],[14.7027985,121.0998843],[14.7023003,121.1022017],[14.7020513,121.1036608],[14.7022173,121.1050341],[14.7027985,121.1059353],[14.7040853,121.1068366],[14.704957,121.1078665],[14.7056626,121.1092827],[14.7052475,121.1108706],[14.7051645,121.1125872],[14.705206,121.1131451],[14.7067419,121.1139176],[14.7087343,121.1146901],[14.7133003,121.1162779],[14.7179491,121.1194537],[14.7189038,121.1200116],[14.7247147,121.1214278],[14.7253788,121.1215136],[14.7258354,121.1212561],[14.7264579,121.1215136],[14.7297784,121.1183808]],T=new Ei.Icon({iconUrl:"/images/jason.jpg",iconSize:[32,32],iconAnchor:[16,32],popupAnchor:[0,-32]});new Ei.Icon({iconUrl:"/images/default-avatar.jpg",iconSize:[35,35],iconAnchor:[17,17],popupAnchor:[0,-17],className:"scholar-marker"});const[j,D]=E.useState({NORTH:{scholars:[],events:[]},CENTRAL:{scholars:[],events:[]},SOUTH:{scholars:[],events:[]}}),M=de=>{for(const[we,We]of Object.entries(Vc))if(pkt([de.lat,de.lng],We.coordinates))return we;return null};E.useEffect(()=>{const de={NORTH:{scholars:[],events:[]},CENTRAL:{scholars:[],events:[]},SOUTH:{scholars:[],events:[]}};t.forEach(we=>{const We=M(we);We&&We in de&&(we.type==="scholar"?de[We].scholars.push(we):we.type==="event"&&de[We].events.push(we))}),D(de)},[t]),E.useEffect(()=>{(async()=>{try{const[we,We]=await Promise.all([Le.get("/churches"),Le.get("/events/locations")]),Me=we.data,He=We.data.filter(qt=>qt.lat&&qt.lng),dt=[hQ,...Me.map(qt=>({id:qt.id,lat:qt.lat,lng:qt.lng,name:qt.name,type:"church",details:qt})),...He.map(qt=>({id:qt.id,lat:qt.lat,lng:qt.lng,name:qt.name||qt.title,type:"event",details:qt}))];n(dt),o(dt.length),a(!1)}catch(we){console.error("Error fetching locations:",we),a(!1)}})()},[]),E.useEffect(()=>{(async()=>{try{const We=(await Le.get("/scholars")).data.filter(ze=>ze.latitude&&ze.longitude),Me=We.map(ze=>({id:ze.id,lat:ze.latitude,lng:ze.longitude,name:ze.name,type:"scholar",details:ze}));n(ze=>[...ze.filter(dt=>dt.type==="office"||dt.type==="event"),...Me]),y(We)}catch(we){console.error("Error fetching scholars:",we)}})()},[]),E.useEffect(()=>{(async()=>{try{const we=await Le.get("/events"),Me=we.data.filter(ze=>{const He=new Date(ze.date),dt=new Date;return dt.setHours(0,0,0,0),ze.latitude!==null&&ze.longitude!==null&&ze.status==="OPEN"&&He>=dt}).map(ze=>{console.log("Processing event:",{id:ze.id,title:ze.title,rawImage:ze.image,rawResponse:ze});let He="/images/default-event.jpg";return ze.image&&(ze.image.startsWith("http")?He=ze.image:ze.image.startsWith("/uploads/")?He=`${rO}${ze.image}`:ze.image.startsWith("data:image")?He=ze.image:(console.warn(`Invalid image path for event ${ze.id}: ${ze.image}`),He="/images/default-event.jpg")),console.log(`Event ${ze.id} using image URL: ${He}`),{id:ze.id,lat:parseFloat(ze.latitude),lng:parseFloat(ze.longitude),name:ze.title,type:"event",details:{...ze,date:new Date(ze.date).toLocaleDateString(),address:ze.location,image:He,rawImagePath:ze.image}}});console.log("Created event markers:",Me),n(ze=>[...ze.filter(dt=>dt.type==="office"||dt.type==="scholar"),...Me]),l(we.data)}catch(we){console.error("Error fetching events:",we)}})()},[]),E.useEffect(()=>{if(f==="heatmap"){const de=t.map(we=>({lat:we.lat,lng:we.lng,intensity:we.type==="church"?1:.5}));d(de)}},[t,f]),E.useEffect(()=>{const de=t.filter(we=>p==="all"?!0:p==="churches"?we.type==="church":p==="events"?we.type==="event":p==="scholars"?we.type==="scholar":p==="office"?we.type==="office":!1);o(de.length)},[t,p]),E.useEffect(()=>{(p==="scholars"||p==="all")&&(async()=>{try{const we=await Le.get("/scholars/verified-locations");console.log("Received scholar data:",we.data);const We=we.data.map(Me=>({id:Me.id,lat:parseFloat(Me.latitude),lng:parseFloat(Me.longitude),name:Me.name,type:"scholar",details:{...Me,profile_photo:Me.profile_photo||"/images/default-avatar.jpg"}}));console.log("Created scholar markers:",We),n(Me=>[...Me.filter(He=>He.type==="office"||He.type==="event"),...We]),b(we.data)}catch(we){console.error("Error fetching verified scholars:",we)}})()},[p]),E.useEffect(()=>{(p==="scholars"||p==="all")&&(async()=>{try{const we=localStorage.getItem("token"),Me=(await Le.get("/inventory/distributions-with-location",{headers:{Authorization:`Bearer ${we}`}})).data.reduce((ze,He)=>(He.recipientId&&(ze[He.recipientId]||(ze[He.recipientId]=[]),ze[He.recipientId].push({id:He.id,itemName:He.itemName,quantity:He.quantity,category:He.category,distributedAt:He.distributedAt})),ze),{});_(Me)}catch(we){console.error("Error fetching scholar distributions:",we)}})()},[p]),E.useEffect(()=>{new URLSearchParams(window.location.search).get("filter")==="scholars"&&m("scholars")},[]),E.useEffect(()=>{if(!w)return;const de={};Object.values(w).forEach(Me=>{Me.forEach(ze=>{de[ze.itemName]=(de[ze.itemName]||0)+ze.quantity})});const we=["#FF8042","#0088FE","#00C49F","#FFBB28","#8884d8","#82ca9d"],We=Object.entries(de).map(([Me,ze],He)=>({name:Me,value:ze,color:we[He%we.length]}));k(We)},[w]);const R=de=>new Date(de).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),W=()=>c.jsxs(c.Fragment,{children:[c.jsx(Tb,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>'}),c.jsx(c1,{positions:P,pathOptions:{color:"#FF0000",fillColor:"#2c5282",fillOpacity:.1,weight:2}})]}),B=()=>{const de=t.filter(we=>we.type==="scholar"||we.type==="event");return c.jsxs(c.Fragment,{children:[c.jsx(Tb,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>'}),c.jsx(c1,{positions:P,pathOptions:{color:"#FF0000",fillColor:"transparent",weight:2}}),c.jsx(mkt,{points:de,polygon:P,sectorData:H})]})},V=de=>{const We=(w[de.id]||[]).sort((Zt,Wt)=>new Date(Wt.distributedAt).getTime()-new Date(Zt.distributedAt).getTime()).slice(0,3);let Me="/images/default-avatar.jpg";const ze=de.details.profile_photo;ze&&(ze.startsWith("data:image")||ze.startsWith("http")?Me=ze:ze.startsWith("/uploads/")&&(Me=`${rO}${ze}`)),console.log("Using profile photo:",{original:de.details.profile_photo,processed:Me});const He=()=>{const Zt=`${yk[0]},${yk[1]}`,Wt=`${de.lat},${de.lng}`,mn=`${dkt}&origin=${Zt}&destination=${Wt}`;window.open(mn,"_blank")},dt=M(de),qt=()=>{e("/Scholars/Profile")};return c.jsxs("div",{className:"scholar-popup-content",children:[c.jsxs("div",{className:"profile-section",children:[c.jsx("div",{className:"scholar-image",children:c.jsx("img",{src:Me,alt:de.name,onError:Zt=>{console.error("Failed to load image:",Me);const Wt=Zt.target;Wt.src="/images/default-avatar.jpg",Wt.onerror=null}})}),c.jsxs("div",{className:"scholar-info",children:[c.jsx("h3",{children:de.name}),c.jsxs("p",{className:"address",children:[c.jsx("strong",{children:"Address:"}),c.jsx("br",{}),de.details.address||"No address specified"]}),dt&&c.jsx("div",{className:"sector-info",children:c.jsxs("p",{children:[c.jsx("strong",{children:"Sector:"})," ",dt]})})]})]}),We.length>0&&c.jsxs("div",{className:"recent-distributions",children:[c.jsx("h4",{children:"Recent Distributions"}),We.map((Zt,Wt)=>c.jsxs("div",{className:"distribution-item",children:[c.jsxs("div",{className:"distribution-header",children:[c.jsx("span",{className:"category-tag",children:Zt.category}),c.jsx("span",{className:"date",children:new Date(Zt.distributedAt).toLocaleDateString()})]}),c.jsxs("p",{className:"item-details",children:[Zt.quantity,"x ",Zt.itemName]})]},Zt.id))]}),c.jsxs("div",{className:"popup-buttons",children:[c.jsx("button",{className:"view-details-btn",onClick:qt,children:"View Scholar Profile"}),c.jsx("button",{className:"directions-btn",onClick:He,children:"Get Directions"})]})]})},q=()=>f==="heatmap"?null:t.filter(we=>p==="all"?!0:p==="churches"?we.type==="church":p==="events"?we.type==="event":p==="scholars"?we.type==="scholar":p==="office"?we.type==="office":!1).map(we=>{const We=Number(we.lat),Me=Number(we.lng);if(isNaN(We)||isNaN(Me))return console.warn("Invalid coordinates for marker:",we),null;const ze=()=>{if(we.type==="office")return vkt;if(we.type==="event"){const He=we.details.image;return console.log("Using image URL for marker:",He),new Ei.Icon({iconUrl:He,iconSize:[45,45],iconAnchor:[22,22],popupAnchor:[0,-22],className:"custom-event-marker",tooltipAnchor:[16,-28]})}if(we.type==="scholar"){let He="/images/default-avatar.jpg";const dt=we.details.profile_photo;return dt&&(dt.startsWith("data:image")||dt.startsWith("http")?He=dt:dt.startsWith("/uploads/")&&(He=`${rO}${dt}`)),new Ei.Icon({iconUrl:He,iconSize:[35,35],iconAnchor:[17,17],popupAnchor:[0,-17],className:"scholar-marker"})}return we.type==="church"?T:fkt};return c.jsx(vT,{position:[We,Me],icon:ze(),children:c.jsx(u1,{...we.type==="scholar"?{minWidth:280,maxWidth:280,className:"scholar-popup-wrapper",closeButton:!0}:{className:""},children:c.jsx("div",{className:`marker-popup ${we.type} ${we.type==="scholar"?"scholar-popup":""}`,children:we.type==="scholar"?V(we):c.jsxs(c.Fragment,{children:[we.type==="event"&&c.jsx("div",{className:"marker-image-container",children:c.jsx("img",{src:we.details.image,alt:we.name,className:"marker-event-image",onError:He=>{console.error("Failed to load event image:",we.details.rawImagePath);const dt=He.target;dt.src="/images/default-event.jpg",dt.onerror=null}})}),c.jsx("h3",{children:we.name}),we.type==="event"&&c.jsxs(c.Fragment,{children:[c.jsxs("p",{children:[c.jsx("strong",{children:"Date:"})," ",we.details.date]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Location:"})," ",we.details.address]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Description:"})," ",we.details.description]}),c.jsx("button",{className:"view-details-btn",onClick:()=>O(we.details),children:"Edit Event Details"})]})]})})})},`${we.type}-${we.id}`)}).filter(Boolean),I={center:N,zoom:15,className:`admin-map ${f==="heatmap"?"heatmap-mode":""}`,zoomControl:!0,scrollWheelZoom:!0,dragging:!0,maxBoundsViscosity:0,doubleClickZoom:!0,bounceAtZoomLimits:!1,wheelDebounceTime:100,wheelPxPerZoomLevel:100,zoomDelta:.5,zoomSnap:.5,preferCanvas:!0},O=de=>{try{localStorage.setItem("eventToEdit",JSON.stringify({id:de.id,title:de.title||de.name,date:de.date,location:de.address||de.location,description:de.description,status:de.status||"OPEN",latitude:de.lat||de.latitude,longitude:de.lng||de.longitude})),e("/Event")}catch(we){console.error("Error navigating to event:",we)}},[H,ne]=E.useState({NORTH:{scholars:[],events:[],total:0,distributions:0,distributionPercentage:0},CENTRAL:{scholars:[],events:[],total:0,distributions:0,distributionPercentage:0},SOUTH:{scholars:[],events:[],total:0,distributions:0,distributionPercentage:0}}),z=(de,we)=>{const We={NORTH:{scholars:[],events:[],total:0,distributions:0,distributionPercentage:0},CENTRAL:{scholars:[],events:[],total:0,distributions:0,distributionPercentage:0},SOUTH:{scholars:[],events:[],total:0,distributions:0,distributionPercentage:0}};de.forEach(ze=>{const He=M(ze);if(He&&He in We)if(ze.type==="scholar"){We[He].scholars.push(ze);const dt=we[ze.id]||[];We[He].distributions+=dt.reduce((qt,Zt)=>qt+Zt.quantity,0)}else ze.type==="event"&&We[He].events.push(ze)}),Object.values(We).forEach(ze=>{ze.total=ze.scholars.length+ze.events.length});const Me=Object.values(We).reduce((ze,He)=>ze+He.distributions,0);return Object.values(We).forEach(ze=>{ze.distributionPercentage=Me>0?ze.distributions/Me*100:0}),We};E.useEffect(()=>{const de=z(t,w);ne(de)},[t,w]);const[J,ee]=E.useState([]),[G,Z]=E.useState([]),[se,ae]=E.useState(!1),[Y,X]=E.useState({category:"all",timeRange:"all"});E.useEffect(()=>{se&&(async()=>{try{const{category:we,timeRange:We}=Y,Me=new URLSearchParams;we!=="all"&&Me.append("category",we),We!=="all"&&Me.append("timeRange",We);const ze=`/inventory/distribution-stats?${Me.toString()}`,He=await Le.get(ze);console.log("Inventory stats fetched:",He.data),ee(He.data)}catch(we){console.error("Error fetching inventory stats:",we)}})()},[se,Y]);const K=[{value:"all",label:"All Categories"},{value:"Food & Nutrition",label:"Food & Nutrition"},{value:"Clothing & Footwear",label:"Clothing & Footwear"},{value:"School Supplies",label:"School Supplies"},{value:"Medical Supplies",label:"Medical Supplies"},{value:"Hygiene Supplies",label:"Hygiene Supplies"}],F=[{value:"all",label:"All Time"},{value:"today",label:"Today"},{value:"week",label:"This Week"},{value:"month",label:"This Month"},{value:"year",label:"This Year"}],re=()=>f==="heatmap"&&c.jsxs("div",{className:"map-advanced-filters",children:[c.jsx("select",{value:Y.category,onChange:de=>X({...Y,category:de.target.value}),className:"category-filter",children:K.map(de=>c.jsx("option",{value:de.value,children:de.label},de.value))}),c.jsx("select",{value:Y.timeRange,onChange:de=>X({...Y,timeRange:de.target.value}),className:"time-filter",children:F.map(de=>c.jsx("option",{value:de.value,children:de.label},de.value))}),c.jsx("button",{className:`inventory-panel-toggle ${se?"active":""}`,onClick:()=>ae(!se),children:se?"Hide Inventory":"Show Inventory"})]}),Q=()=>{if(!se)return null;const de=J.reduce((Me,ze)=>Me+ze.totalDistributed,0),we=J.map(Me=>({name:Me.item,value:Me.totalDistributed,category:Me.category})),We=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884d8","#82ca9d"];return c.jsxs("div",{className:"inventory-panel",children:[c.jsx("h3",{children:"Distributed Inventory Items"}),J.length===0?c.jsx("p",{className:"no-data",children:"No inventory data available for the selected filters."}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"inventory-chart-container",children:[c.jsx("h4",{children:"Distribution Breakdown"}),c.jsx("div",{className:"pie-chart-wrapper",children:c.jsxs(fQ,{width:280,height:280,children:[c.jsx(Au,{data:we,cx:"50%",cy:"50%",labelLine:!1,outerRadius:100,fill:"#8884d8",dataKey:"value",children:we.map((Me,ze)=>c.jsx($N,{fill:We[ze%We.length]},`cell-${ze}`))}),c.jsx(rc,{formatter:Me=>[`${Me} items`,"Distributed"],labelFormatter:Me=>we[Me].name}),c.jsx(tm,{})]})}),c.jsx("div",{className:"distribution-summary",children:c.jsxs("p",{children:["Total Items Distributed: ",c.jsx("strong",{children:de})]})})]}),c.jsx("div",{className:"inventory-items-list",children:J.map(Me=>c.jsxs("div",{className:"inventory-item",children:[c.jsxs("div",{className:"inventory-item-header",children:[c.jsx("h4",{children:Me.item}),c.jsx("span",{className:"category-tag",children:Me.category})]}),c.jsxs("div",{className:"inventory-item-stats",children:[c.jsxs("div",{className:"stat",children:[c.jsx("span",{className:"stat-label",children:"Current Stock:"}),c.jsxs("span",{className:"stat-value",children:[Me.quantity," ",Me.unit]})]}),c.jsxs("div",{className:"stat",children:[c.jsx("span",{className:"stat-label",children:"Total Distributed:"}),c.jsx("span",{className:"stat-value",children:Me.totalDistributed})]}),c.jsxs("div",{className:"stat",children:[c.jsx("span",{className:"stat-label",children:"Last Distributed:"}),c.jsx("span",{className:"stat-value",children:R(Me.lastDistributed||"")})]})]}),Me.distributions&&Me.distributions.length>0&&c.jsxs("div",{className:"recent-distributions",children:[c.jsx("h5",{children:"Recent Distributions"}),c.jsx("ul",{children:Me.distributions.map((ze,He)=>c.jsxs("li",{children:[c.jsx("span",{className:"recipient",children:ze.scholar_name})," received",c.jsxs("span",{className:"quantity",children:[" ",ze.quantity," ",Me.unit]})," on",c.jsxs("span",{className:"date",children:[" ",R(ze.distributed_at)]})]},He))})]}),c.jsx("button",{className:"distribute-btn",onClick:ze=>{ze.preventDefault(),console.log("Distribute button clicked for item:",Me),ye(Me.id)},children:"Distribute Item"})]},Me.id))})]})]})},[oe,me]=E.useState(!1),be=()=>{if(!S.length)return null;const de=S.reduce((we,We)=>we+We.value,0);return c.jsxs("div",{className:"scholar-distribution-panel",children:[c.jsxs("div",{className:"scholar-distribution-header",children:[c.jsx("h3",{children:"Scholar Item Distribution"}),c.jsxs("div",{style:{position:"relative"},children:[c.jsxs("button",{className:`distribution-dropdown-btn ${oe?"open":""}`,onClick:()=>me(!oe),children:["List",c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("path",{d:"M6 9l6 6 6-6"})})]}),c.jsxs("div",{className:`distribution-list-dropdown ${oe?"open":""}`,children:[S.map((we,We)=>c.jsxs("div",{className:"distribution-list-item",children:[c.jsx("span",{className:"item-name",children:we.name}),c.jsx("span",{className:"item-count",children:we.value})]},We)),c.jsxs("div",{className:"distribution-list-item",style:{fontWeight:"bold"},children:[c.jsx("span",{className:"item-name",children:"Total"}),c.jsx("span",{className:"item-count",children:de})]})]})]})]}),c.jsx("div",{className:"scholar-chart-wrapper",children:c.jsxs(fQ,{width:250,height:250,children:[c.jsx(Au,{data:S,cx:"50%",cy:"50%",labelLine:!1,outerRadius:80,fill:"#8884d8",dataKey:"value",children:S.map((we,We)=>c.jsx($N,{fill:we.color},`cell-${We}`))}),c.jsx(rc,{formatter:we=>[`${we} items (${(we/de*100).toFixed(1)}%)`,"Distributed"]})]})})]})},ye=de=>{console.log("Distributing item with ID:",de);const we=J.find(We=>We.id===de);console.log("Found item:",we),localStorage.setItem("distributeItemData",JSON.stringify({itemId:de.toString(),itemName:(we==null?void 0:we.item)||"",category:(we==null?void 0:we.category)||Y.category,openDistributeDialog:!0,fromMap:!0,timestamp:new Date().getTime()})),window.location.href="/Inventory"};return c.jsxs("div",{className:`admin-map-container ${f==="heatmap"?"heatmap-mode":""}`,children:[c.jsxs("div",{className:"map-header",children:[c.jsx("h1",{className:"location-h1",children:"Location Map Overview"}),c.jsxs("div",{className:"map-type-selector",children:[c.jsx("button",{className:`map-type-btn ${f==="standard"?"active":""}`,onClick:()=>{h("standard")},children:"Standard Map"}),c.jsx("button",{className:`map-type-btn ${f==="heatmap"?"active":""}`,onClick:()=>h("heatmap"),children:"Heatmap View"})]}),c.jsx("div",{className:"map-filters",children:c.jsxs("select",{value:p,onChange:de=>m(de.target.value),className:"location-filter",children:[c.jsx("option",{value:"all",children:"All Locations"}),c.jsx("option",{value:"events",children:"Events"}),c.jsx("option",{value:"scholars",children:"Scholars"}),c.jsx("option",{value:"office",children:"Main Office"})]})}),re()]}),r?c.jsx("div",{className:"loading",children:"Loading map data..."}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"map-content",children:[c.jsxs(gT,{...I,children:[c.jsx(gkt,{mapType:f}),f==="standard"?c.jsxs(c.Fragment,{children:[W(),q()]}):c.jsx(c.Fragment,{children:B()})]}),c.jsxs("div",{className:"sector-stats-panel",children:[c.jsx("h3",{children:"Area Statistics"}),Object.entries(H).map(([de,we])=>c.jsxs("div",{className:"sector-stat-block",children:[c.jsxs("div",{className:"sector-stat-header",children:[c.jsx("span",{className:"color-dot",style:{backgroundColor:Vc[de].color}}),c.jsx("h4",{children:Vc[de].name})]}),c.jsxs("div",{className:"sector-stat-content",children:[c.jsxs("div",{className:"stat-row",children:[c.jsx("span",{children:"Scholars"}),c.jsx("strong",{children:we.scholars.length})]}),c.jsxs("div",{className:"stat-row",children:[c.jsx("span",{children:"Events"}),c.jsx("strong",{children:we.events.length})]}),c.jsxs("div",{className:"stat-row",children:[c.jsx("span",{children:"Distributions"}),c.jsx("strong",{children:we.distributions})]}),c.jsxs("div",{className:"distribution-percentage",children:[we.distributionPercentage.toFixed(1),"% of total distributions"]})]})]},de))]})]}),Q(),be()]})]})};function xkt(){const[e,t]=E.useState(""),[n,r]=E.useState([]),[a,i]=E.useState({sections:e==="partner"?[{title:"Philippines Humanitarian",text:"",image:""},{text:"",image:""}]:[],contactSections:e==="contact"?[{title:"Contact Support",description:""},{title:"Feedback and Suggestions",description:""},{title:"Made Inquiries",description:""}]:[]}),[o,s]=E.useState("banner"),[l,u]=E.useState(!1);E.useEffect(()=>{d()},[]),E.useEffect(()=>{if(e){f();const I=R();I.length>0&&s(I[0].id)}},[e]),E.useEffect(()=>{const I=()=>{u(window.pageYOffset>300)};return window.addEventListener("scroll",I),()=>window.removeEventListener("scroll",I)},[]);const d=async()=>{try{const I=await Le.get("/content/pages");console.log("API Response:",I.data),Array.isArray(I.data)?(r(I.data),I.data.length>0&&t(I.data[0])):console.error("Unexpected response format:",I.data)}catch(I){console.error("Failed to load pages:",I)}},f=async()=>{try{const I=await Le.get(`/content/${e}`);i(I.data.content)}catch(I){console.error("Failed to load content:",I)}},h=async(I,O)=>{var H,ne;try{if(!I){console.error("No file selected");return}const z=new FormData;z.append("image",I),console.log("Uploading file:",I.name);const J=await Le.post("/content/upload-image",z,{headers:{"Content-Type":"multipart/form-data"}});console.log("Upload response:",J.data);const ee=J.data.imagePath;if(!ee)throw new Error("No image path received from server");O===-1?(i(G=>({...G,bannerImage:ee})),console.log("Banner image updated:",ee)):i(G=>{const Z=[...G.sections];return Z[O]={...Z[O],image:ee},{...G,sections:Z}})}catch(z){console.error("Failed to upload image:",z),alert("Failed to upload image: "+(((ne=(H=z.response)==null?void 0:H.data)==null?void 0:ne.error)||z.message))}},p=async(I,O)=>{var H,ne;try{const z=new FormData;z.append("image",I),console.log("Uploading file:",I.name);const J=await Le.post("/content/upload-image",z,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"multipart/form-data"}});console.log("Upload response:",J.data);const ee=J.data.imagePath;if(!ee)throw new Error("No image path received from server");i(G=>{const Z=[...G.testimonials||[]];return Z[O]={...Z[O],image:ee},{...G,testimonials:Z}})}catch(z){console.error("Failed to upload image:",z),alert("Failed to upload image: "+(((ne=(H=z.response)==null?void 0:H.data)==null?void 0:ne.error)||z.message))}},m=async(I,O)=>{var H,ne;try{const z=new FormData;z.append("image",I);const ee=(await Le.post("/content/upload-image",z,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"multipart/form-data"}})).data.imagePath;if(!ee)throw new Error("No image path received");i(G=>{const Z=[...G.members||[]];return Z[O]={...Z[O],image:ee},{...G,members:Z}})}catch(z){console.error("Failed to upload image:",z),alert("Failed to upload image: "+(((ne=(H=z.response)==null?void 0:H.data)==null?void 0:ne.error)||z.message))}},g=async(I,O)=>{var H,ne;try{const z=new FormData;z.append("image",I);const ee=(await Le.post("/content/upload-image",z,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"multipart/form-data"}})).data.imagePath;if(!ee)throw new Error("No image path received");i(G=>{const Z=[...G.galleryImages||[]];return Z[O]={...Z[O],src:ee},{...G,galleryImages:Z}})}catch(z){console.error("Failed to upload image:",z),alert("Failed to upload image: "+(((ne=(H=z.response)==null?void 0:H.data)==null?void 0:ne.error)||z.message))}},y=async(I,O)=>{var H,ne;try{const z=new FormData;z.append("image",I);const ee=(await Le.post("/content/upload-image",z,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"multipart/form-data"}})).data.imagePath;if(!ee)throw new Error("No image path received");i(G=>{const Z=[...G.testimonialCards||[]];return Z[O]={...Z[O],image:ee},{...G,testimonialCards:Z}})}catch(z){console.error("Failed to upload image:",z),alert("Failed to upload image: "+(((ne=(H=z.response)==null?void 0:H.data)==null?void 0:ne.error)||z.message))}},x=async I=>{var O,H;try{const ne=new FormData;ne.append("image",I);const J=(await Le.post("/content/upload-image",ne,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"multipart/form-data"}})).data.imagePath;if(!J)throw new Error("No image path received");i(ee=>{var G,Z;return{...ee,community:{title:((G=ee.community)==null?void 0:G.title)||"",description:(Z=ee.community)==null?void 0:Z.description,image:J}}})}catch(ne){console.error("Failed to upload image:",ne),alert("Failed to upload image: "+(((H=(O=ne.response)==null?void 0:O.data)==null?void 0:H.error)||ne.message))}},b=async(I,O)=>{var H,ne;try{const z=new FormData;z.append("image",I);const ee=(await Le.post("/content/upload-image",z,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"multipart/form-data"}})).data.imagePath;if(!ee)throw new Error("No image path received");i(G=>{const Z=[...G.highlights||[]];return Z[O]={...Z[O],image:ee},{...G,highlights:Z}})}catch(z){console.error("Failed to upload image:",z),alert("Failed to upload image: "+(((ne=(H=z.response)==null?void 0:H.data)==null?void 0:ne.error)||z.message))}},w=async(I,O)=>{var H,ne;try{const z=new FormData;z.append("image",I);const ee=(await Le.post("/content/upload-image",z,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"multipart/form-data"}})).data.imagePath;if(!ee)throw new Error("No image path received");i(G=>{const Z=[...G.features||[]];return Z[O]={...Z[O],image:ee},{...G,features:Z}})}catch(z){console.error("Failed to upload image:",z),alert("Failed to upload image: "+(((ne=(H=z.response)==null?void 0:H.data)==null?void 0:ne.error)||z.message))}},_=I=>I?I.startsWith("data:")||I.startsWith("http")?I:I.startsWith("/uploads")?`${I}`:I:"",S=I=>{console.error("Image failed to load:",I.currentTarget.src),I.currentTarget.style.display="none"},k=async()=>{var I,O,H;try{if(!localStorage.getItem("token")){alert("You must be logged in to save content");return}const z={...a,sections:((I=a.sections)==null?void 0:I.map(ee=>e==="contact"?{title:ee.title||"",description:ee.description||""}:{text:ee.text||"",image:ee.image||"",title:ee.title||"",caption:ee.caption||null}))||[]};console.log("Sending content:",z);const J=await Le.put(`/content/${e}`,z);console.log("Save response:",J.data),alert("Content saved successfully")}catch(ne){console.error("Failed to save content:",ne),alert("Failed to save content: "+(((H=(O=ne.response)==null?void 0:O.data)==null?void 0:H.error)||ne.message))}},N=()=>{i(I=>({...I,testimonials:[...I.testimonials||[],{name:"",subtitle:"",description:"",image:""}]}))},P=I=>{i(O=>{var H;return{...O,testimonials:(H=O.testimonials)==null?void 0:H.filter((ne,z)=>z!==I)}})},T=()=>{i(I=>{var O;return{...I,members:[...I.members||[],{name:"",subText:"",image:"",profileClass:`profile-${(((O=I.members)==null?void 0:O.length)||0)+1}`}]}})},j=I=>{i(O=>{var H;return{...O,members:(H=O.members)==null?void 0:H.filter((ne,z)=>z!==I)}})},D=()=>{i(I=>({...I,galleryImages:[...I.galleryImages||[],{src:"",tags:[],title:"",description:""}]}))},M=I=>{i(O=>{var H;return{...O,galleryImages:(H=O.galleryImages)==null?void 0:H.filter((ne,z)=>z!==I)}})},R=()=>{switch(e){case"life":return[{id:"banner",label:"Banner Image"},{id:"header",label:"Header Content"},{id:"tabs",label:"Navigation Tabs"},{id:"gallery",label:"Gallery Images"}];case"team":return[{id:"banner",label:"Banner Image"},{id:"members",label:"Team Members"}];case"community":case"graduates":return[{id:"banner",label:"Banner Image"},{id:"header",label:"Header Text"},{id:"subtext",label:"Sub Text"},{id:"testimonials",label:e==="graduates"?"Graduate Stories":"Testimonials"}];case"contact":return[{id:"main",label:"Main Content"},{id:"sections",label:"Contact Sections"},{id:"location",label:"Location Info"}];case"partner":return[{id:"banner",label:"Banner Image"},{id:"sections",label:"Partner Sections"}];case"home":return[{id:"header",label:"Header Content"},{id:"features",label:"Feature Cards"},{id:"highlights",label:"Featured Highlights"},{id:"community",label:"Community Section"},{id:"testimonial-cards",label:"Testimonial Cards"}];default:return[{id:"banner",label:"Banner Image"},{id:"sections",label:"Content Sections"}]}},W=()=>{var O,H,ne,z,J,ee,G,Z,se,ae,Y,X;const I=(K,F)=>c.jsx("div",{id:K,className:`section-content ${o===K?"active":""}`,children:F});return e==="contact"?c.jsxs(c.Fragment,{children:[I("main",c.jsxs("div",{className:"section-box",children:[c.jsx("h2",{className:"section-title",children:"Main Content"}),c.jsx("input",{type:"text",className:"text-input",value:a.mainHeading||"",onChange:K=>i(F=>({...F,mainHeading:K.target.value})),placeholder:"Enter main heading"}),c.jsx("textarea",{className:"text-input",value:a.mainDescription||"",onChange:K=>i(F=>({...F,mainDescription:K.target.value})),rows:3,placeholder:"Enter main description"}),c.jsx("input",{type:"text",className:"text-input",value:a.email||"",onChange:K=>i(F=>({...F,email:K.target.value})),placeholder:"Enter email"}),c.jsx("input",{type:"text",className:"text-input",value:a.phone||"",onChange:K=>i(F=>({...F,phone:K.target.value})),placeholder:"Enter phone"})]})),I("sections",c.jsxs("div",{className:"section-box",children:[c.jsx("h2",{className:"section-title",children:"Contact Sections"}),(a.sections||[]).map((K,F)=>c.jsxs("div",{className:"section-box",children:[c.jsx("input",{type:"text",className:"text-input",value:K.title||"",onChange:re=>{const Q=[...a.sections];Q[F]={...Q[F],title:re.target.value,description:K.description||""},i(oe=>({...oe,sections:Q}))},placeholder:"Enter section title"}),c.jsx("textarea",{className:"text-input",value:K.description||"",onChange:re=>{const Q=[...a.sections];Q[F]={...Q[F],title:K.title||"",description:re.target.value},i(oe=>({...oe,sections:Q}))},rows:3,placeholder:"Enter section description"})]},F))]})),I("location",c.jsxs("div",{className:"section-box",children:[c.jsx("h2",{className:"section-title",children:"Location Information"}),c.jsx("input",{type:"text",className:"text-input",value:a.locationHeading||"",onChange:K=>i(F=>({...F,locationHeading:K.target.value})),placeholder:"Enter location heading"}),c.jsx("input",{type:"text",className:"text-input",value:a.locationTitle||"",onChange:K=>i(F=>({...F,locationTitle:K.target.value})),placeholder:"Enter location title"}),c.jsx("input",{type:"text",className:"text-input",value:a.locationSubHeading||"",onChange:K=>i(F=>({...F,locationSubHeading:K.target.value})),placeholder:"Enter location sub-heading"}),(O=a.address)==null?void 0:O.map((K,F)=>c.jsx("input",{type:"text",className:"text-input",value:K,onChange:re=>{const Q=[...a.address||[]];Q[F]=re.target.value,i(oe=>({...oe,address:Q}))},placeholder:`Address line ${F+1}`},F))]}))]}):e==="community"||e==="graduates"?c.jsxs(c.Fragment,{children:[I("header",c.jsxs("div",{className:"section-box",children:[c.jsx("h2",{className:"section-title",children:"Header Text"}),c.jsx("input",{type:"text",className:"text-input",value:a.headerText||"",onChange:K=>i(F=>({...F,headerText:K.target.value})),placeholder:"Enter header text"})]})),I("subtext",c.jsxs("div",{className:"section-box",children:[c.jsx("h2",{className:"section-title",children:"Sub Text"}),c.jsx("textarea",{className:"text-input",value:a.subText||"",onChange:K=>i(F=>({...F,subText:K.target.value})),rows:3,placeholder:"Enter sub text"})]})),I("testimonials",c.jsxs("div",{className:"testimonials-section",children:[c.jsxs("div",{className:"testimonials-header",children:[c.jsx("h2",{className:"section-title",children:e==="graduates"?"Graduate Stories":"Testimonials"}),c.jsxs("button",{type:"button",className:"add-button",onClick:N,children:["Add ",e==="graduates"?"Graduate":"Testimonial"]})]}),(H=a.testimonials)==null?void 0:H.map((K,F)=>c.jsxs("div",{className:"section-box",children:[c.jsxs("div",{className:"section-header",children:[c.jsxs("h3",{children:["Testimonial ",F+1]}),c.jsx("button",{type:"button",className:"remove-button",onClick:()=>P(F),children:"Remove"})]}),c.jsx("input",{type:"text",className:"text-input",value:K.name,onChange:re=>{const Q=[...a.testimonials||[]];Q[F]={...Q[F],name:re.target.value},i(oe=>({...oe,testimonials:Q}))},placeholder:"Enter name"}),c.jsx("input",{type:"text",className:"text-input",value:K.subtitle,onChange:re=>{const Q=[...a.testimonials||[]];Q[F]={...Q[F],subtitle:re.target.value},i(oe=>({...oe,testimonials:Q}))},placeholder:"Enter subtitle"}),c.jsx("textarea",{className:"text-input",value:K.description,onChange:re=>{const Q=[...a.testimonials||[]];Q[F]={...Q[F],description:re.target.value},i(oe=>({...oe,testimonials:Q}))},rows:4,placeholder:"Enter description"}),c.jsxs("div",{className:"image-upload-box",children:[c.jsx("h3",{children:"Testimonial Image"}),c.jsx("input",{type:"file",className:"file-input",id:`testimonial-image-${F}`,accept:"image/*",onChange:re=>re.target.files&&p(re.target.files[0],F)}),c.jsx("label",{htmlFor:`testimonial-image-${F}`,children:c.jsx("span",{className:"file-name-truncatee",children:"Choose file"})}),K.image&&c.jsx("div",{className:"image-preview",children:c.jsx("img",{src:_(K.image),alt:K.name,onError:S})})]})]},F))]}))]}):e==="team"?c.jsx(c.Fragment,{children:I("members",c.jsxs("div",{className:"section-box",children:[c.jsxs("div",{className:"testimonials-header",children:[c.jsx("h2",{className:"section-title",children:"Team Members"}),c.jsx("button",{type:"button",className:"add-button",onClick:T,children:"Add Team Member"})]}),(ne=a.members)==null?void 0:ne.map((K,F)=>c.jsxs("div",{className:"section-box",children:[c.jsxs("div",{className:"section-header",children:[c.jsxs("h3",{children:["Team Member ",F+1]}),c.jsx("button",{type:"button",className:"remove-button",onClick:()=>j(F),children:"Remove"})]}),c.jsx("input",{type:"text",className:"text-input",value:K.name,onChange:re=>{const Q=[...a.members||[]];Q[F]={...Q[F],name:re.target.value},i(oe=>({...oe,members:Q}))},placeholder:"Enter name"}),c.jsx("input",{type:"text",className:"text-input",value:K.subText,onChange:re=>{const Q=[...a.members||[]];Q[F]={...Q[F],subText:re.target.value},i(oe=>({...oe,members:Q}))},placeholder:"Enter description"}),c.jsxs("div",{className:"image-upload-box",children:[c.jsx("h3",{children:"Member Image"}),c.jsx("input",{type:"file",className:"file-input",id:`team-member-image-${F}`,accept:"image/*",onChange:re=>re.target.files&&m(re.target.files[0],F)}),c.jsx("label",{htmlFor:`team-member-image-${F}`,children:c.jsx("span",{className:"file-name-truncatee",children:"Choose file"})}),K.image&&c.jsx("div",{className:"image-preview",children:c.jsx("img",{src:_(K.image),alt:K.name,onError:S})})]})]},F))]}))}):e==="life"?c.jsxs(c.Fragment,{children:[I("header",c.jsxs("div",{className:"section-box",children:[c.jsx("h2",{className:"section-title",children:"Header Text"}),c.jsx("input",{type:"text",className:"text-input",value:a.headerText||"",onChange:K=>i(F=>({...F,headerText:K.target.value})),placeholder:"Enter header text"}),c.jsx("textarea",{className:"text-input",value:a.description||"",onChange:K=>i(F=>({...F,description:K.target.value})),rows:3,placeholder:"Enter description"})]})),I("tabs",c.jsxs("div",{className:"section-box",children:[c.jsx("h2",{className:"section-title",children:"Tabs"}),(z=a.tabs)==null?void 0:z.map((K,F)=>c.jsx("input",{type:"text",className:"text-input",value:K,onChange:re=>{const Q=[...a.tabs||[]];Q[F]=re.target.value,i(oe=>({...oe,tabs:Q}))},placeholder:`Tab ${F+1}`},F))]})),I("gallery",c.jsxs("div",{className:"section-box",children:[c.jsxs("div",{className:"testimonials-header",children:[c.jsx("h2",{className:"section-title",children:"Gallery Images"}),c.jsx("button",{type:"button",className:"add-button",onClick:D,children:"Add Image"})]}),(J=a.galleryImages)==null?void 0:J.map((K,F)=>{var re;return c.jsxs("div",{className:"section-box",children:[c.jsxs("div",{className:"section-header",children:[c.jsxs("h3",{children:["Image ",F+1]}),c.jsx("button",{type:"button",className:"remove-button",onClick:()=>M(F),children:"Remove"})]}),c.jsx("input",{type:"text",className:"text-input",value:K.title,onChange:Q=>{const oe=[...a.galleryImages||[]];oe[F]={...oe[F],title:Q.target.value},i(me=>({...me,galleryImages:oe}))},placeholder:"Enter image title"}),c.jsx("textarea",{className:"text-input",value:K.description,onChange:Q=>{const oe=[...a.galleryImages||[]];oe[F]={...oe[F],description:Q.target.value},i(me=>({...me,galleryImages:oe}))},placeholder:"Enter image description"}),c.jsxs("div",{className:"tag-selector",children:[c.jsx("h3",{children:"Image Category"}),c.jsxs("select",{className:"tag-select",value:K.tags[0]||"",onChange:Q=>{const oe=Q.target.value,me=[...a.galleryImages||[]];me[F]={...me[F],tags:oe?[oe]:[]},i(be=>({...be,galleryImages:me}))},children:[c.jsx("option",{value:"",children:"Select a category"}),(re=a.tabs)==null?void 0:re.slice(1).map((Q,oe)=>c.jsx("option",{value:Q,children:Q},oe))]})]}),c.jsxs("div",{className:"image-upload-box",children:[c.jsx("h3",{children:"Image"}),c.jsx("input",{type:"file",className:"file-input",id:`gallery-image-${F}`,accept:"image/*",onChange:Q=>Q.target.files&&g(Q.target.files[0],F)}),c.jsx("label",{htmlFor:`gallery-image-${F}`,children:c.jsx("span",{className:"file-name-truncatee",children:"Choose file"})}),K.src&&c.jsx("div",{className:"image-preview",children:c.jsx("img",{src:_(K.src),alt:K.title,onError:S})})]})]},F)})]}))]}):e==="home"?c.jsxs(c.Fragment,{children:[I("header",c.jsxs("div",{className:"section-box",children:[c.jsx("h2",{className:"section-title",children:"Header Content"}),c.jsx("input",{type:"text",className:"text-input",value:a.headerTitle||"",onChange:K=>i(F=>({...F,headerTitle:K.target.value})),placeholder:"Enter main title"}),c.jsx("textarea",{className:"text-input",value:a.headerDescription||"",onChange:K=>i(F=>({...F,headerDescription:K.target.value})),placeholder:"Enter main description"})]})),I("features",c.jsxs("div",{className:"section-box",children:[c.jsxs("div",{className:"testimonials-header",children:[c.jsx("h2",{className:"section-title",children:"Feature Cards"}),c.jsx("button",{type:"button",className:"add-button",onClick:()=>{i(K=>({...K,features:[...K.features||[],{title:"",description:"",image:""}]}))},children:"Add Feature"})]}),(ee=a.features)==null?void 0:ee.map((K,F)=>c.jsxs("div",{className:"section-box",children:[c.jsxs("div",{className:"section-header",children:[c.jsxs("h3",{children:["Feature ",F+1]}),c.jsx("button",{type:"button",className:"remove-button",onClick:()=>{const re=[...a.features||[]];re.splice(F,1),i(Q=>({...Q,features:re}))},children:"Remove"})]}),c.jsx("input",{type:"text",className:"text-input",value:K.title,onChange:re=>{const Q=[...a.features||[]];Q[F]={...Q[F],title:re.target.value},i(oe=>({...oe,features:Q}))},placeholder:"Enter feature title"}),c.jsx("textarea",{className:"text-input",value:K.description,onChange:re=>{const Q=[...a.features||[]];Q[F]={...Q[F],description:re.target.value},i(oe=>({...oe,features:Q}))},placeholder:"Enter feature description"}),c.jsxs("div",{className:"image-upload-box",children:[c.jsx("h3",{children:"Feature Icon"}),c.jsx("input",{type:"file",className:"file-input",id:`feature-image-${F}`,accept:"image/*",onChange:re=>{re.target.files&&w(re.target.files[0],F)}}),c.jsx("label",{htmlFor:`feature-image-${F}`,children:c.jsx("span",{className:"file-name-truncatee",children:"Choose file"})}),K.image&&c.jsx("div",{className:"image-preview",children:c.jsx("img",{src:_(K.image),alt:K.title,onError:S})})]})]},F))]})),I("highlights",c.jsxs("div",{className:"section-box",children:[c.jsxs("div",{className:"testimonials-header",children:[c.jsx("h2",{className:"section-title",children:"Featured Highlights"}),c.jsx("button",{type:"button",className:"add-button",onClick:()=>{i(K=>({...K,highlights:[...K.highlights||[],{title:"",description:"",image:"",link:""}]}))},children:"Add Highlight"})]}),(G=a.highlights)==null?void 0:G.map((K,F)=>c.jsxs("div",{className:"section-box",children:[c.jsxs("div",{className:"section-header",children:[c.jsxs("h3",{children:["Highlight ",F+1]}),c.jsx("button",{type:"button",className:"remove-button",onClick:()=>{const re=[...a.highlights||[]];re.splice(F,1),i(Q=>({...Q,highlights:re}))},children:"Remove"})]}),c.jsx("input",{type:"text",className:"text-input",value:K.title,onChange:re=>{const Q=[...a.highlights||[]];Q[F]={...Q[F],title:re.target.value},i(oe=>({...oe,highlights:Q}))},placeholder:"Enter highlight title"}),c.jsx("textarea",{className:"text-input",value:K.description,onChange:re=>{const Q=[...a.highlights||[]];Q[F]={...Q[F],description:re.target.value},i(oe=>({...oe,highlights:Q}))},placeholder:"Enter highlight description"}),c.jsx("input",{type:"text",className:"text-input",value:K.link,onChange:re=>{const Q=[...a.highlights||[]];Q[F]={...Q[F],link:re.target.value},i(oe=>({...oe,highlights:Q}))},placeholder:"Enter highlight link (e.g., /grad)"}),c.jsxs("div",{className:"image-upload-box",children:[c.jsx("h3",{children:"Highlight Image"}),c.jsx("input",{type:"file",className:"file-input",id:`highlight-image-${F}`,accept:"image/*",onChange:re=>{re.target.files&&b(re.target.files[0],F)}}),c.jsx("label",{htmlFor:`highlight-image-${F}`,children:c.jsx("span",{className:"file-name-truncatee",children:"Choose file"})}),K.image&&c.jsx("div",{className:"image-preview",children:c.jsx("img",{src:_(K.image),alt:K.title,onError:S})})]})]},F))]})),I("community",c.jsxs("div",{className:"section-box",children:[c.jsx("h2",{className:"section-title",children:"Community Section"}),c.jsx("input",{type:"text",className:"text-input",value:((Z=a.community)==null?void 0:Z.title)||"",onChange:K=>i(F=>({...F,community:{...F.community,title:K.target.value}})),placeholder:"Enter section title"}),c.jsx("textarea",{className:"text-input",value:((se=a.community)==null?void 0:se.description)||"",onChange:K=>i(F=>{var re,Q;return{...F,community:{title:((re=F.community)==null?void 0:re.title)||"",description:K.target.value,image:(Q=F.community)==null?void 0:Q.image}}}),placeholder:"Enter section description"}),c.jsxs("div",{className:"image-upload-box",children:[c.jsx("h3",{children:"Community Image"}),c.jsx("input",{type:"file",className:"file-input",id:"community-image",accept:"image/*",onChange:K=>{K.target.files&&x(K.target.files[0])}}),c.jsx("label",{htmlFor:"community-image",children:c.jsx("span",{className:"file-name-truncatee",children:"Choose file"})}),((ae=a.community)==null?void 0:ae.image)&&c.jsx("div",{className:"image-preview",children:c.jsx("img",{src:_(a.community.image),alt:"Community",onError:S})})]})]})),I("testimonial-cards",c.jsxs("div",{className:"section-box",children:[c.jsxs("div",{className:"testimonials-header",children:[c.jsx("h2",{className:"section-title",children:"Testimonial Cards"}),c.jsx("button",{type:"button",className:"add-button",onClick:()=>{i(K=>({...K,testimonialCards:[...K.testimonialCards||[],{name:"",title:"",description:"",backDescription:"",image:""}]}))},children:"Add Testimonial Card"})]}),(Y=a.testimonialCards)==null?void 0:Y.map((K,F)=>c.jsxs("div",{className:"section-box",children:[c.jsxs("div",{className:"section-header",children:[c.jsxs("h3",{children:["Card ",F+1]}),c.jsx("button",{type:"button",className:"remove-button",onClick:()=>{const re=[...a.testimonialCards||[]];re.splice(F,1),i(Q=>({...Q,testimonialCards:re}))},children:"Remove"})]}),c.jsx("input",{type:"text",className:"text-input",value:K.name,onChange:re=>{const Q=[...a.testimonialCards||[]];Q[F]={...Q[F],name:re.target.value},i(oe=>({...oe,testimonialCards:Q}))},placeholder:"Enter name"}),c.jsx("input",{type:"text",className:"text-input",value:K.title,onChange:re=>{const Q=[...a.testimonialCards||[]];Q[F]={...Q[F],title:re.target.value},i(oe=>({...oe,testimonialCards:Q}))},placeholder:"Enter title"}),c.jsx("input",{type:"text",className:"text-input",value:K.description,onChange:re=>{const Q=[...a.testimonialCards||[]];Q[F]={...Q[F],description:re.target.value},i(oe=>({...oe,testimonialCards:Q}))},placeholder:"Enter front description"}),c.jsx("textarea",{className:"text-input",value:K.backDescription,onChange:re=>{const Q=[...a.testimonialCards||[]];Q[F]={...Q[F],backDescription:re.target.value},i(oe=>({...oe,testimonialCards:Q}))},placeholder:"Enter back description",rows:4}),c.jsxs("div",{className:"image-upload-box",children:[c.jsx("h3",{children:"Card Image"}),c.jsx("input",{type:"file",className:"file-input",id:`testimonial-card-image-${F}`,accept:"image/*",onChange:re=>re.target.files&&y(re.target.files[0],F)}),c.jsx("label",{htmlFor:`testimonial-card-image-${F}`,children:c.jsx("span",{className:"file-name-truncatee",children:"Choose file"})}),K.image&&c.jsx("div",{className:"image-preview",children:c.jsx("img",{src:_(K.image),alt:K.name,onError:S})})]})]},F))]}))]}):(X=a.sections)==null?void 0:X.map((K,F)=>c.jsxs("div",{className:"section-box",children:[c.jsxs("h2",{className:"section-title",children:["Section ",F+1]}),e==="partner"&&c.jsx("input",{type:"text",className:"text-input",value:K.title||"",onChange:re=>{const Q={...a};Q.sections[F]={...Q.sections[F],title:re.target.value},i(Q)},placeholder:"Enter section title"}),c.jsx("textarea",{className:"text-input",value:K.text,onChange:re=>{const Q={...a};Q.sections[F].text=re.target.value,i(Q)},rows:4,placeholder:"Enter section text"}),c.jsxs("div",{className:"image-upload-box",children:[c.jsx("h3",{className:"section-title",children:"Section Image"}),c.jsx("input",{type:"file",className:"file-input",id:`section-image-${F}`,accept:"image/*",onChange:re=>re.target.files&&h(re.target.files[0],F)}),c.jsx("label",{htmlFor:`section-image-${F}`,children:c.jsx("span",{className:"file-name-truncatee",children:"Choose file"})}),K.image&&c.jsx("div",{className:"image-preview",children:c.jsx("img",{src:_(K.image),alt:`Section ${F+1}`,onError:S})})]}),K.caption!==void 0&&c.jsx("input",{type:"text",className:"text-input",value:K.caption,onChange:re=>{const Q={...a};Q.sections[F].caption=re.target.value,i(Q)},placeholder:"Enter caption"})]},F))},B=I=>{const O=document.getElementById(I);O&&O.scrollIntoView({behavior:"smooth"}),s(I)},V=()=>{window.scrollTo({top:0,behavior:"smooth"})},q=I=>{t(I.target.value);const O=R();O.length>0&&s(O[0].id)};return c.jsxs("div",{className:"editor-container",children:[c.jsx("h1",{className:"editor-title",children:"Content Management"}),c.jsx("select",{className:"page-select",value:e,onChange:q,children:n.map(I=>c.jsx("option",{value:I,children:I.charAt(0).toUpperCase()+I.slice(1)},I))}),e&&c.jsxs("div",{className:"editor-layout",children:[c.jsx("div",{className:"editor-sidebar",children:c.jsx("ul",{className:"section-nav",children:R().map(I=>c.jsx("li",{className:o===I.id?"active":"",onClick:()=>B(I.id),children:I.label},I.id))})}),c.jsx("div",{className:"editor-main",children:c.jsxs("div",{className:"content-section",children:[e!=="home"&&e!=="contact"&&c.jsx("div",{id:"banner",className:`section-content ${o==="banner"?"active":""}`,children:c.jsxs("div",{className:"image-upload-box",children:[c.jsx("h2",{className:"section-title",children:"Banner Image"}),c.jsx("input",{type:"file",className:"file-input",id:"banner-image",accept:"image/*",onChange:I=>{I.target.files&&I.target.files.length>0?h(I.target.files[0],-1):console.error("No file selected")}}),c.jsx("label",{htmlFor:"banner-image",children:c.jsx("span",{className:"file-name-truncatee",children:"Choose file"})}),a.bannerImage&&c.jsx("div",{className:"image-preview",children:c.jsx("img",{src:_(a.bannerImage),alt:"Banner",onError:S})})]})}),W(),c.jsx("button",{className:"save-buttonsss",onClick:k,children:"Save Changes"})]})})]}),c.jsx("button",{className:`scroll-indicator ${l?"visible":""}`,onClick:V,children:""})]})}const bkt=()=>{const[e,t]=E.useState([]),[n,r]=E.useState([]),[a,i]=E.useState(!0),[o,s]=E.useState("pending"),[l,u]=E.useState(!1),[d,f]=E.useState(null),[h,p]=E.useState(""),[m,g]=E.useState(""),y=Zr();E.useEffect(()=>{x()},[]);const x=async()=>{try{const j={Authorization:`Bearer ${localStorage.getItem("token")}`},[D,M]=await Promise.all([Le.get("/scholars/pending-locations",{headers:j}),Le.get("/scholars/verified-locations",{headers:j})]);t(D.data),r(M.data),i(!1)}catch(T){console.error("Error fetching scholars:",T),i(!1)}},b=async(T,j)=>{var D,M;try{const R=e.find(O=>O.id===T);if(!R)throw new Error("Scholar not found");const W=R.latitude,B=R.longitude;let V="";try{const O=localStorage.getItem("token");V=(await Le.get(`/geocode/reverse?lat=${W}&lon=${B}`,{headers:{Authorization:`Bearer ${O}`}})).data.address}catch(O){console.error("Error getting address:",O),V="Address lookup failed"}const q=localStorage.getItem("token"),I=await Le.put(`/scholars/verify-location/${T}`,{verified:j,address:V},{headers:{Authorization:`Bearer ${q}`}});I.data.success&&(t(O=>O.filter(H=>H.id!==T)),r(O=>[...O,{...R,location_verified:!0,location_updated_at:I.data.verifiedAt,address:I.data.address}]),alert(`Location verified successfully.
Address: ${I.data.address}`)),await Le.post("/notifications/send",{userId:T,type:"location_verification",content:"Your location has been verified successfully! "},{headers:{Authorization:`Bearer ${q}`}})}catch(R){console.error("Error verifying location:",R),alert("Failed to verify location: "+(((M=(D=R.response)==null?void 0:D.data)==null?void 0:M.error)||R.message))}},w=async T=>{if(window.confirm("Are you sure you want to reject this location?"))try{const j=localStorage.getItem("token");(await Le.post(`/scholars/location-remarks/${T}/reject`,{location_remark:"Location verification rejected. Please update your location."},{headers:{Authorization:`Bearer ${j}`}})).data.success&&(t(M=>M.filter(R=>R.id!==T)),await Le.post("/notifications/send",{userId:T,type:"location_verification",content:"Your location has been rejected. Please update your location. "},{headers:{Authorization:`Bearer ${j}`}}),alert("Location has been rejected. Scholar will need to set their location again."))}catch(j){console.error("Error rejecting location:",j),alert("Failed to reject location")}},_=async T=>{const j=e.find(D=>D.id===T);f(j||null),u(!0)},S=async()=>{if(!(!d||!h||!m))try{const T=localStorage.getItem("token");await Le.post(`/scholars/location-remark/${d.id}`,{remark:h,visitDate:m},{headers:{Authorization:`Bearer ${T}`}}),await Le.post("/notifications/send",{userId:d.id,type:"location_remark",content:`Scheduled visit: ${new Date(m).toLocaleDateString()} `},{headers:{Authorization:`Bearer ${T}`}}),await x(),u(!1),p(""),g(""),f(null),alert("Remark added successfully")}catch(T){console.error("Error adding remark:",T),alert("Failed to add remark")}},k=(T,j)=>{window.open(`https://www.google.com/maps?q=${T},${j}`,"_blank")},N=()=>{y("/Maps?filter=scholars")},P=async T=>{if(window.confirm("Are you sure you want to delete this verification? The scholar will need to set their location again."))try{const j=localStorage.getItem("token");(await Le.put(`/scholars/reset-location/${T}`,{},{headers:{Authorization:`Bearer ${j}`}})).data.success&&(r(M=>M.filter(R=>R.id!==T)),await x(),alert("Verification has been removed successfully."))}catch(j){console.error("Error deleting verification:",j),alert("Failed to delete verification")}};return a?c.jsx("div",{className:"loading",children:"Loading..."}):c.jsxs("div",{className:"scholar-location-container",children:[c.jsxs("div",{className:"header-section",children:[c.jsx("h1",{children:"Scholar Location Management"}),c.jsxs("button",{className:"view-map-button",onClick:N,children:[c.jsx(N7e,{})," View All on Map"]})]}),c.jsxs("div",{className:"tabs",children:[c.jsxs("button",{className:`tab ${o==="pending"?"active":""}`,onClick:()=>s("pending"),children:["Pending Verification (",e.length,")"]}),c.jsxs("button",{className:`tab ${o==="verified"?"active":""}`,onClick:()=>s("verified"),children:["Verified Locations (",n.length,")"]})]}),c.jsx("div",{className:"scholars-list",children:o==="pending"?e.length===0?c.jsx("div",{className:"no-scholars",children:"No pending location verifications"}):e.map(T=>pQ(T,b,w,_,k,"pending")):n.length===0?c.jsx("div",{className:"no-scholars",children:"No verified locations yet"}):n.map(T=>pQ(T,b,w,_,k,"verified",P))}),l&&c.jsx("div",{className:"modal-overlay",children:c.jsxs("div",{className:"modal-content",children:[c.jsx("h2",{children:"Add Visit Remark"}),c.jsxs("h3",{children:["Scholar: ",d==null?void 0:d.name]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Visit Date:"}),c.jsx("input",{type:"date",value:m,onChange:T=>g(T.target.value),min:new Date().toISOString().split("T")[0],required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Remark:"}),c.jsx("textarea",{value:h,onChange:T=>p(T.target.value),placeholder:"Enter your remark about the scheduled visit...",required:!0})]}),c.jsxs("div",{className:"modal-actions",children:[c.jsx("button",{onClick:S,className:"submit-buttonss",children:"Submit Remark"}),c.jsx("button",{onClick:()=>{u(!1),p(""),g(""),f(null)},className:"cancel-button",children:"Cancel"})]})]})})]})},pQ=(e,t,n,r,a,i="pending",o)=>c.jsxs("div",{className:"scholar-cardss",children:[c.jsxs("div",{className:"scholar-info",children:[c.jsx("img",{src:e.profile_photo||"images/default-avatar.jpg",alt:e.name,className:"scholar-photo"}),c.jsxs("div",{className:"scholar-details",children:[c.jsx("h3",{children:e.name}),c.jsxs("p",{className:"email",children:[c.jsx("strong",{children:"Email:"})," ",e.email]}),e.phone&&c.jsxs("p",{className:"phone",children:[c.jsx("strong",{children:"Phone:"})," ",e.phone]}),c.jsxs("p",{className:"location",children:[c.jsx(jle,{}),c.jsx("strong",{children:"Coordinates:"})," ",parseFloat(e.latitude).toFixed(6),", ",parseFloat(e.longitude).toFixed(6)]}),e.address&&c.jsxs("p",{className:"address",children:[c.jsx("strong",{children:"Address:"})," ",e.address]}),c.jsxs("p",{className:"timestamp",children:[c.jsx("strong",{children:"Location set on:"})," ",new Date(e.location_updated_at).toLocaleString()]})]})]}),c.jsxs("div",{className:"action-buttons",children:[c.jsx("button",{className:"map-button",onClick:()=>a(parseFloat(e.latitude),parseFloat(e.longitude)),children:"View on Map"}),i==="pending"?c.jsxs(c.Fragment,{children:[c.jsxs("button",{className:"verify-button",onClick:()=>t(e.id,!0),children:[c.jsx(E7e,{})," Verify"]}),c.jsxs("button",{className:"reject-button",onClick:()=>n(e.id),children:[c.jsx(T7e,{})," Reject"]}),c.jsxs("button",{className:"remark-button",onClick:()=>r(e.id),children:[c.jsx(k7e,{})," Add Remark"]})]}):c.jsxs("button",{className:"delete-button",onClick:()=>o==null?void 0:o(e.id),children:[c.jsx(j7e,{})," Delete"]})]})]},e.id),il={primary:"#FF3D00",shades:["#FFE6E6","#FFCCCC","#FF9999","#FF6666","#FF3333","#FF0000","#CC0000","#990000"]},wkt=()=>{const[e,t]=E.useState([]),[n,r]=E.useState(!0),a=E.useRef(null),[i,o]=E.useState(!1),[s,l]=E.useState(new Date(new Date().setDate(new Date().getDate()-30))),[u,d]=E.useState(new Date),[f,h]=E.useState(!1),[p,m]=E.useState(null),g=E.useRef(null),y=E.useRef(null),x=E.useRef(null);E.useEffect(()=>{b()},[s,u,f]);const b=async()=>{try{r(!0),m(null),console.log("Fetching with filters:",{isFilterApplied:f,startDate:s.toISOString().split("T")[0],endDate:u.toISOString().split("T")[0]});let T="/forum/polls/analytics";f&&(T+=`?startDate=${s.toISOString().split("T")[0]}&endDate=${u.toISOString().split("T")[0]}`);const j=await Le.get(T);console.log("Response data:",j.data),t(j.data),r(!1)}catch(T){console.error("Error fetching poll data:",T),m("Failed to fetch data with selected date range"),r(!1)}},w=()=>{const T=e.reduce((j,D)=>(j[D.category]=(j[D.category]||0)+D.totalVotes,j),{});return{labels:Object.keys(T),datasets:[{label:"Total Votes",data:Object.values(T),backgroundColor:il.shades[3],borderWidth:1,borderColor:il.primary}]}},_=()=>{const T=e.map(j=>({name:j.title,votes:j.totalVotes}));return{labels:T.map(j=>j.name),datasets:[{data:T.map(j=>j.votes),backgroundColor:il.shades,borderColor:il.primary,borderWidth:1}]}},S=()=>{const T=[...e].sort((j,D)=>new Date(j.created_at).getTime()-new Date(D.created_at).getTime());return{labels:T.map(j=>new Date(j.created_at).toLocaleDateString()),datasets:[{label:"Engagement Over Time",data:T.map(j=>j.totalVotes),borderColor:il.primary,backgroundColor:`${il.primary}20`,tension:.4,fill:!0,pointBackgroundColor:il.primary,pointBorderColor:"#fff",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:il.primary}]}},k=()=>{if(s>u){m("Start date cannot be after end date");return}console.log("Applying date filter:",{startDate:s,endDate:u}),h(!0),o(!1)},N=()=>{l(new Date(new Date().setDate(new Date().getDate()-30))),d(new Date),h(!1)},P=()=>{try{sn.info("Preparing export...");const T=window.open("","_blank");if(!T){sn.error("Pop-up blocked. Please allow pop-ups for this site.");return}let j="",D="",M="";g.current&&(j=g.current.toBase64Image()),y.current&&(D=y.current.toBase64Image()),x.current&&(M=x.current.toBase64Image());const R=`
        <html>
          <head>
            <title>Forum Analytics Report</title>
            <style>
              body { font-family: Arial, sans-serif; margin: 20px; }
              h2, h3 { color: #FF3D00; }
              .chart-container { margin-bottom: 20px; }
              .poll-details { margin-bottom: 20px; }
              .poll-item { margin-bottom: 10px; }
              .poll-options { margin-left: 20px; }
              .poll-option { margin-bottom: 5px; }
              .option-bar { height: 10px; background-color: #f0f0f0; }
              .option-progress { height: 100%; }
            </style>
          </head>
          <body>
            <h2>Forum Poll Analytics</h2>
            <div class="poll-details">
              ${e.map(W=>`
                <div class="poll-item">
                  <h3>${W.title}</h3>
                  <div class="poll-options">
                    ${W.options.map(B=>`
                      <div class="poll-option">
                        <div class="option-info">
                          <span class="option-text">${B.text}</span>
                          <span class="option-votes">${B.votes} votes (${(B.votes/W.totalVotes*100).toFixed(1)}%)</span>
                        </div>
                        <div class="option-bar">
                          <div class="option-progress" style="width: ${B.votes/W.totalVotes*100}%; background-color: ${il.shades[W.options.indexOf(B)%il.shades.length]};"></div>
                        </div>
                      </div>
                    `).join("")}
                  </div>
                  <div class="poll-meta">
                    <div>Total Votes: ${W.totalVotes}</div>
                    <div>Category: ${W.category}</div>
                  </div>
                </div>
              `).join("")}
            </div>
            <div class="chart-container">
              <h3>Votes by Category</h3>
              <img src="${j}" alt="Bar Chart" />
            </div>
            <div class="chart-container">
              <h3>Poll Distribution</h3>
              <img src="${D}" alt="Doughnut Chart" />
            </div>
            <div class="chart-container">
              <h3>Engagement Timeline</h3>
              <img src="${M}" alt="Line Chart" />
            </div>
          </body>
        </html>
      `;T.document.write(R),T.document.close(),T.print(),T.close(),sn.success("Export completed successfully!")}catch(T){console.error("Error during export:",T),sn.error("Failed to export data. Please try again.")}};return n?c.jsxs("div",{className:"forum-analytics-loading",children:[c.jsx(gL,{}),c.jsx(fa,{children:"Loading analytics data..."})]}):c.jsxs("div",{className:"analytics-section forum-analytics",ref:a,children:[c.jsxs("div",{className:"analytics-header",children:[c.jsxs("div",{className:"header-lefts",children:[c.jsx(lz,{className:"header-icon"}),c.jsx("h2",{children:"Forum Poll"})]}),c.jsxs("div",{className:"header-right-section",children:[c.jsxs("div",{className:"forum-filter-container",children:[p&&c.jsx("div",{className:"forum-error-message",children:p}),c.jsxs("div",{className:"forum-date-filter-button",onClick:()=>o(!i),children:[c.jsx(bL,{size:14,color:"#FF3D00"}),c.jsx("span",{children:f?`${s.toLocaleDateString()} to ${u.toLocaleDateString()}`:"Filter by Date"})]}),f&&c.jsx("button",{className:"forum-date-reset-button",onClick:N,children:"Reset"}),i&&c.jsxs("div",{className:"forum-date-filter-dropdown",children:[c.jsxs("div",{className:"forum-date-filter-inputs",children:[c.jsxs("div",{className:"forum-date-input-group",children:[c.jsx("label",{children:"From:"}),c.jsx(v0,{selected:s,onChange:T=>T&&l(T),selectsStart:!0,startDate:s,endDate:u,maxDate:new Date,className:"forum-date-picker"})]}),c.jsxs("div",{className:"forum-date-input-group",children:[c.jsx("label",{children:"To:"}),c.jsx(v0,{selected:u,onChange:T=>T&&d(T),selectsEnd:!0,startDate:s,endDate:u,minDate:s,maxDate:new Date,className:"forum-date-picker"})]})]}),c.jsxs("div",{className:"forum-date-filter-actions",children:[c.jsx("button",{className:"forum-apply-filter-button",onClick:k,children:"Apply Filter"}),c.jsx("button",{className:"forum-cancel-filter-button",onClick:()=>o(!1),children:"Cancel"})]})]})]}),c.jsxs("div",{className:"header-actions",children:[c.jsxs("button",{className:"action-button print",onClick:T=>P(),children:[c.jsx(Fne,{})," Export Report"]}),c.jsxs("button",{className:"action-button export",onClick:()=>{const T=JSON.stringify(e,null,2),j=new Blob([T],{type:"application/json"}),D=URL.createObjectURL(j),M=document.createElement("a");M.href=D,M.download="forum-analytics.json",document.body.appendChild(M),M.click(),document.body.removeChild(M),URL.revokeObjectURL(D)},children:[c.jsx(Mne,{})," Export Data"]})]})]})]}),f&&c.jsxs("div",{className:"forum-filter-active-bar",children:[c.jsx(pc,{size:16,color:"#FF3D00"}),c.jsxs("span",{children:["Showing data from ",s.toLocaleDateString()," to ",u.toLocaleDateString()]})]}),c.jsxs("div",{className:"analytics-grid",children:[c.jsxs("div",{className:"analytics-card full-width",children:[c.jsxs("div",{className:"card-header",children:[c.jsx(lz,{className:"card-icon"}),c.jsx("h3",{children:"Detailed Poll Results"})]}),c.jsx("div",{className:"poll-details",children:e.map((T,j)=>c.jsxs("div",{className:"poll-item",children:[c.jsx("h4",{children:T.title}),c.jsx("div",{className:"poll-options",children:T.options.map((D,M)=>c.jsxs("div",{className:"poll-option",children:[c.jsxs("div",{className:"option-info",children:[c.jsx("span",{className:"option-text",children:D.text}),c.jsxs("span",{className:"option-votes",children:[D.votes," votes ",T.totalVotes>0&&`(${(D.votes/T.totalVotes*100).toFixed(1)}%)`]})]}),c.jsx("div",{className:"option-bar",children:c.jsx("div",{className:"option-progress",style:{width:T.totalVotes>0?`${D.votes/T.totalVotes*100}%`:"0%",backgroundColor:il.shades[M%il.shades.length]}})})]},M))}),c.jsxs("div",{className:"poll-meta",children:[c.jsxs("div",{children:["Total Votes: ",T.totalVotes]}),c.jsxs("div",{children:["Category: ",T.category]})]})]},j))})]}),c.jsxs("div",{className:"analytics-card full-width",children:[c.jsxs("div",{className:"card-header",children:[c.jsx(oz,{className:"card-icon"}),c.jsx("h3",{children:"Votes by Category"})]}),c.jsx("div",{className:"chart-container",children:c.jsx(ZE,{ref:g,data:w(),options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{x:{ticks:{callback:function(T){const j=this.getLabelForValue(T),D=15;if(typeof j=="string")return j.length>D?j.slice(0,D)+"...":j},autoSkip:!0,maxRotation:0,minRotation:0,font:{size:10,family:"'Poppins', sans-serif"}}},y:{beginAtZero:!0,grid:{display:!1},ticks:{font:{size:10,family:"'Poppins', sans-serif"}}}},layout:{padding:{left:5,right:5,top:5,bottom:15}}}})})]}),c.jsxs("div",{className:"chart-pair-container",children:[c.jsxs("div",{className:"analytics-card",children:[c.jsxs("div",{className:"card-header",children:[c.jsx(FSe,{className:"card-icon"}),c.jsx("h3",{children:"Poll Distribution"})]}),c.jsx("div",{className:"chart-container",children:c.jsx(l$,{ref:y,data:_(),options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom"}}}})})]}),c.jsxs("div",{className:"analytics-card",children:[c.jsxs("div",{className:"card-header",children:[c.jsx(oz,{className:"card-icon"}),c.jsx("h3",{children:"Engagement Timeline"})]}),c.jsx("div",{className:"chart-container",children:c.jsx(Oce,{ref:x,data:S(),options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom"}}}})})]})]})]})]})},_kt="modulepreload",Skt=function(e){return"/"+e},mQ={},Ckt=function(t,n,r){let a=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),s=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.allSettled(n.map(l=>{if(l=Skt(l),l in mQ)return;mQ[l]=!0;const u=l.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":_kt,u||(f.as="script"),f.crossOrigin="",f.href=l,s&&f.setAttribute("nonce",s),document.head.appendChild(f),u)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o}return a.then(o=>{for(const s of o||[])s.status==="rejected"&&i(s.reason);return t().catch(i)})};class Ekt extends le.Component{constructor(n){super(n);Mt(this,"originalConsoleError",console.error);this.state={hasError:!1}}componentDidMount(){this.originalConsoleError=console.error,console.error=(...n)=>{var r,a;(a=(r=n[0])==null?void 0:r.includes)!=null&&a.call(r,"Support for defaultProps will be removed")||this.originalConsoleError.apply(console,n)}}componentWillUnmount(){this.originalConsoleError&&(console.error=this.originalConsoleError)}static getDerivedStateFromError(n){return{hasError:!0}}render(){return this.state.hasError?this.props.fallback||c.jsx("div",{children:"Something went wrong with the word cloud."}):this.props.children}}const Nkt=E.lazy(()=>Ckt(()=>import("./index.module.DKPvqZLH.js"),[]).then(e=>({default:({words:t,options:n})=>c.jsx("div",{style:{width:"100%",height:"300px"},children:c.jsx(e.default,{words:t,options:n})})}))),kkt=({words:e,options:t})=>c.jsx(Ekt,{fallback:c.jsx("div",{style:{width:"100%",height:"300px",display:"flex",justifyContent:"center",alignItems:"center"},children:"Unable to load word cloud"}),children:c.jsx(E.Suspense,{fallback:c.jsx("div",{style:{width:"100%",height:"300px",display:"flex",justifyContent:"center",alignItems:"center"},children:"Loading word cloud..."}),children:c.jsx(Nkt,{words:e,options:t})})}),jkt=()=>{var V,q;const[e,t]=E.useState(null),[n,r]=E.useState(null),[a,i]=E.useState(null),[o,s]=E.useState(!0),[l,u]=E.useState(null),[d,f]=E.useState(!1),[h,p]=E.useState(new Date(new Date().setDate(new Date().getDate()-30))),[m,g]=E.useState(new Date),[y,x]=E.useState(!1),b=E.useRef(null),w=E.useRef(null),[_,S]=E.useState("scholar"),[k,N]=E.useState({labels:["Positive","Neutral","Negative"],datasets:[{data:[0,0,0],backgroundColor:["#4CAF50","#FFC107","#FF5252"],borderWidth:0}]});E.useEffect(()=>{const I=async()=>{s(!0),u(null);try{let H="/admin/feedback-analytics";y&&(H+=`?startDate=${h.toISOString().split("T")[0]}&endDate=${m.toISOString().split("T")[0]}`);const{data:ne}=await Le.get(H);t(ne)}catch(H){console.error("Error fetching feedback analytics:",H),u("Failed to load analytics data. Please try again later.")}finally{s(!1)}};I();const O=setInterval(I,3e5);return()=>clearInterval(O)},[h,m,y]);const P=()=>{if(h>m){u("Start date cannot be after end date");return}x(!0),f(!1)},T=()=>{p(new Date(new Date().setDate(new Date().getDate()-30))),g(new Date),x(!1),r(null),i(null)},j=()=>{try{sn.info("Preparing export...");const I=window.open("","_blank");if(!I){sn.error("Pop-up blocked. Please allow pop-ups for this site.");return}let O="";b.current&&(O=b.current.canvas.toDataURL("image/png"));const H=new Date().toLocaleDateString(),ne=y?`${h.toLocaleDateString()} to ${m.toLocaleDateString()}`:"Last 30 days";if(!e){sn.error("Analytics data not available for export"),I.close();return}I.document.write(`
        <!DOCTYPE html>
        <html>
        <head>
          <title>Event Feedback Analytics Export - ${H}</title>
          <style>
            body {
              font-family: Arial, sans-serif;
              line-height: 1.6;
              color: #333;
              padding: 20px;
            }
            h1, h2, h3 {
              color: #EE3F24;
              text-align: center;
            }
            .header {
              display: flex;
              justify-content: space-between;
              align-items: center;
              margin-bottom: 20px;
              border-bottom: 2px solid #EE3F24;
              padding-bottom: 10px;
            }
            .date {
              font-weight: normal;
              font-size: 14px;
              color: #666;
            }
            .stats-grid {
              display: grid;
              grid-template-columns: repeat(3, 1fr);
              gap: 20px;
              margin-bottom: 30px;
            }
            .stat-card {
              border: 1px solid #ddd;
              border-radius: 8px;
              padding: 15px;
              text-align: center;
            }
            .chart-container {
              margin: 20px 0;
              page-break-inside: avoid;
              border: 1px solid #eee;
              padding: 15px;
              border-radius: 8px;
              text-align: center;
            }
            .chart-img {
              max-width: 500px;
              height: auto;
              display: block;
              margin: 0 auto;
            }
            .feedback-list {
              margin-top: 30px;
            }
            .event-feedback {
              margin-bottom: 20px;
              page-break-inside: avoid;
              border: 1px solid #eee;
              padding: 15px;
              border-radius: 8px;
            }
            .feedback-item {
              padding: 10px 0;
              border-bottom: 1px solid #eee;
            }
            .rating {
              color: #FF9800;
            }
            .word-frequency {
              columns: 3;
              margin: 0 auto;
              max-width: 600px;
              text-align: left;
            }
            .word-frequency-item {
              break-inside: avoid;
              margin-bottom: 5px;
            }
            @media print {
              body {
                padding: 0;
                margin: 20px;
              }
              h1 {
                font-size: 18px;
              }
              h2 {
                font-size: 16px;
              }
              h3 {
                font-size: 14px;
              }
              .no-break {
                page-break-inside: avoid;
              }
              .page-break {
                page-break-before: always;
              }
            }
          </style>
        </head>
        <body>
          <div class="header">
            <h1>Event Feedback Analytics Report</h1>
            <div class="date">Generated: ${H}<br>Period: ${ne}</div>
          </div>
          
          <div class="stats-grid">
            <div class="stat-card">
              <h3>Overall Rating</h3>
              <h2>${W} / 5.0</h2>
            </div>
            <div class="stat-card">
              <h3>Total Feedback</h3>
              <h2>${e.overallStats.total_feedback}</h2>
            </div>
            <div class="stat-card">
              <h3>Events with Feedback</h3>
              <h2>${e.overallStats.events_with_feedback}</2>
            </div>
          </div>
          
          <div class="chart-container">
            <h2>Feedback Sentiment Distribution</h2>
            ${O?`<img src="${O}" class="chart-img" alt="Sentiment Chart" />`:"Chart not available"}
          </div>
          
          <div class="chart-container">
            <h2>Common Feedback Themes</h2>
            <div class="word-frequency">
              ${B.slice(0,30).map((z,J)=>`<div class="word-frequency-item">${J+1}. ${z.text} (${z.value})</div>`).join("")}
            </div>
          </div>
          
          <div class="feedback-list">
            <h2>Event Feedback Summary</h2>
            ${e.eventStats.filter(z=>!n||z.id===n).map(z=>`
                <div class="event-feedback no-break">
                  <h3>${z.title}</h3>
                  <p>Average Rating: ${z.average_rating.toFixed(1)} | Total Feedback: ${z.feedback_count}</p>
                  ${z.feedback_details.filter(J=>!a||J.rating===a).slice(0,5).map(J=>`
                      <div class="feedback-item">
                        <div class="rating">${"".repeat(J.rating)}</div>
                        <p>${J.comment}</p>
                        <small>${J.user_name} - ${new Date(J.created_at).toLocaleDateString()}</small>
                      </div>
                    `).join("")}
                </div>
              `).join("")}
          </div>
          
          <script>
            window.onload = function() {
              window.print();
            }
          <\/script>
        </body>
        </html>
      `),I.document.close(),sn.success("Export ready. A print dialog will open.")}catch(I){console.error("Error exporting feedback:",I),sn.error("Failed to export feedback data")}};E.useEffect(()=>{e&&D()},[_,n,a,e]);const D=()=>{if(!e)return;let I=0,O=0,H=0;console.log(`Updating sentiment chart for role: ${_}`);const ne=e.eventStats.filter(z=>!n||z.id===n);_==="scholar"?(ne.forEach(z=>{z.feedback_details.filter(ee=>ee.user_role==="scholar"&&(!a||ee.rating===a)).forEach(ee=>{ee.rating>=4?I++:ee.rating===3?O++:ee.rating<=2&&H++})}),console.log(`Scholar feedback sentiment counts: ${I} positive, ${O} neutral, ${H} negative`)):_==="volunteer"&&(ne.forEach(z=>{z.feedback_details.filter(ee=>ee.user_role==="volunteer"&&(!a||ee.rating===a)).forEach(ee=>{ee.rating>=4?I++:ee.rating===3?O++:ee.rating<=2&&H++})}),console.log(`Volunteer feedback sentiment counts: ${I} positive, ${O} neutral, ${H} negative`)),I===0&&O===0&&H===0&&(I=e.sentimentStats.positive_feedback,O=e.sentimentStats.neutral_feedback,H=e.sentimentStats.negative_feedback),N({labels:["Positive","Neutral","Negative"],datasets:[{data:[I,O,H],backgroundColor:["#4CAF50","#FFC107","#FF5252"],borderWidth:0}]})},M=()=>{if(!e)return[];if(console.log("Selected role for word cloud:",_),_==="scholar"){let I=[];return e.eventStats.filter(O=>!n||O.id===n).forEach(O=>{const H=O.feedback_details.filter(ne=>ne.user_role==="scholar"&&(!a||ne.rating===a));console.log(`Event ${O.id}: Found ${H.length} scholar feedback comments`),H.forEach(ne=>{ne.comment&&ne.comment.trim()&&I.push(ne.comment)})}),console.log(`Total scholar comments found: ${I.length}`),I.length===0?(console.log("No scholar comments to analyze"),[]):(I.length>0&&console.log("Sample scholar comments:",I.slice(0,2)),R(I))}else if(_==="volunteer"){let I=[];return e.eventStats.filter(O=>!n||O.id===n).forEach(O=>{const H=O.feedback_details.filter(ne=>ne.user_role==="volunteer"&&(!a||ne.rating===a));console.log(`Event ${O.id}: Found ${H.length} volunteer feedback comments`),H.forEach(ne=>{ne.comment&&ne.comment.trim()&&I.push(ne.comment)})}),console.log(`Total volunteer comments found: ${I.length}`),I.length===0?(console.log("No volunteer comments to analyze"),[]):(I.length>0&&console.log("Sample volunteer comments:",I.slice(0,2)),R(I))}return[]},R=I=>{const H=I.join(" ").toLowerCase().match(/\b[a-z]{4,}\b/g)||[],ne=new Set(["with","this","that","from","have","were","they","will","would","should","could","what","when","where","which","your","their","very","some","just","because","about"]),z={};return H.forEach(J=>{ne.has(J)||(z[J]=(z[J]||0)+1)}),Object.entries(z).map(([J,ee])=>({text:J,value:ee})).sort((J,ee)=>ee.value-J.value).slice(0,30)},W=((V=e==null?void 0:e.overallStats)==null?void 0:V.average_rating)!==void 0?Number(e.overallStats.average_rating).toFixed(1):"0.0",B=((q=e==null?void 0:e.wordFrequency)==null?void 0:q.map(({word:I,frequency:O})=>({text:I,value:O})))||[];return o?c.jsx("div",{className:"loading-container",children:"Loading analytics data..."}):l&&!e?c.jsx("div",{className:"error-container",children:l}):e?c.jsxs("div",{className:"feedback-analytics-container",children:[l&&c.jsx("div",{className:"error-banner",children:l}),c.jsxs("div",{className:"feedback-filter-container",children:[c.jsxs("div",{className:"feedback-date-filter-button",onClick:()=>f(!d),children:[c.jsx(bL,{size:14,color:"#FF3D00"}),c.jsx("span",{children:y?`${h.toLocaleDateString()} to ${m.toLocaleDateString()}`:"Filter by Date"})]}),y&&c.jsx("button",{className:"feedback-date-reset-button",onClick:T,children:"Reset"}),c.jsxs("button",{className:"feedback-export-button",onClick:j,title:"Export feedback data",children:[c.jsx(Fne,{size:14}),c.jsx("span",{children:"Export"})]}),d&&c.jsxs("div",{className:"feedback-date-filter-dropdown",children:[c.jsxs("div",{className:"feedback-date-filter-inputs",children:[c.jsxs("div",{className:"feedback-date-input-group",children:[c.jsx("label",{children:"From:"}),c.jsx(v0,{selected:h,onChange:I=>I&&p(I),selectsStart:!0,startDate:h,endDate:m,maxDate:new Date,className:"feedback-date-picker"})]}),c.jsxs("div",{className:"feedback-date-input-group",children:[c.jsx("label",{children:"To:"}),c.jsx(v0,{selected:m,onChange:I=>I&&g(I),selectsEnd:!0,startDate:h,endDate:m,minDate:h,maxDate:new Date,className:"feedback-date-picker"})]})]}),c.jsxs("div",{className:"feedback-date-filter-actions",children:[c.jsx("button",{className:"feedback-apply-filter-button",onClick:P,children:"Apply Filter"}),c.jsx("button",{className:"feedback-cancel-filter-button",onClick:()=>f(!1),children:"Cancel"})]})]})]}),y&&c.jsxs("div",{className:"feedback-filter-active-bar",children:[c.jsx(pc,{size:16,color:"#FF3D00"}),c.jsxs("span",{children:["Showing data from ",h.toLocaleDateString()," to ",m.toLocaleDateString()]})]}),c.jsx("div",{className:"feedback-header",children:c.jsx("p",{children:"Event Feedback"})}),c.jsxs("div",{className:"stats-grid",children:[c.jsxs("div",{className:"stat-card highlight-card",children:[c.jsx("h3",{children:"Overall Rating"}),c.jsxs("h2",{children:[W," / 5.0"]})]}),c.jsxs("div",{className:"stat-card",children:[c.jsx("h3",{children:"Total Feedback"}),c.jsx("h2",{children:e.overallStats.total_feedback})]}),c.jsxs("div",{className:"stat-card",children:[c.jsx("h3",{children:"Events with Feedback"}),c.jsx("h2",{children:e.overallStats.events_with_feedback})]})]}),c.jsxs("div",{className:"charts-section",children:[c.jsxs("div",{className:"sentiment-chart",children:[c.jsx("h2",{children:_==="scholar"?"Scholar Feedback Sentiment":"Volunteer Feedback Sentiment"}),c.jsx("div",{children:c.jsx(GVe,{ref:b,data:k,options:{maintainAspectRatio:!0,responsive:!0,plugins:{legend:{position:"bottom",labels:{padding:20,usePointStyle:!0}},tooltip:{callbacks:{label:function(I){const O=I.label||"",H=I.parsed||0,z=I.dataset.data.reduce((ee,G)=>ee+G,0),J=z>0?Math.round(H/z*100):0;return`${O}: ${H} (${J}%)`}}}}}})})]}),c.jsxs("div",{className:"word-cloud-container",ref:w,children:[c.jsx("h2",{children:_==="scholar"?"Top Words in Scholar Feedback":"Top Words in Volunteer Feedback"}),c.jsx(kkt,{words:M(),options:{colors:["#FF3D00","#FF6E40","#FF9E80"],fontFamily:"Inter",fontSizes:[20,60],rotations:0,rotationAngles:[0,0],deterministic:!0,enableTooltip:!0,padding:3,fontStyle:"normal",fontWeight:"normal",transitionDuration:300}})]})]}),c.jsxs("div",{className:"feedback-role-tabs",children:[c.jsx("button",{className:_==="scholar"?"role-tab-active":"",onClick:()=>S("scholar"),children:"Scholar Feedback"}),c.jsx("button",{className:_==="volunteer"?"role-tab-active":"",onClick:()=>S("volunteer"),children:"Volunteer Feedback"})]}),c.jsxs("div",{className:"feedback-filters",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"event-select",children:"Event:"}),c.jsxs("select",{id:"event-select",onChange:I=>r(I.target.value?Number(I.target.value):null),value:n||"",children:[c.jsx("option",{value:"",children:"All Events"}),e.eventStats.map(I=>c.jsx("option",{value:I.id,children:I.title},I.id))]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"rating-select",children:"Rating:"}),c.jsxs("select",{id:"rating-select",onChange:I=>i(I.target.value?Number(I.target.value):null),value:a||"",children:[c.jsx("option",{value:"",children:"All Ratings"}),[5,4,3,2,1].map(I=>c.jsxs("option",{value:I,children:[I," Stars"]},I))]})]})]}),_==="scholar"&&c.jsxs("div",{className:"scholar-feedback-section",children:[c.jsx("h2",{className:"section-title",children:"Scholar Feedback"}),c.jsxs("div",{className:"scholar-feedback-category",children:[c.jsx("h3",{className:"category-title",children:"Event Feedback"}),c.jsx("div",{className:"events-feedback-grid",children:e.eventStats.filter(I=>!n||I.id===n).map(I=>{const O=I.feedback_details.filter(H=>H.user_role==="scholar"&&(!a||H.rating===a));return O.length===0?null:c.jsxs("div",{className:"event-feedback-card scholar-card",children:[c.jsx("h3",{children:I.title}),c.jsxs("p",{children:["Scholar Feedback: ",O.length]}),c.jsx("div",{className:"feedback-list",children:O.map((H,ne)=>c.jsxs("div",{className:"feedback-item",children:[c.jsx("div",{className:"rating",children:"".repeat(H.rating)}),c.jsx("p",{children:H.comment}),c.jsxs("small",{children:[H.user_name," -",new Date(H.created_at).toLocaleDateString()]})]},ne))})]},`scholar-${I.id}`)}).filter(Boolean)}),e.eventStats.filter(I=>!n||I.id===n).every(I=>!I.feedback_details.find(O=>O.user_role==="scholar"&&(!a||O.rating===a)))&&c.jsx("div",{className:"no-feedback-container",children:c.jsx("p",{children:"No scholar feedback found for events."})})]}),c.jsxs("div",{className:"scholar-feedback-category",children:[c.jsx("h3",{className:"category-title",children:"Volunteer Feedback"}),c.jsx("div",{className:"volunteer-feedback-grid",children:e.volunteerFeedback.filter(I=>!n||I.event_id===n).length===0?c.jsx("div",{className:"no-feedback-container",children:c.jsx("p",{children:"No volunteer feedback has been submitted by scholars yet."})}):e.volunteerFeedback.filter(I=>!n||I.event_id===n).map((I,O)=>c.jsxs("div",{className:"volunteer-feedback-card",children:[c.jsx("h3",{children:I.event_title}),c.jsxs("div",{className:"feedback-item volunteer",children:[c.jsx("p",{className:"feedback-comment",children:I.volunteer_comment}),c.jsxs("div",{className:"feedback-meta",children:[c.jsxs("span",{className:"scholar-name",children:["Scholar: ",I.scholar_name]}),c.jsx("span",{className:"feedback-date",children:new Date(I.created_at).toLocaleDateString()})]})]})]},O))})]})]}),_==="volunteer"&&c.jsxs("div",{className:"events-feedback-grid",children:[e.eventStats.filter(I=>!n||I.id===n).map(I=>{const O=I.feedback_details.filter(H=>H.user_role==="volunteer"&&(!a||H.rating===a));return O.length===0?null:c.jsxs("div",{className:"event-feedback-card volunteer-card",children:[c.jsx("h3",{children:I.title}),c.jsxs("p",{children:["Volunteer Feedback: ",O.length]}),c.jsx("div",{className:"feedback-list",children:O.map((H,ne)=>c.jsxs("div",{className:"feedback-item",children:[c.jsx("div",{className:"rating",children:"".repeat(H.rating)}),c.jsx("p",{children:H.comment}),c.jsxs("small",{children:[H.user_name," -",new Date(H.created_at).toLocaleDateString()]})]},ne))})]},`volunteer-${I.id}`)}).filter(Boolean),e.eventStats.filter(I=>!n||I.id===n).every(I=>!I.feedback_details.find(O=>O.user_role==="volunteer"&&(!a||O.rating===a)))&&c.jsx("div",{className:"no-feedback-container",children:c.jsx("p",{children:"No volunteer feedback found for the selected filters."})})]})]}):c.jsx("div",{className:"error-container",children:"No analytics data available"})},da=({element:e,allowedRoles:t})=>{const{user:n}=Sc();return t.includes((n==null?void 0:n.role)||"")?e:c.jsx(r3,{to:"/login"})},Tkt=xxe([{element:c.jsx(ZSe,{}),children:[{path:Nt.HOME,element:c.jsx(mTe,{})},{path:Nt.HELP,element:c.jsx(M8e,{})},{path:Nt.LIFE,element:c.jsx(F8e,{})},{path:Nt.COMMUNITY,element:c.jsx(L8e,{})},{path:Nt.CONTACT,element:c.jsx(tBe,{})},{path:Nt.EVENTS,element:c.jsx(y7e,{})},{path:Nt.EVENT_DETAILS,element:c.jsx(grt,{})},{path:Nt.GRADUATES,element:c.jsx(x7e,{})},{path:Nt.PARTNER,element:c.jsx(b7e,{})},{path:Nt.STORY,element:c.jsx(w7e,{})},{path:Nt.TEAM,element:c.jsx(S7e,{})},{path:Nt.VOLUNTEER_PROFILE,element:c.jsx(gH,{})},{path:Nt.VOLUNTEER_SETTINGS,element:c.jsx(D7e,{})},{path:Nt.FORUM,element:c.jsx(srt,{})},{path:Nt.MAP,element:c.jsx(_rt,{})},{path:Nt.STUDENTPROFILE,element:c.jsx(Ert,{})},{path:Nt.STUDENT_DETAILS,element:c.jsx(Trt,{})},{path:Nt.MY_SCHOLAR,element:c.jsx(Art,{})}]},{path:Nt.LOGIN,element:c.jsx(N8e,{})},{path:Nt.FORGOT_PASSWORD,element:c.jsx(M7e,{})},{path:Nt.REGISTER,element:c.jsx(j8e,{})},{path:"/verify-email/:token",element:c.jsx(O7e,{})},{path:"/reset-password/:token",element:c.jsx(I7e,{})},{element:c.jsx(L7e,{}),children:[{path:Nt.ADMIN.DASHBOARD,element:c.jsx(da,{element:c.jsx(zq,{}),allowedRoles:["admin","staff"]})},{path:Nt.ADMIN.MAP,element:c.jsx(da,{element:c.jsx(ykt,{}),allowedRoles:["admin","staff"]})},{path:"/users",element:c.jsx(da,{element:c.jsx(PG,{}),allowedRoles:["admin","staff"]})},{path:"/Scholars",element:c.jsx(da,{element:c.jsx(AG,{}),allowedRoles:["admin","staff"]})},{path:"/Sponsor",element:c.jsx(da,{element:c.jsx(GQe,{}),allowedRoles:["admin","staff"]})},{path:"/Event",element:c.jsx(da,{element:c.jsx(OG,{}),allowedRoles:["admin","staff"]})},{path:"/staff",element:c.jsx(da,{element:c.jsx(tJe,{}),allowedRoles:["admin"]})},{path:"/admin-settings",element:c.jsx(da,{element:c.jsx(nJe,{}),allowedRoles:["admin","staff"]})},{path:"/analytics",element:c.jsx(da,{element:c.jsx(Rnt,{}),allowedRoles:["admin"]})},{path:"/inventory",element:c.jsx(da,{element:c.jsx(drt,{}),allowedRoles:["admin","staff"]})},{path:"/bank",element:c.jsx(da,{element:c.jsx(prt,{}),allowedRoles:["admin"]})},{path:"/Contacts",element:c.jsx(da,{element:c.jsx(vrt,{}),allowedRoles:["admin","staff"]})},{path:Nt.ADMIN.EVENTFEEDBACK,element:c.jsx(da,{element:c.jsx(jkt,{}),allowedRoles:["admin","staff"]})},{path:Nt.ADMIN.FORUMPOLL,element:c.jsx(da,{element:c.jsx(wkt,{}),allowedRoles:["admin","staff"]})},{path:Nt.ADMIN.CMS,element:c.jsx(da,{element:c.jsx(xkt,{}),allowedRoles:["admin","staff"]})},{path:Nt.ADMIN.SCHOLARS.MANAGEMENT,element:c.jsx(da,{element:c.jsx(AG,{}),allowedRoles:["admin","staff"]})},{path:Nt.ADMIN.SCHOLARS.PROFILE,element:c.jsx(da,{element:c.jsx(Drt,{}),allowedRoles:["admin","staff"]})},{path:Nt.ADMIN.SCHOLARS.DONATIONS,element:c.jsx(da,{element:c.jsx(Ort,{}),allowedRoles:["admin","staff"]})},{path:Nt.ADMIN.SCHOLARS.LOCATION,element:c.jsx(da,{element:c.jsx(bkt,{}),allowedRoles:["admin","staff"]})},{path:Nt.ADMIN.SCHOLARS.REPORTS,element:c.jsx(da,{element:c.jsx(Mrt,{}),allowedRoles:["admin","staff"]})},{path:Nt.STAFF.DASHBOARD,element:c.jsx(da,{element:c.jsx(zq,{}),allowedRoles:["staff"]})},{path:Nt.STAFF.PROFILE,element:c.jsx(da,{element:c.jsx(gH,{}),allowedRoles:["staff"]})},{path:Nt.STAFF.VOLUNTEERS,element:c.jsx(da,{element:c.jsx(PG,{}),allowedRoles:["staff"]})},{path:Nt.STAFF.EVENTS,element:c.jsx(da,{element:c.jsx(OG,{}),allowedRoles:["staff"]})}]}]),Pkt=()=>c.jsx(kxe,{router:Tkt}),Akt="https://kmfi.netlify.app/";Nn.defaults.baseURL=Akt;console.log("API Base URL:",Nn.defaults.baseURL);Nn.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e});const Dkt=new Y0e;iO.createRoot(document.getElementById("root")).render(c.jsx(le.StrictMode,{children:c.jsx(X0e,{client:Dkt,children:c.jsx(Z0e,{children:c.jsx(Pkt,{})})})}));export{Mkt as a,Jne as b,Pg as c,UCe as d,sr as g,le as n,E as r};
//# sourceMappingURL=main.DH1c2V7A.js.map
